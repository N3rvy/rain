const hoe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerpolicy&&(h.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?h.credentials="include":u.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}};hoe();const J2={};function doe(d){J2.context=d}const foe=(d,t)=>d===t,goe=Symbol("solid-track"),N3={equals:foe};let JB=nW;const Eg={},wf=1,T3=2,qB={owned:null,cleanups:null,context:null,owner:null};var ao=null;let s_=null,fr=null,sA=null,fo=null,Qa=null,LD=0;function G6(d,t){const s=fr,l=ao,u=d.length===0?qB:{owned:null,cleanups:null,context:null,owner:t||l};ao=u,fr=null;try{return xD(()=>d(()=>ED(u)),!0)}finally{fr=s,ao=l}}function dS(d,t){t=t?Object.assign({},N3,t):N3;const s={value:d,observers:null,observerSlots:null,pending:Eg,comparator:t.equals||void 0},l=u=>(typeof u=="function"&&(u=u(s.pending!==Eg?s.pending:s.value)),DD(s,u));return[iW.bind(s),l]}function Vu(d,t,s){const l=ID(d,t,!1,wf);r_(l)}function eW(d,t,s){JB=woe;const l=ID(d,t,!1,wf);l.user=!0,Qa?Qa.push(l):r_(l)}function moe(d,t,s){s=s?Object.assign({},N3,s):N3;const l=ID(d,t,!0,0);return l.pending=Eg,l.observers=null,l.observerSlots=null,l.comparator=s.equals||void 0,r_(l),iW.bind(l)}function poe(d){if(sA)return d();let t;const s=sA=[];try{t=d()}finally{sA=null}return xD(()=>{for(let l=0;l<s.length;l+=1){const u=s[l];if(u.pending!==Eg){const h=u.pending;u.pending=Eg,DD(u,h)}}},!1),t}function Aw(d){let t,s=fr;return fr=null,t=d(),fr=s,t}function tW(d){eW(()=>Aw(d))}function Aoe(d){return ao===null||(ao.cleanups===null?ao.cleanups=[d]:ao.cleanups.push(d)),d}function iW(){const d=s_;if(this.sources&&(this.state||d)){const t=fo;fo=null,this.state===wf||d?r_(this):R3(this),fo=t}if(fr){const t=this.observers?this.observers.length:0;fr.sources?(fr.sources.push(this),fr.sourceSlots.push(t)):(fr.sources=[this],fr.sourceSlots=[t]),this.observers?(this.observers.push(fr),this.observerSlots.push(fr.sources.length-1)):(this.observers=[fr],this.observerSlots=[fr.sources.length-1])}return this.value}function DD(d,t,s){if(sA)return d.pending===Eg&&sA.push(d),d.pending=t,t;if(d.comparator&&d.comparator(d.value,t))return t;let l=!1;return d.value=t,d.observers&&d.observers.length&&xD(()=>{for(let u=0;u<d.observers.length;u+=1){const h=d.observers[u];l&&s_.disposed.has(h),(l&&!h.tState||!l&&!h.state)&&(h.pure?fo.push(h):Qa.push(h),h.observers&&sW(h)),l||(h.state=wf)}if(fo.length>1e6)throw fo=[],new Error},!1),t}function r_(d){if(!d.fn)return;ED(d);const t=ao,s=fr,l=LD;fr=ao=d,_oe(d,d.value,l),fr=s,ao=t}function _oe(d,t,s){let l;try{l=d.fn(t)}catch(u){rW(u)}(!d.updatedAt||d.updatedAt<=s)&&(d.observers&&d.observers.length?DD(d,l):d.value=l,d.updatedAt=s)}function ID(d,t,s,l=wf,u){const h={fn:d,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ao,context:null,pure:s};return ao===null||ao!==qB&&(ao.owned?ao.owned.push(h):ao.owned=[h]),h}function rA(d){const t=s_;if(d.state===0||t)return;if(d.state===T3||t)return R3(d);if(d.suspense&&Aw(d.suspense.inFallback))return d.suspense.effects.push(d);const s=[d];for(;(d=d.owner)&&(!d.updatedAt||d.updatedAt<LD);)(d.state||t)&&s.push(d);for(let l=s.length-1;l>=0;l--)if(d=s[l],d.state===wf||t)r_(d);else if(d.state===T3||t){const u=fo;fo=null,R3(d,s[0]),fo=u}}function xD(d,t){if(fo)return d();let s=!1;t||(fo=[]),Qa?s=!0:Qa=[],LD++;try{const l=d();return Coe(s),l}catch(l){rW(l)}finally{fo=null,s||(Qa=null)}}function Coe(d){fo&&(nW(fo),fo=null),!d&&(Qa.length?poe(()=>{JB(Qa),Qa=null}):Qa=null)}function nW(d){for(let t=0;t<d.length;t++)rA(d[t])}function woe(d){let t,s=0;for(t=0;t<d.length;t++){const u=d[t];u.user?d[s++]=u:rA(u)}J2.context&&doe();const l=d.length;for(t=0;t<s;t++)rA(d[t]);for(t=l;t<d.length;t++)rA(d[t])}function R3(d,t){const s=s_;d.state=0;for(let l=0;l<d.sources.length;l+=1){const u=d.sources[l];u.sources&&(u.state===wf||s?u!==t&&rA(u):(u.state===T3||s)&&R3(u,t))}}function sW(d){const t=s_;for(let s=0;s<d.observers.length;s+=1){const l=d.observers[s];(!l.state||t)&&(l.state=T3,l.pure?fo.push(l):Qa.push(l),l.observers&&sW(l))}}function ED(d){let t;if(d.sources)for(;d.sources.length;){const s=d.sources.pop(),l=d.sourceSlots.pop(),u=s.observers;if(u&&u.length){const h=u.pop(),f=s.observerSlots.pop();l<u.length&&(h.sourceSlots[f]=l,u[l]=h,s.observerSlots[l]=f)}}if(d.owned){for(t=0;t<d.owned.length;t++)ED(d.owned[t]);d.owned=null}if(d.cleanups){for(t=0;t<d.cleanups.length;t++)d.cleanups[t]();d.cleanups=null}d.state=0,d.context=null}function rW(d){throw d}const voe=Symbol("fallback");function nM(d){for(let t=0;t<d.length;t++)d[t]()}function koe(d,t,s={}){let l=[],u=[],h=[],f=0,m=t.length>1?[]:null;return Aoe(()=>nM(h)),()=>{let A=d()||[],C,w;return A[goe],Aw(()=>{let D=A.length,I,N,R,O,W,B,z,G,K;if(D===0)f!==0&&(nM(h),h=[],l=[],u=[],f=0,m&&(m=[])),s.fallback&&(l=[voe],u[0]=G6(q=>(h[0]=q,s.fallback())),f=1);else if(f===0){for(u=new Array(D),w=0;w<D;w++)l[w]=A[w],u[w]=G6(k);f=D}else{for(R=new Array(D),O=new Array(D),m&&(W=new Array(D)),B=0,z=Math.min(f,D);B<z&&l[B]===A[B];B++);for(z=f-1,G=D-1;z>=B&&G>=B&&l[z]===A[G];z--,G--)R[G]=u[z],O[G]=h[z],m&&(W[G]=m[z]);for(I=new Map,N=new Array(G+1),w=G;w>=B;w--)K=A[w],C=I.get(K),N[w]=C===void 0?-1:C,I.set(K,w);for(C=B;C<=z;C++)K=l[C],w=I.get(K),w!==void 0&&w!==-1?(R[w]=u[C],O[w]=h[C],m&&(W[w]=m[C]),w=N[w],I.set(K,w)):h[C]();for(w=B;w<D;w++)w in R?(u[w]=R[w],h[w]=O[w],m&&(m[w]=W[w],m[w](w))):u[w]=G6(k);u=u.slice(0,f=D),l=A.slice(0)}return u});function k(D){if(h[w]=D,m){const[I,N]=dS(w);return m[w]=N,t(A[w],I)}return t(A[w])}}}function VA(d,t){return Aw(()=>d(t||{}))}function boe(d){const t="fallback"in d&&{fallback:()=>d.fallback};return moe(koe(()=>d.each,d.children,t||void 0))}function Soe(d,t,s){let l=s.length,u=t.length,h=l,f=0,m=0,A=t[u-1].nextSibling,C=null;for(;f<u||m<h;){if(t[f]===s[m]){f++,m++;continue}for(;t[u-1]===s[h-1];)u--,h--;if(u===f){const w=h<l?m?s[m-1].nextSibling:s[h-m]:A;for(;m<h;)d.insertBefore(s[m++],w)}else if(h===m)for(;f<u;)(!C||!C.has(t[f]))&&t[f].remove(),f++;else if(t[f]===s[h-1]&&s[m]===t[u-1]){const w=t[--u].nextSibling;d.insertBefore(s[m++],t[f++].nextSibling),d.insertBefore(s[--h],w),t[u]=s[h]}else{if(!C){C=new Map;let k=m;for(;k<h;)C.set(s[k],k++)}const w=C.get(t[f]);if(w!=null)if(m<w&&w<h){let k=f,D=1,I;for(;++k<u&&k<h&&!((I=C.get(t[k]))==null||I!==w+D);)D++;if(D>w-m){const N=t[f];for(;m<w;)d.insertBefore(s[m++],N)}else d.replaceChild(s[m++],t[f++])}else f++;else t[f++].remove()}}}const sM="_$DX_DELEGATE";function yoe(d,t,s){let l;return G6(u=>{l=u,t===document?d():Ng(t,d(),t.firstChild?null:void 0,s)}),()=>{l(),t.textContent=""}}function o_(d,t,s){const l=document.createElement("template");l.innerHTML=d;let u=l.content.firstChild;return s&&(u=u.firstChild),u}function Loe(d,t=window.document){const s=t[sM]||(t[sM]=new Set);for(let l=0,u=d.length;l<u;l++){const h=d[l];s.has(h)||(s.add(h),t.addEventListener(h,Ioe))}}function Doe(d,t,s={}){const l=Object.keys(t||{}),u=Object.keys(s);let h,f;for(h=0,f=u.length;h<f;h++){const m=u[h];!m||m==="undefined"||t[m]||(rM(d,m,!1),delete s[m])}for(h=0,f=l.length;h<f;h++){const m=l[h],A=!!t[m];!m||m==="undefined"||s[m]===A||!A||(rM(d,m,!0),s[m]=A)}return s}function Ng(d,t,s,l){if(s!==void 0&&!l&&(l=[]),typeof t!="function")return M3(d,t,l,s);Vu(u=>M3(d,t(),u,s),l)}function rM(d,t,s){const l=t.trim().split(/\s+/);for(let u=0,h=l.length;u<h;u++)d.classList.toggle(l[u],s)}function Ioe(d){const t=`$$${d.type}`;let s=d.composedPath&&d.composedPath()[0]||d.target;for(d.target!==s&&Object.defineProperty(d,"target",{configurable:!0,value:s}),Object.defineProperty(d,"currentTarget",{configurable:!0,get(){return s||document}}),J2.registry&&!J2.done&&(J2.done=!0,document.querySelectorAll("[id^=pl-]").forEach(l=>l.remove()));s!==null;){const l=s[t];if(l&&!s.disabled){const u=s[`${t}Data`];if(u!==void 0?l(u,d):l(d),d.cancelBubble)return}s=s.host&&s.host!==s&&s.host instanceof Node?s.host:s.parentNode}}function M3(d,t,s,l,u){for(J2.context&&!s&&(s=[...d.childNodes]);typeof s=="function";)s=s();if(t===s)return s;const h=typeof t,f=l!==void 0;if(d=f&&s[0]&&s[0].parentNode||d,h==="string"||h==="number"){if(J2.context)return s;if(h==="number"&&(t=t.toString()),f){let m=s[0];m&&m.nodeType===3?m.data=t:m=document.createTextNode(t),s=_1(d,s,l,m)}else s!==""&&typeof s=="string"?s=d.firstChild.data=t:s=d.textContent=t}else if(t==null||h==="boolean"){if(J2.context)return s;s=_1(d,s,l)}else{if(h==="function")return Vu(()=>{let m=t();for(;typeof m=="function";)m=m();s=M3(d,m,s,l)}),()=>s;if(Array.isArray(t)){const m=[];if(fS(m,t,u))return Vu(()=>s=M3(d,m,s,l,!0)),()=>s;if(J2.context){for(let A=0;A<m.length;A++)if(m[A].parentNode)return s=m}if(m.length===0){if(s=_1(d,s,l),f)return s}else Array.isArray(s)?s.length===0?oM(d,m,l):Soe(d,s,m):(s&&_1(d),oM(d,m));s=m}else if(t instanceof Node){if(J2.context&&t.parentNode)return s=f?[t]:t;if(Array.isArray(s)){if(f)return s=_1(d,s,l,t);_1(d,s,null,t)}else s==null||s===""||!d.firstChild?d.appendChild(t):d.replaceChild(t,d.firstChild);s=t}}return s}function fS(d,t,s){let l=!1;for(let u=0,h=t.length;u<h;u++){let f=t[u],m;if(f instanceof Node)d.push(f);else if(!(f==null||f===!0||f===!1))if(Array.isArray(f))l=fS(d,f)||l;else if((m=typeof f)=="string")d.push(document.createTextNode(f));else if(m==="function")if(s){for(;typeof f=="function";)f=f();l=fS(d,Array.isArray(f)?f:[f])||l}else d.push(f),l=!0;else d.push(document.createTextNode(f.toString()))}return l}function oM(d,t,s){for(let l=0,u=t.length;l<u;l++)d.insertBefore(t[l],s)}function _1(d,t,s,l){if(s===void 0)return d.textContent="";const u=l||document.createTextNode("");if(t.length){let h=!1;for(let f=t.length-1;f>=0;f--){const m=t[f];if(u!==m){const A=m.parentNode===d;!h&&!f?A?d.replaceChild(u,m):d.insertBefore(u,s):A&&m.remove()}else h=!0}}else d.insertBefore(u,s);return[u]}const xoe="_logo_1nihm_1",Eoe="_header_1nihm_13",Noe="_link_1nihm_35";var Toe={logo:xoe,"logo-spin":"_logo-spin_1nihm_1",header:Eoe,link:Noe};function Roe(d,t){let s;return t.length===0?s=d:s=d.replace(/\{(\d+)\}/g,function(l,u){const h=u[0];return typeof t[h]<"u"?t[h]:l}),s}function E(d,t,...s){return Roe(t,s)}var q5;const j6="en";let P3=!1,O3=!1,Z6=!1,oW=!1,ND=!1,TD=!1,R8,Q6=j6,Moe,lu;const Zn=typeof self=="object"?self:typeof global=="object"?global:{};let Ur;typeof Zn.vscode<"u"&&typeof Zn.vscode.process<"u"?Ur=Zn.vscode.process:typeof process<"u"&&(Ur=process);const Poe=typeof((q5=Ur?.versions)===null||q5===void 0?void 0:q5.electron)=="string",Ooe=Poe&&Ur?.type==="renderer";if(typeof navigator=="object"&&!Ooe)lu=navigator.userAgent,P3=lu.indexOf("Windows")>=0,O3=lu.indexOf("Macintosh")>=0,TD=(lu.indexOf("Macintosh")>=0||lu.indexOf("iPad")>=0||lu.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Z6=lu.indexOf("Linux")>=0,ND=!0,R8=navigator.language,Q6=R8;else if(typeof Ur=="object"){P3=Ur.platform==="win32",O3=Ur.platform==="darwin",Z6=Ur.platform==="linux",Z6&&!!Ur.env.SNAP&&Ur.env.SNAP_REVISION,Ur.env.CI||Ur.env.BUILD_ARTIFACTSTAGINGDIRECTORY,R8=j6,Q6=j6;const d=Ur.env.VSCODE_NLS_CONFIG;if(d)try{const t=JSON.parse(d),s=t.availableLanguages["*"];R8=t.locale,Q6=s||j6,Moe=t._translationsConfigFile}catch{}oW=!0}else console.error("Unable to resolve platform.");const Gs=P3,Jt=O3,Cr=Z6,Xa=oW,ch=ND,Foe=ND&&typeof Zn.importScripts=="function",t2=TD,g0=lu,Boe=Q6,lW=(()=>{if(typeof Zn.postMessage=="function"&&!Zn.importScripts){let d=[];Zn.addEventListener("message",s=>{if(s.data&&s.data.vscodeScheduleAsyncWork)for(let l=0,u=d.length;l<u;l++){const h=d[l];if(h.id===s.data.vscodeScheduleAsyncWork){d.splice(l,1),h.callback();return}}});let t=0;return s=>{const l=++t;d.push({id:l,callback:s}),Zn.postMessage({vscodeScheduleAsyncWork:l},"*")}}return d=>setTimeout(d)})(),yl=O3||TD?2:P3?1:3;let lM=!0,aM=!1;function aW(){if(!aM){aM=!0;const d=new Uint8Array(2);d[0]=1,d[1]=2,lM=new Uint16Array(d.buffer)[0]===(2<<8)+1}return lM}const cW=!!(g0&&g0.indexOf("Chrome")>=0),Woe=!!(g0&&g0.indexOf("Firefox")>=0),Voe=!!(!cW&&g0&&g0.indexOf("Safari")>=0),Hoe=!!(g0&&g0.indexOf("Edg/")>=0);g0&&g0.indexOf("Android")>=0;const uW="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Uoe(d=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const s of uW)d.indexOf(s)>=0||(t+="\\"+s);return t+="\\s]+)",new RegExp(t,"g")}const RD=Uoe();function hW(d){let t=RD;if(d&&d instanceof RegExp)if(d.global)t=d;else{let s="g";d.ignoreCase&&(s+="i"),d.multiline&&(s+="m"),d.unicode&&(s+="u"),t=new RegExp(d.source,s)}return t.lastIndex=0,t}const zoe={maxLen:1e3,windowSize:15,timeBudget:150};function HA(d,t,s,l,u=zoe){if(s.length>u.maxLen){let C=d-u.maxLen/2;return C<0?C=0:l+=C,s=s.substring(C,d+u.maxLen/2),HA(d,t,s,l,u)}const h=Date.now(),f=d-1-l;let m=-1,A=null;for(let C=1;!(Date.now()-h>=u.timeBudget);C++){const w=f-u.windowSize*C;t.lastIndex=Math.max(0,w);const k=Goe(t,s,f,m);if(!k&&A||(A=k,w<=0))break;m=w}if(A){const C={word:A[0],startColumn:l+1+A.index,endColumn:l+1+A.index+A[0].length};return t.lastIndex=0,C}return null}function Goe(d,t,s,l){let u;for(;u=d.exec(t);){const h=u.index||0;if(h<=s&&d.lastIndex>=s)return u;if(l>0&&h>l)return null}return null}function kl(d,t=0){return d[d.length-(1+t)]}function joe(d){if(d.length===0)throw new Error("Invalid tail call");return[d.slice(0,d.length-1),d[d.length-1]]}function cl(d,t,s=(l,u)=>l===u){if(d===t)return!0;if(!d||!t||d.length!==t.length)return!1;for(let l=0,u=d.length;l<u;l++)if(!s(d[l],t[l]))return!1;return!0}function MD(d,t,s){let l=0,u=d.length-1;for(;l<=u;){const h=(l+u)/2|0,f=s(d[h],t);if(f<0)l=h+1;else if(f>0)u=h-1;else return h}return-(l+1)}function dW(d,t){let s=0,l=d.length;if(l===0)return 0;for(;s<l;){const u=Math.floor((s+l)/2);t(d[u])?l=u:s=u+1}return s}function gS(d,t,s){if(d=d|0,d>=t.length)throw new TypeError("invalid index");let l=t[Math.floor(t.length*Math.random())],u=[],h=[],f=[];for(let m of t){const A=s(m,l);A<0?u.push(m):A>0?h.push(m):f.push(m)}return d<u.length?gS(d,u,s):d<u.length+f.length?f[0]:gS(d-(u.length+f.length),h,s)}function cM(d,t){const s=[];let l;for(const u of d.slice(0).sort(t))!l||t(l[0],u)!==0?(l=[u],s.push(l)):l.push(u);return s}function vf(d){return d.filter(t=>!!t)}function fW(d){return!Array.isArray(d)||d.length===0}function Mo(d){return Array.isArray(d)&&d.length>0}function Hu(d,t=s=>s){const s=new Set;return d.filter(l=>{const u=t(l);return s.has(u)?!1:(s.add(u),!0)})}function Zoe(d,t){const s=Qoe(d,t);if(s!==-1)return d[s]}function Qoe(d,t){for(let s=d.length-1;s>=0;s--){const l=d[s];if(t(l))return s}return-1}function gW(d,t){return d.length>0?d[0]:t}function PD(d){return[].concat(...d)}function Hr(d,t){let s=typeof t=="number"?d:0;typeof t=="number"?s=d:(s=0,t=d);const l=[];if(s<=t)for(let u=s;u<t;u++)l.push(u);else for(let u=s;u>t;u--)l.push(u);return l}function _w(d,t,s){const l=d.slice(0,t),u=d.slice(t);return l.concat(s,u)}function eb(d,t){const s=d.indexOf(t);s>-1&&(d.splice(s,1),d.unshift(t))}function M8(d,t){const s=d.indexOf(t);s>-1&&(d.splice(s,1),d.push(t))}function OD(d){return Array.isArray(d)?d:[d]}function Yoe(d,t,s){const l=mW(d,t),u=d.length,h=s.length;d.length=u+h;for(let f=u-1;f>=l;f--)d[f+h]=d[f];for(let f=0;f<h;f++)d[f+l]=s[f]}function uM(d,t,s,l){const u=mW(d,t),h=d.splice(u,s);return Yoe(d,u,l),h}function mW(d,t){return t<0?Math.max(t+d.length,0):Math.min(t,d.length)}function Y6(d,t){return(s,l)=>t(d(s),d(l))}const $oe=(d,t)=>d-t;function pW(d,t){if(d.length===0)return;let s=d[0];for(let l=1;l<d.length;l++){const u=d[l];t(u,s)>0&&(s=u)}return s}function Koe(d,t){if(d.length===0)return;let s=d[0];for(let l=1;l<d.length;l++){const u=d[l];t(u,s)>=0&&(s=u)}return s}function Xoe(d,t){return pW(d,(s,l)=>-t(s,l))}class Tg{constructor(t){this.items=t,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(t){let s=this.firstIdx;for(;s<this.items.length&&t(this.items[s]);)s++;const l=s===this.firstIdx?null:this.items.slice(this.firstIdx,s);return this.firstIdx=s,l}takeFromEndWhile(t){let s=this.lastIdx;for(;s>=0&&t(this.items[s]);)s--;const l=s===this.lastIdx?null:this.items.slice(s+1,this.lastIdx+1);return this.lastIdx=s,l}peek(){return this.items[this.firstIdx]}dequeue(){const t=this.items[this.firstIdx];return this.firstIdx++,t}takeCount(t){const s=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,s}}function AW(d){return Array.isArray(d)}function Ol(d){return typeof d=="string"}function ho(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)&&!(d instanceof RegExp)&&!(d instanceof Date)}function Od(d){return typeof d=="number"&&!isNaN(d)}function hM(d){return!!d&&typeof d[Symbol.iterator]=="function"}function _W(d){return d===!0||d===!1}function No(d){return typeof d>"u"}function Joe(d){return!tl(d)}function tl(d){return No(d)||d===null}function Zi(d,t){if(!d)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function P8(d){if(tl(d))throw new Error("Assertion Failed: argument is undefined or null");return d}function F3(d){return typeof d=="function"}function qoe(d,t){const s=Math.min(d.length,t.length);for(let l=0;l<s;l++)ele(d[l],t[l])}function ele(d,t){if(Ol(t)){if(typeof d!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(F3(t)){try{if(d instanceof t)return}catch{}if(!tl(d)&&d.constructor===t||t.length===1&&t.call(void 0,d)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function tle(d){let t=[],s=Object.getPrototypeOf(d);for(;Object.prototype!==s;)t=t.concat(Object.getOwnPropertyNames(s)),s=Object.getPrototypeOf(s);return t}function FD(d){const t=[];for(const s of tle(d))typeof d[s]=="function"&&t.push(s);return t}function ile(d,t){const s=u=>function(){const h=Array.prototype.slice.call(arguments,0);return t(u,h)};let l={};for(const u of d)l[u]=s(u);return l}function To(d){return d===null?void 0:d}function BD(d,t="Unreachable"){throw new Error(t)}function oc(d){if(!d||typeof d!="object"||d instanceof RegExp)return d;const t=Array.isArray(d)?[]:{};return Object.keys(d).forEach(s=>{d[s]&&typeof d[s]=="object"?t[s]=oc(d[s]):t[s]=d[s]}),t}function nle(d){if(!d||typeof d!="object")return d;const t=[d];for(;t.length>0;){const s=t.shift();Object.freeze(s);for(const l in s)if(CW.call(s,l)){const u=s[l];typeof u=="object"&&!Object.isFrozen(u)&&t.push(u)}}return d}const CW=Object.prototype.hasOwnProperty;function sle(d,t){return mS(d,t,new Set)}function mS(d,t,s){if(tl(d))return d;const l=t(d);if(typeof l<"u")return l;if(AW(d)){const u=[];for(const h of d)u.push(mS(h,t,s));return u}if(ho(d)){if(s.has(d))throw new Error("Cannot clone recursive data-structure");s.add(d);const u={};for(let h in d)CW.call(d,h)&&(u[h]=mS(d[h],t,s));return s.delete(d),u}return d}function S0(d,t,s=!0){return ho(d)?(ho(t)&&Object.keys(t).forEach(l=>{l in d?s&&(ho(d[l])&&ho(t[l])?S0(d[l],t[l],s):d[l]=t[l]):d[l]=t[l]}),d):t}function Tl(d,t){if(d===t)return!0;if(d==null||t===null||t===void 0||typeof d!=typeof t||typeof d!="object"||Array.isArray(d)!==Array.isArray(t))return!1;let s,l;if(Array.isArray(d)){if(d.length!==t.length)return!1;for(s=0;s<d.length;s++)if(!Tl(d[s],t[s]))return!1}else{const u=[];for(l in d)u.push(l);u.sort();const h=[];for(l in t)h.push(l);if(h.sort(),!Tl(u,h))return!1;for(s=0;s<u.length;s++)if(!Tl(d[u[s]],t[u[s]]))return!1}return!0}function M2(d,t,s){const l=t(d);return typeof l>"u"?s:l}const Mr={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},au=8;class wW{constructor(t){this._values=t}hasChanged(t){return this._values[t]}}class vW{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class ks{constructor(t,s,l,u){this.id=t,this.name=s,this.defaultValue=l,this.schema=u}applyUpdate(t,s){return Cw(t,s)}compute(t,s,l){return l}}class oA{constructor(t,s){this.newValue=t,this.didChange=s}}function Cw(d,t){if(typeof d!="object"||typeof t!="object"||!d||!t)return new oA(t,d!==t);if(Array.isArray(d)||Array.isArray(t)){const l=Array.isArray(d)&&Array.isArray(t)&&cl(d,t);return new oA(t,l)}let s=!1;for(const l in t)if(t.hasOwnProperty(l)){const u=Cw(d[l],t[l]);u.didChange&&(d[l]=u.newValue,s=!0)}return new oA(d,s)}class Am{constructor(t){this.schema=void 0,this.id=t,this.name="_never_",this.defaultValue=void 0}applyUpdate(t,s){return Cw(t,s)}validate(t){return this.defaultValue}}class kf{constructor(t,s,l,u){this.id=t,this.name=s,this.defaultValue=l,this.schema=u}applyUpdate(t,s){return Cw(t,s)}validate(t){return typeof t>"u"?this.defaultValue:t}compute(t,s,l){return l}}function bt(d,t){return typeof d>"u"?t:d==="false"?!1:Boolean(d)}class ui extends kf{constructor(t,s,l,u=void 0){typeof u<"u"&&(u.type="boolean",u.default=l),super(t,s,l,u)}validate(t){return bt(t,this.defaultValue)}}function pS(d,t,s,l){if(typeof d>"u")return t;let u=parseInt(d,10);return isNaN(u)?t:(u=Math.max(s,u),u=Math.min(l,u),u|0)}class cn extends kf{constructor(t,s,l,u,h,f=void 0){typeof f<"u"&&(f.type="integer",f.default=l,f.minimum=u,f.maximum=h),super(t,s,l,f),this.minimum=u,this.maximum=h}static clampedInt(t,s,l,u){return pS(t,s,l,u)}validate(t){return cn.clampedInt(t,this.defaultValue,this.minimum,this.maximum)}}class s0 extends kf{constructor(t,s,l,u,h){typeof h<"u"&&(h.type="number",h.default=l),super(t,s,l,h),this.validationFn=u}static clamp(t,s,l){return t<s?s:t>l?l:t}static float(t,s){if(typeof t=="number")return t;if(typeof t>"u")return s;const l=parseFloat(t);return isNaN(l)?s:l}validate(t){return this.validationFn(s0.float(t,this.defaultValue))}}class xo extends kf{static string(t,s){return typeof t!="string"?s:t}constructor(t,s,l,u=void 0){typeof u<"u"&&(u.type="string",u.default=l),super(t,s,l,u)}validate(t){return xo.string(t,this.defaultValue)}}function co(d,t,s){return typeof d!="string"||s.indexOf(d)===-1?t:d}class fs extends kf{constructor(t,s,l,u,h=void 0){typeof h<"u"&&(h.type="string",h.enum=u,h.default=l),super(t,s,l,h),this._allowedValues=u}validate(t){return co(t,this.defaultValue,this._allowedValues)}}class kp extends ks{constructor(t,s,l,u,h,f,m=void 0){typeof m<"u"&&(m.type="string",m.enum=h,m.default=u),super(t,s,l,m),this._allowedValues=h,this._convert=f}validate(t){return typeof t!="string"?this.defaultValue:this._allowedValues.indexOf(t)===-1?this.defaultValue:this._convert(t)}}function rle(d){switch(d){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class ole extends ks{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[E("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),E("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),E("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:E("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(t){switch(t){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(t,s,l){return l===0?t.accessibilitySupport:l}}class lle extends ks{constructor(){const t={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",t,{"editor.comments.insertSpace":{type:"boolean",default:t.insertSpace,description:E("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:t.ignoreEmptyLines,description:E("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{insertSpace:bt(s.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:bt(s.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function ale(d){switch(d){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Us;(function(d){d[d.Line=1]="Line",d[d.Block=2]="Block",d[d.Underline=3]="Underline",d[d.LineThin=4]="LineThin",d[d.BlockOutline=5]="BlockOutline",d[d.UnderlineThin=6]="UnderlineThin"})(Us||(Us={}));function cle(d){switch(d){case"line":return Us.Line;case"block":return Us.Block;case"underline":return Us.Underline;case"line-thin":return Us.LineThin;case"block-outline":return Us.BlockOutline;case"underline-thin":return Us.UnderlineThin}}class ule extends Am{constructor(){super(128)}compute(t,s,l){const u=["monaco-editor"];return s.get(33)&&u.push(s.get(33)),t.extraEditorClassName&&u.push(t.extraEditorClassName),s.get(66)==="default"?u.push("mouse-default"):s.get(66)==="copy"&&u.push("mouse-copy"),s.get(100)&&u.push("showUnused"),s.get(126)&&u.push("showDeprecated"),u.join(" ")}}class hle extends ui{constructor(){super(32,"emptySelectionClipboard",!0,{description:E("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(t,s,l){return l&&t.emptySelectionClipboard}}class dle extends ks{constructor(){const t={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",t,{"editor.find.cursorMoveOnType":{type:"boolean",default:t.cursorMoveOnType,description:E("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:t.seedSearchStringFromSelection,enumDescriptions:[E("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),E("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),E("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:E("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:t.autoFindInSelection,enumDescriptions:[E("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),E("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),E("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:E("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:t.globalFindClipboard,description:E("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Jt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:t.addExtraSpaceOnTop,description:E("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:t.loop,description:E("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{cursorMoveOnType:bt(s.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof t.seedSearchStringFromSelection=="boolean"?t.seedSearchStringFromSelection?"always":"never":co(s.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof t.autoFindInSelection=="boolean"?t.autoFindInSelection?"always":"never":co(s.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:bt(s.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:bt(s.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:bt(s.loop,this.defaultValue.loop)}}}class il extends ks{constructor(){super(45,"fontLigatures",il.OFF,{anyOf:[{type:"boolean",description:E("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:E("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:E("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(t){return typeof t>"u"?this.defaultValue:typeof t=="string"?t==="false"?il.OFF:t==="true"?il.ON:t:Boolean(t)?il.ON:il.OFF}}il.OFF='"liga" off, "calt" off';il.ON='"liga" on, "calt" on';class fle extends Am{constructor(){super(44)}compute(t,s,l){return t.fontInfo}}class gle extends kf{constructor(){super(46,"fontSize",Or.fontSize,{type:"number",minimum:6,maximum:100,default:Or.fontSize,description:E("fontSize","Controls the font size in pixels.")})}validate(t){const s=s0.float(t,this.defaultValue);return s===0?Or.fontSize:s0.clamp(s,6,100)}compute(t,s,l){return t.fontInfo.fontSize}}class q2 extends ks{constructor(){super(47,"fontWeight",Or.fontWeight,{anyOf:[{type:"number",minimum:q2.MINIMUM_VALUE,maximum:q2.MAXIMUM_VALUE,errorMessage:E("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:q2.SUGGESTION_VALUES}],default:Or.fontWeight,description:E("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(t){return t==="normal"||t==="bold"?t:String(cn.clampedInt(t,Or.fontWeight,q2.MINIMUM_VALUE,q2.MAXIMUM_VALUE))}}q2.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];q2.MINIMUM_VALUE=1;q2.MAXIMUM_VALUE=1e3;class mle extends ks{constructor(){const t={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},s={type:"string",enum:["peek","gotoAndPeek","goto"],default:t.multiple,enumDescriptions:[E("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),E("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),E("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},l=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",t,{"editor.gotoLocation.multiple":{deprecationMessage:E("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:E("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},s),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:E("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},s),"editor.gotoLocation.multipleDeclarations":Object.assign({description:E("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},s),"editor.gotoLocation.multipleImplementations":Object.assign({description:E("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},s),"editor.gotoLocation.multipleReferences":Object.assign({description:E("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},s),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:t.alternativeDefinitionCommand,enum:l,description:E("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:t.alternativeTypeDefinitionCommand,enum:l,description:E("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:t.alternativeDeclarationCommand,enum:l,description:E("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:t.alternativeImplementationCommand,enum:l,description:E("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:t.alternativeReferenceCommand,enum:l,description:E("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(t){var s,l,u,h,f;if(!t||typeof t!="object")return this.defaultValue;const m=t;return{multiple:co(m.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(s=m.multipleDefinitions)!==null&&s!==void 0?s:co(m.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(l=m.multipleTypeDefinitions)!==null&&l!==void 0?l:co(m.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(u=m.multipleDeclarations)!==null&&u!==void 0?u:co(m.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(h=m.multipleImplementations)!==null&&h!==void 0?h:co(m.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(f=m.multipleReferences)!==null&&f!==void 0?f:co(m.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:xo.string(m.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:xo.string(m.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:xo.string(m.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:xo.string(m.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:xo.string(m.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class ple extends ks{constructor(){const t={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",t,{"editor.hover.enabled":{type:"boolean",default:t.enabled,description:E("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:t.delay,minimum:0,maximum:1e4,description:E("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:t.sticky,description:E("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:t.above,description:E("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{enabled:bt(s.enabled,this.defaultValue.enabled),delay:cn.clampedInt(s.delay,this.defaultValue.delay,0,1e4),sticky:bt(s.sticky,this.defaultValue.sticky),above:bt(s.above,this.defaultValue.above)}}}class cg extends Am{constructor(){super(131)}compute(t,s,l){return cg.computeLayout(s,{memory:t.memory,outerWidth:t.outerWidth,outerHeight:t.outerHeight,isDominatedByLongLines:t.isDominatedByLongLines,lineHeight:t.fontInfo.lineHeight,viewLineCount:t.viewLineCount,lineNumbersDigitCount:t.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:t.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:t.fontInfo.maxDigitWidth,pixelRatio:t.pixelRatio})}static computeContainedMinimapLineCount(t){const s=t.height/t.lineHeight,l=t.scrollBeyondLastLine?s-1:0,u=(t.viewLineCount+l)/(t.pixelRatio*t.height),h=Math.floor(t.viewLineCount/u);return{typicalViewportLineCount:s,extraLinesBeyondLastLine:l,desiredRatio:u,minimapLineCount:h}}static _computeMinimapLayout(t,s){const l=t.outerWidth,u=t.outerHeight,h=t.pixelRatio;if(!t.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(h*u),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:u};const f=s.stableMinimapLayoutInput,m=f&&t.outerHeight===f.outerHeight&&t.lineHeight===f.lineHeight&&t.typicalHalfwidthCharacterWidth===f.typicalHalfwidthCharacterWidth&&t.pixelRatio===f.pixelRatio&&t.scrollBeyondLastLine===f.scrollBeyondLastLine&&t.minimap.enabled===f.minimap.enabled&&t.minimap.side===f.minimap.side&&t.minimap.size===f.minimap.size&&t.minimap.showSlider===f.minimap.showSlider&&t.minimap.renderCharacters===f.minimap.renderCharacters&&t.minimap.maxColumn===f.minimap.maxColumn&&t.minimap.scale===f.minimap.scale&&t.verticalScrollbarWidth===f.verticalScrollbarWidth&&t.isViewportWrapping===f.isViewportWrapping,A=t.lineHeight,C=t.typicalHalfwidthCharacterWidth,w=t.scrollBeyondLastLine,k=t.minimap.renderCharacters;let D=h>=2?Math.round(t.minimap.scale*2):t.minimap.scale;const I=t.minimap.maxColumn,N=t.minimap.size,R=t.minimap.side,O=t.verticalScrollbarWidth,W=t.viewLineCount,B=t.remainingWidth,z=t.isViewportWrapping,G=k?2:3;let K=Math.floor(h*u);const q=K/h;let Y=!1,J=!1,ne=G*D,Ae=D/h,ge=1;if(N==="fill"||N==="fit"){const{typicalViewportLineCount:Dt,extraLinesBeyondLastLine:Vt,desiredRatio:fn,minimapLineCount:Vi}=cg.computeContainedMinimapLineCount({viewLineCount:W,scrollBeyondLastLine:w,height:u,lineHeight:A,pixelRatio:h});if(W/Vi>1)Y=!0,J=!0,D=1,ne=1,Ae=D/h;else{let gt=!1,xi=D+1;if(N==="fit"){const kr=Math.ceil((W+Vt)*ne);z&&m&&B<=s.stableFitRemainingWidth?(gt=!0,xi=s.stableFitMaxMinimapScale):gt=kr>K}if(N==="fill"||gt){Y=!0;const kr=D;ne=Math.min(A*h,Math.max(1,Math.floor(1/fn))),z&&m&&B<=s.stableFitRemainingWidth&&(xi=s.stableFitMaxMinimapScale),D=Math.min(xi,Math.max(1,Math.floor(ne/G))),D>kr&&(ge=Math.min(2,D/kr)),Ae=D/h/ge,K=Math.ceil(Math.max(Dt,W+Vt)*ne),z?(s.stableMinimapLayoutInput=t,s.stableFitRemainingWidth=B,s.stableFitMaxMinimapScale=D):(s.stableMinimapLayoutInput=null,s.stableFitRemainingWidth=0)}}}const Te=Math.floor(I*Ae),Me=Math.min(Te,Math.max(0,Math.floor((B-O-2)*Ae/(C+Ae)))+au);let ct=Math.floor(h*Me);const st=ct/h;ct=Math.floor(ct*ge);const kt=k?1:2,Et=R==="left"?0:l-Me-O;return{renderMinimap:kt,minimapLeft:Et,minimapWidth:Me,minimapHeightIsEditorHeight:Y,minimapIsSampling:J,minimapScale:D,minimapLineHeight:ne,minimapCanvasInnerWidth:ct,minimapCanvasInnerHeight:K,minimapCanvasOuterWidth:st,minimapCanvasOuterHeight:q}}static computeLayout(t,s){const l=s.outerWidth|0,u=s.outerHeight|0,h=s.lineHeight|0,f=s.lineNumbersDigitCount|0,m=s.typicalHalfwidthCharacterWidth,A=s.maxDigitWidth,C=s.pixelRatio,w=s.viewLineCount,k=t.get(123),D=k==="inherit"?t.get(122):k,I=D==="inherit"?t.get(118):D,N=t.get(121),R=t.get(2),O=s.isDominatedByLongLines,W=t.get(50),B=t.get(60).renderType!==0,z=t.get(61),G=t.get(94),K=t.get(65),q=t.get(92),Y=q.verticalScrollbarSize,J=q.verticalHasArrows,ne=q.arrowSize,Ae=q.horizontalScrollbarSize,ge=t.get(58),Te=t.get(37);let Me;if(typeof ge=="string"&&/^\d+(\.\d+)?ch$/.test(ge)){const $l=parseFloat(ge.substr(0,ge.length-2));Me=cn.clampedInt($l*m,0,0,1e3)}else Me=cn.clampedInt(ge,0,0,1e3);Te&&(Me+=16);let ct=0;if(B){const $l=Math.max(f,z);ct=Math.round($l*A)}let st=0;W&&(st=h);let kt=0,Et=kt+st,Dt=Et+ct,Vt=Dt+Me;const fn=l-st-ct-Me;let Vi=!1,pt=!1,gt=-1;R!==2&&(D==="inherit"&&O?(Vi=!0,pt=!0):I==="on"||I==="bounded"?pt=!0:I==="wordWrapColumn"&&(gt=N));const xi=cg._computeMinimapLayout({outerWidth:l,outerHeight:u,lineHeight:h,typicalHalfwidthCharacterWidth:m,pixelRatio:C,scrollBeyondLastLine:G,minimap:K,verticalScrollbarWidth:Y,viewLineCount:w,remainingWidth:fn,isViewportWrapping:pt},s.memory||new vW);xi.renderMinimap!==0&&xi.minimapLeft===0&&(kt+=xi.minimapWidth,Et+=xi.minimapWidth,Dt+=xi.minimapWidth,Vt+=xi.minimapWidth);const kr=fn-xi.minimapWidth,br=Math.max(1,Math.floor((kr-Y-2)/m)),Al=J?ne:0;return pt&&(gt=Math.max(1,br),I==="bounded"&&(gt=Math.min(gt,N))),{width:l,height:u,glyphMarginLeft:kt,glyphMarginWidth:st,lineNumbersLeft:Et,lineNumbersWidth:ct,decorationsLeft:Dt,decorationsWidth:Me,contentLeft:Vt,contentWidth:kr,minimap:xi,viewportColumn:br,isWordWrapMinified:Vi,isViewportWrapping:pt,wrappingColumn:gt,verticalScrollbarWidth:Y,horizontalScrollbarHeight:Ae,overviewRuler:{top:Al,width:Y,height:u-2*Al,right:0}}}}class Ale extends ks{constructor(){const t={enabled:!0};super(57,"lightbulb",t,{"editor.lightbulb.enabled":{type:"boolean",default:t.enabled,description:E("codeActions","Enables the code action lightbulb in the editor.")}})}validate(t){return!t||typeof t!="object"?this.defaultValue:{enabled:bt(t.enabled,this.defaultValue.enabled)}}}class _le extends ks{constructor(){const t={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",t,{"editor.inlayHints.enabled":{type:"boolean",default:t.enabled,description:E("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:t.fontSize,markdownDescription:E("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:t.fontFamily,markdownDescription:E("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{enabled:bt(s.enabled,this.defaultValue.enabled),fontSize:cn.clampedInt(s.fontSize,this.defaultValue.fontSize,0,100),fontFamily:xo.string(s.fontFamily,this.defaultValue.fontFamily)}}}class Cle extends s0{constructor(){super(59,"lineHeight",Or.lineHeight,t=>s0.clamp(t,0,150),{markdownDescription:E("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(t,s,l){return t.fontInfo.lineHeight}}class wle extends ks{constructor(){const t={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",t,{"editor.minimap.enabled":{type:"boolean",default:t.enabled,description:E("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[E("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),E("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),E("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:t.size,description:E("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:t.side,description:E("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:t.showSlider,description:E("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:t.scale,minimum:1,maximum:3,enum:[1,2,3],description:E("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:t.renderCharacters,description:E("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:t.maxColumn,description:E("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{enabled:bt(s.enabled,this.defaultValue.enabled),size:co(s.size,this.defaultValue.size,["proportional","fill","fit"]),side:co(s.side,this.defaultValue.side,["right","left"]),showSlider:co(s.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:bt(s.renderCharacters,this.defaultValue.renderCharacters),scale:cn.clampedInt(s.scale,1,1,3),maxColumn:cn.clampedInt(s.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function vle(d){return d==="ctrlCmd"?Jt?"metaKey":"ctrlKey":"altKey"}class kle extends ks{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:E("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:E("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{top:cn.clampedInt(s.top,0,0,1e3),bottom:cn.clampedInt(s.bottom,0,0,1e3)}}}class ble extends ks{constructor(){const t={enabled:!0,cycle:!1};super(76,"parameterHints",t,{"editor.parameterHints.enabled":{type:"boolean",default:t.enabled,description:E("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:t.cycle,description:E("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{enabled:bt(s.enabled,this.defaultValue.enabled),cycle:bt(s.cycle,this.defaultValue.cycle)}}}class Sle extends Am{constructor(){super(129)}compute(t,s,l){return t.pixelRatio}}class yle extends ks{constructor(){const t={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",t,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:t.strings,description:E("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:t.comments,description:E("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:t.other,description:E("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:t,description:E("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=t}validate(t){if(typeof t=="boolean")return t;if(t&&typeof t=="object"){const s=t,l={other:bt(s.other,this.defaultValue.other),comments:bt(s.comments,this.defaultValue.comments),strings:bt(s.strings,this.defaultValue.strings)};return l.other&&l.comments&&l.strings?!0:!l.other&&!l.comments&&!l.strings?!1:l}return this.defaultValue}}class Lle extends ks{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[E("lineNumbers.off","Line numbers are not rendered."),E("lineNumbers.on","Line numbers are rendered as absolute number."),E("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),E("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:E("lineNumbers","Controls the display of line numbers.")})}validate(t){let s=this.defaultValue.renderType,l=this.defaultValue.renderFn;return typeof t<"u"&&(typeof t=="function"?(s=4,l=t):t==="interval"?s=3:t==="relative"?s=2:t==="on"?s=1:s=0),{renderType:s,renderFn:l}}}function B3(d){const t=d.get(87);return t==="editable"?d.get(81):t!=="on"}class Dle extends ks{constructor(){const t=[],s={type:"number",description:E("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",t,{type:"array",items:{anyOf:[s,{type:["object"],properties:{column:s,color:{type:"string",description:E("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:t,description:E("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(t){if(Array.isArray(t)){const s=[];for(let l of t)if(typeof l=="number")s.push({column:cn.clampedInt(l,0,0,1e4),color:null});else if(l&&typeof l=="object"){const u=l;s.push({column:cn.clampedInt(u.column,0,0,1e4),color:u.color})}return s.sort((l,u)=>l.column-u.column),s}return this.defaultValue}}function dM(d,t){if(typeof d!="string")return t;switch(d){case"hidden":return 2;case"visible":return 3;default:return 1}}class Ile extends ks{constructor(){const t={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",t,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),E("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),E("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:E("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),E("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),E("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:E("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:t.verticalScrollbarSize,description:E("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:t.horizontalScrollbarSize,description:E("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:t.scrollByPage,description:E("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t,l=cn.clampedInt(s.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),u=cn.clampedInt(s.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:cn.clampedInt(s.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:dM(s.vertical,this.defaultValue.vertical),horizontal:dM(s.horizontal,this.defaultValue.horizontal),useShadows:bt(s.useShadows,this.defaultValue.useShadows),verticalHasArrows:bt(s.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:bt(s.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:bt(s.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:bt(s.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:l,horizontalSliderSize:cn.clampedInt(s.horizontalSliderSize,l,0,1e3),verticalScrollbarSize:u,verticalSliderSize:cn.clampedInt(s.verticalSliderSize,u,0,1e3),scrollByPage:bt(s.scrollByPage,this.defaultValue.scrollByPage)}}}const qo="inUntrustedWorkspace",lo={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class xle extends ks{constructor(){const t={nonBasicASCII:qo,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:qo,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",t,{[lo.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,qo],default:t.nonBasicASCII,description:E("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[lo.invisibleCharacters]:{restricted:!0,type:"boolean",default:t.invisibleCharacters,description:E("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[lo.ambiguousCharacters]:{restricted:!0,type:"boolean",default:t.ambiguousCharacters,description:E("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[lo.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,qo],default:t.includeComments,description:E("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[lo.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,qo],default:t.includeStrings,description:E("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[lo.allowedCharacters]:{restricted:!0,type:"object",default:t.allowedCharacters,description:E("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[lo.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:t.allowedLocales,description:E("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(t,s){let l=!1;s.allowedCharacters&&(Tl(t.allowedCharacters,s.allowedCharacters)||(t=Object.assign(Object.assign({},t),{allowedCharacters:s.allowedCharacters}),l=!0)),s.allowedLocales&&(Tl(t.allowedLocales,s.allowedLocales)||(t=Object.assign(Object.assign({},t),{allowedLocales:s.allowedLocales}),l=!0));const u=super.applyUpdate(t,s);return l?new oA(u.newValue,!0):u}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{nonBasicASCII:lA(s.nonBasicASCII,qo,[!0,!1,qo]),invisibleCharacters:bt(s.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:bt(s.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:lA(s.includeComments,qo,[!0,!1,qo]),includeStrings:lA(s.includeStrings,qo,[!0,!1,qo]),allowedCharacters:this.validateBooleanMap(t.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(t.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(t,s){if(typeof t!="object"||!t)return s;const l={};for(const[u,h]of Object.entries(t))h===!0&&(l[u]=!0);return l}}class Ele extends ks{constructor(){const t={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",t,{"editor.inlineSuggest.enabled":{type:"boolean",default:t.enabled,description:E("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{enabled:bt(s.enabled,this.defaultValue.enabled),mode:co(s.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class Nle extends ks{constructor(){const t={enabled:Mr.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",t,{"editor.bracketPairColorization.enabled":{type:"boolean",default:t.enabled,description:E("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(t){return!t||typeof t!="object"?this.defaultValue:{enabled:bt(t.enabled,this.defaultValue.enabled)}}}class Tle extends ks{constructor(){const t={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",t,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E("editor.guides.bracketPairs.true","Enables bracket pair guides."),E("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),E("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:t.bracketPairs,description:E("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),E("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),E("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:t.bracketPairsHorizontal,description:E("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:t.highlightActiveBracketPair,description:E("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:t.indentation,description:E("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:t.highlightActiveIndentation,description:E("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{bracketPairs:lA(s.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:lA(s.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:bt(s.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:bt(s.indentation,this.defaultValue.indentation),highlightActiveIndentation:bt(s.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function lA(d,t,s){const l=s.indexOf(d);return l===-1?t:s[l]}class Rle extends ks{constructor(){const t={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",t,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[E("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),E("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:t.insertMode,description:E("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:t.filterGraceful,description:E("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:t.localityBonus,description:E("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:t.shareSuggestSelections,markdownDescription:E("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:t.snippetsPreventQuickSuggestions,description:E("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:t.showIcons,description:E("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:t.showStatusBar,description:E("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:t.preview,description:E("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:t.showInlineDetails,description:E("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:E("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:E("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(t){if(!t||typeof t!="object")return this.defaultValue;const s=t;return{insertMode:co(s.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:bt(s.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:bt(s.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:bt(s.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:bt(s.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:bt(s.showIcons,this.defaultValue.showIcons),showStatusBar:bt(s.showStatusBar,this.defaultValue.showStatusBar),preview:bt(s.preview,this.defaultValue.preview),previewMode:co(s.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:bt(s.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:bt(s.showMethods,this.defaultValue.showMethods),showFunctions:bt(s.showFunctions,this.defaultValue.showFunctions),showConstructors:bt(s.showConstructors,this.defaultValue.showConstructors),showDeprecated:bt(s.showDeprecated,this.defaultValue.showDeprecated),showFields:bt(s.showFields,this.defaultValue.showFields),showVariables:bt(s.showVariables,this.defaultValue.showVariables),showClasses:bt(s.showClasses,this.defaultValue.showClasses),showStructs:bt(s.showStructs,this.defaultValue.showStructs),showInterfaces:bt(s.showInterfaces,this.defaultValue.showInterfaces),showModules:bt(s.showModules,this.defaultValue.showModules),showProperties:bt(s.showProperties,this.defaultValue.showProperties),showEvents:bt(s.showEvents,this.defaultValue.showEvents),showOperators:bt(s.showOperators,this.defaultValue.showOperators),showUnits:bt(s.showUnits,this.defaultValue.showUnits),showValues:bt(s.showValues,this.defaultValue.showValues),showConstants:bt(s.showConstants,this.defaultValue.showConstants),showEnums:bt(s.showEnums,this.defaultValue.showEnums),showEnumMembers:bt(s.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:bt(s.showKeywords,this.defaultValue.showKeywords),showWords:bt(s.showWords,this.defaultValue.showWords),showColors:bt(s.showColors,this.defaultValue.showColors),showFiles:bt(s.showFiles,this.defaultValue.showFiles),showReferences:bt(s.showReferences,this.defaultValue.showReferences),showFolders:bt(s.showFolders,this.defaultValue.showFolders),showTypeParameters:bt(s.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:bt(s.showSnippets,this.defaultValue.showSnippets),showUsers:bt(s.showUsers,this.defaultValue.showUsers),showIssues:bt(s.showIssues,this.defaultValue.showIssues)}}}class Mle extends ks{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:E("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(t){return!t||typeof t!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:bt(t.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ple extends Am{constructor(){super(130)}compute(t,s,l){return s.get(81)?!0:t.tabFocusMode}}function Ole(d){switch(d){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Fle extends Am{constructor(){super(132)}compute(t,s,l){const u=s.get(131);return{isDominatedByLongLines:t.isDominatedByLongLines,isWordWrapMinified:u.isWordWrapMinified,isViewportWrapping:u.isViewportWrapping,wrappingColumn:u.wrappingColumn}}}const Ble="Consolas, 'Courier New', monospace",Wle="Menlo, Monaco, 'Courier New', monospace",Vle="'Droid Sans Mono', 'monospace', monospace",Or={fontFamily:Jt?Wle:Cr?Vle:Ble,fontWeight:"normal",fontSize:Jt?12:14,lineHeight:0,letterSpacing:0},j1=[];function Ze(d){return j1[d.id]=d,d}const a2={acceptSuggestionOnCommitCharacter:Ze(new ui(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:E("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ze(new fs(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",E("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:E("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ze(new ole),accessibilityPageSize:Ze(new cn(3,"accessibilityPageSize",10,1,1073741824,{description:E("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Ze(new xo(4,"ariaLabel",E("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Ze(new fs(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),E("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:E("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Ze(new fs(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",E("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:E("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ze(new fs(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",E("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:E("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ze(new fs(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),E("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:E("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ze(new kp(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],rle,{enumDescriptions:[E("editor.autoIndent.none","The editor will not insert indentation automatically."),E("editor.autoIndent.keep","The editor will keep the current line's indentation."),E("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),E("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),E("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:E("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ze(new ui(10,"automaticLayout",!1)),autoSurround:Ze(new fs(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[E("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),E("editor.autoSurround.quotes","Surround with quotes but not brackets."),E("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:E("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ze(new Nle),bracketPairGuides:Ze(new Tle),stickyTabStops:Ze(new ui(104,"stickyTabStops",!1,{description:E("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ze(new ui(14,"codeLens",!0,{description:E("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ze(new xo(15,"codeLensFontFamily","",{description:E("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ze(new cn(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:E("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ze(new ui(17,"colorDecorators",!0,{description:E("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Ze(new ui(18,"columnSelection",!1,{description:E("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ze(new lle),contextmenu:Ze(new ui(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Ze(new ui(21,"copyWithSyntaxHighlighting",!0,{description:E("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ze(new kp(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],ale,{description:E("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ze(new ui(23,"cursorSmoothCaretAnimation",!1,{description:E("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ze(new kp(24,"cursorStyle",Us.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],cle,{description:E("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ze(new cn(25,"cursorSurroundingLines",0,0,1073741824,{description:E("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ze(new fs(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[E("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),E("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:E("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Ze(new cn(27,"cursorWidth",0,0,1073741824,{markdownDescription:E("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ze(new ui(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ze(new ui(29,"disableMonospaceOptimizations",!1)),domReadOnly:Ze(new ui(30,"domReadOnly",!1)),dragAndDrop:Ze(new ui(31,"dragAndDrop",!0,{description:E("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ze(new hle),extraEditorClassName:Ze(new xo(33,"extraEditorClassName","")),fastScrollSensitivity:Ze(new s0(34,"fastScrollSensitivity",5,d=>d<=0?5:d,{markdownDescription:E("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ze(new dle),fixedOverflowWidgets:Ze(new ui(36,"fixedOverflowWidgets",!1)),folding:Ze(new ui(37,"folding",!0,{description:E("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ze(new fs(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[E("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),E("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:E("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ze(new ui(39,"foldingHighlight",!0,{description:E("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ze(new ui(40,"foldingImportsByDefault",!1,{description:E("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ze(new cn(41,"foldingMaximumRegions",5e3,10,65e3,{description:E("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ze(new ui(42,"unfoldOnClickAfterEndOfLine",!1,{description:E("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ze(new xo(43,"fontFamily",Or.fontFamily,{description:E("fontFamily","Controls the font family.")})),fontInfo:Ze(new fle),fontLigatures2:Ze(new il),fontSize:Ze(new gle),fontWeight:Ze(new q2),formatOnPaste:Ze(new ui(48,"formatOnPaste",!1,{description:E("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ze(new ui(49,"formatOnType",!1,{description:E("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ze(new ui(50,"glyphMargin",!0,{description:E("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ze(new mle),hideCursorInOverviewRuler:Ze(new ui(52,"hideCursorInOverviewRuler",!1,{description:E("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ze(new ple),inDiffEditor:Ze(new ui(54,"inDiffEditor",!1)),letterSpacing:Ze(new s0(56,"letterSpacing",Or.letterSpacing,d=>s0.clamp(d,-5,20),{description:E("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ze(new Ale),lineDecorationsWidth:Ze(new kf(58,"lineDecorationsWidth",10)),lineHeight:Ze(new Cle),lineNumbers:Ze(new Lle),lineNumbersMinChars:Ze(new cn(61,"lineNumbersMinChars",5,1,300)),linkedEditing:Ze(new ui(62,"linkedEditing",!1,{description:E("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Ze(new ui(63,"links",!0,{description:E("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ze(new fs(64,"matchBrackets","always",["always","near","never"],{description:E("matchBrackets","Highlight matching brackets.")})),minimap:Ze(new wle),mouseStyle:Ze(new fs(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ze(new s0(67,"mouseWheelScrollSensitivity",1,d=>d===0?1:d,{markdownDescription:E("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ze(new ui(68,"mouseWheelZoom",!1,{markdownDescription:E("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ze(new ui(69,"multiCursorMergeOverlapping",!0,{description:E("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ze(new kp(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],vle,{markdownEnumDescriptions:[E("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:E({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ze(new fs(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[E("multiCursorPaste.spread","Each cursor pastes a single line of the text."),E("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:E("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Ze(new ui(72,"occurrencesHighlight",!0,{description:E("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Ze(new ui(73,"overviewRulerBorder",!0,{description:E("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ze(new cn(74,"overviewRulerLanes",3,0,3)),padding:Ze(new kle),parameterHints:Ze(new ble),peekWidgetDefaultFocus:Ze(new fs(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[E("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),E("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:E("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ze(new ui(78,"definitionLinkOpensInPeek",!1,{description:E("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ze(new yle),quickSuggestionsDelay:Ze(new cn(80,"quickSuggestionsDelay",10,0,1073741824,{description:E("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ze(new ui(81,"readOnly",!1)),renameOnType:Ze(new ui(82,"renameOnType",!1,{description:E("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:E("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ze(new ui(83,"renderControlCharacters",!0,{description:E("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ze(new ui(84,"renderFinalNewline",!0,{description:E("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ze(new fs(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",E("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:E("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ze(new ui(86,"renderLineHighlightOnlyWhenFocus",!1,{description:E("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ze(new fs(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ze(new fs(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",E("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),E("renderWhitespace.selection","Render whitespace characters only on selected text."),E("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:E("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ze(new cn(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ze(new ui(90,"roundedSelection",!0,{description:E("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ze(new Dle),scrollbar:Ze(new Ile),scrollBeyondLastColumn:Ze(new cn(93,"scrollBeyondLastColumn",5,0,1073741824,{description:E("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ze(new ui(94,"scrollBeyondLastLine",!0,{description:E("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ze(new ui(95,"scrollPredominantAxis",!0,{description:E("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ze(new ui(96,"selectionClipboard",!0,{description:E("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Cr})),selectionHighlight:Ze(new ui(97,"selectionHighlight",!0,{description:E("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ze(new ui(98,"selectOnLineNumbers",!0)),showFoldingControls:Ze(new fs(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[E("showFoldingControls.always","Always show the folding controls."),E("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:E("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ze(new ui(100,"showUnused",!0,{description:E("showUnused","Controls fading out of unused code.")})),showDeprecated:Ze(new ui(126,"showDeprecated",!0,{description:E("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ze(new _le),snippetSuggestions:Ze(new fs(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[E("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),E("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),E("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),E("snippetSuggestions.none","Do not show snippet suggestions.")],description:E("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ze(new Mle),smoothScrolling:Ze(new ui(103,"smoothScrolling",!1,{description:E("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ze(new cn(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ze(new Rle),inlineSuggest:Ze(new Ele),suggestFontSize:Ze(new cn(107,"suggestFontSize",0,0,1e3,{markdownDescription:E("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Ze(new cn(108,"suggestLineHeight",0,0,1e3,{markdownDescription:E("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Ze(new ui(109,"suggestOnTriggerCharacters",!0,{description:E("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ze(new fs(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[E("suggestSelection.first","Always select the first suggestion."),E("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),E("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:E("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ze(new fs(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[E("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),E("tabCompletion.off","Disable tab completions."),E("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:E("tabCompletion","Enables tab completions.")})),tabIndex:Ze(new cn(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ze(new xle),unusualLineTerminators:Ze(new fs(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[E("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),E("unusualLineTerminators.off","Unusual line terminators are ignored."),E("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:E("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ze(new ui(115,"useShadowDOM",!0)),useTabStops:Ze(new ui(116,"useTabStops",!0,{description:E("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Ze(new xo(117,"wordSeparators",uW,{description:E("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ze(new fs(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[E("wordWrap.off","Lines will never wrap."),E("wordWrap.on","Lines will wrap at the viewport width."),E({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),E({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:E({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ze(new xo(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ze(new xo(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ze(new cn(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:E({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ze(new fs(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ze(new fs(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ze(new kp(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Ole,{enumDescriptions:[E("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),E("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),E("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),E("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:E("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Ze(new fs(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[E("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),E("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:E("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Ze(new ule),pixelRatio:Ze(new Sle),tabFocusMode:Ze(new Ple),layoutInfo:Ze(new cg),wrappingInfo:Ze(new Fle)};class Hle{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?new Error(t.message+`

`+t.stack):t},0)}}emit(t){this.listeners.forEach(s=>{s(t)})}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}}const kW=new Hle;function Bt(d){y0(d)||kW.onUnexpectedError(d)}function Ms(d){y0(d)||kW.onUnexpectedExternalError(d)}function fM(d){if(d instanceof Error){let{name:t,message:s}=d;const l=d.stacktrace||d.stack;return{$isError:!0,name:t,message:s,stack:l}}return d}const W3="Canceled";function y0(d){return d instanceof bf?!0:d instanceof Error&&d.name===W3&&d.message===W3}class bf extends Error{constructor(){super(W3),this.name=this.message}}function WD(){const d=new Error(W3);return d.name=d.message,d}function Ja(d){return d?new Error(`Illegal argument: ${d}`):new Error("Illegal argument")}function Ule(d){return d?new Error(`Illegal state: ${d}`):new Error("Illegal state")}class zle extends Error{constructor(t){super("NotSupported"),t&&(this.message=t)}}function Ic(d){const t=this;let s=!1,l;return function(){return s||(s=!0,l=d.apply(t,arguments)),l}}var gi;(function(d){function t(B){return B&&typeof B=="object"&&typeof B[Symbol.iterator]=="function"}d.is=t;const s=Object.freeze([]);function l(){return s}d.empty=l;function*u(B){yield B}d.single=u;function h(B){return B||s}d.from=h;function f(B){return!B||B[Symbol.iterator]().next().done===!0}d.isEmpty=f;function m(B){return B[Symbol.iterator]().next().value}d.first=m;function A(B,z){for(const G of B)if(z(G))return!0;return!1}d.some=A;function C(B,z){for(const G of B)if(z(G))return G}d.find=C;function*w(B,z){for(const G of B)z(G)&&(yield G)}d.filter=w;function*k(B,z){let G=0;for(const K of B)yield z(K,G++)}d.map=k;function*D(...B){for(const z of B)for(const G of z)yield G}d.concat=D;function*I(B){for(const z of B)for(const G of z)yield G}d.concatNested=I;function N(B,z,G){let K=G;for(const q of B)K=z(K,q);return K}d.reduce=N;function*R(B,z,G=B.length){for(z<0&&(z+=B.length),G<0?G+=B.length:G>B.length&&(G=B.length);z<G;z++)yield B[z]}d.slice=R;function O(B,z=Number.POSITIVE_INFINITY){const G=[];if(z===0)return[G,B];const K=B[Symbol.iterator]();for(let q=0;q<z;q++){const Y=K.next();if(Y.done)return[G,d.empty()];G.push(Y.value)}return[G,{[Symbol.iterator](){return K}}]}d.consume=O;function W(B,z,G=(K,q)=>K===q){const K=B[Symbol.iterator](),q=z[Symbol.iterator]();for(;;){const Y=K.next(),J=q.next();if(Y.done!==J.done)return!1;if(Y.done)return!0;if(!G(Y.value,J.value))return!1}}d.equals=W})(gi||(gi={}));class Gle extends Error{constructor(t){super(`Encountered errors while disposing of store. Errors: [${t.join(", ")}]`),this.errors=t}}function VD(d){return typeof d.dispose=="function"&&d.dispose.length===0}function mi(d){if(gi.is(d)){let t=[];for(const s of d)if(s)try{s.dispose()}catch(l){t.push(l)}if(t.length===1)throw t[0];if(t.length>1)throw new Gle(t);return Array.isArray(d)?[]:d}else if(d)return d.dispose(),d}function vc(...d){return $t(()=>mi(d))}function $t(d){return{dispose:Ic(()=>{d()})}}class je{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{mi(this._toDispose.values())}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?je.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}}je.DISABLE_DISPOSED_WARNING=!1;class Se{constructor(){this._store=new je,this._store}dispose(){this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}}Se.None=Object.freeze({dispose(){}});class Yr{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(t){var s;this._isDisposed||t===this._value||((s=this._value)===null||s===void 0||s.dispose(),this._value=t)}clear(){this.value=void 0}dispose(){var t;this._isDisposed=!0,(t=this._value)===null||t===void 0||t.dispose(),this._value=void 0}clearAndLeak(){const t=this._value;return this._value=void 0,t}}class jle{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set(t){let s=t;return this.unset=()=>s=void 0,this.isset=()=>s!==void 0,this.dispose=()=>{s&&(s(),s=void 0)},this}}class Zle{constructor(t){this.object=t}dispose(){}}class On{constructor(t){this.element=t,this.next=On.Undefined,this.prev=On.Undefined}}On.Undefined=new On(void 0);class ol{constructor(){this._first=On.Undefined,this._last=On.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===On.Undefined}clear(){let t=this._first;for(;t!==On.Undefined;){const s=t.next;t.prev=On.Undefined,t.next=On.Undefined,t=s}this._first=On.Undefined,this._last=On.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,s){const l=new On(t);if(this._first===On.Undefined)this._first=l,this._last=l;else if(s){const h=this._last;this._last=l,l.prev=h,h.next=l}else{const h=this._first;this._first=l,l.next=h,h.prev=l}this._size+=1;let u=!1;return()=>{u||(u=!0,this._remove(l))}}shift(){if(this._first!==On.Undefined){const t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==On.Undefined){const t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==On.Undefined&&t.next!==On.Undefined){const s=t.prev;s.next=t.next,t.next.prev=s}else t.prev===On.Undefined&&t.next===On.Undefined?(this._first=On.Undefined,this._last=On.Undefined):t.next===On.Undefined?(this._last=this._last.prev,this._last.next=On.Undefined):t.prev===On.Undefined&&(this._first=this._first.next,this._first.prev=On.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==On.Undefined;)yield t.element,t=t.next}}const Qle=Zn.performance&&typeof Zn.performance.now=="function";class mo{constructor(t){this._highResolution=Qle&&t,this._startTime=this._now(),this._stopTime=-1}static create(t=!0){return new mo(t)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Zn.performance.now():Date.now()}}var ft;(function(d){d.None=()=>Se.None;function t(G){return(K,q=null,Y)=>{let J=!1,ne;return ne=G(Ae=>{if(!J)return ne?ne.dispose():J=!0,K.call(q,Ae)},null,Y),J&&ne.dispose(),ne}}d.once=t;function s(G,K,q){return A((Y,J=null,ne)=>G(Ae=>Y.call(J,K(Ae)),null,ne),q)}d.map=s;function l(G,K,q){return A((Y,J=null,ne)=>G(Ae=>{K(Ae),Y.call(J,Ae)},null,ne),q)}d.forEach=l;function u(G,K,q){return A((Y,J=null,ne)=>G(Ae=>K(Ae)&&Y.call(J,Ae),null,ne),q)}d.filter=u;function h(G){return G}d.signal=h;function f(...G){return(K,q=null,Y)=>vc(...G.map(J=>J(ne=>K.call(q,ne),null,Y)))}d.any=f;function m(G,K,q,Y){let J=q;return s(G,ne=>(J=K(J,ne),J),Y)}d.reduce=m;function A(G,K){let q;const Y={onFirstListenerAdd(){q=G(J.fire,J)},onLastListenerRemove(){q.dispose()}},J=new he(Y);return K&&K.add(J),J.event}function C(G,K,q=100,Y=!1,J,ne){let Ae,ge,Te,Me=0;const ct={leakWarningThreshold:J,onFirstListenerAdd(){Ae=G(kt=>{Me++,ge=K(ge,kt),Y&&!Te&&(st.fire(ge),ge=void 0),clearTimeout(Te),Te=setTimeout(()=>{const Et=ge;ge=void 0,Te=void 0,(!Y||Me>1)&&st.fire(Et),Me=0},q)})},onLastListenerRemove(){Ae.dispose()}},st=new he(ct);return ne&&ne.add(st),st.event}d.debounce=C;function w(G,K=(Y,J)=>Y===J,q){let Y=!0,J;return u(G,ne=>{const Ae=Y||!K(ne,J);return Y=!1,J=ne,Ae},q)}d.latch=w;function k(G,K,q){return[d.filter(G,K,q),d.filter(G,Y=>!K(Y),q)]}d.split=k;function D(G,K=!1,q=[]){let Y=q.slice(),J=G(ge=>{Y?Y.push(ge):Ae.fire(ge)});const ne=()=>{Y&&Y.forEach(ge=>Ae.fire(ge)),Y=null},Ae=new he({onFirstListenerAdd(){J||(J=G(ge=>Ae.fire(ge)))},onFirstListenerDidAdd(){Y&&(K?setTimeout(ne):ne())},onLastListenerRemove(){J&&J.dispose(),J=null}});return Ae.event}d.buffer=D;class I{constructor(K){this.event=K}map(K){return new I(s(this.event,K))}forEach(K){return new I(l(this.event,K))}filter(K){return new I(u(this.event,K))}reduce(K,q){return new I(m(this.event,K,q))}latch(){return new I(w(this.event))}debounce(K,q=100,Y=!1,J){return new I(C(this.event,K,q,Y,J))}on(K,q,Y){return this.event(K,q,Y)}once(K,q,Y){return t(this.event)(K,q,Y)}}function N(G){return new I(G)}d.chain=N;function R(G,K,q=Y=>Y){const Y=(...ge)=>Ae.fire(q(...ge)),J=()=>G.on(K,Y),ne=()=>G.removeListener(K,Y),Ae=new he({onFirstListenerAdd:J,onLastListenerRemove:ne});return Ae.event}d.fromNodeEventEmitter=R;function O(G,K,q=Y=>Y){const Y=(...ge)=>Ae.fire(q(...ge)),J=()=>G.addEventListener(K,Y),ne=()=>G.removeEventListener(K,Y),Ae=new he({onFirstListenerAdd:J,onLastListenerRemove:ne});return Ae.event}d.fromDOMEventEmitter=O;function W(G){return new Promise(K=>t(G)(K))}d.toPromise=W;function B(G,K){return K(void 0),G(q=>K(q))}d.runAndSubscribe=B;function z(G,K){let q=null;function Y(ne){q?.dispose(),q=new je,K(ne,q)}Y(void 0);const J=G(ne=>Y(ne));return $t(()=>{J.dispose(),q?.dispose()})}d.runAndSubscribeWithStore=z})(ft||(ft={}));class ww{constructor(t){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${t}_${ww._idPool++}`}start(t){this._stopWatch=new mo(!0),this._listenerCount=t}stop(){if(this._stopWatch){const t=this._stopWatch.elapsed();this._elapsedOverall+=t,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${t.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}ww._idPool=0;class HD{constructor(t){this.value=t}static create(){var t;return new HD((t=new Error().stack)!==null&&t!==void 0?t:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class Yle{constructor(t,s,l){this.callback=t,this.callbackThis=s,this.stack=l,this.subscription=new jle}invoke(t){this.callback.call(this.callbackThis,t)}}class he{constructor(t){var s;this._disposed=!1,this._options=t,this._leakageMon=void 0,this._perfMon=!((s=this._options)===null||s===void 0)&&s._profName?new ww(this._options._profName):void 0}dispose(){var t,s,l,u;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),(t=this._deliveryQueue)===null||t===void 0||t.clear(),(l=(s=this._options)===null||s===void 0?void 0:s.onLastListenerRemove)===null||l===void 0||l.call(s),(u=this._leakageMon)===null||u===void 0||u.dispose())}get event(){return this._event||(this._event=(t,s,l)=>{var u,h,f;this._listeners||(this._listeners=new ol);const m=this._listeners.isEmpty();m&&((u=this._options)===null||u===void 0?void 0:u.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let A,C;this._leakageMon&&this._listeners.size>=30&&(C=HD.create(),A=this._leakageMon.check(C,this._listeners.size+1));const w=new Yle(t,s,C),k=this._listeners.push(w);m&&((h=this._options)===null||h===void 0?void 0:h.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((f=this._options)===null||f===void 0)&&f.onListenerDidAdd&&this._options.onListenerDidAdd(this,t,s);const D=w.subscription.set(()=>{A&&A(),this._disposed||(k(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return l instanceof je?l.add(D):Array.isArray(l)&&l.push(D),D}),this._event}fire(t){var s,l;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new ol);for(let u of this._listeners)this._deliveryQueue.push([u,t]);for((s=this._perfMon)===null||s===void 0||s.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[u,h]=this._deliveryQueue.shift();try{u.invoke(h)}catch(f){Bt(f)}}(l=this._perfMon)===null||l===void 0||l.stop()}}}class V3 extends he{constructor(t){super(t),this._isPaused=0,this._eventQueue=new ol,this._mergeFn=t?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const t=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(t))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(t){this._listeners&&(this._isPaused!==0?this._eventQueue.push(t):super.fire(t))}}class $le extends V3{constructor(t){var s;super(t),this._delay=(s=t.delay)!==null&&s!==void 0?s:100}fire(t){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(t)}}class UD{constructor(){this.buffers=[]}wrapEvent(t){return(s,l,u)=>t(h=>{const f=this.buffers[this.buffers.length-1];f?f.push(()=>s.call(l,h)):s.call(l,h)},void 0,u)}bufferEvents(t){const s=[];this.buffers.push(s);const l=t();return this.buffers.pop(),s.forEach(u=>u()),l}}class gM{constructor(){this.listening=!1,this.inputEvent=ft.None,this.inputEventListener=Se.None,this.emitter=new he({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(t){this.inputEvent=t,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=t(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const bW=Object.freeze(function(d,t){const s=setTimeout(d.bind(t),0);return{dispose(){clearTimeout(s)}}});var ti;(function(d){function t(s){return s===d.None||s===d.Cancelled||s instanceof $6?!0:!s||typeof s!="object"?!1:typeof s.isCancellationRequested=="boolean"&&typeof s.onCancellationRequested=="function"}d.isCancellationToken=t,d.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ft.None}),d.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:bW})})(ti||(ti={}));class $6{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?bW:(this._emitter||(this._emitter=new he),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class tr{constructor(t){this._token=void 0,this._parentListener=void 0,this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new $6),this._token}cancel(){this._token?this._token instanceof $6&&this._token.cancel():this._token=ti.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof $6&&this._token.dispose():this._token=ti.None}}class zD{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,s){this._keyCodeToStr[t]=s,this._strToKeyCode[s.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const K6=new zD,AS=new zD,_S=new zD,SW=new Array(230),Kle=Object.create(null),Xle=Object.create(null),GD=[];for(let d=0;d<=193;d++)GD[d]=-1;(function(){const d="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",d,d],[0,1,1,"Hyper",0,d,0,d,d,d],[0,1,2,"Super",0,d,0,d,d,d],[0,1,3,"Fn",0,d,0,d,d,d],[0,1,4,"FnLock",0,d,0,d,d,d],[0,1,5,"Suspend",0,d,0,d,d,d],[0,1,6,"Resume",0,d,0,d,d,d],[0,1,7,"Turbo",0,d,0,d,d,d],[0,1,8,"Sleep",0,d,0,"VK_SLEEP",d,d],[0,1,9,"WakeUp",0,d,0,d,d,d],[31,0,10,"KeyA",31,"A",65,"VK_A",d,d],[32,0,11,"KeyB",32,"B",66,"VK_B",d,d],[33,0,12,"KeyC",33,"C",67,"VK_C",d,d],[34,0,13,"KeyD",34,"D",68,"VK_D",d,d],[35,0,14,"KeyE",35,"E",69,"VK_E",d,d],[36,0,15,"KeyF",36,"F",70,"VK_F",d,d],[37,0,16,"KeyG",37,"G",71,"VK_G",d,d],[38,0,17,"KeyH",38,"H",72,"VK_H",d,d],[39,0,18,"KeyI",39,"I",73,"VK_I",d,d],[40,0,19,"KeyJ",40,"J",74,"VK_J",d,d],[41,0,20,"KeyK",41,"K",75,"VK_K",d,d],[42,0,21,"KeyL",42,"L",76,"VK_L",d,d],[43,0,22,"KeyM",43,"M",77,"VK_M",d,d],[44,0,23,"KeyN",44,"N",78,"VK_N",d,d],[45,0,24,"KeyO",45,"O",79,"VK_O",d,d],[46,0,25,"KeyP",46,"P",80,"VK_P",d,d],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",d,d],[48,0,27,"KeyR",48,"R",82,"VK_R",d,d],[49,0,28,"KeyS",49,"S",83,"VK_S",d,d],[50,0,29,"KeyT",50,"T",84,"VK_T",d,d],[51,0,30,"KeyU",51,"U",85,"VK_U",d,d],[52,0,31,"KeyV",52,"V",86,"VK_V",d,d],[53,0,32,"KeyW",53,"W",87,"VK_W",d,d],[54,0,33,"KeyX",54,"X",88,"VK_X",d,d],[55,0,34,"KeyY",55,"Y",89,"VK_Y",d,d],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",d,d],[22,0,36,"Digit1",22,"1",49,"VK_1",d,d],[23,0,37,"Digit2",23,"2",50,"VK_2",d,d],[24,0,38,"Digit3",24,"3",51,"VK_3",d,d],[25,0,39,"Digit4",25,"4",52,"VK_4",d,d],[26,0,40,"Digit5",26,"5",53,"VK_5",d,d],[27,0,41,"Digit6",27,"6",54,"VK_6",d,d],[28,0,42,"Digit7",28,"7",55,"VK_7",d,d],[29,0,43,"Digit8",29,"8",56,"VK_8",d,d],[30,0,44,"Digit9",30,"9",57,"VK_9",d,d],[21,0,45,"Digit0",21,"0",48,"VK_0",d,d],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",d,d],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",d,d],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",d,d],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",d,d],[10,1,50,"Space",10,"Space",32,"VK_SPACE",d,d],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,d,0,d,d,d],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",d,d],[59,1,64,"F1",59,"F1",112,"VK_F1",d,d],[60,1,65,"F2",60,"F2",113,"VK_F2",d,d],[61,1,66,"F3",61,"F3",114,"VK_F3",d,d],[62,1,67,"F4",62,"F4",115,"VK_F4",d,d],[63,1,68,"F5",63,"F5",116,"VK_F5",d,d],[64,1,69,"F6",64,"F6",117,"VK_F6",d,d],[65,1,70,"F7",65,"F7",118,"VK_F7",d,d],[66,1,71,"F8",66,"F8",119,"VK_F8",d,d],[67,1,72,"F9",67,"F9",120,"VK_F9",d,d],[68,1,73,"F10",68,"F10",121,"VK_F10",d,d],[69,1,74,"F11",69,"F11",122,"VK_F11",d,d],[70,1,75,"F12",70,"F12",123,"VK_F12",d,d],[0,1,76,"PrintScreen",0,d,0,d,d,d],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",d,d],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",d,d],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",d,d],[14,1,80,"Home",14,"Home",36,"VK_HOME",d,d],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",d,d],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",d,d],[13,1,83,"End",13,"End",35,"VK_END",d,d],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",d,d],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",d],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",d],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",d],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",d],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",d,d],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",d,d],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",d,d],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",d,d],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",d,d],[3,1,94,"NumpadEnter",3,d,0,d,d,d],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",d,d],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",d,d],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",d,d],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",d,d],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",d,d],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",d,d],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",d,d],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",d,d],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",d,d],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",d,d],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",d,d],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",d,d],[58,1,107,"ContextMenu",58,"ContextMenu",93,d,d,d],[0,1,108,"Power",0,d,0,d,d,d],[0,1,109,"NumpadEqual",0,d,0,d,d,d],[71,1,110,"F13",71,"F13",124,"VK_F13",d,d],[72,1,111,"F14",72,"F14",125,"VK_F14",d,d],[73,1,112,"F15",73,"F15",126,"VK_F15",d,d],[74,1,113,"F16",74,"F16",127,"VK_F16",d,d],[75,1,114,"F17",75,"F17",128,"VK_F17",d,d],[76,1,115,"F18",76,"F18",129,"VK_F18",d,d],[77,1,116,"F19",77,"F19",130,"VK_F19",d,d],[0,1,117,"F20",0,d,0,"VK_F20",d,d],[0,1,118,"F21",0,d,0,"VK_F21",d,d],[0,1,119,"F22",0,d,0,"VK_F22",d,d],[0,1,120,"F23",0,d,0,"VK_F23",d,d],[0,1,121,"F24",0,d,0,"VK_F24",d,d],[0,1,122,"Open",0,d,0,d,d,d],[0,1,123,"Help",0,d,0,d,d,d],[0,1,124,"Select",0,d,0,d,d,d],[0,1,125,"Again",0,d,0,d,d,d],[0,1,126,"Undo",0,d,0,d,d,d],[0,1,127,"Cut",0,d,0,d,d,d],[0,1,128,"Copy",0,d,0,d,d,d],[0,1,129,"Paste",0,d,0,d,d,d],[0,1,130,"Find",0,d,0,d,d,d],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",d,d],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",d,d],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",d,d],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",d,d],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",d,d],[0,1,136,"KanaMode",0,d,0,d,d,d],[0,0,137,"IntlYen",0,d,0,d,d,d],[0,1,138,"Convert",0,d,0,d,d,d],[0,1,139,"NonConvert",0,d,0,d,d,d],[0,1,140,"Lang1",0,d,0,d,d,d],[0,1,141,"Lang2",0,d,0,d,d,d],[0,1,142,"Lang3",0,d,0,d,d,d],[0,1,143,"Lang4",0,d,0,d,d,d],[0,1,144,"Lang5",0,d,0,d,d,d],[0,1,145,"Abort",0,d,0,d,d,d],[0,1,146,"Props",0,d,0,d,d,d],[0,1,147,"NumpadParenLeft",0,d,0,d,d,d],[0,1,148,"NumpadParenRight",0,d,0,d,d,d],[0,1,149,"NumpadBackspace",0,d,0,d,d,d],[0,1,150,"NumpadMemoryStore",0,d,0,d,d,d],[0,1,151,"NumpadMemoryRecall",0,d,0,d,d,d],[0,1,152,"NumpadMemoryClear",0,d,0,d,d,d],[0,1,153,"NumpadMemoryAdd",0,d,0,d,d,d],[0,1,154,"NumpadMemorySubtract",0,d,0,d,d,d],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",d,d],[0,1,156,"NumpadClearEntry",0,d,0,d,d,d],[5,1,0,d,5,"Ctrl",17,"VK_CONTROL",d,d],[4,1,0,d,4,"Shift",16,"VK_SHIFT",d,d],[6,1,0,d,6,"Alt",18,"VK_MENU",d,d],[57,1,0,d,57,"Meta",0,"VK_COMMAND",d,d],[5,1,157,"ControlLeft",5,d,0,"VK_LCONTROL",d,d],[4,1,158,"ShiftLeft",4,d,0,"VK_LSHIFT",d,d],[6,1,159,"AltLeft",6,d,0,"VK_LMENU",d,d],[57,1,160,"MetaLeft",57,d,0,"VK_LWIN",d,d],[5,1,161,"ControlRight",5,d,0,"VK_RCONTROL",d,d],[4,1,162,"ShiftRight",4,d,0,"VK_RSHIFT",d,d],[6,1,163,"AltRight",6,d,0,"VK_RMENU",d,d],[57,1,164,"MetaRight",57,d,0,"VK_RWIN",d,d],[0,1,165,"BrightnessUp",0,d,0,d,d,d],[0,1,166,"BrightnessDown",0,d,0,d,d,d],[0,1,167,"MediaPlay",0,d,0,d,d,d],[0,1,168,"MediaRecord",0,d,0,d,d,d],[0,1,169,"MediaFastForward",0,d,0,d,d,d],[0,1,170,"MediaRewind",0,d,0,d,d,d],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",d,d],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",d,d],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",d,d],[0,1,174,"Eject",0,d,0,d,d,d],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",d,d],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",d,d],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",d,d],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",d,d],[0,1,179,"LaunchApp1",0,d,0,"VK_MEDIA_LAUNCH_APP1",d,d],[0,1,180,"SelectTask",0,d,0,d,d,d],[0,1,181,"LaunchScreenSaver",0,d,0,d,d,d],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",d,d],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",d,d],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",d,d],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",d,d],[0,1,186,"BrowserStop",0,d,0,"VK_BROWSER_STOP",d,d],[0,1,187,"BrowserRefresh",0,d,0,"VK_BROWSER_REFRESH",d,d],[0,1,188,"BrowserFavorites",0,d,0,"VK_BROWSER_FAVORITES",d,d],[0,1,189,"ZoomToggle",0,d,0,d,d,d],[0,1,190,"MailReply",0,d,0,d,d,d],[0,1,191,"MailForward",0,d,0,d,d,d],[0,1,192,"MailSend",0,d,0,d,d,d],[109,1,0,d,109,"KeyInComposition",229,d,d,d],[111,1,0,d,111,"ABNT_C2",194,"VK_ABNT_C2",d,d],[91,1,0,d,91,"OEM_8",223,"VK_OEM_8",d,d],[0,1,0,d,0,d,0,"VK_KANA",d,d],[0,1,0,d,0,d,0,"VK_HANGUL",d,d],[0,1,0,d,0,d,0,"VK_JUNJA",d,d],[0,1,0,d,0,d,0,"VK_FINAL",d,d],[0,1,0,d,0,d,0,"VK_HANJA",d,d],[0,1,0,d,0,d,0,"VK_KANJI",d,d],[0,1,0,d,0,d,0,"VK_CONVERT",d,d],[0,1,0,d,0,d,0,"VK_NONCONVERT",d,d],[0,1,0,d,0,d,0,"VK_ACCEPT",d,d],[0,1,0,d,0,d,0,"VK_MODECHANGE",d,d],[0,1,0,d,0,d,0,"VK_SELECT",d,d],[0,1,0,d,0,d,0,"VK_PRINT",d,d],[0,1,0,d,0,d,0,"VK_EXECUTE",d,d],[0,1,0,d,0,d,0,"VK_SNAPSHOT",d,d],[0,1,0,d,0,d,0,"VK_HELP",d,d],[0,1,0,d,0,d,0,"VK_APPS",d,d],[0,1,0,d,0,d,0,"VK_PROCESSKEY",d,d],[0,1,0,d,0,d,0,"VK_PACKET",d,d],[0,1,0,d,0,d,0,"VK_DBE_SBCSCHAR",d,d],[0,1,0,d,0,d,0,"VK_DBE_DBCSCHAR",d,d],[0,1,0,d,0,d,0,"VK_ATTN",d,d],[0,1,0,d,0,d,0,"VK_CRSEL",d,d],[0,1,0,d,0,d,0,"VK_EXSEL",d,d],[0,1,0,d,0,d,0,"VK_EREOF",d,d],[0,1,0,d,0,d,0,"VK_PLAY",d,d],[0,1,0,d,0,d,0,"VK_ZOOM",d,d],[0,1,0,d,0,d,0,"VK_NONAME",d,d],[0,1,0,d,0,d,0,"VK_PA1",d,d],[0,1,0,d,0,d,0,"VK_OEM_CLEAR",d,d]];let s=[],l=[];for(const u of t){const[h,f,m,A,C,w,k,D,I,N]=u;if(l[m]||(l[m]=!0,Kle[A]=m,Xle[A.toLowerCase()]=m,f&&(GD[m]=C)),!s[C]){if(s[C]=!0,!w)throw new Error(`String representation missing for key code ${C} around scan code ${A}`);K6.define(C,w),AS.define(C,I||w),_S.define(C,N||I||w)}k&&(SW[k]=C)}})();var fd;(function(d){function t(m){return K6.keyCodeToStr(m)}d.toString=t;function s(m){return K6.strToKeyCode(m)}d.fromString=s;function l(m){return AS.keyCodeToStr(m)}d.toUserSettingsUS=l;function u(m){return _S.keyCodeToStr(m)}d.toUserSettingsGeneral=u;function h(m){return AS.strToKeyCode(m)||_S.strToKeyCode(m)}d.fromUserSettings=h;function f(m){if(m>=93&&m<=108)return null;switch(m){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return K6.keyCodeToStr(m)}d.toElectronAccelerator=f})(fd||(fd={}));function Ps(d,t){const s=(t&65535)<<16>>>0;return(d|s)>>>0}let ug;if(typeof Zn.vscode<"u"&&typeof Zn.vscode.process<"u"){const d=Zn.vscode.process;ug={get platform(){return d.platform},get arch(){return d.arch},get env(){return d.env},cwd(){return d.cwd()}}}else typeof process<"u"?ug={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:ug={get platform(){return Gs?"win32":Jt?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const CS=ug.cwd,Jle=ug.env,Sf=ug.platform,qle=65,eae=97,tae=90,iae=122,yu=46,Tr=47,Jo=92,eu=58,nae=63;class yW extends Error{constructor(t,s,l){let u;typeof s=="string"&&s.indexOf("not ")===0?(u="must not be",s=s.replace(/^not /,"")):u="must be";const h=t.indexOf(".")!==-1?"property":"argument";let f=`The "${t}" ${h} ${u} of type ${s}`;f+=`. Received type ${typeof l}`,super(f),this.code="ERR_INVALID_ARG_TYPE"}}function Ns(d,t){if(typeof d!="string")throw new yW(t,"string",d)}function yi(d){return d===Tr||d===Jo}function wS(d){return d===Tr}function tu(d){return d>=qle&&d<=tae||d>=eae&&d<=iae}function H3(d,t,s,l){let u="",h=0,f=-1,m=0,A=0;for(let C=0;C<=d.length;++C){if(C<d.length)A=d.charCodeAt(C);else{if(l(A))break;A=Tr}if(l(A)){if(!(f===C-1||m===1))if(m===2){if(u.length<2||h!==2||u.charCodeAt(u.length-1)!==yu||u.charCodeAt(u.length-2)!==yu){if(u.length>2){const w=u.lastIndexOf(s);w===-1?(u="",h=0):(u=u.slice(0,w),h=u.length-1-u.lastIndexOf(s)),f=C,m=0;continue}else if(u.length!==0){u="",h=0,f=C,m=0;continue}}t&&(u+=u.length>0?`${s}..`:"..",h=2)}else u.length>0?u+=`${s}${d.slice(f+1,C)}`:u=d.slice(f+1,C),h=C-f-1;f=C,m=0}else A===yu&&m!==-1?++m:m=-1}return u}function LW(d,t){if(t===null||typeof t!="object")throw new yW("pathObject","Object",t);const s=t.dir||t.root,l=t.base||`${t.name||""}${t.ext||""}`;return s?s===t.root?`${s}${l}`:`${s}${d}${l}`:l}const Ro={resolve(...d){let t="",s="",l=!1;for(let u=d.length-1;u>=-1;u--){let h;if(u>=0){if(h=d[u],Ns(h,"path"),h.length===0)continue}else t.length===0?h=CS():(h=Jle[`=${t}`]||CS(),(h===void 0||h.slice(0,2).toLowerCase()!==t.toLowerCase()&&h.charCodeAt(2)===Jo)&&(h=`${t}\\`));const f=h.length;let m=0,A="",C=!1;const w=h.charCodeAt(0);if(f===1)yi(w)&&(m=1,C=!0);else if(yi(w))if(C=!0,yi(h.charCodeAt(1))){let k=2,D=k;for(;k<f&&!yi(h.charCodeAt(k));)k++;if(k<f&&k!==D){const I=h.slice(D,k);for(D=k;k<f&&yi(h.charCodeAt(k));)k++;if(k<f&&k!==D){for(D=k;k<f&&!yi(h.charCodeAt(k));)k++;(k===f||k!==D)&&(A=`\\\\${I}\\${h.slice(D,k)}`,m=k)}}}else m=1;else tu(w)&&h.charCodeAt(1)===eu&&(A=h.slice(0,2),m=2,f>2&&yi(h.charCodeAt(2))&&(C=!0,m=3));if(A.length>0)if(t.length>0){if(A.toLowerCase()!==t.toLowerCase())continue}else t=A;if(l){if(t.length>0)break}else if(s=`${h.slice(m)}\\${s}`,l=C,C&&t.length>0)break}return s=H3(s,!l,"\\",yi),l?`${t}\\${s}`:`${t}${s}`||"."},normalize(d){Ns(d,"path");const t=d.length;if(t===0)return".";let s=0,l,u=!1;const h=d.charCodeAt(0);if(t===1)return wS(h)?"\\":d;if(yi(h))if(u=!0,yi(d.charCodeAt(1))){let m=2,A=m;for(;m<t&&!yi(d.charCodeAt(m));)m++;if(m<t&&m!==A){const C=d.slice(A,m);for(A=m;m<t&&yi(d.charCodeAt(m));)m++;if(m<t&&m!==A){for(A=m;m<t&&!yi(d.charCodeAt(m));)m++;if(m===t)return`\\\\${C}\\${d.slice(A)}\\`;m!==A&&(l=`\\\\${C}\\${d.slice(A,m)}`,s=m)}}}else s=1;else tu(h)&&d.charCodeAt(1)===eu&&(l=d.slice(0,2),s=2,t>2&&yi(d.charCodeAt(2))&&(u=!0,s=3));let f=s<t?H3(d.slice(s),!u,"\\",yi):"";return f.length===0&&!u&&(f="."),f.length>0&&yi(d.charCodeAt(t-1))&&(f+="\\"),l===void 0?u?`\\${f}`:f:u?`${l}\\${f}`:`${l}${f}`},isAbsolute(d){Ns(d,"path");const t=d.length;if(t===0)return!1;const s=d.charCodeAt(0);return yi(s)||t>2&&tu(s)&&d.charCodeAt(1)===eu&&yi(d.charCodeAt(2))},join(...d){if(d.length===0)return".";let t,s;for(let h=0;h<d.length;++h){const f=d[h];Ns(f,"path"),f.length>0&&(t===void 0?t=s=f:t+=`\\${f}`)}if(t===void 0)return".";let l=!0,u=0;if(typeof s=="string"&&yi(s.charCodeAt(0))){++u;const h=s.length;h>1&&yi(s.charCodeAt(1))&&(++u,h>2&&(yi(s.charCodeAt(2))?++u:l=!1))}if(l){for(;u<t.length&&yi(t.charCodeAt(u));)u++;u>=2&&(t=`\\${t.slice(u)}`)}return Ro.normalize(t)},relative(d,t){if(Ns(d,"from"),Ns(t,"to"),d===t)return"";const s=Ro.resolve(d),l=Ro.resolve(t);if(s===l||(d=s.toLowerCase(),t=l.toLowerCase(),d===t))return"";let u=0;for(;u<d.length&&d.charCodeAt(u)===Jo;)u++;let h=d.length;for(;h-1>u&&d.charCodeAt(h-1)===Jo;)h--;const f=h-u;let m=0;for(;m<t.length&&t.charCodeAt(m)===Jo;)m++;let A=t.length;for(;A-1>m&&t.charCodeAt(A-1)===Jo;)A--;const C=A-m,w=f<C?f:C;let k=-1,D=0;for(;D<w;D++){const N=d.charCodeAt(u+D);if(N!==t.charCodeAt(m+D))break;N===Jo&&(k=D)}if(D!==w){if(k===-1)return l}else{if(C>w){if(t.charCodeAt(m+D)===Jo)return l.slice(m+D+1);if(D===2)return l.slice(m+D)}f>w&&(d.charCodeAt(u+D)===Jo?k=D:D===2&&(k=3)),k===-1&&(k=0)}let I="";for(D=u+k+1;D<=h;++D)(D===h||d.charCodeAt(D)===Jo)&&(I+=I.length===0?"..":"\\..");return m+=k,I.length>0?`${I}${l.slice(m,A)}`:(l.charCodeAt(m)===Jo&&++m,l.slice(m,A))},toNamespacedPath(d){if(typeof d!="string")return d;if(d.length===0)return"";const t=Ro.resolve(d);if(t.length<=2)return d;if(t.charCodeAt(0)===Jo){if(t.charCodeAt(1)===Jo){const s=t.charCodeAt(2);if(s!==nae&&s!==yu)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(tu(t.charCodeAt(0))&&t.charCodeAt(1)===eu&&t.charCodeAt(2)===Jo)return`\\\\?\\${t}`;return d},dirname(d){Ns(d,"path");const t=d.length;if(t===0)return".";let s=-1,l=0;const u=d.charCodeAt(0);if(t===1)return yi(u)?d:".";if(yi(u)){if(s=l=1,yi(d.charCodeAt(1))){let m=2,A=m;for(;m<t&&!yi(d.charCodeAt(m));)m++;if(m<t&&m!==A){for(A=m;m<t&&yi(d.charCodeAt(m));)m++;if(m<t&&m!==A){for(A=m;m<t&&!yi(d.charCodeAt(m));)m++;if(m===t)return d;m!==A&&(s=l=m+1)}}}}else tu(u)&&d.charCodeAt(1)===eu&&(s=t>2&&yi(d.charCodeAt(2))?3:2,l=s);let h=-1,f=!0;for(let m=t-1;m>=l;--m)if(yi(d.charCodeAt(m))){if(!f){h=m;break}}else f=!1;if(h===-1){if(s===-1)return".";h=s}return d.slice(0,h)},basename(d,t){t!==void 0&&Ns(t,"ext"),Ns(d,"path");let s=0,l=-1,u=!0,h;if(d.length>=2&&tu(d.charCodeAt(0))&&d.charCodeAt(1)===eu&&(s=2),t!==void 0&&t.length>0&&t.length<=d.length){if(t===d)return"";let f=t.length-1,m=-1;for(h=d.length-1;h>=s;--h){const A=d.charCodeAt(h);if(yi(A)){if(!u){s=h+1;break}}else m===-1&&(u=!1,m=h+1),f>=0&&(A===t.charCodeAt(f)?--f===-1&&(l=h):(f=-1,l=m))}return s===l?l=m:l===-1&&(l=d.length),d.slice(s,l)}for(h=d.length-1;h>=s;--h)if(yi(d.charCodeAt(h))){if(!u){s=h+1;break}}else l===-1&&(u=!1,l=h+1);return l===-1?"":d.slice(s,l)},extname(d){Ns(d,"path");let t=0,s=-1,l=0,u=-1,h=!0,f=0;d.length>=2&&d.charCodeAt(1)===eu&&tu(d.charCodeAt(0))&&(t=l=2);for(let m=d.length-1;m>=t;--m){const A=d.charCodeAt(m);if(yi(A)){if(!h){l=m+1;break}continue}u===-1&&(h=!1,u=m+1),A===yu?s===-1?s=m:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===l+1?"":d.slice(s,u)},format:LW.bind(null,"\\"),parse(d){Ns(d,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return t;const s=d.length;let l=0,u=d.charCodeAt(0);if(s===1)return yi(u)?(t.root=t.dir=d,t):(t.base=t.name=d,t);if(yi(u)){if(l=1,yi(d.charCodeAt(1))){let k=2,D=k;for(;k<s&&!yi(d.charCodeAt(k));)k++;if(k<s&&k!==D){for(D=k;k<s&&yi(d.charCodeAt(k));)k++;if(k<s&&k!==D){for(D=k;k<s&&!yi(d.charCodeAt(k));)k++;k===s?l=k:k!==D&&(l=k+1)}}}}else if(tu(u)&&d.charCodeAt(1)===eu){if(s<=2)return t.root=t.dir=d,t;if(l=2,yi(d.charCodeAt(2))){if(s===3)return t.root=t.dir=d,t;l=3}}l>0&&(t.root=d.slice(0,l));let h=-1,f=l,m=-1,A=!0,C=d.length-1,w=0;for(;C>=l;--C){if(u=d.charCodeAt(C),yi(u)){if(!A){f=C+1;break}continue}m===-1&&(A=!1,m=C+1),u===yu?h===-1?h=C:w!==1&&(w=1):h!==-1&&(w=-1)}return m!==-1&&(h===-1||w===0||w===1&&h===m-1&&h===f+1?t.base=t.name=d.slice(f,m):(t.name=d.slice(f,h),t.base=d.slice(f,m),t.ext=d.slice(h,m))),f>0&&f!==l?t.dir=d.slice(0,f-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},qn={resolve(...d){let t="",s=!1;for(let l=d.length-1;l>=-1&&!s;l--){const u=l>=0?d[l]:CS();Ns(u,"path"),u.length!==0&&(t=`${u}/${t}`,s=u.charCodeAt(0)===Tr)}return t=H3(t,!s,"/",wS),s?`/${t}`:t.length>0?t:"."},normalize(d){if(Ns(d,"path"),d.length===0)return".";const t=d.charCodeAt(0)===Tr,s=d.charCodeAt(d.length-1)===Tr;return d=H3(d,!t,"/",wS),d.length===0?t?"/":s?"./":".":(s&&(d+="/"),t?`/${d}`:d)},isAbsolute(d){return Ns(d,"path"),d.length>0&&d.charCodeAt(0)===Tr},join(...d){if(d.length===0)return".";let t;for(let s=0;s<d.length;++s){const l=d[s];Ns(l,"path"),l.length>0&&(t===void 0?t=l:t+=`/${l}`)}return t===void 0?".":qn.normalize(t)},relative(d,t){if(Ns(d,"from"),Ns(t,"to"),d===t||(d=qn.resolve(d),t=qn.resolve(t),d===t))return"";const s=1,l=d.length,u=l-s,h=1,f=t.length-h,m=u<f?u:f;let A=-1,C=0;for(;C<m;C++){const k=d.charCodeAt(s+C);if(k!==t.charCodeAt(h+C))break;k===Tr&&(A=C)}if(C===m)if(f>m){if(t.charCodeAt(h+C)===Tr)return t.slice(h+C+1);if(C===0)return t.slice(h+C)}else u>m&&(d.charCodeAt(s+C)===Tr?A=C:C===0&&(A=0));let w="";for(C=s+A+1;C<=l;++C)(C===l||d.charCodeAt(C)===Tr)&&(w+=w.length===0?"..":"/..");return`${w}${t.slice(h+A)}`},toNamespacedPath(d){return d},dirname(d){if(Ns(d,"path"),d.length===0)return".";const t=d.charCodeAt(0)===Tr;let s=-1,l=!0;for(let u=d.length-1;u>=1;--u)if(d.charCodeAt(u)===Tr){if(!l){s=u;break}}else l=!1;return s===-1?t?"/":".":t&&s===1?"//":d.slice(0,s)},basename(d,t){t!==void 0&&Ns(t,"ext"),Ns(d,"path");let s=0,l=-1,u=!0,h;if(t!==void 0&&t.length>0&&t.length<=d.length){if(t===d)return"";let f=t.length-1,m=-1;for(h=d.length-1;h>=0;--h){const A=d.charCodeAt(h);if(A===Tr){if(!u){s=h+1;break}}else m===-1&&(u=!1,m=h+1),f>=0&&(A===t.charCodeAt(f)?--f===-1&&(l=h):(f=-1,l=m))}return s===l?l=m:l===-1&&(l=d.length),d.slice(s,l)}for(h=d.length-1;h>=0;--h)if(d.charCodeAt(h)===Tr){if(!u){s=h+1;break}}else l===-1&&(u=!1,l=h+1);return l===-1?"":d.slice(s,l)},extname(d){Ns(d,"path");let t=-1,s=0,l=-1,u=!0,h=0;for(let f=d.length-1;f>=0;--f){const m=d.charCodeAt(f);if(m===Tr){if(!u){s=f+1;break}continue}l===-1&&(u=!1,l=f+1),m===yu?t===-1?t=f:h!==1&&(h=1):t!==-1&&(h=-1)}return t===-1||l===-1||h===0||h===1&&t===l-1&&t===s+1?"":d.slice(t,l)},format:LW.bind(null,"/"),parse(d){Ns(d,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return t;const s=d.charCodeAt(0)===Tr;let l;s?(t.root="/",l=1):l=0;let u=-1,h=0,f=-1,m=!0,A=d.length-1,C=0;for(;A>=l;--A){const w=d.charCodeAt(A);if(w===Tr){if(!m){h=A+1;break}continue}f===-1&&(m=!1,f=A+1),w===yu?u===-1?u=A:C!==1&&(C=1):u!==-1&&(C=-1)}if(f!==-1){const w=h===0&&s?1:h;u===-1||C===0||C===1&&u===f-1&&u===h+1?t.base=t.name=d.slice(w,f):(t.name=d.slice(w,u),t.base=d.slice(w,f),t.ext=d.slice(u,f))}return h>0?t.dir=d.slice(0,h-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};qn.win32=Ro.win32=Ro;qn.posix=Ro.posix=qn;const jD=Sf==="win32"?Ro.normalize:qn.normalize,sae=Sf==="win32"?Ro.resolve:qn.resolve,rae=Sf==="win32"?Ro.relative:qn.relative,DW=Sf==="win32"?Ro.dirname:qn.dirname,wd=Sf==="win32"?Ro.basename:qn.basename,oae=Sf==="win32"?Ro.extname:qn.extname,a0=Sf==="win32"?Ro.sep:qn.sep,lae=/^\w[\w\d+.-]*$/,aae=/^\//,cae=/^\/\//;function mM(d,t){if(!d.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${d.authority}", path: "${d.path}", query: "${d.query}", fragment: "${d.fragment}"}`);if(d.scheme&&!lae.test(d.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(d.path){if(d.authority){if(!aae.test(d.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(cae.test(d.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function uae(d,t){return!d&&!t?"file":d}function hae(d,t){switch(d){case"https":case"http":case"file":t?t[0]!==Ga&&(t=Ga+t):t=Ga;break}return t}const zn="",Ga="/",dae=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Lt{constructor(t,s,l,u,h,f=!1){typeof t=="object"?(this.scheme=t.scheme||zn,this.authority=t.authority||zn,this.path=t.path||zn,this.query=t.query||zn,this.fragment=t.fragment||zn):(this.scheme=uae(t,f),this.authority=s||zn,this.path=hae(this.scheme,l||zn),this.query=u||zn,this.fragment=h||zn,mM(this,f))}static isUri(t){return t instanceof Lt?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}get fsPath(){return U3(this,!1)}with(t){if(!t)return this;let{scheme:s,authority:l,path:u,query:h,fragment:f}=t;return s===void 0?s=this.scheme:s===null&&(s=zn),l===void 0?l=this.authority:l===null&&(l=zn),u===void 0?u=this.path:u===null&&(u=zn),h===void 0?h=this.query:h===null&&(h=zn),f===void 0?f=this.fragment:f===null&&(f=zn),s===this.scheme&&l===this.authority&&u===this.path&&h===this.query&&f===this.fragment?this:new C1(s,l,u,h,f)}static parse(t,s=!1){const l=dae.exec(t);return l?new C1(l[2]||zn,O8(l[4]||zn),O8(l[5]||zn),O8(l[7]||zn),O8(l[9]||zn),s):new C1(zn,zn,zn,zn,zn)}static file(t){let s=zn;if(Gs&&(t=t.replace(/\\/g,Ga)),t[0]===Ga&&t[1]===Ga){const l=t.indexOf(Ga,2);l===-1?(s=t.substring(2),t=Ga):(s=t.substring(2,l),t=t.substring(l)||Ga)}return new C1("file",s,t,zn,zn)}static from(t){const s=new C1(t.scheme,t.authority,t.path,t.query,t.fragment);return mM(s,!0),s}static joinPath(t,...s){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let l;return Gs&&t.scheme==="file"?l=Lt.file(Ro.join(U3(t,!0),...s)).path:l=qn.join(t.path,...s),t.with({path:l})}toString(t=!1){return vS(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof Lt)return t;{const s=new C1(t);return s._formatted=t.external,s._fsPath=t._sep===IW?t.fsPath:null,s}}else return t}}const IW=Gs?1:void 0;class C1 extends Lt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=U3(this,!1)),this._fsPath}toString(t=!1){return t?vS(this,!0):(this._formatted||(this._formatted=vS(this,!1)),this._formatted)}toJSON(){const t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=IW),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}}const xW={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function pM(d,t){let s,l=-1;for(let u=0;u<d.length;u++){const h=d.charCodeAt(u);if(h>=97&&h<=122||h>=65&&h<=90||h>=48&&h<=57||h===45||h===46||h===95||h===126||t&&h===47)l!==-1&&(s+=encodeURIComponent(d.substring(l,u)),l=-1),s!==void 0&&(s+=d.charAt(u));else{s===void 0&&(s=d.substr(0,u));const f=xW[h];f!==void 0?(l!==-1&&(s+=encodeURIComponent(d.substring(l,u)),l=-1),s+=f):l===-1&&(l=u)}}return l!==-1&&(s+=encodeURIComponent(d.substring(l))),s!==void 0?s:d}function fae(d){let t;for(let s=0;s<d.length;s++){const l=d.charCodeAt(s);l===35||l===63?(t===void 0&&(t=d.substr(0,s)),t+=xW[l]):t!==void 0&&(t+=d[s])}return t!==void 0?t:d}function U3(d,t){let s;return d.authority&&d.path.length>1&&d.scheme==="file"?s=`//${d.authority}${d.path}`:d.path.charCodeAt(0)===47&&(d.path.charCodeAt(1)>=65&&d.path.charCodeAt(1)<=90||d.path.charCodeAt(1)>=97&&d.path.charCodeAt(1)<=122)&&d.path.charCodeAt(2)===58?t?s=d.path.substr(1):s=d.path[1].toLowerCase()+d.path.substr(2):s=d.path,Gs&&(s=s.replace(/\//g,"\\")),s}function vS(d,t){const s=t?fae:pM;let l="",{scheme:u,authority:h,path:f,query:m,fragment:A}=d;if(u&&(l+=u,l+=":"),(h||u==="file")&&(l+=Ga,l+=Ga),h){let C=h.indexOf("@");if(C!==-1){const w=h.substr(0,C);h=h.substr(C+1),C=w.indexOf(":"),C===-1?l+=s(w,!1):(l+=s(w.substr(0,C),!1),l+=":",l+=s(w.substr(C+1),!1)),l+="@"}h=h.toLowerCase(),C=h.indexOf(":"),C===-1?l+=s(h,!1):(l+=s(h.substr(0,C),!1),l+=h.substr(C))}if(f){if(f.length>=3&&f.charCodeAt(0)===47&&f.charCodeAt(2)===58){const C=f.charCodeAt(1);C>=65&&C<=90&&(f=`/${String.fromCharCode(C+32)}:${f.substr(3)}`)}else if(f.length>=2&&f.charCodeAt(1)===58){const C=f.charCodeAt(0);C>=65&&C<=90&&(f=`${String.fromCharCode(C+32)}:${f.substr(2)}`)}l+=s(f,!0)}return m&&(l+="?",l+=s(m,!1)),A&&(l+="#",l+=t?A:pM(A,!1)),l}function EW(d){try{return decodeURIComponent(d)}catch{return d.length>3?d.substr(0,3)+EW(d.substr(3)):d}}const AM=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O8(d){return d.match(AM)?d.replace(AM,t=>EW(t)):d}class me{constructor(t,s){this.lineNumber=t,this.column=s}with(t=this.lineNumber,s=this.column){return t===this.lineNumber&&s===this.column?this:new me(t,s)}delta(t=0,s=0){return this.with(this.lineNumber+t,this.column+s)}equals(t){return me.equals(this,t)}static equals(t,s){return!t&&!s?!0:!!t&&!!s&&t.lineNumber===s.lineNumber&&t.column===s.column}isBefore(t){return me.isBefore(this,t)}static isBefore(t,s){return t.lineNumber<s.lineNumber?!0:s.lineNumber<t.lineNumber?!1:t.column<s.column}isBeforeOrEqual(t){return me.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,s){return t.lineNumber<s.lineNumber?!0:s.lineNumber<t.lineNumber?!1:t.column<=s.column}static compare(t,s){const l=t.lineNumber|0,u=s.lineNumber|0;if(l===u){const h=t.column|0,f=s.column|0;return h-f}return l-u}clone(){return new me(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new me(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}}class ${constructor(t,s,l,u){t>l||t===l&&s>u?(this.startLineNumber=l,this.startColumn=u,this.endLineNumber=t,this.endColumn=s):(this.startLineNumber=t,this.startColumn=s,this.endLineNumber=l,this.endColumn=u)}isEmpty(){return $.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return $.containsPosition(this,t)}static containsPosition(t,s){return!(s.lineNumber<t.startLineNumber||s.lineNumber>t.endLineNumber||s.lineNumber===t.startLineNumber&&s.column<t.startColumn||s.lineNumber===t.endLineNumber&&s.column>t.endColumn)}static strictContainsPosition(t,s){return!(s.lineNumber<t.startLineNumber||s.lineNumber>t.endLineNumber||s.lineNumber===t.startLineNumber&&s.column<=t.startColumn||s.lineNumber===t.endLineNumber&&s.column>=t.endColumn)}containsRange(t){return $.containsRange(this,t)}static containsRange(t,s){return!(s.startLineNumber<t.startLineNumber||s.endLineNumber<t.startLineNumber||s.startLineNumber>t.endLineNumber||s.endLineNumber>t.endLineNumber||s.startLineNumber===t.startLineNumber&&s.startColumn<t.startColumn||s.endLineNumber===t.endLineNumber&&s.endColumn>t.endColumn)}strictContainsRange(t){return $.strictContainsRange(this,t)}static strictContainsRange(t,s){return!(s.startLineNumber<t.startLineNumber||s.endLineNumber<t.startLineNumber||s.startLineNumber>t.endLineNumber||s.endLineNumber>t.endLineNumber||s.startLineNumber===t.startLineNumber&&s.startColumn<=t.startColumn||s.endLineNumber===t.endLineNumber&&s.endColumn>=t.endColumn)}plusRange(t){return $.plusRange(this,t)}static plusRange(t,s){let l,u,h,f;return s.startLineNumber<t.startLineNumber?(l=s.startLineNumber,u=s.startColumn):s.startLineNumber===t.startLineNumber?(l=s.startLineNumber,u=Math.min(s.startColumn,t.startColumn)):(l=t.startLineNumber,u=t.startColumn),s.endLineNumber>t.endLineNumber?(h=s.endLineNumber,f=s.endColumn):s.endLineNumber===t.endLineNumber?(h=s.endLineNumber,f=Math.max(s.endColumn,t.endColumn)):(h=t.endLineNumber,f=t.endColumn),new $(l,u,h,f)}intersectRanges(t){return $.intersectRanges(this,t)}static intersectRanges(t,s){let l=t.startLineNumber,u=t.startColumn,h=t.endLineNumber,f=t.endColumn,m=s.startLineNumber,A=s.startColumn,C=s.endLineNumber,w=s.endColumn;return l<m?(l=m,u=A):l===m&&(u=Math.max(u,A)),h>C?(h=C,f=w):h===C&&(f=Math.min(f,w)),l>h||l===h&&u>f?null:new $(l,u,h,f)}equalsRange(t){return $.equalsRange(this,t)}static equalsRange(t,s){return!!t&&!!s&&t.startLineNumber===s.startLineNumber&&t.startColumn===s.startColumn&&t.endLineNumber===s.endLineNumber&&t.endColumn===s.endColumn}getEndPosition(){return $.getEndPosition(this)}static getEndPosition(t){return new me(t.endLineNumber,t.endColumn)}getStartPosition(){return $.getStartPosition(this)}static getStartPosition(t){return new me(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,s){return new $(this.startLineNumber,this.startColumn,t,s)}setStartPosition(t,s){return new $(t,s,this.endLineNumber,this.endColumn)}collapseToStart(){return $.collapseToStart(this)}static collapseToStart(t){return new $(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}static fromPositions(t,s=t){return new $(t.lineNumber,t.column,s.lineNumber,s.column)}static lift(t){return t?new $(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,s){return!(t.endLineNumber<s.startLineNumber||t.endLineNumber===s.startLineNumber&&t.endColumn<s.startColumn||s.endLineNumber<t.startLineNumber||s.endLineNumber===t.startLineNumber&&s.endColumn<t.startColumn)}static areIntersecting(t,s){return!(t.endLineNumber<s.startLineNumber||t.endLineNumber===s.startLineNumber&&t.endColumn<=s.startColumn||s.endLineNumber<t.startLineNumber||s.endLineNumber===t.startLineNumber&&s.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,s){if(t&&s){const h=t.startLineNumber|0,f=s.startLineNumber|0;if(h===f){const m=t.startColumn|0,A=s.startColumn|0;if(m===A){const C=t.endLineNumber|0,w=s.endLineNumber|0;if(C===w){const k=t.endColumn|0,D=s.endColumn|0;return k-D}return C-w}return m-A}return h-f}return(t?1:0)-(s?1:0)}static compareRangesUsingEnds(t,s){return t.endLineNumber===s.endLineNumber?t.endColumn===s.endColumn?t.startLineNumber===s.startLineNumber?t.startColumn-s.startColumn:t.startLineNumber-s.startLineNumber:t.endColumn-s.endColumn:t.endLineNumber-s.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}}class et extends ${constructor(t,s,l,u){super(t,s,l,u),this.selectionStartLineNumber=t,this.selectionStartColumn=s,this.positionLineNumber=l,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(t){return et.selectionsEqual(this,t)}static selectionsEqual(t,s){return t.selectionStartLineNumber===s.selectionStartLineNumber&&t.selectionStartColumn===s.selectionStartColumn&&t.positionLineNumber===s.positionLineNumber&&t.positionColumn===s.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(t,s){return this.getDirection()===0?new et(this.startLineNumber,this.startColumn,t,s):new et(t,s,this.startLineNumber,this.startColumn)}getPosition(){return new me(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new me(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(t,s){return this.getDirection()===0?new et(t,s,this.endLineNumber,this.endColumn):new et(this.endLineNumber,this.endColumn,t,s)}static fromPositions(t,s=t){return new et(t.lineNumber,t.column,s.lineNumber,s.column)}static fromRange(t,s){return s===0?new et(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new et(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}static liftSelection(t){return new et(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)}static selectionsArrEqual(t,s){if(t&&!s||!t&&s)return!1;if(!t&&!s)return!0;if(t.length!==s.length)return!1;for(let l=0,u=t.length;l<u;l++)if(!this.selectionsEqual(t[l],s[l]))return!1;return!0}static isISelection(t){return t&&typeof t.selectionStartLineNumber=="number"&&typeof t.selectionStartColumn=="number"&&typeof t.positionLineNumber=="number"&&typeof t.positionColumn=="number"}static createWithDirection(t,s,l,u,h){return h===0?new et(t,s,l,u):new et(l,u,t,s)}}var kS=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class gae{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(t){this._onDidChange.fire({changedLanguages:t,changedColorMap:!1})}register(t,s){return this._map.set(t,s),this.fire([t]),$t(()=>{this._map.get(t)===s&&(this._map.delete(t),this.fire([t]))})}registerFactory(t,s){var l;(l=this._factories.get(t))===null||l===void 0||l.dispose();const u=new mae(this,t,s);return this._factories.set(t,u),$t(()=>{const h=this._factories.get(t);!h||h!==u||(this._factories.delete(t),h.dispose())})}getOrCreate(t){return kS(this,void 0,void 0,function*(){const s=this.get(t);if(s)return s;const l=this._factories.get(t);return!l||l.isResolved?null:(yield l.resolve(),this.get(t))})}get(t){return this._map.get(t)||null}isResolved(t){if(this.get(t))return!0;const l=this._factories.get(t);return!!(!l||l.isResolved)}setColorMap(t){this._colorMap=t,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class mae extends Se{constructor(t,s,l){super(),this._registry=t,this._languageId=s,this._factory=l,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return kS(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return kS(this,void 0,void 0,function*(){const t=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t))})}}function pae(d){return d?d.replace(/\$\((.*?)\)/g,(t,s)=>` ${s} `).trim():""}class T{constructor(t,s,l){this.id=t,this.definition=s,this.description=l,T._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return T._allCodicons}}T._allCodicons=[];T.add=new T("add",{fontCharacter:"\\ea60"});T.plus=new T("plus",T.add.definition);T.gistNew=new T("gist-new",T.add.definition);T.repoCreate=new T("repo-create",T.add.definition);T.lightbulb=new T("lightbulb",{fontCharacter:"\\ea61"});T.lightBulb=new T("light-bulb",{fontCharacter:"\\ea61"});T.repo=new T("repo",{fontCharacter:"\\ea62"});T.repoDelete=new T("repo-delete",{fontCharacter:"\\ea62"});T.gistFork=new T("gist-fork",{fontCharacter:"\\ea63"});T.repoForked=new T("repo-forked",{fontCharacter:"\\ea63"});T.gitPullRequest=new T("git-pull-request",{fontCharacter:"\\ea64"});T.gitPullRequestAbandoned=new T("git-pull-request-abandoned",{fontCharacter:"\\ea64"});T.recordKeys=new T("record-keys",{fontCharacter:"\\ea65"});T.keyboard=new T("keyboard",{fontCharacter:"\\ea65"});T.tag=new T("tag",{fontCharacter:"\\ea66"});T.tagAdd=new T("tag-add",{fontCharacter:"\\ea66"});T.tagRemove=new T("tag-remove",{fontCharacter:"\\ea66"});T.person=new T("person",{fontCharacter:"\\ea67"});T.personFollow=new T("person-follow",{fontCharacter:"\\ea67"});T.personOutline=new T("person-outline",{fontCharacter:"\\ea67"});T.personFilled=new T("person-filled",{fontCharacter:"\\ea67"});T.gitBranch=new T("git-branch",{fontCharacter:"\\ea68"});T.gitBranchCreate=new T("git-branch-create",{fontCharacter:"\\ea68"});T.gitBranchDelete=new T("git-branch-delete",{fontCharacter:"\\ea68"});T.sourceControl=new T("source-control",{fontCharacter:"\\ea68"});T.mirror=new T("mirror",{fontCharacter:"\\ea69"});T.mirrorPublic=new T("mirror-public",{fontCharacter:"\\ea69"});T.star=new T("star",{fontCharacter:"\\ea6a"});T.starAdd=new T("star-add",{fontCharacter:"\\ea6a"});T.starDelete=new T("star-delete",{fontCharacter:"\\ea6a"});T.starEmpty=new T("star-empty",{fontCharacter:"\\ea6a"});T.comment=new T("comment",{fontCharacter:"\\ea6b"});T.commentAdd=new T("comment-add",{fontCharacter:"\\ea6b"});T.alert=new T("alert",{fontCharacter:"\\ea6c"});T.warning=new T("warning",{fontCharacter:"\\ea6c"});T.search=new T("search",{fontCharacter:"\\ea6d"});T.searchSave=new T("search-save",{fontCharacter:"\\ea6d"});T.logOut=new T("log-out",{fontCharacter:"\\ea6e"});T.signOut=new T("sign-out",{fontCharacter:"\\ea6e"});T.logIn=new T("log-in",{fontCharacter:"\\ea6f"});T.signIn=new T("sign-in",{fontCharacter:"\\ea6f"});T.eye=new T("eye",{fontCharacter:"\\ea70"});T.eyeUnwatch=new T("eye-unwatch",{fontCharacter:"\\ea70"});T.eyeWatch=new T("eye-watch",{fontCharacter:"\\ea70"});T.circleFilled=new T("circle-filled",{fontCharacter:"\\ea71"});T.primitiveDot=new T("primitive-dot",{fontCharacter:"\\ea71"});T.closeDirty=new T("close-dirty",{fontCharacter:"\\ea71"});T.debugBreakpoint=new T("debug-breakpoint",{fontCharacter:"\\ea71"});T.debugBreakpointDisabled=new T("debug-breakpoint-disabled",{fontCharacter:"\\ea71"});T.debugHint=new T("debug-hint",{fontCharacter:"\\ea71"});T.primitiveSquare=new T("primitive-square",{fontCharacter:"\\ea72"});T.edit=new T("edit",{fontCharacter:"\\ea73"});T.pencil=new T("pencil",{fontCharacter:"\\ea73"});T.info=new T("info",{fontCharacter:"\\ea74"});T.issueOpened=new T("issue-opened",{fontCharacter:"\\ea74"});T.gistPrivate=new T("gist-private",{fontCharacter:"\\ea75"});T.gitForkPrivate=new T("git-fork-private",{fontCharacter:"\\ea75"});T.lock=new T("lock",{fontCharacter:"\\ea75"});T.mirrorPrivate=new T("mirror-private",{fontCharacter:"\\ea75"});T.close=new T("close",{fontCharacter:"\\ea76"});T.removeClose=new T("remove-close",{fontCharacter:"\\ea76"});T.x=new T("x",{fontCharacter:"\\ea76"});T.repoSync=new T("repo-sync",{fontCharacter:"\\ea77"});T.sync=new T("sync",{fontCharacter:"\\ea77"});T.clone=new T("clone",{fontCharacter:"\\ea78"});T.desktopDownload=new T("desktop-download",{fontCharacter:"\\ea78"});T.beaker=new T("beaker",{fontCharacter:"\\ea79"});T.microscope=new T("microscope",{fontCharacter:"\\ea79"});T.vm=new T("vm",{fontCharacter:"\\ea7a"});T.deviceDesktop=new T("device-desktop",{fontCharacter:"\\ea7a"});T.file=new T("file",{fontCharacter:"\\ea7b"});T.fileText=new T("file-text",{fontCharacter:"\\ea7b"});T.more=new T("more",{fontCharacter:"\\ea7c"});T.ellipsis=new T("ellipsis",{fontCharacter:"\\ea7c"});T.kebabHorizontal=new T("kebab-horizontal",{fontCharacter:"\\ea7c"});T.mailReply=new T("mail-reply",{fontCharacter:"\\ea7d"});T.reply=new T("reply",{fontCharacter:"\\ea7d"});T.organization=new T("organization",{fontCharacter:"\\ea7e"});T.organizationFilled=new T("organization-filled",{fontCharacter:"\\ea7e"});T.organizationOutline=new T("organization-outline",{fontCharacter:"\\ea7e"});T.newFile=new T("new-file",{fontCharacter:"\\ea7f"});T.fileAdd=new T("file-add",{fontCharacter:"\\ea7f"});T.newFolder=new T("new-folder",{fontCharacter:"\\ea80"});T.fileDirectoryCreate=new T("file-directory-create",{fontCharacter:"\\ea80"});T.trash=new T("trash",{fontCharacter:"\\ea81"});T.trashcan=new T("trashcan",{fontCharacter:"\\ea81"});T.history=new T("history",{fontCharacter:"\\ea82"});T.clock=new T("clock",{fontCharacter:"\\ea82"});T.folder=new T("folder",{fontCharacter:"\\ea83"});T.fileDirectory=new T("file-directory",{fontCharacter:"\\ea83"});T.symbolFolder=new T("symbol-folder",{fontCharacter:"\\ea83"});T.logoGithub=new T("logo-github",{fontCharacter:"\\ea84"});T.markGithub=new T("mark-github",{fontCharacter:"\\ea84"});T.github=new T("github",{fontCharacter:"\\ea84"});T.terminal=new T("terminal",{fontCharacter:"\\ea85"});T.console=new T("console",{fontCharacter:"\\ea85"});T.repl=new T("repl",{fontCharacter:"\\ea85"});T.zap=new T("zap",{fontCharacter:"\\ea86"});T.symbolEvent=new T("symbol-event",{fontCharacter:"\\ea86"});T.error=new T("error",{fontCharacter:"\\ea87"});T.stop=new T("stop",{fontCharacter:"\\ea87"});T.variable=new T("variable",{fontCharacter:"\\ea88"});T.symbolVariable=new T("symbol-variable",{fontCharacter:"\\ea88"});T.array=new T("array",{fontCharacter:"\\ea8a"});T.symbolArray=new T("symbol-array",{fontCharacter:"\\ea8a"});T.symbolModule=new T("symbol-module",{fontCharacter:"\\ea8b"});T.symbolPackage=new T("symbol-package",{fontCharacter:"\\ea8b"});T.symbolNamespace=new T("symbol-namespace",{fontCharacter:"\\ea8b"});T.symbolObject=new T("symbol-object",{fontCharacter:"\\ea8b"});T.symbolMethod=new T("symbol-method",{fontCharacter:"\\ea8c"});T.symbolFunction=new T("symbol-function",{fontCharacter:"\\ea8c"});T.symbolConstructor=new T("symbol-constructor",{fontCharacter:"\\ea8c"});T.symbolBoolean=new T("symbol-boolean",{fontCharacter:"\\ea8f"});T.symbolNull=new T("symbol-null",{fontCharacter:"\\ea8f"});T.symbolNumeric=new T("symbol-numeric",{fontCharacter:"\\ea90"});T.symbolNumber=new T("symbol-number",{fontCharacter:"\\ea90"});T.symbolStructure=new T("symbol-structure",{fontCharacter:"\\ea91"});T.symbolStruct=new T("symbol-struct",{fontCharacter:"\\ea91"});T.symbolParameter=new T("symbol-parameter",{fontCharacter:"\\ea92"});T.symbolTypeParameter=new T("symbol-type-parameter",{fontCharacter:"\\ea92"});T.symbolKey=new T("symbol-key",{fontCharacter:"\\ea93"});T.symbolText=new T("symbol-text",{fontCharacter:"\\ea93"});T.symbolReference=new T("symbol-reference",{fontCharacter:"\\ea94"});T.goToFile=new T("go-to-file",{fontCharacter:"\\ea94"});T.symbolEnum=new T("symbol-enum",{fontCharacter:"\\ea95"});T.symbolValue=new T("symbol-value",{fontCharacter:"\\ea95"});T.symbolRuler=new T("symbol-ruler",{fontCharacter:"\\ea96"});T.symbolUnit=new T("symbol-unit",{fontCharacter:"\\ea96"});T.activateBreakpoints=new T("activate-breakpoints",{fontCharacter:"\\ea97"});T.archive=new T("archive",{fontCharacter:"\\ea98"});T.arrowBoth=new T("arrow-both",{fontCharacter:"\\ea99"});T.arrowDown=new T("arrow-down",{fontCharacter:"\\ea9a"});T.arrowLeft=new T("arrow-left",{fontCharacter:"\\ea9b"});T.arrowRight=new T("arrow-right",{fontCharacter:"\\ea9c"});T.arrowSmallDown=new T("arrow-small-down",{fontCharacter:"\\ea9d"});T.arrowSmallLeft=new T("arrow-small-left",{fontCharacter:"\\ea9e"});T.arrowSmallRight=new T("arrow-small-right",{fontCharacter:"\\ea9f"});T.arrowSmallUp=new T("arrow-small-up",{fontCharacter:"\\eaa0"});T.arrowUp=new T("arrow-up",{fontCharacter:"\\eaa1"});T.bell=new T("bell",{fontCharacter:"\\eaa2"});T.bold=new T("bold",{fontCharacter:"\\eaa3"});T.book=new T("book",{fontCharacter:"\\eaa4"});T.bookmark=new T("bookmark",{fontCharacter:"\\eaa5"});T.debugBreakpointConditionalUnverified=new T("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"});T.debugBreakpointConditional=new T("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"});T.debugBreakpointConditionalDisabled=new T("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"});T.debugBreakpointDataUnverified=new T("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"});T.debugBreakpointData=new T("debug-breakpoint-data",{fontCharacter:"\\eaa9"});T.debugBreakpointDataDisabled=new T("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"});T.debugBreakpointLogUnverified=new T("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"});T.debugBreakpointLog=new T("debug-breakpoint-log",{fontCharacter:"\\eaab"});T.debugBreakpointLogDisabled=new T("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"});T.briefcase=new T("briefcase",{fontCharacter:"\\eaac"});T.broadcast=new T("broadcast",{fontCharacter:"\\eaad"});T.browser=new T("browser",{fontCharacter:"\\eaae"});T.bug=new T("bug",{fontCharacter:"\\eaaf"});T.calendar=new T("calendar",{fontCharacter:"\\eab0"});T.caseSensitive=new T("case-sensitive",{fontCharacter:"\\eab1"});T.check=new T("check",{fontCharacter:"\\eab2"});T.checklist=new T("checklist",{fontCharacter:"\\eab3"});T.chevronDown=new T("chevron-down",{fontCharacter:"\\eab4"});T.dropDownButton=new T("drop-down-button",T.chevronDown.definition);T.chevronLeft=new T("chevron-left",{fontCharacter:"\\eab5"});T.chevronRight=new T("chevron-right",{fontCharacter:"\\eab6"});T.chevronUp=new T("chevron-up",{fontCharacter:"\\eab7"});T.chromeClose=new T("chrome-close",{fontCharacter:"\\eab8"});T.chromeMaximize=new T("chrome-maximize",{fontCharacter:"\\eab9"});T.chromeMinimize=new T("chrome-minimize",{fontCharacter:"\\eaba"});T.chromeRestore=new T("chrome-restore",{fontCharacter:"\\eabb"});T.circleOutline=new T("circle-outline",{fontCharacter:"\\eabc"});T.debugBreakpointUnverified=new T("debug-breakpoint-unverified",{fontCharacter:"\\eabc"});T.circleSlash=new T("circle-slash",{fontCharacter:"\\eabd"});T.circuitBoard=new T("circuit-board",{fontCharacter:"\\eabe"});T.clearAll=new T("clear-all",{fontCharacter:"\\eabf"});T.clippy=new T("clippy",{fontCharacter:"\\eac0"});T.closeAll=new T("close-all",{fontCharacter:"\\eac1"});T.cloudDownload=new T("cloud-download",{fontCharacter:"\\eac2"});T.cloudUpload=new T("cloud-upload",{fontCharacter:"\\eac3"});T.code=new T("code",{fontCharacter:"\\eac4"});T.collapseAll=new T("collapse-all",{fontCharacter:"\\eac5"});T.colorMode=new T("color-mode",{fontCharacter:"\\eac6"});T.commentDiscussion=new T("comment-discussion",{fontCharacter:"\\eac7"});T.compareChanges=new T("compare-changes",{fontCharacter:"\\eafd"});T.creditCard=new T("credit-card",{fontCharacter:"\\eac9"});T.dash=new T("dash",{fontCharacter:"\\eacc"});T.dashboard=new T("dashboard",{fontCharacter:"\\eacd"});T.database=new T("database",{fontCharacter:"\\eace"});T.debugContinue=new T("debug-continue",{fontCharacter:"\\eacf"});T.debugDisconnect=new T("debug-disconnect",{fontCharacter:"\\ead0"});T.debugPause=new T("debug-pause",{fontCharacter:"\\ead1"});T.debugRestart=new T("debug-restart",{fontCharacter:"\\ead2"});T.debugStart=new T("debug-start",{fontCharacter:"\\ead3"});T.debugStepInto=new T("debug-step-into",{fontCharacter:"\\ead4"});T.debugStepOut=new T("debug-step-out",{fontCharacter:"\\ead5"});T.debugStepOver=new T("debug-step-over",{fontCharacter:"\\ead6"});T.debugStop=new T("debug-stop",{fontCharacter:"\\ead7"});T.debug=new T("debug",{fontCharacter:"\\ead8"});T.deviceCameraVideo=new T("device-camera-video",{fontCharacter:"\\ead9"});T.deviceCamera=new T("device-camera",{fontCharacter:"\\eada"});T.deviceMobile=new T("device-mobile",{fontCharacter:"\\eadb"});T.diffAdded=new T("diff-added",{fontCharacter:"\\eadc"});T.diffIgnored=new T("diff-ignored",{fontCharacter:"\\eadd"});T.diffModified=new T("diff-modified",{fontCharacter:"\\eade"});T.diffRemoved=new T("diff-removed",{fontCharacter:"\\eadf"});T.diffRenamed=new T("diff-renamed",{fontCharacter:"\\eae0"});T.diff=new T("diff",{fontCharacter:"\\eae1"});T.discard=new T("discard",{fontCharacter:"\\eae2"});T.editorLayout=new T("editor-layout",{fontCharacter:"\\eae3"});T.emptyWindow=new T("empty-window",{fontCharacter:"\\eae4"});T.exclude=new T("exclude",{fontCharacter:"\\eae5"});T.extensions=new T("extensions",{fontCharacter:"\\eae6"});T.eyeClosed=new T("eye-closed",{fontCharacter:"\\eae7"});T.fileBinary=new T("file-binary",{fontCharacter:"\\eae8"});T.fileCode=new T("file-code",{fontCharacter:"\\eae9"});T.fileMedia=new T("file-media",{fontCharacter:"\\eaea"});T.filePdf=new T("file-pdf",{fontCharacter:"\\eaeb"});T.fileSubmodule=new T("file-submodule",{fontCharacter:"\\eaec"});T.fileSymlinkDirectory=new T("file-symlink-directory",{fontCharacter:"\\eaed"});T.fileSymlinkFile=new T("file-symlink-file",{fontCharacter:"\\eaee"});T.fileZip=new T("file-zip",{fontCharacter:"\\eaef"});T.files=new T("files",{fontCharacter:"\\eaf0"});T.filter=new T("filter",{fontCharacter:"\\eaf1"});T.flame=new T("flame",{fontCharacter:"\\eaf2"});T.foldDown=new T("fold-down",{fontCharacter:"\\eaf3"});T.foldUp=new T("fold-up",{fontCharacter:"\\eaf4"});T.fold=new T("fold",{fontCharacter:"\\eaf5"});T.folderActive=new T("folder-active",{fontCharacter:"\\eaf6"});T.folderOpened=new T("folder-opened",{fontCharacter:"\\eaf7"});T.gear=new T("gear",{fontCharacter:"\\eaf8"});T.gift=new T("gift",{fontCharacter:"\\eaf9"});T.gistSecret=new T("gist-secret",{fontCharacter:"\\eafa"});T.gist=new T("gist",{fontCharacter:"\\eafb"});T.gitCommit=new T("git-commit",{fontCharacter:"\\eafc"});T.gitCompare=new T("git-compare",{fontCharacter:"\\eafd"});T.gitMerge=new T("git-merge",{fontCharacter:"\\eafe"});T.githubAction=new T("github-action",{fontCharacter:"\\eaff"});T.githubAlt=new T("github-alt",{fontCharacter:"\\eb00"});T.globe=new T("globe",{fontCharacter:"\\eb01"});T.grabber=new T("grabber",{fontCharacter:"\\eb02"});T.graph=new T("graph",{fontCharacter:"\\eb03"});T.gripper=new T("gripper",{fontCharacter:"\\eb04"});T.heart=new T("heart",{fontCharacter:"\\eb05"});T.home=new T("home",{fontCharacter:"\\eb06"});T.horizontalRule=new T("horizontal-rule",{fontCharacter:"\\eb07"});T.hubot=new T("hubot",{fontCharacter:"\\eb08"});T.inbox=new T("inbox",{fontCharacter:"\\eb09"});T.issueClosed=new T("issue-closed",{fontCharacter:"\\eba4"});T.issueReopened=new T("issue-reopened",{fontCharacter:"\\eb0b"});T.issues=new T("issues",{fontCharacter:"\\eb0c"});T.italic=new T("italic",{fontCharacter:"\\eb0d"});T.jersey=new T("jersey",{fontCharacter:"\\eb0e"});T.json=new T("json",{fontCharacter:"\\eb0f"});T.kebabVertical=new T("kebab-vertical",{fontCharacter:"\\eb10"});T.key=new T("key",{fontCharacter:"\\eb11"});T.law=new T("law",{fontCharacter:"\\eb12"});T.lightbulbAutofix=new T("lightbulb-autofix",{fontCharacter:"\\eb13"});T.linkExternal=new T("link-external",{fontCharacter:"\\eb14"});T.link=new T("link",{fontCharacter:"\\eb15"});T.listOrdered=new T("list-ordered",{fontCharacter:"\\eb16"});T.listUnordered=new T("list-unordered",{fontCharacter:"\\eb17"});T.liveShare=new T("live-share",{fontCharacter:"\\eb18"});T.loading=new T("loading",{fontCharacter:"\\eb19"});T.location=new T("location",{fontCharacter:"\\eb1a"});T.mailRead=new T("mail-read",{fontCharacter:"\\eb1b"});T.mail=new T("mail",{fontCharacter:"\\eb1c"});T.markdown=new T("markdown",{fontCharacter:"\\eb1d"});T.megaphone=new T("megaphone",{fontCharacter:"\\eb1e"});T.mention=new T("mention",{fontCharacter:"\\eb1f"});T.milestone=new T("milestone",{fontCharacter:"\\eb20"});T.mortarBoard=new T("mortar-board",{fontCharacter:"\\eb21"});T.move=new T("move",{fontCharacter:"\\eb22"});T.multipleWindows=new T("multiple-windows",{fontCharacter:"\\eb23"});T.mute=new T("mute",{fontCharacter:"\\eb24"});T.noNewline=new T("no-newline",{fontCharacter:"\\eb25"});T.note=new T("note",{fontCharacter:"\\eb26"});T.octoface=new T("octoface",{fontCharacter:"\\eb27"});T.openPreview=new T("open-preview",{fontCharacter:"\\eb28"});T.package_=new T("package",{fontCharacter:"\\eb29"});T.paintcan=new T("paintcan",{fontCharacter:"\\eb2a"});T.pin=new T("pin",{fontCharacter:"\\eb2b"});T.play=new T("play",{fontCharacter:"\\eb2c"});T.run=new T("run",{fontCharacter:"\\eb2c"});T.plug=new T("plug",{fontCharacter:"\\eb2d"});T.preserveCase=new T("preserve-case",{fontCharacter:"\\eb2e"});T.preview=new T("preview",{fontCharacter:"\\eb2f"});T.project=new T("project",{fontCharacter:"\\eb30"});T.pulse=new T("pulse",{fontCharacter:"\\eb31"});T.question=new T("question",{fontCharacter:"\\eb32"});T.quote=new T("quote",{fontCharacter:"\\eb33"});T.radioTower=new T("radio-tower",{fontCharacter:"\\eb34"});T.reactions=new T("reactions",{fontCharacter:"\\eb35"});T.references=new T("references",{fontCharacter:"\\eb36"});T.refresh=new T("refresh",{fontCharacter:"\\eb37"});T.regex=new T("regex",{fontCharacter:"\\eb38"});T.remoteExplorer=new T("remote-explorer",{fontCharacter:"\\eb39"});T.remote=new T("remote",{fontCharacter:"\\eb3a"});T.remove=new T("remove",{fontCharacter:"\\eb3b"});T.replaceAll=new T("replace-all",{fontCharacter:"\\eb3c"});T.replace=new T("replace",{fontCharacter:"\\eb3d"});T.repoClone=new T("repo-clone",{fontCharacter:"\\eb3e"});T.repoForcePush=new T("repo-force-push",{fontCharacter:"\\eb3f"});T.repoPull=new T("repo-pull",{fontCharacter:"\\eb40"});T.repoPush=new T("repo-push",{fontCharacter:"\\eb41"});T.report=new T("report",{fontCharacter:"\\eb42"});T.requestChanges=new T("request-changes",{fontCharacter:"\\eb43"});T.rocket=new T("rocket",{fontCharacter:"\\eb44"});T.rootFolderOpened=new T("root-folder-opened",{fontCharacter:"\\eb45"});T.rootFolder=new T("root-folder",{fontCharacter:"\\eb46"});T.rss=new T("rss",{fontCharacter:"\\eb47"});T.ruby=new T("ruby",{fontCharacter:"\\eb48"});T.saveAll=new T("save-all",{fontCharacter:"\\eb49"});T.saveAs=new T("save-as",{fontCharacter:"\\eb4a"});T.save=new T("save",{fontCharacter:"\\eb4b"});T.screenFull=new T("screen-full",{fontCharacter:"\\eb4c"});T.screenNormal=new T("screen-normal",{fontCharacter:"\\eb4d"});T.searchStop=new T("search-stop",{fontCharacter:"\\eb4e"});T.server=new T("server",{fontCharacter:"\\eb50"});T.settingsGear=new T("settings-gear",{fontCharacter:"\\eb51"});T.settings=new T("settings",{fontCharacter:"\\eb52"});T.shield=new T("shield",{fontCharacter:"\\eb53"});T.smiley=new T("smiley",{fontCharacter:"\\eb54"});T.sortPrecedence=new T("sort-precedence",{fontCharacter:"\\eb55"});T.splitHorizontal=new T("split-horizontal",{fontCharacter:"\\eb56"});T.splitVertical=new T("split-vertical",{fontCharacter:"\\eb57"});T.squirrel=new T("squirrel",{fontCharacter:"\\eb58"});T.starFull=new T("star-full",{fontCharacter:"\\eb59"});T.starHalf=new T("star-half",{fontCharacter:"\\eb5a"});T.symbolClass=new T("symbol-class",{fontCharacter:"\\eb5b"});T.symbolColor=new T("symbol-color",{fontCharacter:"\\eb5c"});T.symbolCustomColor=new T("symbol-customcolor",{fontCharacter:"\\eb5c"});T.symbolConstant=new T("symbol-constant",{fontCharacter:"\\eb5d"});T.symbolEnumMember=new T("symbol-enum-member",{fontCharacter:"\\eb5e"});T.symbolField=new T("symbol-field",{fontCharacter:"\\eb5f"});T.symbolFile=new T("symbol-file",{fontCharacter:"\\eb60"});T.symbolInterface=new T("symbol-interface",{fontCharacter:"\\eb61"});T.symbolKeyword=new T("symbol-keyword",{fontCharacter:"\\eb62"});T.symbolMisc=new T("symbol-misc",{fontCharacter:"\\eb63"});T.symbolOperator=new T("symbol-operator",{fontCharacter:"\\eb64"});T.symbolProperty=new T("symbol-property",{fontCharacter:"\\eb65"});T.wrench=new T("wrench",{fontCharacter:"\\eb65"});T.wrenchSubaction=new T("wrench-subaction",{fontCharacter:"\\eb65"});T.symbolSnippet=new T("symbol-snippet",{fontCharacter:"\\eb66"});T.tasklist=new T("tasklist",{fontCharacter:"\\eb67"});T.telescope=new T("telescope",{fontCharacter:"\\eb68"});T.textSize=new T("text-size",{fontCharacter:"\\eb69"});T.threeBars=new T("three-bars",{fontCharacter:"\\eb6a"});T.thumbsdown=new T("thumbsdown",{fontCharacter:"\\eb6b"});T.thumbsup=new T("thumbsup",{fontCharacter:"\\eb6c"});T.tools=new T("tools",{fontCharacter:"\\eb6d"});T.triangleDown=new T("triangle-down",{fontCharacter:"\\eb6e"});T.triangleLeft=new T("triangle-left",{fontCharacter:"\\eb6f"});T.triangleRight=new T("triangle-right",{fontCharacter:"\\eb70"});T.triangleUp=new T("triangle-up",{fontCharacter:"\\eb71"});T.twitter=new T("twitter",{fontCharacter:"\\eb72"});T.unfold=new T("unfold",{fontCharacter:"\\eb73"});T.unlock=new T("unlock",{fontCharacter:"\\eb74"});T.unmute=new T("unmute",{fontCharacter:"\\eb75"});T.unverified=new T("unverified",{fontCharacter:"\\eb76"});T.verified=new T("verified",{fontCharacter:"\\eb77"});T.versions=new T("versions",{fontCharacter:"\\eb78"});T.vmActive=new T("vm-active",{fontCharacter:"\\eb79"});T.vmOutline=new T("vm-outline",{fontCharacter:"\\eb7a"});T.vmRunning=new T("vm-running",{fontCharacter:"\\eb7b"});T.watch=new T("watch",{fontCharacter:"\\eb7c"});T.whitespace=new T("whitespace",{fontCharacter:"\\eb7d"});T.wholeWord=new T("whole-word",{fontCharacter:"\\eb7e"});T.window=new T("window",{fontCharacter:"\\eb7f"});T.wordWrap=new T("word-wrap",{fontCharacter:"\\eb80"});T.zoomIn=new T("zoom-in",{fontCharacter:"\\eb81"});T.zoomOut=new T("zoom-out",{fontCharacter:"\\eb82"});T.listFilter=new T("list-filter",{fontCharacter:"\\eb83"});T.listFlat=new T("list-flat",{fontCharacter:"\\eb84"});T.listSelection=new T("list-selection",{fontCharacter:"\\eb85"});T.selection=new T("selection",{fontCharacter:"\\eb85"});T.listTree=new T("list-tree",{fontCharacter:"\\eb86"});T.debugBreakpointFunctionUnverified=new T("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"});T.debugBreakpointFunction=new T("debug-breakpoint-function",{fontCharacter:"\\eb88"});T.debugBreakpointFunctionDisabled=new T("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"});T.debugStackframeActive=new T("debug-stackframe-active",{fontCharacter:"\\eb89"});T.debugStackframeDot=new T("debug-stackframe-dot",{fontCharacter:"\\eb8a"});T.debugStackframe=new T("debug-stackframe",{fontCharacter:"\\eb8b"});T.debugStackframeFocused=new T("debug-stackframe-focused",{fontCharacter:"\\eb8b"});T.debugBreakpointUnsupported=new T("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"});T.symbolString=new T("symbol-string",{fontCharacter:"\\eb8d"});T.debugReverseContinue=new T("debug-reverse-continue",{fontCharacter:"\\eb8e"});T.debugStepBack=new T("debug-step-back",{fontCharacter:"\\eb8f"});T.debugRestartFrame=new T("debug-restart-frame",{fontCharacter:"\\eb90"});T.callIncoming=new T("call-incoming",{fontCharacter:"\\eb92"});T.callOutgoing=new T("call-outgoing",{fontCharacter:"\\eb93"});T.menu=new T("menu",{fontCharacter:"\\eb94"});T.expandAll=new T("expand-all",{fontCharacter:"\\eb95"});T.feedback=new T("feedback",{fontCharacter:"\\eb96"});T.groupByRefType=new T("group-by-ref-type",{fontCharacter:"\\eb97"});T.ungroupByRefType=new T("ungroup-by-ref-type",{fontCharacter:"\\eb98"});T.account=new T("account",{fontCharacter:"\\eb99"});T.bellDot=new T("bell-dot",{fontCharacter:"\\eb9a"});T.debugConsole=new T("debug-console",{fontCharacter:"\\eb9b"});T.library=new T("library",{fontCharacter:"\\eb9c"});T.output=new T("output",{fontCharacter:"\\eb9d"});T.runAll=new T("run-all",{fontCharacter:"\\eb9e"});T.syncIgnored=new T("sync-ignored",{fontCharacter:"\\eb9f"});T.pinned=new T("pinned",{fontCharacter:"\\eba0"});T.githubInverted=new T("github-inverted",{fontCharacter:"\\eba1"});T.debugAlt=new T("debug-alt",{fontCharacter:"\\eb91"});T.serverProcess=new T("server-process",{fontCharacter:"\\eba2"});T.serverEnvironment=new T("server-environment",{fontCharacter:"\\eba3"});T.pass=new T("pass",{fontCharacter:"\\eba4"});T.stopCircle=new T("stop-circle",{fontCharacter:"\\eba5"});T.playCircle=new T("play-circle",{fontCharacter:"\\eba6"});T.record=new T("record",{fontCharacter:"\\eba7"});T.debugAltSmall=new T("debug-alt-small",{fontCharacter:"\\eba8"});T.vmConnect=new T("vm-connect",{fontCharacter:"\\eba9"});T.cloud=new T("cloud",{fontCharacter:"\\ebaa"});T.merge=new T("merge",{fontCharacter:"\\ebab"});T.exportIcon=new T("export",{fontCharacter:"\\ebac"});T.graphLeft=new T("graph-left",{fontCharacter:"\\ebad"});T.magnet=new T("magnet",{fontCharacter:"\\ebae"});T.notebook=new T("notebook",{fontCharacter:"\\ebaf"});T.redo=new T("redo",{fontCharacter:"\\ebb0"});T.checkAll=new T("check-all",{fontCharacter:"\\ebb1"});T.pinnedDirty=new T("pinned-dirty",{fontCharacter:"\\ebb2"});T.passFilled=new T("pass-filled",{fontCharacter:"\\ebb3"});T.circleLargeFilled=new T("circle-large-filled",{fontCharacter:"\\ebb4"});T.circleLargeOutline=new T("circle-large-outline",{fontCharacter:"\\ebb5"});T.combine=new T("combine",{fontCharacter:"\\ebb6"});T.gather=new T("gather",{fontCharacter:"\\ebb6"});T.table=new T("table",{fontCharacter:"\\ebb7"});T.variableGroup=new T("variable-group",{fontCharacter:"\\ebb8"});T.typeHierarchy=new T("type-hierarchy",{fontCharacter:"\\ebb9"});T.typeHierarchySub=new T("type-hierarchy-sub",{fontCharacter:"\\ebba"});T.typeHierarchySuper=new T("type-hierarchy-super",{fontCharacter:"\\ebbb"});T.gitPullRequestCreate=new T("git-pull-request-create",{fontCharacter:"\\ebbc"});T.runAbove=new T("run-above",{fontCharacter:"\\ebbd"});T.runBelow=new T("run-below",{fontCharacter:"\\ebbe"});T.notebookTemplate=new T("notebook-template",{fontCharacter:"\\ebbf"});T.debugRerun=new T("debug-rerun",{fontCharacter:"\\ebc0"});T.workspaceTrusted=new T("workspace-trusted",{fontCharacter:"\\ebc1"});T.workspaceUntrusted=new T("workspace-untrusted",{fontCharacter:"\\ebc2"});T.workspaceUnspecified=new T("workspace-unspecified",{fontCharacter:"\\ebc3"});T.terminalCmd=new T("terminal-cmd",{fontCharacter:"\\ebc4"});T.terminalDebian=new T("terminal-debian",{fontCharacter:"\\ebc5"});T.terminalLinux=new T("terminal-linux",{fontCharacter:"\\ebc6"});T.terminalPowershell=new T("terminal-powershell",{fontCharacter:"\\ebc7"});T.terminalTmux=new T("terminal-tmux",{fontCharacter:"\\ebc8"});T.terminalUbuntu=new T("terminal-ubuntu",{fontCharacter:"\\ebc9"});T.terminalBash=new T("terminal-bash",{fontCharacter:"\\ebca"});T.arrowSwap=new T("arrow-swap",{fontCharacter:"\\ebcb"});T.copy=new T("copy",{fontCharacter:"\\ebcc"});T.personAdd=new T("person-add",{fontCharacter:"\\ebcd"});T.filterFilled=new T("filter-filled",{fontCharacter:"\\ebce"});T.wand=new T("wand",{fontCharacter:"\\ebcf"});T.debugLineByLine=new T("debug-line-by-line",{fontCharacter:"\\ebd0"});T.inspect=new T("inspect",{fontCharacter:"\\ebd1"});T.layers=new T("layers",{fontCharacter:"\\ebd2"});T.layersDot=new T("layers-dot",{fontCharacter:"\\ebd3"});T.layersActive=new T("layers-active",{fontCharacter:"\\ebd4"});T.compass=new T("compass",{fontCharacter:"\\ebd5"});T.compassDot=new T("compass-dot",{fontCharacter:"\\ebd6"});T.compassActive=new T("compass-active",{fontCharacter:"\\ebd7"});T.azure=new T("azure",{fontCharacter:"\\ebd8"});T.issueDraft=new T("issue-draft",{fontCharacter:"\\ebd9"});T.gitPullRequestClosed=new T("git-pull-request-closed",{fontCharacter:"\\ebda"});T.gitPullRequestDraft=new T("git-pull-request-draft",{fontCharacter:"\\ebdb"});T.debugAll=new T("debug-all",{fontCharacter:"\\ebdc"});T.debugCoverage=new T("debug-coverage",{fontCharacter:"\\ebdd"});T.runErrors=new T("run-errors",{fontCharacter:"\\ebde"});T.folderLibrary=new T("folder-library",{fontCharacter:"\\ebdf"});T.debugContinueSmall=new T("debug-continue-small",{fontCharacter:"\\ebe0"});T.beakerStop=new T("beaker-stop",{fontCharacter:"\\ebe1"});T.graphLine=new T("graph-line",{fontCharacter:"\\ebe2"});T.graphScatter=new T("graph-scatter",{fontCharacter:"\\ebe3"});T.pieChart=new T("pie-chart",{fontCharacter:"\\ebe4"});T.bracket=new T("bracket",T.json.definition);T.bracketDot=new T("bracket-dot",{fontCharacter:"\\ebe5"});T.bracketError=new T("bracket-error",{fontCharacter:"\\ebe6"});T.lockSmall=new T("lock-small",{fontCharacter:"\\ebe7"});T.azureDevops=new T("azure-devops",{fontCharacter:"\\ebe8"});T.verifiedFilled=new T("verified-filled",{fontCharacter:"\\ebe9"});T.newLine=new T("newline",{fontCharacter:"\\ebea"});T.layout=new T("layout",{fontCharacter:"\\ebeb"});T.layoutActivitybarLeft=new T("layout-activitybar-left",{fontCharacter:"\\ebec"});T.layoutActivitybarRight=new T("layout-activitybar-right",{fontCharacter:"\\ebed"});T.layoutPanelLeft=new T("layout-panel-left",{fontCharacter:"\\ebee"});T.layoutPanelCenter=new T("layout-panel-center",{fontCharacter:"\\ebef"});T.layoutPanelJustify=new T("layout-panel-justify",{fontCharacter:"\\ebf0"});T.layoutPanelRight=new T("layout-panel-right",{fontCharacter:"\\ebf1"});T.layoutPanel=new T("layout-panel",{fontCharacter:"\\ebf2"});T.layoutSidebarLeft=new T("layout-sidebar-left",{fontCharacter:"\\ebf3"});T.layoutSidebarRight=new T("layout-sidebar-right",{fontCharacter:"\\ebf4"});T.layoutStatusbar=new T("layout-statusbar",{fontCharacter:"\\ebf5"});T.layoutMenubar=new T("layout-menubar",{fontCharacter:"\\ebf6"});T.layoutCentered=new T("layout-centered",{fontCharacter:"\\ebf7"});T.target=new T("target",{fontCharacter:"\\ebf8"});T.indent=new T("indent",{fontCharacter:"\\ebf9"});T.recordSmall=new T("record-small",{fontCharacter:"\\ebfa"});T.errorSmall=new T("error-small",{fontCharacter:"\\ebfb"});T.arrowCircleDown=new T("arrow-circle-down",{fontCharacter:"\\ebfc"});T.arrowCircleLeft=new T("arrow-circle-left",{fontCharacter:"\\ebfd"});T.arrowCircleRight=new T("arrow-circle-right",{fontCharacter:"\\ebfe"});T.arrowCircleUp=new T("arrow-circle-up",{fontCharacter:"\\ebff"});T.dialogError=new T("dialog-error",T.error.definition);T.dialogWarning=new T("dialog-warning",T.warning.definition);T.dialogInfo=new T("dialog-info",T.info.definition);T.dialogClose=new T("dialog-close",T.close.definition);T.treeItemExpanded=new T("tree-item-expanded",T.chevronDown.definition);T.treeFilterOnTypeOn=new T("tree-filter-on-type-on",T.listFilter.definition);T.treeFilterOnTypeOff=new T("tree-filter-on-type-off",T.listSelection.definition);T.treeFilterClear=new T("tree-filter-clear",T.close.definition);T.treeItemLoading=new T("tree-item-loading",T.loading.definition);T.menuSelection=new T("menu-selection",T.check.definition);T.menuSubmenu=new T("menu-submenu",T.chevronRight.definition);T.menuBarMore=new T("menubar-more",T.more.definition);T.scrollbarButtonLeft=new T("scrollbar-button-left",T.triangleLeft.definition);T.scrollbarButtonRight=new T("scrollbar-button-right",T.triangleRight.definition);T.scrollbarButtonUp=new T("scrollbar-button-up",T.triangleUp.definition);T.scrollbarButtonDown=new T("scrollbar-button-down",T.triangleDown.definition);T.toolBarMore=new T("toolbar-more",T.more.definition);T.quickInputBack=new T("quick-input-back",T.arrowLeft.definition);var Gr;(function(d){d.iconNameSegment="[A-Za-z0-9]+",d.iconNameExpression="[A-Za-z0-9-]+",d.iconModifierExpression="~[A-Za-z]+",d.iconNameCharacter="[A-Za-z0-9~-]";const t=new RegExp(`^(${d.iconNameExpression})(${d.iconModifierExpression})?$`);function s(h){if(h instanceof T)return["codicon","codicon-"+h.id];const f=t.exec(h.id);if(!f)return s(T.error);let[,m,A]=f;const C=["codicon","codicon-"+m];return A&&C.push("codicon-modifier-"+A.substr(1)),C}d.asClassNameArray=s;function l(h){return s(h).join(" ")}d.asClassName=l;function u(h){return"."+s(h).join(".")}d.asCSSSelector=u})(Gr||(Gr={}));class Ar{static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static getFontStyle(t){return(t&15360)>>>10}static getForeground(t){return(t&8372224)>>>14}static getBackground(t){return(t&4286578688)>>>23}static getClassNameFromMetadata(t){const s=this.getForeground(t);let l="mtk"+s;const u=this.getFontStyle(t);return u&1&&(l+=" mtki"),u&2&&(l+=" mtkb"),u&4&&(l+=" mtku"),u&8&&(l+=" mtks"),l}static getInlineStyleFromMetadata(t,s){const l=this.getForeground(t),u=this.getFontStyle(t);let h=`color: ${s[l]};`;u&1&&(h+="font-style: italic;"),u&2&&(h+="font-weight: bold;");let f="";return u&4&&(f+=" underline"),u&8&&(f+=" line-through"),f&&(h+=`text-decoration:${f};`),h}static getPresentationFromMetadata(t){const s=this.getForeground(t),l=this.getFontStyle(t);return{foreground:s,italic:Boolean(l&1),bold:Boolean(l&2),underline:Boolean(l&4),strikethrough:Boolean(l&8)}}}class UA{constructor(t,s,l){this._tokenBrand=void 0,this.offset=t,this.type=s,this.language=l}toString(){return"("+this.offset+", "+this.type+")"}}class ZD{constructor(t,s){this._tokenizationResultBrand=void 0,this.tokens=t,this.endState=s}}class vw{constructor(t,s){this._encodedTokenizationResultBrand=void 0,this.tokens=t,this.endState=s}}var zA;(function(d){const t=new Map;t.set(0,T.symbolMethod),t.set(1,T.symbolFunction),t.set(2,T.symbolConstructor),t.set(3,T.symbolField),t.set(4,T.symbolVariable),t.set(5,T.symbolClass),t.set(6,T.symbolStruct),t.set(7,T.symbolInterface),t.set(8,T.symbolModule),t.set(9,T.symbolProperty),t.set(10,T.symbolEvent),t.set(11,T.symbolOperator),t.set(12,T.symbolUnit),t.set(13,T.symbolValue),t.set(15,T.symbolEnum),t.set(14,T.symbolConstant),t.set(15,T.symbolEnum),t.set(16,T.symbolEnumMember),t.set(17,T.symbolKeyword),t.set(27,T.symbolSnippet),t.set(18,T.symbolText),t.set(19,T.symbolColor),t.set(20,T.symbolFile),t.set(21,T.symbolReference),t.set(22,T.symbolCustomColor),t.set(23,T.symbolFolder),t.set(24,T.symbolTypeParameter),t.set(25,T.account),t.set(26,T.issues);function s(h){let f=t.get(h);return f||(console.info("No codicon found for CompletionItemKind "+h),f=T.symbolProperty),f}d.toIcon=s;const l=new Map;l.set("method",0),l.set("function",1),l.set("constructor",2),l.set("field",3),l.set("variable",4),l.set("class",5),l.set("struct",6),l.set("interface",7),l.set("module",8),l.set("property",9),l.set("event",10),l.set("operator",11),l.set("unit",12),l.set("value",13),l.set("constant",14),l.set("enum",15),l.set("enum-member",16),l.set("enumMember",16),l.set("keyword",17),l.set("snippet",27),l.set("text",18),l.set("color",19),l.set("file",20),l.set("reference",21),l.set("customcolor",22),l.set("folder",23),l.set("type-parameter",24),l.set("typeParameter",24),l.set("account",25),l.set("issue",26);function u(h,f){let m=l.get(h);return typeof m>"u"&&!f&&(m=9),m}d.fromString=u})(zA||(zA={}));var Ll;(function(d){d[d.Automatic=0]="Automatic",d[d.Explicit=1]="Explicit"})(Ll||(Ll={}));var c0;(function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"})(c0||(c0={}));var GA;(function(d){d[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write"})(GA||(GA={}));function Aae(d){return d&&Lt.isUri(d.uri)&&$.isIRange(d.range)&&($.isIRange(d.originSelectionRange)||$.isIRange(d.targetSelectionRange))}var bS;(function(d){const t=new Map;t.set(0,T.symbolFile),t.set(1,T.symbolModule),t.set(2,T.symbolNamespace),t.set(3,T.symbolPackage),t.set(4,T.symbolClass),t.set(5,T.symbolMethod),t.set(6,T.symbolProperty),t.set(7,T.symbolField),t.set(8,T.symbolConstructor),t.set(9,T.symbolEnum),t.set(10,T.symbolInterface),t.set(11,T.symbolFunction),t.set(12,T.symbolVariable),t.set(13,T.symbolConstant),t.set(14,T.symbolString),t.set(15,T.symbolNumber),t.set(16,T.symbolBoolean),t.set(17,T.symbolArray),t.set(18,T.symbolObject),t.set(19,T.symbolKey),t.set(20,T.symbolNull),t.set(21,T.symbolEnumMember),t.set(22,T.symbolStruct),t.set(23,T.symbolEvent),t.set(24,T.symbolOperator),t.set(25,T.symbolTypeParameter);function s(l){let u=t.get(l);return u||(console.info("No codicon found for SymbolKind "+l),u=T.symbolProperty),u}d.toIcon=s})(bS||(bS={}));class i2{constructor(t){this.value=t}}i2.Comment=new i2("comment");i2.Imports=new i2("imports");i2.Region=new i2("region");var SS;(function(d){function t(s){return!s||typeof s!="object"?!1:typeof s.id=="string"&&typeof s.title=="string"}d.is=t})(SS||(SS={}));var z3;(function(d){d[d.Type=1]="Type",d[d.Parameter=2]="Parameter"})(z3||(z3={}));const bn=new gae;var yS;(function(d){d[d.Unknown=0]="Unknown",d[d.Disabled=1]="Disabled",d[d.Enabled=2]="Enabled"})(yS||(yS={}));var LS;(function(d){d[d.KeepWhitespace=1]="KeepWhitespace",d[d.InsertAsSnippet=4]="InsertAsSnippet"})(LS||(LS={}));var DS;(function(d){d[d.Method=0]="Method",d[d.Function=1]="Function",d[d.Constructor=2]="Constructor",d[d.Field=3]="Field",d[d.Variable=4]="Variable",d[d.Class=5]="Class",d[d.Struct=6]="Struct",d[d.Interface=7]="Interface",d[d.Module=8]="Module",d[d.Property=9]="Property",d[d.Event=10]="Event",d[d.Operator=11]="Operator",d[d.Unit=12]="Unit",d[d.Value=13]="Value",d[d.Constant=14]="Constant",d[d.Enum=15]="Enum",d[d.EnumMember=16]="EnumMember",d[d.Keyword=17]="Keyword",d[d.Text=18]="Text",d[d.Color=19]="Color",d[d.File=20]="File",d[d.Reference=21]="Reference",d[d.Customcolor=22]="Customcolor",d[d.Folder=23]="Folder",d[d.TypeParameter=24]="TypeParameter",d[d.User=25]="User",d[d.Issue=26]="Issue",d[d.Snippet=27]="Snippet"})(DS||(DS={}));var IS;(function(d){d[d.Deprecated=1]="Deprecated"})(IS||(IS={}));var xS;(function(d){d[d.Invoke=0]="Invoke",d[d.TriggerCharacter=1]="TriggerCharacter",d[d.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(xS||(xS={}));var ES;(function(d){d[d.EXACT=0]="EXACT",d[d.ABOVE=1]="ABOVE",d[d.BELOW=2]="BELOW"})(ES||(ES={}));var NS;(function(d){d[d.NotSet=0]="NotSet",d[d.ContentFlush=1]="ContentFlush",d[d.RecoverFromMarkers=2]="RecoverFromMarkers",d[d.Explicit=3]="Explicit",d[d.Paste=4]="Paste",d[d.Undo=5]="Undo",d[d.Redo=6]="Redo"})(NS||(NS={}));var TS;(function(d){d[d.LF=1]="LF",d[d.CRLF=2]="CRLF"})(TS||(TS={}));var RS;(function(d){d[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write"})(RS||(RS={}));var MS;(function(d){d[d.None=0]="None",d[d.Keep=1]="Keep",d[d.Brackets=2]="Brackets",d[d.Advanced=3]="Advanced",d[d.Full=4]="Full"})(MS||(MS={}));var PS;(function(d){d[d.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",d[d.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",d[d.accessibilitySupport=2]="accessibilitySupport",d[d.accessibilityPageSize=3]="accessibilityPageSize",d[d.ariaLabel=4]="ariaLabel",d[d.autoClosingBrackets=5]="autoClosingBrackets",d[d.autoClosingDelete=6]="autoClosingDelete",d[d.autoClosingOvertype=7]="autoClosingOvertype",d[d.autoClosingQuotes=8]="autoClosingQuotes",d[d.autoIndent=9]="autoIndent",d[d.automaticLayout=10]="automaticLayout",d[d.autoSurround=11]="autoSurround",d[d.bracketPairColorization=12]="bracketPairColorization",d[d.guides=13]="guides",d[d.codeLens=14]="codeLens",d[d.codeLensFontFamily=15]="codeLensFontFamily",d[d.codeLensFontSize=16]="codeLensFontSize",d[d.colorDecorators=17]="colorDecorators",d[d.columnSelection=18]="columnSelection",d[d.comments=19]="comments",d[d.contextmenu=20]="contextmenu",d[d.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",d[d.cursorBlinking=22]="cursorBlinking",d[d.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",d[d.cursorStyle=24]="cursorStyle",d[d.cursorSurroundingLines=25]="cursorSurroundingLines",d[d.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",d[d.cursorWidth=27]="cursorWidth",d[d.disableLayerHinting=28]="disableLayerHinting",d[d.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",d[d.domReadOnly=30]="domReadOnly",d[d.dragAndDrop=31]="dragAndDrop",d[d.emptySelectionClipboard=32]="emptySelectionClipboard",d[d.extraEditorClassName=33]="extraEditorClassName",d[d.fastScrollSensitivity=34]="fastScrollSensitivity",d[d.find=35]="find",d[d.fixedOverflowWidgets=36]="fixedOverflowWidgets",d[d.folding=37]="folding",d[d.foldingStrategy=38]="foldingStrategy",d[d.foldingHighlight=39]="foldingHighlight",d[d.foldingImportsByDefault=40]="foldingImportsByDefault",d[d.foldingMaximumRegions=41]="foldingMaximumRegions",d[d.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",d[d.fontFamily=43]="fontFamily",d[d.fontInfo=44]="fontInfo",d[d.fontLigatures=45]="fontLigatures",d[d.fontSize=46]="fontSize",d[d.fontWeight=47]="fontWeight",d[d.formatOnPaste=48]="formatOnPaste",d[d.formatOnType=49]="formatOnType",d[d.glyphMargin=50]="glyphMargin",d[d.gotoLocation=51]="gotoLocation",d[d.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",d[d.hover=53]="hover",d[d.inDiffEditor=54]="inDiffEditor",d[d.inlineSuggest=55]="inlineSuggest",d[d.letterSpacing=56]="letterSpacing",d[d.lightbulb=57]="lightbulb",d[d.lineDecorationsWidth=58]="lineDecorationsWidth",d[d.lineHeight=59]="lineHeight",d[d.lineNumbers=60]="lineNumbers",d[d.lineNumbersMinChars=61]="lineNumbersMinChars",d[d.linkedEditing=62]="linkedEditing",d[d.links=63]="links",d[d.matchBrackets=64]="matchBrackets",d[d.minimap=65]="minimap",d[d.mouseStyle=66]="mouseStyle",d[d.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",d[d.mouseWheelZoom=68]="mouseWheelZoom",d[d.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",d[d.multiCursorModifier=70]="multiCursorModifier",d[d.multiCursorPaste=71]="multiCursorPaste",d[d.occurrencesHighlight=72]="occurrencesHighlight",d[d.overviewRulerBorder=73]="overviewRulerBorder",d[d.overviewRulerLanes=74]="overviewRulerLanes",d[d.padding=75]="padding",d[d.parameterHints=76]="parameterHints",d[d.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",d[d.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",d[d.quickSuggestions=79]="quickSuggestions",d[d.quickSuggestionsDelay=80]="quickSuggestionsDelay",d[d.readOnly=81]="readOnly",d[d.renameOnType=82]="renameOnType",d[d.renderControlCharacters=83]="renderControlCharacters",d[d.renderFinalNewline=84]="renderFinalNewline",d[d.renderLineHighlight=85]="renderLineHighlight",d[d.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",d[d.renderValidationDecorations=87]="renderValidationDecorations",d[d.renderWhitespace=88]="renderWhitespace",d[d.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",d[d.roundedSelection=90]="roundedSelection",d[d.rulers=91]="rulers",d[d.scrollbar=92]="scrollbar",d[d.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",d[d.scrollBeyondLastLine=94]="scrollBeyondLastLine",d[d.scrollPredominantAxis=95]="scrollPredominantAxis",d[d.selectionClipboard=96]="selectionClipboard",d[d.selectionHighlight=97]="selectionHighlight",d[d.selectOnLineNumbers=98]="selectOnLineNumbers",d[d.showFoldingControls=99]="showFoldingControls",d[d.showUnused=100]="showUnused",d[d.snippetSuggestions=101]="snippetSuggestions",d[d.smartSelect=102]="smartSelect",d[d.smoothScrolling=103]="smoothScrolling",d[d.stickyTabStops=104]="stickyTabStops",d[d.stopRenderingLineAfter=105]="stopRenderingLineAfter",d[d.suggest=106]="suggest",d[d.suggestFontSize=107]="suggestFontSize",d[d.suggestLineHeight=108]="suggestLineHeight",d[d.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",d[d.suggestSelection=110]="suggestSelection",d[d.tabCompletion=111]="tabCompletion",d[d.tabIndex=112]="tabIndex",d[d.unicodeHighlighting=113]="unicodeHighlighting",d[d.unusualLineTerminators=114]="unusualLineTerminators",d[d.useShadowDOM=115]="useShadowDOM",d[d.useTabStops=116]="useTabStops",d[d.wordSeparators=117]="wordSeparators",d[d.wordWrap=118]="wordWrap",d[d.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",d[d.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",d[d.wordWrapColumn=121]="wordWrapColumn",d[d.wordWrapOverride1=122]="wordWrapOverride1",d[d.wordWrapOverride2=123]="wordWrapOverride2",d[d.wrappingIndent=124]="wrappingIndent",d[d.wrappingStrategy=125]="wrappingStrategy",d[d.showDeprecated=126]="showDeprecated",d[d.inlayHints=127]="inlayHints",d[d.editorClassName=128]="editorClassName",d[d.pixelRatio=129]="pixelRatio",d[d.tabFocusMode=130]="tabFocusMode",d[d.layoutInfo=131]="layoutInfo",d[d.wrappingInfo=132]="wrappingInfo"})(PS||(PS={}));var OS;(function(d){d[d.TextDefined=0]="TextDefined",d[d.LF=1]="LF",d[d.CRLF=2]="CRLF"})(OS||(OS={}));var FS;(function(d){d[d.LF=0]="LF",d[d.CRLF=1]="CRLF"})(FS||(FS={}));var BS;(function(d){d[d.None=0]="None",d[d.Indent=1]="Indent",d[d.IndentOutdent=2]="IndentOutdent",d[d.Outdent=3]="Outdent"})(BS||(BS={}));var WS;(function(d){d[d.Both=0]="Both",d[d.Right=1]="Right",d[d.Left=2]="Left",d[d.None=3]="None"})(WS||(WS={}));var VS;(function(d){d[d.Type=1]="Type",d[d.Parameter=2]="Parameter"})(VS||(VS={}));var HS;(function(d){d[d.Automatic=0]="Automatic",d[d.Explicit=1]="Explicit"})(HS||(HS={}));var US;(function(d){d[d.DependsOnKbLayout=-1]="DependsOnKbLayout",d[d.Unknown=0]="Unknown",d[d.Backspace=1]="Backspace",d[d.Tab=2]="Tab",d[d.Enter=3]="Enter",d[d.Shift=4]="Shift",d[d.Ctrl=5]="Ctrl",d[d.Alt=6]="Alt",d[d.PauseBreak=7]="PauseBreak",d[d.CapsLock=8]="CapsLock",d[d.Escape=9]="Escape",d[d.Space=10]="Space",d[d.PageUp=11]="PageUp",d[d.PageDown=12]="PageDown",d[d.End=13]="End",d[d.Home=14]="Home",d[d.LeftArrow=15]="LeftArrow",d[d.UpArrow=16]="UpArrow",d[d.RightArrow=17]="RightArrow",d[d.DownArrow=18]="DownArrow",d[d.Insert=19]="Insert",d[d.Delete=20]="Delete",d[d.Digit0=21]="Digit0",d[d.Digit1=22]="Digit1",d[d.Digit2=23]="Digit2",d[d.Digit3=24]="Digit3",d[d.Digit4=25]="Digit4",d[d.Digit5=26]="Digit5",d[d.Digit6=27]="Digit6",d[d.Digit7=28]="Digit7",d[d.Digit8=29]="Digit8",d[d.Digit9=30]="Digit9",d[d.KeyA=31]="KeyA",d[d.KeyB=32]="KeyB",d[d.KeyC=33]="KeyC",d[d.KeyD=34]="KeyD",d[d.KeyE=35]="KeyE",d[d.KeyF=36]="KeyF",d[d.KeyG=37]="KeyG",d[d.KeyH=38]="KeyH",d[d.KeyI=39]="KeyI",d[d.KeyJ=40]="KeyJ",d[d.KeyK=41]="KeyK",d[d.KeyL=42]="KeyL",d[d.KeyM=43]="KeyM",d[d.KeyN=44]="KeyN",d[d.KeyO=45]="KeyO",d[d.KeyP=46]="KeyP",d[d.KeyQ=47]="KeyQ",d[d.KeyR=48]="KeyR",d[d.KeyS=49]="KeyS",d[d.KeyT=50]="KeyT",d[d.KeyU=51]="KeyU",d[d.KeyV=52]="KeyV",d[d.KeyW=53]="KeyW",d[d.KeyX=54]="KeyX",d[d.KeyY=55]="KeyY",d[d.KeyZ=56]="KeyZ",d[d.Meta=57]="Meta",d[d.ContextMenu=58]="ContextMenu",d[d.F1=59]="F1",d[d.F2=60]="F2",d[d.F3=61]="F3",d[d.F4=62]="F4",d[d.F5=63]="F5",d[d.F6=64]="F6",d[d.F7=65]="F7",d[d.F8=66]="F8",d[d.F9=67]="F9",d[d.F10=68]="F10",d[d.F11=69]="F11",d[d.F12=70]="F12",d[d.F13=71]="F13",d[d.F14=72]="F14",d[d.F15=73]="F15",d[d.F16=74]="F16",d[d.F17=75]="F17",d[d.F18=76]="F18",d[d.F19=77]="F19",d[d.NumLock=78]="NumLock",d[d.ScrollLock=79]="ScrollLock",d[d.Semicolon=80]="Semicolon",d[d.Equal=81]="Equal",d[d.Comma=82]="Comma",d[d.Minus=83]="Minus",d[d.Period=84]="Period",d[d.Slash=85]="Slash",d[d.Backquote=86]="Backquote",d[d.BracketLeft=87]="BracketLeft",d[d.Backslash=88]="Backslash",d[d.BracketRight=89]="BracketRight",d[d.Quote=90]="Quote",d[d.OEM_8=91]="OEM_8",d[d.IntlBackslash=92]="IntlBackslash",d[d.Numpad0=93]="Numpad0",d[d.Numpad1=94]="Numpad1",d[d.Numpad2=95]="Numpad2",d[d.Numpad3=96]="Numpad3",d[d.Numpad4=97]="Numpad4",d[d.Numpad5=98]="Numpad5",d[d.Numpad6=99]="Numpad6",d[d.Numpad7=100]="Numpad7",d[d.Numpad8=101]="Numpad8",d[d.Numpad9=102]="Numpad9",d[d.NumpadMultiply=103]="NumpadMultiply",d[d.NumpadAdd=104]="NumpadAdd",d[d.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",d[d.NumpadSubtract=106]="NumpadSubtract",d[d.NumpadDecimal=107]="NumpadDecimal",d[d.NumpadDivide=108]="NumpadDivide",d[d.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",d[d.ABNT_C1=110]="ABNT_C1",d[d.ABNT_C2=111]="ABNT_C2",d[d.AudioVolumeMute=112]="AudioVolumeMute",d[d.AudioVolumeUp=113]="AudioVolumeUp",d[d.AudioVolumeDown=114]="AudioVolumeDown",d[d.BrowserSearch=115]="BrowserSearch",d[d.BrowserHome=116]="BrowserHome",d[d.BrowserBack=117]="BrowserBack",d[d.BrowserForward=118]="BrowserForward",d[d.MediaTrackNext=119]="MediaTrackNext",d[d.MediaTrackPrevious=120]="MediaTrackPrevious",d[d.MediaStop=121]="MediaStop",d[d.MediaPlayPause=122]="MediaPlayPause",d[d.LaunchMediaPlayer=123]="LaunchMediaPlayer",d[d.LaunchMail=124]="LaunchMail",d[d.LaunchApp2=125]="LaunchApp2",d[d.Clear=126]="Clear",d[d.MAX_VALUE=127]="MAX_VALUE"})(US||(US={}));var zS;(function(d){d[d.Hint=1]="Hint",d[d.Info=2]="Info",d[d.Warning=4]="Warning",d[d.Error=8]="Error"})(zS||(zS={}));var GS;(function(d){d[d.Unnecessary=1]="Unnecessary",d[d.Deprecated=2]="Deprecated"})(GS||(GS={}));var jS;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(jS||(jS={}));var ZS;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.TEXTAREA=1]="TEXTAREA",d[d.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",d[d.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",d[d.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",d[d.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",d[d.CONTENT_TEXT=6]="CONTENT_TEXT",d[d.CONTENT_EMPTY=7]="CONTENT_EMPTY",d[d.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",d[d.CONTENT_WIDGET=9]="CONTENT_WIDGET",d[d.OVERVIEW_RULER=10]="OVERVIEW_RULER",d[d.SCROLLBAR=11]="SCROLLBAR",d[d.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",d[d.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(ZS||(ZS={}));var QS;(function(d){d[d.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",d[d.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",d[d.TOP_CENTER=2]="TOP_CENTER"})(QS||(QS={}));var YS;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(YS||(YS={}));var $S;(function(d){d[d.Left=0]="Left",d[d.Right=1]="Right",d[d.None=2]="None"})($S||($S={}));var KS;(function(d){d[d.Off=0]="Off",d[d.On=1]="On",d[d.Relative=2]="Relative",d[d.Interval=3]="Interval",d[d.Custom=4]="Custom"})(KS||(KS={}));var XS;(function(d){d[d.None=0]="None",d[d.Text=1]="Text",d[d.Blocks=2]="Blocks"})(XS||(XS={}));var JS;(function(d){d[d.Smooth=0]="Smooth",d[d.Immediate=1]="Immediate"})(JS||(JS={}));var qS;(function(d){d[d.Auto=1]="Auto",d[d.Hidden=2]="Hidden",d[d.Visible=3]="Visible"})(qS||(qS={}));var ey;(function(d){d[d.LTR=0]="LTR",d[d.RTL=1]="RTL"})(ey||(ey={}));var ty;(function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"})(ty||(ty={}));var iy;(function(d){d[d.File=0]="File",d[d.Module=1]="Module",d[d.Namespace=2]="Namespace",d[d.Package=3]="Package",d[d.Class=4]="Class",d[d.Method=5]="Method",d[d.Property=6]="Property",d[d.Field=7]="Field",d[d.Constructor=8]="Constructor",d[d.Enum=9]="Enum",d[d.Interface=10]="Interface",d[d.Function=11]="Function",d[d.Variable=12]="Variable",d[d.Constant=13]="Constant",d[d.String=14]="String",d[d.Number=15]="Number",d[d.Boolean=16]="Boolean",d[d.Array=17]="Array",d[d.Object=18]="Object",d[d.Key=19]="Key",d[d.Null=20]="Null",d[d.EnumMember=21]="EnumMember",d[d.Struct=22]="Struct",d[d.Event=23]="Event",d[d.Operator=24]="Operator",d[d.TypeParameter=25]="TypeParameter"})(iy||(iy={}));var ny;(function(d){d[d.Deprecated=1]="Deprecated"})(ny||(ny={}));var sy;(function(d){d[d.Hidden=0]="Hidden",d[d.Blink=1]="Blink",d[d.Smooth=2]="Smooth",d[d.Phase=3]="Phase",d[d.Expand=4]="Expand",d[d.Solid=5]="Solid"})(sy||(sy={}));var ry;(function(d){d[d.Line=1]="Line",d[d.Block=2]="Block",d[d.Underline=3]="Underline",d[d.LineThin=4]="LineThin",d[d.BlockOutline=5]="BlockOutline",d[d.UnderlineThin=6]="UnderlineThin"})(ry||(ry={}));var oy;(function(d){d[d.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",d[d.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",d[d.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",d[d.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(oy||(oy={}));var ly;(function(d){d[d.None=0]="None",d[d.Same=1]="Same",d[d.Indent=2]="Indent",d[d.DeepIndent=3]="DeepIndent"})(ly||(ly={}));class l_{static chord(t,s){return Ps(t,s)}}l_.CtrlCmd=2048;l_.Shift=1024;l_.Alt=512;l_.WinCtrl=256;function NW(){return{editor:void 0,languages:void 0,CancellationTokenSource:tr,Emitter:he,KeyCode:US,KeyMod:l_,Position:me,Range:$,Selection:et,SelectionDirection:ey,MarkerSeverity:zS,MarkerTag:GS,Uri:Lt,Token:UA}}class _ae{constructor(t){this.computeFn=t,this.lastCache=void 0,this.lastArgKey=void 0}get(t){const s=JSON.stringify(t);return this.lastArgKey!==s&&(this.lastArgKey=s,this.lastCache=this.computeFn(t)),this.lastCache}}class Rg{constructor(t){this.executor=t,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var TW;function RW(d){return!d||typeof d!="string"?!0:d.trim().length===0}const Cae=/{(\d+)}/g;function xl(d,...t){return t.length===0?d:d.replace(Cae,function(s,l){const u=parseInt(l,10);return isNaN(u)||u<0||u>=t.length?s:t[u]})}function QD(d){return d.replace(/[<>&]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return t}})}function Fl(d){return d.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function wae(d,t=" "){const s=YD(d,t);return MW(s,t)}function YD(d,t){if(!d||!t)return d;const s=t.length;if(s===0||d.length===0)return d;let l=0;for(;d.indexOf(t,l)===l;)l=l+s;return d.substring(l)}function MW(d,t){if(!d||!t)return d;const s=t.length,l=d.length;if(s===0||l===0)return d;let u=l,h=-1;for(;h=d.lastIndexOf(t,u-1),!(h===-1||h+s!==u);){if(h===0)return"";u=h}return d.substring(0,u)}function vae(d){return d.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function kae(d){return d.replace(/\*/g,"")}function PW(d,t,s={}){if(!d)throw new Error("Cannot create regex from empty string");t||(d=Fl(d)),s.wholeWord&&(/\B/.test(d.charAt(0))||(d="\\b"+d),/\B/.test(d.charAt(d.length-1))||(d=d+"\\b"));let l="";return s.global&&(l+="g"),s.matchCase||(l+="i"),s.multiline&&(l+="m"),s.unicode&&(l+="u"),new RegExp(d,l)}function bae(d){return d.source==="^"||d.source==="^$"||d.source==="$"||d.source==="^\\s*$"?!1:!!(d.exec("")&&d.lastIndex===0)}function tb(d){return(d.global?"g":"")+(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")}function m0(d){return d.split(/\r\n|\r|\n/)}function Zr(d){for(let t=0,s=d.length;t<s;t++){const l=d.charCodeAt(t);if(l!==32&&l!==9)return t}return-1}function Hi(d,t=0,s=d.length){for(let l=t;l<s;l++){const u=d.charCodeAt(l);if(u!==32&&u!==9)return d.substring(t,l)}return d.substring(t,s)}function u0(d,t=d.length-1){for(let s=t;s>=0;s--){const l=d.charCodeAt(s);if(l!==32&&l!==9)return s}return-1}function jA(d,t){return d<t?-1:d>t?1:0}function $D(d,t,s=0,l=d.length,u=0,h=t.length){for(;s<l&&u<h;s++,u++){let A=d.charCodeAt(s),C=t.charCodeAt(u);if(A<C)return-1;if(A>C)return 1}const f=l-s,m=h-u;return f<m?-1:f>m?1:0}function ay(d,t){return a_(d,t,0,d.length,0,t.length)}function a_(d,t,s=0,l=d.length,u=0,h=t.length){for(;s<l&&u<h;s++,u++){let A=d.charCodeAt(s),C=t.charCodeAt(u);if(A===C)continue;if(A>=128||C>=128)return $D(d.toLowerCase(),t.toLowerCase(),s,l,u,h);_u(A)&&(A-=32),_u(C)&&(C-=32);const w=A-C;if(w!==0)return w}const f=l-s,m=h-u;return f<m?-1:f>m?1:0}function _u(d){return d>=97&&d<=122}function Z2(d){return d>=65&&d<=90}function Z1(d,t){return d.length===t.length&&a_(d,t)===0}function KD(d,t){const s=t.length;return t.length>d.length?!1:a_(d,t,0,s)===0}function Mg(d,t){let s,l=Math.min(d.length,t.length);for(s=0;s<l;s++)if(d.charCodeAt(s)!==t.charCodeAt(s))return s;return l}function G3(d,t){let s,l=Math.min(d.length,t.length);const u=d.length-1,h=t.length-1;for(s=0;s<l;s++)if(d.charCodeAt(u-s)!==t.charCodeAt(h-s))return s;return l}function Cs(d){return 55296<=d&&d<=56319}function Fd(d){return 56320<=d&&d<=57343}function XD(d,t){return(d-55296<<10)+(t-56320)+65536}function j3(d,t,s){const l=d.charCodeAt(s);if(Cs(l)&&s+1<t){const u=d.charCodeAt(s+1);if(Fd(u))return XD(l,u)}return l}function Sae(d,t){const s=d.charCodeAt(t-1);if(Fd(s)&&t>1){const l=d.charCodeAt(t-2);if(Cs(l))return XD(l,s)}return s}class JD{constructor(t,s=0){this._str=t,this._len=t.length,this._offset=s}get offset(){return this._offset}setOffset(t){this._offset=t}prevCodePoint(){const t=Sae(this._str,this._offset);return this._offset-=t>=65536?2:1,t}nextCodePoint(){const t=j3(this._str,this._len,this._offset);return this._offset+=t>=65536?2:1,t}eol(){return this._offset>=this._len}}class Z3{constructor(t,s=0){this._iterator=new JD(t,s)}get offset(){return this._iterator.offset}nextGraphemeLength(){const t=Cu.getInstance(),s=this._iterator,l=s.offset;let u=t.getGraphemeBreakType(s.nextCodePoint());for(;!s.eol();){const h=s.offset,f=t.getGraphemeBreakType(s.nextCodePoint());if(_M(u,f)){s.setOffset(h);break}u=f}return s.offset-l}prevGraphemeLength(){const t=Cu.getInstance(),s=this._iterator,l=s.offset;let u=t.getGraphemeBreakType(s.prevCodePoint());for(;s.offset>0;){const h=s.offset,f=t.getGraphemeBreakType(s.prevCodePoint());if(_M(f,u)){s.setOffset(h);break}u=f}return l-s.offset}eol(){return this._iterator.eol()}}function qD(d,t){return new Z3(d,t).nextGraphemeLength()}function OW(d,t){return new Z3(d,t).prevGraphemeLength()}function yae(d,t){t>0&&Fd(d.charCodeAt(t))&&t--;const s=t+qD(d,t);return[s-OW(d,s),s]}const Lae=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function kw(d){return Lae.test(d)}const Dae=/^[\t\n\r\x20-\x7E]*$/;function bw(d){return Dae.test(d)}const FW=/[\u2028\u2029]/;function BW(d){return FW.test(d)}function Uu(d){return d>=11904&&d<=55215||d>=63744&&d<=64255||d>=65281&&d<=65374}function eI(d){return d>=127462&&d<=127487||d===8986||d===8987||d===9200||d===9203||d>=9728&&d<=10175||d===11088||d===11093||d>=127744&&d<=128591||d>=128640&&d<=128764||d>=128992&&d<=129008||d>=129280&&d<=129535||d>=129648&&d<=129782}const Iae=String.fromCharCode(65279);function tI(d){return!!(d&&d.length>0&&d.charCodeAt(0)===65279)}function xae(d,t=!1){return d?(t&&(d=d.replace(/\\./g,"")),d.toLowerCase()!==d):!1}function WW(d){return d=d%(2*26),d<26?String.fromCharCode(97+d):String.fromCharCode(65+d-26)}function _M(d,t){return d===0?t!==5&&t!==7:d===2&&t===3?!1:d===4||d===2||d===3||t===4||t===2||t===3?!0:!(d===8&&(t===8||t===9||t===11||t===12)||(d===11||d===9)&&(t===9||t===10)||(d===12||d===10)&&t===10||t===5||t===13||t===7||d===1||d===13&&t===14||d===6&&t===6)}class Cu{constructor(){this._data=Eae()}static getInstance(){return Cu._INSTANCE||(Cu._INSTANCE=new Cu),Cu._INSTANCE}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;const s=this._data,l=s.length/3;let u=1;for(;u<=l;)if(t<s[3*u])u=2*u;else if(t>s[3*u+1])u=2*u+1;else return s[3*u+2];return 0}}Cu._INSTANCE=null;function Eae(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Nae(d,t){if(d===0)return 0;const s=Tae(d,t);if(s!==void 0)return s;const l=new JD(t,d);return l.prevCodePoint(),l.offset}function Tae(d,t){const s=new JD(t,d);let l=s.prevCodePoint();for(;Rae(l)||l===65039||l===8419;){if(s.offset===0)return;l=s.prevCodePoint()}if(!eI(l))return;let u=s.offset;return u>0&&s.prevCodePoint()===8205&&(u=s.offset),u}function Rae(d){return 127995<=d&&d<=127999}const Mae="\xA0";class wa{constructor(t){this.confusableDictionary=t}static getInstance(t){return wa.cache.get(Array.from(t))}static getLocales(){return wa._locales.getValue()}isAmbiguous(t){return this.confusableDictionary.has(t)}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}TW=wa;wa.ambiguousCharacterData=new Rg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));wa.cache=new _ae(d=>{function t(C){const w=new Map;for(let k=0;k<C.length;k+=2)w.set(C[k],C[k+1]);return w}function s(C,w){const k=new Map(C);for(const[D,I]of w)k.set(D,I);return k}function l(C,w){if(!C)return w;const k=new Map;for(const[D,I]of C)w.has(D)&&k.set(D,I);return k}const u=TW.ambiguousCharacterData.getValue();let h=d.filter(C=>!C.startsWith("_")&&C in u);h.length===0&&(h=["_default"]);let f;for(const C of h){const w=t(u[C]);f=l(f,w)}const m=t(u._common),A=s(m,f);return new wa(A)});wa._locales=new Rg(()=>Object.keys(wa.ambiguousCharacterData.getValue()).filter(d=>!d.startsWith("_")));class h0{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(h0.getRawData())),this._data}static isInvisibleCharacter(t){return h0.getData().has(t)}static get codePoints(){return h0.getData()}}h0._data=void 0;class cy{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}cy.INSTANCE=new cy;class Pae extends Se{constructor(){super(),this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(t){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class Oae extends Se{constructor(){super(),this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const t=this._register(new Pae);this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const t=document.createElement("canvas").getContext("2d"),s=window.devicePixelRatio||1,l=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return s/l}}class Fae{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new Oae),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}const Pg=new Fae;function VW(){return cy.INSTANCE.getZoomFactor()}const _m=navigator.userAgent,dl=_m.indexOf("Firefox")>=0,Lu=_m.indexOf("AppleWebKit")>=0,iI=_m.indexOf("Chrome")>=0,va=!iI&&_m.indexOf("Safari")>=0,nI=!iI&&!va&&Lu,Bae=_m.indexOf("Electron/")>=0,HW=_m.indexOf("Android")>=0,sI=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches;var Wae=Object.freeze(Object.defineProperty({__proto__:null,PixelRatio:Pg,getZoomFactor:VW,isFirefox:dl,isWebKit:Lu,isChrome:iI,isSafari:va,isWebkitWebView:nI,isElectron:Bae,isAndroid:HW,isStandalone:sI},Symbol.toStringTag,{value:"Module"}));class UW{constructor(t){this.domNode=t,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(t){this._width!==t&&(this._width=t,this.domNode.style.width=this._width+"px")}setHeight(t){this._height!==t&&(this._height=t,this.domNode.style.height=this._height+"px")}setTop(t){this._top!==t&&(this._top=t,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(t){this._left!==t&&(this._left=t,this.domNode.style.left=this._left+"px")}setBottom(t){this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom+"px")}setRight(t){this._right!==t&&(this._right=t,this.domNode.style.right=this._right+"px")}setFontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(t){this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize+"px")}setFontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(t){this._fontFeatureSettings!==t&&(this._fontFeatureSettings=t,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(t){this._textDecoration!==t&&(this._textDecoration=t,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)}toggleClassName(t,s){this.domNode.classList.toggle(t,s),this._className=this.domNode.className}setDisplay(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)}setPosition(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)}setColor(t){this._color!==t&&(this._color=t,this.domNode.style.color=this._color)}setBackgroundColor(t){this._backgroundColor!==t&&(this._backgroundColor=t,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(t){this._boxShadow!==t&&(this._boxShadow=t,this.domNode.style.boxShadow=t)}setContain(t){this._contain!==t&&(this._contain=t,this.domNode.style.contain=this._contain)}setAttribute(t,s){this.domNode.setAttribute(t,s)}removeAttribute(t){this.domNode.removeAttribute(t)}appendChild(t){this.domNode.appendChild(t.domNode)}removeChild(t){this.domNode.removeChild(t.domNode)}}function _i(d){return new UW(d)}function _r(d,t){d instanceof UW?(d.setFontFamily(t.getMassagedFontFamily(va?Or.fontFamily:null)),d.setFontWeight(t.fontWeight),d.setFontSize(t.fontSize),d.setFontFeatureSettings(t.fontFeatureSettings),d.setLineHeight(t.lineHeight),d.setLetterSpacing(t.letterSpacing)):(d.style.fontFamily=t.getMassagedFontFamily(va?Or.fontFamily:null),d.style.fontWeight=t.fontWeight,d.style.fontSize=t.fontSize+"px",d.style.fontFeatureSettings=t.fontFeatureSettings,d.style.lineHeight=t.lineHeight+"px",d.style.letterSpacing=t.letterSpacing+"px")}class Vae{constructor(t,s){this.chr=t,this.type=s,this.width=0}fulfill(t){this.width=t}}class rI{constructor(t,s){this._bareFontInfo=t,this._requests=s,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const s=document.createElement("div");_r(s,this._bareFontInfo),t.appendChild(s);const l=document.createElement("div");_r(l,this._bareFontInfo),l.style.fontWeight="bold",t.appendChild(l);const u=document.createElement("div");_r(u,this._bareFontInfo),u.style.fontStyle="italic",t.appendChild(u);const h=[];for(const f of this._requests){let m;f.type===0&&(m=s),f.type===2&&(m=l),f.type===1&&(m=u),m.appendChild(document.createElement("br"));const A=document.createElement("span");rI._render(A,f),m.appendChild(A),h.push(A)}this._container=t,this._testElements=h}static _render(t,s){if(s.chr===" "){let l="\xA0";for(let u=0;u<8;u++)l+=l;t.innerText=l}else{let l=s.chr;for(let u=0;u<8;u++)l+=l;t.textContent=l}}_readFromDomElements(){for(let t=0,s=this._requests.length;t<s;t++){const l=this._requests[t],u=this._testElements[t];l.fulfill(u.offsetWidth/256)}}}function Hae(d,t){new rI(d,t).read()}const xc=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new he,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(d){d=Math.min(Math.max(-5,d),20),this._zoomLevel!==d&&(this._zoomLevel=d,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Uae=Jt?1.5:1.35,ib=8;class vd{constructor(t){this._bareFontInfoBrand=void 0,this.pixelRatio=t.pixelRatio,this.fontFamily=String(t.fontFamily),this.fontWeight=String(t.fontWeight),this.fontSize=t.fontSize,this.fontFeatureSettings=t.fontFeatureSettings,this.lineHeight=t.lineHeight|0,this.letterSpacing=t.letterSpacing}static createFromValidatedSettings(t,s,l){const u=t.get(43),h=t.get(47),f=t.get(46),m=t.get(45),A=t.get(59),C=t.get(56);return vd._create(u,h,f,m,A,C,s,l)}static _create(t,s,l,u,h,f,m,A){h===0?h=Uae*l:h<ib&&(h=h*l),h=Math.round(h),h<ib&&(h=ib);const C=1+(A?0:xc.getZoomLevel()*.1);return l*=C,h*=C,new vd({pixelRatio:m,fontFamily:t,fontWeight:s,fontSize:l,fontFeatureSettings:u,lineHeight:h,letterSpacing:f})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(t){const s=vd._wrapInQuotes(this.fontFamily);return t&&this.fontFamily!==t?`${s}, ${t}`:s}static _wrapInQuotes(t){return/[,"']/.test(t)?t:/[+ ]/.test(t)?`"${t}"`:t}}const zae=1;class uy extends vd{constructor(t,s){super(t),this._editorStylingBrand=void 0,this.version=zae,this.isTrusted=s,this.isMonospace=t.isMonospace,this.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,this.spaceWidth=t.spaceWidth,this.middotWidth=t.middotWidth,this.wsmiddotWidth=t.wsmiddotWidth,this.maxDigitWidth=t.maxDigitWidth}equals(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.fontFeatureSettings===t.fontFeatureSettings&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.maxDigitWidth===t.maxDigitWidth}}class Gae extends Se{constructor(){super(),this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._cache=new CM,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new CM,this._onDidChange.fire()}_writeToCache(t,s){this._cache.put(t,s),!s.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const t=this._cache.getValues();let s=!1;for(const l of t)l.isTrusted||(s=!0,this._cache.remove(l));s&&this._onDidChange.fire()}readFontInfo(t){if(!this._cache.has(t)){let s=this._actualReadFontInfo(t);(s.typicalHalfwidthCharacterWidth<=2||s.typicalFullwidthCharacterWidth<=2||s.spaceWidth<=2||s.maxDigitWidth<=2)&&(s=new uy({pixelRatio:Pg.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:s.isMonospace,typicalHalfwidthCharacterWidth:Math.max(s.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(s.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:s.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(s.spaceWidth,5),middotWidth:Math.max(s.middotWidth,5),wsmiddotWidth:Math.max(s.wsmiddotWidth,5),maxDigitWidth:Math.max(s.maxDigitWidth,5)},!1)),this._writeToCache(t,s)}return this._cache.get(t)}_createRequest(t,s,l,u){const h=new Vae(t,s);return l.push(h),u&&u.push(h),h}_actualReadFontInfo(t){const s=[],l=[],u=this._createRequest("n",0,s,l),h=this._createRequest("\uFF4D",0,s,null),f=this._createRequest(" ",0,s,l),m=this._createRequest("0",0,s,l),A=this._createRequest("1",0,s,l),C=this._createRequest("2",0,s,l),w=this._createRequest("3",0,s,l),k=this._createRequest("4",0,s,l),D=this._createRequest("5",0,s,l),I=this._createRequest("6",0,s,l),N=this._createRequest("7",0,s,l),R=this._createRequest("8",0,s,l),O=this._createRequest("9",0,s,l),W=this._createRequest("\u2192",0,s,l),B=this._createRequest("\uFFEB",0,s,null),z=this._createRequest("\xB7",0,s,l),G=this._createRequest(String.fromCharCode(11825),0,s,null),K="|/-_ilm%";for(let Ae=0,ge=K.length;Ae<ge;Ae++)this._createRequest(K.charAt(Ae),0,s,l),this._createRequest(K.charAt(Ae),1,s,l),this._createRequest(K.charAt(Ae),2,s,l);Hae(t,s);const q=Math.max(m.width,A.width,C.width,w.width,k.width,D.width,I.width,N.width,R.width,O.width);let Y=t.fontFeatureSettings===il.OFF;const J=l[0].width;for(let Ae=1,ge=l.length;Y&&Ae<ge;Ae++){const Te=J-l[Ae].width;if(Te<-.001||Te>.001){Y=!1;break}}let ne=!0;return Y&&B.width!==J&&(ne=!1),B.width>W.width&&(ne=!1),new uy({pixelRatio:Pg.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:Y,typicalHalfwidthCharacterWidth:u.width,typicalFullwidthCharacterWidth:h.width,canUseHalfwidthRightwardsArrow:ne,spaceWidth:f.width,middotWidth:z.width,wsmiddotWidth:G.width,maxDigitWidth:q},!0)}}class CM{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(t){const s=t.getId();return!!this._values[s]}get(t){const s=t.getId();return this._values[s]}put(t,s){const l=t.getId();this._keys[l]=t,this._values[l]=s}remove(t){const s=t.getId();delete this._keys[s],delete this._values[s]}getValues(){return Object.keys(this._keys).map(t=>this._values[t])}}const hy=new Gae;var Ya;(function(d){d.serviceIds=new Map,d.DI_TARGET="$di$target",d.DI_DEPENDENCIES="$di$dependencies";function t(s){return s[d.DI_DEPENDENCIES]||[]}d.getServiceDependencies=t})(Ya||(Ya={}));const ii=hi("instantiationService");function jae(d,t,s){t[Ya.DI_TARGET]===t?t[Ya.DI_DEPENDENCIES].push({id:d,index:s}):(t[Ya.DI_DEPENDENCIES]=[{id:d,index:s}],t[Ya.DI_TARGET]=t)}function hi(d){if(Ya.serviceIds.has(d))return Ya.serviceIds.get(d);const t=function(s,l,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");jae(t,s,u)};return t.toString=()=>d,Ya.serviceIds.set(d,t),t}const Mi=hi("codeEditorService");function X6(d,t){if(!d)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}const Zae={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class Qae extends Se{constructor(t,s={}){super(),this._onDidUpdate=this._register(new he),this._editor=t,this._options=S0(s,Zae,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(l=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(l=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(s=>{!this._options.ignoreCharChanges&&s.charChanges?s.charChanges.forEach(l=>{this.ranges.push({rhs:!0,range:new $(l.modifiedStartLineNumber,l.modifiedStartColumn,l.modifiedEndLineNumber,l.modifiedEndColumn)})}):s.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new $(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new $(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber+1,1)})}),this.ranges.sort((s,l)=>$.compareRangesUsingStarts(s.range,l.range)),this._onDidUpdate.fire(this)}_initIdx(t){let s=!1;const l=this._editor.getPosition();if(!l){this.nextIdx=0;return}for(let u=0,h=this.ranges.length;u<h&&!s;u++){const f=this.ranges[u].range;l.isBeforeOrEqual(f.getStartPosition())&&(this.nextIdx=u+(t?0:-1),s=!0)}s||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,s){if(X6(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const l=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const u=l.range.getStartPosition();this._editor.setPosition(u),this._editor.revealRangeInCenter(l.range,s)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this._move(!0,t)}previous(t=0){this._move(!1,t)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const c_={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var Bl;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(Bl||(Bl={}));var Rl;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(Rl||(Rl={}));var r0;(function(d){d[d.Both=0]="Both",d[d.Right=1]="Right",d[d.Left=2]="Left",d[d.None=3]="None"})(r0||(r0={}));class J6{constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),this.indentSize=t.tabSize|0,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&Tl(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}class ZA{constructor(t,s){this._findMatchBrand=void 0,this.range=t,this.matches=s}}class nb{constructor(t,s,l,u,h,f){this.identifier=t,this.range=s,this.text=l,this.forceMoveMarkers=u,this.isAutoWhitespaceEdit=h,this._isTracked=f}}class Yae{constructor(t,s,l){this.regex=t,this.wordSeparators=s,this.simpleSearch=l}}class $ae{constructor(t,s,l){this.reverseEdits=t,this.changes=s,this.trimAutoWhitespaceLineNumbers=l}}function Kae(d){return!d.isTooLargeForSyncing()&&!d.isForSimpleWidget}var Xn;(function(d){d[d.None=0]="None",d[d.Indent=1]="Indent",d[d.IndentOutdent=2]="IndentOutdent",d[d.Outdent=3]="Outdent"})(Xn||(Xn={}));class sb{constructor(t){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=t.open,this.close=t.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(t.notIn))for(let s=0,l=t.notIn.length;s<l;s++)switch(t.notIn[s]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(t){switch(t){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(t,s){if(t.getTokenCount()===0)return!0;const l=t.findTokenIndexAtOffset(s-2),u=t.getStandardTokenType(l);return this.isOK(u)}_findNeutralCharacterInRange(t,s){for(let l=t;l<=s;l++){const u=String.fromCharCode(l);if(!this.open.includes(u)&&!this.close.includes(u))return u}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Xae{constructor(t){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const s of t)bp(this.autoClosingPairsOpenByStart,s.open.charAt(0),s),bp(this.autoClosingPairsOpenByEnd,s.open.charAt(s.open.length-1),s),bp(this.autoClosingPairsCloseByStart,s.close.charAt(0),s),bp(this.autoClosingPairsCloseByEnd,s.close.charAt(s.close.length-1),s),s.close.length===1&&s.open.length===1&&bp(this.autoClosingPairsCloseSingleChar,s.close,s)}}function bp(d,t,s){d.has(t)?d.get(t).push(s):d.set(t,[s])}function Q3(d,t){const s=d.getCount(),l=d.findTokenIndexAtOffset(t),u=d.getLanguageId(l);let h=l;for(;h+1<s&&d.getLanguageId(h+1)===u;)h++;let f=l;for(;f>0&&d.getLanguageId(f-1)===u;)f--;return new Jae(d,u,f,h+1,d.getStartOffset(f),d.getEndOffset(h))}class Jae{constructor(t,s,l,u,h,f){this._scopedLineTokensBrand=void 0,this._actual=t,this.languageId=s,this._firstTokenIndex=l,this._lastTokenIndex=u,this.firstCharOffset=h,this._lastCharOffset=f}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(t){return this._actual.getLineContent().substring(0,this.firstCharOffset+t)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(t){return this._actual.findTokenIndexAtOffset(t+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(t){return this._actual.getStandardTokenType(t+this._firstTokenIndex)}}function W2(d){return(d&3)!==0}class Sw{constructor(t){if(t.autoClosingPairs?this._autoClosingPairs=t.autoClosingPairs.map(s=>new sb(s)):t.brackets?this._autoClosingPairs=t.brackets.map(s=>new sb({open:s[0],close:s[1]})):this._autoClosingPairs=[],t.colorizedBracketPairs?this._colorizedBracketPairs=wM(t.colorizedBracketPairs.map(s=>[s[0],s[1]])):t.brackets?this._colorizedBracketPairs=wM(t.brackets.map(s=>[s[0],s[1]]).filter(s=>!(s[0]==="<"&&s[1]===">"))):this._colorizedBracketPairs=[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){const s=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new sb({open:s.open,close:s.close||""}))}this._autoCloseBefore=typeof t.autoCloseBefore=="string"?t.autoCloseBefore:Sw.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}Sw.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function wM(d){return d.filter(([t,s])=>t!==""&&s!=="")}const vM=typeof Buffer<"u";let rb;class yw{constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}static wrap(t){return vM&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new yw(t)}toString(){return vM?this.buffer.toString():(rb||(rb=new TextDecoder),rb.decode(this.buffer))}}function qae(d,t){return d[t+0]<<0>>>0|d[t+1]<<8>>>0}function e2e(d,t,s){d[s+0]=t&255,t=t>>>8,d[s+1]=t&255}function Wa(d,t){return d[t]*Math.pow(2,24)+d[t+1]*Math.pow(2,16)+d[t+2]*Math.pow(2,8)+d[t+3]}function Va(d,t,s){d[s+3]=t,t=t>>>8,d[s+2]=t,t=t>>>8,d[s+1]=t,t=t>>>8,d[s]=t}function kM(d,t){return d[t]}function bM(d,t,s){d[s]=t}let ob;function zW(){return ob||(ob=new TextDecoder("UTF-16LE")),ob}let lb;function t2e(){return lb||(lb=new TextDecoder("UTF-16BE")),lb}let ab;function GW(){return ab||(ab=aW()?zW():t2e()),ab}const jW=typeof TextDecoder<"u";let Bd,dy;jW?(Bd=d=>new n2e(d),dy=i2e):(Bd=d=>new s2e,dy=ZW);function i2e(d,t,s){const l=new Uint16Array(d.buffer,t,s);return s>0&&(l[0]===65279||l[0]===65534)?ZW(d,t,s):zW().decode(l)}function ZW(d,t,s){const l=[];let u=0;for(let h=0;h<s;h++){const f=qae(d,t);t+=2,l[u++]=String.fromCharCode(f)}return l.join("")}class n2e{constructor(t){this._capacity=t|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const t=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return GW().decode(t)}_flushBuffer(){const t=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[t]:this._completedStrings[this._completedStrings.length]=t}write1(t){const s=this._capacity-this._bufferLength;s<=1&&(s===0||Cs(t))&&this._flushBuffer(),this._buffer[this._bufferLength++]=t}appendASCII(t){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=t}appendASCIIString(t){const s=t.length;if(this._bufferLength+s>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=t;return}for(let l=0;l<s;l++)this._buffer[this._bufferLength++]=t.charCodeAt(l)}}class s2e{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(t){this._pieces[this._piecesLen++]=String.fromCharCode(t)}appendASCII(t){this._pieces[this._piecesLen++]=String.fromCharCode(t)}appendASCIIString(t){this._pieces[this._piecesLen++]=t}}class Y3{constructor(t,s,l,u,h,f){this._richEditBracketBrand=void 0,this.languageId=t,this.index=s,this.open=l,this.close=u,this.forwardRegex=h,this.reversedRegex=f,this._openSet=Y3._toSet(this.open),this._closeSet=Y3._toSet(this.close)}isOpen(t){return this._openSet.has(t)}isClose(t){return this._closeSet.has(t)}static _toSet(t){const s=new Set;for(const l of t)s.add(l);return s}}function r2e(d){const t=d.length;d=d.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const s=[];for(let f=0;f<t;f++)s[f]=f;const l=(f,m)=>{const[A,C]=f,[w,k]=m;return A===w||A===k||C===w||C===k},u=(f,m)=>{const A=Math.min(f,m),C=Math.max(f,m);for(let w=0;w<t;w++)s[w]===C&&(s[w]=A)};for(let f=0;f<t;f++){const m=d[f];for(let A=f+1;A<t;A++){const C=d[A];l(m,C)&&u(s[f],s[A])}}const h=[];for(let f=0;f<t;f++){const m=[],A=[];for(let C=0;C<t;C++)if(s[C]===f){const[w,k]=d[C];m.push(w),A.push(k)}m.length>0&&h.push({open:m,close:A})}return h}class o2e{constructor(t,s){this._richEditBracketsBrand=void 0;const l=r2e(s);this.brackets=l.map((u,h)=>new Y3(t,h,u.open,u.close,l2e(u.open,u.close,l,h),a2e(u.open,u.close,l,h))),this.forwardRegex=c2e(this.brackets),this.reversedRegex=u2e(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const u of this.brackets){for(const h of u.open)this.textIsBracket[h]=u,this.textIsOpenBracket[h]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,h.length);for(const h of u.close)this.textIsBracket[h]=u,this.textIsOpenBracket[h]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,h.length)}}}function QW(d,t,s,l){for(let u=0,h=t.length;u<h;u++){if(u===s)continue;const f=t[u];for(const m of f.open)m.indexOf(d)>=0&&l.push(m);for(const m of f.close)m.indexOf(d)>=0&&l.push(m)}}function YW(d,t){return d.length-t.length}function Lw(d){if(d.length<=1)return d;const t=[],s=new Set;for(const l of d)s.has(l)||(t.push(l),s.add(l));return t}function l2e(d,t,s,l){let u=[];u=u.concat(d),u=u.concat(t);for(let h=0,f=u.length;h<f;h++)QW(u[h],s,l,u);return u=Lw(u),u.sort(YW),u.reverse(),Dw(u)}function a2e(d,t,s,l){let u=[];u=u.concat(d),u=u.concat(t);for(let h=0,f=u.length;h<f;h++)QW(u[h],s,l,u);return u=Lw(u),u.sort(YW),u.reverse(),Dw(u.map(oI))}function c2e(d){let t=[];for(const s of d){for(const l of s.open)t.push(l);for(const l of s.close)t.push(l)}return t=Lw(t),Dw(t)}function u2e(d){let t=[];for(const s of d){for(const l of s.open)t.push(l);for(const l of s.close)t.push(l)}return t=Lw(t),Dw(t.map(oI))}function h2e(d){const t=/^[\w ]+$/.test(d);return d=Fl(d),t?`\\b${d}\\b`:d}function Dw(d){const t=`(${d.map(h2e).join(")|(")})`;return PW(t,!0)}const oI=function(){function d(l){if(jW){const u=new Uint16Array(l.length);let h=0;for(let f=l.length-1;f>=0;f--)u[h++]=l.charCodeAt(f);return GW().decode(u)}else{const u=[];let h=0;for(let f=l.length-1;f>=0;f--)u[h++]=l.charAt(f);return u.join("")}}let t=null,s=null;return function(u){return t!==u&&(t=u,s=d(t)),s}}();class aa{static _findPrevBracketInText(t,s,l,u){const h=l.match(t);if(!h)return null;const f=l.length-(h.index||0),m=h[0].length,A=u+f;return new $(s,A-m+1,s,A+1)}static findPrevBracketInRange(t,s,l,u,h){const m=oI(l).substring(l.length-h,l.length-u);return this._findPrevBracketInText(t,s,m,u)}static findNextBracketInText(t,s,l,u){const h=l.match(t);if(!h)return null;const f=h.index||0,m=h[0].length;if(m===0)return null;const A=u+f;return new $(s,A+1,s,A+1+m)}static findNextBracketInRange(t,s,l,u,h){const f=l.substring(u,h);return this.findNextBracketInText(t,s,f,u)}}class d2e{constructor(t){this._richEditBrackets=t}getElectricCharacters(){const t=[];if(this._richEditBrackets)for(const s of this._richEditBrackets.brackets)for(const l of s.close){const u=l.charAt(l.length-1);t.push(u)}return Hu(t)}onElectricCharacter(t,s,l){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const u=s.findTokenIndexAtOffset(l-1);if(W2(s.getStandardTokenType(u)))return null;const h=this._richEditBrackets.reversedRegex,f=s.getLineContent().substring(0,l-1)+t,m=aa.findPrevBracketInRange(h,1,f,0,f.length);if(!m)return null;const A=f.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[A])return null;const w=s.getActualLineContentBefore(m.startColumn-1);return/^\s*$/.test(w)?{matchOpenBracket:A}:null}}function F8(d){return d.global&&(d.lastIndex=0),!0}class f2e{constructor(t){this._indentationRules=t}shouldIncrease(t){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&F8(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(t))}shouldDecrease(t){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&F8(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(t))}shouldIndentNextLine(t){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&F8(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(t))}shouldIgnore(t){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&F8(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(t))}getIndentMetadata(t){let s=0;return this.shouldIncrease(t)&&(s+=1),this.shouldDecrease(t)&&(s+=2),this.shouldIndentNextLine(t)&&(s+=4),this.shouldIgnore(t)&&(s+=8),s}}class Q1{constructor(t){t=t||{},t.brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach(s=>{const l=Q1._createOpenBracketRegExp(s[0]),u=Q1._createCloseBracketRegExp(s[1]);l&&u&&this._brackets.push({open:s[0],openRegExp:l,close:s[1],closeRegExp:u})}),this._regExpRules=t.onEnterRules||[]}onEnter(t,s,l,u){if(t>=3)for(let h=0,f=this._regExpRules.length;h<f;h++){const m=this._regExpRules[h];if([{reg:m.beforeText,text:l},{reg:m.afterText,text:u},{reg:m.previousLineText,text:s}].every(C=>C.reg?(C.reg.lastIndex=0,C.reg.test(C.text)):!0))return m.action}if(t>=2&&l.length>0&&u.length>0)for(let h=0,f=this._brackets.length;h<f;h++){const m=this._brackets[h];if(m.openRegExp.test(l)&&m.closeRegExp.test(u))return{indentAction:Xn.IndentOutdent}}if(t>=2&&l.length>0){for(let h=0,f=this._brackets.length;h<f;h++)if(this._brackets[h].openRegExp.test(l))return{indentAction:Xn.Indent}}return null}static _createOpenBracketRegExp(t){let s=Fl(t);return/\B/.test(s.charAt(0))||(s="\\b"+s),s+="\\s*$",Q1._safeRegExp(s)}static _createCloseBracketRegExp(t){let s=Fl(t);return/\B/.test(s.charAt(s.length-1))||(s=s+"\\b"),s="^\\s*"+s,Q1._safeRegExp(s)}static _safeRegExp(t){try{return new RegExp(t)}catch(s){return Bt(s),null}}}const Yi=hi("configurationService");function $W(d,t){const s=Object.create(null);for(let l in d)lI(s,l,d[l],t);return s}function lI(d,t,s,l){const u=t.split("."),h=u.pop();let f=d;for(let m=0;m<u.length;m++){let A=u[m],C=f[A];switch(typeof C){case"undefined":C=f[A]=Object.create(null);break;case"object":break;default:l(`Ignoring ${t} as ${u.slice(0,m+1).join(".")} is ${JSON.stringify(C)}`);return}f=C}if(typeof f=="object"&&f!==null)try{f[h]=s}catch{l(`Ignoring ${t} as ${u.join(".")} is ${JSON.stringify(f)}`)}else l(`Ignoring ${t} as ${u.join(".")} is ${JSON.stringify(f)}`)}function g2e(d,t){const s=t.split(".");KW(d,s)}function KW(d,t){const s=t.shift();if(t.length===0){delete d[s];return}if(Object.keys(d).indexOf(s)!==-1){const l=d[s];typeof l=="object"&&!Array.isArray(l)&&(KW(l,t),Object.keys(l).length===0&&delete d[s])}}function SM(d,t,s){function l(f,m){let A=f;for(const C of m){if(typeof A!="object"||A===null)return;A=A[C]}return A}const u=t.split("."),h=l(d,u);return typeof h>"u"?s:h}const yn=hi("languageService");class Q2{constructor(t,s=[],l=!1){this.ctor=t,this.staticArguments=s,this.supportsDelayedInstantiation=l}}const XW=[];function Ci(d,t,s){t instanceof Q2||(t=new Q2(t,[],s)),XW.push([d,t])}function yM(){return XW}var m2e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},LM=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class cb{constructor(t){this.languageId=t}affects(t){return this.languageId?this.languageId===t:!0}}const vr=hi("languageConfigurationService");let fy=class extends Se{constructor(t,s){super(),this.configurationService=t,this.languageService=s,this.onDidChangeEmitter=this._register(new he),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const l=new Set(Object.values(gy));this._register(this.configurationService.onDidChangeConfiguration(u=>{const h=u.change.keys.some(m=>l.has(m)),f=u.change.overrides.filter(([m,A])=>A.some(C=>l.has(C))).map(([m])=>m);if(h)this.configurations.clear(),this.onDidChangeEmitter.fire(new cb(void 0));else for(const m of f)this.languageService.isRegisteredLanguageId(m)&&(this.configurations.delete(m),this.onDidChangeEmitter.fire(new cb(m)))})),this._register(cs.onDidChange(u=>{this.configurations.delete(u.languageId),this.onDidChangeEmitter.fire(new cb(u.languageId))}))}getLanguageConfiguration(t){let s=this.configurations.get(t);return s||(s=p2e(t,this.configurationService,this.languageService),this.configurations.set(t,s)),s}};fy=m2e([LM(0,Yi),LM(1,yn)],fy);function p2e(d,t,s){let l=cs.getLanguageConfiguration(d);if(!l){if(!s.isRegisteredLanguageId(d))throw new Error(`Language id "${d}" is not configured nor known`);l=new QA(d,{})}const u=A2e(l.languageId,t),h=JW([l.underlyingConfig,u]);return new QA(l.languageId,h)}const gy={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function A2e(d,t){const s=t.getValue(gy.brackets,{overrideIdentifier:d}),l=t.getValue(gy.colorizedBracketPairs,{overrideIdentifier:d});return{brackets:DM(s),colorizedBracketPairs:DM(l)}}function DM(d){if(!!Array.isArray(d))return d.map(t=>{if(!(!Array.isArray(t)||t.length!==2))return[t[0],t[1]]}).filter(t=>!!t)}class IM{constructor(t){this.languageId=t}}class _2e{constructor(){this._entries=new Map,this._onDidChange=new he,this.onDidChange=this._onDidChange.event}register(t,s,l=0){let u=this._entries.get(t);u||(u=new C2e(t),this._entries.set(t,u));const h=u.register(s,l);return this._onDidChange.fire(new IM(t)),$t(()=>{h.dispose(),this._onDidChange.fire(new IM(t))})}getLanguageConfiguration(t){const s=this._entries.get(t);return s?.getResolvedConfiguration()||null}getComments(t){const s=this.getLanguageConfiguration(t);return s&&s.comments||null}getIndentRulesSupport(t){const s=this.getLanguageConfiguration(t);return s&&s.indentRulesSupport||null}getPrecedingValidLine(t,s,l){const u=t.getLanguageIdAtPosition(s,0);if(s>1){let h,f=-1;for(h=s-1;h>=1;h--){if(t.getLanguageIdAtPosition(h,0)!==u)return f;const m=t.getLineContent(h);if(l.shouldIgnore(m)||/^\s+$/.test(m)||m===""){f=h;continue}return h}}return-1}getInheritIndentForLine(t,s,l,u=!0){if(t<4)return null;const h=this.getIndentRulesSupport(s.getLanguageId());if(!h)return null;if(l<=1)return{indentation:"",action:null};const f=this.getPrecedingValidLine(s,l,h);if(f<0)return null;if(f<1)return{indentation:"",action:null};const m=s.getLineContent(f);if(h.shouldIncrease(m)||h.shouldIndentNextLine(m))return{indentation:Hi(m),action:Xn.Indent,line:f};if(h.shouldDecrease(m))return{indentation:Hi(m),action:null,line:f};{if(f===1)return{indentation:Hi(s.getLineContent(f)),action:null,line:f};const A=f-1,C=h.getIndentMetadata(s.getLineContent(A));if(!(C&3)&&C&4){let w=0;for(let k=A-1;k>0;k--)if(!h.shouldIndentNextLine(s.getLineContent(k))){w=k;break}return{indentation:Hi(s.getLineContent(w+1)),action:null,line:w+1}}if(u)return{indentation:Hi(s.getLineContent(f)),action:null,line:f};for(let w=f;w>0;w--){const k=s.getLineContent(w);if(h.shouldIncrease(k))return{indentation:Hi(k),action:Xn.Indent,line:w};if(h.shouldIndentNextLine(k)){let D=0;for(let I=w-1;I>0;I--)if(!h.shouldIndentNextLine(s.getLineContent(w))){D=I;break}return{indentation:Hi(s.getLineContent(D+1)),action:null,line:D+1}}else if(h.shouldDecrease(k))return{indentation:Hi(k),action:null,line:w}}return{indentation:Hi(s.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,s,l,u,h){if(t<4)return null;const f=this.getLanguageConfiguration(l);if(!f)return null;const m=this.getIndentRulesSupport(l);if(!m)return null;const A=this.getInheritIndentForLine(t,s,u),C=s.getLineContent(u);if(A){const w=A.line;if(w!==void 0){const k=f.onEnter(t,"",s.getLineContent(w),"");if(k){let D=Hi(s.getLineContent(w));return k.removeText&&(D=D.substring(0,D.length-k.removeText)),k.indentAction===Xn.Indent||k.indentAction===Xn.IndentOutdent?D=h.shiftIndent(D):k.indentAction===Xn.Outdent&&(D=h.unshiftIndent(D)),m.shouldDecrease(C)&&(D=h.unshiftIndent(D)),k.appendText&&(D+=k.appendText),Hi(D)}}return m.shouldDecrease(C)?A.action===Xn.Indent?A.indentation:h.unshiftIndent(A.indentation):A.action===Xn.Indent?h.shiftIndent(A.indentation):A.indentation}return null}getIndentForEnter(t,s,l,u){if(t<4)return null;s.forceTokenization(l.startLineNumber);const h=s.getLineTokens(l.startLineNumber),f=Q3(h,l.startColumn-1),m=f.getLineContent();let A=!1,C;f.firstCharOffset>0&&h.getLanguageId(0)!==f.languageId?(A=!0,C=m.substr(0,l.startColumn-1-f.firstCharOffset)):C=h.getLineContent().substring(0,l.startColumn-1);let w;l.isEmpty()?w=m.substr(l.startColumn-1-f.firstCharOffset):w=this.getScopedLineTokens(s,l.endLineNumber,l.endColumn).getLineContent().substr(l.endColumn-1-f.firstCharOffset);const k=this.getIndentRulesSupport(f.languageId);if(!k)return null;const D=C,I=Hi(C),N={getLineTokens:B=>s.getLineTokens(B),getLanguageId:()=>s.getLanguageId(),getLanguageIdAtPosition:(B,z)=>s.getLanguageIdAtPosition(B,z),getLineContent:B=>B===l.startLineNumber?D:s.getLineContent(B)},R=Hi(h.getLineContent()),O=this.getInheritIndentForLine(t,N,l.startLineNumber+1);if(!O){const B=A?R:I;return{beforeEnter:B,afterEnter:B}}let W=A?R:O.indentation;return O.action===Xn.Indent&&(W=u.shiftIndent(W)),k.shouldDecrease(w)&&(W=u.unshiftIndent(W)),{beforeEnter:A?R:I,afterEnter:W}}getIndentActionForType(t,s,l,u,h){if(t<4)return null;const f=this.getScopedLineTokens(s,l.startLineNumber,l.startColumn);if(f.firstCharOffset)return null;const m=this.getIndentRulesSupport(f.languageId);if(!m)return null;const A=f.getLineContent(),C=A.substr(0,l.startColumn-1-f.firstCharOffset);let w;if(l.isEmpty()?w=A.substr(l.startColumn-1-f.firstCharOffset):w=this.getScopedLineTokens(s,l.endLineNumber,l.endColumn).getLineContent().substr(l.endColumn-1-f.firstCharOffset),!m.shouldDecrease(C+w)&&m.shouldDecrease(C+u+w)){const k=this.getInheritIndentForLine(t,s,l.startLineNumber,!1);if(!k)return null;let D=k.indentation;return k.action!==Xn.Indent&&(D=h.unshiftIndent(D)),D}return null}getIndentMetadata(t,s){const l=this.getIndentRulesSupport(t.getLanguageId());return!l||s<1||s>t.getLineCount()?null:l.getIndentMetadata(t.getLineContent(s))}getEnterAction(t,s,l){const u=this.getScopedLineTokens(s,l.startLineNumber,l.startColumn),h=this.getLanguageConfiguration(u.languageId);if(!h)return null;const f=u.getLineContent(),m=f.substr(0,l.startColumn-1-u.firstCharOffset);let A;l.isEmpty()?A=f.substr(l.startColumn-1-u.firstCharOffset):A=this.getScopedLineTokens(s,l.endLineNumber,l.endColumn).getLineContent().substr(l.endColumn-1-u.firstCharOffset);let C="";if(l.startLineNumber>1&&u.firstCharOffset===0){const R=this.getScopedLineTokens(s,l.startLineNumber-1);R.languageId===u.languageId&&(C=R.getLineContent())}const w=h.onEnter(t,C,m,A);if(!w)return null;const k=w.indentAction;let D=w.appendText;const I=w.removeText||0;D?k===Xn.Indent&&(D="	"+D):k===Xn.Indent||k===Xn.IndentOutdent?D="	":D="";let N=this.getIndentationAtPosition(s,l.startLineNumber,l.startColumn);return I&&(N=N.substring(0,N.length-I)),{indentAction:k,appendText:D,removeText:I,indentation:N}}getIndentationAtPosition(t,s,l){const u=t.getLineContent(s);let h=Hi(u);return h.length>l-1&&(h=h.substring(0,l-1)),h}getScopedLineTokens(t,s,l){t.forceTokenization(s);const u=t.getLineTokens(s),h=typeof l>"u"?t.getLineMaxColumn(s)-1:l-1;return Q3(u,h)}}const cs=new _2e;class C2e{constructor(t){this.languageId=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,s){const l=new xM(t,s,++this._order);return this._entries.push(l),this._resolved=null,$t(()=>{for(let u=0;u<this._entries.length;u++)if(this._entries[u]===l){this._entries.splice(u,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new QA(this.languageId,t))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(xM.cmp),JW(this._entries.map(t=>t.configuration)))}}function JW(d){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const s of d)t={comments:s.comments||t.comments,brackets:s.brackets||t.brackets,wordPattern:s.wordPattern||t.wordPattern,indentationRules:s.indentationRules||t.indentationRules,onEnterRules:s.onEnterRules||t.onEnterRules,autoClosingPairs:s.autoClosingPairs||t.autoClosingPairs,surroundingPairs:s.surroundingPairs||t.surroundingPairs,autoCloseBefore:s.autoCloseBefore||t.autoCloseBefore,folding:s.folding||t.folding,colorizedBracketPairs:s.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:s.__electricCharacterSupport||t.__electricCharacterSupport};return t}class xM{constructor(t,s,l){this.configuration=t,this.priority=s,this.order=l}static cmp(t,s){return t.priority===s.priority?t.order-s.order:t.priority-s.priority}}class QA{constructor(t,s){this.languageId=t,this.underlyingConfig=s,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Q1(this.underlyingConfig):null,this.comments=QA._handleComments(this.underlyingConfig),this.characterPair=new Sw(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||RD,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new f2e(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return hW(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new o2e(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d2e(this.brackets)),this._electricCharacter}onEnter(t,s,l,u){return this._onEnterSupport?this._onEnterSupport.onEnter(t,s,l,u):null}getAutoClosingPairs(){return new Xae(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(t){const s=t.comments;if(!s)return null;const l={};if(s.lineComment&&(l.lineCommentToken=s.lineComment),s.blockComment){const[u,h]=s.blockComment;l.blockCommentStartToken=u,l.blockCommentEndToken=h}return l}}Ci(vr,fy);const Og=new class{clone(){return this}equals(d){return this===d}};function qW(d,t){return new ZD([new UA(0,"",d)],t)}function aI(d,t){const s=new Uint32Array(2);return s[0]=0,s[1]=(d<<0|0<<8|0<<10|1<<14|2<<23)>>>0,new vw(s,t===null?Og:t)}const Ln=hi("modelService");var bl=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},Yp=globalThis&&globalThis.__asyncValues||function(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=d[Symbol.asyncIterator],s;return t?t.call(d):(d=typeof __values=="function"?__values(d):d[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(h){s[h]=d[h]&&function(f){return new Promise(function(m,A){f=d[h](f),u(m,A,f.done,f.value)})}}function u(h,f,m,A){Promise.resolve(A).then(function(C){h({value:C,done:m})},f)}};function w2e(d){return!!d&&typeof d.then=="function"}function js(d){const t=new tr,s=d(t.token),l=new Promise((u,h)=>{const f=t.token.onCancellationRequested(()=>{f.dispose(),t.dispose(),h(new bf)});Promise.resolve(s).then(m=>{f.dispose(),t.dispose(),u(m)},m=>{f.dispose(),t.dispose(),h(m)})});return new class{cancel(){t.cancel()}then(u,h){return l.then(u,h)}catch(u){return this.then(void 0,u)}finally(u){return l.finally(u)}}}function cI(d,t,s){return new Promise((l,u)=>{const h=t.onCancellationRequested(()=>{h.dispose(),l(s)});d.then(l,u).finally(()=>h.dispose())})}class v2e{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(t){if(this.activePromise){if(this.queuedPromiseFactory=t,!this.queuedPromise){const s=()=>{this.queuedPromise=null;const l=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,l};this.queuedPromise=new Promise(l=>{this.activePromise.then(s,s).then(l)})}return new Promise((s,l)=>{this.queuedPromise.then(s,l)})}return this.activePromise=t(),new Promise((s,l)=>{this.activePromise.then(u=>{this.activePromise=null,s(u)},u=>{this.activePromise=null,l(u)})})}}const k2e=(d,t)=>{let s=!0;const l=setTimeout(()=>{s=!1,t()},d);return{isTriggered:()=>s,dispose:()=>{clearTimeout(l),s=!1}}},b2e=d=>{let t=!0;return queueMicrotask(()=>{t&&(t=!1,d())}),{isTriggered:()=>t,dispose:()=>{t=!1}}},eV=Symbol("MicrotaskDelay");class p0{constructor(t){this.defaultDelay=t,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(t,s=this.defaultDelay){this.task=t,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((u,h)=>{this.doResolve=u,this.doReject=h}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const u=this.task;return this.task=null,u()}}));const l=()=>{var u;this.deferred=null,(u=this.doResolve)===null||u===void 0||u.call(this,null)};return this.deferred=s===eV?b2e(l):k2e(s,l),this.completionPromise}isTriggered(){var t;return!!(!((t=this.deferred)===null||t===void 0)&&t.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new bf),this.completionPromise=null)}cancelTimeout(){var t;(t=this.deferred)===null||t===void 0||t.dispose(),this.deferred=null}dispose(){this.cancel()}}class S2e{constructor(t){this.delayer=new p0(t),this.throttler=new v2e}trigger(t,s){return this.delayer.trigger(()=>this.throttler.queue(t),s)}dispose(){this.delayer.dispose()}}function zu(d,t){return t?new Promise((s,l)=>{const u=setTimeout(()=>{h.dispose(),s()},d),h=t.onCancellationRequested(()=>{clearTimeout(u),h.dispose(),l(new bf)})}):js(s=>zu(d,s))}function Wd(d,t=0){const s=setTimeout(d,t);return $t(()=>clearTimeout(s))}function tV(d,t=l=>!!l,s=null){let l=0;const u=d.length,h=()=>{if(l>=u)return Promise.resolve(s);const f=d[l++];return Promise.resolve(f()).then(A=>t(A)?Promise.resolve(A):h())};return h()}class Wo{constructor(t,s){this._token=-1,typeof t=="function"&&typeof s=="number"&&this.setIfNotSet(t,s)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,s){this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},s)}setIfNotSet(t,s){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},s))}}class u_{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(t,s){this.cancel(),this._token=setInterval(()=>{t()},s)}}class zi{constructor(t,s){this.timeoutToken=-1,this.runner=t,this.timeout=s,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(t=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,t)}get delay(){return this.timeout}set delay(t){this.timeout=t}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let YA;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?YA=d=>{lW(()=>{if(t)return;const s=Date.now()+15;d(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,s-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:YA=(d,t)=>{const s=requestIdleCallback(d,typeof t=="number"?{timeout:t}:void 0);let l=!1;return{dispose(){l||(l=!0,cancelIdleCallback(s))}}}})();class Du{constructor(t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(s){this._error=s}finally{this._didRun=!0}},this._handle=YA(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class uI{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((t,s)=>{this.completeCallback=t,this.errorCallback=s})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(t){return new Promise(s=>{this.completeCallback(t),this.resolved=!0,s()})}cancel(){new Promise(t=>{this.errorCallback(new bf),this.rejected=!0,t()})}}var my;(function(d){function t(l){return bl(this,void 0,void 0,function*(){let u;const h=yield Promise.all(l.map(f=>f.then(m=>m,m=>{u||(u=m)})));if(typeof u<"u")throw u;return h})}d.settled=t;function s(l){return new Promise((u,h)=>bl(this,void 0,void 0,function*(){try{yield l(u,h)}catch(f){h(f)}}))}d.withAsyncBody=s})(my||(my={}));class Jn{constructor(t){this._state=0,this._results=[],this._error=null,this._onStateChanged=new he,queueMicrotask(()=>bl(this,void 0,void 0,function*(){const s={emitOne:l=>this.emitOne(l),emitMany:l=>this.emitMany(l),reject:l=>this.reject(l)};try{yield Promise.resolve(t(s)),this.resolve()}catch(l){this.reject(l)}finally{s.emitOne=void 0,s.emitMany=void 0,s.reject=void 0}}))}static fromArray(t){return new Jn(s=>{s.emitMany(t)})}static fromPromise(t){return new Jn(s=>bl(this,void 0,void 0,function*(){s.emitMany(yield t)}))}static fromPromises(t){return new Jn(s=>bl(this,void 0,void 0,function*(){yield Promise.all(t.map(l=>bl(this,void 0,void 0,function*(){return s.emitOne(yield l)})))}))}static merge(t){return new Jn(s=>bl(this,void 0,void 0,function*(){yield Promise.all(t.map(l=>{var u,h;return bl(this,void 0,void 0,function*(){var f,m;try{for(u=Yp(l);h=yield u.next(),!h.done;){const A=h.value;s.emitOne(A)}}catch(A){f={error:A}}finally{try{h&&!h.done&&(m=u.return)&&(yield m.call(u))}finally{if(f)throw f.error}}})}))}))}[Symbol.asyncIterator](){let t=0;return{next:()=>bl(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};yield ft.toPromise(this._onStateChanged.event)}while(!0)})}}static map(t,s){return new Jn(l=>bl(this,void 0,void 0,function*(){var u,h;try{for(var f=Yp(t),m;m=yield f.next(),!m.done;){const A=m.value;l.emitOne(s(A))}}catch(A){u={error:A}}finally{try{m&&!m.done&&(h=f.return)&&(yield h.call(f))}finally{if(u)throw u.error}}}))}map(t){return Jn.map(this,t)}static filter(t,s){return new Jn(l=>bl(this,void 0,void 0,function*(){var u,h;try{for(var f=Yp(t),m;m=yield f.next(),!m.done;){const A=m.value;s(A)&&l.emitOne(A)}}catch(A){u={error:A}}finally{try{m&&!m.done&&(h=f.return)&&(yield h.call(f))}finally{if(u)throw u.error}}}))}filter(t){return Jn.filter(this,t)}static coalesce(t){return Jn.filter(t,s=>!!s)}coalesce(){return Jn.coalesce(this)}static toPromise(t){var s,l,u,h;return bl(this,void 0,void 0,function*(){const f=[];try{for(s=Yp(t);l=yield s.next(),!l.done;){const m=l.value;f.push(m)}}catch(m){u={error:m}}finally{try{l&&!l.done&&(h=s.return)&&(yield h.call(s))}finally{if(u)throw u.error}}return f})}toPromise(){return Jn.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}}Jn.EMPTY=Jn.fromArray([]);class y2e extends Jn{constructor(t,s){super(s),this._source=t}cancel(){this._source.cancel()}}function L2e(d){const t=new tr,s=d(t.token);return new y2e(t,l=>bl(this,void 0,void 0,function*(){var u,h;const f=t.token.onCancellationRequested(()=>{f.dispose(),t.dispose(),l.reject(new bf)});try{try{for(var m=Yp(s),A;A=yield m.next(),!A.done;){const C=A.value;if(t.token.isCancellationRequested)return;l.emitOne(C)}}catch(C){u={error:C}}finally{try{A&&!A.done&&(h=m.return)&&(yield h.call(m))}finally{if(u)throw u.error}}f.dispose(),t.dispose()}catch(C){f.dispose(),t.dispose(),l.reject(C)}}))}const D2e="$initialize";let EM=!1;function py(d){!ch||(EM||(EM=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(d.message))}class I2e{constructor(t,s,l,u){this.vsWorker=t,this.req=s,this.method=l,this.args=u,this.type=0}}class NM{constructor(t,s,l,u){this.vsWorker=t,this.seq=s,this.res=l,this.err=u,this.type=1}}class x2e{constructor(t,s,l,u){this.vsWorker=t,this.req=s,this.eventName=l,this.arg=u,this.type=2}}class E2e{constructor(t,s,l){this.vsWorker=t,this.req=s,this.event=l,this.type=3}}class N2e{constructor(t,s){this.vsWorker=t,this.req=s,this.type=4}}class T2e{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,s){const l=String(++this._lastSentReq);return new Promise((u,h)=>{this._pendingReplies[l]={resolve:u,reject:h},this._send(new I2e(this._workerId,l,t,s))})}listen(t,s){let l=null;const u=new he({onFirstListenerAdd:()=>{l=String(++this._lastSentReq),this._pendingEmitters.set(l,u),this._send(new x2e(this._workerId,l,t,s))},onLastListenerRemove:()=>{this._pendingEmitters.delete(l),this._send(new N2e(this._workerId,l)),l=null}});return u.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}let s=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let l=t.err;t.err.$isError&&(l=new Error,l.name=t.err.name,l.message=t.err.message,l.stack=t.err.stack),s.reject(l);return}s.resolve(t.res)}_handleRequestMessage(t){let s=t.req;this._handler.handleMessage(t.method,t.args).then(u=>{this._send(new NM(this._workerId,s,u,void 0))},u=>{u.detail instanceof Error&&(u.detail=fM(u.detail)),this._send(new NM(this._workerId,s,void 0,fM(u)))})}_handleSubscribeEventMessage(t){const s=t.req,l=this._handler.handleEvent(t.eventName,t.arg)(u=>{this._send(new E2e(this._workerId,s,u))});this._pendingEvents.set(s,l)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){let s=[];if(t.type===0)for(let l=0;l<t.args.length;l++)t.args[l]instanceof ArrayBuffer&&s.push(t.args[l]);else t.type===1&&t.res instanceof ArrayBuffer&&s.push(t.res);this._handler.sendMessage(t,s)}}class R2e extends Se{constructor(t,s,l){super();let u=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",C=>{this._protocol.handleMessage(C)},C=>{u&&u(C)})),this._protocol=new T2e({sendMessage:(C,w)=>{this._worker.postMessage(C,w)},handleMessage:(C,w)=>{if(typeof l[C]!="function")return Promise.reject(new Error("Missing method "+C+" on main thread host."));try{return Promise.resolve(l[C].apply(l,w))}catch(k){return Promise.reject(k)}},handleEvent:(C,w)=>{if(nV(C)){const k=l[C].call(l,w);if(typeof k!="function")throw new Error(`Missing dynamic event ${C} on main thread host.`);return k}if(iV(C)){const k=l[C];if(typeof k!="function")throw new Error(`Missing event ${C} on main thread host.`);return k}throw new Error(`Malformed event name ${C}`)}}),this._protocol.setWorkerId(this._worker.getId());let h=null;typeof Zn.require<"u"&&typeof Zn.require.getConfig=="function"?h=Zn.require.getConfig():typeof Zn.requirejs<"u"&&(h=Zn.requirejs.s.contexts._.config);const f=FD(l);this._onModuleLoaded=this._protocol.sendMessage(D2e,[this._worker.getId(),JSON.parse(JSON.stringify(h)),s,f]);const m=(C,w)=>this._request(C,w),A=(C,w)=>this._protocol.listen(C,w);this._lazyProxy=new Promise((C,w)=>{u=w,this._onModuleLoaded.then(k=>{C(M2e(k,m,A))},k=>{w(k),this._onError("Worker failed to load "+s,k)})})}getProxyObject(){return this._lazyProxy}_request(t,s){return new Promise((l,u)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,s).then(l,u)},u)})}_onError(t,s){console.error(t),console.info(s)}}function iV(d){return d[0]==="o"&&d[1]==="n"&&Z2(d.charCodeAt(2))}function nV(d){return/^onDynamic/.test(d)&&Z2(d.charCodeAt(9))}function M2e(d,t,s){const l=f=>function(){const m=Array.prototype.slice.call(arguments,0);return t(f,m)},u=f=>function(m){return s(f,m)};let h={};for(const f of d){if(nV(f)){h[f]=u(f);continue}if(iV(f)){h[f]=s(f,void 0);continue}h[f]=l(f)}return h}var ub;const TM=(ub=window.trustedTypes)===null||ub===void 0?void 0:ub.createPolicy("defaultWorkerFactory",{createScriptURL:d=>d});function P2e(d){if(Zn.MonacoEnvironment){if(typeof Zn.MonacoEnvironment.getWorker=="function")return Zn.MonacoEnvironment.getWorker("workerMain.js",d);if(typeof Zn.MonacoEnvironment.getWorkerUrl=="function"){const t=Zn.MonacoEnvironment.getWorkerUrl("workerMain.js",d);return new Worker(TM?TM.createScriptURL(t):t,{name:d})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function O2e(d){return typeof d.then=="function"}class F2e{constructor(t,s,l,u,h){this.id=s;const f=P2e(l);O2e(f)?this.worker=f:this.worker=Promise.resolve(f),this.postMessage(t,[]),this.worker.then(m=>{m.onmessage=function(A){u(A.data)},m.onmessageerror=h,typeof m.addEventListener=="function"&&m.addEventListener("error",h)})}getId(){return this.id}postMessage(t,s){this.worker&&this.worker.then(l=>l.postMessage(t,s))}dispose(){this.worker&&this.worker.then(t=>t.terminate()),this.worker=null}}class Iw{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,s,l){let u=++Iw.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new F2e(t,u,this._label||"anonymous"+u,s,h=>{py(h),this._webWorkerFailedBeforeError=h,l(h)})}}Iw.LAST_WORKER_ID=0;class cu{constructor(t,s,l,u){this.originalStart=t,this.originalLength=s,this.modifiedStart=l,this.modifiedLength=u}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function sV(d){return xw(d,0)}function xw(d,t){switch(typeof d){case"object":return d===null?Ac(349,t):Array.isArray(d)?W2e(d,t):V2e(d,t);case"string":return hI(d,t);case"boolean":return B2e(d,t);case"number":return Ac(d,t);case"undefined":return Ac(937,t);default:return Ac(617,t)}}function Ac(d,t){return(t<<5)-t+d|0}function B2e(d,t){return Ac(d?433:863,t)}function hI(d,t){t=Ac(149417,t);for(let s=0,l=d.length;s<l;s++)t=Ac(d.charCodeAt(s),t);return t}function W2e(d,t){return t=Ac(104579,t),d.reduce((s,l)=>xw(l,s),t)}function V2e(d,t){return t=Ac(181387,t),Object.keys(d).sort().reduce((s,l)=>(s=hI(l,s),xw(d[l],s)),t)}function hb(d,t,s=32){const l=s-t,u=~((1<<l)-1);return(d<<t|(u&d)>>>l)>>>0}function RM(d,t=0,s=d.byteLength,l=0){for(let u=0;u<s;u++)d[t+u]=l}function H2e(d,t,s="0"){for(;d.length<t;)d=s+d;return d}function Sp(d,t=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(s=>s.toString(16).padStart(2,"0")).join(""):H2e((d>>>0).toString(16),t/4)}class Ew{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(t){const s=t.length;if(s===0)return;const l=this._buff;let u=this._buffLen,h=this._leftoverHighSurrogate,f,m;for(h!==0?(f=h,m=-1,h=0):(f=t.charCodeAt(0),m=0);;){let A=f;if(Cs(f))if(m+1<s){const C=t.charCodeAt(m+1);Fd(C)?(m++,A=XD(f,C)):A=65533}else{h=f;break}else Fd(f)&&(A=65533);if(u=this._push(l,u,A),m++,m<s)f=t.charCodeAt(m);else break}this._buffLen=u,this._leftoverHighSurrogate=h}_push(t,s,l){return l<128?t[s++]=l:l<2048?(t[s++]=192|(l&1984)>>>6,t[s++]=128|(l&63)>>>0):l<65536?(t[s++]=224|(l&61440)>>>12,t[s++]=128|(l&4032)>>>6,t[s++]=128|(l&63)>>>0):(t[s++]=240|(l&1835008)>>>18,t[s++]=128|(l&258048)>>>12,t[s++]=128|(l&4032)>>>6,t[s++]=128|(l&63)>>>0),s>=64&&(this._step(),s-=64,this._totalLen+=64,t[0]=t[64+0],t[1]=t[64+1],t[2]=t[64+2]),s}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Sp(this._h0)+Sp(this._h1)+Sp(this._h2)+Sp(this._h3)+Sp(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,RM(this._buff,this._buffLen),this._buffLen>56&&(this._step(),RM(this._buff));const t=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(t/4294967296),!1),this._buffDV.setUint32(60,t%4294967296,!1),this._step()}_step(){const t=Ew._bigBlock32,s=this._buffDV;for(let k=0;k<64;k+=4)t.setUint32(k,s.getUint32(k,!1),!1);for(let k=64;k<320;k+=4)t.setUint32(k,hb(t.getUint32(k-12,!1)^t.getUint32(k-32,!1)^t.getUint32(k-56,!1)^t.getUint32(k-64,!1),1),!1);let l=this._h0,u=this._h1,h=this._h2,f=this._h3,m=this._h4,A,C,w;for(let k=0;k<80;k++)k<20?(A=u&h|~u&f,C=1518500249):k<40?(A=u^h^f,C=1859775393):k<60?(A=u&h|u&f|h&f,C=2400959708):(A=u^h^f,C=3395469782),w=hb(l,5)+A+m+C+t.getUint32(k*4,!1)&4294967295,m=f,f=h,h=hb(u,30),u=l,l=w;this._h0=this._h0+l&4294967295,this._h1=this._h1+u&4294967295,this._h2=this._h2+h&4294967295,this._h3=this._h3+f&4294967295,this._h4=this._h4+m&4294967295}}Ew._bigBlock32=new DataView(new ArrayBuffer(320));class MM{constructor(t){this.source=t}getElements(){const t=this.source,s=new Int32Array(t.length);for(let l=0,u=t.length;l<u;l++)s[l]=t.charCodeAt(l);return s}}function U2e(d,t,s){return new e0(new MM(d),new MM(t)).ComputeDiff(s).changes}class w1{static Assert(t,s){if(!t)throw new Error(s)}}class v1{static Copy(t,s,l,u,h){for(let f=0;f<h;f++)l[u+f]=t[s+f]}static Copy2(t,s,l,u,h){for(let f=0;f<h;f++)l[u+f]=t[s+f]}}class PM{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new cu(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,s){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_originalCount++}AddModifiedElement(t,s){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class e0{constructor(t,s,l=null){this.ContinueProcessingPredicate=l,this._originalSequence=t,this._modifiedSequence=s;const[u,h,f]=e0._getElements(t),[m,A,C]=e0._getElements(s);this._hasStrings=f&&C,this._originalStringElements=u,this._originalElementsOrHash=h,this._modifiedStringElements=m,this._modifiedElementsOrHash=A,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(t){return t.length>0&&typeof t[0]=="string"}static _getElements(t){const s=t.getElements();if(e0._isStringArray(s)){const l=new Int32Array(s.length);for(let u=0,h=s.length;u<h;u++)l[u]=hI(s[u],0);return[s,l,!0]}return s instanceof Int32Array?[[],s,!1]:[[],new Int32Array(s),!1]}ElementsAreEqual(t,s){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[t]===this._modifiedStringElements[s]:!0}ElementsAreStrictEqual(t,s){if(!this.ElementsAreEqual(t,s))return!1;const l=e0._getStrictElement(this._originalSequence,t),u=e0._getStrictElement(this._modifiedSequence,s);return l===u}static _getStrictElement(t,s){return typeof t.getStrictElement=="function"?t.getStrictElement(s):null}OriginalElementsAreEqual(t,s){return this._originalElementsOrHash[t]!==this._originalElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[t]===this._originalStringElements[s]:!0}ModifiedElementsAreEqual(t,s){return this._modifiedElementsOrHash[t]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._modifiedStringElements[t]===this._modifiedStringElements[s]:!0}ComputeDiff(t){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,t)}_ComputeDiff(t,s,l,u,h){const f=[!1];let m=this.ComputeDiffRecursive(t,s,l,u,f);return h&&(m=this.PrettifyChanges(m)),{quitEarly:f[0],changes:m}}ComputeDiffRecursive(t,s,l,u,h){for(h[0]=!1;t<=s&&l<=u&&this.ElementsAreEqual(t,l);)t++,l++;for(;s>=t&&u>=l&&this.ElementsAreEqual(s,u);)s--,u--;if(t>s||l>u){let k;return l<=u?(w1.Assert(t===s+1,"originalStart should only be one more than originalEnd"),k=[new cu(t,0,l,u-l+1)]):t<=s?(w1.Assert(l===u+1,"modifiedStart should only be one more than modifiedEnd"),k=[new cu(t,s-t+1,l,0)]):(w1.Assert(t===s+1,"originalStart should only be one more than originalEnd"),w1.Assert(l===u+1,"modifiedStart should only be one more than modifiedEnd"),k=[]),k}const f=[0],m=[0],A=this.ComputeRecursionPoint(t,s,l,u,f,m,h),C=f[0],w=m[0];if(A!==null)return A;if(!h[0]){const k=this.ComputeDiffRecursive(t,C,l,w,h);let D=[];return h[0]?D=[new cu(C+1,s-(C+1)+1,w+1,u-(w+1)+1)]:D=this.ComputeDiffRecursive(C+1,s,w+1,u,h),this.ConcatenateChanges(k,D)}return[new cu(t,s-t+1,l,u-l+1)]}WALKTRACE(t,s,l,u,h,f,m,A,C,w,k,D,I,N,R,O,W,B){let z=null,G=null,K=new PM,q=s,Y=l,J=I[0]-O[0]-u,ne=-1073741824,Ae=this.m_forwardHistory.length-1;do{const ge=J+t;ge===q||ge<Y&&C[ge-1]<C[ge+1]?(k=C[ge+1],N=k-J-u,k<ne&&K.MarkNextChange(),ne=k,K.AddModifiedElement(k+1,N),J=ge+1-t):(k=C[ge-1]+1,N=k-J-u,k<ne&&K.MarkNextChange(),ne=k-1,K.AddOriginalElement(k,N+1),J=ge-1-t),Ae>=0&&(C=this.m_forwardHistory[Ae],t=C[0],q=1,Y=C.length-1)}while(--Ae>=-1);if(z=K.getReverseChanges(),B[0]){let ge=I[0]+1,Te=O[0]+1;if(z!==null&&z.length>0){const Me=z[z.length-1];ge=Math.max(ge,Me.getOriginalEnd()),Te=Math.max(Te,Me.getModifiedEnd())}G=[new cu(ge,D-ge+1,Te,R-Te+1)]}else{K=new PM,q=f,Y=m,J=I[0]-O[0]-A,ne=1073741824,Ae=W?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const ge=J+h;ge===q||ge<Y&&w[ge-1]>=w[ge+1]?(k=w[ge+1]-1,N=k-J-A,k>ne&&K.MarkNextChange(),ne=k+1,K.AddOriginalElement(k+1,N+1),J=ge+1-h):(k=w[ge-1],N=k-J-A,k>ne&&K.MarkNextChange(),ne=k,K.AddModifiedElement(k+1,N+1),J=ge-1-h),Ae>=0&&(w=this.m_reverseHistory[Ae],h=w[0],q=1,Y=w.length-1)}while(--Ae>=-1);G=K.getChanges()}return this.ConcatenateChanges(z,G)}ComputeRecursionPoint(t,s,l,u,h,f,m){let A=0,C=0,w=0,k=0,D=0,I=0;t--,l--,h[0]=0,f[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const N=s-t+(u-l),R=N+1,O=new Int32Array(R),W=new Int32Array(R),B=u-l,z=s-t,G=t-l,K=s-u,Y=(z-B)%2===0;O[B]=t,W[z]=s,m[0]=!1;for(let J=1;J<=N/2+1;J++){let ne=0,Ae=0;w=this.ClipDiagonalBound(B-J,J,B,R),k=this.ClipDiagonalBound(B+J,J,B,R);for(let Te=w;Te<=k;Te+=2){Te===w||Te<k&&O[Te-1]<O[Te+1]?A=O[Te+1]:A=O[Te-1]+1,C=A-(Te-B)-G;const Me=A;for(;A<s&&C<u&&this.ElementsAreEqual(A+1,C+1);)A++,C++;if(O[Te]=A,A+C>ne+Ae&&(ne=A,Ae=C),!Y&&Math.abs(Te-z)<=J-1&&A>=W[Te])return h[0]=A,f[0]=C,Me<=W[Te]&&1447>0&&J<=1447+1?this.WALKTRACE(B,w,k,G,z,D,I,K,O,W,A,s,h,C,u,f,Y,m):null}const ge=(ne-t+(Ae-l)-J)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(ne,ge))return m[0]=!0,h[0]=ne,f[0]=Ae,ge>0&&1447>0&&J<=1447+1?this.WALKTRACE(B,w,k,G,z,D,I,K,O,W,A,s,h,C,u,f,Y,m):(t++,l++,[new cu(t,s-t+1,l,u-l+1)]);D=this.ClipDiagonalBound(z-J,J,z,R),I=this.ClipDiagonalBound(z+J,J,z,R);for(let Te=D;Te<=I;Te+=2){Te===D||Te<I&&W[Te-1]>=W[Te+1]?A=W[Te+1]-1:A=W[Te-1],C=A-(Te-z)-K;const Me=A;for(;A>t&&C>l&&this.ElementsAreEqual(A,C);)A--,C--;if(W[Te]=A,Y&&Math.abs(Te-B)<=J&&A<=O[Te])return h[0]=A,f[0]=C,Me>=O[Te]&&1447>0&&J<=1447+1?this.WALKTRACE(B,w,k,G,z,D,I,K,O,W,A,s,h,C,u,f,Y,m):null}if(J<=1447){let Te=new Int32Array(k-w+2);Te[0]=B-w+1,v1.Copy2(O,w,Te,1,k-w+1),this.m_forwardHistory.push(Te),Te=new Int32Array(I-D+2),Te[0]=z-D+1,v1.Copy2(W,D,Te,1,I-D+1),this.m_reverseHistory.push(Te)}}return this.WALKTRACE(B,w,k,G,z,D,I,K,O,W,A,s,h,C,u,f,Y,m)}PrettifyChanges(t){for(let s=0;s<t.length;s++){const l=t[s],u=s<t.length-1?t[s+1].originalStart:this._originalElementsOrHash.length,h=s<t.length-1?t[s+1].modifiedStart:this._modifiedElementsOrHash.length,f=l.originalLength>0,m=l.modifiedLength>0;for(;l.originalStart+l.originalLength<u&&l.modifiedStart+l.modifiedLength<h&&(!f||this.OriginalElementsAreEqual(l.originalStart,l.originalStart+l.originalLength))&&(!m||this.ModifiedElementsAreEqual(l.modifiedStart,l.modifiedStart+l.modifiedLength));){const C=this.ElementsAreStrictEqual(l.originalStart,l.modifiedStart);if(this.ElementsAreStrictEqual(l.originalStart+l.originalLength,l.modifiedStart+l.modifiedLength)&&!C)break;l.originalStart++,l.modifiedStart++}let A=[null];if(s<t.length-1&&this.ChangesOverlap(t[s],t[s+1],A)){t[s]=A[0],t.splice(s+1,1),s--;continue}}for(let s=t.length-1;s>=0;s--){const l=t[s];let u=0,h=0;if(s>0){const k=t[s-1];u=k.originalStart+k.originalLength,h=k.modifiedStart+k.modifiedLength}const f=l.originalLength>0,m=l.modifiedLength>0;let A=0,C=this._boundaryScore(l.originalStart,l.originalLength,l.modifiedStart,l.modifiedLength);for(let k=1;;k++){const D=l.originalStart-k,I=l.modifiedStart-k;if(D<u||I<h||f&&!this.OriginalElementsAreEqual(D,D+l.originalLength)||m&&!this.ModifiedElementsAreEqual(I,I+l.modifiedLength))break;const R=(D===u&&I===h?5:0)+this._boundaryScore(D,l.originalLength,I,l.modifiedLength);R>C&&(C=R,A=k)}l.originalStart-=A,l.modifiedStart-=A;const w=[null];if(s>0&&this.ChangesOverlap(t[s-1],t[s],w)){t[s-1]=w[0],t.splice(s,1),s++;continue}}if(this._hasStrings)for(let s=1,l=t.length;s<l;s++){const u=t[s-1],h=t[s],f=h.originalStart-u.originalStart-u.originalLength,m=u.originalStart,A=h.originalStart+h.originalLength,C=A-m,w=u.modifiedStart,k=h.modifiedStart+h.modifiedLength,D=k-w;if(f<5&&C<20&&D<20){const I=this._findBetterContiguousSequence(m,C,w,D,f);if(I){const[N,R]=I;(N!==u.originalStart+u.originalLength||R!==u.modifiedStart+u.modifiedLength)&&(u.originalLength=N-u.originalStart,u.modifiedLength=R-u.modifiedStart,h.originalStart=N+f,h.modifiedStart=R+f,h.originalLength=A-h.originalStart,h.modifiedLength=k-h.modifiedStart)}}}return t}_findBetterContiguousSequence(t,s,l,u,h){if(s<h||u<h)return null;const f=t+s-h+1,m=l+u-h+1;let A=0,C=0,w=0;for(let k=t;k<f;k++)for(let D=l;D<m;D++){const I=this._contiguousSequenceScore(k,D,h);I>0&&I>A&&(A=I,C=k,w=D)}return A>0?[C,w]:null}_contiguousSequenceScore(t,s,l){let u=0;for(let h=0;h<l;h++){if(!this.ElementsAreEqual(t+h,s+h))return 0;u+=this._originalStringElements[t+h].length}return u}_OriginalIsBoundary(t){return t<=0||t>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[t])}_OriginalRegionIsBoundary(t,s){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(s>0){const l=t+s;if(this._OriginalIsBoundary(l-1)||this._OriginalIsBoundary(l))return!0}return!1}_ModifiedIsBoundary(t){return t<=0||t>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[t])}_ModifiedRegionIsBoundary(t,s){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(s>0){const l=t+s;if(this._ModifiedIsBoundary(l-1)||this._ModifiedIsBoundary(l))return!0}return!1}_boundaryScore(t,s,l,u){const h=this._OriginalRegionIsBoundary(t,s)?1:0,f=this._ModifiedRegionIsBoundary(l,u)?1:0;return h+f}ConcatenateChanges(t,s){let l=[];if(t.length===0||s.length===0)return s.length>0?s:t;if(this.ChangesOverlap(t[t.length-1],s[0],l)){const u=new Array(t.length+s.length-1);return v1.Copy(t,0,u,0,t.length-1),u[t.length-1]=l[0],v1.Copy(s,1,u,t.length,s.length-1),u}else{const u=new Array(t.length+s.length);return v1.Copy(t,0,u,0,t.length),v1.Copy(s,0,u,t.length,s.length),u}}ChangesOverlap(t,s,l){if(w1.Assert(t.originalStart<=s.originalStart,"Left change is not less than or equal to right change"),w1.Assert(t.modifiedStart<=s.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=s.originalStart||t.modifiedStart+t.modifiedLength>=s.modifiedStart){const u=t.originalStart;let h=t.originalLength;const f=t.modifiedStart;let m=t.modifiedLength;return t.originalStart+t.originalLength>=s.originalStart&&(h=s.originalStart+s.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=s.modifiedStart&&(m=s.modifiedStart+s.modifiedLength-t.modifiedStart),l[0]=new cu(u,h,f,m),!0}else return l[0]=null,!1}ClipDiagonalBound(t,s,l,u){if(t>=0&&t<u)return t;const h=l,f=u-l-1,m=s%2===0;if(t<0){const A=h%2===0;return m===A?0:1}else{const A=f%2===0;return m===A?u-1:u-2}}}const z2e=3;function rV(d,t,s,l){return new e0(d,t,s).ComputeDiff(l)}class OM{constructor(t){const s=[],l=[];for(let u=0,h=t.length;u<h;u++)s[u]=Ay(t[u],1),l[u]=_y(t[u],1);this.lines=t,this._startColumns=s,this._endColumns=l}getElements(){const t=[];for(let s=0,l=this.lines.length;s<l;s++)t[s]=this.lines[s].substring(this._startColumns[s]-1,this._endColumns[s]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,s,l){const u=[],h=[],f=[];let m=0;for(let A=s;A<=l;A++){const C=this.lines[A],w=t?this._startColumns[A]:1,k=t?this._endColumns[A]:C.length+1;for(let D=w;D<k;D++)u[m]=C.charCodeAt(D-1),h[m]=A+1,f[m]=D,m++}return new G2e(u,h,f)}}class G2e{constructor(t,s,l){this._charCodes=t,this._lineNumbers=s,this._columns=l}getElements(){return this._charCodes}getStartLineNumber(t){return this._lineNumbers[t]}getStartColumn(t){return this._columns[t]}getEndLineNumber(t){return this._lineNumbers[t]}getEndColumn(t){return this._columns[t]+1}}class $A{constructor(t,s,l,u,h,f,m,A){this.originalStartLineNumber=t,this.originalStartColumn=s,this.originalEndLineNumber=l,this.originalEndColumn=u,this.modifiedStartLineNumber=h,this.modifiedStartColumn=f,this.modifiedEndLineNumber=m,this.modifiedEndColumn=A}static createFromDiffChange(t,s,l){let u,h,f,m,A,C,w,k;return t.originalLength===0?(u=0,h=0,f=0,m=0):(u=s.getStartLineNumber(t.originalStart),h=s.getStartColumn(t.originalStart),f=s.getEndLineNumber(t.originalStart+t.originalLength-1),m=s.getEndColumn(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(A=0,C=0,w=0,k=0):(A=l.getStartLineNumber(t.modifiedStart),C=l.getStartColumn(t.modifiedStart),w=l.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),k=l.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new $A(u,h,f,m,A,C,w,k)}}function j2e(d){if(d.length<=1)return d;const t=[d[0]];let s=t[0];for(let l=1,u=d.length;l<u;l++){const h=d[l],f=h.originalStart-(s.originalStart+s.originalLength),m=h.modifiedStart-(s.modifiedStart+s.modifiedLength);Math.min(f,m)<z2e?(s.originalLength=h.originalStart+h.originalLength-s.originalStart,s.modifiedLength=h.modifiedStart+h.modifiedLength-s.modifiedStart):(t.push(h),s=h)}return t}class aA{constructor(t,s,l,u,h){this.originalStartLineNumber=t,this.originalEndLineNumber=s,this.modifiedStartLineNumber=l,this.modifiedEndLineNumber=u,this.charChanges=h}static createFromDiffResult(t,s,l,u,h,f,m){let A,C,w,k,D;if(s.originalLength===0?(A=l.getStartLineNumber(s.originalStart)-1,C=0):(A=l.getStartLineNumber(s.originalStart),C=l.getEndLineNumber(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(w=u.getStartLineNumber(s.modifiedStart)-1,k=0):(w=u.getStartLineNumber(s.modifiedStart),k=u.getEndLineNumber(s.modifiedStart+s.modifiedLength-1)),f&&s.originalLength>0&&s.originalLength<20&&s.modifiedLength>0&&s.modifiedLength<20&&h()){const I=l.createCharSequence(t,s.originalStart,s.originalStart+s.originalLength-1),N=u.createCharSequence(t,s.modifiedStart,s.modifiedStart+s.modifiedLength-1);let R=rV(I,N,h,!0).changes;m&&(R=j2e(R)),D=[];for(let O=0,W=R.length;O<W;O++)D.push($A.createFromDiffChange(R[O],I,N))}return new aA(A,C,w,k,D)}}class Z2e{constructor(t,s,l){this.shouldComputeCharChanges=l.shouldComputeCharChanges,this.shouldPostProcessCharChanges=l.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=l.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=l.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=s,this.original=new OM(t),this.modified=new OM(s),this.continueLineDiff=FM(l.maxComputationTime),this.continueCharDiff=FM(l.maxComputationTime===0?0:Math.min(l.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const t=rV(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),s=t.changes,l=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let A=0,C=s.length;A<C;A++)m.push(aA.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s[A],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:l,changes:m}}const u=[];let h=0,f=0;for(let m=-1,A=s.length;m<A;m++){const C=m+1<A?s[m+1]:null,w=C?C.originalStart:this.originalLines.length,k=C?C.modifiedStart:this.modifiedLines.length;for(;h<w&&f<k;){const D=this.originalLines[h],I=this.modifiedLines[f];if(D!==I){{let N=Ay(D,1),R=Ay(I,1);for(;N>1&&R>1;){const O=D.charCodeAt(N-2),W=I.charCodeAt(R-2);if(O!==W)break;N--,R--}(N>1||R>1)&&this._pushTrimWhitespaceCharChange(u,h+1,1,N,f+1,1,R)}{let N=_y(D,1),R=_y(I,1);const O=D.length+1,W=I.length+1;for(;N<O&&R<W;){const B=D.charCodeAt(N-1),z=D.charCodeAt(R-1);if(B!==z)break;N++,R++}(N<O||R<W)&&this._pushTrimWhitespaceCharChange(u,h+1,N,O,f+1,R,W)}}h++,f++}C&&(u.push(aA.createFromDiffResult(this.shouldIgnoreTrimWhitespace,C,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),h+=C.originalLength,f+=C.modifiedLength)}return{quitEarly:l,changes:u}}_pushTrimWhitespaceCharChange(t,s,l,u,h,f,m){if(this._mergeTrimWhitespaceCharChange(t,s,l,u,h,f,m))return;let A;this.shouldComputeCharChanges&&(A=[new $A(s,l,s,u,h,f,h,m)]),t.push(new aA(s,s,h,h,A))}_mergeTrimWhitespaceCharChange(t,s,l,u,h,f,m){const A=t.length;if(A===0)return!1;const C=t[A-1];return C.originalEndLineNumber===0||C.modifiedEndLineNumber===0?!1:C.originalEndLineNumber+1===s&&C.modifiedEndLineNumber+1===h?(C.originalEndLineNumber=s,C.modifiedEndLineNumber=h,this.shouldComputeCharChanges&&C.charChanges&&C.charChanges.push(new $A(s,l,s,u,h,f,h,m)),!0):!1}}function Ay(d,t){const s=Zr(d);return s===-1?t:s+1}function _y(d,t){const s=u0(d);return s===-1?t:s+2}function FM(d){if(d===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<d}function $3(d){return d<0?0:d>255?255:d|0}function k1(d){return d<0?0:d>4294967295?4294967295:d|0}class Q2e{constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(t,s){t=k1(t);const l=this.values,u=this.prefixSum,h=s.length;return h===0?!1:(this.values=new Uint32Array(l.length+h),this.values.set(l.subarray(0,t),0),this.values.set(l.subarray(t),t+h),this.values.set(s,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(u.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,s){return t=k1(t),s=k1(s),this.values[t]===s?!1:(this.values[t]=s,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,s){t=k1(t),s=k1(s);const l=this.values,u=this.prefixSum;if(t>=l.length)return!1;const h=l.length-t;return s>=h&&(s=h),s===0?!1:(this.values=new Uint32Array(l.length-s),this.values.set(l.subarray(0,t),0),this.values.set(l.subarray(t+s),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(u.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=k1(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let s=this.prefixSumValidIndex[0]+1;s===0&&(this.prefixSum[0]=this.values[0],s++),t>=this.values.length&&(t=this.values.length-1);for(let l=s;l<=t;l++)this.prefixSum[l]=this.prefixSum[l-1]+this.values[l];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let s=0,l=this.values.length-1,u=0,h=0,f=0;for(;s<=l;)if(u=s+(l-s)/2|0,h=this.prefixSum[u],f=h-this.values[u],t<f)l=u-1;else if(t>=h)s=u+1;else break;return new oV(u,t-f)}}class Y2e{constructor(t){this._values=t,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(t){return this._ensureValid(),t===0?0:this._prefixSum[t-1]}getIndexOf(t){this._ensureValid();const s=this._indexBySum[t],l=s>0?this._prefixSum[s-1]:0;return new oV(s,t-l)}removeValues(t,s){this._values.splice(t,s),this._invalidate(t)}insertValues(t,s){this._values=_w(this._values,t,s),this._invalidate(t)}_invalidate(t){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,t-1)}_ensureValid(){if(!this._isValid){for(let t=this._validEndIndex+1,s=this._values.length;t<s;t++){const l=this._values[t],u=t>0?this._prefixSum[t-1]:0;this._prefixSum[t]=u+l;for(let h=0;h<l;h++)this._indexBySum[u+h]=t}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(t,s){this._values[t]!==s&&(this._values[t]=s,this._invalidate(t))}}class oV{constructor(t,s){this.index=t,this.remainder=s,this._prefixSumIndexOfResultBrand=void 0,this.index=t,this.remainder=s}}class $2e{constructor(t,s,l,u){this._uri=t,this._lines=s,this._eol=l,this._versionId=u,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const s=t.changes;for(const l of s)this._acceptDeleteRange(l.range),this._acceptInsertText(new me(l.range.startLineNumber,l.range.startColumn),l.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,s=this._lines.length,l=new Uint32Array(s);for(let u=0;u<s;u++)l[u]=this._lines[u].length+t;this._lineStarts=new Q2e(l)}}_setLineText(t,s){this._lines[t]=s,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,s){if(s.length===0)return;const l=m0(s);if(l.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+l[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}l[l.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+l[0]);const u=new Uint32Array(l.length-1);for(let h=1;h<l.length;h++)this._lines.splice(t.lineNumber+h-1,0,l[h]),u[h-1]=l[h].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,u)}}class Cm{constructor(t){const s=$3(t);this._defaultValue=s,this._asciiMap=Cm._createAsciiMap(s),this._map=new Map}static _createAsciiMap(t){const s=new Uint8Array(256);for(let l=0;l<256;l++)s[l]=t;return s}set(t,s){const l=$3(s);t>=0&&t<256?this._asciiMap[t]=l:this._map.set(t,l)}get(t){return t>=0&&t<256?this._asciiMap[t]:this._map.get(t)||this._defaultValue}}class Y1{constructor(){this._actual=new Cm(0)}add(t){this._actual.set(t,1)}has(t){return this._actual.get(t)===1}}class K2e{constructor(t,s,l){const u=new Uint8Array(t*s);for(let h=0,f=t*s;h<f;h++)u[h]=l;this._data=u,this.rows=t,this.cols=s}get(t,s){return this._data[t*this.cols+s]}set(t,s,l){this._data[t*this.cols+s]=l}}class X2e{constructor(t){let s=0,l=0;for(let h=0,f=t.length;h<f;h++){const[m,A,C]=t[h];A>s&&(s=A),m>l&&(l=m),C>l&&(l=C)}s++,l++;const u=new K2e(l,s,0);for(let h=0,f=t.length;h<f;h++){const[m,A,C]=t[h];u.set(m,A,C)}this._states=u,this._maxCharCode=s}nextState(t,s){return s<0||s>=this._maxCharCode?0:this._states.get(t,s)}}let db=null;function J2e(){return db===null&&(db=new X2e([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),db}let yp=null;function q2e(){if(yp===null){yp=new Cm(0);const d=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let s=0;s<d.length;s++)yp.set(d.charCodeAt(s),1);const t=".,;";for(let s=0;s<t.length;s++)yp.set(t.charCodeAt(s),2)}return yp}class K3{static _createLink(t,s,l,u,h){let f=h-1;do{const m=s.charCodeAt(f);if(t.get(m)!==2)break;f--}while(f>u);if(u>0){const m=s.charCodeAt(u-1),A=s.charCodeAt(f);(m===40&&A===41||m===91&&A===93||m===123&&A===125)&&f--}return{range:{startLineNumber:l,startColumn:u+1,endLineNumber:l,endColumn:f+2},url:s.substring(u,f+1)}}static computeLinks(t,s=J2e()){const l=q2e(),u=[];for(let h=1,f=t.getLineCount();h<=f;h++){const m=t.getLineContent(h),A=m.length;let C=0,w=0,k=0,D=1,I=!1,N=!1,R=!1,O=!1;for(;C<A;){let W=!1;const B=m.charCodeAt(C);if(D===13){let z;switch(B){case 40:I=!0,z=0;break;case 41:z=I?0:1;break;case 91:R=!0,N=!0,z=0;break;case 93:R=!1,z=N?0:1;break;case 123:O=!0,z=0;break;case 125:z=O?0:1;break;case 39:z=k===34||k===96?0:1;break;case 34:z=k===39||k===96?0:1;break;case 96:z=k===39||k===34?0:1;break;case 42:z=k===42?1:0;break;case 124:z=k===124?1:0;break;case 32:z=R?0:1;break;default:z=l.get(B)}z===1&&(u.push(K3._createLink(l,m,h,w,C)),W=!0)}else if(D===12){let z;B===91?(N=!0,z=0):z=l.get(B),z===1?W=!0:D=13}else D=s.nextState(D,B),D===0&&(W=!0);W&&(D=1,I=!1,N=!1,O=!1,w=C+1,k=B),C++}D===13&&u.push(K3._createLink(l,m,h,w,A))}return u}}function e0e(d){return!d||typeof d.getLineCount!="function"||typeof d.getLineContent!="function"?[]:K3.computeLinks(d)}class Cy{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,s,l,u,h){if(t&&s){const f=this.doNavigateValueSet(s,h);if(f)return{range:t,value:f}}if(l&&u){const f=this.doNavigateValueSet(u,h);if(f)return{range:l,value:f}}return null}doNavigateValueSet(t,s){const l=this.numberReplace(t,s);return l!==null?l:this.textReplace(t,s)}numberReplace(t,s){const l=Math.pow(10,t.length-(t.lastIndexOf(".")+1));let u=Number(t),h=parseFloat(t);return!isNaN(u)&&!isNaN(h)&&u===h?u===0&&!s?null:(u=Math.floor(u*l),u+=s?l:-l,String(u/l)):null}textReplace(t,s){return this.valueSetsReplace(this._defaultValueSet,t,s)}valueSetsReplace(t,s,l){let u=null;for(let h=0,f=t.length;u===null&&h<f;h++)u=this.valueSetReplace(t[h],s,l);return u}valueSetReplace(t,s,l){let u=t.indexOf(s);return u>=0?(u+=l?1:-1,u<0?u=t.length-1:u%=t.length,t[u]):null}}Cy.INSTANCE=new Cy;class t0e extends Cm{constructor(t){super(0);for(let s=0,l=t.length;s<l;s++)this.set(t.charCodeAt(s),2);this.set(32,1),this.set(9,1)}}function i0e(d){const t={};return s=>(t.hasOwnProperty(s)||(t[s]=d(s)),t[s])}const Wl=i0e(d=>new t0e(d)),n0e=999;class Kh{constructor(t,s,l,u){this.searchString=t,this.isRegex=s,this.matchCase=l,this.wordSeparators=u}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=s0e(this.searchString):t=this.searchString.indexOf(`
`)>=0;let s=null;try{s=PW(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch{return null}if(!s)return null;let l=!this.isRegex&&!t;return l&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(l=this.matchCase),new Yae(s,this.wordSeparators?Wl(this.wordSeparators):null,l?this.searchString:null)}}function s0e(d){if(!d||d.length===0)return!1;for(let t=0,s=d.length;t<s;t++)if(d.charCodeAt(t)===92){if(t++,t>=s)break;const u=d.charCodeAt(t);if(u===110||u===114||u===87)return!0}return!1}function td(d,t,s){if(!s)return new ZA(d,null);const l=[];for(let u=0,h=t.length;u<h;u++)l[u]=t[u];return new ZA(d,l)}class BM{constructor(t){const s=[];let l=0;for(let u=0,h=t.length;u<h;u++)t.charCodeAt(u)===10&&(s[l++]=u);this._lineFeedsOffsets=s}findLineFeedCountBeforeOffset(t){const s=this._lineFeedsOffsets;let l=0,u=s.length-1;if(u===-1||t<=s[0])return 0;for(;l<u;){const h=l+((u-l)/2>>0);s[h]>=t?u=h-1:s[h+1]>=t?(l=h,u=h):l=h+1}return l+1}}class B8{static findMatches(t,s,l,u,h){const f=s.parseSearchRequest();return f?f.regex.multiline?this._doFindMatchesMultiline(t,l,new $1(f.wordSeparators,f.regex),u,h):this._doFindMatchesLineByLine(t,l,f,u,h):[]}static _getMultilineMatchRange(t,s,l,u,h,f){let m,A=0;u?(A=u.findLineFeedCountBeforeOffset(h),m=s+h+A):m=s+h;let C;if(u){const I=u.findLineFeedCountBeforeOffset(h+f.length)-A;C=m+f.length+I}else C=m+f.length;const w=t.getPositionAt(m),k=t.getPositionAt(C);return new $(w.lineNumber,w.column,k.lineNumber,k.column)}static _doFindMatchesMultiline(t,s,l,u,h){const f=t.getOffsetAt(s.getStartPosition()),m=t.getValueInRange(s,1),A=t.getEOL()===`\r
`?new BM(m):null,C=[];let w=0,k;for(l.reset(0);k=l.next(m);)if(C[w++]=td(this._getMultilineMatchRange(t,f,m,A,k.index,k[0]),k,u),w>=h)return C;return C}static _doFindMatchesLineByLine(t,s,l,u,h){const f=[];let m=0;if(s.startLineNumber===s.endLineNumber){const C=t.getLineContent(s.startLineNumber).substring(s.startColumn-1,s.endColumn-1);return m=this._findMatchesInLine(l,C,s.startLineNumber,s.startColumn-1,m,f,u,h),f}const A=t.getLineContent(s.startLineNumber).substring(s.startColumn-1);m=this._findMatchesInLine(l,A,s.startLineNumber,s.startColumn-1,m,f,u,h);for(let C=s.startLineNumber+1;C<s.endLineNumber&&m<h;C++)m=this._findMatchesInLine(l,t.getLineContent(C),C,0,m,f,u,h);if(m<h){const C=t.getLineContent(s.endLineNumber).substring(0,s.endColumn-1);m=this._findMatchesInLine(l,C,s.endLineNumber,0,m,f,u,h)}return f}static _findMatchesInLine(t,s,l,u,h,f,m,A){const C=t.wordSeparators;if(!m&&t.simpleSearch){const D=t.simpleSearch,I=D.length,N=s.length;let R=-I;for(;(R=s.indexOf(D,R+I))!==-1;)if((!C||dI(C,s,N,R,I))&&(f[h++]=new ZA(new $(l,R+1+u,l,R+1+I+u),null),h>=A))return h;return h}const w=new $1(t.wordSeparators,t.regex);let k;w.reset(0);do if(k=w.next(s),k&&(f[h++]=td(new $(l,k.index+1+u,l,k.index+1+k[0].length+u),k,m),h>=A))return h;while(k);return h}static findNextMatch(t,s,l,u){const h=s.parseSearchRequest();if(!h)return null;const f=new $1(h.wordSeparators,h.regex);return h.regex.multiline?this._doFindNextMatchMultiline(t,l,f,u):this._doFindNextMatchLineByLine(t,l,f,u)}static _doFindNextMatchMultiline(t,s,l,u){const h=new me(s.lineNumber,1),f=t.getOffsetAt(h),m=t.getLineCount(),A=t.getValueInRange(new $(h.lineNumber,h.column,m,t.getLineMaxColumn(m)),1),C=t.getEOL()===`\r
`?new BM(A):null;l.reset(s.column-1);let w=l.next(A);return w?td(this._getMultilineMatchRange(t,f,A,C,w.index,w[0]),w,u):s.lineNumber!==1||s.column!==1?this._doFindNextMatchMultiline(t,new me(1,1),l,u):null}static _doFindNextMatchLineByLine(t,s,l,u){const h=t.getLineCount(),f=s.lineNumber,m=t.getLineContent(f),A=this._findFirstMatchInLine(l,m,f,s.column,u);if(A)return A;for(let C=1;C<=h;C++){const w=(f+C-1)%h,k=t.getLineContent(w+1),D=this._findFirstMatchInLine(l,k,w+1,1,u);if(D)return D}return null}static _findFirstMatchInLine(t,s,l,u,h){t.reset(u-1);const f=t.next(s);return f?td(new $(l,f.index+1,l,f.index+1+f[0].length),f,h):null}static findPreviousMatch(t,s,l,u){const h=s.parseSearchRequest();if(!h)return null;const f=new $1(h.wordSeparators,h.regex);return h.regex.multiline?this._doFindPreviousMatchMultiline(t,l,f,u):this._doFindPreviousMatchLineByLine(t,l,f,u)}static _doFindPreviousMatchMultiline(t,s,l,u){const h=this._doFindMatchesMultiline(t,new $(1,1,s.lineNumber,s.column),l,u,10*n0e);if(h.length>0)return h[h.length-1];const f=t.getLineCount();return s.lineNumber!==f||s.column!==t.getLineMaxColumn(f)?this._doFindPreviousMatchMultiline(t,new me(f,t.getLineMaxColumn(f)),l,u):null}static _doFindPreviousMatchLineByLine(t,s,l,u){const h=t.getLineCount(),f=s.lineNumber,m=t.getLineContent(f).substring(0,s.column-1),A=this._findLastMatchInLine(l,m,f,u);if(A)return A;for(let C=1;C<=h;C++){const w=(h+f-C-1)%h,k=t.getLineContent(w+1),D=this._findLastMatchInLine(l,k,w+1,u);if(D)return D}return null}static _findLastMatchInLine(t,s,l,u){let h=null,f;for(t.reset(0);f=t.next(s);)h=td(new $(l,f.index+1,l,f.index+1+f[0].length),f,u);return h}}function r0e(d,t,s,l,u){if(l===0)return!0;const h=t.charCodeAt(l-1);if(d.get(h)!==0||h===13||h===10)return!0;if(u>0){const f=t.charCodeAt(l);if(d.get(f)!==0)return!0}return!1}function o0e(d,t,s,l,u){if(l+u===s)return!0;const h=t.charCodeAt(l+u);if(d.get(h)!==0||h===13||h===10)return!0;if(u>0){const f=t.charCodeAt(l+u-1);if(d.get(f)!==0)return!0}return!1}function dI(d,t,s,l,u){return r0e(d,t,s,l,u)&&o0e(d,t,s,l,u)}class $1{constructor(t,s){this._wordSeparators=t,this._searchRegex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const s=t.length;let l;do{if(this._prevMatchStartIndex+this._prevMatchLength===s||(l=this._searchRegex.exec(t),!l))return null;const u=l.index,h=l[0].length;if(u===this._prevMatchStartIndex&&h===this._prevMatchLength){if(h===0){j3(t,s,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=u,this._prevMatchLength=h,!this._wordSeparators||dI(this._wordSeparators,t,s,u,h))return l}while(l);return null}}class fI{static computeUnicodeHighlights(t,s,l){const u=l?l.startLineNumber:1,h=l?l.endLineNumber:t.getLineCount(),f=new WM(s),m=f.getCandidateCodePoints();let A;m==="allNonBasicAscii"?A=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):A=new RegExp(`${l0e(Array.from(m))}`,"g");const C=new $1(null,A),w=[];let k=!1,D,I=0,N=0,R=0;e:for(let O=u,W=h;O<=W;O++){const B=t.getLineContent(O),z=B.length;C.reset(0);do if(D=C.next(B),D){let G=D.index,K=D.index+D[0].length;if(G>0){const ne=B.charCodeAt(G-1);Cs(ne)&&G--}if(K+1<z){const ne=B.charCodeAt(K-1);Cs(ne)&&K++}const q=B.substring(G,K),Y=HA(G+1,RD,B,0),J=f.shouldHighlightNonBasicASCII(q,Y?Y.word:null);if(J!==0){J===3?I++:J===2?N++:J===1?R++:BD();const ne=1e3;if(w.length>=ne){k=!0;break e}w.push(new $(O,G+1,O,K+1))}}while(D)}return{ranges:w,hasMore:k,ambiguousCharacterCount:I,invisibleCharacterCount:N,nonBasicAsciiCharacterCount:R}}static computeUnicodeHighlightReason(t,s){const l=new WM(s);switch(l.shouldHighlightNonBasicASCII(t,null)){case 0:return null;case 2:return{kind:1};case 3:{const h=t.codePointAt(0),f=l.ambiguousCharacters.getPrimaryConfusable(h),m=wa.getLocales().filter(A=>!wa.getInstance(new Set([...s.allowedLocales,A])).isAmbiguous(h));return{kind:0,confusableWith:String.fromCodePoint(f),notAmbiguousInLocales:m}}case 1:return{kind:2}}}}function l0e(d,t){return`[${Fl(d.map(l=>String.fromCodePoint(l)).join(""))}]`}class WM{constructor(t){this.options=t,this.allowedCodePoints=new Set(t.allowedCodePoints),this.ambiguousCharacters=wa.getInstance(new Set(t.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const t=new Set;if(this.options.invisibleCharacters)for(const s of h0.codePoints)VM(String.fromCodePoint(s))||t.add(s);if(this.options.ambiguousCharacters)for(const s of this.ambiguousCharacters.getConfusableCodePoints())t.add(s);for(const s of this.allowedCodePoints)t.delete(s);return t}shouldHighlightNonBasicASCII(t,s){const l=t.codePointAt(0);if(this.allowedCodePoints.has(l))return 0;if(this.options.nonBasicASCII)return 1;let u=!1,h=!1;if(s)for(let f of s){const m=f.codePointAt(0),A=bw(f);u=u||A,!A&&!this.ambiguousCharacters.isAmbiguous(m)&&!h0.isInvisibleCharacter(m)&&(h=!0)}return!u&&h?0:this.options.invisibleCharacters&&!VM(t)&&h0.isInvisibleCharacter(l)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(l)?3:0}}function VM(d){return d===" "||d===`
`||d==="	"}var zh=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class a0e extends $2e{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,s){const l=HA(t.column,hW(s),this._lines[t.lineNumber-1],0);return l?new $(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn):null}words(t){const s=this._lines,l=this._wordenize.bind(this);let u=0,h="",f=0,m=[];return{*[Symbol.iterator](){for(;;)if(f<m.length){const A=h.substring(m[f].start,m[f].end);f+=1,yield A}else if(u<s.length)h=s[u],m=l(h,t),f=0,u+=1;else break}}}getLineWords(t,s){const l=this._lines[t-1],u=this._wordenize(l,s),h=[];for(const f of u)h.push({word:l.substring(f.start,f.end),startColumn:f.start+1,endColumn:f.end+1});return h}_wordenize(t,s){const l=[];let u;for(s.lastIndex=0;(u=s.exec(t))&&u[0].length!==0;)l.push({start:u.index,end:u.index+u[0].length});return l}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);const s=this._eol,l=t.startLineNumber-1,u=t.endLineNumber-1,h=[];h.push(this._lines[l].substring(t.startColumn-1));for(let f=l+1;f<u;f++)h.push(this._lines[f]);return h.push(this._lines[u].substring(0,t.endColumn-1)),h.join(s)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();const s=this._lineStarts.getIndexOf(t),l=this._lines[s.index].length;return{lineNumber:1+s.index,column:1+Math.min(s.remainder,l)}}_validateRange(t){const s=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),l=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return s.lineNumber!==t.startLineNumber||s.column!==t.startColumn||l.lineNumber!==t.endLineNumber||l.column!==t.endColumn?{startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:l.lineNumber,endColumn:l.column}:t}_validatePosition(t){if(!me.isIPosition(t))throw new Error("bad position");let{lineNumber:s,column:l}=t,u=!1;if(s<1)s=1,l=1,u=!0;else if(s>this._lines.length)s=this._lines.length,l=this._lines[s-1].length+1,u=!0;else{const h=this._lines[s-1].length+1;l<1?(l=1,u=!0):l>h&&(l=h,u=!0)}return u?{lineNumber:s,column:l}:t}}class Vd{constructor(t,s){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=s,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){const t=[];return Object.keys(this._models).forEach(s=>t.push(this._models[s])),t}acceptNewModel(t){this._models[t.url]=new a0e(Lt.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,s){if(!this._models[t])return;this._models[t].onEvents(s)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeUnicodeHighlights(t,s,l){return zh(this,void 0,void 0,function*(){const u=this._getModel(t);return u?fI.computeUnicodeHighlights(u,s,l):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(t,s,l,u){return zh(this,void 0,void 0,function*(){const h=this._getModel(t),f=this._getModel(s);if(!h||!f)return null;const m=h.getLinesContent(),A=f.getLinesContent(),w=new Z2e(m,A,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:l,shouldMakePrettyDiff:!0,maxComputationTime:u}).computeDiff(),k=w.changes.length>0?!1:this._modelsAreIdentical(h,f);return{quitEarly:w.quitEarly,identical:k,changes:w.changes}})}_modelsAreIdentical(t,s){const l=t.getLineCount(),u=s.getLineCount();if(l!==u)return!1;for(let h=1;h<=l;h++){const f=t.getLineContent(h),m=s.getLineContent(h);if(f!==m)return!1}return!0}computeMoreMinimalEdits(t,s){return zh(this,void 0,void 0,function*(){const l=this._getModel(t);if(!l)return s;const u=[];let h;s=s.slice(0).sort((f,m)=>{if(f.range&&m.range)return $.compareRangesUsingStarts(f.range,m.range);const A=f.range?0:1,C=m.range?0:1;return A-C});for(let{range:f,text:m,eol:A}of s){if(typeof A=="number"&&(h=A),$.isEmpty(f)&&!m)continue;const C=l.getValueInRange(f);if(m=m.replace(/\r\n|\n|\r/g,l.eol),C===m)continue;if(Math.max(m.length,C.length)>Vd._diffLimit){u.push({range:f,text:m});continue}const w=U2e(C,m,!1),k=l.offsetAt($.lift(f).getStartPosition());for(const D of w){const I=l.positionAt(k+D.originalStart),N=l.positionAt(k+D.originalStart+D.originalLength),R={text:m.substr(D.modifiedStart,D.modifiedLength),range:{startLineNumber:I.lineNumber,startColumn:I.column,endLineNumber:N.lineNumber,endColumn:N.column}};l.getValueInRange(R.range)!==R.text&&u.push(R)}}return typeof h=="number"&&u.push({eol:h,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),u})}computeLinks(t){return zh(this,void 0,void 0,function*(){const s=this._getModel(t);return s?e0e(s):null})}textualSuggest(t,s,l,u){return zh(this,void 0,void 0,function*(){const h=new mo(!0),f=new RegExp(l,u),m=new Set;e:for(let A of t){const C=this._getModel(A);if(!!C){for(let w of C.words(f))if(!(w===s||!isNaN(Number(w)))&&(m.add(w),m.size>Vd._suggestionsLimit))break e}}return{words:Array.from(m),duration:h.elapsed()}})}computeWordRanges(t,s,l,u){return zh(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return Object.create(null);const f=new RegExp(l,u),m=Object.create(null);for(let A=s.startLineNumber;A<s.endLineNumber;A++){const C=h.getLineWords(A,f);for(const w of C){if(!isNaN(Number(w.word)))continue;let k=m[w.word];k||(k=[],m[w.word]=k),k.push({startLineNumber:A,startColumn:w.startColumn,endLineNumber:A,endColumn:w.endColumn})}}return m})}navigateValueSet(t,s,l,u,h){return zh(this,void 0,void 0,function*(){const f=this._getModel(t);if(!f)return null;const m=new RegExp(u,h);s.startColumn===s.endColumn&&(s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.endColumn+1});const A=f.getValueInRange(s),C=f.getWordAtPosition({lineNumber:s.startLineNumber,column:s.startColumn},m);if(!C)return null;const w=f.getValueInRange(C);return Cy.INSTANCE.navigateValueSet(s,A,C,w,l)})}loadForeignModule(t,s,l){const f={host:ile(l,(m,A)=>this._host.fhr(m,A)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(f,s),Promise.resolve(FD(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,s){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,s))}catch(l){return Promise.reject(l)}}}Vd._diffLimit=1e5;Vd._suggestionsLimit=1e4;typeof importScripts=="function"&&(Zn.monaco=NW());const gI=hi("textResourceConfigurationService"),lV=hi("textResourcePropertiesService"),ka=hi("logService");var $a;(function(d){d[d.Trace=0]="Trace",d[d.Debug=1]="Debug",d[d.Info=2]="Info",d[d.Warning=3]="Warning",d[d.Error=4]="Error",d[d.Critical=5]="Critical",d[d.Off=6]="Off"})($a||($a={}));const aV=$a.Info;class c0e extends Se{constructor(){super(...arguments),this.level=aV,this._onDidChangeLogLevel=this._register(new he)}setLevel(t){this.level!==t&&(this.level=t,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class u0e extends c0e{constructor(t=aV){super(),this.setLevel(t)}trace(t,...s){this.getLevel()<=$a.Trace&&console.log("%cTRACE","color: #888",t,...s)}debug(t,...s){this.getLevel()<=$a.Debug&&console.log("%cDEBUG","background: #eee; color: #888",t,...s)}info(t,...s){this.getLevel()<=$a.Info&&console.log("%c INFO","color: #33f",t,...s)}error(t,...s){this.getLevel()<=$a.Error&&console.log("%c  ERR","color: #f33",t,...s)}dispose(){}}class h0e extends Se{constructor(t){super(),this.logger=t,this._register(t)}getLevel(){return this.logger.getLevel()}trace(t,...s){this.logger.trace(t,...s)}debug(t,...s){this.logger.debug(t,...s)}info(t,...s){this.logger.info(t,...s)}error(t,...s){this.logger.error(t,...s)}}const ut=hi("ILanguageFeaturesService");var d0e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Lp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},wy=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const HM=60*1e3,UM=5*60*1e3;function id(d,t){const s=d.getModel(t);return!(!s||s.isTooLargeForSyncing())}let vy=class extends Se{constructor(t,s,l,u,h){super(),this._modelService=t,this._workerManager=this._register(new g0e(this._modelService,u)),this._logService=l,this._register(h.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(f,m)=>id(this._modelService,f.uri)?this._workerManager.withWorker().then(A=>A.computeLinks(f.uri)).then(A=>A&&{links:A}):Promise.resolve({links:[]})})),this._register(h.completionProvider.register("*",new f0e(this._workerManager,s,this._modelService,u)))}dispose(){super.dispose()}canComputeUnicodeHighlights(t){return id(this._modelService,t)}computedUnicodeHighlights(t,s,l){return this._workerManager.withWorker().then(u=>u.computedUnicodeHighlights(t,s,l))}computeDiff(t,s,l,u){return this._workerManager.withWorker().then(h=>h.computeDiff(t,s,l,u))}computeMoreMinimalEdits(t,s){if(Mo(s)){if(!id(this._modelService,t))return Promise.resolve(s);const l=mo.create(!0),u=this._workerManager.withWorker().then(h=>h.computeMoreMinimalEdits(t,s));return u.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),l.elapsed())),Promise.race([u,zu(1e3).then(()=>s)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return id(this._modelService,t)}navigateValueSet(t,s,l){return this._workerManager.withWorker().then(u=>u.navigateValueSet(t,s,l))}canComputeWordRanges(t){return id(this._modelService,t)}computeWordRanges(t,s){return this._workerManager.withWorker().then(l=>l.computeWordRanges(t,s))}};vy=d0e([Lp(0,Ln),Lp(1,gI),Lp(2,ka),Lp(3,vr),Lp(4,ut)],vy);class f0e{constructor(t,s,l,u){this.languageConfigurationService=u,this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=s,this._modelService=l}provideCompletionItems(t,s){return wy(this,void 0,void 0,function*(){const l=this._configurationService.getValue(t.uri,s,"editor");if(!l.wordBasedSuggestions)return;const u=[];if(l.wordBasedSuggestionsMode==="currentDocument")id(this._modelService,t.uri)&&u.push(t.uri);else for(const k of this._modelService.getModels())!id(this._modelService,k.uri)||(k===t?u.unshift(k.uri):(l.wordBasedSuggestionsMode==="allDocuments"||k.getLanguageId()===t.getLanguageId())&&u.push(k.uri));if(u.length===0)return;const h=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition(),f=t.getWordAtPosition(s),m=f?new $(s.lineNumber,f.startColumn,s.lineNumber,f.endColumn):$.fromPositions(s),A=m.setEndPosition(s.lineNumber,s.column),w=yield(yield this._workerManager.withWorker()).textualSuggest(u,f?.word,h);if(!!w)return{duration:w.duration,suggestions:w.words.map(k=>({kind:18,label:k,insertText:k,range:{insert:A,replace:m}}))}})}}class g0e extends Se{constructor(t,s){super(),this.languageConfigurationService=s,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new u_).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(UM/2)),this._register(this._modelService.onModelRemoved(u=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>UM&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new cV(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class m0e extends Se{constructor(t,s,l){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=s,!l){const u=new u_;u.cancelAndSet(()=>this._checkStopModelSync(),Math.round(HM/2)),this._register(u)}}dispose(){for(let t in this._syncedModels)mi(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,s){for(const l of t){const u=l.toString();this._syncedModels[u]||this._beginModelSync(l,s),this._syncedModels[u]&&(this._syncedModelsLastUsedTime[u]=new Date().getTime())}}_checkStopModelSync(){const t=new Date().getTime(),s=[];for(let l in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[l]>HM&&s.push(l);for(const l of s)this._stopModelSync(l)}_beginModelSync(t,s){const l=this._modelService.getModel(t);if(!l||!s&&l.isTooLargeForSyncing())return;const u=t.toString();this._proxy.acceptNewModel({url:l.uri.toString(),lines:l.getLinesContent(),EOL:l.getEOL(),versionId:l.getVersionId()});const h=new je;h.add(l.onDidChangeContent(f=>{this._proxy.acceptModelChanged(u.toString(),f)})),h.add(l.onWillDispose(()=>{this._stopModelSync(u)})),h.add($t(()=>{this._proxy.acceptRemovedModel(u)})),this._syncedModels[u]=h}_stopModelSync(t){const s=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],mi(s)}}class zM{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class fb{constructor(t){this._workerClient=t}fhr(t,s){return this._workerClient.fhr(t,s)}}class cV extends Se{constructor(t,s,l,u){super(),this.languageConfigurationService=u,this._disposed=!1,this._modelService=t,this._keepIdleModels=s,this._workerFactory=new Iw(l),this._worker=null,this._modelManager=null}fhr(t,s){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new R2e(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new fb(this)))}catch(t){py(t),this._worker=new zM(new Vd(new fb(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(py(t),this._worker=new zM(new Vd(new fb(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new m0e(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,s=!1){return wy(this,void 0,void 0,function*(){return this._disposed?Promise.reject(WD()):this._getProxy().then(l=>(this._getOrCreateModelManager(l).ensureSyncedResources(t,s),l))})}computedUnicodeHighlights(t,s,l){return this._withSyncedResources([t]).then(u=>u.computeUnicodeHighlights(t.toString(),s,l))}computeDiff(t,s,l,u){return this._withSyncedResources([t,s],!0).then(h=>h.computeDiff(t.toString(),s.toString(),l,u))}computeMoreMinimalEdits(t,s){return this._withSyncedResources([t]).then(l=>l.computeMoreMinimalEdits(t.toString(),s))}computeLinks(t){return this._withSyncedResources([t]).then(s=>s.computeLinks(t.toString()))}textualSuggest(t,s,l){return wy(this,void 0,void 0,function*(){const u=yield this._withSyncedResources(t),h=l.source,f=tb(l);return u.textualSuggest(t.map(m=>m.toString()),s,h,f)})}computeWordRanges(t,s){return this._withSyncedResources([t]).then(l=>{const u=this._modelService.getModel(t);if(!u)return Promise.resolve(null);const h=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId()).getWordDefinition(),f=h.source,m=tb(h);return l.computeWordRanges(t.toString(),s,f,m)})}navigateValueSet(t,s,l){return this._withSyncedResources([t]).then(u=>{const h=this._modelService.getModel(t);if(!h)return null;const f=this.languageConfigurationService.getLanguageConfiguration(h.getLanguageId()).getWordDefinition(),m=f.source,A=tb(f);return u.navigateValueSet(t.toString(),s,l,m,A)})}dispose(){super.dispose(),this._disposed=!0}}function p0e(d,t,s){return new A0e(d,t,s)}class A0e extends cV{constructor(t,s,l){super(t,l.keepIdleModels||!1,l.label,s),this._foreignModuleId=l.moduleId,this._foreignModuleCreateData=l.createData||null,this._foreignModuleHost=l.host||null,this._foreignProxy=null}fhr(t,s){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,s))}catch(l){return Promise.reject(l)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const s=this._foreignModuleHost?FD(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,s).then(l=>{this._foreignModuleCreateData=null;const u=(m,A)=>t.fmr(m,A),h=(m,A)=>function(){const C=Array.prototype.slice.call(arguments,0);return A(m,C)},f={};for(const m of l)f[m]=h(m,u);return f})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(s=>this.getProxy())}}class ws{constructor(t,s,l){this._lineTokensBrand=void 0,this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=s,this._languageIdCodec=l}static createEmpty(t,s){const l=ws.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=t.length,u[1]=l,new ws(u,t,s)}equals(t){return t instanceof ws?this.slicedEquals(t,0,this._tokensCount):!1}slicedEquals(t,s,l){if(this._text!==t._text||this._tokensCount!==t._tokensCount)return!1;const u=s<<1,h=u+(l<<1);for(let f=u;f<h;f++)if(this._tokens[f]!==t._tokens[f])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(t){return t>0?this._tokens[t-1<<1]:0}getMetadata(t){return this._tokens[(t<<1)+1]}getLanguageId(t){const s=this._tokens[(t<<1)+1],l=Ar.getLanguageId(s);return this._languageIdCodec.decodeLanguageId(l)}getStandardTokenType(t){const s=this._tokens[(t<<1)+1];return Ar.getTokenType(s)}getForeground(t){const s=this._tokens[(t<<1)+1];return Ar.getForeground(s)}getClassName(t){const s=this._tokens[(t<<1)+1];return Ar.getClassNameFromMetadata(s)}getInlineStyle(t,s){const l=this._tokens[(t<<1)+1];return Ar.getInlineStyleFromMetadata(l,s)}getPresentation(t){const s=this._tokens[(t<<1)+1];return Ar.getPresentationFromMetadata(s)}getEndOffset(t){return this._tokens[t<<1]}findTokenIndexAtOffset(t){return ws.findIndexInTokensArray(this._tokens,t)}inflate(){return this}sliceAndInflate(t,s,l){return new mI(this,t,s,l)}static convertToEndOffset(t,s){const u=(t.length>>>1)-1;for(let h=0;h<u;h++)t[h<<1]=t[h+1<<1];t[u<<1]=s}static findIndexInTokensArray(t,s){if(t.length<=2)return 0;let l=0,u=(t.length>>>1)-1;for(;l<u;){const h=l+Math.floor((u-l)/2),f=t[h<<1];if(f===s)return h+1;f<s?l=h+1:f>s&&(u=h)}return l}withInserted(t){if(t.length===0)return this;let s=0,l=0,u="";const h=new Array;let f=0;for(;;){const m=s<this._tokensCount?this._tokens[s<<1]:-1,A=l<t.length?t[l]:null;if(m!==-1&&(A===null||m<=A.offset)){u+=this._text.substring(f,m);const C=this._tokens[(s<<1)+1];h.push(u.length,C),s++,f=m}else if(A){if(A.offset>f){u+=this._text.substring(f,A.offset);const C=this._tokens[(s<<1)+1];h.push(u.length,C),f=A.offset}u+=A.text,h.push(u.length,A.tokenMetadata),l++}else break}return new ws(new Uint32Array(h),u,this._languageIdCodec)}}ws.defaultTokenMetadata=(0<<10|1<<14|2<<23)>>>0;class mI{constructor(t,s,l,u){this._source=t,this._startOffset=s,this._endOffset=l,this._deltaOffset=u,this._firstTokenIndex=t.findTokenIndexAtOffset(s),this._tokensCount=0;for(let h=this._firstTokenIndex,f=t.getCount();h<f&&!(t.getStartOffset(h)>=l);h++)this._tokensCount++}getMetadata(t){return this._source.getMetadata(this._firstTokenIndex+t)}getLanguageId(t){return this._source.getLanguageId(this._firstTokenIndex+t)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(t){return t instanceof mI?this._startOffset===t._startOffset&&this._endOffset===t._endOffset&&this._deltaOffset===t._deltaOffset&&this._source.slicedEquals(t._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(t){return this._source.getForeground(this._firstTokenIndex+t)}getEndOffset(t){const s=this._source.getEndOffset(this._firstTokenIndex+t);return Math.min(this._endOffset,s)-this._startOffset+this._deltaOffset}getClassName(t){return this._source.getClassName(this._firstTokenIndex+t)}getInlineStyle(t,s){return this._source.getInlineStyle(this._firstTokenIndex+t,s)}getPresentation(t){return this._source.getPresentation(this._firstTokenIndex+t)}findTokenIndexAtOffset(t){return this._source.findTokenIndexAtOffset(t+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class ll{constructor(t,s,l,u){this.startColumn=t,this.endColumn=s,this.className=l,this.type=u,this._lineDecorationBrand=void 0}static _equals(t,s){return t.startColumn===s.startColumn&&t.endColumn===s.endColumn&&t.className===s.className&&t.type===s.type}static equalsArr(t,s){const l=t.length,u=s.length;if(l!==u)return!1;for(let h=0;h<l;h++)if(!ll._equals(t[h],s[h]))return!1;return!0}static extractWrapped(t,s,l){if(t.length===0)return t;const u=s+1,h=l+1,f=l-s,m=[];let A=0;for(const C of t)C.endColumn<=u||C.startColumn>=h||(m[A++]=new ll(Math.max(1,C.startColumn-u+1),Math.min(f+1,C.endColumn-u+1),C.className,C.type));return m}static filter(t,s,l,u){if(t.length===0)return[];const h=[];let f=0;for(let m=0,A=t.length;m<A;m++){const C=t[m],w=C.range;if(w.endLineNumber<s||w.startLineNumber>s||w.isEmpty()&&(C.type===0||C.type===3))continue;const k=w.startLineNumber===s?w.startColumn:l,D=w.endLineNumber===s?w.endColumn:u;h[f++]=new ll(k,D,C.inlineClassName,C.type)}return h}static _typeCompare(t,s){const l=[2,0,1,3];return l[t]-l[s]}static compare(t,s){if(t.startColumn!==s.startColumn)return t.startColumn-s.startColumn;if(t.endColumn!==s.endColumn)return t.endColumn-s.endColumn;const l=ll._typeCompare(t.type,s.type);return l!==0?l:t.className!==s.className?t.className<s.className?-1:1:0}}class GM{constructor(t,s,l,u){this.startOffset=t,this.endOffset=s,this.className=l,this.metadata=u}}class X3{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(t){let s=0;for(let l=0,u=t.length;l<u;l++)s|=t[l];return s}consumeLowerThan(t,s,l){for(;this.count>0&&this.stopOffsets[0]<t;){let u=0;for(;u+1<this.count&&this.stopOffsets[u]===this.stopOffsets[u+1];)u++;l.push(new GM(s,this.stopOffsets[u],this.classNames.join(" "),X3._metadata(this.metadata))),s=this.stopOffsets[u]+1,this.stopOffsets.splice(0,u+1),this.classNames.splice(0,u+1),this.metadata.splice(0,u+1),this.count-=u+1}return this.count>0&&s<t&&(l.push(new GM(s,t-1,this.classNames.join(" "),X3._metadata(this.metadata))),s=t),s}insert(t,s,l){if(this.count===0||this.stopOffsets[this.count-1]<=t)this.stopOffsets.push(t),this.classNames.push(s),this.metadata.push(l);else for(let u=0;u<this.count;u++)if(this.stopOffsets[u]>=t){this.stopOffsets.splice(u,0,t),this.classNames.splice(u,0,s),this.metadata.splice(u,0,l);break}this.count++}}class _0e{static normalize(t,s){if(s.length===0)return[];const l=[],u=new X3;let h=0;for(let f=0,m=s.length;f<m;f++){const A=s[f];let C=A.startColumn,w=A.endColumn;const k=A.className,D=A.type===1?2:A.type===2?4:0;if(C>1){const R=t.charCodeAt(C-2);Cs(R)&&C--}if(w>1){const R=t.charCodeAt(w-2);Cs(R)&&w--}const I=C-1,N=w-2;h=u.consumeLowerThan(I,h,l),u.count===0&&(h=I),u.insert(N,k,D)}return u.consumeLowerThan(1073741824,h,l),l}}class Ts{constructor(t,s,l){this._linePartBrand=void 0,this.endIndex=t,this.type=s,this.metadata=l}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class C0e{constructor(t,s){this.startOffset=t,this.endOffset=s}equals(t){return this.startOffset===t.startOffset&&this.endOffset===t.endOffset}}class yf{constructor(t,s,l,u,h,f,m,A,C,w,k,D,I,N,R,O,W,B,z){this.useMonospaceOptimizations=t,this.canUseHalfwidthRightwardsArrow=s,this.lineContent=l,this.continuesWithWrappedLine=u,this.isBasicASCII=h,this.containsRTL=f,this.fauxIndentLength=m,this.lineTokens=A,this.lineDecorations=C.sort(ll.compare),this.tabSize=w,this.startVisibleColumn=k,this.spaceWidth=D,this.stopRenderingLineAfter=R,this.renderWhitespace=O==="all"?4:O==="boundary"?1:O==="selection"?2:O==="trailing"?3:0,this.renderControlCharacters=W,this.fontLigatures=B,this.selectionsOnLine=z&&z.sort((q,Y)=>q.startOffset<Y.startOffset?-1:1);const G=Math.abs(N-D),K=Math.abs(I-D);G<K?(this.renderSpaceWidth=N,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=I,this.renderSpaceCharCode=183)}sameSelection(t){if(this.selectionsOnLine===null)return t===null;if(t===null||t.length!==this.selectionsOnLine.length)return!1;for(let s=0;s<this.selectionsOnLine.length;s++)if(!this.selectionsOnLine[s].equals(t[s]))return!1;return!0}equals(t){return this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineContent===t.lineContent&&this.continuesWithWrappedLine===t.continuesWithWrappedLine&&this.isBasicASCII===t.isBasicASCII&&this.containsRTL===t.containsRTL&&this.fauxIndentLength===t.fauxIndentLength&&this.tabSize===t.tabSize&&this.startVisibleColumn===t.startVisibleColumn&&this.spaceWidth===t.spaceWidth&&this.renderSpaceWidth===t.renderSpaceWidth&&this.renderSpaceCharCode===t.renderSpaceCharCode&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.fontLigatures===t.fontLigatures&&ll.equalsArr(this.lineDecorations,t.lineDecorations)&&this.lineTokens.equals(t.lineTokens)&&this.sameSelection(t.selectionsOnLine)}}class pI{constructor(t,s){this.partIndex=t,this.charIndex=s}}class Y2{constructor(t,s){this.length=t,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(t){return(t&4294901760)>>>16}static getCharIndex(t){return(t&65535)>>>0}setColumnInfo(t,s,l,u){const h=(s<<16|l<<0)>>>0;this._data[t-1]=h,this._absoluteOffsets[t-1]=u+l}getAbsoluteOffset(t){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[t-1]}charOffsetToPartData(t){return this.length===0?0:t<0?this._data[0]:t>=this.length?this._data[this.length-1]:this._data[t]}getDomPosition(t){const s=this.charOffsetToPartData(t-1),l=Y2.getPartIndex(s),u=Y2.getCharIndex(s);return new pI(l,u)}getColumn(t,s){return this.partDataToCharOffset(t.partIndex,s,t.charIndex)+1}partDataToCharOffset(t,s,l){if(this.length===0)return 0;const u=(t<<16|l<<0)>>>0;let h=0,f=this.length-1;for(;h+1<f;){const R=h+f>>>1,O=this._data[R];if(O===u)return R;O>u?f=R:h=R}if(h===f)return h;const m=this._data[h],A=this._data[f];if(m===u)return h;if(A===u)return f;const C=Y2.getPartIndex(m),w=Y2.getCharIndex(m),k=Y2.getPartIndex(A);let D;C!==k?D=s:D=Y2.getCharIndex(A);const I=l-w,N=D-l;return I<=N?h:f}}class ky{constructor(t,s,l){this._renderLineOutputBrand=void 0,this.characterMapping=t,this.containsRTL=s,this.containsForeignElements=l}}function Nw(d,t){if(d.lineContent.length===0){if(d.lineDecorations.length>0){t.appendASCIIString("<span>");let s=0,l=0,u=0;for(const f of d.lineDecorations)(f.type===1||f.type===2)&&(t.appendASCIIString('<span class="'),t.appendASCIIString(f.className),t.appendASCIIString('"></span>'),f.type===1&&(u|=1,s++),f.type===2&&(u|=2,l++));t.appendASCIIString("</span>");const h=new Y2(1,s+l);return h.setColumnInfo(1,s,0,0),new ky(h,!1,u)}return t.appendASCIIString("<span><span></span></span>"),new ky(new Y2(0,0),!1,0)}return I0e(k0e(d),t)}class w0e{constructor(t,s,l,u){this.characterMapping=t,this.html=s,this.containsRTL=l,this.containsForeignElements=u}}function Tw(d){const t=Bd(1e4),s=Nw(d,t);return new w0e(s.characterMapping,t.build(),s.containsRTL,s.containsForeignElements)}class v0e{constructor(t,s,l,u,h,f,m,A,C,w,k,D,I,N,R){this.fontIsMonospace=t,this.canUseHalfwidthRightwardsArrow=s,this.lineContent=l,this.len=u,this.isOverflowing=h,this.parts=f,this.containsForeignElements=m,this.fauxIndentLength=A,this.tabSize=C,this.startVisibleColumn=w,this.containsRTL=k,this.spaceWidth=D,this.renderSpaceCharCode=I,this.renderWhitespace=N,this.renderControlCharacters=R}}function k0e(d){const t=d.lineContent;let s,l;d.stopRenderingLineAfter!==-1&&d.stopRenderingLineAfter<t.length?(s=!0,l=d.stopRenderingLineAfter):(s=!1,l=t.length);let u=b0e(d.lineTokens,d.fauxIndentLength,l);d.renderControlCharacters&&!d.isBasicASCII&&(u=y0e(t,u)),(d.renderWhitespace===4||d.renderWhitespace===1||d.renderWhitespace===2&&!!d.selectionsOnLine||d.renderWhitespace===3)&&(u=L0e(d,t,l,u));let h=0;if(d.lineDecorations.length>0){for(let f=0,m=d.lineDecorations.length;f<m;f++){const A=d.lineDecorations[f];A.type===3||A.type===1?h|=1:A.type===2&&(h|=2)}u=D0e(t,l,u,d.lineDecorations)}return d.containsRTL||(u=S0e(t,u,!d.isBasicASCII||d.fontLigatures)),new v0e(d.useMonospaceOptimizations,d.canUseHalfwidthRightwardsArrow,t,l,s,u,h,d.fauxIndentLength,d.tabSize,d.startVisibleColumn,d.containsRTL,d.spaceWidth,d.renderSpaceCharCode,d.renderWhitespace,d.renderControlCharacters)}function b0e(d,t,s){const l=[];let u=0;t>0&&(l[u++]=new Ts(t,"",0));for(let h=0,f=d.getCount();h<f;h++){const m=d.getEndOffset(h);if(m<=t)continue;const A=d.getClassName(h);if(m>=s){l[u++]=new Ts(s,A,0);break}l[u++]=new Ts(m,A,0)}return l}function S0e(d,t,s){let l=0;const u=[];let h=0;if(s)for(let f=0,m=t.length;f<m;f++){const A=t[f],C=A.endIndex;if(l+50<C){const w=A.type,k=A.metadata;let D=-1,I=l;for(let N=l;N<C;N++)d.charCodeAt(N)===32&&(D=N),D!==-1&&N-I>=50&&(u[h++]=new Ts(D+1,w,k),I=D+1,D=-1);I!==C&&(u[h++]=new Ts(C,w,k))}else u[h++]=A;l=C}else for(let f=0,m=t.length;f<m;f++){const A=t[f],C=A.endIndex,w=C-l;if(w>50){const k=A.type,D=A.metadata,I=Math.ceil(w/50);for(let N=1;N<I;N++){const R=l+N*50;u[h++]=new Ts(R,k,D)}u[h++]=new Ts(C,k,D)}else u[h++]=A;l=C}return u}function uV(d){return d<32?d!==9:d===127||d>=8234&&d<=8238||d>=8294&&d<=8297||d>=8206&&d<=8207||d===1564}function y0e(d,t){const s=[];let l=new Ts(0,"",0),u=0;for(const h of t){const f=h.endIndex;for(;u<f;u++){const m=d.charCodeAt(u);uV(m)&&(u>l.endIndex&&(l=new Ts(u,h.type,h.metadata),s.push(l)),l=new Ts(u+1,"mtkcontrol",h.metadata),s.push(l))}u>l.endIndex&&(l=new Ts(f,h.type,h.metadata),s.push(l))}return s}function L0e(d,t,s,l){const u=d.continuesWithWrappedLine,h=d.fauxIndentLength,f=d.tabSize,m=d.startVisibleColumn,A=d.useMonospaceOptimizations,C=d.selectionsOnLine,w=d.renderWhitespace===1,k=d.renderWhitespace===3,D=d.renderSpaceWidth!==d.spaceWidth,I=[];let N=0,R=0,O=l[R].type,W=l[R].endIndex;const B=l.length;let z=!1,G=Zr(t),K;G===-1?(z=!0,G=s,K=s):K=u0(t);let q=!1,Y=0,J=C&&C[Y],ne=m%f;for(let ge=h;ge<s;ge++){const Te=t.charCodeAt(ge);J&&ge>=J.endOffset&&(Y++,J=C&&C[Y]);let Me;if(ge<G||ge>K)Me=!0;else if(Te===9)Me=!0;else if(Te===32)if(w)if(q)Me=!0;else{const ct=ge+1<s?t.charCodeAt(ge+1):0;Me=ct===32||ct===9}else Me=!0;else Me=!1;if(Me&&C&&(Me=!!J&&J.startOffset<=ge&&J.endOffset>ge),Me&&k&&(Me=z||ge>K),q){if(!Me||!A&&ne>=f){if(D){const ct=N>0?I[N-1].endIndex:h;for(let st=ct+1;st<=ge;st++)I[N++]=new Ts(st,"mtkw",1)}else I[N++]=new Ts(ge,"mtkw",1);ne=ne%f}}else(ge===W||Me&&ge>h)&&(I[N++]=new Ts(ge,O,0),ne=ne%f);for(Te===9?ne=f:Uu(Te)?ne+=2:ne++,q=Me;ge===W&&(R++,R<B);)O=l[R].type,W=l[R].endIndex}let Ae=!1;if(q)if(u&&w){const ge=s>0?t.charCodeAt(s-1):0,Te=s>1?t.charCodeAt(s-2):0;ge===32&&Te!==32&&Te!==9||(Ae=!0)}else Ae=!0;if(Ae)if(D){const ge=N>0?I[N-1].endIndex:h;for(let Te=ge+1;Te<=s;Te++)I[N++]=new Ts(Te,"mtkw",1)}else I[N++]=new Ts(s,"mtkw",1);else I[N++]=new Ts(s,O,0);return I}function D0e(d,t,s,l){l.sort(ll.compare);const u=_0e.normalize(d,l),h=u.length;let f=0;const m=[];let A=0,C=0;for(let k=0,D=s.length;k<D;k++){const I=s[k],N=I.endIndex,R=I.type,O=I.metadata;for(;f<h&&u[f].startOffset<N;){const W=u[f];if(W.startOffset>C&&(C=W.startOffset,m[A++]=new Ts(C,R,O)),W.endOffset+1<=N)C=W.endOffset+1,m[A++]=new Ts(C,R+" "+W.className,O|W.metadata),f++;else{C=N,m[A++]=new Ts(C,R+" "+W.className,O|W.metadata);break}}N>C&&(C=N,m[A++]=new Ts(C,R,O))}const w=s[s.length-1].endIndex;if(f<h&&u[f].startOffset===w)for(;f<h&&u[f].startOffset===w;){const k=u[f];m[A++]=new Ts(C,k.className,k.metadata),f++}return m}function I0e(d,t){const s=d.fontIsMonospace,l=d.canUseHalfwidthRightwardsArrow,u=d.containsForeignElements,h=d.lineContent,f=d.len,m=d.isOverflowing,A=d.parts,C=d.fauxIndentLength,w=d.tabSize,k=d.startVisibleColumn,D=d.containsRTL,I=d.spaceWidth,N=d.renderSpaceCharCode,R=d.renderWhitespace,O=d.renderControlCharacters,W=new Y2(f+1,A.length);let B=!1,z=0,G=k,K=0,q=0,Y=0,J=0;D?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let ne=0,Ae=A.length;ne<Ae;ne++){J+=Y;const ge=A[ne],Te=ge.endIndex,Me=ge.type,ct=R!==0&&ge.isWhitespace(),st=ct&&!s&&(Me==="mtkw"||!u),kt=z===Te&&ge.isPseudoAfter();if(K=0,t.appendASCIIString('<span class="'),t.appendASCIIString(st?"mtkz":Me),t.appendASCII(34),ct){let Et=0;{let Dt=z,Vt=G;for(;Dt<Te;Dt++){const Vi=(h.charCodeAt(Dt)===9?w-Vt%w:1)|0;Et+=Vi,Dt>=C&&(Vt+=Vi)}}for(st&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(I*Et)),t.appendASCIIString('px"')),t.appendASCII(62);z<Te;z++){W.setColumnInfo(z+1,ne-q,K,J),q=0;const Dt=h.charCodeAt(z);let Vt;if(Dt===9){Vt=w-G%w|0,!l||Vt>1?t.write1(8594):t.write1(65515);for(let fn=2;fn<=Vt;fn++)t.write1(160)}else Vt=1,t.write1(N);K+=Vt,z>=C&&(G+=Vt)}Y=Et}else{let Et=0;for(t.appendASCII(62);z<Te;z++){W.setColumnInfo(z+1,ne-q,K,J),q=0;const Dt=h.charCodeAt(z);let Vt=1,fn=1;switch(Dt){case 9:Vt=w-G%w,fn=Vt;for(let Vi=1;Vi<=Vt;Vi++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:O?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:Uu(Dt)&&fn++,O&&Dt<32?t.write1(9216+Dt):O&&Dt===127?t.write1(9249):O&&uV(Dt)?(t.appendASCIIString("[U+"),t.appendASCIIString(x0e(Dt)),t.appendASCIIString("]"),Vt=8):t.write1(Dt)}K+=Vt,Et+=Vt,z>=C&&(G+=fn)}Y=Et}kt?q++:q=0,z>=f&&!B&&ge.isPseudoAfter()&&(B=!0,W.setColumnInfo(z+1,ne,K,J)),t.appendASCIIString("</span>")}return B||W.setColumnInfo(f+1,A.length-1,K,J),m&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new ky(W,D,u)}function x0e(d){return d.toString(16).toUpperCase().padStart(4,"0")}class jM{constructor(t,s,l,u){this._viewportBrand=void 0,this.top=t|0,this.left=s|0,this.width=l|0,this.height=u|0}}class E0e{constructor(t,s){this.tabSize=t,this.data=s}}class AI{constructor(t,s,l,u,h,f,m){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=s,this.minColumn=l,this.maxColumn=u,this.startVisibleColumn=h,this.tokens=f,this.inlineDecorations=m}}class fl{constructor(t,s,l,u,h,f,m,A,C,w){this.minColumn=t,this.maxColumn=s,this.content=l,this.continuesWithWrappedLine=u,this.isBasicASCII=fl.isBasicASCII(l,f),this.containsRTL=fl.containsRTL(l,this.isBasicASCII,h),this.tokens=m,this.inlineDecorations=A,this.tabSize=C,this.startVisibleColumn=w}static isBasicASCII(t,s){return s?bw(t):!0}static containsRTL(t,s,l){return!s&&l?kw(t):!1}}class cA{constructor(t,s,l){this.range=t,this.inlineClassName=s,this.type=l}}class N0e{constructor(t,s,l,u){this.startOffset=t,this.endOffset=s,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=u}toInlineDecoration(t){return new cA(new $(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class hV{constructor(t,s){this._viewModelDecorationBrand=void 0,this.range=t,this.options=s}}class dV{constructor(t,s,l){this.color=t,this.zIndex=s,this.data=l}static cmp(t,s){return t.zIndex===s.zIndex?t.color<s.color?-1:t.color>s.color?1:0:t.zIndex-s.zIndex}}function T0e(d){return Array.isArray(d)}function R0e(d){return!T0e(d)}function fV(d){return typeof d=="string"}function ZM(d){return!fV(d)}function W1(d){return!d}function Iu(d,t){return d.ignoreCase&&t?t.toLowerCase():t}function QM(d){return d.replace(/[&<>'"_]/g,"-")}function M0e(d,t){console.log(`${d.languageId}: ${t}`)}function en(d,t){return new Error(`${d.languageId}: ${t}`)}function gu(d,t,s,l,u){const h=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let f=null;return t.replace(h,function(m,A,C,w,k,D,I,N,R){return W1(C)?W1(w)?!W1(k)&&k<l.length?Iu(d,l[k]):!W1(I)&&d&&typeof d[I]=="string"?d[I]:(f===null&&(f=u.split("."),f.unshift(u)),!W1(D)&&D<f.length?Iu(d,f[D]):""):Iu(d,s):"$"})}function W8(d,t){let s=t;for(;s&&s.length>0;){const l=d.tokenizer[s];if(l)return l;const u=s.lastIndexOf(".");u<0?s=null:s=s.substr(0,u)}return null}function P0e(d,t){let s=t;for(;s&&s.length>0;){if(d.stateNames[s])return!0;const u=s.lastIndexOf(".");u<0?s=null:s=s.substr(0,u)}return!1}const gV=5;class KA{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,s){return this._INSTANCE.create(t,s)}create(t,s){if(t!==null&&t.depth>=this._maxCacheDepth)return new hg(t,s);let l=hg.getStackElementId(t);l.length>0&&(l+="|"),l+=s;let u=this._entries[l];return u||(u=new hg(t,s),this._entries[l]=u,u)}}KA._INSTANCE=new KA(gV);class hg{constructor(t,s){this.parent=t,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let s="";for(;t!==null;)s.length>0&&(s+="|"),s+=t.state,t=t.parent;return s}static _equals(t,s){for(;t!==null&&s!==null;){if(t===s)return!0;if(t.state!==s.state)return!1;t=t.parent,s=s.parent}return t===null&&s===null}equals(t){return hg._equals(this,t)}push(t){return KA.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return KA.create(this.parent,t)}}class K1{constructor(t,s){this.languageId=t,this.state=s}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new K1(this.languageId,this.state)}}class mu{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,s){return this._INSTANCE.create(t,s)}create(t,s){if(s!==null)return new uA(t,s);if(t!==null&&t.depth>=this._maxCacheDepth)return new uA(t,s);const l=hg.getStackElementId(t);let u=this._entries[l];return u||(u=new uA(t,null),this._entries[l]=u,u)}}mu._INSTANCE=new mu(gV);class uA{constructor(t,s){this.stack=t,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:mu.create(this.stack,this.embeddedLanguageData)}equals(t){return!(t instanceof uA)||!this.stack.equals(t.stack)?!1:this.embeddedLanguageData===null&&t.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||t.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(t.embeddedLanguageData)}}class O0e{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(t){this._languageId=t}emit(t,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new UA(t,s,this._languageId)))}nestedLanguageTokenize(t,s,l,u){const h=l.languageId,f=l.state,m=bn.get(h);if(!m)return this.enterLanguage(h),this.emit(u,""),f;const A=m.tokenize(t,s,f);if(u!==0)for(const C of A.tokens)this._tokens.push(new UA(C.offset+u,C.type,C.language));else this._tokens=this._tokens.concat(A.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,A.endState}finalize(t){return new ZD(this._tokens,t)}}class J3{constructor(t,s){this._languageService=t,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(t){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(t)}emit(t,s){const l=this._theme.match(this._currentLanguageId,s);this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(t),this._tokens.push(l))}static _merge(t,s,l){const u=t!==null?t.length:0,h=s.length,f=l!==null?l.length:0;if(u===0&&h===0&&f===0)return new Uint32Array(0);if(u===0&&h===0)return l;if(h===0&&f===0)return t;const m=new Uint32Array(u+h+f);t!==null&&m.set(t);for(let A=0;A<h;A++)m[u+A]=s[A];return l!==null&&m.set(l,u+h),m}nestedLanguageTokenize(t,s,l,u){const h=l.languageId,f=l.state,m=bn.get(h);if(!m)return this.enterLanguage(h),this.emit(u,""),f;const A=m.tokenizeEncoded(t,s,f);if(u!==0)for(let C=0,w=A.tokens.length;C<w;C+=2)A.tokens[C]+=u;return this._prependTokens=J3._merge(this._prependTokens,this._tokens,A.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,A.endState}finalize(t){return new vw(J3._merge(this._prependTokens,this._tokens,null),t)}}class h_{constructor(t,s,l,u){this._languageService=t,this._standaloneThemeService=s,this._languageId=l,this._lexer=u,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let h=!1;this._tokenizationRegistryListener=bn.onDidChange(f=>{if(h)return;let m=!1;for(let A=0,C=f.changedLanguages.length;A<C;A++){const w=f.changedLanguages[A];if(this._embeddedLanguages[w]){m=!0;break}}m&&(h=!0,bn.fire([this._languageId]),h=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(let s in this._embeddedLanguages){const l=bn.get(s);if(l){if(l instanceof h_){const u=l.getLoadStatus();u.loaded===!1&&t.push(u.promise)}continue}bn.isResolved(s)||t.push(bn.getOrCreate(s))}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(s=>{})}}getInitialState(){const t=KA.create(null,this._lexer.start);return mu.create(t,null)}tokenize(t,s,l){const u=new O0e,h=this._tokenize(t,s,l,u);return u.finalize(h)}tokenizeEncoded(t,s,l){const u=new J3(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),h=this._tokenize(t,s,l,u);return u.finalize(h)}_tokenize(t,s,l,u){return l.embeddedLanguageData?this._nestedTokenize(t,s,l,0,u):this._myTokenize(t,s,l,0,u)}_findLeavingNestedLanguageOffset(t,s){let l=this._lexer.tokenizer[s.stack.state];if(!l&&(l=W8(this._lexer,s.stack.state),!l))throw en(this._lexer,"tokenizer state is not defined: "+s.stack.state);let u=-1,h=!1;for(const f of l){if(!ZM(f.action)||f.action.nextEmbedded!=="@pop")continue;h=!0;let m=f.regex;const A=f.regex.source;if(A.substr(0,4)==="^(?:"&&A.substr(A.length-1,1)===")"){const w=(m.ignoreCase?"i":"")+(m.unicode?"u":"");m=new RegExp(A.substr(4,A.length-5),w)}const C=t.search(m);C===-1||C!==0&&f.matchOnlyAtLineStart||(u===-1||C<u)&&(u=C)}if(!h)throw en(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return u}_nestedTokenize(t,s,l,u,h){const f=this._findLeavingNestedLanguageOffset(t,l);if(f===-1){const C=h.nestedLanguageTokenize(t,s,l.embeddedLanguageData,u);return mu.create(l.stack,new K1(l.embeddedLanguageData.languageId,C))}const m=t.substring(0,f);m.length>0&&h.nestedLanguageTokenize(m,!1,l.embeddedLanguageData,u);const A=t.substring(f);return this._myTokenize(A,s,l,u+f,h)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,s,l,u,h){h.enterLanguage(this._languageId);const f=t.length,m=s&&this._lexer.includeLF?t+`
`:t,A=m.length;let C=l.embeddedLanguageData,w=l.stack,k=0,D=null,I=!0;for(;I||k<A;){const N=k,R=w.depth,O=D?D.groups.length:0,W=w.state;let B=null,z=null,G=null,K=null,q=null;if(D){B=D.matches;const ne=D.groups.shift();z=ne.matched,G=ne.action,K=D.rule,D.groups.length===0&&(D=null)}else{if(!I&&k>=A)break;I=!1;let ne=this._lexer.tokenizer[W];if(!ne&&(ne=W8(this._lexer,W),!ne))throw en(this._lexer,"tokenizer state is not defined: "+W);let Ae=m.substr(k);for(const ge of ne)if((k===0||!ge.matchOnlyAtLineStart)&&(B=Ae.match(ge.regex),B)){z=B[0],G=ge.action;break}}if(B||(B=[""],z=""),G||(k<A&&(B=[m.charAt(k)],z=B[0]),G=this._lexer.defaultToken),z===null)break;for(k+=z.length;R0e(G)&&ZM(G)&&G.test;)G=G.test(z,B,W,k===A);let Y=null;if(typeof G=="string"||Array.isArray(G))Y=G;else if(G.group)Y=G.group;else if(G.token!==null&&G.token!==void 0){if(G.tokenSubst?Y=gu(this._lexer,G.token,z,B,W):Y=G.token,G.nextEmbedded)if(G.nextEmbedded==="@pop"){if(!C)throw en(this._lexer,"cannot pop embedded language if not inside one");C=null}else{if(C)throw en(this._lexer,"cannot enter embedded language from within an embedded language");q=gu(this._lexer,G.nextEmbedded,z,B,W)}if(G.goBack&&(k=Math.max(0,k-G.goBack)),G.switchTo&&typeof G.switchTo=="string"){let ne=gu(this._lexer,G.switchTo,z,B,W);if(ne[0]==="@"&&(ne=ne.substr(1)),W8(this._lexer,ne))w=w.switchTo(ne);else throw en(this._lexer,"trying to switch to a state '"+ne+"' that is undefined in rule: "+this._safeRuleName(K))}else{if(G.transform&&typeof G.transform=="function")throw en(this._lexer,"action.transform not supported");if(G.next)if(G.next==="@push"){if(w.depth>=this._lexer.maxStack)throw en(this._lexer,"maximum tokenizer stack size reached: ["+w.state+","+w.parent.state+",...]");w=w.push(W)}else if(G.next==="@pop"){if(w.depth<=1)throw en(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(K));w=w.pop()}else if(G.next==="@popall")w=w.popall();else{let ne=gu(this._lexer,G.next,z,B,W);if(ne[0]==="@"&&(ne=ne.substr(1)),W8(this._lexer,ne))w=w.push(ne);else throw en(this._lexer,"trying to set a next state '"+ne+"' that is undefined in rule: "+this._safeRuleName(K))}}G.log&&typeof G.log=="string"&&M0e(this._lexer,this._lexer.languageId+": "+gu(this._lexer,G.log,z,B,W))}if(Y===null)throw en(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(K));const J=ne=>{const Ae=this._languageService.getLanguageIdByLanguageName(ne)||this._languageService.getLanguageIdByMimeType(ne)||ne,ge=this._getNestedEmbeddedLanguageData(Ae);if(k<A){const Te=t.substr(k);return this._nestedTokenize(Te,s,mu.create(w,ge),u+k,h)}else return mu.create(w,ge)};if(Array.isArray(Y)){if(D&&D.groups.length>0)throw en(this._lexer,"groups cannot be nested: "+this._safeRuleName(K));if(B.length!==Y.length+1)throw en(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(K));let ne=0;for(let Ae=1;Ae<B.length;Ae++)ne+=B[Ae].length;if(ne!==z.length)throw en(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(K));D={rule:K,matches:B,groups:[]};for(let Ae=0;Ae<Y.length;Ae++)D.groups[Ae]={action:Y[Ae],matched:B[Ae+1]};k-=z.length;continue}else{if(Y==="@rematch"&&(k-=z.length,z="",B=null,Y="",q!==null))return J(q);if(z.length===0){if(A===0||R!==w.depth||W!==w.state||(D?D.groups.length:0)!==O)continue;throw en(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(K))}let ne=null;if(fV(Y)&&Y.indexOf("@brackets")===0){const Ae=Y.substr(9),ge=F0e(this._lexer,z);if(!ge)throw en(this._lexer,"@brackets token returned but no bracket defined as: "+z);ne=QM(ge.token+Ae)}else{const Ae=Y===""?"":Y+this._lexer.tokenPostfix;ne=QM(Ae)}N<f&&h.emit(N+u,ne)}if(q!==null)return J(q)}return mu.create(w,C)}_getNestedEmbeddedLanguageData(t){if(!this._languageService.isRegisteredLanguageId(t))return new K1(t,Og);t!==this._languageId&&(bn.getOrCreate(t),this._embeddedLanguages[t]=!0);const s=bn.get(t);return s?new K1(t,s.getInitialState()):new K1(t,Og)}}function F0e(d,t){if(!t)return null;t=Iu(d,t);const s=d.brackets;for(const l of s){if(l.open===t)return{token:l.token,bracketType:1};if(l.close===t)return{token:l.token,bracketType:-1}}return null}var B0e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},gb;const mb=(gb=window.trustedTypes)===null||gb===void 0?void 0:gb.createPolicy("standaloneColorizer",{createHTML:d=>d});class _I{static colorizeElement(t,s,l,u){u=u||{};const h=u.theme||"vs",f=u.mimeType||l.getAttribute("lang")||l.getAttribute("data-lang");if(!f)return console.error("Mode not detected"),Promise.resolve();const m=s.getLanguageIdByMimeType(f)||f;t.setTheme(h);const A=l.firstChild?l.firstChild.nodeValue:"";l.className+=" "+h;const C=w=>{var k;const D=(k=mb?.createHTML(w))!==null&&k!==void 0?k:w;l.innerHTML=D};return this.colorize(s,A||"",m,u).then(C,w=>console.error(w))}static colorize(t,s,l,u){return B0e(this,void 0,void 0,function*(){const h=t.languageIdCodec;let f=4;u&&typeof u.tabSize=="number"&&(f=u.tabSize),tI(s)&&(s=s.substr(1));const m=m0(s);if(!t.isRegisteredLanguageId(l))return YM(m,f,h);const A=yield bn.getOrCreate(l);return A?W0e(m,f,A,h):YM(m,f,h)})}static colorizeLine(t,s,l,u,h=4){const f=fl.isBasicASCII(t,s),m=fl.containsRTL(t,f,l);return Tw(new yf(!1,!0,t,!1,f,m,0,u,[],h,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,s,l=4){const u=t.getLineContent(s);t.forceTokenization(s);const f=t.getLineTokens(s).inflate();return this.colorizeLine(u,t.mightContainNonBasicASCII(),t.mightContainRTL(),f,l)}}function W0e(d,t,s,l){return new Promise((u,h)=>{const f=()=>{const m=V0e(d,t,s,l);if(s instanceof h_){const A=s.getLoadStatus();if(A.loaded===!1){A.promise.then(f,h);return}}u(m)};f()})}function YM(d,t,s){let l=[];const h=new Uint32Array(2);h[0]=0,h[1]=16793600;for(let f=0,m=d.length;f<m;f++){const A=d[f];h[0]=A.length;const C=new ws(h,A,s),w=fl.isBasicASCII(A,!0),k=fl.containsRTL(A,w,!0),D=Tw(new yf(!1,!0,A,!1,w,k,0,C,[],t,0,0,0,0,-1,"none",!1,!1,null));l=l.concat(D.html),l.push("<br/>")}return l.join("")}function V0e(d,t,s,l){let u=[],h=s.getInitialState();for(let f=0,m=d.length;f<m;f++){const A=d[f],C=s.tokenizeEncoded(A,!0,h);ws.convertToEndOffset(C.tokens,A.length);const w=new ws(C.tokens,A,l),k=fl.isBasicASCII(A,!0),D=fl.containsRTL(A,k,!0),I=Tw(new yf(!1,!0,A,!1,k,D,0,w.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));u=u.concat(I.html),u.push("<br/>"),h=C.endState}return u.join("")}const Rw={clipboard:{writeText:Xa||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Xa||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>Xa||sI?0:navigator.keyboard||va?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)};function by(d,t){if(d===0)return null;const s=(d&65535)>>>0,l=(d&4294901760)>>>16;return l!==0?new q3([pb(s,t),pb(l,t)]):new q3([pb(s,t)])}function pb(d,t){const s=!!(d&2048),l=!!(d&256),u=t===2?l:s,h=!!(d&1024),f=!!(d&512),m=t===2?s:l,A=d&255;return new Hd(u,h,f,m,A)}class Hd{constructor(t,s,l,u,h){this.ctrlKey=t,this.shiftKey=s,this.altKey=l,this.metaKey=u,this.keyCode=h}equals(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new q3([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class q3{constructor(t){if(t.length===0)throw Ja("parts");this.parts=t}}class H0e{constructor(t,s,l,u,h,f){this.ctrlKey=t,this.shiftKey=s,this.altKey=l,this.metaKey=u,this.keyLabel=h,this.keyAriaLabel=f}}class U0e{}function z0e(d){if(d.charCode){let s=String.fromCharCode(d.charCode).toUpperCase();return fd.fromString(s)}const t=d.keyCode;if(t===3)return 7;if(dl){if(t===59)return 80;if(t===107)return 81;if(t===109)return 83;if(Jt&&t===224)return 57}else if(Lu){if(t===91)return 57;if(Jt&&t===93)return 57;if(!Jt&&t===92)return 57}return SW[t]||0}const G0e=Jt?256:2048,j0e=512,Z0e=1024,Q0e=Jt?2048:256;class hn{constructor(t){this._standardKeyboardEventBrand=!0;let s=t;this.browserEvent=s,this.target=s.target,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.altKey=s.altKey,this.metaKey=s.metaKey,this.keyCode=z0e(s),this.code=s.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let s=0;return this.ctrlKey&&(s|=G0e),this.altKey&&(s|=j0e),this.shiftKey&&(s|=Z0e),this.metaKey&&(s|=Q0e),s|=t,s}_computeRuntimeKeybinding(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new Hd(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}let Sy=!1,b1=null;function Y0e(d){if(!d.parent||d.parent===d)return null;try{let t=d.location,s=d.parent.location;if(t.origin!=="null"&&s.origin!=="null"&&t.origin!==s.origin)return Sy=!0,null}catch{return Sy=!0,null}return d.parent}class yy{static getSameOriginWindowChain(){if(!b1){b1=[];let t=window,s;do s=Y0e(t),s?b1.push({window:t,iframeElement:t.frameElement||null}):b1.push({window:t,iframeElement:null}),t=s;while(t)}return b1.slice(0)}static hasDifferentOriginAncestor(){return b1||this.getSameOriginWindowChain(),Sy}static getPositionOfChildWindowRelativeToAncestorWindow(t,s){if(!s||t===s)return{top:0,left:0};let l=0,u=0,h=this.getSameOriginWindowChain();for(const f of h){if(l+=f.window.scrollY,u+=f.window.scrollX,f.window===s||!f.iframeElement)break;let m=f.iframeElement.getBoundingClientRect();l+=m.top,u+=m.left}return{top:l,left:u}}}class El{constructor(t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);let s=yy.getPositionOfChildWindowRelativeToAncestorWindow(self,t.view);this.posx-=s.left,this.posy-=s.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Fg{constructor(t,s=0,l=0){if(this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=l,this.deltaX=s,t){let u=t,h=t;if(typeof u.wheelDeltaY<"u")this.deltaY=u.wheelDeltaY/120;else if(typeof h.VERTICAL_AXIS<"u"&&h.axis===h.VERTICAL_AXIS)this.deltaY=-h.detail/3;else if(t.type==="wheel"){const f=t;f.deltaMode===f.DOM_DELTA_LINE?dl&&!Jt?this.deltaY=-t.deltaY/3:this.deltaY=-t.deltaY:this.deltaY=-t.deltaY/40}if(typeof u.wheelDeltaX<"u")va&&Gs?this.deltaX=-(u.wheelDeltaX/120):this.deltaX=u.wheelDeltaX/120;else if(typeof h.HORIZONTAL_AXIS<"u"&&h.axis===h.HORIZONTAL_AXIS)this.deltaX=-t.detail/3;else if(t.type==="wheel"){const f=t;f.deltaMode===f.DOM_DELTA_LINE?dl&&!Jt?this.deltaX=-t.deltaX/3:this.deltaX=-t.deltaX:this.deltaX=-t.deltaX/40}this.deltaY===0&&this.deltaX===0&&t.wheelDelta&&(this.deltaY=t.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}var zt;(function(d){d.inMemory="inmemory",d.vscode="vscode",d.internal="private",d.walkThrough="walkThrough",d.walkThroughSnippet="walkThroughSnippet",d.http="http",d.https="https",d.file="file",d.mailto="mailto",d.untitled="untitled",d.data="data",d.command="command",d.vscodeRemote="vscode-remote",d.vscodeRemoteResource="vscode-remote-resource",d.userData="vscode-userdata",d.vscodeCustomEditor="vscode-custom-editor",d.vscodeNotebook="vscode-notebook",d.vscodeNotebookCell="vscode-notebook-cell",d.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",d.vscodeNotebookCellOutput="vscode-notebook-cell-output",d.vscodeInteractive="vscode-interactive",d.vscodeInteractiveInput="vscode-interactive-input",d.vscodeSettings="vscode-settings",d.vscodeWorkspaceTrust="vscode-workspace-trust",d.vscodeTerminal="vscode-terminal",d.webviewPanel="webview-panel",d.vscodeWebview="vscode-webview",d.extension="extension",d.vscodeFileResource="vscode-file",d.tmp="tmp",d.vsls="vsls"})(zt||(zt={}));const $0e="tkn";class K0e{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(t){this._preferredWebSchema=t}rewrite(t){if(this._delegate)return this._delegate(t);const s=t.authority;let l=this._hosts[s];l&&l.indexOf(":")!==-1&&(l=`[${l}]`);const u=this._ports[s],h=this._connectionTokens[s];let f=`path=${encodeURIComponent(t.path)}`;return typeof h=="string"&&(f+=`&${$0e}=${encodeURIComponent(h)}`),Lt.from({scheme:ch?this._preferredWebSchema:zt.vscodeRemoteResource,authority:`${l}:${u}`,path:"/vscode-remote-resource",query:f})}}const mV=new K0e;class XA{asBrowserUri(t,s){const l=this.toUri(t,s);return l.scheme===zt.vscodeRemote?mV.rewrite(l):l.scheme===zt.file&&(Xa||Foe&&Zn.origin===`${zt.vscodeFileResource}://${XA.FALLBACK_AUTHORITY}`)?l.with({scheme:zt.vscodeFileResource,authority:l.authority||XA.FALLBACK_AUTHORITY,query:null,fragment:null}):l}toUri(t,s){return Lt.isUri(t)?t:Lt.parse(s.toUrl(t))}}XA.FALLBACK_AUTHORITY="vscode-app";const pV=new XA;function vs(d){for(;d.firstChild;)d.firstChild.remove()}function CI(d){var t;return(t=d?.isConnected)!==null&&t!==void 0?t:!1}class AV{constructor(t,s,l,u){this._node=t,this._type=s,this._handler=l,this._options=u||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function ze(d,t,s,l){return new AV(d,t,s,l)}function _V(d){return function(t){return d(new El(t))}}function X0e(d){return function(t){return d(new hn(t))}}let zs=function(t,s,l,u){let h=l;return s==="click"||s==="mousedown"?h=_V(l):(s==="keydown"||s==="keypress"||s==="keyup")&&(h=X0e(l)),ze(t,s,h,u)},J0e=function(t,s,l){let u=_V(s);return wI(t,u,l)};function wI(d,t,s){return ze(d,t2&&Rw.pointerEvents?vt.POINTER_DOWN:vt.MOUSE_DOWN,t,s)}function CV(d,t,s){return ze(d,t2&&Rw.pointerEvents?vt.POINTER_UP:vt.MOUSE_UP,t,s)}function vI(d,t){return ze(d,"mouseout",s=>{let l=s.relatedTarget;for(;l&&l!==d;)l=l.parentNode;l!==d&&t(s)})}function q0e(d,t){return ze(d,"pointerout",s=>{let l=s.relatedTarget;for(;l&&l!==d;)l=l.parentNode;l!==d&&t(s)})}function Ba(d,t,s){let l=null;const u=A=>m.fire(A),h=()=>{l||(l=new AV(d,t,u,s))},f=()=>{l&&(l.dispose(),l=null)},m=new he({onFirstListenerAdd:h,onLastListenerRemove:f});return m}let Ab=null;function ece(d){if(!Ab){const t=s=>setTimeout(()=>s(new Date().getTime()),0);Ab=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||t}return Ab.call(self,d)}let wV,n2;class _b{constructor(t,s=0){this._runner=t,this.priority=s,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(t){Bt(t)}}static sort(t,s){return s.priority-t.priority}}(function(){let d=[],t=null,s=!1,l=!1,u=()=>{for(s=!1,t=d,d=[],l=!0;t.length>0;)t.sort(_b.sort),t.shift().execute();l=!1};n2=(h,f=0)=>{let m=new _b(h,f);return d.push(m),s||(s=!0,ece(u)),m},wV=(h,f)=>{if(l){let m=new _b(h,f);return t.push(m),m}else return n2(h,f)}})();const tce=8,ice=function(d,t){return t};class nce extends Se{constructor(t,s,l,u=ice,h=tce){super();let f=null,m=0,A=this._register(new Wo),C=()=>{m=new Date().getTime(),l(f),f=null};this._register(ze(t,s,w=>{f=u(f,w);let k=new Date().getTime()-m;k>=h?(A.cancel(),C()):A.setIfNotSet(C,h-k)}))}}function kI(d,t,s,l,u){return new nce(d,t,s,l,u)}function bI(d){return document.defaultView.getComputedStyle(d,null)}function Mw(d){if(d!==document.body)return new ji(d.clientWidth,d.clientHeight);if(t2&&window.visualViewport)return new ji(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ji(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ji(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ji(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Bn{static convertToPixels(t,s){return parseFloat(s)||0}static getDimension(t,s,l){let u=bI(t),h="0";return u&&(u.getPropertyValue?h=u.getPropertyValue(s):h=u.getAttribute(l)),Bn.convertToPixels(t,h)}static getBorderLeftWidth(t){return Bn.getDimension(t,"border-left-width","borderLeftWidth")}static getBorderRightWidth(t){return Bn.getDimension(t,"border-right-width","borderRightWidth")}static getBorderTopWidth(t){return Bn.getDimension(t,"border-top-width","borderTopWidth")}static getBorderBottomWidth(t){return Bn.getDimension(t,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(t){return Bn.getDimension(t,"padding-left","paddingLeft")}static getPaddingRight(t){return Bn.getDimension(t,"padding-right","paddingRight")}static getPaddingTop(t){return Bn.getDimension(t,"padding-top","paddingTop")}static getPaddingBottom(t){return Bn.getDimension(t,"padding-bottom","paddingBottom")}static getMarginLeft(t){return Bn.getDimension(t,"margin-left","marginLeft")}static getMarginTop(t){return Bn.getDimension(t,"margin-top","marginTop")}static getMarginRight(t){return Bn.getDimension(t,"margin-right","marginRight")}static getMarginBottom(t){return Bn.getDimension(t,"margin-bottom","marginBottom")}}class ji{constructor(t,s){this.width=t,this.height=s}with(t=this.width,s=this.height){return t!==this.width||s!==this.height?new ji(t,s):this}static is(t){return typeof t=="object"&&typeof t.height=="number"&&typeof t.width=="number"}static lift(t){return t instanceof ji?t:new ji(t.width,t.height)}static equals(t,s){return t===s?!0:!t||!s?!1:t.width===s.width&&t.height===s.height}}ji.None=new ji(0,0);function vV(d){let t=d.offsetParent,s=d.offsetTop,l=d.offsetLeft;for(;(d=d.parentNode)!==null&&d!==document.body&&d!==document.documentElement;){s-=d.scrollTop;const u=bV(d)?null:bI(d);u&&(l-=u.direction!=="rtl"?d.scrollLeft:-d.scrollLeft),d===t&&(l+=Bn.getBorderLeftWidth(d),s+=Bn.getBorderTopWidth(d),s+=d.offsetTop,l+=d.offsetLeft,t=d.offsetParent)}return{left:l,top:s}}function sce(d,t,s){typeof t=="number"&&(d.style.width=`${t}px`),typeof s=="number"&&(d.style.height=`${s}px`)}function Js(d){let t=d.getBoundingClientRect();return{left:t.left+kc.scrollX,top:t.top+kc.scrollY,width:t.width,height:t.height}}const kc=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function ca(d){let t=Bn.getMarginLeft(d)+Bn.getMarginRight(d);return d.offsetWidth+t}function Cb(d){let t=Bn.getBorderLeftWidth(d)+Bn.getBorderRightWidth(d),s=Bn.getPaddingLeft(d)+Bn.getPaddingRight(d);return d.offsetWidth-t-s}function rce(d){let t=Bn.getBorderTopWidth(d)+Bn.getBorderBottomWidth(d),s=Bn.getPaddingTop(d)+Bn.getPaddingBottom(d);return d.offsetHeight-t-s}function Ly(d){let t=Bn.getMarginTop(d)+Bn.getMarginBottom(d);return d.offsetHeight+t}function bc(d,t){for(;d;){if(d===t)return!0;d=d.parentNode}return!1}function kV(d,t,s){for(;d&&d.nodeType===d.ELEMENT_NODE;){if(d.classList.contains(t))return d;if(s){if(typeof s=="string"){if(d.classList.contains(s))return null}else if(d===s)return null}d=d.parentNode}return null}function $M(d,t,s){return!!kV(d,t,s)}function bV(d){return d&&!!d.host&&!!d.mode}function JA(d){return!!Gu(d)}function Gu(d){for(;d.parentNode;){if(d===document.body)return null;d=d.parentNode}return bV(d)?d:null}function dg(){let d=document.activeElement;for(;d?.shadowRoot;)d=d.shadowRoot.activeElement;return d}function Vl(d=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",d.appendChild(t),t}let wb=null;function SV(){return wb||(wb=Vl()),wb}function oce(d){var t,s;return!((t=d?.sheet)===null||t===void 0)&&t.rules?d.sheet.rules:!((s=d?.sheet)===null||s===void 0)&&s.cssRules?d.sheet.cssRules:[]}function Dy(d,t,s=SV()){!s||!t||s.sheet.insertRule(d+"{"+t+"}",0)}function KM(d,t=SV()){if(!t)return;let s=oce(t),l=[];for(let u=0;u<s.length;u++)s[u].selectorText.indexOf(d)!==-1&&l.push(u);for(let u=l.length-1;u>=0;u--)t.sheet.deleteRule(l[u])}function yV(d){return typeof HTMLElement=="object"?d instanceof HTMLElement:d&&typeof d=="object"&&d.nodeType===1&&typeof d.nodeName=="string"}const vt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Lu?"webkitAnimationStart":"animationstart",ANIMATION_END:Lu?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Lu?"webkitAnimationIteration":"animationiteration"},Ri={stop:function(d,t){d.preventDefault?d.preventDefault():d.returnValue=!1,t&&(d.stopPropagation?d.stopPropagation():d.cancelBubble=!0)}};function lce(d){let t=[];for(let s=0;d&&d.nodeType===d.ELEMENT_NODE;s++)t[s]=d.scrollTop,d=d.parentNode;return t}function ace(d,t){for(let s=0;d&&d.nodeType===d.ELEMENT_NODE;s++)d.scrollTop!==t[s]&&(d.scrollTop=t[s]),d=d.parentNode}class eC extends Se{constructor(t){super(),this._onDidFocus=this._register(new he),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new he),this.onDidBlur=this._onDidBlur.event;let s=eC.hasFocusWithin(t),l=!1;const u=()=>{l=!1,s||(s=!0,this._onDidFocus.fire())},h=()=>{s&&(l=!0,window.setTimeout(()=>{l&&(l=!1,s=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{eC.hasFocusWithin(t)!==s&&(s?h():u())},this._register(ze(t,vt.FOCUS,u,!0)),this._register(ze(t,vt.BLUR,h,!0)),this._register(ze(t,vt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(ze(t,vt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(t){const s=Gu(t),l=s?s.activeElement:document.activeElement;return bc(l,t)}}function Bg(d){return new eC(d)}function Re(d,...t){if(d.append(...t),t.length===1&&typeof t[0]!="string")return t[0]}function cce(d,t){return d.insertBefore(t,d.firstChild),t}function ju(d,...t){d.innerText="",Re(d,...t)}const uce=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var qA;(function(d){d.HTML="http://www.w3.org/1999/xhtml",d.SVG="http://www.w3.org/2000/svg"})(qA||(qA={}));function LV(d,t,s,...l){let u=uce.exec(t);if(!u)throw new Error("Bad use of emmet");s=Object.assign({},s||{});let h=u[1]||"div",f;return d!==qA.HTML?f=document.createElementNS(d,h):f=document.createElement(h),u[3]&&(f.id=u[3]),u[4]&&(f.className=u[4].replace(/\./g," ").trim()),Object.keys(s).forEach(m=>{const A=s[m];typeof A>"u"||(/^on\w+$/.test(m)?f[m]=A:m==="selected"?A&&f.setAttribute(m,"true"):f.setAttribute(m,A))}),f.append(...l),f}function Ue(d,t,...s){return LV(qA.HTML,d,t,...s)}Ue.SVG=function(d,t,...s){return LV(qA.SVG,d,t,...s)};function nl(...d){for(let t of d)t.style.display="",t.removeAttribute("aria-hidden")}function uo(...d){for(let t of d)t.style.display="none",t.setAttribute("aria-hidden","true")}function hce(d){return Array.prototype.slice.call(document.getElementsByTagName(d),0)}function XM(d){const t=window.devicePixelRatio*d;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function DV(d){window.open(d,"_blank","noopener")}function dce(d){const t=()=>{d(),s=n2(t)};let s=n2(t);return $t(()=>s.dispose())}mV.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ud(d){return d?`url('${pV.asBrowserUri(d).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function JM(d){return`'${d.replace(/'/g,"%27")}'`}class gd extends he{constructor(){super(),this._subscriptions=new je,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(ze(window,"keydown",t=>{if(t.defaultPrevented)return;const s=new hn(t);if(!(s.keyCode===6&&t.repeat)){if(t.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(t.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(t.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(t.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(s.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=t.altKey,this._keyStatus.ctrlKey=t.ctrlKey,this._keyStatus.metaKey=t.metaKey,this._keyStatus.shiftKey=t.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=t,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(ze(window,"keyup",t=>{t.defaultPrevented||(!t.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!t.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!t.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!t.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=t.altKey,this._keyStatus.ctrlKey=t.ctrlKey,this._keyStatus.metaKey=t.metaKey,this._keyStatus.shiftKey=t.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=t,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(ze(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(ze(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(ze(document.body,"mousemove",t=>{t.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(ze(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return gd.instance||(gd.instance=new gd),gd.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function fce(d,t){window.matchMedia(d).addEventListener("change",t)}const qM=2e4;let nd,q6,Iy,e3,xy;function gce(d){nd=document.createElement("div"),nd.className="monaco-aria-container";const t=()=>{const l=document.createElement("div");return l.className="monaco-alert",l.setAttribute("role","alert"),l.setAttribute("aria-atomic","true"),nd.appendChild(l),l};q6=t(),Iy=t();const s=()=>{const l=document.createElement("div");return l.className="monaco-status",l.setAttribute("role","complementary"),l.setAttribute("aria-live","polite"),l.setAttribute("aria-atomic","true"),nd.appendChild(l),l};e3=s(),xy=s(),d.appendChild(nd)}function qs(d){!nd||(q6.textContent!==d?(vs(Iy),iC(q6,d)):(vs(q6),iC(Iy,d)))}function tC(d){!nd||(Jt?qs(d):e3.textContent!==d?(vs(xy),iC(e3,d)):(vs(e3),iC(xy,d)))}function iC(d,t){vs(d),t.length>qM&&(t=t.substr(0,qM)),d.textContent=t,d.style.visibility="hidden",d.style.visibility="visible"}const SI=hi("markerDecorationsService"),Ao=hi("textModelService");var nC=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class Po extends Se{constructor(t,s="",l="",u=!0,h){super(),this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=t,this._label=s,this._cssClass=l,this._enabled=u,this._actionCallback=h}get id(){return this._id}get label(){return this._label}set label(t){this._setLabel(t)}_setLabel(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))}get tooltip(){return this._tooltip||""}set tooltip(t){this._setTooltip(t)}_setTooltip(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))}get class(){return this._cssClass}set class(t){this._setClass(t)}_setClass(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))}get enabled(){return this._enabled}set enabled(t){this._setEnabled(t)}_setEnabled(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))}get checked(){return this._checked}set checked(t){this._setChecked(t)}_setChecked(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))}run(t,s){return nC(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(t))})}}class Wg extends Se{constructor(){super(...arguments),this._onBeforeRun=this._register(new he),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new he),this.onDidRun=this._onDidRun.event}run(t,s){return nC(this,void 0,void 0,function*(){if(!t.enabled)return;this._onBeforeRun.fire({action:t});let l;try{yield this.runAction(t,s)}catch(u){l=u}this._onDidRun.fire({action:t,error:l})})}runAction(t,s){return nC(this,void 0,void 0,function*(){yield t.run(s)})}}class Ml extends Po{constructor(t){super(Ml.ID,t,t?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Ml.ID="vs.actions.separator";class Pw{constructor(t,s,l,u){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=s,this.class=u,this._actions=l}get actions(){return this._actions}dispose(){}run(){return nC(this,void 0,void 0,function*(){})}}class Ow extends Po{constructor(){super(Ow.ID,E("submenu.empty","(empty)"),void 0,!1)}}Ow.ID="vs.actions.empty";const es=hi("commandService"),pi=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new he,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(d,t){if(!d)throw new Error("invalid command");if(typeof d=="string"){if(!t)throw new Error("invalid command");return this.registerCommand({id:d,handler:t})}if(d.description){const f=[];for(let A of d.description.args)f.push(A.constraint);const m=d.handler;d.handler=function(A,...C){return qoe(C,f),m(A,...C)}}const{id:s}=d;let l=this._commands.get(s);l||(l=new ol,this._commands.set(s,l));let u=l.unshift(d),h=$t(()=>{u();const f=this._commands.get(s);f?.isEmpty()&&this._commands.delete(s)});return this._onDidRegisterCommand.fire(s),h}registerCommandAlias(d,t){return pi.registerCommand(d,(s,...l)=>s.get(es).executeCommand(t,...l))}getCommand(d){const t=this._commands.get(d);if(!(!t||t.isEmpty()))return gi.first(t)}getCommands(){const d=new Map;for(const t of this._commands.keys()){const s=this.getCommand(t);s&&d.set(t,s)}return d}};pi.registerCommand("noop",()=>{});const wr=new Map;wr.set("false",!1);wr.set("true",!0);wr.set("isMac",Jt);wr.set("isLinux",Cr);wr.set("isWindows",Gs);wr.set("isWeb",ch);wr.set("isMacNative",Jt&&!ch);wr.set("isEdge",Hoe);wr.set("isFirefox",Woe);wr.set("isChrome",cW);wr.set("isSafari",Voe);const mce=Object.prototype.hasOwnProperty;class it{static has(t){return Zu.create(t)}static equals(t,s){return Vg.create(t,s)}static regex(t,s){return sC.create(t,s)}static not(t){return zd.create(t)}static and(...t){return wu.create(t,null)}static or(...t){return _c.create(t,null,!0)}static deserialize(t,s=!1){if(!!t)return this._deserializeOrExpression(t,s)}static _deserializeOrExpression(t,s){let l=t.split("||");return _c.create(l.map(u=>this._deserializeAndExpression(u,s)),null,!0)}static _deserializeAndExpression(t,s){let l=t.split("&&");return wu.create(l.map(u=>this._deserializeOne(u,s)),null)}static _deserializeOne(t,s){if(t=t.trim(),t.indexOf("!=")>=0){let l=t.split("!=");return Fw.create(l[0].trim(),this._deserializeValue(l[1],s))}if(t.indexOf("==")>=0){let l=t.split("==");return Vg.create(l[0].trim(),this._deserializeValue(l[1],s))}if(t.indexOf("=~")>=0){let l=t.split("=~");return sC.create(l[0].trim(),this._deserializeRegexValue(l[1],s))}if(t.indexOf(" in ")>=0){let l=t.split(" in ");return yI.create(l[0].trim(),l[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(t)){const l=t.split(">=");return Vw.create(l[0].trim(),l[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(t)){const l=t.split(">");return Ww.create(l[0].trim(),l[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(t)){const l=t.split("<=");return Uw.create(l[0].trim(),l[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(t)){const l=t.split("<");return Hw.create(l[0].trim(),l[1].trim())}return/^\!\s*/.test(t)?zd.create(t.substr(1).trim()):Zu.create(t)}static _deserializeValue(t,s){if(t=t.trim(),t==="true")return!0;if(t==="false")return!1;let l=/^'([^']*)'$/.exec(t);return l?l[1].trim():t}static _deserializeRegexValue(t,s){if(RW(t)){if(s)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let l=t.indexOf("/"),u=t.lastIndexOf("/");if(l===u||l<0){if(s)throw new Error(`bad regexp-value '${t}', missing /-enclosure`);return console.warn(`bad regexp-value '${t}', missing /-enclosure`),null}let h=t.slice(l+1,u),f=t[u+1]==="i"?"i":"";try{return new RegExp(h,f)}catch(m){if(s)throw new Error(`bad regexp-value '${t}', parse error: ${m}`);return console.warn(`bad regexp-value '${t}', parse error: ${m}`),null}}}function pce(d,t){const s=d?d.substituteConstants():void 0,l=t?t.substituteConstants():void 0;return!s&&!l?!0:!s||!l?!1:s.equals(l)}function fg(d,t){return d.cmp(t)}class gl{constructor(){this.type=0}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!1}serialize(){return"false"}keys(){return[]}negate(){return Hl.INSTANCE}}gl.INSTANCE=new gl;class Hl{constructor(){this.type=1}cmp(t){return this.type-t.type}equals(t){return t.type===this.type}substituteConstants(){return this}evaluate(t){return!0}serialize(){return"true"}keys(){return[]}negate(){return gl.INSTANCE}}Hl.INSTANCE=new Hl;class Zu{constructor(t,s){this.key=t,this.negated=s,this.type=2}static create(t,s=null){const l=wr.get(t);return typeof l=="boolean"?l?Hl.INSTANCE:gl.INSTANCE:new Zu(t,s)}cmp(t){return t.type!==this.type?this.type-t.type:xV(this.key,t.key)}equals(t){return t.type===this.type?this.key===t.key:!1}substituteConstants(){const t=wr.get(this.key);return typeof t=="boolean"?t?Hl.INSTANCE:gl.INSTANCE:this}evaluate(t){return!!t.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=zd.create(this.key,this)),this.negated}}class Vg{constructor(t,s,l){this.key=t,this.value=s,this.negated=l,this.type=4}static create(t,s,l=null){if(typeof s=="boolean")return s?Zu.create(t,l):zd.create(t,l);const u=wr.get(t);return typeof u=="boolean"?s===(u?"true":"false")?Hl.INSTANCE:gl.INSTANCE:new Vg(t,s,l)}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.value,t.key,t.value)}equals(t){return t.type===this.type?this.key===t.key&&this.value===t.value:!1}substituteConstants(){const t=wr.get(this.key);if(typeof t=="boolean"){const s=t?"true":"false";return this.value===s?Hl.INSTANCE:gl.INSTANCE}return this}evaluate(t){return t.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Fw.create(this.key,this.value,this)),this.negated}}class yI{constructor(t,s){this.key=t,this.valueKey=s,this.type=10,this.negated=null}static create(t,s){return new yI(t,s)}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.valueKey,t.key,t.valueKey)}equals(t){return t.type===this.type?this.key===t.key&&this.valueKey===t.valueKey:!1}substituteConstants(){return this}evaluate(t){const s=t.getValue(this.valueKey),l=t.getValue(this.key);return Array.isArray(s)?s.indexOf(l)>=0:typeof l=="string"&&typeof s=="object"&&s!==null?mce.call(s,l):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=LI.create(this)),this.negated}}class LI{constructor(t){this._actual=t,this.type=11}static create(t){return new LI(t)}cmp(t){return t.type!==this.type?this.type-t.type:this._actual.cmp(t._actual)}equals(t){return t.type===this.type?this._actual.equals(t._actual):!1}substituteConstants(){return this}evaluate(t){return!this._actual.evaluate(t)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class Fw{constructor(t,s,l){this.key=t,this.value=s,this.negated=l,this.type=5}static create(t,s,l=null){if(typeof s=="boolean")return s?zd.create(t,l):Zu.create(t,l);const u=wr.get(t);return typeof u=="boolean"?s===(u?"true":"false")?gl.INSTANCE:Hl.INSTANCE:new Fw(t,s,l)}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.value,t.key,t.value)}equals(t){return t.type===this.type?this.key===t.key&&this.value===t.value:!1}substituteConstants(){const t=wr.get(this.key);if(typeof t=="boolean"){const s=t?"true":"false";return this.value===s?gl.INSTANCE:Hl.INSTANCE}return this}evaluate(t){return t.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Vg.create(this.key,this.value,this)),this.negated}}class zd{constructor(t,s){this.key=t,this.negated=s,this.type=3}static create(t,s=null){const l=wr.get(t);return typeof l=="boolean"?l?gl.INSTANCE:Hl.INSTANCE:new zd(t,s)}cmp(t){return t.type!==this.type?this.type-t.type:xV(this.key,t.key)}equals(t){return t.type===this.type?this.key===t.key:!1}substituteConstants(){const t=wr.get(this.key);return typeof t=="boolean"?t?gl.INSTANCE:Hl.INSTANCE:this}evaluate(t){return!t.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Zu.create(this.key,this)),this.negated}}function Bw(d,t){if(typeof d=="string"){const s=parseFloat(d);isNaN(s)||(d=s)}return typeof d=="string"||typeof d=="number"?t(d):gl.INSTANCE}class Ww{constructor(t,s,l){this.key=t,this.value=s,this.negated=l,this.type=12}static create(t,s,l=null){return Bw(s,u=>new Ww(t,u,l))}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.value,t.key,t.value)}equals(t){return t.type===this.type?this.key===t.key&&this.value===t.value:!1}substituteConstants(){return this}evaluate(t){return typeof this.value=="string"?!1:parseFloat(t.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Uw.create(this.key,this.value,this)),this.negated}}class Vw{constructor(t,s,l){this.key=t,this.value=s,this.negated=l,this.type=13}static create(t,s,l=null){return Bw(s,u=>new Vw(t,u,l))}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.value,t.key,t.value)}equals(t){return t.type===this.type?this.key===t.key&&this.value===t.value:!1}substituteConstants(){return this}evaluate(t){return typeof this.value=="string"?!1:parseFloat(t.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Hw.create(this.key,this.value,this)),this.negated}}class Hw{constructor(t,s,l){this.key=t,this.value=s,this.negated=l,this.type=14}static create(t,s,l=null){return Bw(s,u=>new Hw(t,u,l))}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.value,t.key,t.value)}equals(t){return t.type===this.type?this.key===t.key&&this.value===t.value:!1}substituteConstants(){return this}evaluate(t){return typeof this.value=="string"?!1:parseFloat(t.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Vw.create(this.key,this.value,this)),this.negated}}class Uw{constructor(t,s,l){this.key=t,this.value=s,this.negated=l,this.type=15}static create(t,s,l=null){return Bw(s,u=>new Uw(t,u,l))}cmp(t){return t.type!==this.type?this.type-t.type:Lf(this.key,this.value,t.key,t.value)}equals(t){return t.type===this.type?this.key===t.key&&this.value===t.value:!1}substituteConstants(){return this}evaluate(t){return typeof this.value=="string"?!1:parseFloat(t.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Ww.create(this.key,this.value,this)),this.negated}}class sC{constructor(t,s){this.key=t,this.regexp=s,this.type=7,this.negated=null}static create(t,s){return new sC(t,s)}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.key<t.key)return-1;if(this.key>t.key)return 1;const s=this.regexp?this.regexp.source:"",l=t.regexp?t.regexp.source:"";return s<l?-1:s>l?1:0}equals(t){if(t.type===this.type){const s=this.regexp?this.regexp.source:"",l=t.regexp?t.regexp.source:"";return this.key===t.key&&s===l}return!1}substituteConstants(){return this}evaluate(t){let s=t.getValue(this.key);return this.regexp?this.regexp.test(s):!1}serialize(){const t=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${t}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=DI.create(this)),this.negated}}class DI{constructor(t){this._actual=t,this.type=8}static create(t){return new DI(t)}cmp(t){return t.type!==this.type?this.type-t.type:this._actual.cmp(t._actual)}equals(t){return t.type===this.type?this._actual.equals(t._actual):!1}substituteConstants(){return this}evaluate(t){return!this._actual.evaluate(t)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function IV(d){let t=null;for(let s=0,l=d.length;s<l;s++){const u=d[s].substituteConstants();if(d[s]!==u&&t===null){t=[];for(let h=0;h<s;h++)t[h]=d[h]}t!==null&&(t[s]=u)}return t===null?d:t}class wu{constructor(t,s){this.expr=t,this.negated=s,this.type=6}static create(t,s){return wu._normalizeArr(t,s)}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let s=0,l=this.expr.length;s<l;s++){const u=fg(this.expr[s],t.expr[s]);if(u!==0)return u}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let s=0,l=this.expr.length;s<l;s++)if(!this.expr[s].equals(t.expr[s]))return!1;return!0}return!1}substituteConstants(){const t=IV(this.expr);return t===this.expr?this:wu.create(t,this.negated)}evaluate(t){for(let s=0,l=this.expr.length;s<l;s++)if(!this.expr[s].evaluate(t))return!1;return!0}static _normalizeArr(t,s){const l=[];let u=!1;for(const h of t)if(!!h){if(h.type===1){u=!0;continue}if(h.type===0)return gl.INSTANCE;if(h.type===6){l.push(...h.expr);continue}l.push(h)}if(l.length===0&&u)return Hl.INSTANCE;if(l.length!==0){if(l.length===1)return l[0];l.sort(fg);for(let h=1;h<l.length;h++)l[h-1].equals(l[h])&&(l.splice(h,1),h--);if(l.length===1)return l[0];for(;l.length>1;){const h=l[l.length-1];if(h.type!==9)break;l.pop();const f=l.pop(),m=l.length===0,A=_c.create(h.expr.map(C=>wu.create([C,f],null)),null,m);A&&(l.push(A),l.sort(fg))}return l.length===1?l[0]:new wu(l,s)}}serialize(){return this.expr.map(t=>t.serialize()).join(" && ")}keys(){const t=[];for(let s of this.expr)t.push(...s.keys());return t}negate(){if(!this.negated){const t=[];for(let s of this.expr)t.push(s.negate());this.negated=_c.create(t,this,!0)}return this.negated}}class _c{constructor(t,s){this.expr=t,this.negated=s,this.type=9}static create(t,s,l){return _c._normalizeArr(t,s,l)}cmp(t){if(t.type!==this.type)return this.type-t.type;if(this.expr.length<t.expr.length)return-1;if(this.expr.length>t.expr.length)return 1;for(let s=0,l=this.expr.length;s<l;s++){const u=fg(this.expr[s],t.expr[s]);if(u!==0)return u}return 0}equals(t){if(t.type===this.type){if(this.expr.length!==t.expr.length)return!1;for(let s=0,l=this.expr.length;s<l;s++)if(!this.expr[s].equals(t.expr[s]))return!1;return!0}return!1}substituteConstants(){const t=IV(this.expr);return t===this.expr?this:_c.create(t,this.negated,!1)}evaluate(t){for(let s=0,l=this.expr.length;s<l;s++)if(this.expr[s].evaluate(t))return!0;return!1}static _normalizeArr(t,s,l){let u=[],h=!1;if(t){for(let f=0,m=t.length;f<m;f++){const A=t[f];if(!!A){if(A.type===0){h=!0;continue}if(A.type===1)return Hl.INSTANCE;if(A.type===9){u=u.concat(A.expr);continue}u.push(A)}}if(u.length===0&&h)return gl.INSTANCE;u.sort(fg)}if(u.length!==0){if(u.length===1)return u[0];for(let f=1;f<u.length;f++)u[f-1].equals(u[f])&&(u.splice(f,1),f--);if(u.length===1)return u[0];if(l){for(let f=0;f<u.length;f++)for(let m=f+1;m<u.length;m++)EV(u[f],u[m])&&(u.splice(m,1),m--);if(u.length===1)return u[0]}return new _c(u,s)}}serialize(){return this.expr.map(t=>t.serialize()).join(" || ")}keys(){const t=[];for(let s of this.expr)t.push(...s.keys());return t}negate(){if(!this.negated){let t=[];for(let s of this.expr)t.push(s.negate());for(;t.length>1;){const s=t.shift(),l=t.shift(),u=[];for(const f of rC(s))for(const m of rC(l))u.push(wu.create([f,m],null));const h=t.length===0;t.unshift(_c.create(u,null,h))}this.negated=t[0]}return this.negated}}class rt extends Zu{constructor(t,s,l){super(t,null),this._defaultValue=s,typeof l=="object"?rt._info.push(Object.assign(Object.assign({},l),{key:t})):l!==!0&&rt._info.push({key:t,description:l,type:s!=null?typeof s:void 0})}static all(){return rt._info.values()}bindTo(t){return t.createKey(this.key,this._defaultValue)}getValue(t){return t.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(t){return Vg.create(this.key,t)}}rt._info=[];const Mt=hi("contextKeyService"),Ace="setContext";function xV(d,t){return d<t?-1:d>t?1:0}function Lf(d,t,s,l){return d<s?-1:d>s?1:t<l?-1:t>l?1:0}function EV(d,t){if(t.type===6&&d.type!==9&&d.type!==6){for(const u of t.expr)if(d.equals(u))return!0}const s=d.negate(),l=rC(s).concat(rC(t));l.sort(fg);for(let u=0;u<l.length;u++){const f=l[u].negate();for(let m=u+1;m<l.length;m++){const A=l[m];if(f.equals(A))return!0}}return!1}function rC(d){return d.type===9?d.expr:[d]}class _ce{constructor(){this.data=new Map}add(t,s){X6(Ol(t)),X6(ho(s)),X6(!this.data.has(t),"There is already an extension with this id"),this.data.set(t,s)}as(t){return this.data.get(t)||null}}const ts=new _ce;var pa;(function(d){d.DARK="dark",d.LIGHT="light",d.HIGH_CONTRAST="hc"})(pa||(pa={}));const dn=hi("themeService");var Ey;(function(d){function t(s){return s&&typeof s=="object"&&typeof s.id=="string"}d.isThemeColor=t})(Ey||(Ey={}));function Wn(d){return{id:d}}var Qi;(function(d){function t(C){return C&&typeof C=="object"&&typeof C.id=="string"&&(typeof C.color>"u"||Ey.isThemeColor(C.color))}d.isThemeIcon=t;const s=new RegExp(`^\\$\\((${Gr.iconNameExpression}(?:${Gr.iconModifierExpression})?)\\)$`);function l(C){const w=s.exec(C);if(!w)return;let[,k]=w;return{id:k}}d.fromString=l;function u(C){return{id:C}}d.fromId=u;function h(C,w){let k=C.id;const D=k.lastIndexOf("~");return D!==-1&&(k=k.substring(0,D)),w&&(k=`${k}~${w}`),{id:k}}d.modify=h;function f(C){const w=C.id.lastIndexOf("~");if(w!==-1)return C.id.substring(w+1)}d.getModifier=f;function m(C,w){var k,D;return C.id===w.id&&((k=C.color)===null||k===void 0?void 0:k.id)===((D=w.color)===null||D===void 0?void 0:D.id)}d.isEqual=m;function A(C,w){return{id:C.id,color:w?Wn(w):void 0}}d.asThemeIcon=A,d.asClassNameArray=Gr.asClassNameArray,d.asClassName=Gr.asClassName,d.asCSSSelector=Gr.asCSSSelector})(Qi||(Qi={}));function oC(d){switch(d){case pa.DARK:return"vs-dark";case pa.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const NV={ThemingContribution:"base.contributions.theming"};class Cce{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new he}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),$t(()=>{const s=this.themingParticipants.indexOf(t);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}let TV=new Cce;ts.add(NV.ThemingContribution,TV);function rn(d){return TV.onColorThemeChange(d)}class wce extends Se{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}var vce=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},eP=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};function X1(d){return d.command!==void 0}class ce{constructor(t){this.id=ce._idPool++,this._debugName=t}}ce._idPool=0;ce.CommandPalette=new ce("CommandPalette");ce.DebugBreakpointsContext=new ce("DebugBreakpointsContext");ce.DebugCallStackContext=new ce("DebugCallStackContext");ce.DebugConsoleContext=new ce("DebugConsoleContext");ce.DebugVariablesContext=new ce("DebugVariablesContext");ce.DebugWatchContext=new ce("DebugWatchContext");ce.DebugToolBar=new ce("DebugToolBar");ce.EditorContext=new ce("EditorContext");ce.SimpleEditorContext=new ce("SimpleEditorContext");ce.EditorContextCopy=new ce("EditorContextCopy");ce.EditorContextPeek=new ce("EditorContextPeek");ce.EditorTitle=new ce("EditorTitle");ce.EditorTitleRun=new ce("EditorTitleRun");ce.EditorTitleContext=new ce("EditorTitleContext");ce.EmptyEditorGroup=new ce("EmptyEditorGroup");ce.EmptyEditorGroupContext=new ce("EmptyEditorGroupContext");ce.ExplorerContext=new ce("ExplorerContext");ce.ExtensionContext=new ce("ExtensionContext");ce.GlobalActivity=new ce("GlobalActivity");ce.LayoutControlMenuSubmenu=new ce("LayoutControlMenuSubmenu");ce.LayoutControlMenu=new ce("LayoutControlMenu");ce.MenubarMainMenu=new ce("MenubarMainMenu");ce.MenubarAppearanceMenu=new ce("MenubarAppearanceMenu");ce.MenubarDebugMenu=new ce("MenubarDebugMenu");ce.MenubarEditMenu=new ce("MenubarEditMenu");ce.MenubarCopy=new ce("MenubarCopy");ce.MenubarFileMenu=new ce("MenubarFileMenu");ce.MenubarGoMenu=new ce("MenubarGoMenu");ce.MenubarHelpMenu=new ce("MenubarHelpMenu");ce.MenubarLayoutMenu=new ce("MenubarLayoutMenu");ce.MenubarNewBreakpointMenu=new ce("MenubarNewBreakpointMenu");ce.MenubarPanelAlignmentMenu=new ce("MenubarPanelAlignmentMenu");ce.MenubarPanelPositionMenu=new ce("MenubarPanelPositionMenu");ce.MenubarPreferencesMenu=new ce("MenubarPreferencesMenu");ce.MenubarRecentMenu=new ce("MenubarRecentMenu");ce.MenubarSelectionMenu=new ce("MenubarSelectionMenu");ce.MenubarSwitchEditorMenu=new ce("MenubarSwitchEditorMenu");ce.MenubarSwitchGroupMenu=new ce("MenubarSwitchGroupMenu");ce.MenubarTerminalMenu=new ce("MenubarTerminalMenu");ce.MenubarViewMenu=new ce("MenubarViewMenu");ce.MenubarHomeMenu=new ce("MenubarHomeMenu");ce.OpenEditorsContext=new ce("OpenEditorsContext");ce.ProblemsPanelContext=new ce("ProblemsPanelContext");ce.SCMChangeContext=new ce("SCMChangeContext");ce.SCMResourceContext=new ce("SCMResourceContext");ce.SCMResourceFolderContext=new ce("SCMResourceFolderContext");ce.SCMResourceGroupContext=new ce("SCMResourceGroupContext");ce.SCMSourceControl=new ce("SCMSourceControl");ce.SCMTitle=new ce("SCMTitle");ce.SearchContext=new ce("SearchContext");ce.StatusBarWindowIndicatorMenu=new ce("StatusBarWindowIndicatorMenu");ce.StatusBarRemoteIndicatorMenu=new ce("StatusBarRemoteIndicatorMenu");ce.TestItem=new ce("TestItem");ce.TestItemGutter=new ce("TestItemGutter");ce.TestPeekElement=new ce("TestPeekElement");ce.TestPeekTitle=new ce("TestPeekTitle");ce.TouchBarContext=new ce("TouchBarContext");ce.TitleBarContext=new ce("TitleBarContext");ce.TunnelContext=new ce("TunnelContext");ce.TunnelPrivacy=new ce("TunnelPrivacy");ce.TunnelProtocol=new ce("TunnelProtocol");ce.TunnelPortInline=new ce("TunnelInline");ce.TunnelTitle=new ce("TunnelTitle");ce.TunnelLocalAddressInline=new ce("TunnelLocalAddressInline");ce.TunnelOriginInline=new ce("TunnelOriginInline");ce.ViewItemContext=new ce("ViewItemContext");ce.ViewContainerTitle=new ce("ViewContainerTitle");ce.ViewContainerTitleContext=new ce("ViewContainerTitleContext");ce.ViewTitle=new ce("ViewTitle");ce.ViewTitleContext=new ce("ViewTitleContext");ce.CommentThreadTitle=new ce("CommentThreadTitle");ce.CommentThreadActions=new ce("CommentThreadActions");ce.CommentTitle=new ce("CommentTitle");ce.CommentActions=new ce("CommentActions");ce.InteractiveToolbar=new ce("InteractiveToolbar");ce.InteractiveCellTitle=new ce("InteractiveCellTitle");ce.InteractiveCellExecute=new ce("InteractiveCellExecute");ce.InteractiveInputExecute=new ce("InteractiveInputExecute");ce.NotebookToolbar=new ce("NotebookToolbar");ce.NotebookCellTitle=new ce("NotebookCellTitle");ce.NotebookCellInsert=new ce("NotebookCellInsert");ce.NotebookCellBetween=new ce("NotebookCellBetween");ce.NotebookCellListTop=new ce("NotebookCellTop");ce.NotebookCellExecute=new ce("NotebookCellExecute");ce.NotebookCellExecutePrimary=new ce("NotebookCellExecutePrimary");ce.NotebookDiffCellInputTitle=new ce("NotebookDiffCellInputTitle");ce.NotebookDiffCellMetadataTitle=new ce("NotebookDiffCellMetadataTitle");ce.NotebookDiffCellOutputsTitle=new ce("NotebookDiffCellOutputsTitle");ce.NotebookOutputToolbar=new ce("NotebookOutputToolbar");ce.NotebookEditorLayoutConfigure=new ce("NotebookEditorLayoutConfigure");ce.BulkEditTitle=new ce("BulkEditTitle");ce.BulkEditContext=new ce("BulkEditContext");ce.TimelineItemContext=new ce("TimelineItemContext");ce.TimelineTitle=new ce("TimelineTitle");ce.TimelineTitleContext=new ce("TimelineTitleContext");ce.AccountsContext=new ce("AccountsContext");ce.PanelTitle=new ce("PanelTitle");ce.AuxiliaryBarTitle=new ce("AuxiliaryBarTitle");ce.TerminalInstanceContext=new ce("TerminalInstanceContext");ce.TerminalEditorInstanceContext=new ce("TerminalEditorInstanceContext");ce.TerminalNewDropdownContext=new ce("TerminalNewDropdownContext");ce.TerminalTabContext=new ce("TerminalTabContext");ce.TerminalTabEmptyAreaContext=new ce("TerminalTabEmptyAreaContext");ce.TerminalInlineTabContext=new ce("TerminalInlineTabContext");ce.WebviewContext=new ce("WebviewContext");ce.InlineCompletionsActions=new ce("InlineCompletionsActions");ce.NewFile=new ce("NewFile");const Df=hi("menuService"),ul=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new he,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:d=>d===ce.CommandPalette}}addCommand(d){return this.addCommands(gi.single(d))}addCommands(d){for(const t of d)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),$t(()=>{let t=!1;for(const s of d)t=this._commands.delete(s.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(d){return this._commands.get(d)}getCommands(){const d=new Map;return this._commands.forEach((t,s)=>d.set(s,t)),d}appendMenuItem(d,t){return this.appendMenuItems(gi.single({id:d,item:t}))}appendMenuItems(d){const t=new Set,s=new ol;for(const{id:l,item:u}of d){let h=this._menuItems.get(l);h||(h=new ol,this._menuItems.set(l,h)),s.push(h.push(u)),t.add(l)}return this._onDidChangeMenu.fire(t),$t(()=>{if(s.size>0){for(let l of s)l();this._onDidChangeMenu.fire(t),s.clear()}})}getMenuItems(d){let t;return this._menuItems.has(d)?t=[...this._menuItems.get(d)]:t=[],d===ce.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(d){const t=new Set;for(const s of d)X1(s)&&(t.add(s.command.id),s.alt&&t.add(s.alt.id));this._commands.forEach((s,l)=>{t.has(l)||d.push({command:s})})}};class II extends Pw{constructor(t,s,l,u){super(`submenuitem.${t.submenu.id}`,typeof t.title=="string"?t.title:t.title.value,[],"submenu"),this.item=t,this._menuService=s,this._contextKeyService=l,this._options=u}get actions(){const t=[],s=this._menuService.createMenu(this.item.submenu,this._contextKeyService),l=s.getActions(this._options);s.dispose();for(const[,u]of l)u.length>0&&(t.push(...u),t.push(new Ml));return t.length&&t.pop(),t}}let Qu=class RV{constructor(t,s,l,u,h){var f,m;if(this._commandService=h,this.id=t.id,this.label=l?.renderShortTitle&&t.shortTitle?typeof t.shortTitle=="string"?t.shortTitle:t.shortTitle.value:typeof t.title=="string"?t.title:t.title.value,this.tooltip=(m=typeof t.tooltip=="string"?t.tooltip:(f=t.tooltip)===null||f===void 0?void 0:f.value)!==null&&m!==void 0?m:"",this.enabled=!t.precondition||u.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const A=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=u.contextMatchesRules(A.condition),this.checked&&A.tooltip&&(this.tooltip=typeof A.tooltip=="string"?A.tooltip:A.tooltip.value),A.title&&(this.label=typeof A.title=="string"?A.title:A.title.value)}this.item=t,this.alt=s?new RV(s,void 0,l,u,h):void 0,this._options=l,Qi.isThemeIcon(t.icon)&&(this.class=Gr.asClassName(t.icon))}dispose(){}run(...t){var s,l;let u=[];return!((s=this._options)===null||s===void 0)&&s.arg&&(u=[...u,this._options.arg]),!((l=this._options)===null||l===void 0)&&l.shouldForwardArgs&&(u=[...u,...t]),this._commandService.executeCommand(this.id,...u)}};Qu=vce([eP(3,Mt),eP(4,es)],Qu);class lC{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(t){if(yl===1){if(t&&t.win)return t.win}else if(yl===2){if(t&&t.mac)return t.mac}else if(t&&t.linux)return t.linux;return t}registerKeybindingRule(t){const s=lC.bindToCurrentPlatform(t);if(s&&s.primary){const l=by(s.primary,yl);l&&this._registerDefaultKeybinding(l,t.id,t.args,t.weight,0,t.when)}if(s&&Array.isArray(s.secondary))for(let l=0,u=s.secondary.length;l<u;l++){const h=s.secondary[l],f=by(h,yl);f&&this._registerDefaultKeybinding(f,t.id,t.args,t.weight,-l-1,t.when)}}registerCommandAndKeybindingRule(t){this.registerKeybindingRule(t),pi.registerCommand(t)}static _mightProduceChar(t){return t>=21&&t<=30||t>=31&&t<=56?!0:t===80||t===81||t===82||t===83||t===84||t===85||t===86||t===110||t===111||t===87||t===88||t===89||t===90||t===91||t===92}_assertNoCtrlAlt(t,s){t.ctrlKey&&t.altKey&&!t.metaKey&&lC._mightProduceChar(t.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",t," for ",s)}_registerDefaultKeybinding(t,s,l,u,h,f){yl===1&&this._assertNoCtrlAlt(t.parts[0],s),this._coreKeybindings.push({keybinding:t.parts,command:s,commandArgs:l,when:f,weight1:u,weight2:h,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(bce)),this._cachedMergedKeybindings.slice(0)}}const $r=new lC,kce={EditorModes:"platform.keybindingsRegistry"};ts.add(kce.EditorModes,$r);function bce(d,t){return d.weight1!==t.weight1?d.weight1-t.weight1:d.command<t.command?-1:d.command>t.command?1:d.weight2-t.weight2}const L0=hi("telemetryService");class zw{constructor(t){this.id=t.id,this.precondition=t.precondition,this._kbOpts=t.kbOpts,this._menuOpts=t.menuOpts,this._description=t.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const t=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const s of t){let l=s.kbExpr;this.precondition&&(l?l=it.and(l,this.precondition):l=this.precondition);const u={id:this.id,weight:s.weight,args:s.args,when:l,primary:s.primary,secondary:s.secondary,win:s.win,linux:s.linux,mac:s.mac};$r.registerKeybindingRule(u)}}pi.registerCommand({id:this.id,handler:(t,s)=>this.runCommand(t,s),description:this._description})}_registerMenuItem(t){ul.appendMenuItem(t.menuId,{group:t.group,command:{id:this.id,title:t.title,icon:t.icon,precondition:this.precondition},when:t.when,order:t.order})}}class wm extends zw{constructor(){super(...arguments),this._implementations=[]}addImplementation(t,s,l){return this._implementations.push({priority:t,name:s,implementation:l}),this._implementations.sort((u,h)=>h.priority-u.priority),{dispose:()=>{for(let u=0;u<this._implementations.length;u++)if(this._implementations[u].implementation===l){this._implementations.splice(u,1);return}}}}runCommand(t,s){const l=t.get(ka);l.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const u of this._implementations){const h=u.implementation(t,s);if(h)return l.trace(`Command '${this.id}' was handled by '${u.name}'.`),typeof h=="boolean"?void 0:h}l.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class MV extends zw{constructor(t,s){super(s),this.command=t}runCommand(t,s){return this.command.runCommand(t,s)}}class nr extends zw{static bindToContribution(t){return class extends nr{constructor(l){super(l),this._callback=l.handler}runEditorCommand(l,u,h){const f=t(u);f&&this._callback(f,h)}}}runCommand(t,s){const l=t.get(Mi),u=l.getFocusedCodeEditor()||l.getActiveCodeEditor();if(!!u)return u.invokeWithinContext(h=>{if(!!h.get(Mt).contextMatchesRules(To(this.precondition)))return this.runEditorCommand(h,u,s)})}}class lt extends nr{constructor(t){super(lt.convertOptions(t)),this.label=t.label,this.alias=t.alias}static convertOptions(t){let s;Array.isArray(t.menuOpts)?s=t.menuOpts:t.menuOpts?s=[t.menuOpts]:s=[];function l(u){return u.menuId||(u.menuId=ce.EditorContext),u.title||(u.title=t.label),u.when=it.and(t.precondition,u.when),u}return Array.isArray(t.contextMenuOpts)?s.push(...t.contextMenuOpts.map(l)):t.contextMenuOpts&&s.push(l(t.contextMenuOpts)),t.menuOpts=s,t}runEditorCommand(t,s,l){return this.reportTelemetry(t,s),this.run(t,s,l||{})}reportTelemetry(t,s){t.get(L0).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class PV extends lt{constructor(){super(...arguments),this._implementations=[]}addImplementation(t,s){return this._implementations.push([t,s]),this._implementations.sort((l,u)=>u[0]-l[0]),{dispose:()=>{for(let l=0;l<this._implementations.length;l++)if(this._implementations[l][1]===s){this._implementations.splice(l,1);return}}}}run(t,s,l){for(const u of this._implementations){const h=u[1](t,s,l);if(h)return typeof h=="boolean"?void 0:h}}}function D0(d,t){pi.registerCommand(d,function(s,...l){const u=s.get(ii),[h,f]=l;Zi(Lt.isUri(h)),Zi(me.isIPosition(f));const m=s.get(Ln).getModel(h);if(m){const A=me.lift(f);return u.invokeFunction(t,m,A,...l.slice(2))}return s.get(Ao).createModelReference(h).then(A=>new Promise((C,w)=>{try{const k=u.invokeFunction(t,A.object.textEditorModel,me.lift(f),l.slice(2));C(k)}catch(k){w(k)}}).finally(()=>{A.dispose()}))})}function Qe(d){return Dl.INSTANCE.registerEditorCommand(d),d}function $e(d){const t=new d;return Dl.INSTANCE.registerEditorAction(t),t}function OV(d){return Dl.INSTANCE.registerEditorAction(d),d}function FV(d){Dl.INSTANCE.registerEditorAction(d)}function Li(d,t){Dl.INSTANCE.registerEditorContribution(d,t)}var kd;(function(d){function t(f){return Dl.INSTANCE.getEditorCommand(f)}d.getEditorCommand=t;function s(){return Dl.INSTANCE.getEditorActions()}d.getEditorActions=s;function l(){return Dl.INSTANCE.getEditorContributions()}d.getEditorContributions=l;function u(f){return Dl.INSTANCE.getEditorContributions().filter(m=>f.indexOf(m.id)>=0)}d.getSomeEditorContributions=u;function h(){return Dl.INSTANCE.getDiffEditorContributions()}d.getDiffEditorContributions=h})(kd||(kd={}));const Sce={EditorCommonContributions:"editor.contributions"};class Dl{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(t,s){this.editorContributions.push({id:t,ctor:s})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(t){t.register(),this.editorActions.push(t)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(t){t.register(),this.editorCommands[t.id]=t}getEditorCommand(t){return this.editorCommands[t]||null}}Dl.INSTANCE=new Dl;ts.add(Sce.EditorCommonContributions,Dl.INSTANCE);function d_(d){return d.register(),d}const BV=d_(new wm({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:ce.MenubarEditMenu,group:"1_do",title:E({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:ce.CommandPalette,group:"",title:E("undo","Undo"),order:1}]}));d_(new MV(BV,{id:"default:undo",precondition:void 0}));const WV=d_(new wm({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:ce.MenubarEditMenu,group:"1_do",title:E({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:ce.CommandPalette,group:"",title:E("redo","Redo"),order:1}]}));d_(new MV(WV,{id:"default:redo",precondition:void 0}));const yce=d_(new wm({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:ce.MenubarSelectionMenu,group:"1_basic",title:E({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:ce.CommandPalette,group:"",title:E("selectAll","Select All"),order:1}]}));var Lce=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Dce=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let e4=class{constructor(t,s){}dispose(){}};e4.ID="editor.contrib.markerDecorations";e4=Lce([Dce(1,SI)],e4);Li(e4.ID,e4);class VV extends Se{constructor(t,s){super(),this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._referenceDomElement=t,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,s)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(t=>{t&&t[0]&&t[0].contentRect?this.observe({width:t[0].contentRect.width,height:t[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(t){this.measureReferenceDomElement(!0,t)}measureReferenceDomElement(t,s){let l=0,u=0;s?(l=s.width,u=s.height):this._referenceDomElement&&(l=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),l=Math.max(5,l),u=Math.max(5,u),(this._width!==l||this._height!==u)&&(this._width=l,this._height=u,t&&this._onDidChange.fire())}}const Ice=Object.prototype.hasOwnProperty;function xce(d,t){for(let s in d)if(Ice.call(d,s)&&t({key:s,value:d[s]},function(){delete d[s]})===!1)return}class Ece{constructor(){this.map=new Map}add(t,s){let l=this.map.get(t);l||(l=new Set,this.map.set(t,l)),l.add(s)}delete(t,s){const l=this.map.get(t);!l||(l.delete(s),l.size===0&&this.map.delete(t))}forEach(t,s){const l=this.map.get(t);!l||l.forEach(s)}}function Nce(d){const t=d.wordWrap;t===!0?d.wordWrap="on":t===!1&&(d.wordWrap="off");const s=d.lineNumbers;s===!0?d.lineNumbers="on":s===!1&&(d.lineNumbers="off"),d.autoClosingBrackets===!1&&(d.autoClosingBrackets="never",d.autoClosingQuotes="never",d.autoSurround="never"),d.cursorBlinking==="visible"&&(d.cursorBlinking="solid");const h=d.renderWhitespace;h===!0?d.renderWhitespace="boundary":h===!1&&(d.renderWhitespace="none");const f=d.renderLineHighlight;f===!0?d.renderLineHighlight="line":f===!1&&(d.renderLineHighlight="none");const m=d.acceptSuggestionOnEnter;m===!0?d.acceptSuggestionOnEnter="on":m===!1&&(d.acceptSuggestionOnEnter="off");const A=d.tabCompletion;A===!1?d.tabCompletion="off":A===!0&&(d.tabCompletion="onlySnippets");const C=d.suggest;if(C&&typeof C.filteredTypes=="object"&&C.filteredTypes){const O={};O.method="showMethods",O.function="showFunctions",O.constructor="showConstructors",O.deprecated="showDeprecated",O.field="showFields",O.variable="showVariables",O.class="showClasses",O.struct="showStructs",O.interface="showInterfaces",O.module="showModules",O.property="showProperties",O.event="showEvents",O.operator="showOperators",O.unit="showUnits",O.value="showValues",O.constant="showConstants",O.enum="showEnums",O.enumMember="showEnumMembers",O.keyword="showKeywords",O.text="showWords",O.color="showColors",O.file="showFiles",O.reference="showReferences",O.folder="showFolders",O.typeParameter="showTypeParameters",O.snippet="showSnippets",xce(O,W=>{const B=C.filteredTypes[W.key];B===!1&&(C[W.value]=B)})}const w=d.hover;w===!0?d.hover={enabled:!0}:w===!1&&(d.hover={enabled:!1});const k=d.parameterHints;k===!0?d.parameterHints={enabled:!0}:k===!1&&(d.parameterHints={enabled:!1});const D=d.autoIndent;D===!0?d.autoIndent="full":D===!1&&(d.autoIndent="advanced");const I=d.matchBrackets;I===!0?d.matchBrackets="always":I===!1&&(d.matchBrackets="never");const{renderIndentGuides:N,highlightActiveIndentGuide:R}=d;d.guides||(d.guides={}),N!==void 0&&(d.guides.indentation=!!N),R!==void 0&&(d.guides.highlightActiveIndentation=!!R)}class Tce{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new he,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(t){this._tabFocus!==t&&(this._tabFocus=t,this._onDidChangeTabFocus.fire(this._tabFocus))}}const aC=new Tce,Vo=hi("accessibilityService"),f_=new rt("accessibilityModeEnabled",!1);var Rce=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Mce=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let Ny=class extends Se{constructor(t,s,l,u){super(),this._accessibilityService=u,this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new he),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new vW,this.isSimpleWidget=t,this._containerObserver=this._register(new VV(l,s.dimension)),this._rawOptions=tP(s),this._validatedOptions=pu.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(xc.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(aC.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(hy.onDidChange(()=>this._recomputeOptions())),this._register(Pg.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const t=this._computeOptions(),s=pu.checkEquals(this.options,t);s!==null&&(this.options=t,this._onDidChangeFast.fire(s),this._onDidChange.fire(s))}_computeOptions(){const t=this._readEnvConfiguration(),s=vd.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),l=this._readFontInfo(s),u={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:l,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:aC.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport};return pu.computeOptions(this._validatedOptions,u)}_readEnvConfiguration(){return{extraEditorClassName:Oce(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Lu||dl,pixelRatio:Pg.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return hy.readFontInfo(t)}getRawOptions(){return this._rawOptions}updateOptions(t){const s=tP(t);!pu.applyUpdate(this._rawOptions,s)||(this._validatedOptions=pu.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){const s=Pce(t);this._lineNumbersDigitCount!==s&&(this._lineNumbersDigitCount=s,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}};Ny=Rce([Mce(3,Vo)],Ny);function Pce(d){let t=0;for(;d;)d=Math.floor(d/10),t++;return t||1}function Oce(){let d="";return!va&&!nI&&(d+="no-user-select "),va&&(d+="no-minimap-shadow "),Jt&&(d+="mac "),d}class Fce{constructor(){this._values=[]}_read(t){return this._values[t]}get(t){return this._values[t]}_write(t,s){this._values[t]=s}}class Bce{constructor(){this._values=[]}_read(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]}get(t){return this._read(t)}_write(t,s){this._values[t]=s}}class pu{static validateOptions(t){const s=new Fce;for(const l of j1){const u=l.name==="_never_"?void 0:t[l.name];s._write(l.id,l.validate(u))}return s}static computeOptions(t,s){const l=new Bce;for(const u of j1)l._write(u.id,u.compute(s,l,t._read(u.id)));return l}static _deepEquals(t,s){if(typeof t!="object"||typeof s!="object"||!t||!s)return t===s;if(Array.isArray(t)||Array.isArray(s))return Array.isArray(t)&&Array.isArray(s)?cl(t,s):!1;if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const l in t)if(!pu._deepEquals(t[l],s[l]))return!1;return!0}static checkEquals(t,s){const l=[];let u=!1;for(const h of j1){const f=!pu._deepEquals(t._read(h.id),s._read(h.id));l[h.id]=f,f&&(u=!0)}return u?new wW(l):null}static applyUpdate(t,s){let l=!1;for(const u of j1)if(s.hasOwnProperty(u.name)){const h=u.applyUpdate(t[u.name],s[u.name]);t[u.name]=h.newValue,l=l||h.didChange}return l}}function tP(d){const t=oc(d);return Nce(t),t}function gs(d,t,s){let l=null,u=null;if(typeof s.value=="function"?(l="value",u=s.value,u.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof s.get=="function"&&(l="get",u=s.get),!u)throw new Error("not supported");const h=`$memoize$${t}`;s[l]=function(...f){return this.hasOwnProperty(h)||Object.defineProperty(this,h,{configurable:!1,enumerable:!1,writable:!1,value:u.apply(this,f)}),this[h]}}var Wce=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},nn;(function(d){d.Tap="-monaco-gesturetap",d.Change="-monaco-gesturechange",d.Start="-monaco-gesturestart",d.End="-monaco-gesturesend",d.Contextmenu="-monaco-gesturecontextmenu"})(nn||(nn={}));class Wi extends Se{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(ze(document,"touchstart",t=>this.onTouchStart(t),{passive:!1})),this._register(ze(document,"touchend",t=>this.onTouchEnd(t))),this._register(ze(document,"touchmove",t=>this.onTouchMove(t),{passive:!1}))}static addTarget(t){return Wi.isTouchDevice()?(Wi.INSTANCE||(Wi.INSTANCE=new Wi),Wi.INSTANCE.targets.push(t),{dispose:()=>{Wi.INSTANCE.targets=Wi.INSTANCE.targets.filter(s=>s!==t)}}):Se.None}static ignoreTarget(t){return Wi.isTouchDevice()?(Wi.INSTANCE||(Wi.INSTANCE=new Wi),Wi.INSTANCE.ignoreTargets.push(t),{dispose:()=>{Wi.INSTANCE.ignoreTargets=Wi.INSTANCE.ignoreTargets.filter(s=>s!==t)}}):Se.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){let s=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let l=0,u=t.targetTouches.length;l<u;l++){let h=t.targetTouches.item(l);this.activeTouches[h.identifier]={id:h.identifier,initialTarget:h.target,initialTimeStamp:s,initialPageX:h.pageX,initialPageY:h.pageY,rollingTimestamps:[s],rollingPageX:[h.pageX],rollingPageY:[h.pageY]};let f=this.newGestureEvent(nn.Start,h.target);f.pageX=h.pageX,f.pageY=h.pageY,this.dispatchEvent(f)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t){let s=Date.now(),l=Object.keys(this.activeTouches).length;for(let u=0,h=t.changedTouches.length;u<h;u++){let f=t.changedTouches.item(u);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("move of an UNKNOWN touch",f);continue}let m=this.activeTouches[f.identifier],A=Date.now()-m.initialTimeStamp;if(A<Wi.HOLD_DELAY&&Math.abs(m.initialPageX-kl(m.rollingPageX))<30&&Math.abs(m.initialPageY-kl(m.rollingPageY))<30){let C=this.newGestureEvent(nn.Tap,m.initialTarget);C.pageX=kl(m.rollingPageX),C.pageY=kl(m.rollingPageY),this.dispatchEvent(C)}else if(A>=Wi.HOLD_DELAY&&Math.abs(m.initialPageX-kl(m.rollingPageX))<30&&Math.abs(m.initialPageY-kl(m.rollingPageY))<30){let C=this.newGestureEvent(nn.Contextmenu,m.initialTarget);C.pageX=kl(m.rollingPageX),C.pageY=kl(m.rollingPageY),this.dispatchEvent(C)}else if(l===1){let C=kl(m.rollingPageX),w=kl(m.rollingPageY),k=kl(m.rollingTimestamps)-m.rollingTimestamps[0],D=C-m.rollingPageX[0],I=w-m.rollingPageY[0];const N=this.targets.filter(R=>m.initialTarget instanceof Node&&R.contains(m.initialTarget));this.inertia(N,s,Math.abs(D)/k,D>0?1:-1,C,Math.abs(I)/k,I>0?1:-1,w)}this.dispatchEvent(this.newGestureEvent(nn.End,m.initialTarget)),delete this.activeTouches[f.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,s){let l=document.createEvent("CustomEvent");return l.initEvent(t,!1,!0),l.initialTarget=s,l.tapCount=0,l}dispatchEvent(t){if(t.type===nn.Tap){const s=new Date().getTime();let l=0;s-this._lastSetTapCountTime>Wi.CLEAR_TAP_COUNT_TIME?l=1:l=2,this._lastSetTapCountTime=s,t.tapCount=l}else(t.type===nn.Change||t.type===nn.Contextmenu)&&(this._lastSetTapCountTime=0);for(let s=0;s<this.ignoreTargets.length;s++)if(t.initialTarget instanceof Node&&this.ignoreTargets[s].contains(t.initialTarget))return;this.targets.forEach(s=>{t.initialTarget instanceof Node&&s.contains(t.initialTarget)&&(s.dispatchEvent(t),this.dispatched=!0)})}inertia(t,s,l,u,h,f,m,A){this.handle=n2(()=>{let C=Date.now(),w=C-s,k=0,D=0,I=!0;l+=Wi.SCROLL_FRICTION*w,f+=Wi.SCROLL_FRICTION*w,l>0&&(I=!1,k=u*l*w),f>0&&(I=!1,D=m*f*w);let N=this.newGestureEvent(nn.Change);N.translationX=k,N.translationY=D,t.forEach(R=>R.dispatchEvent(N)),I||this.inertia(t,C,l,u,h+k,f,m,A+D)})}onTouchMove(t){let s=Date.now();for(let l=0,u=t.changedTouches.length;l<u;l++){let h=t.changedTouches.item(l);if(!this.activeTouches.hasOwnProperty(String(h.identifier))){console.warn("end of an UNKNOWN touch",h);continue}let f=this.activeTouches[h.identifier],m=this.newGestureEvent(nn.Change,f.initialTarget);m.translationX=h.pageX-kl(f.rollingPageX),m.translationY=h.pageY-kl(f.rollingPageY),m.pageX=h.pageX,m.pageY=h.pageY,this.dispatchEvent(m),f.rollingPageX.length>3&&(f.rollingPageX.shift(),f.rollingPageY.shift(),f.rollingTimestamps.shift()),f.rollingPageX.push(h.pageX),f.rollingPageY.push(h.pageY),f.rollingTimestamps.push(s)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}}Wi.SCROLL_FRICTION=-.005;Wi.HOLD_DELAY=700;Wi.CLEAR_TAP_COUNT_TIME=400;Wce([gs],Wi,"isTouchDevice",null);function vm(d,t){let s=new El(t);return s.preventDefault(),{leftButton:s.leftButton,buttons:s.buttons,posx:s.posx,posy:s.posy}}class If{constructor(){this._hooks=new je,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(t,s){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const l=this._onStopCallback;this._onStopCallback=null,t&&l&&l(s)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(t,s,l,u,h){if(this.isMonitoring())return;this._mouseMoveEventMerger=l,this._mouseMoveCallback=u,this._onStopCallback=h;const f=yy.getSameOriginWindowChain(),m=t2?"pointermove":"mousemove",A="mouseup",C=f.map(k=>k.window.document),w=Gu(t);w&&C.unshift(w);for(const k of C)this._hooks.add(kI(k,m,D=>{if(D.buttons!==s){this.stopMonitoring(!0);return}this._mouseMoveCallback(D)},(D,I)=>this._mouseMoveEventMerger(D,I))),this._hooks.add(ze(k,A,D=>this.stopMonitoring(!0)));if(yy.hasDifferentOriginAncestor()){let k=f[f.length-1];this._hooks.add(ze(k.window.document,"mouseout",D=>{new El(D).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(ze(k.window.document,"mouseover",D=>{new El(D).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(ze(k.window.document.body,"mouseleave",D=>{this.stopMonitoring(!0)}))}}}function xu(d,t){const s=Math.pow(10,t);return Math.round(d*s)/s}class li{constructor(t,s,l,u=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,t))|0,this.g=Math.min(255,Math.max(0,s))|0,this.b=Math.min(255,Math.max(0,l))|0,this.a=xu(Math.max(Math.min(1,u),0),3)}static equals(t,s){return t.r===s.r&&t.g===s.g&&t.b===s.b&&t.a===s.a}}class ja{constructor(t,s,l,u){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,t),0)|0,this.s=xu(Math.max(Math.min(1,s),0),3),this.l=xu(Math.max(Math.min(1,l),0),3),this.a=xu(Math.max(Math.min(1,u),0),3)}static equals(t,s){return t.h===s.h&&t.s===s.s&&t.l===s.l&&t.a===s.a}static fromRGBA(t){const s=t.r/255,l=t.g/255,u=t.b/255,h=t.a,f=Math.max(s,l,u),m=Math.min(s,l,u);let A=0,C=0;const w=(m+f)/2,k=f-m;if(k>0){switch(C=Math.min(w<=.5?k/(2*w):k/(2-2*w),1),f){case s:A=(l-u)/k+(l<u?6:0);break;case l:A=(u-s)/k+2;break;case u:A=(s-l)/k+4;break}A*=60,A=Math.round(A)}return new ja(A,C,w,h)}static _hue2rgb(t,s,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?t+(s-t)*6*l:l<1/2?s:l<2/3?t+(s-t)*(2/3-l)*6:t}static toRGBA(t){const s=t.h/360,{s:l,l:u,a:h}=t;let f,m,A;if(l===0)f=m=A=u;else{const C=u<.5?u*(1+l):u+l-u*l,w=2*u-C;f=ja._hue2rgb(w,C,s+1/3),m=ja._hue2rgb(w,C,s),A=ja._hue2rgb(w,C,s-1/3)}return new li(Math.round(f*255),Math.round(m*255),Math.round(A*255),h)}}class o0{constructor(t,s,l,u){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,t),0)|0,this.s=xu(Math.max(Math.min(1,s),0),3),this.v=xu(Math.max(Math.min(1,l),0),3),this.a=xu(Math.max(Math.min(1,u),0),3)}static equals(t,s){return t.h===s.h&&t.s===s.s&&t.v===s.v&&t.a===s.a}static fromRGBA(t){const s=t.r/255,l=t.g/255,u=t.b/255,h=Math.max(s,l,u),f=Math.min(s,l,u),m=h-f,A=h===0?0:m/h;let C;return m===0?C=0:h===s?C=((l-u)/m%6+6)%6:h===l?C=(u-s)/m+2:C=(s-l)/m+4,new o0(Math.round(C*60),A,h,t.a)}static toRGBA(t){const{h:s,s:l,v:u,a:h}=t,f=u*l,m=f*(1-Math.abs(s/60%2-1)),A=u-f;let[C,w,k]=[0,0,0];return s<60?(C=f,w=m):s<120?(C=m,w=f):s<180?(w=f,k=m):s<240?(w=m,k=f):s<300?(C=m,k=f):s<=360&&(C=f,k=m),C=Math.round((C+A)*255),w=Math.round((w+A)*255),k=Math.round((k+A)*255),new li(C,w,k,h)}}class ke{constructor(t){if(t)if(t instanceof li)this.rgba=t;else if(t instanceof ja)this._hsla=t,this.rgba=ja.toRGBA(t);else if(t instanceof o0)this._hsva=t,this.rgba=o0.toRGBA(t);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(t){return ke.Format.CSS.parseHex(t)||ke.red}get hsla(){return this._hsla?this._hsla:ja.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:o0.fromRGBA(this.rgba)}equals(t){return!!t&&li.equals(this.rgba,t.rgba)&&ja.equals(this.hsla,t.hsla)&&o0.equals(this.hsva,t.hsva)}getRelativeLuminance(){const t=ke._relativeLuminanceForComponent(this.rgba.r),s=ke._relativeLuminanceForComponent(this.rgba.g),l=ke._relativeLuminanceForComponent(this.rgba.b),u=.2126*t+.7152*s+.0722*l;return xu(u,4)}static _relativeLuminanceForComponent(t){const s=t/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(t){const s=this.getRelativeLuminance(),l=t.getRelativeLuminance();return s>l}isDarkerThan(t){const s=this.getRelativeLuminance(),l=t.getRelativeLuminance();return s<l}lighten(t){return new ke(new ja(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new ke(new ja(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:s,g:l,b:u,a:h}=this.rgba;return new ke(new li(s,l,u,h*t))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new ke(new li(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=ke.Format.CSS.format(this)),this._toString}static getLighterColor(t,s,l){if(t.isLighterThan(s))return t;l=l||.5;const u=t.getRelativeLuminance(),h=s.getRelativeLuminance();return l=l*(h-u)/h,t.lighten(l)}static getDarkerColor(t,s,l){if(t.isDarkerThan(s))return t;l=l||.5;const u=t.getRelativeLuminance(),h=s.getRelativeLuminance();return l=l*(u-h)/u,t.darken(l)}}ke.white=new ke(new li(255,255,255,1));ke.black=new ke(new li(0,0,0,1));ke.red=new ke(new li(255,0,0,1));ke.blue=new ke(new li(0,0,255,1));ke.green=new ke(new li(0,255,0,1));ke.cyan=new ke(new li(0,255,255,1));ke.lightgrey=new ke(new li(211,211,211,1));ke.transparent=new ke(new li(0,0,0,0));(function(d){(function(t){(function(s){function l(I){return I.rgba.a===1?`rgb(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b})`:d.Format.CSS.formatRGBA(I)}s.formatRGB=l;function u(I){return`rgba(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b}, ${+I.rgba.a.toFixed(2)})`}s.formatRGBA=u;function h(I){return I.hsla.a===1?`hsl(${I.hsla.h}, ${(I.hsla.s*100).toFixed(2)}%, ${(I.hsla.l*100).toFixed(2)}%)`:d.Format.CSS.formatHSLA(I)}s.formatHSL=h;function f(I){return`hsla(${I.hsla.h}, ${(I.hsla.s*100).toFixed(2)}%, ${(I.hsla.l*100).toFixed(2)}%, ${I.hsla.a.toFixed(2)})`}s.formatHSLA=f;function m(I){const N=I.toString(16);return N.length!==2?"0"+N:N}function A(I){return`#${m(I.rgba.r)}${m(I.rgba.g)}${m(I.rgba.b)}`}s.formatHex=A;function C(I,N=!1){return N&&I.rgba.a===1?d.Format.CSS.formatHex(I):`#${m(I.rgba.r)}${m(I.rgba.g)}${m(I.rgba.b)}${m(Math.round(I.rgba.a*255))}`}s.formatHexA=C;function w(I){return I.isOpaque()?d.Format.CSS.formatHex(I):d.Format.CSS.formatRGBA(I)}s.format=w;function k(I){const N=I.length;if(N===0||I.charCodeAt(0)!==35)return null;if(N===7){const R=16*D(I.charCodeAt(1))+D(I.charCodeAt(2)),O=16*D(I.charCodeAt(3))+D(I.charCodeAt(4)),W=16*D(I.charCodeAt(5))+D(I.charCodeAt(6));return new d(new li(R,O,W,1))}if(N===9){const R=16*D(I.charCodeAt(1))+D(I.charCodeAt(2)),O=16*D(I.charCodeAt(3))+D(I.charCodeAt(4)),W=16*D(I.charCodeAt(5))+D(I.charCodeAt(6)),B=16*D(I.charCodeAt(7))+D(I.charCodeAt(8));return new d(new li(R,O,W,B/255))}if(N===4){const R=D(I.charCodeAt(1)),O=D(I.charCodeAt(2)),W=D(I.charCodeAt(3));return new d(new li(16*R+R,16*O+O,16*W+W))}if(N===5){const R=D(I.charCodeAt(1)),O=D(I.charCodeAt(2)),W=D(I.charCodeAt(3)),B=D(I.charCodeAt(4));return new d(new li(16*R+R,16*O+O,16*W+W,(16*B+B)/255))}return null}s.parseHex=k;function D(I){switch(I){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t.CSS||(t.CSS={}))})(d.Format||(d.Format={}))})(ke||(ke={}));const Gw={JSONContribution:"base.contributions.json"};function Vce(d){return d.length>0&&d.charAt(d.length-1)==="#"?d.substring(0,d.length-1):d}class Hce{constructor(){this._onDidChangeSchema=new he,this.schemasById={}}registerSchema(t,s){this.schemasById[Vce(t)]=s,this._onDidChangeSchema.fire(t)}notifySchemaChanged(t){this._onDidChangeSchema.fire(t)}}const Uce=new Hce;ts.add(Gw.JSONContribution,Uce);function HV(d){return`--vscode-${d.replace(/\./g,"-")}`}const UV={ColorContribution:"base.contributions.colors"};class zce{constructor(){this._onDidChangeSchema=new he,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(t,s,l,u=!1,h){let f={id:t,description:l,defaults:s,needsTransparency:u,deprecationMessage:h};this.colorsById[t]=f;let m={type:"string",description:l,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return h&&(m.deprecationMessage=h),this.colorSchema.properties[t]=m,this.colorReferenceSchema.enum.push(t),this.colorReferenceSchema.enumDescriptions.push(l),this._onDidChangeSchema.fire(),t}getColors(){return Object.keys(this.colorsById).map(t=>this.colorsById[t])}resolveDefaultColor(t,s){const l=this.colorsById[t];if(l&&l.defaults){const u=l.defaults[s.type];return ec(u,s)}}getColorSchema(){return this.colorSchema}toString(){let t=(s,l)=>{let u=s.indexOf(".")===-1?0:1,h=l.indexOf(".")===-1?0:1;return u!==h?u-h:s.localeCompare(l)};return Object.keys(this.colorsById).sort(t).map(s=>`- \`${s}\`: ${this.colorsById[s].description}`).join(`
`)}}const jw=new zce;ts.add(UV.ColorContribution,jw);function oe(d,t,s,l,u){return jw.registerColor(d,t,s,l,u)}const ot=oe("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},E("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Gce=oe("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},E("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));oe("descriptionForeground",{light:"#717171",dark:Tt(ot,.7),hc:Tt(ot,.7)},E("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const vb=oe("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},E("iconForeground","The default color for icons in the workbench.")),d0=oe("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},E("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),An=oe("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},E("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Fr=oe("contrastActiveBorder",{light:null,dark:null,hc:d0},E("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));oe("selection.background",{light:null,dark:null,hc:null},E("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));oe("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:ke.black},E("textSeparatorForeground","Color for text separators."));const Zw=oe("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},E("textLinkForeground","Foreground color for links in text.")),Qw=oe("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},E("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));oe("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},E("textPreformatForeground","Foreground color for preformatted text segments."));oe("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},E("textBlockQuoteBackground","Background color for block quotes in text."));oe("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:ke.white},E("textBlockQuoteBorder","Border color for block quotes in text."));const zV=oe("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:ke.black},E("textCodeBlockBackground","Background color for code blocks in text.")),Yu=oe("widget.shadow",{dark:Tt(ke.black,.36),light:Tt(ke.black,.16),hc:null},E("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),xI=oe("input.background",{dark:"#3C3C3C",light:ke.white,hc:ke.black},E("inputBoxBackground","Input box background.")),EI=oe("input.foreground",{dark:ot,light:ot,hc:ot},E("inputBoxForeground","Input box foreground.")),NI=oe("input.border",{dark:null,light:null,hc:An},E("inputBoxBorder","Input box border.")),Ty=oe("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:An},E("inputBoxActiveOptionBorder","Border color of activated options in input fields."));oe("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},E("inputOption.hoverBackground","Background color of activated options in input fields."));const Ry=oe("inputOption.activeBackground",{dark:Tt(d0,.4),light:Tt(d0,.2),hc:ke.transparent},E("inputOption.activeBackground","Background hover color of options in input fields.")),My=oe("inputOption.activeForeground",{dark:ke.white,light:ke.black,hc:null},E("inputOption.activeForeground","Foreground color of activated options in input fields."));oe("input.placeholderForeground",{light:Tt(ot,.5),dark:Tt(ot,.5),hc:Tt(ot,.7)},E("inputPlaceholderForeground","Input box foreground color for placeholder text."));const GV=oe("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:ke.black},E("inputValidationInfoBackground","Input validation background color for information severity.")),jV=oe("inputValidation.infoForeground",{dark:null,light:null,hc:null},E("inputValidationInfoForeground","Input validation foreground color for information severity.")),ZV=oe("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:An},E("inputValidationInfoBorder","Input validation border color for information severity.")),QV=oe("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:ke.black},E("inputValidationWarningBackground","Input validation background color for warning severity.")),YV=oe("inputValidation.warningForeground",{dark:null,light:null,hc:null},E("inputValidationWarningForeground","Input validation foreground color for warning severity.")),$V=oe("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:An},E("inputValidationWarningBorder","Input validation border color for warning severity.")),KV=oe("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:ke.black},E("inputValidationErrorBackground","Input validation background color for error severity.")),XV=oe("inputValidation.errorForeground",{dark:null,light:null,hc:null},E("inputValidationErrorForeground","Input validation foreground color for error severity.")),JV=oe("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:An},E("inputValidationErrorBorder","Input validation border color for error severity.")),bd=oe("dropdown.background",{dark:"#3C3C3C",light:ke.white,hc:ke.black},E("dropdownBackground","Dropdown background."));oe("dropdown.listBackground",{dark:null,light:null,hc:ke.black},E("dropdownListBackground","Dropdown list background."));const hA=oe("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:ke.white},E("dropdownForeground","Dropdown foreground.")),kb=oe("dropdown.border",{dark:bd,light:"#CECECE",hc:An},E("dropdownBorder","Dropdown border."));oe("checkbox.background",{dark:bd,light:bd,hc:bd},E("checkbox.background","Background color of checkbox widget."));oe("checkbox.foreground",{dark:hA,light:hA,hc:hA},E("checkbox.foreground","Foreground color of checkbox widget."));oe("checkbox.border",{dark:kb,light:kb,hc:kb},E("checkbox.border","Border color of checkbox widget."));const jce=oe("button.foreground",{dark:ke.white,light:ke.white,hc:ke.white},E("buttonForeground","Button foreground color.")),Py=oe("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},E("buttonBackground","Button background color.")),Zce=oe("button.hoverBackground",{dark:$u(Py,.2),light:bm(Py,.2),hc:null},E("buttonHoverBackground","Button background color when hovering."));oe("button.border",{dark:An,light:An,hc:An},E("buttonBorder","Button border color."));oe("button.secondaryForeground",{dark:ke.white,light:ke.white,hc:ke.white},E("buttonSecondaryForeground","Secondary button foreground color."));const iP=oe("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},E("buttonSecondaryBackground","Secondary button background color."));oe("button.secondaryHoverBackground",{dark:$u(iP,.2),light:bm(iP,.2),hc:null},E("buttonSecondaryHoverBackground","Secondary button background color when hovering."));const dA=oe("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:ke.black},E("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),fA=oe("badge.foreground",{dark:ke.white,light:"#333",hc:ke.white},E("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),km=oe("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},E("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),gg=oe("scrollbarSlider.background",{dark:ke.fromHex("#797979").transparent(.4),light:ke.fromHex("#646464").transparent(.4),hc:Tt(An,.6)},E("scrollbarSliderBackground","Scrollbar slider background color.")),mg=oe("scrollbarSlider.hoverBackground",{dark:ke.fromHex("#646464").transparent(.7),light:ke.fromHex("#646464").transparent(.7),hc:Tt(An,.8)},E("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),pg=oe("scrollbarSlider.activeBackground",{dark:ke.fromHex("#BFBFBF").transparent(.4),light:ke.fromHex("#000000").transparent(.6),hc:An},E("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Qce=oe("progressBar.background",{dark:ke.fromHex("#0E70C0"),light:ke.fromHex("#0E70C0"),hc:An},E("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Yce=oe("editorError.background",{dark:null,light:null,hc:null},E("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Eu=oe("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},E("editorError.foreground","Foreground color of error squigglies in the editor.")),qV=oe("editorError.border",{dark:null,light:null,hc:ke.fromHex("#E47777").transparent(.8)},E("errorBorder","Border color of error boxes in the editor.")),$ce=oe("editorWarning.background",{dark:null,light:null,hc:null},E("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Aa=oe("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},E("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Yw=oe("editorWarning.border",{dark:null,light:null,hc:ke.fromHex("#FFCC00").transparent(.8)},E("warningBorder","Border color of warning boxes in the editor.")),Kce=oe("editorInfo.background",{dark:null,light:null,hc:null},E("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),hl=oe("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},E("editorInfo.foreground","Foreground color of info squigglies in the editor.")),TI=oe("editorInfo.border",{dark:null,light:null,hc:ke.fromHex("#3794FF").transparent(.8)},E("infoBorder","Border color of info boxes in the editor.")),Xce=oe("editorHint.foreground",{dark:ke.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},E("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Jce=oe("editorHint.border",{dark:null,light:null,hc:ke.fromHex("#eeeeee").transparent(.8)},E("hintBorder","Border color of hint boxes in the editor."));oe("sash.hoverBorder",{dark:d0,light:d0,hc:d0},E("sashActiveBorder","Border color of active sashes."));const go=oe("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:ke.black},E("editorBackground","Editor background color.")),Nu=oe("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:ke.white},E("editorForeground","Editor default foreground color.")),Qr=oe("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},E("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Sc=oe("editorWidget.foreground",{dark:ot,light:ot,hc:ot},E("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Sd=oe("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:An},E("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),qce=oe("editorWidget.resizeBorder",{light:null,dark:null,hc:null},E("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),nP=oe("quickInput.background",{dark:Qr,light:Qr,hc:Qr},E("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),eue=oe("quickInput.foreground",{dark:Sc,light:Sc,hc:Sc},E("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),tue=oe("quickInputTitle.background",{dark:new ke(new li(255,255,255,.105)),light:new ke(new li(0,0,0,.06)),hc:"#000000"},E("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),iue=oe("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:ke.white},E("pickerGroupForeground","Quick picker color for grouping labels.")),nue=oe("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:ke.white},E("pickerGroupBorder","Quick picker color for grouping borders.")),sue=oe("keybindingLabel.background",{dark:new ke(new li(128,128,128,.17)),light:new ke(new li(221,221,221,.4)),hc:ke.transparent},E("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),rue=oe("keybindingLabel.foreground",{dark:ke.fromHex("#CCCCCC"),light:ke.fromHex("#555555"),hc:ke.white},E("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),oue=oe("keybindingLabel.border",{dark:new ke(new li(51,51,51,.6)),light:new ke(new li(204,204,204,.4)),hc:new ke(new li(111,195,223))},E("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),lue=oe("keybindingLabel.bottomBorder",{dark:new ke(new li(68,68,68,.6)),light:new ke(new li(187,187,187,.4)),hc:new ke(new li(111,195,223))},E("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Tu=oe("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},E("editorSelectionBackground","Color of the editor selection.")),aue=oe("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},E("editorSelectionForeground","Color of the selected text for high contrast.")),RI=oe("editor.inactiveSelectionBackground",{light:Tt(Tu,.5),dark:Tt(Tu,.5),hc:Tt(Tu,.5)},E("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),MI=oe("editor.selectionHighlightBackground",{light:cP(Tu,go,.3,.6),dark:cP(Tu,go,.3,.6),hc:null},E("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),cue=oe("editor.selectionHighlightBorder",{light:null,dark:null,hc:Fr},E("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),uue=oe("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},E("editorFindMatch","Color of the current search match.")),Ru=oe("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},E("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),hue=oe("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},E("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),due=oe("editor.findMatchBorder",{light:null,dark:null,hc:Fr},E("editorFindMatchBorder","Border color of the current search match.")),Ag=oe("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Fr},E("findMatchHighlightBorder","Border color of the other search matches.")),fue=oe("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Tt(Fr,.4)},E("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);oe("searchEditor.findMatchBackground",{light:Tt(Ru,.66),dark:Tt(Ru,.66),hc:Ru},E("searchEditor.queryMatch","Color of the Search Editor query matches."));oe("searchEditor.findMatchBorder",{light:Tt(Ag,.66),dark:Tt(Ag,.66),hc:Ag},E("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));const gue=oe("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},E("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Gd=oe("editorHoverWidget.background",{light:Qr,dark:Qr,hc:Qr},E("hoverBackground","Background color of the editor hover.")),PI=oe("editorHoverWidget.foreground",{light:Sc,dark:Sc,hc:Sc},E("hoverForeground","Foreground color of the editor hover.")),OI=oe("editorHoverWidget.border",{light:Sd,dark:Sd,hc:Sd},E("hoverBorder","Border color of the editor hover.")),mue=oe("editorHoverWidget.statusBarBackground",{dark:$u(Gd,.2),light:bm(Gd,.05),hc:Qr},E("statusBarBackground","Background color of the editor hover status bar.")),FI=oe("editorLink.activeForeground",{dark:"#4E94CE",light:ke.blue,hc:ke.cyan},E("activeLinkForeground","Color of active links.")),yd=oe("editorInlayHint.foreground",{dark:Tt(fA,.8),light:Tt(fA,.8),hc:fA},E("editorInlayHintForeground","Foreground color of inline hints")),Ld=oe("editorInlayHint.background",{dark:Tt(dA,.6),light:Tt(dA,.3),hc:dA},E("editorInlayHintBackground","Background color of inline hints")),pue=oe("editorInlayHint.typeForeground",{dark:yd,light:yd,hc:yd},E("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Aue=oe("editorInlayHint.typeBackground",{dark:Ld,light:Ld,hc:Ld},E("editorInlayHintBackgroundTypes","Background color of inline hints for types")),_ue=oe("editorInlayHint.parameterForeground",{dark:yd,light:yd,hc:yd},E("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Cue=oe("editorInlayHint.parameterBackground",{dark:Ld,light:Ld,hc:Ld},E("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),wue=oe("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},E("editorLightBulbForeground","The color used for the lightbulb actions icon.")),vue=oe("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Oy=new ke(new li(155,185,85,.2)),Fy=new ke(new li(255,0,0,.2)),eH=oe("diffEditor.insertedTextBackground",{dark:Oy,light:Oy,hc:null},E("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),tH=oe("diffEditor.removedTextBackground",{dark:Fy,light:Fy,hc:null},E("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),kue=oe("diffEditor.insertedLineBackground",{dark:null,light:null,hc:null},E("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),bue=oe("diffEditor.removedLineBackground",{dark:null,light:null,hc:null},E("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Sue=oe("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hc:null},E("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),yue=oe("diffEditorGutter.removedLineBackground",{dark:null,light:null,hc:null},E("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Lue=oe("diffEditorOverview.insertedForeground",{dark:null,light:null,hc:null},E("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Due=oe("diffEditorOverview.removedForeground",{dark:null,light:null,hc:null},E("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Iue=oe("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},E("diffEditorInsertedOutline","Outline color for the text that got inserted.")),xue=oe("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},E("diffEditorRemovedOutline","Outline color for text that got removed.")),Eue=oe("diffEditor.border",{dark:null,light:null,hc:An},E("diffEditorBorder","Border color between the two text editors.")),Nue=oe("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},E("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Tue=oe("list.focusBackground",{dark:null,light:null,hc:null},E("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rue=oe("list.focusForeground",{dark:null,light:null,hc:null},E("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mue=oe("list.focusOutline",{dark:d0,light:d0,hc:Fr},E("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mu=oe("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},E("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pu=oe("list.activeSelectionForeground",{dark:ke.white,light:ke.white,hc:null},E("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t3=oe("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},E("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pue=oe("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},E("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Oue=oe("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},E("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fue=oe("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},E("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Bue=oe("list.inactiveFocusBackground",{dark:null,light:null,hc:null},E("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Wue=oe("list.inactiveFocusOutline",{dark:null,light:null,hc:null},E("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Vue=oe("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},E("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Hue=oe("list.hoverForeground",{dark:null,light:null,hc:null},E("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Uue=oe("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},E("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),yc=oe("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:d0},E("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),bb=oe("list.focusHighlightForeground",{dark:yc,light:fhe(Mu,yc,"#9DDDFF"),hc:yc},E("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));oe("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},E("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));oe("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},E("listErrorForeground","Foreground color of list items containing errors."));oe("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},E("listWarningForeground","Foreground color of list items containing warnings."));const zue=oe("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:ke.black},E("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Gue=oe("listFilterWidget.outline",{dark:ke.transparent,light:ke.transparent,hc:"#f38518"},E("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),jue=oe("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:An},E("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches."));oe("list.filterMatchBackground",{dark:Ru,light:Ru,hc:null},E("listFilterMatchHighlight","Background color of the filtered match."));oe("list.filterMatchBorder",{dark:Ag,light:Ag,hc:An},E("listFilterMatchHighlightBorder","Border color of the filtered match."));const Zue=oe("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},E("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Que=oe("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},E("tableColumnsBorder","Table border color between columns.")),Yue=oe("tree.tableOddRowsBackground",{dark:Tt(ot,.04),light:Tt(ot,.04),hc:null},E("tableOddRowsBackgroundColor","Background color for odd table rows."));oe("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},E("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. "));const sP=oe("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,E("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),i3=oe("quickInputList.focusForeground",{dark:Pu,light:Pu,hc:Pu},E("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),n3=oe("quickInputList.focusIconForeground",{dark:t3,light:t3,hc:t3},E("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),s3=oe("quickInputList.focusBackground",{dark:t4(sP,Mu),light:t4(sP,Mu),hc:null},E("quickInput.listFocusBackground","Quick picker background color for the focused item.")),$ue=oe("menu.border",{dark:null,light:null,hc:An},E("menuBorder","Border color of menus.")),Kue=oe("menu.foreground",{dark:hA,light:ot,hc:hA},E("menuForeground","Foreground color of menu items.")),Xue=oe("menu.background",{dark:bd,light:bd,hc:bd},E("menuBackground","Background color of menu items.")),Jue=oe("menu.selectionForeground",{dark:Pu,light:Pu,hc:Pu},E("menuSelectionForeground","Foreground color of the selected menu item in menus.")),que=oe("menu.selectionBackground",{dark:Mu,light:Mu,hc:Mu},E("menuSelectionBackground","Background color of the selected menu item in menus.")),ehe=oe("menu.selectionBorder",{dark:null,light:null,hc:Fr},E("menuSelectionBorder","Border color of the selected menu item in menus.")),the=oe("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:An},E("menuSeparatorBackground","Color of a separator menu item in menus.")),By=oe("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},E("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));oe("toolbar.hoverOutline",{dark:null,light:null,hc:Fr},E("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));oe("toolbar.activeBackground",{dark:$u(By,.1),light:bm(By,.1),hc:null},E("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));oe("editor.snippetTabstopHighlightBackground",{dark:new ke(new li(124,124,124,.3)),light:new ke(new li(10,50,100,.2)),hc:new ke(new li(124,124,124,.3))},E("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));oe("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},E("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));oe("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},E("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));oe("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new ke(new li(10,50,100,.5)),hc:"#525252"},E("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));oe("breadcrumb.foreground",{light:Tt(ot,.8),dark:Tt(ot,.8),hc:Tt(ot,.8)},E("breadcrumbsFocusForeground","Color of focused breadcrumb items."));oe("breadcrumb.background",{light:go,dark:go,hc:go},E("breadcrumbsBackground","Background color of breadcrumb items."));oe("breadcrumb.focusForeground",{light:bm(ot,.2),dark:$u(ot,.1),hc:$u(ot,.1)},E("breadcrumbsFocusForeground","Color of focused breadcrumb items."));oe("breadcrumb.activeSelectionForeground",{light:bm(ot,.2),dark:$u(ot,.1),hc:$u(ot,.1)},E("breadcrumbsSelectedForegound","Color of selected breadcrumb items."));oe("breadcrumbPicker.background",{light:Qr,dark:Qr,hc:Qr},E("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const iH=.5,rP=ke.fromHex("#40C8AE").transparent(iH),oP=ke.fromHex("#40A6FF").transparent(iH),lP=ke.fromHex("#606060").transparent(.4),Lc=.4,Hg=1,gA=oe("merge.currentHeaderBackground",{dark:rP,light:rP,hc:null},E("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);oe("merge.currentContentBackground",{dark:Tt(gA,Lc),light:Tt(gA,Lc),hc:Tt(gA,Lc)},E("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const mA=oe("merge.incomingHeaderBackground",{dark:oP,light:oP,hc:null},E("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);oe("merge.incomingContentBackground",{dark:Tt(mA,Lc),light:Tt(mA,Lc),hc:Tt(mA,Lc)},E("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const pA=oe("merge.commonHeaderBackground",{dark:lP,light:lP,hc:null},E("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);oe("merge.commonContentBackground",{dark:Tt(pA,Lc),light:Tt(pA,Lc),hc:Tt(pA,Lc)},E("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const BI=oe("merge.border",{dark:null,light:null,hc:"#C3DF6F"},E("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));oe("editorOverviewRuler.currentContentForeground",{dark:Tt(gA,Hg),light:Tt(gA,Hg),hc:BI},E("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));oe("editorOverviewRuler.incomingContentForeground",{dark:Tt(mA,Hg),light:Tt(mA,Hg),hc:BI},E("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));oe("editorOverviewRuler.commonContentForeground",{dark:Tt(pA,Hg),light:Tt(pA,Hg),hc:BI},E("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const WI=oe("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},E("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),nH=oe("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},E("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),AA=oe("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},E("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),$w=oe("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},E("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),aP=oe("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},E("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),ihe=oe("minimap.errorHighlight",{dark:new ke(new li(255,18,18,.7)),light:new ke(new li(255,18,18,.7)),hc:new ke(new li(255,50,50,1))},E("minimapError","Minimap marker color for errors.")),nhe=oe("minimap.warningHighlight",{dark:Aa,light:Aa,hc:Yw},E("overviewRuleWarning","Minimap marker color for warnings.")),she=oe("minimap.background",{dark:null,light:null,hc:null},E("minimapBackground","Minimap background color.")),rhe=oe("minimap.foregroundOpacity",{dark:ke.fromHex("#000f"),light:ke.fromHex("#000f"),hc:ke.fromHex("#000f")},E("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),ohe=oe("minimapSlider.background",{light:Tt(gg,.5),dark:Tt(gg,.5),hc:Tt(gg,.5)},E("minimapSliderBackground","Minimap slider background color.")),lhe=oe("minimapSlider.hoverBackground",{light:Tt(mg,.5),dark:Tt(mg,.5),hc:Tt(mg,.5)},E("minimapSliderHoverBackground","Minimap slider background color when hovering.")),ahe=oe("minimapSlider.activeBackground",{light:Tt(pg,.5),dark:Tt(pg,.5),hc:Tt(pg,.5)},E("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),che=oe("problemsErrorIcon.foreground",{dark:Eu,light:Eu,hc:Eu},E("problemsErrorIconForeground","The color used for the problems error icon.")),uhe=oe("problemsWarningIcon.foreground",{dark:Aa,light:Aa,hc:Aa},E("problemsWarningIconForeground","The color used for the problems warning icon.")),hhe=oe("problemsInfoIcon.foreground",{dark:hl,light:hl,hc:hl},E("problemsInfoIconForeground","The color used for the problems info icon."));oe("charts.foreground",{dark:ot,light:ot,hc:ot},E("chartsForeground","The foreground color used in charts."));oe("charts.lines",{dark:Tt(ot,.5),light:Tt(ot,.5),hc:Tt(ot,.5)},E("chartsLines","The color used for horizontal lines in charts."));oe("charts.red",{dark:Eu,light:Eu,hc:Eu},E("chartsRed","The red color used in chart visualizations."));oe("charts.blue",{dark:hl,light:hl,hc:hl},E("chartsBlue","The blue color used in chart visualizations."));oe("charts.yellow",{dark:Aa,light:Aa,hc:Aa},E("chartsYellow","The yellow color used in chart visualizations."));oe("charts.orange",{dark:AA,light:AA,hc:AA},E("chartsOrange","The orange color used in chart visualizations."));oe("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},E("chartsGreen","The green color used in chart visualizations."));oe("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},E("chartsPurple","The purple color used in chart visualizations."));function dhe(d,t){var s,l,u;switch(d.op){case 0:return(s=ec(d.value,t))===null||s===void 0?void 0:s.darken(d.factor);case 1:return(l=ec(d.value,t))===null||l===void 0?void 0:l.lighten(d.factor);case 2:return(u=ec(d.value,t))===null||u===void 0?void 0:u.transparent(d.factor);case 3:for(const h of d.values){const f=ec(h,t);if(f)return f}return;case 5:return ec(t.defines(d.if)?d.then:d.else,t);case 4:{const h=ec(d.value,t);if(!h)return;const f=ec(d.background,t);return f?h.isDarkerThan(f)?ke.getLighterColor(h,f,d.factor).transparent(d.transparency):ke.getDarkerColor(h,f,d.factor).transparent(d.transparency):h.transparent(d.factor*d.transparency)}default:throw BD()}}function bm(d,t){return{op:0,value:d,factor:t}}function $u(d,t){return{op:1,value:d,factor:t}}function Tt(d,t){return{op:2,value:d,factor:t}}function t4(...d){return{op:3,values:d}}function fhe(d,t,s){return{op:5,if:d,then:t,else:s}}function cP(d,t,s,l){return{op:4,value:d,background:t,factor:s,transparency:l}}function ec(d,t){if(d!==null){if(typeof d=="string")return d[0]==="#"?ke.fromHex(d):t.getColor(d);if(d instanceof ke)return d;if(typeof d=="object")return dhe(d,t)}}const sH="vscode://schemas/workbench-colors";let rH=ts.as(Gw.JSONContribution);rH.registerSchema(sH,jw.getColorSchema());const uP=new zi(()=>rH.notifySchemaChanged(sH),200);jw.onDidChangeSchema(()=>{uP.isScheduled()||uP.schedule()});class VI{constructor(t,s){this.x=t,this.y=s,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new oH(this.x-kc.scrollX,this.y-kc.scrollY)}}class oH{constructor(t,s){this.clientX=t,this.clientY=s,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new VI(this.clientX+kc.scrollX,this.clientY+kc.scrollY)}}class ghe{constructor(t,s,l,u){this.x=t,this.y=s,this.width=l,this.height=u,this._editorPagePositionBrand=void 0}}class mhe{constructor(t,s){this.x=t,this.y=s,this._positionRelativeToEditorBrand=void 0}}function lH(d){const t=Js(d);return new ghe(t.left,t.top,t.width,t.height)}function aH(d,t,s){const l=t.width/d.offsetWidth,u=t.height/d.offsetHeight,h=(s.x-t.x)/l,f=(s.y-t.y)/u;return new mhe(h,f)}class jd extends El{constructor(t,s){super(t),this._editorMouseEventBrand=void 0,this.pos=new VI(this.posx,this.posy),this.editorPos=lH(s),this.relativePos=aH(s,this.editorPos,this.pos)}}class phe{constructor(t){this._editorViewDomNode=t}_create(t){return new jd(t,this._editorViewDomNode)}onContextMenu(t,s){return ze(t,"contextmenu",l=>{s(this._create(l))})}onMouseUp(t,s){return ze(t,"mouseup",l=>{s(this._create(l))})}onMouseDown(t,s){return ze(t,"mousedown",l=>{s(this._create(l))})}onMouseLeave(t,s){return vI(t,l=>{s(this._create(l))})}onMouseMoveThrottled(t,s,l,u){return kI(t,"mousemove",s,(f,m)=>l(f,this._create(m)),u)}}class Ahe{constructor(t){this._editorViewDomNode=t}_create(t){return new jd(t,this._editorViewDomNode)}onPointerUp(t,s){return ze(t,"pointerup",l=>{s(this._create(l))})}onPointerDown(t,s){return ze(t,"pointerdown",l=>{s(this._create(l))})}onPointerLeave(t,s){return q0e(t,l=>{s(this._create(l))})}onPointerMoveThrottled(t,s,l,u){return kI(t,"pointermove",s,(f,m)=>l(f,this._create(m)),u)}}class _he extends Se{constructor(t){super(),this._editorViewDomNode=t,this._globalMouseMoveMonitor=this._register(new If),this._keydownListener=null}startMonitoring(t,s,l,u,h){this._keydownListener=zs(document,"keydown",m=>{m.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,m.browserEvent)},!0);const f=(m,A)=>l(m,new jd(A,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(t,s,f,u,m=>{this._keydownListener.dispose(),h(m)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class g_{constructor(t){this._editor=t,this._instanceId=++g_._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new zi(()=>this.garbageCollect(),1e3)}createClassNameRef(t){const s=this.getOrCreateRule(t);return s.increaseRefCount(),{className:s.className,dispose:()=>{s.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(t){const s=this.computeUniqueKey(t);let l=this._rules.get(s);if(!l){const u=this._counter++;l=new Che(s,`dyn-rule-${this._instanceId}-${u}`,JA(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,t),this._rules.set(s,l)}return l}computeUniqueKey(t){return JSON.stringify(t)}garbageCollect(){for(const t of this._rules.values())t.hasReferences()||(this._rules.delete(t.key),t.dispose())}}g_._idPool=0;class Che{constructor(t,s,l,u){this.key=t,this.className=s,this.properties=u,this._referenceCount=0,this._styleElement=Vl(l),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(t,s){let l=`.${t} {`;for(const u in s){const h=s[u];let f;typeof h=="object"?f=`var(${HV(h.id)})`:f=h,l+=`
	${whe(u)}: ${f};`}return l+=`
}`,l}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function whe(d){return d.replace(/(^[A-Z])/,([t])=>t.toLowerCase()).replace(/([A-Z])/g,([t])=>`-${t.toLowerCase()}`)}class m_ extends Se{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let s=!1;for(let l=0,u=t.length;l<u;l++){const h=t[l];switch(h.type){case 0:this.onCompositionStart(h)&&(s=!0);break;case 1:this.onCompositionEnd(h)&&(s=!0);break;case 2:this.onConfigurationChanged(h)&&(s=!0);break;case 3:this.onCursorStateChanged(h)&&(s=!0);break;case 4:this.onDecorationsChanged(h)&&(s=!0);break;case 5:this.onFlushed(h)&&(s=!0);break;case 6:this.onFocusChanged(h)&&(s=!0);break;case 7:this.onLanguageConfigurationChanged(h)&&(s=!0);break;case 8:this.onLineMappingChanged(h)&&(s=!0);break;case 9:this.onLinesChanged(h)&&(s=!0);break;case 10:this.onLinesDeleted(h)&&(s=!0);break;case 11:this.onLinesInserted(h)&&(s=!0);break;case 12:this.onRevealRangeRequest(h)&&(s=!0);break;case 13:this.onScrollChanged(h)&&(s=!0);break;case 15:this.onTokensChanged(h)&&(s=!0);break;case 14:this.onThemeChanged(h)&&(s=!0);break;case 16:this.onTokensColorsChanged(h)&&(s=!0);break;case 17:this.onZonesChanged(h)&&(s=!0);break;default:console.info("View received unknown event: "),console.info(h)}}s&&(this._shouldRender=!0)}}class zl extends m_{constructor(t){super(),this._context=t,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class A0{static write(t,s){t.setAttribute("data-mprt",String(s))}static read(t){const s=t.getAttribute("data-mprt");return s===null?0:parseInt(s,10)}static collect(t,s){const l=[];let u=0;for(;t&&t!==document.body&&t!==s;)t.nodeType===t.ELEMENT_NODE&&(l[u++]=this.read(t)),t=t.parentElement;const h=new Uint8Array(u);for(let f=0;f<u;f++)h[f]=l[u-f-1];return h}}class vhe{constructor(t,s){this._restrictedRenderingContextBrand=void 0,this._viewLayout=t,this.viewportData=s,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const l=this._viewLayout.getCurrentViewport();this.scrollTop=l.top,this.scrollLeft=l.left,this.viewportWidth=l.width,this.viewportHeight=l.height}getScrolledTopFromAbsoluteTop(t){return t-this.scrollTop}getVerticalOffsetForLineNumber(t){return this._viewLayout.getVerticalOffsetForLineNumber(t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class khe extends vhe{constructor(t,s,l){super(t,s),this._renderingContextBrand=void 0,this._viewLines=l}linesVisibleRangesForRange(t,s){return this._viewLines.linesVisibleRangesForRange(t,s)}visibleRangeForPosition(t){return this._viewLines.visibleRangeForPosition(t)}}class bhe{constructor(t,s,l){this.outsideRenderedLine=t,this.lineNumber=s,this.ranges=l}}class Kw{constructor(t,s){this._horizontalRangeBrand=void 0,this.left=Math.round(t),this.width=Math.round(s)}static from(t){const s=new Array(t.length);for(let l=0,u=t.length;l<u;l++){const h=t[l];s[l]=new Kw(h.left,h.width)}return s}toString(){return`[${this.left},${this.width}]`}}class _g{constructor(t,s){this._floatHorizontalRangeBrand=void 0,this.left=t,this.width=s}toString(){return`[${this.left},${this.width}]`}static compare(t,s){return t.left-s.left}}class She{constructor(t,s){this.outsideRenderedLine=t,this.originalLeft=s,this.left=Math.round(this.originalLeft)}}class yhe{constructor(t,s){this.outsideRenderedLine=t,this.ranges=s}}class Sb{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(t,s){t.selectNodeContents(s)}static _readClientRects(t,s,l,u,h){const f=this._createRange();try{return f.setStart(t,s),f.setEnd(l,u),f.getClientRects()}catch{return null}finally{this._detachRange(f,h)}}static _mergeAdjacentRanges(t){if(t.length===1)return t;t.sort(_g.compare);const s=[];let l=0,u=t[0];for(let h=1,f=t.length;h<f;h++){const m=t[h];u.left+u.width+.9>=m.left?u.width=Math.max(u.width,m.left+m.width-u.left):(s[l++]=u,u=m)}return s[l++]=u,s}static _createHorizontalRangesFromClientRects(t,s,l){if(!t||t.length===0)return null;const u=[];for(let h=0,f=t.length;h<f;h++){const m=t[h];u[h]=new _g(Math.max(0,(m.left-s)/l),m.width/l)}return this._mergeAdjacentRanges(u)}static readHorizontalRanges(t,s,l,u,h,f,m,A){const w=t.children.length-1;if(0>w)return null;if(s=Math.min(w,Math.max(0,s)),u=Math.min(w,Math.max(0,u)),s===u&&l===h&&l===0&&!t.children[s].firstChild){const N=t.children[s].getClientRects();return this._createHorizontalRangesFromClientRects(N,f,m)}s!==u&&u>0&&h===0&&(u--,h=1073741824);let k=t.children[s].firstChild,D=t.children[u].firstChild;if((!k||!D)&&(!k&&l===0&&s>0&&(k=t.children[s-1].firstChild,l=1073741824),!D&&h===0&&u>0&&(D=t.children[u-1].firstChild,h=1073741824)),!k||!D)return null;l=Math.min(k.textContent.length,Math.max(0,l)),h=Math.min(D.textContent.length,Math.max(0,h));const I=this._readClientRects(k,l,D,h,A);return this._createHorizontalRangesFromClientRects(I,f,m)}}const Lhe=function(){return Xa?!0:!(Cr||dl||va)}();let Cg=!0;class hP{constructor(t,s){this._domNode=t,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=s}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const t=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class dP{constructor(t,s){this.themeType=s;const l=t.options,u=l.get(44);this.renderWhitespace=l.get(88),this.renderControlCharacters=l.get(83),this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.useMonospaceOptimizations=u.isMonospace&&!l.get(29),this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.lineHeight=l.get(59),this.stopRenderingLineAfter=l.get(105),this.fontLigatures=l.get(45)}equals(t){return this.themeType===t.themeType&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.useMonospaceOptimizations===t.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.fontLigatures===t.fontLigatures}}class t0{constructor(t){this._options=t,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(t){if(this._renderedViewLine)this._renderedViewLine.domNode=_i(t);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(t){this._isMaybeInvalid=!0,this._options=t}onSelectionChanged(){return this._options.themeType===pa.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(t,s,l,u){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const h=l.getViewLineRenderingData(t),f=this._options,m=ll.filter(h.inlineDecorations,t,h.minColumn,h.maxColumn);let A=null;if(f.themeType===pa.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const D=l.selections;for(const I of D){if(I.endLineNumber<t||I.startLineNumber>t)continue;const N=I.startLineNumber===t?I.startColumn:h.minColumn,R=I.endLineNumber===t?I.endColumn:h.maxColumn;N<R&&(f.themeType===pa.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?m.push(new ll(N,R,"inline-selected-text",0)):(A||(A=[]),A.push(new C0e(N-1,R-1))))}}const C=new yf(f.useMonospaceOptimizations,f.canUseHalfwidthRightwardsArrow,h.content,h.continuesWithWrappedLine,h.isBasicASCII,h.containsRTL,h.minColumn-1,h.tokens,m,h.tabSize,h.startVisibleColumn,f.spaceWidth,f.middotWidth,f.wsmiddotWidth,f.stopRenderingLineAfter,f.renderWhitespace,f.renderControlCharacters,f.fontLigatures!==il.OFF,A);if(this._renderedViewLine&&this._renderedViewLine.input.equals(C))return!1;u.appendASCIIString('<div style="top:'),u.appendASCIIString(String(s)),u.appendASCIIString("px;height:"),u.appendASCIIString(String(this._options.lineHeight)),u.appendASCIIString('px;" class="'),u.appendASCIIString(t0.CLASS_NAME),u.appendASCIIString('">');const w=Nw(C,u);u.appendASCIIString("</div>");let k=null;return Cg&&Lhe&&h.isBasicASCII&&f.useMonospaceOptimizations&&w.containsForeignElements===0&&h.content.length<300&&C.lineTokens.getCount()<100&&(k=new V8(this._renderedViewLine?this._renderedViewLine.domNode:null,C,w.characterMapping)),k||(k=uH(this._renderedViewLine?this._renderedViewLine.domNode:null,C,w.characterMapping,w.containsRTL,w.containsForeignElements)),this._renderedViewLine=k,!0}layoutLine(t,s){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(s),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof V8:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof V8?this._renderedViewLine.monospaceAssumptionsAreValid():Cg}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof V8&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(t,s,l,u){if(!this._renderedViewLine)return null;s=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,s)),l=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,l));const h=this._renderedViewLine.input.stopRenderingLineAfter;let f=!1;h!==-1&&s>h+1&&l>h+1&&(f=!0),h!==-1&&s>h+1&&(s=h+1),h!==-1&&l>h+1&&(l=h+1);const m=this._renderedViewLine.getVisibleRangesForRange(t,s,l,u);return m&&m.length>0?new yhe(f,m):null}getColumnOfNodeOffset(t,s,l){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(t,s,l):1}}t0.CLASS_NAME="view-line";class V8{constructor(t,s,l){this.domNode=t,this.input=s,this._characterMapping=l,this._charWidth=s.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Cg;const t=this.getWidth(),s=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(t-s)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Cg=!1),Cg}toSlowRenderedLine(){return uH(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(t,s,l,u){const h=this._getCharPosition(s),f=this._getCharPosition(l);return[new _g(h,f-h)]}_getCharPosition(t){const s=this._characterMapping.getAbsoluteOffset(t);return this._charWidth*s}getColumnOfNodeOffset(t,s,l){const u=s.textContent.length;let h=-1;for(;s;)s=s.previousSibling,h++;return this._characterMapping.getColumn(new pI(h,l),u)}}class cH{constructor(t,s,l,u,h){if(this.domNode=t,this.input=s,this._characterMapping=l,this._isWhitespaceOnly=/^\s*$/.test(s.lineContent),this._containsForeignElements=h,this._cachedWidth=-1,this._pixelOffsetCache=null,!u||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let f=0,m=this._characterMapping.length;f<=m;f++)this._pixelOffsetCache[f]=-1}}_getReadingTarget(t){return t.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(t,s,l,u){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const h=this._readPixelOffset(this.domNode,t,s,u);if(h===-1)return null;const f=this._readPixelOffset(this.domNode,t,l,u);return f===-1?null:[new _g(h,f-h)]}return this._readVisibleRangesForRange(this.domNode,t,s,l,u)}_readVisibleRangesForRange(t,s,l,u,h){if(l===u){const f=this._readPixelOffset(t,s,l,h);return f===-1?null:[new _g(f,0)]}else return this._readRawVisibleRangesForRange(t,l,u,h)}_readPixelOffset(t,s,l,u){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const h=this._getReadingTarget(t);return h.firstChild?h.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const h=this._pixelOffsetCache[l];if(h!==-1)return h;const f=this._actualReadPixelOffset(t,s,l,u);return this._pixelOffsetCache[l]=f,f}return this._actualReadPixelOffset(t,s,l,u)}_actualReadPixelOffset(t,s,l,u){if(this._characterMapping.length===0){const A=Sb.readHorizontalRanges(this._getReadingTarget(t),0,0,0,0,u.clientRectDeltaLeft,u.clientRectScale,u.endNode);return!A||A.length===0?-1:A[0].left}if(l===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const h=this._characterMapping.getDomPosition(l),f=Sb.readHorizontalRanges(this._getReadingTarget(t),h.partIndex,h.charIndex,h.partIndex,h.charIndex,u.clientRectDeltaLeft,u.clientRectScale,u.endNode);if(!f||f.length===0)return-1;const m=f[0].left;if(this.input.isBasicASCII){const A=this._characterMapping.getAbsoluteOffset(l),C=Math.round(this.input.spaceWidth*A);if(Math.abs(C-m)<=1)return C}return m}_readRawVisibleRangesForRange(t,s,l,u){if(s===1&&l===this._characterMapping.length)return[new _g(0,this.getWidth())];const h=this._characterMapping.getDomPosition(s),f=this._characterMapping.getDomPosition(l);return Sb.readHorizontalRanges(this._getReadingTarget(t),h.partIndex,h.charIndex,f.partIndex,f.charIndex,u.clientRectDeltaLeft,u.clientRectScale,u.endNode)}getColumnOfNodeOffset(t,s,l){const u=s.textContent.length;let h=-1;for(;s;)s=s.previousSibling,h++;return this._characterMapping.getColumn(new pI(h,l),u)}}class Dhe extends cH{_readVisibleRangesForRange(t,s,l,u,h){const f=super._readVisibleRangesForRange(t,s,l,u,h);if(!f||f.length===0||l===u||l===1&&u===this._characterMapping.length)return f;if(!this.input.containsRTL){const m=this._readPixelOffset(t,s,u,h);if(m!==-1){const A=f[f.length-1];A.left<m&&(A.width=m-A.left)}}return f}}const uH=function(){return Lu?Ihe:xhe}();function Ihe(d,t,s,l,u){return new Dhe(d,t,s,l,u)}function xhe(d,t,s,l,u){return new cH(d,t,s,l,u)}class _s{static _nextVisibleColumn(t,s,l){return t===9?_s.nextRenderTabStop(s,l):Uu(t)||eI(t)?s+2:s+1}static visibleColumnFromColumn(t,s,l){const u=Math.min(s-1,t.length),h=t.substring(0,u),f=new Z3(h);let m=0;for(;!f.eol();){const A=j3(h,u,f.offset);f.nextGraphemeLength(),m=this._nextVisibleColumn(A,m,l)}return m}static columnFromVisibleColumn(t,s,l){if(s<=0)return 1;const u=t.length,h=new Z3(t);let f=0,m=1;for(;!h.eol();){const A=j3(t,u,h.offset);h.nextGraphemeLength();const C=this._nextVisibleColumn(A,f,l),w=h.offset+1;if(C>=s){const k=s-f;return C-s<k?w:m}f=C,m=w}return u+1}static nextRenderTabStop(t,s){return t+s-t%s}static nextIndentTabStop(t,s){return t+s-t%s}static prevRenderTabStop(t,s){return Math.max(0,t-1-(t-1)%s)}static prevIndentTabStop(t,s){return Math.max(0,t-1-(t-1)%s)}}class i4{static whitespaceVisibleColumn(t,s,l){const u=t.length;let h=0,f=-1,m=-1;for(let A=0;A<u;A++){if(A===s)return[f,m,h];switch(h%l===0&&(f=A,m=h),t.charCodeAt(A)){case 32:h+=1;break;case 9:h=_s.nextRenderTabStop(h,l);break;default:return[-1,-1,-1]}}return s===u?[f,m,h]:[-1,-1,-1]}static atomicPosition(t,s,l,u){const h=t.length,[f,m,A]=i4.whitespaceVisibleColumn(t,s,l);if(A===-1)return-1;let C;switch(u){case 0:C=!0;break;case 1:C=!1;break;case 2:if(A%l===0)return s;C=A%l<=l/2;break}if(C){if(f===-1)return-1;let D=m;for(let I=f;I<h;++I){if(D===m+l)return f;switch(t.charCodeAt(I)){case 32:D+=1;break;case 9:D=_s.nextRenderTabStop(D,l);break;default:return-1}}return D===m+l?f:-1}const w=_s.nextRenderTabStop(A,l);let k=A;for(let D=s;D<h;D++){if(k===w)return D;switch(t.charCodeAt(D)){case 32:k+=1;break;case 9:k=_s.nextRenderTabStop(k,l);break;default:return-1}}return k===w?h:-1}}class uu{constructor(t=null){this.hitTarget=t,this.type=0}}class Wy{constructor(t,s,l){this.position=t,this.spanNode=s,this.injectedText=l,this.type=1}}var sd;(function(d){function t(s,l,u){const h=s.getPositionFromDOMInfo(l,u);return h?new Wy(h,l,null):new uu(l)}d.createFromDOMInfo=t})(sd||(sd={}));class Ehe{constructor(t,s){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=s}}class oo{static _deduceRage(t,s=null){return!s&&t?new $(t.lineNumber,t.column,t.lineNumber,t.column):s??null}static createUnknown(t,s,l){return{type:0,element:t,mouseColumn:s,position:l,range:this._deduceRage(l)}}static createTextarea(t,s){return{type:1,element:t,mouseColumn:s,position:null,range:null}}static createMargin(t,s,l,u,h,f){return{type:t,element:s,mouseColumn:l,position:u,range:h,detail:f}}static createViewZone(t,s,l,u,h){return{type:t,element:s,mouseColumn:l,position:u,range:this._deduceRage(u),detail:h}}static createContentText(t,s,l,u,h){return{type:6,element:t,mouseColumn:s,position:l,range:this._deduceRage(l,u),detail:h}}static createContentEmpty(t,s,l,u){return{type:7,element:t,mouseColumn:s,position:l,range:this._deduceRage(l),detail:u}}static createContentWidget(t,s,l){return{type:9,element:t,mouseColumn:s,position:null,range:null,detail:l}}static createScrollbar(t,s,l){return{type:11,element:t,mouseColumn:s,position:l,range:this._deduceRage(l)}}static createOverlayWidget(t,s,l){return{type:12,element:t,mouseColumn:s,position:null,range:null,detail:l}}static createOutsideEditor(t,s){return{type:13,element:null,mouseColumn:t,position:s,range:this._deduceRage(s)}}static _typeToString(t){return t===1?"TEXTAREA":t===2?"GUTTER_GLYPH_MARGIN":t===3?"GUTTER_LINE_NUMBERS":t===4?"GUTTER_LINE_DECORATIONS":t===5?"GUTTER_VIEW_ZONE":t===6?"CONTENT_TEXT":t===7?"CONTENT_EMPTY":t===8?"CONTENT_VIEW_ZONE":t===9?"CONTENT_WIDGET":t===10?"OVERVIEW_RULER":t===11?"SCROLLBAR":t===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)}}class oa{static isTextArea(t){return t.length===2&&t[0]===3&&t[1]===6}static isChildOfViewLines(t){return t.length>=4&&t[0]===3&&t[3]===7}static isStrictChildOfViewLines(t){return t.length>4&&t[0]===3&&t[3]===7}static isChildOfScrollableElement(t){return t.length>=2&&t[0]===3&&t[1]===5}static isChildOfMinimap(t){return t.length>=2&&t[0]===3&&t[1]===8}static isChildOfContentWidgets(t){return t.length>=4&&t[0]===3&&t[3]===1}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&t[0]===2}static isChildOfOverlayWidgets(t){return t.length>=2&&t[0]===3&&t[1]===4}}class Ug{constructor(t,s,l){this.viewModel=t.viewModel;const u=t.configuration.options;this.layoutInfo=u.get(131),this.viewDomNode=s.viewDomNode,this.lineHeight=u.get(59),this.stickyTabStops=u.get(104),this.typicalHalfwidthCharacterWidth=u.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=l,this._context=t,this._viewHelper=s}getZoneAtCoord(t){return Ug.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,s){const l=t.viewLayout.getWhitespaceAtVerticalOffset(s);if(l){const u=l.verticalOffset+l.height/2,h=t.viewModel.getLineCount();let f=null,m,A=null;return l.afterLineNumber!==h&&(A=new me(l.afterLineNumber+1,1)),l.afterLineNumber>0&&(f=new me(l.afterLineNumber,t.viewModel.getLineMaxColumn(l.afterLineNumber))),A===null?m=f:f===null?m=A:s<u?m=f:m=A,{viewZoneId:l.id,afterLineNumber:l.afterLineNumber,positionBefore:f,positionAfter:A,position:m}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const u=this._context.viewModel.getLineCount(),h=this._context.viewModel.getLineMaxColumn(u);return{range:new $(u,h,u,h),isAfterLines:!0}}const s=this._context.viewLayout.getLineNumberAtVerticalOffset(t),l=this._context.viewModel.getLineMaxColumn(s);return{range:new $(s,1,s,l),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,s){return Ug._findAttribute(t,s,this._viewHelper.viewDomNode)}static _findAttribute(t,s,l){for(;t&&t!==document.body;){if(t.hasAttribute&&t.hasAttribute(s))return t.getAttribute(s);if(t===l)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,s){return this._viewHelper.visibleRangeForPosition(t,s)}getPositionFromDOMInfo(t,s){return this._viewHelper.getPositionFromDOMInfo(t,s)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Nhe{constructor(t,s,l,u){this.editorPos=s,this.pos=l,this.relativePos=u,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,hr._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}class HI extends Nhe{constructor(t,s,l,u,h){super(t,s,l,u),this._ctx=t,h?(this.target=h,this.targetPath=A0.collect(h,t.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(t=null){return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?_s.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(t=null){return oo.createUnknown(this.target,this._getMouseColumn(t),t)}fulfillTextarea(){return oo.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(t,s,l,u){return oo.createMargin(t,this.target,this._getMouseColumn(s),s,l,u)}fulfillViewZone(t,s,l){return oo.createViewZone(t,this.target,this._getMouseColumn(s),s,l)}fulfillContentText(t,s,l){return oo.createContentText(this.target,this._getMouseColumn(t),t,s,l)}fulfillContentEmpty(t,s){return oo.createContentEmpty(this.target,this._getMouseColumn(t),t,s)}fulfillContentWidget(t){return oo.createContentWidget(this.target,this._getMouseColumn(),t)}fulfillScrollbar(t){return oo.createScrollbar(this.target,this._getMouseColumn(t),t)}fulfillOverlayWidget(t){return oo.createOverlayWidget(this.target,this._getMouseColumn(),t)}withTarget(t){return new HI(this._ctx,this.editorPos,this.pos,this.relativePos,t)}}const fP={isAfterLines:!0};function yb(d){return{isAfterLines:!1,horizontalDistanceToText:d}}class hr{constructor(t,s){this._context=t,this._viewHelper=s}mouseTargetIsWidget(t){const s=t.target,l=A0.collect(s,this._viewHelper.viewDomNode);return!!(oa.isChildOfContentWidgets(l)||oa.isChildOfOverflowingContentWidgets(l)||oa.isChildOfOverlayWidgets(l))}createMouseTarget(t,s,l,u,h){const f=new Ug(this._context,this._viewHelper,t),m=new HI(f,s,l,u,h);try{return hr._createMouseTarget(f,m,!1)}catch{return m.fulfillUnknown()}}static _createMouseTarget(t,s,l){if(s.target===null){if(l)return s.fulfillUnknown();const f=hr._doHitTest(t,s);return f.type===1?hr.createMouseTargetFromHitTestPosition(t,s,f.spanNode,f.position,f.injectedText):this._createMouseTarget(t,s.withTarget(f.hitTarget),!0)}const u=s;let h=null;return h=h||hr._hitTestContentWidget(t,u),h=h||hr._hitTestOverlayWidget(t,u),h=h||hr._hitTestMinimap(t,u),h=h||hr._hitTestScrollbarSlider(t,u),h=h||hr._hitTestViewZone(t,u),h=h||hr._hitTestMargin(t,u),h=h||hr._hitTestViewCursor(t,u),h=h||hr._hitTestTextArea(t,u),h=h||hr._hitTestViewLines(t,u,l),h=h||hr._hitTestScrollbar(t,u),h||s.fulfillUnknown()}static _hitTestContentWidget(t,s){if(oa.isChildOfContentWidgets(s.targetPath)||oa.isChildOfOverflowingContentWidgets(s.targetPath)){const l=t.findAttribute(s.target,"widgetId");return l?s.fulfillContentWidget(l):s.fulfillUnknown()}return null}static _hitTestOverlayWidget(t,s){if(oa.isChildOfOverlayWidgets(s.targetPath)){const l=t.findAttribute(s.target,"widgetId");return l?s.fulfillOverlayWidget(l):s.fulfillUnknown()}return null}static _hitTestViewCursor(t,s){if(s.target){const l=t.lastRenderData.lastViewCursorsRenderData;for(const u of l)if(s.target===u.domNode)return s.fulfillContentText(u.position,null,{mightBeForeignElement:!1,injectedText:null})}if(s.isInContentArea){const l=t.lastRenderData.lastViewCursorsRenderData,u=s.mouseContentHorizontalOffset,h=s.mouseVerticalOffset;for(const f of l){if(u<f.contentLeft||u>f.contentLeft+f.width)continue;const m=t.getVerticalOffsetForLineNumber(f.position.lineNumber);if(m<=h&&h<=m+f.height)return s.fulfillContentText(f.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(t,s){const l=t.getZoneAtCoord(s.mouseVerticalOffset);if(l){const u=s.isInContentArea?8:5;return s.fulfillViewZone(u,l.position,l)}return null}static _hitTestTextArea(t,s){return oa.isTextArea(s.targetPath)?t.lastRenderData.lastTextareaPosition?s.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):s.fulfillTextarea():null}static _hitTestMargin(t,s){if(s.isInMarginArea){const l=t.getFullLineRangeAtCoord(s.mouseVerticalOffset),u=l.range.getStartPosition();let h=Math.abs(s.relativePos.x);const f={isAfterLines:l.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:h};return h-=t.layoutInfo.glyphMarginLeft,h<=t.layoutInfo.glyphMarginWidth?s.fulfillMargin(2,u,l.range,f):(h-=t.layoutInfo.glyphMarginWidth,h<=t.layoutInfo.lineNumbersWidth?s.fulfillMargin(3,u,l.range,f):(h-=t.layoutInfo.lineNumbersWidth,s.fulfillMargin(4,u,l.range,f)))}return null}static _hitTestViewLines(t,s,l){if(!oa.isChildOfViewLines(s.targetPath))return null;if(t.isInTopPadding(s.mouseVerticalOffset))return s.fulfillContentEmpty(new me(1,1),fP);if(t.isAfterLines(s.mouseVerticalOffset)||t.isInBottomPadding(s.mouseVerticalOffset)){const h=t.viewModel.getLineCount(),f=t.viewModel.getLineMaxColumn(h);return s.fulfillContentEmpty(new me(h,f),fP)}if(l){if(oa.isStrictChildOfViewLines(s.targetPath)){const h=t.getLineNumberAtVerticalOffset(s.mouseVerticalOffset);if(t.viewModel.getLineLength(h)===0){const m=t.getLineWidth(h),A=yb(s.mouseContentHorizontalOffset-m);return s.fulfillContentEmpty(new me(h,1),A)}const f=t.getLineWidth(h);if(s.mouseContentHorizontalOffset>=f){const m=yb(s.mouseContentHorizontalOffset-f),A=new me(h,t.viewModel.getLineMaxColumn(h));return s.fulfillContentEmpty(A,m)}}return s.fulfillUnknown()}const u=hr._doHitTest(t,s);return u.type===1?hr.createMouseTargetFromHitTestPosition(t,s,u.spanNode,u.position,u.injectedText):this._createMouseTarget(t,s.withTarget(u.hitTarget),!0)}static _hitTestMinimap(t,s){if(oa.isChildOfMinimap(s.targetPath)){const l=t.getLineNumberAtVerticalOffset(s.mouseVerticalOffset),u=t.viewModel.getLineMaxColumn(l);return s.fulfillScrollbar(new me(l,u))}return null}static _hitTestScrollbarSlider(t,s){if(oa.isChildOfScrollableElement(s.targetPath)&&s.target&&s.target.nodeType===1){const l=s.target.className;if(l&&/\b(slider|scrollbar)\b/.test(l)){const u=t.getLineNumberAtVerticalOffset(s.mouseVerticalOffset),h=t.viewModel.getLineMaxColumn(u);return s.fulfillScrollbar(new me(u,h))}}return null}static _hitTestScrollbar(t,s){if(oa.isChildOfScrollableElement(s.targetPath)){const l=t.getLineNumberAtVerticalOffset(s.mouseVerticalOffset),u=t.viewModel.getLineMaxColumn(l);return s.fulfillScrollbar(new me(l,u))}return null}getMouseColumn(t){const s=this._context.configuration.options,l=s.get(131),u=this._context.viewLayout.getCurrentScrollLeft()+t.x-l.contentLeft;return hr._getMouseColumn(u,s.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,s){return t<0?1:Math.round(t/s)+1}static createMouseTargetFromHitTestPosition(t,s,l,u,h){const f=u.lineNumber,m=u.column,A=t.getLineWidth(f);if(s.mouseContentHorizontalOffset>A){const O=yb(s.mouseContentHorizontalOffset-A);return s.fulfillContentEmpty(u,O)}const C=t.visibleRangeForPosition(f,m);if(!C)return s.fulfillUnknown(u);const w=C.left;if(s.mouseContentHorizontalOffset===w)return s.fulfillContentText(u,null,{mightBeForeignElement:!!h,injectedText:h});const k=[];if(k.push({offset:C.left,column:m}),m>1){const O=t.visibleRangeForPosition(f,m-1);O&&k.push({offset:O.left,column:m-1})}const D=t.viewModel.getLineMaxColumn(f);if(m<D){const O=t.visibleRangeForPosition(f,m+1);O&&k.push({offset:O.left,column:m+1})}k.sort((O,W)=>O.offset-W.offset);const I=s.pos.toClientCoordinates(),N=l.getBoundingClientRect(),R=N.left<=I.clientX&&I.clientX<=N.right;for(let O=1;O<k.length;O++){const W=k[O-1],B=k[O];if(W.offset<=s.mouseContentHorizontalOffset&&s.mouseContentHorizontalOffset<=B.offset){const z=new $(f,W.column,f,B.column);return s.fulfillContentText(u,z,{mightBeForeignElement:!R||!!h,injectedText:h})}}return s.fulfillContentText(u,null,{mightBeForeignElement:!R||!!h,injectedText:h})}static _doHitTestWithCaretRangeFromPoint(t,s){const l=t.getLineNumberAtVerticalOffset(s.mouseVerticalOffset),h=t.getVerticalOffsetForLineNumber(l)+Math.floor(t.lineHeight/2);let f=s.pos.y+(h-s.mouseVerticalOffset);f<=s.editorPos.y&&(f=s.editorPos.y+1),f>=s.editorPos.y+s.editorPos.height&&(f=s.editorPos.y+s.editorPos.height-1);const m=new VI(s.pos.x,f),A=this._actualDoHitTestWithCaretRangeFromPoint(t,m.toClientCoordinates());return A.type===1?A:this._actualDoHitTestWithCaretRangeFromPoint(t,s.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(t,s){const l=Gu(t.viewDomNode);let u;if(l?typeof l.caretRangeFromPoint>"u"?u=The(l,s.clientX,s.clientY):u=l.caretRangeFromPoint(s.clientX,s.clientY):u=document.caretRangeFromPoint(s.clientX,s.clientY),!u||!u.startContainer)return new uu;const h=u.startContainer;if(h.nodeType===h.TEXT_NODE){const f=h.parentNode,m=f?f.parentNode:null,A=m?m.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===t0.CLASS_NAME?sd.createFromDOMInfo(t,f,u.startOffset):new uu(h.parentNode)}else if(h.nodeType===h.ELEMENT_NODE){const f=h.parentNode,m=f?f.parentNode:null;return(m&&m.nodeType===m.ELEMENT_NODE?m.className:null)===t0.CLASS_NAME?sd.createFromDOMInfo(t,h,h.textContent.length):new uu(h)}return new uu}static _doHitTestWithCaretPositionFromPoint(t,s){const l=document.caretPositionFromPoint(s.clientX,s.clientY);if(l.offsetNode.nodeType===l.offsetNode.TEXT_NODE){const u=l.offsetNode.parentNode,h=u?u.parentNode:null,f=h?h.parentNode:null;return(f&&f.nodeType===f.ELEMENT_NODE?f.className:null)===t0.CLASS_NAME?sd.createFromDOMInfo(t,l.offsetNode.parentNode,l.offset):new uu(l.offsetNode.parentNode)}if(l.offsetNode.nodeType===l.offsetNode.ELEMENT_NODE){const u=l.offsetNode.parentNode,h=u&&u.nodeType===u.ELEMENT_NODE?u.className:null,f=u?u.parentNode:null,m=f&&f.nodeType===f.ELEMENT_NODE?f.className:null;if(h===t0.CLASS_NAME){const A=l.offsetNode.childNodes[Math.min(l.offset,l.offsetNode.childNodes.length-1)];if(A)return sd.createFromDOMInfo(t,A,0)}else if(m===t0.CLASS_NAME)return sd.createFromDOMInfo(t,l.offsetNode,0)}return new uu(l.offsetNode)}static _snapToSoftTabBoundary(t,s){const l=s.getLineContent(t.lineNumber),{tabSize:u}=s.model.getOptions(),h=i4.atomicPosition(l,t.column-1,u,2);return h!==-1?new me(t.lineNumber,h+1):t}static _doHitTest(t,s){let l=new uu;if(typeof document.caretRangeFromPoint=="function"?l=this._doHitTestWithCaretRangeFromPoint(t,s):document.caretPositionFromPoint&&(l=this._doHitTestWithCaretPositionFromPoint(t,s.pos.toClientCoordinates())),l.type===1){const u=t.viewModel.getInjectedTextAt(l.position),h=t.viewModel.normalizePosition(l.position,2);(u||!h.equals(l.position))&&(l=new Wy(h,l.spanNode,u))}return l.type===1&&t.stickyTabStops&&(l=new Wy(this._snapToSoftTabBoundary(l.position,t.viewModel),l.spanNode,l.injectedText)),l}}function The(d,t,s){const l=document.createRange();let u=d.elementFromPoint(t,s);if(u!==null){for(;u&&u.firstChild&&u.firstChild.nodeType!==u.firstChild.TEXT_NODE&&u.lastChild&&u.lastChild.firstChild;)u=u.lastChild;const h=u.getBoundingClientRect(),f=window.getComputedStyle(u,null).getPropertyValue("font"),m=u.innerText;let A=h.left,C=0,w;if(t>h.left+h.width)C=m.length;else{const k=md.getInstance();for(let D=0;D<m.length+1;D++){if(w=k.getCharWidth(m.charAt(D),f)/2,A+=w,t<A){C=D;break}A+=w}}l.setStart(u.firstChild,C),l.setEnd(u.firstChild,C)}return l}class md{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return md._INSTANCE||(md._INSTANCE=new md),md._INSTANCE}getCharWidth(t,s){const l=t+s;if(this._cache[l])return this._cache[l];const u=this._canvas.getContext("2d");u.font=s;const f=u.measureText(t).width;return this._cache[l]=f,f}}md._INSTANCE=null;function cC(d){return function(t,s){let l=!1;return d&&(l=d.mouseTargetIsWidget(s)),l||s.preventDefault(),s}}class Zd extends m_{constructor(t,s,l){super(),this._context=t,this.viewController=s,this.viewHelper=l,this.mouseTargetFactory=new hr(this._context,l),this._mouseDownOperation=this._register(new Rhe(this._context,this.viewController,this.viewHelper,(f,m)=>this._createMouseTarget(f,m),f=>this._getMouseColumn(f))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const u=new phe(this.viewHelper.viewDomNode);this._register(u.onContextMenu(this.viewHelper.viewDomNode,f=>this._onContextMenu(f,!0))),this._register(u.onMouseMoveThrottled(this.viewHelper.viewDomNode,f=>this._onMouseMove(f),cC(this.mouseTargetFactory),Zd.MOUSE_MOVE_MINIMUM_TIME)),this._register(u.onMouseUp(this.viewHelper.viewDomNode,f=>this._onMouseUp(f))),this._register(u.onMouseLeave(this.viewHelper.viewDomNode,f=>this._onMouseLeave(f))),this._register(u.onMouseDown(this.viewHelper.viewDomNode,f=>this._onMouseDown(f)));const h=f=>{if(this.viewController.emitMouseWheel(f),!this._context.configuration.options.get(68))return;const m=new Fg(f);if(Jt?(f.metaKey||f.ctrlKey)&&!f.shiftKey&&!f.altKey:f.ctrlKey&&!f.metaKey&&!f.shiftKey&&!f.altKey){const C=xc.getZoomLevel(),w=m.deltaY>0?1:-1;xc.setZoomLevel(C+w),m.preventDefault(),m.stopPropagation()}};this._register(ze(this.viewHelper.viewDomNode,vt.MOUSE_WHEEL,h,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(131)){const s=this._context.configuration.options.get(131).height;this._height!==s&&(this._height=s,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}onScrollChanged(t){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(t,s){const u=new oH(t,s).toPageCoordinates(),h=lH(this.viewHelper.viewDomNode);if(u.y<h.y||u.y>h.y+h.height||u.x<h.x||u.x>h.x+h.width)return null;const f=aH(this.viewHelper.viewDomNode,h,u);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),h,u,f,null)}_createMouseTarget(t,s){let l=t.target;if(!this.viewHelper.viewDomNode.contains(l)){const u=Gu(this.viewHelper.viewDomNode);u&&(l=u.elementsFromPoint(t.posx,t.posy).find(h=>this.viewHelper.viewDomNode.contains(h)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,s?l:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,s){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,s)})}_onMouseMove(t){this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t){const s=this._createMouseTarget(t,!0),l=s.type===6||s.type===7,u=s.type===2||s.type===3||s.type===4,h=s.type===3,f=this._context.configuration.options.get(98),m=s.type===8||s.type===5,A=s.type===9;let C=t.leftButton||t.middleButton;Jt&&t.leftButton&&t.ctrlKey&&(C=!1);const w=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};if(C&&(l||h&&f))w(),this._mouseDownOperation.start(s.type,t);else if(u)t.preventDefault();else if(m){const k=s.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(k.viewZoneId)&&(w(),this._mouseDownOperation.start(s.type,t),t.preventDefault())}else A&&this.viewHelper.shouldSuppressMouseDownOnWidget(s.detail)&&(w(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:s})}}Zd.MOUSE_MOVE_MINIMUM_TIME=100;class Rhe extends Se{constructor(t,s,l,u,h){super(),this._context=t,this._viewController=s,this._viewHelper=l,this._createMouseTarget=u,this._getMouseColumn=h,this._mouseMoveMonitor=this._register(new _he(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Wo),this._mouseState=new Xw,this._currentSelection=new et(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const s=this._findMousePosition(t,!0);!s||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:s}):this._dispatchMouse(s,!0))}start(t,s){this._lastMouseEvent=s,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(s),this._mouseState.setModifiers(s);const l=this._findMousePosition(s,!0);if(!l||!l.position)return;this._mouseState.trySetCount(s.detail,l.position),s.detail=this._mouseState.count;const u=this._context.configuration.options;if(!u.get(81)&&u.get(31)&&!u.get(18)&&!this._mouseState.altKey&&s.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(s.target,s.buttons,cC(null),h=>this._onMouseDownThenMove(h),h=>{const f=this._findMousePosition(this._lastMouseEvent,!0);h&&h instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:f?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,s.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(s.target,s.buttons,cC(null),h=>this._onMouseDownThenMove(h),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const t=this._findMousePosition(this._lastMouseEvent,!1);!t||this._mouseState.isDragAndDrop||this._dispatchMouse(t,!0)},10)}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const s=t.editorPos,l=this._context.viewModel,u=this._context.viewLayout,h=this._getMouseColumn(t);if(t.posy<s.y){const m=Math.max(u.getCurrentScrollTop()-(s.y-t.posy),0),A=Ug.getZoneAtCoord(this._context,m);if(A){const w=this._helpPositionJumpOverViewZone(A);if(w)return oo.createOutsideEditor(h,w)}const C=u.getLineNumberAtVerticalOffset(m);return oo.createOutsideEditor(h,new me(C,1))}if(t.posy>s.y+s.height){const m=u.getCurrentScrollTop()+t.relativePos.y,A=Ug.getZoneAtCoord(this._context,m);if(A){const w=this._helpPositionJumpOverViewZone(A);if(w)return oo.createOutsideEditor(h,w)}const C=u.getLineNumberAtVerticalOffset(m);return oo.createOutsideEditor(h,new me(C,l.getLineMaxColumn(C)))}const f=u.getLineNumberAtVerticalOffset(u.getCurrentScrollTop()+t.relativePos.y);return t.posx<s.x?oo.createOutsideEditor(h,new me(f,1)):t.posx>s.x+s.width?oo.createOutsideEditor(h,new me(f,l.getLineMaxColumn(f))):null}_findMousePosition(t,s){const l=this._getPositionOutsideEditor(t);if(l)return l;const u=this._createMouseTarget(t,s);if(!u.position)return null;if(u.type===8||u.type===5){const f=this._helpPositionJumpOverViewZone(u.detail);if(f)return oo.createViewZone(u.type,u.element,u.mouseColumn,f,u.detail)}return u}_helpPositionJumpOverViewZone(t){const s=new me(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=t.positionBefore,u=t.positionAfter;return l&&u?l.isBefore(s)?l:u:null}_dispatchMouse(t,s){!t.position||this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:s,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:t.type===6&&t.detail.injectedText!==null})}}class Xw{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey}setStartButtons(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton}setStartedOnLineNumbers(t){this._startedOnLineNumbers=t}trySetCount(t,s){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>Xw.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=l,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(s)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=s,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}Xw.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Za;(function(d){d.text="text/plain",d.binary="application/octet-stream",d.unknown="application/unknown",d.markdown="text/markdown",d.latex="text/latex",d.uriList="text/uri-list"})(Za||(Za={}));class gr{constructor(t,s,l,u,h){this.value=t,this.selectionStart=s,this.selectionEnd=l,this.selectionStartPosition=u,this.selectionEndPosition=h}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(t){return new gr(t.getValue(),t.getSelectionStart(),t.getSelectionEnd(),null,null)}collapseSelection(){return new gr(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(t,s,l){s.setValue(t,this.value),l&&s.setSelectionRange(t,this.selectionStart,this.selectionEnd)}deduceEditorPosition(t){if(t<=this.selectionStart){const u=this.value.substring(t,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,u,-1)}if(t>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,t);return this._finishDeduceEditorPosition(this.selectionEndPosition,u,1)}const s=this.value.substring(this.selectionStart,t);if(s.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,s,1);const l=this.value.substring(t,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,l,-1)}_finishDeduceEditorPosition(t,s,l){let u=0,h=-1;for(;(h=s.indexOf(`
`,h+1))!==-1;)u++;return[t,l*s.length,u]}static deduceInput(t,s,l){if(!t)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const u=Math.min(Mg(t.value,s.value),t.selectionStart,s.selectionStart),h=Math.min(G3(t.value,s.value),t.value.length-t.selectionEnd,s.value.length-s.selectionEnd);t.value.substring(u,t.value.length-h);const f=s.value.substring(u,s.value.length-h),m=t.selectionStart-u,A=t.selectionEnd-u,C=s.selectionStart-u,w=s.selectionEnd-u;if(C===w){const D=t.selectionStart-u;return{text:f,replacePrevCharCnt:D,replaceNextCharCnt:0,positionDelta:0}}const k=A-m;return{text:f,replacePrevCharCnt:k,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(t,s){if(!t)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(t.value===s.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:s.selectionEnd-t.selectionEnd};const l=Math.min(Mg(t.value,s.value),t.selectionEnd),u=Math.min(G3(t.value,s.value),t.value.length-t.selectionEnd),h=t.value.substring(l,t.value.length-u),f=s.value.substring(l,s.value.length-u);t.selectionStart-l;const m=t.selectionEnd-l;s.selectionStart-l;const A=s.selectionEnd-l;return{text:f,replacePrevCharCnt:m,replaceNextCharCnt:h.length-m,positionDelta:A-f.length}}}gr.EMPTY=new gr("",0,0,null,null);class J1{static _getPageOfLine(t,s){return Math.floor((t-1)/s)}static _getRangeForPage(t,s){const l=t*s,u=l+1,h=l+s;return new $(u,1,h+1,1)}static fromEditorSelection(t,s,l,u,h){const f=J1._getPageOfLine(l.startLineNumber,u),m=J1._getRangeForPage(f,u),A=J1._getPageOfLine(l.endLineNumber,u),C=J1._getRangeForPage(A,u),w=m.intersectRanges(new $(1,1,l.startLineNumber,l.startColumn));let k=s.getValueInRange(w,1);const D=s.getLineCount(),I=s.getLineMaxColumn(D),N=C.intersectRanges(new $(l.endLineNumber,l.endColumn,D,I));let R=s.getValueInRange(N,1),O;if(f===A||f+1===A)O=s.getValueInRange(l,1);else{const W=m.intersectRanges(l),B=C.intersectRanges(l);O=s.getValueInRange(W,1)+String.fromCharCode(8230)+s.getValueInRange(B,1)}return h&&(k.length>500&&(k=k.substring(k.length-500,k.length)),R.length>500&&(R=R.substring(0,500)),O.length>2*500&&(O=O.substring(0,500)+String.fromCharCode(8230)+O.substring(O.length-500,O.length))),new gr(k+O+R,k.length,k.length+O.length,new me(l.startLineNumber,l.startColumn),new me(l.endLineNumber,l.endColumn))}}var uC;(function(d){d.Tap="-monaco-textarea-synthetic-tap"})(uC||(uC={}));const Vy={forceCopyWithSyntaxHighlighting:!1};class n4{constructor(){this._lastState=null}set(t,s){this._lastState={lastCopiedValue:t,data:s}}get(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)}}n4.INSTANCE=new n4;class Mhe{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(t){t=t||"";const s={text:t,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=t.length,s}}class Phe extends Se{constructor(t,s,l,u){super(),this._host=t,this._textArea=s,this._OS=l,this._browser=u,this._onFocus=this._register(new he),this.onFocus=this._onFocus.event,this._onBlur=this._register(new he),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new he),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new he),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new he),this.onCut=this._onCut.event,this._onPaste=this._register(new he),this.onPaste=this._onPaste.event,this._onType=this._register(new he),this.onType=this._onType.event,this._onCompositionStart=this._register(new he),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new he),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new he),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new he),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new zi(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new zi(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=gr.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let h=null;this._register(this._textArea.onKeyDown(f=>{const m=new hn(f);(m.keyCode===109||this._currentComposition&&m.keyCode===1)&&m.stopPropagation(),m.equals(9)&&m.preventDefault(),h=m,this._onKeyDown.fire(m)})),this._register(this._textArea.onKeyUp(f=>{const m=new hn(f);this._onKeyUp.fire(m)})),this._register(this._textArea.onCompositionStart(f=>{const m=new Mhe;if(this._currentComposition){this._currentComposition=m;return}if(this._currentComposition=m,this._OS===2&&h&&h.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===f.data&&(h.code==="ArrowRight"||h.code==="ArrowLeft")){m.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:f.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:f.data});return}this._onCompositionStart.fire({data:f.data})})),this._register(this._textArea.onCompositionUpdate(f=>{const m=this._currentComposition;if(!m)return;if(this._browser.isAndroid){const C=gr.readFromTextArea(this._textArea),w=gr.deduceAndroidCompositionInput(this._textAreaState,C);this._textAreaState=C,this._onType.fire(w),this._onCompositionUpdate.fire(f);return}const A=m.handleCompositionUpdate(f.data);this._textAreaState=gr.readFromTextArea(this._textArea),this._onType.fire(A),this._onCompositionUpdate.fire(f)})),this._register(this._textArea.onCompositionEnd(f=>{const m=this._currentComposition;if(!m)return;if(this._currentComposition=null,this._browser.isAndroid){const C=gr.readFromTextArea(this._textArea),w=gr.deduceAndroidCompositionInput(this._textAreaState,C);this._textAreaState=C,this._onType.fire(w),this._onCompositionEnd.fire();return}const A=m.handleCompositionUpdate(f.data);this._textAreaState=gr.readFromTextArea(this._textArea),this._onType.fire(A),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(f=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const m=gr.readFromTextArea(this._textArea),A=gr.deduceInput(this._textAreaState,m,this._OS===2);A.replacePrevCharCnt===0&&A.text.length===1&&Cs(A.text.charCodeAt(0))||(this._textAreaState=m,(A.text!==""||A.replacePrevCharCnt!==0||A.replaceNextCharCnt!==0||A.positionDelta!==0)&&this._onType.fire(A))})),this._register(this._textArea.onCut(f=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(f),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(f=>{this._ensureClipboardGetsEditorSelection(f)})),this._register(this._textArea.onPaste(f=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),f.preventDefault(),!f.clipboardData)return;let[m,A]=gP.getTextData(f.clipboardData);!m||(A=A||n4.INSTANCE.get(m),this._onPaste.fire({text:m,metadata:A}))})),this._register(this._textArea.onFocus(()=>{const f=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!f&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let t=0;return ze(document,"selectionchange",s=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const l=Date.now(),u=l-t;if(t=l,u<5)return;const h=l-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),h<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const f=this._textArea.getValue();if(this._textAreaState.value!==f)return;const m=this._textArea.getSelectionStart(),A=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===m&&this._textAreaState.selectionEnd===A)return;const C=this._textAreaState.deduceEditorPosition(m),w=this._host.deduceModelPosition(C[0],C[1],C[2]),k=this._textAreaState.deduceEditorPosition(A),D=this._host.deduceModelPosition(k[0],k[1],k[2]),I=new et(w.lineNumber,w.column,D.lineNumber,D.column);this._onSelectionChangeRequest.fire(I)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(t,s){this._hasFocus||(s=s.collapseSelection()),s.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=s}writeScreenReaderContent(t){this._currentComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(t){const s=this._host.getDataToCopy(),l={version:1,isFromEmptySelection:s.isFromEmptySelection,multicursorText:s.multicursorText,mode:s.mode};n4.INSTANCE.set(this._browser.isFirefox?s.text.replace(/\r\n/g,`
`):s.text,l),t.preventDefault(),t.clipboardData&&gP.setTextData(t.clipboardData,s.text,s.html,l)}}class gP{static getTextData(t){const s=t.getData(Za.text);let l=null;const u=t.getData("vscode-editor-data");if(typeof u=="string")try{l=JSON.parse(u),l.version!==1&&(l=null)}catch{}return[s,l]}static setTextData(t,s,l,u){t.setData(Za.text,s),typeof l=="string"&&t.setData("text/html",l),t.setData("vscode-editor-data",JSON.stringify(u))}}class Ohe extends Se{constructor(t){super(),this._actual=t,this.onKeyDown=this._register(Ba(this._actual,"keydown")).event,this.onKeyUp=this._register(Ba(this._actual,"keyup")).event,this.onCompositionStart=this._register(Ba(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(Ba(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(Ba(this._actual,"compositionend")).event,this.onInput=this._register(Ba(this._actual,"input")).event,this.onCut=this._register(Ba(this._actual,"cut")).event,this.onCopy=this._register(Ba(this._actual,"copy")).event,this.onPaste=this._register(Ba(this._actual,"paste")).event,this.onFocus=this._register(Ba(this._actual,"focus")).event,this.onBlur=this._register(Ba(this._actual,"blur")).event,this._onSyntheticTap=this._register(new he),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(ze(this._actual,uC.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const t=Gu(this._actual);return t?t.activeElement===this._actual:CI(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(t){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(t,s){const l=this._actual;l.value!==s&&(this.setIgnoreSelectionChangeTime("setValue"),l.value=s)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(t,s,l){const u=this._actual;let h=null;const f=Gu(u);f?h=f.activeElement:h=document.activeElement;const m=h===u,A=u.selectionStart,C=u.selectionEnd;if(m&&A===s&&C===l){dl&&window.parent!==window&&u.focus();return}if(m){this.setIgnoreSelectionChangeTime("setSelectionRange"),u.setSelectionRange(s,l),dl&&window.parent!==window&&u.focus();return}try{const w=lce(u);this.setIgnoreSelectionChangeTime("setSelectionRange"),u.focus(),u.setSelectionRange(s,l),ace(u,w)}catch{}}}class Fhe extends Zd{constructor(t,s,l){super(t,s,l),this._register(Wi.addTarget(this.viewHelper.linesContentDomNode)),this._register(ze(this.viewHelper.linesContentDomNode,nn.Tap,h=>this.onTap(h))),this._register(ze(this.viewHelper.linesContentDomNode,nn.Change,h=>this.onChange(h))),this._register(ze(this.viewHelper.linesContentDomNode,nn.Contextmenu,h=>this._onContextMenu(new jd(h,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(ze(this.viewHelper.linesContentDomNode,"pointerdown",h=>{const f=h.pointerType;if(f==="mouse"){this._lastPointerType="mouse";return}else f==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const u=new Ahe(this.viewHelper.viewDomNode);this._register(u.onPointerMoveThrottled(this.viewHelper.viewDomNode,h=>this._onMouseMove(h),cC(this.mouseTargetFactory),Zd.MOUSE_MOVE_MINIMUM_TIME)),this._register(u.onPointerUp(this.viewHelper.viewDomNode,h=>this._onMouseUp(h))),this._register(u.onPointerLeave(this.viewHelper.viewDomNode,h=>this._onMouseLeave(h))),this._register(u.onPointerDown(this.viewHelper.viewDomNode,h=>this._onMouseDown(h)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const s=this._createMouseTarget(new jd(t,this.viewHelper.viewDomNode),!1);s.position&&this.viewController.dispatchMouse({position:s.position,mouseColumn:s.position.column,startedOnLineNumbers:!1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:s.type===6&&s.detail.injectedText!==null})}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t)}}class Bhe extends Zd{constructor(t,s,l){super(t,s,l),this._register(Wi.addTarget(this.viewHelper.linesContentDomNode)),this._register(ze(this.viewHelper.linesContentDomNode,nn.Tap,u=>this.onTap(u))),this._register(ze(this.viewHelper.linesContentDomNode,nn.Change,u=>this.onChange(u))),this._register(ze(this.viewHelper.linesContentDomNode,nn.Contextmenu,u=>this._onContextMenu(new jd(u,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const s=this._createMouseTarget(new jd(t,this.viewHelper.viewDomNode),!1);if(s.position){const l=document.createEvent("CustomEvent");l.initEvent(uC.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(l),this.viewController.moveTo(s.position)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class Whe extends Se{constructor(t,s,l){super(),t2&&Rw.pointerEvents?this.handler=this._register(new Fhe(t,s,l)):window.TouchEvent?this.handler=this._register(new Bhe(t,s,l)):this.handler=this._register(new Zd(t,s,l))}getTargetAtClientPoint(t,s){return this.handler.getTargetAtClientPoint(t,s)}}class Sm extends m_{}const Vhe=oe("editor.lineHighlightBackground",{dark:null,light:null,hc:null},E("lineHighlight","Background color for the highlight of line at the cursor position.")),mP=oe("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},E("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),Hhe=oe("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},E("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),Uhe=oe("editor.rangeHighlightBorder",{dark:null,light:null,hc:Fr},E("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),zhe=oe("editor.symbolHighlightBackground",{dark:Ru,light:Ru,hc:null},E("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),Ghe=oe("editor.symbolHighlightBorder",{dark:null,light:null,hc:Fr},E("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),hH=oe("editorCursor.foreground",{dark:"#AEAFAD",light:ke.black,hc:ke.white},E("caret","Color of the editor cursor.")),jhe=oe("editorCursor.background",null,E("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Dd=oe("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},E("editorWhitespaces","Color of whitespace characters in the editor.")),Jw=oe("editorIndentGuide.background",{dark:Dd,light:Dd,hc:Dd},E("editorIndentGuides","Color of the editor indentation guides.")),qw=oe("editorIndentGuide.activeBackground",{dark:Dd,light:Dd,hc:Dd},E("editorActiveIndentGuide","Color of the active editor indentation guides.")),dH=oe("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:ke.white},E("editorLineNumbers","Color of editor line numbers.")),Lb=oe("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Fr},E("editorActiveLineNumber","Color of editor active line number"),!1,E("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),Zhe=oe("editorLineNumber.activeForeground",{dark:Lb,light:Lb,hc:Lb},E("editorActiveLineNumber","Color of editor active line number")),Qhe=oe("editorRuler.foreground",{dark:"#5A5A5A",light:ke.lightgrey,hc:ke.white},E("editorRuler","Color of the editor rulers."));oe("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},E("editorCodeLensForeground","Foreground color of editor CodeLens"));const Yhe=oe("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},E("editorBracketMatchBackground","Background color behind matching brackets")),fH=oe("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:An},E("editorBracketMatchBorder","Color for matching brackets boxes")),$he=oe("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},E("editorOverviewRulerBorder","Color of the overview ruler border.")),Khe=oe("editorOverviewRuler.background",null,E("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),Xhe=oe("editorGutter.background",{dark:go,light:go,hc:go},E("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Jhe=oe("editorUnnecessaryCode.border",{dark:null,light:null,hc:ke.fromHex("#fff").transparent(.8)},E("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),qhe=oe("editorUnnecessaryCode.opacity",{dark:ke.fromHex("#000a"),light:ke.fromHex("#0007"),hc:null},E("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),ede=oe("editorGhostText.border",{dark:null,light:null,hc:ke.fromHex("#fff").transparent(.8)},E("editorGhostTextBorder","Border color of ghost text in the editor.")),tde=oe("editorGhostText.foreground",{dark:ke.fromHex("#ffffff56"),light:ke.fromHex("#0007"),hc:null},E("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),ide=oe("editorGhostText.background",{dark:null,light:null,hc:null},E("editorGhostTextBackground","Background color of the ghost text in the editor.")),Db=new ke(new li(0,122,204,.6)),nde=oe("editorOverviewRuler.rangeHighlightForeground",{dark:Db,light:Db,hc:Db},E("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),sde=oe("editorOverviewRuler.errorForeground",{dark:new ke(new li(255,18,18,.7)),light:new ke(new li(255,18,18,.7)),hc:new ke(new li(255,50,50,1))},E("overviewRuleError","Overview ruler marker color for errors.")),rde=oe("editorOverviewRuler.warningForeground",{dark:Aa,light:Aa,hc:Yw},E("overviewRuleWarning","Overview ruler marker color for warnings.")),ode=oe("editorOverviewRuler.infoForeground",{dark:hl,light:hl,hc:TI},E("overviewRuleInfo","Overview ruler marker color for infos.")),gH=oe("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},E("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),mH=oe("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},E("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),pH=oe("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},E("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),AH=oe("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),_H=oe("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),CH=oe("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),lde=oe("editorBracketHighlight.unexpectedBracket.foreground",{dark:new ke(new li(255,18,18,.8)),light:new ke(new li(255,18,18,.8)),hc:new ke(new li(255,50,50,1))},E("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ade=oe("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),cde=oe("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),ude=oe("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),hde=oe("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),dde=oe("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),fde=oe("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),gde=oe("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),mde=oe("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),pde=oe("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ade=oe("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),_de=oe("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Cde=oe("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));oe("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},E("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));rn((d,t)=>{const s=d.getColor(go);s&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${s}; }`);const l=d.getColor(Nu);l&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${l}; }`);const u=d.getColor(Xhe);u&&t.addRule(`.monaco-editor .margin { background-color: ${u}; }`);const h=d.getColor(Hhe);h&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${h}; }`);const f=d.getColor(Uhe);f&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${d.type==="hc"?"dotted":"solid"} ${f}; }`);const m=d.getColor(zhe);m&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${m}; }`);const A=d.getColor(Ghe);A&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${d.type==="hc"?"dotted":"solid"} ${A}; }`);const C=d.getColor(Dd);C&&(t.addRule(`.monaco-editor .mtkw { color: ${C} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${C} !important; }`))});class zg extends Sm{constructor(t){super(),this._context=t,this._readConfig(),this._lastCursorModelPosition=new me(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const t=this._context.configuration.options;this._lineHeight=t.get(59);const s=t.get(60);this._renderLineNumbers=s.renderType,this._renderCustomLineNumbers=s.renderFn,this._renderFinalNewline=t.get(84);const l=t.get(131);this._lineNumbersLeft=l.lineNumbersLeft,this._lineNumbersWidth=l.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return this._readConfig(),!0}onCursorStateChanged(t){const s=t.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(s);let l=!1;return this._activeLineNumber!==s.lineNumber&&(this._activeLineNumber=s.lineNumber,l=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(l=!0),l}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getLineRenderLineNumber(t){const s=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me(t,1));if(s.column!==1)return"";const l=s.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(l);if(this._renderLineNumbers===2){const u=Math.abs(this._lastCursorModelPosition.lineNumber-l);return u===0?'<span class="relative-current-line-number">'+l+"</span>":String(u)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===l||l%10===0?String(l):"":String(l)}prepareRender(t){if(this._renderLineNumbers===0){this._renderResult=null;return}const s=Cr?this._lineHeight%2===0?" lh-even":" lh-odd":"",l=t.visibleRange.startLineNumber,u=t.visibleRange.endLineNumber,h='<div class="'+zg.CLASS_NAME+s+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',f=this._context.viewModel.getLineCount(),m=[];for(let A=l;A<=u;A++){const C=A-l;if(!this._renderFinalNewline&&A===f&&this._context.viewModel.getLineLength(A)===0){m[C]="";continue}const w=this._getLineRenderLineNumber(A);w?A===this._activeLineNumber?m[C]='<div class="active-line-number '+zg.CLASS_NAME+s+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+w+"</div>":m[C]=h+w+"</div>":m[C]=""}this._renderResult=m}render(t,s){if(!this._renderResult)return"";const l=s-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}zg.CLASS_NAME="line-numbers";rn((d,t)=>{const s=d.getColor(dH);s&&t.addRule(`.monaco-editor .line-numbers { color: ${s}; }`);const l=d.getColor(Zhe);l&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${l}; }`)});class Qd extends zl{constructor(t){super(t);const s=this._context.configuration.options,l=s.get(131);this._canUseLayerHinting=!s.get(28),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._domNode=_i(document.createElement("div")),this._domNode.setClassName(Qd.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=_i(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Qd.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(131);return this._canUseLayerHinting=!s.get(28),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollTopChanged}prepareRender(t){}render(t){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const s=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-s);const l=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(l),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(l)}}Qd.CLASS_NAME="glyph-margin";Qd.OUTER_CLASS_NAME="margin";const Id="monaco-mouse-cursor-text";class wde{constructor(t,s,l,u,h){this._context=t,this.modelLineNumber=s,this.distanceToModelLineStart=l,this.widthOfHiddenLineTextBefore=u,this.distanceToModelLineEnd=h,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(t){const s=new me(this.modelLineNumber,this.distanceToModelLineStart+1),l=new me(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(t){return this._previousPresentation||(t?this._previousPresentation=t:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Dp=dl;class vde extends zl{constructor(t,s,l){super(t),this._primaryCursorPosition=new me(1,1),this._primaryCursorVisibleRange=null,this._viewController=s,this._visibleRangeProvider=l,this._scrollLeft=0,this._scrollTop=0;const u=this._context.configuration.options,h=u.get(131);this._setAccessibilityOptions(u),this._contentLeft=h.contentLeft,this._contentWidth=h.contentWidth,this._contentHeight=h.height,this._fontInfo=u.get(44),this._lineHeight=u.get(59),this._emptySelectionClipboard=u.get(32),this._copyWithSyntaxHighlighting=u.get(21),this._visibleTextArea=null,this._selections=[new et(1,1,1,1)],this._modelSelections=[new et(1,1,1,1)],this._lastRenderPosition=null,this.textArea=_i(document.createElement("textarea")),A0.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Id}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(u)),this.textArea.setAttribute("tabindex",String(u.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",E("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),u.get(30)&&u.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=_i(document.createElement("div")),this.textAreaCover.setPosition("absolute");const f={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:C=>this._context.viewModel.getLineMaxColumn(C),getValueInRange:(C,w)=>this._context.viewModel.getValueInRange(C,w)},m={getDataToCopy:()=>{const C=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Gs),w=this._context.viewModel.model.getEOL(),k=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),D=Array.isArray(C)?C:null,I=Array.isArray(C)?C.join(w):C;let N,R=null;if(Vy.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&I.length<65536){const O=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);O&&(N=O.html,R=O.mode)}return{isFromEmptySelection:k,multicursorText:D,text:I,html:N,mode:R}},getScreenReaderContent:C=>{if(this._accessibilitySupport===1){if(Jt){const w=this._selections[0];if(w.isEmpty()){const k=w.getStartPosition();let D=this._getWordBeforePosition(k);if(D.length===0&&(D=this._getCharacterBeforePosition(k)),D.length>0)return new gr(D,D.length,D.length,k,k)}}return gr.EMPTY}if(HW){const w=this._selections[0];if(w.isEmpty()){const k=w.getStartPosition(),[D,I]=this._getAndroidWordAtPosition(k);if(D.length>0)return new gr(D,I,I,k,k)}return gr.EMPTY}return J1.fromEditorSelection(C,f,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(C,w,k)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(C,w,k)},A=this._register(new Ohe(this.textArea.domNode));this._textAreaInput=this._register(new Phe(m,A,yl,Wae)),this._register(this._textAreaInput.onKeyDown(C=>{this._viewController.emitKeyDown(C)})),this._register(this._textAreaInput.onKeyUp(C=>{this._viewController.emitKeyUp(C)})),this._register(this._textAreaInput.onPaste(C=>{let w=!1,k=null,D=null;C.metadata&&(w=this._emptySelectionClipboard&&!!C.metadata.isFromEmptySelection,k=typeof C.metadata.multicursorText<"u"?C.metadata.multicursorText:null,D=C.metadata.mode),this._viewController.paste(C.text,w,k,D)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(C=>{C.replacePrevCharCnt||C.replaceNextCharCnt||C.positionDelta?this._viewController.compositionType(C.text,C.replacePrevCharCnt,C.replaceNextCharCnt,C.positionDelta):this._viewController.type(C.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(C=>{this._viewController.setSelection(C)})),this._register(this._textAreaInput.onCompositionStart(C=>{const w=this.textArea.domNode,k=this._modelSelections[0],{distanceToModelLineStart:D,widthOfHiddenTextBefore:I}=(()=>{const R=w.value.substring(0,Math.min(w.selectionStart,w.selectionEnd)),O=R.lastIndexOf(`
`),W=R.substring(O+1),B=W.lastIndexOf("	"),z=W.length-B-1,G=k.getStartPosition(),K=Math.min(G.column-1,z),q=G.column-1-K,Y=W.substring(0,W.length-K),J=kde(Y,this._fontInfo);return{distanceToModelLineStart:q,widthOfHiddenTextBefore:J}})(),{distanceToModelLineEnd:N}=(()=>{const R=w.value.substring(Math.max(w.selectionStart,w.selectionEnd)),O=R.indexOf(`
`),W=O===-1?R:R.substring(0,O),B=W.indexOf("	"),z=B===-1?W.length:W.length-B-1,G=k.getEndPosition(),K=Math.min(this._context.viewModel.model.getLineMaxColumn(G.lineNumber)-G.column,z);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(G.lineNumber)-G.column-K}})();this._context.viewModel.revealRange("keyboard",!0,$.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new wde(this._context,k.startLineNumber,D,I,N),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Id} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(C=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Id}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const s='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',l=this._context.viewModel.getLineContent(t.lineNumber),u=Wl(s);let h=!0,f=t.column,m=!0,A=t.column,C=0;for(;C<50&&(h||m);){if(h&&f<=1&&(h=!1),h){const w=l.charCodeAt(f-2);u.get(w)!==0?h=!1:f--}if(m&&A>l.length&&(m=!1),m){const w=l.charCodeAt(A-1);u.get(w)!==0?m=!1:A++}C++}return[l.substring(f-1,A-1),t.column-f]}_getWordBeforePosition(t){const s=this._context.viewModel.getLineContent(t.lineNumber),l=Wl(this._context.configuration.options.get(117));let u=t.column,h=0;for(;u>1;){const f=s.charCodeAt(u-2);if(l.get(f)!==0||h>50)return s.substring(u-1,t.column-1);h++,u--}return s.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const l=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!Cs(l.charCodeAt(0)))return l}return""}_getAriaLabel(t){return t.get(2)===1?E("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",Cr?"Shift+Alt+F1":"Alt+F1"):t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const s=t.get(3);this._accessibilitySupport===2&&s===a2.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=s}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(131);return this._setAccessibilityOptions(s),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._contentHeight=l.height,this._fontInfo=s.get(44),this._lineHeight=s.get(59),this._emptySelectionClipboard=s.get(32),this._copyWithSyntaxHighlighting=s.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(s)),this.textArea.setAttribute("tabindex",String(s.get(112))),(t.hasChanged(30)||t.hasChanged(81))&&(s.get(30)&&s.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),t.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}prepareRender(t){this._primaryCursorPosition=new me(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(t)}render(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const l=this._visibleTextArea.visibleTextareaStart,u=this._visibleTextArea.visibleTextareaEnd,h=this._visibleTextArea.startPosition,f=this._visibleTextArea.endPosition;if(h&&f&&l&&u&&u.left>=this._scrollLeft&&l.left<=this._scrollLeft+this._contentWidth){const m=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,A=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let C=this._visibleTextArea.widthOfHiddenLineTextBefore,w=this._contentLeft+l.left-this._scrollLeft,k=u.left-l.left+1;if(w<this._contentLeft){const W=this._contentLeft-w;w+=W,C+=W,k-=W}k>this._contentWidth&&(k=this._contentWidth);const D=this._context.viewModel.getViewLineData(h.lineNumber),I=D.tokens.findTokenIndexAtOffset(h.column-1),N=D.tokens.findTokenIndexAtOffset(f.column-1),R=I===N,O=this._visibleTextArea.definePresentation(R?D.tokens.getPresentation(I):null);this.textArea.domNode.scrollTop=A*this._lineHeight,this.textArea.domNode.scrollLeft=C,this._doRender({lastRenderPosition:null,top:m,left:w,width:k,height:this._lineHeight,useCover:!1,color:(bn.getColorMap()||[])[O.foreground],italic:O.italic,bold:O.bold,underline:O.underline,strikethrough:O.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const s=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(s<0||s>this._contentHeight){this._renderAtTopLeft();return}if(Jt){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:s,left:t,width:Dp?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=l*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:s,left:t,width:Dp?0:1,height:Dp?0:1,useCover:!1})}_newlinecount(t){let s=0,l=-1;do{if(l=t.indexOf(`
`,l+1),l===-1)break;s++}while(!0);return s}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:Dp?0:1,height:Dp?0:1,useCover:!0})}_doRender(t){this._lastRenderPosition=t.lastRenderPosition;const s=this.textArea,l=this.textAreaCover;_r(s,this._fontInfo),s.setTop(t.top),s.setLeft(t.left),s.setWidth(t.width),s.setHeight(t.height),s.setColor(t.color?ke.Format.CSS.formatHex(t.color):""),s.setFontStyle(t.italic?"italic":""),t.bold&&s.setFontWeight("bold"),s.setTextDecoration(`${t.underline?" underline":""}${t.strikethrough?" line-through":""}`),l.setTop(t.useCover?t.top:0),l.setLeft(t.useCover?t.left:0),l.setWidth(t.useCover?t.width:0),l.setHeight(t.useCover?t.height:0);const u=this._context.configuration.options;u.get(50)?l.setClassName("monaco-editor-background textAreaCover "+Qd.OUTER_CLASS_NAME):u.get(60).renderType!==0?l.setClassName("monaco-editor-background textAreaCover "+zg.CLASS_NAME):l.setClassName("monaco-editor-background textAreaCover")}}function kde(d,t){if(d.length===0)return 0;const s=document.createElement("div");s.style.position="absolute",s.style.top="-50000px",s.style.width="50000px";const l=document.createElement("span");_r(l,t),l.style.whiteSpace="pre",l.append(d),s.appendChild(l),document.body.appendChild(s);const u=l.offsetWidth;return document.body.removeChild(s),u}function bde(d,t,s){let l=0;for(let h=0;h<d.length;h++)d.charAt(h)==="	"?l+=t:l++;let u="";if(!s){const h=Math.floor(l/t);l=l%t;for(let f=0;f<h;f++)u+="	"}for(let h=0;h<l;h++)u+=" ";return u}function hC(d,t,s){let l=Zr(d);return l===-1&&(l=d.length),bde(d.substring(0,l),t,s)+d.substring(l)}const Sde=()=>!0,yde=()=>!1,Lde=d=>d===" "||d==="	";class S1{constructor(t,s,l,u){this.languageConfigurationService=u,this._cursorMoveConfigurationBrand=void 0,this._languageId=t;const h=l.options,f=h.get(131);this.readOnly=h.get(81),this.tabSize=s.tabSize,this.indentSize=s.indentSize,this.insertSpaces=s.insertSpaces,this.stickyTabStops=h.get(104),this.lineHeight=h.get(59),this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=h.get(116),this.wordSeparators=h.get(117),this.emptySelectionClipboard=h.get(32),this.copyWithSyntaxHighlighting=h.get(21),this.multiCursorMergeOverlapping=h.get(69),this.multiCursorPaste=h.get(71),this.autoClosingBrackets=h.get(5),this.autoClosingQuotes=h.get(8),this.autoClosingDelete=h.get(6),this.autoClosingOvertype=h.get(7),this.autoSurround=h.get(11),this.autoIndent=h.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(t,this.autoClosingQuotes),bracket:this._getShouldAutoClose(t,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(t).getAutoClosingPairs();const m=this.languageConfigurationService.getLanguageConfiguration(t).getSurroundingPairs();if(m)for(const A of m)this.surroundingPairs[A.open]=A.close}static shouldRecreate(t){return t.hasChanged(131)||t.hasChanged(117)||t.hasChanged(32)||t.hasChanged(69)||t.hasChanged(71)||t.hasChanged(5)||t.hasChanged(8)||t.hasChanged(6)||t.hasChanged(7)||t.hasChanged(11)||t.hasChanged(116)||t.hasChanged(59)||t.hasChanged(81)}get electricChars(){var t;if(!this._electricChars){this._electricChars={};const s=(t=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||t===void 0?void 0:t.getElectricCharacters();if(s)for(const l of s)this._electricChars[l]=!0}return this._electricChars}onElectricCharacter(t,s,l){const u=Q3(s,l-1),h=this.languageConfigurationService.getLanguageConfiguration(u.languageId).electricCharacter;return h?h.onElectricCharacter(t,u,l-u.firstCharOffset):null}normalizeIndentation(t){return hC(t,this.indentSize,this.insertSpaces)}_getShouldAutoClose(t,s){switch(s){case"beforeWhitespace":return Lde;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(t);case"always":return Sde;case"never":return yde}}_getLanguageDefinedShouldAutoClose(t){const s=this.languageConfigurationService.getLanguageConfiguration(t).getAutoCloseBeforeSet();return l=>s.indexOf(l)!==-1}visibleColumnFromColumn(t,s){return _s.visibleColumnFromColumn(t.getLineContent(s.lineNumber),s.column,this.tabSize)}columnFromVisibleColumn(t,s,l){const u=_s.columnFromVisibleColumn(t.getLineContent(s),l,this.tabSize),h=t.getLineMinColumn(s);if(u<h)return h;const f=t.getLineMaxColumn(s);return u>f?f:u}}class Xt{constructor(t,s){this._cursorStateBrand=void 0,this.modelState=t,this.viewState=s}static fromModelState(t){return new Dde(t)}static fromViewState(t){return new Ide(t)}static fromModelSelection(t){const s=et.liftSelection(t),l=new Hs($.fromPositions(s.getSelectionStart()),0,s.getPosition(),0);return Xt.fromModelState(l)}static fromModelSelections(t){const s=[];for(let l=0,u=t.length;l<u;l++)s[l]=this.fromModelSelection(t[l]);return s}equals(t){return this.viewState.equals(t.viewState)&&this.modelState.equals(t.modelState)}}class Dde{constructor(t){this.modelState=t,this.viewState=null}}class Ide{constructor(t){this.modelState=null,this.viewState=t}}class Hs{constructor(t,s,l,u){this._singleCursorStateBrand=void 0,this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=s,this.position=l,this.leftoverVisibleColumns=u,this.selection=Hs._computeSelection(this.selectionStart,this.position)}equals(t){return this.selectionStartLeftoverVisibleColumns===t.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===t.leftoverVisibleColumns&&this.position.equals(t.position)&&this.selectionStart.equalsRange(t.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(t,s,l,u){return t?new Hs(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new me(s,l),u):new Hs(new $(s,l,s,l),u,new me(s,l),u)}static _computeSelection(t,s){return t.isEmpty()||!s.isBeforeOrEqual(t.getStartPosition())?et.fromPositions(t.getStartPosition(),s):et.fromPositions(t.getEndPosition(),s)}}class Lo{constructor(t,s,l){this._editOperationResultBrand=void 0,this.type=t,this.commands=s,this.shouldPushStackElementBefore=l.shouldPushStackElementBefore,this.shouldPushStackElementAfter=l.shouldPushStackElementAfter}}function V1(d){return d==="'"||d==='"'||d==="`"}class rd{static columnSelect(t,s,l,u,h,f){const m=Math.abs(h-l)+1,A=l>h,C=u>f,w=u<f,k=[];for(let D=0;D<m;D++){const I=l+(A?-D:D),N=t.columnFromVisibleColumn(s,I,u),R=t.columnFromVisibleColumn(s,I,f),O=t.visibleColumnFromColumn(s,new me(I,N)),W=t.visibleColumnFromColumn(s,new me(I,R));w&&(O>f||W<u)||C&&(W>u||O<f)||k.push(new Hs(new $(I,N,I,N),0,new me(I,R),0))}if(k.length===0)for(let D=0;D<m;D++){const I=l+(A?-D:D),N=s.getLineMaxColumn(I);k.push(new Hs(new $(I,N,I,N),0,new me(I,N),0))}return{viewStates:k,reversed:A,fromLineNumber:l,fromVisualColumn:u,toLineNumber:h,toVisualColumn:f}}static columnSelectLeft(t,s,l){let u=l.toViewVisualColumn;return u>0&&u--,rd.columnSelect(t,s,l.fromViewLineNumber,l.fromViewVisualColumn,l.toViewLineNumber,u)}static columnSelectRight(t,s,l){let u=0;const h=Math.min(l.fromViewLineNumber,l.toViewLineNumber),f=Math.max(l.fromViewLineNumber,l.toViewLineNumber);for(let A=h;A<=f;A++){const C=s.getLineMaxColumn(A),w=t.visibleColumnFromColumn(s,new me(A,C));u=Math.max(u,w)}let m=l.toViewVisualColumn;return m<u&&m++,this.columnSelect(t,s,l.fromViewLineNumber,l.fromViewVisualColumn,l.toViewLineNumber,m)}static columnSelectUp(t,s,l,u){const h=u?t.pageSize:1,f=Math.max(1,l.toViewLineNumber-h);return this.columnSelect(t,s,l.fromViewLineNumber,l.fromViewVisualColumn,f,l.toViewVisualColumn)}static columnSelectDown(t,s,l,u){const h=u?t.pageSize:1,f=Math.min(s.getLineCount(),l.toViewLineNumber+h);return this.columnSelect(t,s,l.fromViewLineNumber,l.fromViewVisualColumn,f,l.toViewVisualColumn)}}class $s{constructor(t,s,l=!1){this._range=t,this._text=s,this.insertsAutoWhitespace=l}getEditOperations(t,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(t,s){const u=s.getInverseEditOperations()[0].range;return et.fromPositions(u.getEndPosition())}}class xde{constructor(t,s){this._range=t,this._text=s}getEditOperations(t,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(t,s){const u=s.getInverseEditOperations()[0].range;return et.fromRange(u,0)}}class H8{constructor(t,s,l=!1){this._range=t,this._text=s,this.insertsAutoWhitespace=l}getEditOperations(t,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(t,s){const u=s.getInverseEditOperations()[0].range;return et.fromPositions(u.getStartPosition())}}class r3{constructor(t,s,l,u,h=!1){this._range=t,this._text=s,this._columnDeltaOffset=u,this._lineNumberDeltaOffset=l,this.insertsAutoWhitespace=h}getEditOperations(t,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(t,s){const u=s.getInverseEditOperations()[0].range;return et.fromPositions(u.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class UI{constructor(t,s,l,u=!1){this._range=t,this._text=s,this._initialSelection=l,this._forceMoveMarkers=u,this._selectionId=null}getEditOperations(t,s){s.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=s.trackSelection(this._initialSelection)}computeCursorState(t,s){return s.getTrackedSelection(this._selectionId)}}class Ib{constructor(t,s,l){this._cursorPositionBrand=void 0,this.lineNumber=t,this.column=s,this.leftoverVisibleColumns=l}}class vi{static leftPosition(t,s){if(s.column>t.getLineMinColumn(s.lineNumber))return s.delta(void 0,-OW(t.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const l=s.lineNumber-1;return new me(l,t.getLineMaxColumn(l))}else return s}static leftPositionAtomicSoftTabs(t,s,l){if(s.column<=t.getLineIndentColumn(s.lineNumber)){const u=t.getLineMinColumn(s.lineNumber),h=t.getLineContent(s.lineNumber),f=i4.atomicPosition(h,s.column-1,l,0);if(f!==-1&&f+1>=u)return new me(s.lineNumber,f+1)}return this.leftPosition(t,s)}static left(t,s,l){const u=t.stickyTabStops?vi.leftPositionAtomicSoftTabs(s,l,t.tabSize):vi.leftPosition(s,l);return new Ib(u.lineNumber,u.column,0)}static moveLeft(t,s,l,u,h){let f,m;if(l.hasSelection()&&!u)f=l.selection.startLineNumber,m=l.selection.startColumn;else{const A=l.position.delta(void 0,-(h-1)),C=s.normalizePosition(vi.clipPositionColumn(A,s),0),w=vi.left(t,s,C);f=w.lineNumber,m=w.column}return l.move(u,f,m,0)}static clipPositionColumn(t,s){return new me(t.lineNumber,vi.clipRange(t.column,s.getLineMinColumn(t.lineNumber),s.getLineMaxColumn(t.lineNumber)))}static clipRange(t,s,l){return t<s?s:t>l?l:t}static rightPosition(t,s,l){return l<t.getLineMaxColumn(s)?l=l+qD(t.getLineContent(s),l-1):s<t.getLineCount()&&(s=s+1,l=t.getLineMinColumn(s)),new me(s,l)}static rightPositionAtomicSoftTabs(t,s,l,u,h){if(l<t.getLineIndentColumn(s)){const f=t.getLineContent(s),m=i4.atomicPosition(f,l-1,u,1);if(m!==-1)return new me(s,m+1)}return this.rightPosition(t,s,l)}static right(t,s,l){const u=t.stickyTabStops?vi.rightPositionAtomicSoftTabs(s,l.lineNumber,l.column,t.tabSize,t.indentSize):vi.rightPosition(s,l.lineNumber,l.column);return new Ib(u.lineNumber,u.column,0)}static moveRight(t,s,l,u,h){let f,m;if(l.hasSelection()&&!u)f=l.selection.endLineNumber,m=l.selection.endColumn;else{const A=l.position.delta(void 0,h-1),C=s.normalizePosition(vi.clipPositionColumn(A,s),1),w=vi.right(t,s,C);f=w.lineNumber,m=w.column}return l.move(u,f,m,0)}static vertical(t,s,l,u,h,f,m,A){const C=_s.visibleColumnFromColumn(s.getLineContent(l),u,t.tabSize)+h,w=s.getLineCount(),k=l===1&&u===1,D=l===w&&u===s.getLineMaxColumn(l),I=f<l?k:D;if(l=f,l<1?(l=1,m?u=s.getLineMinColumn(l):u=Math.min(s.getLineMaxColumn(l),u)):l>w?(l=w,m?u=s.getLineMaxColumn(l):u=Math.min(s.getLineMaxColumn(l),u)):u=t.columnFromVisibleColumn(s,l,C),I?h=0:h=C-_s.visibleColumnFromColumn(s.getLineContent(l),u,t.tabSize),A!==void 0){const N=new me(l,u),R=s.normalizePosition(N,A);h=h+(u-R.column),l=R.lineNumber,u=R.column}return new Ib(l,u,h)}static down(t,s,l,u,h,f,m){return this.vertical(t,s,l,u,h,l+f,m,1)}static moveDown(t,s,l,u,h){let f,m;l.hasSelection()&&!u?(f=l.selection.endLineNumber,m=l.selection.endColumn):(f=l.position.lineNumber,m=l.position.column);const A=vi.down(t,s,f,m,l.leftoverVisibleColumns,h,!0);return l.move(u,A.lineNumber,A.column,A.leftoverVisibleColumns)}static translateDown(t,s,l){const u=l.selection,h=vi.down(t,s,u.selectionStartLineNumber,u.selectionStartColumn,l.selectionStartLeftoverVisibleColumns,1,!1),f=vi.down(t,s,u.positionLineNumber,u.positionColumn,l.leftoverVisibleColumns,1,!1);return new Hs(new $(h.lineNumber,h.column,h.lineNumber,h.column),h.leftoverVisibleColumns,new me(f.lineNumber,f.column),f.leftoverVisibleColumns)}static up(t,s,l,u,h,f,m){return this.vertical(t,s,l,u,h,l-f,m,0)}static moveUp(t,s,l,u,h){let f,m;l.hasSelection()&&!u?(f=l.selection.startLineNumber,m=l.selection.startColumn):(f=l.position.lineNumber,m=l.position.column);const A=vi.up(t,s,f,m,l.leftoverVisibleColumns,h,!0);return l.move(u,A.lineNumber,A.column,A.leftoverVisibleColumns)}static translateUp(t,s,l){const u=l.selection,h=vi.up(t,s,u.selectionStartLineNumber,u.selectionStartColumn,l.selectionStartLeftoverVisibleColumns,1,!1),f=vi.up(t,s,u.positionLineNumber,u.positionColumn,l.leftoverVisibleColumns,1,!1);return new Hs(new $(h.lineNumber,h.column,h.lineNumber,h.column),h.leftoverVisibleColumns,new me(f.lineNumber,f.column),f.leftoverVisibleColumns)}static _isBlankLine(t,s){return t.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(t,s,l,u){let h=l.position.lineNumber;for(;h>1&&this._isBlankLine(s,h);)h--;for(;h>1&&!this._isBlankLine(s,h);)h--;return l.move(u,h,s.getLineMinColumn(h),0)}static moveToNextBlankLine(t,s,l,u){const h=s.getLineCount();let f=l.position.lineNumber;for(;f<h&&this._isBlankLine(s,f);)f++;for(;f<h&&!this._isBlankLine(s,f);)f++;return l.move(u,f,s.getLineMinColumn(f),0)}static moveToBeginningOfLine(t,s,l,u){const h=l.position.lineNumber,f=s.getLineMinColumn(h),m=s.getLineFirstNonWhitespaceColumn(h)||f;let A;return l.position.column===m?A=f:A=m,l.move(u,h,A,0)}static moveToEndOfLine(t,s,l,u,h){const f=l.position.lineNumber,m=s.getLineMaxColumn(f);return l.move(u,f,m,h?1073741824-m:0)}static moveToBeginningOfBuffer(t,s,l,u){return l.move(u,1,1,0)}static moveToEndOfBuffer(t,s,l,u){const h=s.getLineCount(),f=s.getLineMaxColumn(h);return l.move(u,h,f,0)}}class Yd{static deleteRight(t,s,l,u){const h=[];let f=t!==3;for(let m=0,A=u.length;m<A;m++){const C=u[m];let w=C;if(w.isEmpty()){const k=C.getPosition(),D=vi.right(s,l,k);w=new $(D.lineNumber,D.column,k.lineNumber,k.column)}if(w.isEmpty()){h[m]=null;continue}w.startLineNumber!==w.endLineNumber&&(f=!0),h[m]=new $s(w,"")}return[f,h]}static isAutoClosingPairDelete(t,s,l,u,h,f,m){if(s==="never"&&l==="never"||t==="never")return!1;for(let A=0,C=f.length;A<C;A++){const w=f[A],k=w.getPosition();if(!w.isEmpty())return!1;const D=h.getLineContent(k.lineNumber);if(k.column<2||k.column>=D.length+1)return!1;const I=D.charAt(k.column-2),N=u.get(I);if(!N)return!1;if(V1(I)){if(l==="never")return!1}else if(s==="never")return!1;const R=D.charAt(k.column-1);let O=!1;for(const W of N)W.open===I&&W.close===R&&(O=!0);if(!O)return!1;if(t==="auto"){let W=!1;for(let B=0,z=m.length;B<z;B++){const G=m[B];if(k.lineNumber===G.startLineNumber&&k.column===G.startColumn){W=!0;break}}if(!W)return!1}}return!0}static _runAutoClosingPairDelete(t,s,l){const u=[];for(let h=0,f=l.length;h<f;h++){const m=l[h].getPosition(),A=new $(m.lineNumber,m.column-1,m.lineNumber,m.column+1);u[h]=new $s(A,"")}return[!0,u]}static deleteLeft(t,s,l,u,h){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,l,u,h))return this._runAutoClosingPairDelete(s,l,u);const f=[];let m=t!==2;for(let A=0,C=u.length;A<C;A++){const w=Yd.getDeleteRange(u[A],l,s);if(w.isEmpty()){f[A]=null;continue}w.startLineNumber!==w.endLineNumber&&(m=!0),f[A]=new $s(w,"")}return[m,f]}static getDeleteRange(t,s,l){if(!t.isEmpty())return t;const u=t.getPosition();if(l.useTabStops&&u.column>1){const h=s.getLineContent(u.lineNumber),f=Zr(h),m=f===-1?h.length+1:f+1;if(u.column<=m){const A=l.visibleColumnFromColumn(s,u),C=_s.prevIndentTabStop(A,l.indentSize),w=l.columnFromVisibleColumn(s,u.lineNumber,C);return new $(u.lineNumber,w,u.lineNumber,u.column)}}return $.fromPositions(Yd.getPositionAfterDeleteLeft(u,s),u)}static getPositionAfterDeleteLeft(t,s){if(t.column>1){const l=Nae(t.column-1,s.getLineContent(t.lineNumber));return t.with(void 0,l+1)}else if(t.lineNumber>1){const l=t.lineNumber-1;return new me(l,s.getLineMaxColumn(l))}else return t}static cut(t,s,l){const u=[];let h=null;l.sort((f,m)=>me.compare(f.getStartPosition(),m.getEndPosition()));for(let f=0,m=l.length;f<m;f++){const A=l[f];if(A.isEmpty())if(t.emptySelectionClipboard){const C=A.getPosition();let w,k,D,I;C.lineNumber<s.getLineCount()?(w=C.lineNumber,k=1,D=C.lineNumber+1,I=1):C.lineNumber>1&&h?.endLineNumber!==C.lineNumber?(w=C.lineNumber-1,k=s.getLineMaxColumn(C.lineNumber-1),D=C.lineNumber,I=s.getLineMaxColumn(C.lineNumber)):(w=C.lineNumber,k=1,D=C.lineNumber,I=s.getLineMaxColumn(C.lineNumber));const N=new $(w,k,D,I);h=N,N.isEmpty()?u[f]=null:u[f]=new $s(N,"")}else u[f]=null;else u[f]=new $s(A,"")}return new Lo(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class Ai{static _createWord(t,s,l,u,h){return{start:u,end:h,wordType:s,nextCharClass:l}}static _findPreviousWordOnLine(t,s,l){const u=s.getLineContent(l.lineNumber);return this._doFindPreviousWordOnLine(u,t,l)}static _doFindPreviousWordOnLine(t,s,l){let u=0;for(let h=l.column-2;h>=0;h--){const f=t.charCodeAt(h),m=s.get(f);if(m===0){if(u===2)return this._createWord(t,u,m,h+1,this._findEndOfWord(t,s,u,h+1));u=1}else if(m===2){if(u===1)return this._createWord(t,u,m,h+1,this._findEndOfWord(t,s,u,h+1));u=2}else if(m===1&&u!==0)return this._createWord(t,u,m,h+1,this._findEndOfWord(t,s,u,h+1))}return u!==0?this._createWord(t,u,1,0,this._findEndOfWord(t,s,u,0)):null}static _findEndOfWord(t,s,l,u){const h=t.length;for(let f=u;f<h;f++){const m=t.charCodeAt(f),A=s.get(m);if(A===1||l===1&&A===2||l===2&&A===0)return f}return h}static _findNextWordOnLine(t,s,l){const u=s.getLineContent(l.lineNumber);return this._doFindNextWordOnLine(u,t,l)}static _doFindNextWordOnLine(t,s,l){let u=0;const h=t.length;for(let f=l.column-1;f<h;f++){const m=t.charCodeAt(f),A=s.get(m);if(A===0){if(u===2)return this._createWord(t,u,A,this._findStartOfWord(t,s,u,f-1),f);u=1}else if(A===2){if(u===1)return this._createWord(t,u,A,this._findStartOfWord(t,s,u,f-1),f);u=2}else if(A===1&&u!==0)return this._createWord(t,u,A,this._findStartOfWord(t,s,u,f-1),f)}return u!==0?this._createWord(t,u,1,this._findStartOfWord(t,s,u,h-1),h):null}static _findStartOfWord(t,s,l,u){for(let h=u;h>=0;h--){const f=t.charCodeAt(h),m=s.get(f);if(m===1||l===1&&m===2||l===2&&m===0)return h+1}return 0}static moveWordLeft(t,s,l,u){let h=l.lineNumber,f=l.column;f===1&&h>1&&(h=h-1,f=s.getLineMaxColumn(h));let m=Ai._findPreviousWordOnLine(t,s,new me(h,f));if(u===0)return new me(h,m?m.start+1:1);if(u===1)return m&&m.wordType===2&&m.end-m.start===1&&m.nextCharClass===0&&(m=Ai._findPreviousWordOnLine(t,s,new me(h,m.start+1))),new me(h,m?m.start+1:1);if(u===3){for(;m&&m.wordType===2;)m=Ai._findPreviousWordOnLine(t,s,new me(h,m.start+1));return new me(h,m?m.start+1:1)}return m&&f<=m.end+1&&(m=Ai._findPreviousWordOnLine(t,s,new me(h,m.start+1))),new me(h,m?m.end+1:1)}static _moveWordPartLeft(t,s){const l=s.lineNumber,u=t.getLineMaxColumn(l);if(s.column===1)return l>1?new me(l-1,t.getLineMaxColumn(l-1)):s;const h=t.getLineContent(l);for(let f=s.column-1;f>1;f--){const m=h.charCodeAt(f-2),A=h.charCodeAt(f-1);if(m===95&&A!==95)return new me(l,f);if(_u(m)&&Z2(A))return new me(l,f);if(Z2(m)&&Z2(A)&&f+1<u){const C=h.charCodeAt(f);if(_u(C))return new me(l,f)}}return new me(l,1)}static moveWordRight(t,s,l,u){let h=l.lineNumber,f=l.column,m=!1;f===s.getLineMaxColumn(h)&&h<s.getLineCount()&&(m=!0,h=h+1,f=1);let A=Ai._findNextWordOnLine(t,s,new me(h,f));if(u===2)A&&A.wordType===2&&A.end-A.start===1&&A.nextCharClass===0&&(A=Ai._findNextWordOnLine(t,s,new me(h,A.end+1))),A?f=A.end+1:f=s.getLineMaxColumn(h);else if(u===3){for(m&&(f=0);A&&(A.wordType===2||A.start+1<=f);)A=Ai._findNextWordOnLine(t,s,new me(h,A.end+1));A?f=A.start+1:f=s.getLineMaxColumn(h)}else A&&!m&&f>=A.start+1&&(A=Ai._findNextWordOnLine(t,s,new me(h,A.end+1))),A?f=A.start+1:f=s.getLineMaxColumn(h);return new me(h,f)}static _moveWordPartRight(t,s){const l=s.lineNumber,u=t.getLineMaxColumn(l);if(s.column===u)return l<t.getLineCount()?new me(l+1,1):s;const h=t.getLineContent(l);for(let f=s.column+1;f<u;f++){const m=h.charCodeAt(f-2),A=h.charCodeAt(f-1);if(m!==95&&A===95)return new me(l,f);if(_u(m)&&Z2(A))return new me(l,f);if(Z2(m)&&Z2(A)&&f+1<u){const C=h.charCodeAt(f);if(_u(C))return new me(l,f)}}return new me(l,u)}static _deleteWordLeftWhitespace(t,s){const l=t.getLineContent(s.lineNumber),u=s.column-2,h=u0(l,u);return h+1<u?new $(s.lineNumber,h+2,s.lineNumber,s.column):null}static deleteWordLeft(t,s){const l=t.wordSeparators,u=t.model,h=t.selection,f=t.whitespaceHeuristics;if(!h.isEmpty())return h;if(Yd.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,t.model,[t.selection],t.autoClosedCharacters)){const k=t.selection.getPosition();return new $(k.lineNumber,k.column-1,k.lineNumber,k.column+1)}const m=new me(h.positionLineNumber,h.positionColumn);let A=m.lineNumber,C=m.column;if(A===1&&C===1)return null;if(f){const k=this._deleteWordLeftWhitespace(u,m);if(k)return k}let w=Ai._findPreviousWordOnLine(l,u,m);return s===0?w?C=w.start+1:C>1?C=1:(A--,C=u.getLineMaxColumn(A)):(w&&C<=w.end+1&&(w=Ai._findPreviousWordOnLine(l,u,new me(A,w.start+1))),w?C=w.end+1:C>1?C=1:(A--,C=u.getLineMaxColumn(A))),new $(A,C,m.lineNumber,m.column)}static deleteInsideWord(t,s,l){if(!l.isEmpty())return l;const u=new me(l.positionLineNumber,l.positionColumn),h=this._deleteInsideWordWhitespace(s,u);return h||this._deleteInsideWordDetermineDeleteRange(t,s,u)}static _charAtIsWhitespace(t,s){const l=t.charCodeAt(s);return l===32||l===9}static _deleteInsideWordWhitespace(t,s){const l=t.getLineContent(s.lineNumber),u=l.length;if(u===0)return null;let h=Math.max(s.column-2,0);if(!this._charAtIsWhitespace(l,h))return null;let f=Math.min(s.column-1,u-1);if(!this._charAtIsWhitespace(l,f))return null;for(;h>0&&this._charAtIsWhitespace(l,h-1);)h--;for(;f+1<u&&this._charAtIsWhitespace(l,f+1);)f++;return new $(s.lineNumber,h+1,s.lineNumber,f+2)}static _deleteInsideWordDetermineDeleteRange(t,s,l){const u=s.getLineContent(l.lineNumber),h=u.length;if(h===0)return l.lineNumber>1?new $(l.lineNumber-1,s.getLineMaxColumn(l.lineNumber-1),l.lineNumber,1):l.lineNumber<s.getLineCount()?new $(l.lineNumber,1,l.lineNumber+1,1):new $(l.lineNumber,1,l.lineNumber,1);const f=k=>k.start+1<=l.column&&l.column<=k.end+1,m=(k,D)=>(k=Math.min(k,l.column),D=Math.max(D,l.column),new $(l.lineNumber,k,l.lineNumber,D)),A=k=>{let D=k.start+1,I=k.end+1,N=!1;for(;I-1<h&&this._charAtIsWhitespace(u,I-1);)N=!0,I++;if(!N)for(;D>1&&this._charAtIsWhitespace(u,D-2);)D--;return m(D,I)},C=Ai._findPreviousWordOnLine(t,s,l);if(C&&f(C))return A(C);const w=Ai._findNextWordOnLine(t,s,l);return w&&f(w)?A(w):C&&w?m(C.end+1,w.start+1):C?m(C.start+1,C.end+1):w?m(w.start+1,w.end+1):m(1,h+1)}static _deleteWordPartLeft(t,s){if(!s.isEmpty())return s;const l=s.getPosition(),u=Ai._moveWordPartLeft(t,l);return new $(l.lineNumber,l.column,u.lineNumber,u.column)}static _findFirstNonWhitespaceChar(t,s){const l=t.length;for(let u=s;u<l;u++){const h=t.charAt(u);if(h!==" "&&h!=="	")return u}return l}static _deleteWordRightWhitespace(t,s){const l=t.getLineContent(s.lineNumber),u=s.column-1,h=this._findFirstNonWhitespaceChar(l,u);return u+1<h?new $(s.lineNumber,s.column,s.lineNumber,h+1):null}static deleteWordRight(t,s){const l=t.wordSeparators,u=t.model,h=t.selection,f=t.whitespaceHeuristics;if(!h.isEmpty())return h;const m=new me(h.positionLineNumber,h.positionColumn);let A=m.lineNumber,C=m.column;const w=u.getLineCount(),k=u.getLineMaxColumn(A);if(A===w&&C===k)return null;if(f){const I=this._deleteWordRightWhitespace(u,m);if(I)return I}let D=Ai._findNextWordOnLine(l,u,m);return s===2?D?C=D.end+1:C<k||A===w?C=k:(A++,D=Ai._findNextWordOnLine(l,u,new me(A,1)),D?C=D.start+1:C=u.getLineMaxColumn(A)):(D&&C>=D.start+1&&(D=Ai._findNextWordOnLine(l,u,new me(A,D.end+1))),D?C=D.start+1:C<k||A===w?C=k:(A++,D=Ai._findNextWordOnLine(l,u,new me(A,1)),D?C=D.start+1:C=u.getLineMaxColumn(A))),new $(A,C,m.lineNumber,m.column)}static _deleteWordPartRight(t,s){if(!s.isEmpty())return s;const l=s.getPosition(),u=Ai._moveWordPartRight(t,l);return new $(l.lineNumber,l.column,u.lineNumber,u.column)}static _createWordAtPosition(t,s,l){const u=new $(s,l.start+1,s,l.end+1);return{word:t.getValueInRange(u),startColumn:u.startColumn,endColumn:u.endColumn}}static getWordAtPosition(t,s,l){const u=Wl(s),h=Ai._findPreviousWordOnLine(u,t,l);if(h&&h.wordType===1&&h.start<=l.column-1&&l.column-1<=h.end)return Ai._createWordAtPosition(t,l.lineNumber,h);const f=Ai._findNextWordOnLine(u,t,l);return f&&f.wordType===1&&f.start<=l.column-1&&l.column-1<=f.end?Ai._createWordAtPosition(t,l.lineNumber,f):null}static word(t,s,l,u,h){const f=Wl(t.wordSeparators),m=Ai._findPreviousWordOnLine(f,s,h),A=Ai._findNextWordOnLine(f,s,h);if(!u){let I,N;return m&&m.wordType===1&&m.start<=h.column-1&&h.column-1<=m.end?(I=m.start+1,N=m.end+1):A&&A.wordType===1&&A.start<=h.column-1&&h.column-1<=A.end?(I=A.start+1,N=A.end+1):(m?I=m.end+1:I=1,A?N=A.start+1:N=s.getLineMaxColumn(h.lineNumber)),new Hs(new $(h.lineNumber,I,h.lineNumber,N),0,new me(h.lineNumber,N),0)}let C,w;m&&m.wordType===1&&m.start<h.column-1&&h.column-1<m.end?(C=m.start+1,w=m.end+1):A&&A.wordType===1&&A.start<h.column-1&&h.column-1<A.end?(C=A.start+1,w=A.end+1):(C=h.column,w=h.column);const k=h.lineNumber;let D;if(l.selectionStart.containsPosition(h))D=l.selectionStart.endColumn;else if(h.isBeforeOrEqual(l.selectionStart.getStartPosition())){D=C;const I=new me(k,D);l.selectionStart.containsPosition(I)&&(D=l.selectionStart.endColumn)}else{D=w;const I=new me(k,D);l.selectionStart.containsPosition(I)&&(D=l.selectionStart.startColumn)}return l.move(!0,k,D,0)}}class ev extends Ai{static deleteWordPartLeft(t){const s=U8([Ai.deleteWordLeft(t,0),Ai.deleteWordLeft(t,2),Ai._deleteWordPartLeft(t.model,t.selection)]);return s.sort($.compareRangesUsingEnds),s[2]}static deleteWordPartRight(t){const s=U8([Ai.deleteWordRight(t,0),Ai.deleteWordRight(t,2),Ai._deleteWordPartRight(t.model,t.selection)]);return s.sort($.compareRangesUsingStarts),s[0]}static moveWordPartLeft(t,s,l){const u=U8([Ai.moveWordLeft(t,s,l,0),Ai.moveWordLeft(t,s,l,2),Ai._moveWordPartLeft(s,l)]);return u.sort(me.compare),u[2]}static moveWordPartRight(t,s,l){const u=U8([Ai.moveWordRight(t,s,l,0),Ai.moveWordRight(t,s,l,2),Ai._moveWordPartRight(s,l)]);return u.sort(me.compare),u[0]}}function U8(d){return d.filter(t=>Boolean(t))}class Vs{static addCursorDown(t,s,l){const u=[];let h=0;for(let f=0,m=s.length;f<m;f++){const A=s[f];u[h++]=new Xt(A.modelState,A.viewState),l?u[h++]=Xt.fromModelState(vi.translateDown(t.cursorConfig,t.model,A.modelState)):u[h++]=Xt.fromViewState(vi.translateDown(t.cursorConfig,t,A.viewState))}return u}static addCursorUp(t,s,l){const u=[];let h=0;for(let f=0,m=s.length;f<m;f++){const A=s[f];u[h++]=new Xt(A.modelState,A.viewState),l?u[h++]=Xt.fromModelState(vi.translateUp(t.cursorConfig,t.model,A.modelState)):u[h++]=Xt.fromViewState(vi.translateUp(t.cursorConfig,t,A.viewState))}return u}static moveToBeginningOfLine(t,s,l){let u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h];u[h]=this._moveToLineStart(t,m,l)}return u}static _moveToLineStart(t,s,l){const u=s.viewState.position.column,h=s.modelState.position.column,f=u===h,m=s.viewState.position.lineNumber,A=t.getLineFirstNonWhitespaceColumn(m);return!f&&!(u===A)?this._moveToLineStartByView(t,s,l):this._moveToLineStartByModel(t,s,l)}static _moveToLineStartByView(t,s,l){return Xt.fromViewState(vi.moveToBeginningOfLine(t.cursorConfig,t,s.viewState,l))}static _moveToLineStartByModel(t,s,l){return Xt.fromModelState(vi.moveToBeginningOfLine(t.cursorConfig,t.model,s.modelState,l))}static moveToEndOfLine(t,s,l,u){const h=[];for(let f=0,m=s.length;f<m;f++){const A=s[f];h[f]=this._moveToLineEnd(t,A,l,u)}return h}static _moveToLineEnd(t,s,l,u){const h=s.viewState.position,f=t.getLineMaxColumn(h.lineNumber),m=h.column===f,A=s.modelState.position,C=t.model.getLineMaxColumn(A.lineNumber),w=f-h.column===C-A.column;return m||w?this._moveToLineEndByModel(t,s,l,u):this._moveToLineEndByView(t,s,l,u)}static _moveToLineEndByView(t,s,l,u){return Xt.fromViewState(vi.moveToEndOfLine(t.cursorConfig,t,s.viewState,l,u))}static _moveToLineEndByModel(t,s,l,u){return Xt.fromModelState(vi.moveToEndOfLine(t.cursorConfig,t.model,s.modelState,l,u))}static expandLineSelection(t,s){const l=[];for(let u=0,h=s.length;u<h;u++){const f=s[u],m=f.modelState.selection.startLineNumber,A=t.model.getLineCount();let C=f.modelState.selection.endLineNumber,w;C===A?w=t.model.getLineMaxColumn(A):(C++,w=1),l[u]=Xt.fromModelState(new Hs(new $(m,1,m,1),0,new me(C,w),0))}return l}static moveToBeginningOfBuffer(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h];u[h]=Xt.fromModelState(vi.moveToBeginningOfBuffer(t.cursorConfig,t.model,m.modelState,l))}return u}static moveToEndOfBuffer(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h];u[h]=Xt.fromModelState(vi.moveToEndOfBuffer(t.cursorConfig,t.model,m.modelState,l))}return u}static selectAll(t,s){const l=t.model.getLineCount(),u=t.model.getLineMaxColumn(l);return Xt.fromModelState(new Hs(new $(1,1,1,1),0,new me(l,u),0))}static line(t,s,l,u,h){const f=t.model.validatePosition(u),m=h?t.coordinatesConverter.validateViewPosition(new me(h.lineNumber,h.column),f):t.coordinatesConverter.convertModelPositionToViewPosition(f);if(!l||!s.modelState.hasSelection()){const C=t.model.getLineCount();let w=f.lineNumber+1,k=1;return w>C&&(w=C,k=t.model.getLineMaxColumn(w)),Xt.fromModelState(new Hs(new $(f.lineNumber,1,w,k),0,new me(w,k),0))}const A=s.modelState.selectionStart.getStartPosition().lineNumber;if(f.lineNumber<A)return Xt.fromViewState(s.viewState.move(s.modelState.hasSelection(),m.lineNumber,1,0));if(f.lineNumber>A){const C=t.getLineCount();let w=m.lineNumber+1,k=1;return w>C&&(w=C,k=t.getLineMaxColumn(w)),Xt.fromViewState(s.viewState.move(s.modelState.hasSelection(),w,k,0))}else{const C=s.modelState.selectionStart.getEndPosition();return Xt.fromModelState(s.modelState.move(s.modelState.hasSelection(),C.lineNumber,C.column,0))}}static word(t,s,l,u){const h=t.model.validatePosition(u);return Xt.fromModelState(Ai.word(t.cursorConfig,t.model,s.modelState,l,h))}static cancelSelection(t,s){if(!s.modelState.hasSelection())return new Xt(s.modelState,s.viewState);const l=s.viewState.position.lineNumber,u=s.viewState.position.column;return Xt.fromViewState(new Hs(new $(l,u,l,u),0,new me(l,u),0))}static moveTo(t,s,l,u,h){const f=t.model.validatePosition(u),m=h?t.coordinatesConverter.validateViewPosition(new me(h.lineNumber,h.column),f):t.coordinatesConverter.convertModelPositionToViewPosition(f);return Xt.fromViewState(s.viewState.move(l,m.lineNumber,m.column,0))}static simpleMove(t,s,l,u,h,f){switch(l){case 0:return f===4?this._moveHalfLineLeft(t,s,u):this._moveLeft(t,s,u,h);case 1:return f===4?this._moveHalfLineRight(t,s,u):this._moveRight(t,s,u,h);case 2:return f===2?this._moveUpByViewLines(t,s,u,h):this._moveUpByModelLines(t,s,u,h);case 3:return f===2?this._moveDownByViewLines(t,s,u,h):this._moveDownByModelLines(t,s,u,h);case 4:return f===2?s.map(m=>Xt.fromViewState(vi.moveToPrevBlankLine(t.cursorConfig,t,m.viewState,u))):s.map(m=>Xt.fromModelState(vi.moveToPrevBlankLine(t.cursorConfig,t.model,m.modelState,u)));case 5:return f===2?s.map(m=>Xt.fromViewState(vi.moveToNextBlankLine(t.cursorConfig,t,m.viewState,u))):s.map(m=>Xt.fromModelState(vi.moveToNextBlankLine(t.cursorConfig,t.model,m.modelState,u)));case 6:return this._moveToViewMinColumn(t,s,u);case 7:return this._moveToViewFirstNonWhitespaceColumn(t,s,u);case 8:return this._moveToViewCenterColumn(t,s,u);case 9:return this._moveToViewMaxColumn(t,s,u);case 10:return this._moveToViewLastNonWhitespaceColumn(t,s,u);default:return null}}static viewportMove(t,s,l,u,h){const f=t.getCompletelyVisibleViewRange(),m=t.coordinatesConverter.convertViewRangeToModelRange(f);switch(l){case 11:{const A=this._firstLineNumberInRange(t.model,m,h),C=t.model.getLineFirstNonWhitespaceColumn(A);return[this._moveToModelPosition(t,s[0],u,A,C)]}case 13:{const A=this._lastLineNumberInRange(t.model,m,h),C=t.model.getLineFirstNonWhitespaceColumn(A);return[this._moveToModelPosition(t,s[0],u,A,C)]}case 12:{const A=Math.round((m.startLineNumber+m.endLineNumber)/2),C=t.model.getLineFirstNonWhitespaceColumn(A);return[this._moveToModelPosition(t,s[0],u,A,C)]}case 14:{const A=[];for(let C=0,w=s.length;C<w;C++){const k=s[C];A[C]=this.findPositionInViewportIfOutside(t,k,f,u)}return A}default:return null}}static findPositionInViewportIfOutside(t,s,l,u){const h=s.viewState.position.lineNumber;if(l.startLineNumber<=h&&h<=l.endLineNumber-1)return new Xt(s.modelState,s.viewState);{let f;h>l.endLineNumber-1?f=l.endLineNumber-1:h<l.startLineNumber?f=l.startLineNumber:f=h;const m=vi.vertical(t.cursorConfig,t,h,s.viewState.position.column,s.viewState.leftoverVisibleColumns,f,!1);return Xt.fromViewState(s.viewState.move(u,m.lineNumber,m.column,m.leftoverVisibleColumns))}}static _firstLineNumberInRange(t,s,l){let u=s.startLineNumber;return s.startColumn!==t.getLineMinColumn(u)&&u++,Math.min(s.endLineNumber,u+l-1)}static _lastLineNumberInRange(t,s,l){let u=s.startLineNumber;return s.startColumn!==t.getLineMinColumn(u)&&u++,Math.max(u,s.endLineNumber-l+1)}static _moveLeft(t,s,l,u){return s.map(h=>Xt.fromViewState(vi.moveLeft(t.cursorConfig,t,h.viewState,l,u)))}static _moveHalfLineLeft(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=Math.round(t.getLineContent(A).length/2);u[h]=Xt.fromViewState(vi.moveLeft(t.cursorConfig,t,m.viewState,l,C))}return u}static _moveRight(t,s,l,u){return s.map(h=>Xt.fromViewState(vi.moveRight(t.cursorConfig,t,h.viewState,l,u)))}static _moveHalfLineRight(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=Math.round(t.getLineContent(A).length/2);u[h]=Xt.fromViewState(vi.moveRight(t.cursorConfig,t,m.viewState,l,C))}return u}static _moveDownByViewLines(t,s,l,u){const h=[];for(let f=0,m=s.length;f<m;f++){const A=s[f];h[f]=Xt.fromViewState(vi.moveDown(t.cursorConfig,t,A.viewState,l,u))}return h}static _moveDownByModelLines(t,s,l,u){const h=[];for(let f=0,m=s.length;f<m;f++){const A=s[f];h[f]=Xt.fromModelState(vi.moveDown(t.cursorConfig,t.model,A.modelState,l,u))}return h}static _moveUpByViewLines(t,s,l,u){const h=[];for(let f=0,m=s.length;f<m;f++){const A=s[f];h[f]=Xt.fromViewState(vi.moveUp(t.cursorConfig,t,A.viewState,l,u))}return h}static _moveUpByModelLines(t,s,l,u){const h=[];for(let f=0,m=s.length;f<m;f++){const A=s[f];h[f]=Xt.fromModelState(vi.moveUp(t.cursorConfig,t.model,A.modelState,l,u))}return h}static _moveToViewPosition(t,s,l,u,h){return Xt.fromViewState(s.viewState.move(l,u,h,0))}static _moveToModelPosition(t,s,l,u,h){return Xt.fromModelState(s.modelState.move(l,u,h,0))}static _moveToViewMinColumn(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=t.getLineMinColumn(A);u[h]=this._moveToViewPosition(t,m,l,A,C)}return u}static _moveToViewFirstNonWhitespaceColumn(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=t.getLineFirstNonWhitespaceColumn(A);u[h]=this._moveToViewPosition(t,m,l,A,C)}return u}static _moveToViewCenterColumn(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=Math.round((t.getLineMaxColumn(A)+t.getLineMinColumn(A))/2);u[h]=this._moveToViewPosition(t,m,l,A,C)}return u}static _moveToViewMaxColumn(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=t.getLineMaxColumn(A);u[h]=this._moveToViewPosition(t,m,l,A,C)}return u}static _moveToViewLastNonWhitespaceColumn(t,s,l){const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.viewState.position.lineNumber,C=t.getLineLastNonWhitespaceColumn(A);u[h]=this._moveToViewPosition(t,m,l,A,C)}return u}}var dC;(function(d){const t=function(l){if(!ho(l))return!1;const u=l;return!(!Ol(u.to)||!No(u.select)&&!_W(u.select)||!No(u.by)&&!Ol(u.by)||!No(u.value)&&!Od(u.value))};d.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},d.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},d.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function s(l){if(!l.to)return null;let u;switch(l.to){case d.RawDirection.Left:u=0;break;case d.RawDirection.Right:u=1;break;case d.RawDirection.Up:u=2;break;case d.RawDirection.Down:u=3;break;case d.RawDirection.PrevBlankLine:u=4;break;case d.RawDirection.NextBlankLine:u=5;break;case d.RawDirection.WrappedLineStart:u=6;break;case d.RawDirection.WrappedLineFirstNonWhitespaceCharacter:u=7;break;case d.RawDirection.WrappedLineColumnCenter:u=8;break;case d.RawDirection.WrappedLineEnd:u=9;break;case d.RawDirection.WrappedLineLastNonWhitespaceCharacter:u=10;break;case d.RawDirection.ViewPortTop:u=11;break;case d.RawDirection.ViewPortBottom:u=13;break;case d.RawDirection.ViewPortCenter:u=12;break;case d.RawDirection.ViewPortIfOutside:u=14;break;default:return null}let h=0;switch(l.by){case d.RawUnit.Line:h=1;break;case d.RawUnit.WrappedLine:h=2;break;case d.RawUnit.Character:h=3;break;case d.RawUnit.HalfLine:h=4;break}return{direction:u,unit:h,select:!!l.select,value:l.value||1}}d.parse=s})(dC||(dC={}));const xb=Object.create(null);function Gh(d,t){if(t<=0)return"";xb[d]||(xb[d]=["",d]);const s=xb[d];for(let l=s.length;l<=t;l++)s[l]=s[l-1]+d;return s[t]}class sl{constructor(t,s){this._opts=s,this._selection=t,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(t,s,l,u,h){const f=_s.visibleColumnFromColumn(t,s,l);if(h){const m=Gh(" ",u),C=_s.prevIndentTabStop(f,u)/u;return Gh(m,C)}else{const m="	",C=_s.prevRenderTabStop(f,l)/l;return Gh(m,C)}}static shiftIndent(t,s,l,u,h){const f=_s.visibleColumnFromColumn(t,s,l);if(h){const m=Gh(" ",u),C=_s.nextIndentTabStop(f,u)/u;return Gh(m,C)}else{const m="	",C=_s.nextRenderTabStop(f,l)/l;return Gh(m,C)}}_addEditOperation(t,s,l){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(s,l):t.addEditOperation(s,l)}getEditOperations(t,s){const l=this._selection.startLineNumber;let u=this._selection.endLineNumber;this._selection.endColumn===1&&l!==u&&(u=u-1);const{tabSize:h,indentSize:f,insertSpaces:m}=this._opts,A=l===u;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(l))&&(this._useLastEditRangeForCursorEndPosition=!0);let C=0,w=0;for(let k=l;k<=u;k++,C=w){w=0;const D=t.getLineContent(k);let I=Zr(D);if(this._opts.isUnshift&&(D.length===0||I===0)||!A&&!this._opts.isUnshift&&D.length===0)continue;if(I===-1&&(I=D.length),k>1&&_s.visibleColumnFromColumn(D,I+1,h)%f!==0&&t.isCheapToTokenize(k-1)){const O=cs.getEnterAction(this._opts.autoIndent,t,new $(k-1,t.getLineMaxColumn(k-1),k-1,t.getLineMaxColumn(k-1)));if(O){if(w=C,O.appendText)for(let W=0,B=O.appendText.length;W<B&&w<f&&O.appendText.charCodeAt(W)===32;W++)w++;O.removeText&&(w=Math.max(0,w-O.removeText));for(let W=0;W<w&&!(I===0||D.charCodeAt(I-1)!==32);W++)I--}}if(this._opts.isUnshift&&I===0)continue;let N;this._opts.isUnshift?N=sl.unshiftIndent(D,I+1,h,f,m):N=sl.shiftIndent(D,I+1,h,f,m),this._addEditOperation(s,new $(k,1,k,I+1),N),k===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=I+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&t.getLineLength(l)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const C=m?Gh(" ",f):"	";for(let w=l;w<=u;w++){const k=t.getLineContent(w);let D=Zr(k);if(!(this._opts.isUnshift&&(k.length===0||D===0))&&!(!A&&!this._opts.isUnshift&&k.length===0)&&(D===-1&&(D=k.length),!(this._opts.isUnshift&&D===0)))if(this._opts.isUnshift){D=Math.min(D,f);for(let I=0;I<D;I++)if(k.charCodeAt(I)===9){D=I+1;break}this._addEditOperation(s,new $(w,1,w,D+1),"")}else this._addEditOperation(s,new $(w,1,w,1),C),w===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=s.trackSelection(this._selection)}computeCursorState(t,s){if(this._useLastEditRangeForCursorEndPosition){const u=s.getInverseEditOperations()[0];return new et(u.range.endLineNumber,u.range.endColumn,u.range.endLineNumber,u.range.endColumn)}const l=s.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const u=this._selection.startColumn;return l.startColumn<=u?l:l.getDirection()===0?new et(l.startLineNumber,u,l.endLineNumber,l.endColumn):new et(l.endLineNumber,l.endColumn,l.startLineNumber,u)}return l}}class Ede{constructor(t,s,l){this._range=t,this._charBeforeSelection=s,this._charAfterSelection=l}getEditOperations(t,s){s.addTrackedEditOperation(new $(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),s.addTrackedEditOperation(new $(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(t,s){const l=s.getInverseEditOperations(),u=l[0].range,h=l[1].range;return new et(u.endLineNumber,u.endColumn,h.endLineNumber,h.endColumn-this._charAfterSelection.length)}}class vn{static indent(t,s,l){if(s===null||l===null)return[];const u=[];for(let h=0,f=l.length;h<f;h++)u[h]=new sl(l[h],{isUnshift:!1,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent});return u}static outdent(t,s,l){const u=[];for(let h=0,f=l.length;h<f;h++)u[h]=new sl(l[h],{isUnshift:!0,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent});return u}static shiftIndent(t,s,l){return l=l||1,sl.shiftIndent(s,s.length+l,t.tabSize,t.indentSize,t.insertSpaces)}static unshiftIndent(t,s,l){return l=l||1,sl.unshiftIndent(s,s.length+l,t.tabSize,t.indentSize,t.insertSpaces)}static _distributedPaste(t,s,l,u){const h=[];for(let f=0,m=l.length;f<m;f++)h[f]=new $s(l[f],u[f]);return new Lo(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(t,s,l,u,h){const f=[];for(let m=0,A=l.length;m<A;m++){const C=l[m],w=C.getPosition();if(h&&!C.isEmpty()&&(h=!1),h&&u.indexOf(`
`)!==u.length-1&&(h=!1),h){const k=new $(w.lineNumber,1,w.lineNumber,1);f[m]=new UI(k,u,C,!0)}else f[m]=new $s(C,u)}return new Lo(0,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(t,s,l,u,h){if(u||s.length===1)return null;if(h&&h.length===s.length)return h;if(t.multiCursorPaste==="spread"){l.charCodeAt(l.length-1)===10&&(l=l.substr(0,l.length-1)),l.charCodeAt(l.length-1)===13&&(l=l.substr(0,l.length-1));const f=m0(l);if(f.length===s.length)return f}return null}static paste(t,s,l,u,h,f){const m=this._distributePasteToCursors(t,l,u,h,f);return m?(l=l.sort($.compareRangesUsingStarts),this._distributedPaste(t,s,l,m)):this._simplePaste(t,s,l,u,h)}static _goodIndentForLine(t,s,l){let u=null,h="";const f=cs.getInheritIndentForLine(t.autoIndent,s,l,!1);if(f)u=f.action,h=f.indentation;else if(l>1){let m;for(m=l-1;m>=1;m--){const w=s.getLineContent(m);if(u0(w)>=0)break}if(m<1)return null;const A=s.getLineMaxColumn(m),C=cs.getEnterAction(t.autoIndent,s,new $(m,A,m,A));C&&(h=C.indentation+C.appendText)}return u&&(u===Xn.Indent&&(h=vn.shiftIndent(t,h)),u===Xn.Outdent&&(h=vn.unshiftIndent(t,h)),h=t.normalizeIndentation(h)),h||null}static _replaceJumpToNextIndent(t,s,l,u){let h="";const f=l.getStartPosition();if(t.insertSpaces){const m=t.visibleColumnFromColumn(s,f),A=t.indentSize,C=A-m%A;for(let w=0;w<C;w++)h+=" "}else h="	";return new $s(l,h,u)}static tab(t,s,l){const u=[];for(let h=0,f=l.length;h<f;h++){const m=l[h];if(m.isEmpty()){const A=s.getLineContent(m.startLineNumber);if(/^\s*$/.test(A)&&s.isCheapToTokenize(m.startLineNumber)){let C=this._goodIndentForLine(t,s,m.startLineNumber);C=C||"	";const w=t.normalizeIndentation(C);if(!A.startsWith(w)){u[h]=new $s(new $(m.startLineNumber,1,m.startLineNumber,A.length+1),w,!0);continue}}u[h]=this._replaceJumpToNextIndent(t,s,m,!0)}else{if(m.startLineNumber===m.endLineNumber){const A=s.getLineMaxColumn(m.startLineNumber);if(m.startColumn!==1||m.endColumn!==A){u[h]=this._replaceJumpToNextIndent(t,s,m,!1);continue}}u[h]=new sl(m,{isUnshift:!1,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent})}}return u}static compositionType(t,s,l,u,h,f,m,A){const C=u.map(w=>this._compositionType(l,w,h,f,m,A));return new Lo(4,C,{shouldPushStackElementBefore:z8(t,4),shouldPushStackElementAfter:!1})}static _compositionType(t,s,l,u,h,f){if(!s.isEmpty())return null;const m=s.getPosition(),A=Math.max(1,m.column-u),C=Math.min(t.getLineMaxColumn(m.lineNumber),m.column+h),w=new $(m.lineNumber,A,m.lineNumber,C);return t.getValueInRange(w)===l&&f===0?null:new r3(w,l,0,f)}static _typeCommand(t,s,l){return l?new H8(t,s,!0):new $s(t,s,!0)}static _enter(t,s,l,u){if(t.autoIndent===0)return vn._typeCommand(u,`
`,l);if(!s.isCheapToTokenize(u.getStartPosition().lineNumber)||t.autoIndent===1){const A=s.getLineContent(u.startLineNumber),C=Hi(A).substring(0,u.startColumn-1);return vn._typeCommand(u,`
`+t.normalizeIndentation(C),l)}const h=cs.getEnterAction(t.autoIndent,s,u);if(h){if(h.indentAction===Xn.None)return vn._typeCommand(u,`
`+t.normalizeIndentation(h.indentation+h.appendText),l);if(h.indentAction===Xn.Indent)return vn._typeCommand(u,`
`+t.normalizeIndentation(h.indentation+h.appendText),l);if(h.indentAction===Xn.IndentOutdent){const A=t.normalizeIndentation(h.indentation),C=t.normalizeIndentation(h.indentation+h.appendText),w=`
`+C+`
`+A;return l?new H8(u,w,!0):new r3(u,w,-1,C.length-A.length,!0)}else if(h.indentAction===Xn.Outdent){const A=vn.unshiftIndent(t,h.indentation);return vn._typeCommand(u,`
`+t.normalizeIndentation(A+h.appendText),l)}}const f=s.getLineContent(u.startLineNumber),m=Hi(f).substring(0,u.startColumn-1);if(t.autoIndent>=4){const A=cs.getIndentForEnter(t.autoIndent,s,u,{unshiftIndent:C=>vn.unshiftIndent(t,C),shiftIndent:C=>vn.shiftIndent(t,C),normalizeIndentation:C=>t.normalizeIndentation(C)});if(A){let C=t.visibleColumnFromColumn(s,u.getEndPosition());const w=u.endColumn,k=s.getLineContent(u.endLineNumber),D=Zr(k);if(D>=0?u=u.setEndPosition(u.endLineNumber,Math.max(u.endColumn,D+1)):u=u.setEndPosition(u.endLineNumber,s.getLineMaxColumn(u.endLineNumber)),l)return new H8(u,`
`+t.normalizeIndentation(A.afterEnter),!0);{let I=0;return w<=D+1&&(t.insertSpaces||(C=Math.ceil(C/t.indentSize)),I=Math.min(C+1-t.normalizeIndentation(A.afterEnter).length-1,0)),new r3(u,`
`+t.normalizeIndentation(A.afterEnter),0,I,!0)}}}return vn._typeCommand(u,`
`+t.normalizeIndentation(m),l)}static _isAutoIndentType(t,s,l){if(t.autoIndent<4)return!1;for(let u=0,h=l.length;u<h;u++)if(!s.isCheapToTokenize(l[u].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(t,s,l,u){const h=cs.getIndentationAtPosition(s,l.startLineNumber,l.startColumn),f=cs.getIndentActionForType(t.autoIndent,s,l,u,{shiftIndent:m=>vn.shiftIndent(t,m),unshiftIndent:m=>vn.unshiftIndent(t,m)});if(f===null)return null;if(f!==t.normalizeIndentation(h)){const m=s.getLineFirstNonWhitespaceColumn(l.startLineNumber);return m===0?vn._typeCommand(new $(l.startLineNumber,1,l.endLineNumber,l.endColumn),t.normalizeIndentation(f)+u,!1):vn._typeCommand(new $(l.startLineNumber,1,l.endLineNumber,l.endColumn),t.normalizeIndentation(f)+s.getLineContent(l.startLineNumber).substring(m-1,l.startColumn-1)+u,!1)}return null}static _isAutoClosingOvertype(t,s,l,u,h){if(t.autoClosingOvertype==="never"||!t.autoClosingPairs.autoClosingPairsCloseSingleChar.has(h))return!1;for(let f=0,m=l.length;f<m;f++){const A=l[f];if(!A.isEmpty())return!1;const C=A.getPosition(),w=s.getLineContent(C.lineNumber);if(w.charAt(C.column-1)!==h)return!1;const D=V1(h);if((C.column>2?w.charCodeAt(C.column-2):0)===92&&D)return!1;if(t.autoClosingOvertype==="auto"){let N=!1;for(let R=0,O=u.length;R<O;R++){const W=u[R];if(C.lineNumber===W.startLineNumber&&C.column===W.startColumn){N=!0;break}}if(!N)return!1}}return!0}static _runAutoClosingOvertype(t,s,l,u,h){const f=[];for(let m=0,A=u.length;m<A;m++){const w=u[m].getPosition(),k=new $(w.lineNumber,w.column,w.lineNumber,w.column+1);f[m]=new $s(k,h)}return new Lo(4,f,{shouldPushStackElementBefore:z8(t,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(t,s){const l=s.charAt(0),u=t.autoClosingPairs.autoClosingPairsOpenByStart.get(l)||[],h=t.autoClosingPairs.autoClosingPairsCloseByStart.get(l)||[],f=u.some(A=>s.startsWith(A.open)),m=h.some(A=>s.startsWith(A.close));return!f&&m}static _findAutoClosingPairOpen(t,s,l,u){const h=t.autoClosingPairs.autoClosingPairsOpenByEnd.get(u);if(!h)return null;let f=null;for(const m of h)if(f===null||m.open.length>f.open.length){let A=!0;for(const C of l)if(s.getValueInRange(new $(C.lineNumber,C.column-m.open.length+1,C.lineNumber,C.column))+u!==m.open){A=!1;break}A&&(f=m)}return f}static _findContainedAutoClosingPair(t,s){if(s.open.length<=1)return null;const l=s.close.charAt(s.close.length-1),u=t.autoClosingPairs.autoClosingPairsCloseByEnd.get(l)||[];let h=null;for(const f of u)f.open!==s.open&&s.open.includes(f.open)&&s.close.endsWith(f.close)&&(!h||f.open.length>h.open.length)&&(h=f);return h}static _getAutoClosingPairClose(t,s,l,u,h){const f=V1(u),m=f?t.autoClosingQuotes:t.autoClosingBrackets,A=f?t.shouldAutoCloseBefore.quote:t.shouldAutoCloseBefore.bracket;if(m==="never")return null;for(const N of l)if(!N.isEmpty())return null;const C=l.map(N=>{const R=N.getPosition();return h?{lineNumber:R.lineNumber,beforeColumn:R.column-u.length,afterColumn:R.column}:{lineNumber:R.lineNumber,beforeColumn:R.column,afterColumn:R.column}}),w=this._findAutoClosingPairOpen(t,s,C.map(N=>new me(N.lineNumber,N.beforeColumn)),u);if(!w)return null;const k=this._findContainedAutoClosingPair(t,w),D=k?k.close:"";let I=!0;for(const N of C){const{lineNumber:R,beforeColumn:O,afterColumn:W}=N,B=s.getLineContent(R),z=B.substring(0,O-1),G=B.substring(W-1);if(G.startsWith(D)||(I=!1),G.length>0){const J=G.charAt(0);if(!vn._isBeforeClosingBrace(t,G)&&!A(J))return null}if(w.open.length===1&&(u==="'"||u==='"')&&m!=="always"){const J=Wl(t.wordSeparators);if(z.length>0){const ne=z.charCodeAt(z.length-1);if(J.get(ne)===0)return null}}if(!s.isCheapToTokenize(R))return null;s.forceTokenization(R);const K=s.getLineTokens(R),q=Q3(K,O-1);if(!w.shouldAutoClose(q,O-q.firstCharOffset))return null;const Y=w.findNeutralCharacter();if(Y){const J=s.getTokenTypeIfInsertingCharacter(R,O,Y);if(!w.isOK(J))return null}}return I?w.close.substring(0,w.close.length-D.length):w.close}static _runAutoClosingOpenCharType(t,s,l,u,h,f,m){const A=[];for(let C=0,w=u.length;C<w;C++){const k=u[C];A[C]=new wH(k,h,!f,m)}return new Lo(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(t,s){return V1(s)?t.autoSurround==="quotes"||t.autoSurround==="languageDefined":t.autoSurround==="brackets"||t.autoSurround==="languageDefined"}static _isSurroundSelectionType(t,s,l,u){if(!vn._shouldSurroundChar(t,u)||!t.surroundingPairs.hasOwnProperty(u))return!1;const h=V1(u);for(let f=0,m=l.length;f<m;f++){const A=l[f];if(A.isEmpty())return!1;let C=!0;for(let w=A.startLineNumber;w<=A.endLineNumber;w++){const k=s.getLineContent(w),D=w===A.startLineNumber?A.startColumn-1:0,I=w===A.endLineNumber?A.endColumn-1:k.length,N=k.substring(D,I);if(/[^ \t]/.test(N)){C=!1;break}}if(C)return!1;if(h&&A.startLineNumber===A.endLineNumber&&A.startColumn+1===A.endColumn){const w=s.getValueInRange(A);if(V1(w))return!1}}return!0}static _runSurroundSelectionType(t,s,l,u,h){const f=[];for(let m=0,A=u.length;m<A;m++){const C=u[m],w=s.surroundingPairs[h];f[m]=new Ede(C,h,w)}return new Lo(0,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(t,s,l){return!!(l.length===1&&s.isCheapToTokenize(l[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(t,s,l,u,h){if(!s.electricChars.hasOwnProperty(h)||!u.isEmpty())return null;const f=u.getPosition();l.forceTokenization(f.lineNumber);const m=l.getLineTokens(f.lineNumber);let A;try{A=s.onElectricCharacter(h,m,f.column)}catch(C){return Bt(C),null}if(!A)return null;if(A.matchOpenBracket){const C=(m.getLineContent()+h).lastIndexOf(A.matchOpenBracket)+1,w=l.bracketPairs.findMatchingBracketUp(A.matchOpenBracket,{lineNumber:f.lineNumber,column:C},500);if(w){if(w.startLineNumber===f.lineNumber)return null;const k=l.getLineContent(w.startLineNumber),D=Hi(k),I=s.normalizeIndentation(D),N=l.getLineContent(f.lineNumber),R=l.getLineFirstNonWhitespaceColumn(f.lineNumber)||f.column,O=N.substring(R-1,f.column-1),W=I+O+h,B=new $(f.lineNumber,1,f.lineNumber,f.column),z=new $s(B,W);return new Lo(Eb(W,t),[z],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(t,s,l,u,h,f){if(!u||et.selectionsArrEqual(u,h))return null;let m=null;for(const C of h){if(!C.isEmpty())return null;const w=C.getPosition(),k=l.getValueInRange(new $(w.lineNumber,w.column-1,w.lineNumber,w.column));if(m===null)m=k;else if(m!==k)return null}if(!m)return null;if(this._isAutoClosingOvertype(s,l,h,f,m)){const C=h.map(w=>new $s(new $(w.positionLineNumber,w.positionColumn,w.positionLineNumber,w.positionColumn+1),"",!1));return new Lo(4,C,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const A=this._getAutoClosingPairClose(s,l,h,m,!0);return A!==null?this._runAutoClosingOpenCharType(t,s,l,h,m,!0,A):null}static typeWithInterceptors(t,s,l,u,h,f,m){if(!t&&m===`
`){const w=[];for(let k=0,D=h.length;k<D;k++)w[k]=vn._enter(l,u,!1,h[k]);return new Lo(4,w,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!t&&this._isAutoIndentType(l,u,h)){const w=[];let k=!1;for(let D=0,I=h.length;D<I;D++)if(w[D]=this._runAutoIndentType(l,u,h[D],m),!w[D]){k=!0;break}if(!k)return new Lo(4,w,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!t&&this._isAutoClosingOvertype(l,u,h,f,m))return this._runAutoClosingOvertype(s,l,u,h,m);if(!t){const w=this._getAutoClosingPairClose(l,u,h,m,!1);if(w)return this._runAutoClosingOpenCharType(s,l,u,h,m,!1,w)}if(this._isSurroundSelectionType(l,u,h,m))return this._runSurroundSelectionType(s,l,u,h,m);if(!t&&this._isTypeInterceptorElectricChar(l,u,h)){const w=this._typeInterceptorElectricChar(s,l,u,h[0],m);if(w)return w}const A=[];for(let w=0,k=h.length;w<k;w++)A[w]=new $s(h[w],m);const C=Eb(m,s);return new Lo(C,A,{shouldPushStackElementBefore:z8(s,C),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(t,s,l,u,h){const f=[];for(let A=0,C=u.length;A<C;A++)f[A]=new $s(u[A],h);const m=Eb(h,t);return new Lo(m,f,{shouldPushStackElementBefore:z8(t,m),shouldPushStackElementAfter:!1})}static lineInsertBefore(t,s,l){if(s===null||l===null)return[];const u=[];for(let h=0,f=l.length;h<f;h++){let m=l[h].positionLineNumber;if(m===1)u[h]=new H8(new $(1,1,1,1),`
`);else{m--;const A=s.getLineMaxColumn(m);u[h]=this._enter(t,s,!1,new $(m,A,m,A))}}return u}static lineInsertAfter(t,s,l){if(s===null||l===null)return[];const u=[];for(let h=0,f=l.length;h<f;h++){const m=l[h].positionLineNumber,A=s.getLineMaxColumn(m);u[h]=this._enter(t,s,!1,new $(m,A,m,A))}return u}static lineBreakInsert(t,s,l){const u=[];for(let h=0,f=l.length;h<f;h++)u[h]=this._enter(t,s,!0,l[h]);return u}}class wH extends r3{constructor(t,s,l,u){super(t,(l?s:"")+u,0,-u.length),this._openCharacter=s,this._closeCharacter=u,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(t,s){const u=s.getInverseEditOperations()[0].range;return this.closeCharacterRange=new $(u.startLineNumber,u.endColumn-this._closeCharacter.length,u.endLineNumber,u.endColumn),this.enclosingRange=new $(u.startLineNumber,u.endColumn-this._openCharacter.length-this._closeCharacter.length,u.endLineNumber,u.endColumn),super.computeCursorState(t,s)}}function Eb(d,t){return d===" "?t===5||t===6?6:5:4}function z8(d,t){return AP(d)&&!AP(t)?!0:d===5?!1:pP(d)!==pP(t)}function pP(d){return d===6||d===5?"space":d}function AP(d){return d===4||d===5||d===6}var re;(function(d){d.editorSimpleInput=new rt("editorSimpleInput",!1,!0),d.editorTextFocus=new rt("editorTextFocus",!1,E("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),d.focus=new rt("editorFocus",!1,E("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),d.textInputFocus=new rt("textInputFocus",!1,E("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),d.readOnly=new rt("editorReadonly",!1,E("editorReadonly","Whether the editor is read only")),d.inDiffEditor=new rt("inDiffEditor",!1,E("inDiffEditor","Whether the context is a diff editor")),d.columnSelection=new rt("editorColumnSelection",!1,E("editorColumnSelection","Whether `editor.columnSelection` is enabled")),d.writable=d.readOnly.toNegated(),d.hasNonEmptySelection=new rt("editorHasSelection",!1,E("editorHasSelection","Whether the editor has text selected")),d.hasOnlyEmptySelection=d.hasNonEmptySelection.toNegated(),d.hasMultipleSelections=new rt("editorHasMultipleSelections",!1,E("editorHasMultipleSelections","Whether the editor has multiple selections")),d.hasSingleSelection=d.hasMultipleSelections.toNegated(),d.tabMovesFocus=new rt("editorTabMovesFocus",!1,E("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),d.tabDoesNotMoveFocus=d.tabMovesFocus.toNegated(),d.isInWalkThroughSnippet=new rt("isInEmbeddedEditor",!1,!0),d.canUndo=new rt("canUndo",!1,!0),d.canRedo=new rt("canRedo",!1,!0),d.hoverVisible=new rt("editorHoverVisible",!1,E("editorHoverVisible","Whether the editor hover is visible")),d.inCompositeEditor=new rt("inCompositeEditor",void 0,E("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),d.notInCompositeEditor=d.inCompositeEditor.toNegated(),d.languageId=new rt("editorLangId","",E("editorLangId","The language identifier of the editor")),d.hasCompletionItemProvider=new rt("editorHasCompletionItemProvider",!1,E("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),d.hasCodeActionsProvider=new rt("editorHasCodeActionsProvider",!1,E("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),d.hasCodeLensProvider=new rt("editorHasCodeLensProvider",!1,E("editorHasCodeLensProvider","Whether the editor has a code lens provider")),d.hasDefinitionProvider=new rt("editorHasDefinitionProvider",!1,E("editorHasDefinitionProvider","Whether the editor has a definition provider")),d.hasDeclarationProvider=new rt("editorHasDeclarationProvider",!1,E("editorHasDeclarationProvider","Whether the editor has a declaration provider")),d.hasImplementationProvider=new rt("editorHasImplementationProvider",!1,E("editorHasImplementationProvider","Whether the editor has an implementation provider")),d.hasTypeDefinitionProvider=new rt("editorHasTypeDefinitionProvider",!1,E("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),d.hasHoverProvider=new rt("editorHasHoverProvider",!1,E("editorHasHoverProvider","Whether the editor has a hover provider")),d.hasDocumentHighlightProvider=new rt("editorHasDocumentHighlightProvider",!1,E("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),d.hasDocumentSymbolProvider=new rt("editorHasDocumentSymbolProvider",!1,E("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),d.hasReferenceProvider=new rt("editorHasReferenceProvider",!1,E("editorHasReferenceProvider","Whether the editor has a reference provider")),d.hasRenameProvider=new rt("editorHasRenameProvider",!1,E("editorHasRenameProvider","Whether the editor has a rename provider")),d.hasSignatureHelpProvider=new rt("editorHasSignatureHelpProvider",!1,E("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),d.hasInlayHintsProvider=new rt("editorHasInlayHintsProvider",!1,E("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),d.hasDocumentFormattingProvider=new rt("editorHasDocumentFormattingProvider",!1,E("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),d.hasDocumentSelectionFormattingProvider=new rt("editorHasDocumentSelectionFormattingProvider",!1,E("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),d.hasMultipleDocumentFormattingProvider=new rt("editorHasMultipleDocumentFormattingProvider",!1,E("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),d.hasMultipleDocumentSelectionFormattingProvider=new rt("editorHasMultipleDocumentSelectionFormattingProvider",!1,E("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(re||(re={}));const Si=0;class ls extends nr{runEditorCommand(t,s,l){const u=s._getViewModel();!u||this.runCoreEditorCommand(u,l||{})}}var fC;(function(d){const t=function(l){if(!ho(l))return!1;const u=l;return!(!Ol(u.to)||!No(u.by)&&!Ol(u.by)||!No(u.value)&&!Od(u.value)||!No(u.revealCursor)&&!_W(u.revealCursor))};d.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},d.RawDirection={Up:"up",Down:"down"},d.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function s(l){let u;switch(l.to){case d.RawDirection.Up:u=1;break;case d.RawDirection.Down:u=2;break;default:return null}let h;switch(l.by){case d.RawUnit.Line:h=1;break;case d.RawUnit.WrappedLine:h=2;break;case d.RawUnit.Page:h=3;break;case d.RawUnit.HalfPage:h=4;break;default:h=2}const f=Math.floor(l.value||1),m=!!l.revealCursor;return{direction:u,unit:h,value:f,revealCursor:m,select:!!l.select}}d.parse=s})(fC||(fC={}));var q1;(function(d){const t=function(s){if(!ho(s))return!1;const l=s;return!(!Od(l.lineNumber)&&!Ol(l.lineNumber)||!No(l.at)&&!Ol(l.at))};d.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:t,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},d.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(q1||(q1={}));class Hy{constructor(t){t.addImplementation(1e4,"code-editor",(s,l)=>{const u=s.get(Mi).getFocusedCodeEditor();return u&&u.hasTextFocus()?this._runEditorCommand(s,u,l):!1}),t.addImplementation(1e3,"generic-dom-input-textarea",(s,l)=>{const u=document.activeElement;return u&&["input","textarea"].indexOf(u.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),t.addImplementation(0,"generic-dom",(s,l)=>{const u=s.get(Mi).getActiveCodeEditor();return u?(u.focus(),this._runEditorCommand(s,u,l)):!1})}_runEditorCommand(t,s,l){const u=this.runEditorCommand(t,s,l);return u||!0}}var xs;(function(d){class t extends ls{constructor(B){super(B),this._minimalReveal=B.minimalReveal,this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,[Vs.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,z.position,z.viewPosition)])&&B.revealPrimaryCursor(z.source,!0,this._minimalReveal)}}d.MoveTo=Qe(new t({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),d.MoveToSelect=Qe(new t({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class s extends ls{runCoreEditorCommand(B,z){B.model.pushStackElement();const G=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),z);B.setCursorStates(z.source,3,G.viewStates.map(K=>Xt.fromViewState(K))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:G.fromLineNumber,fromViewVisualColumn:G.fromVisualColumn,toViewLineNumber:G.toLineNumber,toViewVisualColumn:G.toVisualColumn}),G.reversed?B.revealTopMostCursor(z.source):B.revealBottomMostCursor(z.source)}}d.ColumnSelect=Qe(new class extends s{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(W,B,z,G){const K=W.model.validatePosition(G.position),q=W.coordinatesConverter.validateViewPosition(new me(G.viewPosition.lineNumber,G.viewPosition.column),K),Y=G.doColumnSelect?z.fromViewLineNumber:q.lineNumber,J=G.doColumnSelect?z.fromViewVisualColumn:G.mouseColumn-1;return rd.columnSelect(W.cursorConfig,W,Y,J,q.lineNumber,G.mouseColumn-1)}}),d.CursorColumnSelectLeft=Qe(new class extends s{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(W,B,z,G){return rd.columnSelectLeft(W.cursorConfig,W,z)}}),d.CursorColumnSelectRight=Qe(new class extends s{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(W,B,z,G){return rd.columnSelectRight(W.cursorConfig,W,z)}});class l extends s{constructor(B){super(B),this._isPaged=B.isPaged}_getColumnSelectResult(B,z,G,K){return rd.columnSelectUp(B.cursorConfig,B,G,this._isPaged)}}d.CursorColumnSelectUp=Qe(new l({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3600,linux:{primary:0}}})),d.CursorColumnSelectPageUp=Qe(new l({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3595,linux:{primary:0}}}));class u extends s{constructor(B){super(B),this._isPaged=B.isPaged}_getColumnSelectResult(B,z,G,K){return rd.columnSelectDown(B.cursorConfig,B,G,this._isPaged)}}d.CursorColumnSelectDown=Qe(new u({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3602,linux:{primary:0}}})),d.CursorColumnSelectPageDown=Qe(new u({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3596,linux:{primary:0}}}));class h extends ls{constructor(){super({id:"cursorMove",precondition:void 0,description:dC.description})}runCoreEditorCommand(B,z){const G=dC.parse(z);!G||this._runCursorMove(B,z.source,G)}_runCursorMove(B,z,G){B.model.pushStackElement(),B.setCursorStates(z,3,h._move(B,B.getCursorStates(),G)),B.revealPrimaryCursor(z,!0)}static _move(B,z,G){const K=G.select,q=G.value;switch(G.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Vs.simpleMove(B,z,G.direction,K,q,G.unit);case 11:case 13:case 12:case 14:return Vs.viewportMove(B,z,G.direction,K,q);default:return null}}}d.CursorMoveImpl=h,d.CursorMove=Qe(new h);class f extends ls{constructor(B){super(B),this._staticArgs=B.args}runCoreEditorCommand(B,z){let G=this._staticArgs;this._staticArgs.value===-1&&(G={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:z.pageSize||B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(z.source,3,Vs.simpleMove(B,B.getCursorStates(),G.direction,G.select,G.value,G.unit)),B.revealPrimaryCursor(z.source,!0)}}d.CursorLeft=Qe(new f({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),d.CursorLeftSelect=Qe(new f({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1039}})),d.CursorRight=Qe(new f({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),d.CursorRightSelect=Qe(new f({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1041}})),d.CursorUp=Qe(new f({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),d.CursorUpSelect=Qe(new f({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),d.CursorPageUp=Qe(new f({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:11}})),d.CursorPageUpSelect=Qe(new f({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1035}})),d.CursorDown=Qe(new f({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),d.CursorDownSelect=Qe(new f({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),d.CursorPageDown=Qe(new f({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:12}})),d.CursorPageDownSelect=Qe(new f({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1036}})),d.CreateCursor=Qe(new class extends ls{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(W,B){let z;B.wholeLine?z=Vs.line(W,W.getPrimaryCursorState(),!1,B.position,B.viewPosition):z=Vs.moveTo(W,W.getPrimaryCursorState(),!1,B.position,B.viewPosition);const G=W.getCursorStates();if(G.length>1){const K=z.modelState?z.modelState.position:null,q=z.viewState?z.viewState.position:null;for(let Y=0,J=G.length;Y<J;Y++){const ne=G[Y];if(!(K&&!ne.modelState.selection.containsPosition(K))&&!(q&&!ne.viewState.selection.containsPosition(q))){G.splice(Y,1),W.model.pushStackElement(),W.setCursorStates(B.source,3,G);return}}}G.push(z),W.model.pushStackElement(),W.setCursorStates(B.source,3,G)}}),d.LastCursorMoveToSelect=Qe(new class extends ls{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(W,B){const z=W.getLastAddedCursorIndex(),G=W.getCursorStates(),K=G.slice(0);K[z]=Vs.moveTo(W,G[z],!0,B.position,B.viewPosition),W.model.pushStackElement(),W.setCursorStates(B.source,3,K)}});class m extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,Vs.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(z.source,!0)}}d.CursorHome=Qe(new m({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),d.CursorHomeSelect=Qe(new m({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class A extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(z.source,!0)}_exec(B){const z=[];for(let G=0,K=B.length;G<K;G++){const q=B[G],Y=q.modelState.position.lineNumber;z[G]=Xt.fromModelState(q.modelState.move(this._inSelectionMode,Y,1,0))}return z}}d.CursorLineStart=Qe(new A({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:0,mac:{primary:287}}})),d.CursorLineStartSelect=Qe(new A({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:0,mac:{primary:1311}}}));class C extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,Vs.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,z.sticky||!1)),B.revealPrimaryCursor(z.source,!0)}}d.CursorEnd=Qe(new C({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Si,kbExpr:re.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),d.CursorEndSelect=Qe(new C({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Si,kbExpr:re.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class w extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(z.source,!0)}_exec(B,z){const G=[];for(let K=0,q=z.length;K<q;K++){const Y=z[K],J=Y.modelState.position.lineNumber,ne=B.model.getLineMaxColumn(J);G[K]=Xt.fromModelState(Y.modelState.move(this._inSelectionMode,J,ne,0))}return G}}d.CursorLineEnd=Qe(new w({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:0,mac:{primary:291}}})),d.CursorLineEndSelect=Qe(new w({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:0,mac:{primary:1315}}}));class k extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,Vs.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(z.source,!0)}}d.CursorTop=Qe(new k({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:2062,mac:{primary:2064}}})),d.CursorTopSelect=Qe(new k({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3086,mac:{primary:3088}}}));class D extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,Vs.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(z.source,!0)}}d.CursorBottom=Qe(new D({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:2061,mac:{primary:2066}}})),d.CursorBottomSelect=Qe(new D({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:3085,mac:{primary:3090}}}));class I extends ls{constructor(){super({id:"editorScroll",precondition:void 0,description:fC.description})}runCoreEditorCommand(B,z){const G=fC.parse(z);!G||this._runEditorScroll(B,z.source,G)}_runEditorScroll(B,z,G){const K=this._computeDesiredScrollTop(B,G);if(G.revealCursor){const q=B.getCompletelyVisibleViewRangeAtScrollTop(K);B.setCursorStates(z,3,[Vs.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),q,G.select)])}B.viewLayout.setScrollPosition({scrollTop:K},0)}_computeDesiredScrollTop(B,z){if(z.unit===1){const q=B.getCompletelyVisibleViewRange(),Y=B.coordinatesConverter.convertViewRangeToModelRange(q);let J;z.direction===1?J=Math.max(1,Y.startLineNumber-z.value):J=Math.min(B.model.getLineCount(),Y.startLineNumber+z.value);const ne=B.coordinatesConverter.convertModelPositionToViewPosition(new me(J,1));return B.viewLayout.getVerticalOffsetForLineNumber(ne.lineNumber)}let G;z.unit===3?G=B.cursorConfig.pageSize*z.value:z.unit===4?G=Math.round(B.cursorConfig.pageSize/2)*z.value:G=z.value;const K=(z.direction===1?-1:1)*G;return B.viewLayout.getCurrentScrollTop()+K*B.cursorConfig.lineHeight}}d.EditorScrollImpl=I,d.EditorScroll=Qe(new I),d.ScrollLineUp=Qe(new class extends ls{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(W,B){d.EditorScroll._runEditorScroll(W,B.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),d.ScrollPageUp=Qe(new class extends ls{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(W,B){d.EditorScroll._runEditorScroll(W,B.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),d.ScrollLineDown=Qe(new class extends ls{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(W,B){d.EditorScroll._runEditorScroll(W,B.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),d.ScrollPageDown=Qe(new class extends ls{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(W,B){d.EditorScroll._runEditorScroll(W,B.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class N extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,[Vs.word(B,B.getPrimaryCursorState(),this._inSelectionMode,z.position)]),B.revealPrimaryCursor(z.source,!0)}}d.WordSelect=Qe(new N({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),d.WordSelectDrag=Qe(new N({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),d.LastCursorWordSelect=Qe(new class extends ls{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(W,B){const z=W.getLastAddedCursorIndex(),G=W.getCursorStates(),K=G.slice(0),q=G[z];K[z]=Vs.word(W,q,q.modelState.hasSelection(),B.position),W.model.pushStackElement(),W.setCursorStates(B.source,3,K)}});class R extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){B.model.pushStackElement(),B.setCursorStates(z.source,3,[Vs.line(B,B.getPrimaryCursorState(),this._inSelectionMode,z.position,z.viewPosition)]),B.revealPrimaryCursor(z.source,!1)}}d.LineSelect=Qe(new R({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),d.LineSelectDrag=Qe(new R({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class O extends ls{constructor(B){super(B),this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,z){const G=B.getLastAddedCursorIndex(),K=B.getCursorStates(),q=K.slice(0);q[G]=Vs.line(B,K[G],this._inSelectionMode,z.position,z.viewPosition),B.model.pushStackElement(),B.setCursorStates(z.source,3,q)}}d.LastCursorLineSelect=Qe(new O({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),d.LastCursorLineSelectDrag=Qe(new O({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),d.CancelSelection=Qe(new class extends ls{constructor(){super({id:"cancelSelection",precondition:re.hasNonEmptySelection,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(W,B){W.model.pushStackElement(),W.setCursorStates(B.source,3,[Vs.cancelSelection(W,W.getPrimaryCursorState())]),W.revealPrimaryCursor(B.source,!0)}}),d.RemoveSecondaryCursors=Qe(new class extends ls{constructor(){super({id:"removeSecondaryCursors",precondition:re.hasMultipleSelections,kbOpts:{weight:Si+1,kbExpr:re.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(W,B){W.model.pushStackElement(),W.setCursorStates(B.source,3,[W.getPrimaryCursorState()]),W.revealPrimaryCursor(B.source,!0),tC(E("removedCursor","Removed secondary cursors"))}}),d.RevealLine=Qe(new class extends ls{constructor(){super({id:"revealLine",precondition:void 0,description:q1.description})}runCoreEditorCommand(W,B){const z=B,G=z.lineNumber||0;let K=typeof G=="number"?G+1:parseInt(G)+1;K<1&&(K=1);const q=W.model.getLineCount();K>q&&(K=q);const Y=new $(K,1,K,W.model.getLineMaxColumn(K));let J=0;if(z.at)switch(z.at){case q1.RawAtArgument.Top:J=3;break;case q1.RawAtArgument.Center:J=1;break;case q1.RawAtArgument.Bottom:J=4;break}const ne=W.coordinatesConverter.convertModelRangeToViewRange(Y);W.revealRange(B.source,!1,ne,J,0)}}),d.SelectAll=new class extends Hy{constructor(){super(yce)}runDOMCommand(){dl&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(W,B,z){const G=B._getViewModel();!G||this.runCoreEditorCommand(G,z)}runCoreEditorCommand(W,B){W.model.pushStackElement(),W.setCursorStates("keyboard",3,[Vs.selectAll(W,W.getPrimaryCursorState())])}},d.SetSelection=Qe(new class extends ls{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(W,B){W.model.pushStackElement(),W.setCursorStates(B.source,3,[Xt.fromModelSelection(B.selection)])}})})(xs||(xs={}));const Nde=it.and(re.textInputFocus,re.columnSelection);function ym(d,t){$r.registerKeybindingRule({id:d,primary:t,when:Nde,weight:Si+1})}ym(xs.CursorColumnSelectLeft.id,1039);ym(xs.CursorColumnSelectRight.id,1041);ym(xs.CursorColumnSelectUp.id,1040);ym(xs.CursorColumnSelectPageUp.id,1035);ym(xs.CursorColumnSelectDown.id,1042);ym(xs.CursorColumnSelectPageDown.id,1036);function _P(d){return d.register(),d}var wg;(function(d){class t extends nr{runEditorCommand(l,u,h){const f=u._getViewModel();!f||this.runCoreEditingCommand(u,f,h||{})}}d.CoreEditingCommand=t,d.LineBreakInsert=Qe(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:re.writable,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(s,l,u){s.pushUndoStop(),s.executeCommands(this.id,vn.lineBreakInsert(l.cursorConfig,l.model,l.getCursorStates().map(h=>h.modelState.selection)))}}),d.Outdent=Qe(new class extends t{constructor(){super({id:"outdent",precondition:re.writable,kbOpts:{weight:Si,kbExpr:it.and(re.editorTextFocus,re.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(s,l,u){s.pushUndoStop(),s.executeCommands(this.id,vn.outdent(l.cursorConfig,l.model,l.getCursorStates().map(h=>h.modelState.selection))),s.pushUndoStop()}}),d.Tab=Qe(new class extends t{constructor(){super({id:"tab",precondition:re.writable,kbOpts:{weight:Si,kbExpr:it.and(re.editorTextFocus,re.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(s,l,u){s.pushUndoStop(),s.executeCommands(this.id,vn.tab(l.cursorConfig,l.model,l.getCursorStates().map(h=>h.modelState.selection))),s.pushUndoStop()}}),d.DeleteLeft=Qe(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(s,l,u){const[h,f]=Yd.deleteLeft(l.getPrevEditOperationType(),l.cursorConfig,l.model,l.getCursorStates().map(m=>m.modelState.selection),l.getCursorAutoClosedCharacters());h&&s.pushUndoStop(),s.executeCommands(this.id,f),l.setPrevEditOperationType(2)}}),d.DeleteRight=Qe(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:Si,kbExpr:re.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(s,l,u){const[h,f]=Yd.deleteRight(l.getPrevEditOperationType(),l.cursorConfig,l.model,l.getCursorStates().map(m=>m.modelState.selection));h&&s.pushUndoStop(),s.executeCommands(this.id,f),l.setPrevEditOperationType(3)}}),d.Undo=new class extends Hy{constructor(){super(BV)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(s,l,u){if(!(!l.hasModel()||l.getOption(81)===!0))return l.getModel().undo()}},d.Redo=new class extends Hy{constructor(){super(WV)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(s,l,u){if(!(!l.hasModel()||l.getOption(81)===!0))return l.getModel().redo()}}})(wg||(wg={}));class CP extends zw{constructor(t,s,l){super({id:t,precondition:void 0,description:l}),this._handlerId=s}runCommand(t,s){const l=t.get(Mi).getFocusedCodeEditor();!l||l.trigger("keyboard",this._handlerId,s)}}function xf(d,t){_P(new CP("default:"+d,d)),_P(new CP(d,d,t))}xf("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});xf("replacePreviousChar");xf("compositionType");xf("compositionStart");xf("compositionEnd");xf("paste");xf("cut");class Tde{constructor(t,s,l,u){this.configuration=t,this.viewModel=s,this.userInputEvents=l,this.commandDelegate=u}paste(t,s,l,u){this.commandDelegate.paste(t,s,l,u)}type(t){this.commandDelegate.type(t)}compositionType(t,s,l,u){this.commandDelegate.compositionType(t,s,l,u)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(t){xs.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})}_validateViewColumn(t){const s=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<s?new me(t.lineNumber,s):t}_hasMulticursorModifier(t){switch(this.configuration.options.get(70)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}}_hasNonMulticursorModifier(t){switch(this.configuration.options.get(70)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}}dispatchMouse(t){const s=this.configuration.options,l=Cr&&s.get(96),u=s.get(18);t.middleButton&&!l?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position):this._lineSelect(t.position):t.mouseDownCount>=4?this._selectAll():t.mouseDownCount===3?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position):this._lastCursorLineSelect(t.position):t.inSelectionMode?this._lineSelectDrag(t.position):this._lineSelect(t.position):t.mouseDownCount===2?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position):t.inSelectionMode?this._wordSelectDrag(t.position):this._wordSelect(t.position)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey?this._columnSelect(t.position,t.mouseColumn,!0):u?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position):this.moveTo(t.position)}_usualArgs(t){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t}}moveTo(t){xs.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_moveToSelect(t){xs.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_columnSelect(t,s,l){t=this._validateViewColumn(t),xs.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:s,doColumnSelect:l})}_createCursor(t,s){t=this._validateViewColumn(t),xs.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:s})}_lastCursorMoveToSelect(t){xs.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_wordSelect(t){xs.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_wordSelectDrag(t){xs.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lastCursorWordSelect(t){xs.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lineSelect(t){xs.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lineSelectDrag(t){xs.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lastCursorLineSelect(t){xs.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_lastCursorLineSelectDrag(t){xs.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t))}_selectAll(){xs.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)}emitKeyDown(t){this.userInputEvents.emitKeyDown(t)}emitKeyUp(t){this.userInputEvents.emitKeyUp(t)}emitContextMenu(t){this.userInputEvents.emitContextMenu(t)}emitMouseMove(t){this.userInputEvents.emitMouseMove(t)}emitMouseLeave(t){this.userInputEvents.emitMouseLeave(t)}emitMouseUp(t){this.userInputEvents.emitMouseUp(t)}emitMouseDown(t){this.userInputEvents.emitMouseDown(t)}emitMouseDrag(t){this.userInputEvents.emitMouseDrag(t)}emitMouseDrop(t){this.userInputEvents.emitMouseDrop(t)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(t){this.userInputEvents.emitMouseWheel(t)}}class tv{constructor(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}emitKeyDown(t){this.onKeyDown&&this.onKeyDown(t)}emitKeyUp(t){this.onKeyUp&&this.onKeyUp(t)}emitContextMenu(t){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(t))}emitMouseMove(t){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(t))}emitMouseLeave(t){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(t))}emitMouseDown(t){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(t))}emitMouseUp(t){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(t))}emitMouseDrag(t){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(t))}emitMouseDrop(t){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(t))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(t){this.onMouseWheel&&this.onMouseWheel(t)}_convertViewToModelMouseEvent(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t}_convertViewToModelMouseTarget(t){return tv.convertViewToModelMouseTarget(t,this._coordinatesConverter)}static convertViewToModelMouseTarget(t,s){const l=Object.assign({},t);return l.position&&(l.position=s.convertViewPositionToModelPosition(l.position)),l.range&&(l.range=s.convertViewRangeToModelRange(l.range)),l}}var Nb;class vH{constructor(t){this._createLine=t,this._set(1,[])}flush(){this._set(1,[])}_set(t,s){this._lines=s,this._rendLineNumberStart=t}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(t){const s=t-this._rendLineNumberStart;if(s<0||s>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[s]}onLinesDeleted(t,s){if(this.getCount()===0)return null;const l=this.getStartLineNumber(),u=this.getEndLineNumber();if(s<l){const A=s-t+1;return this._rendLineNumberStart-=A,null}if(t>u)return null;let h=0,f=0;for(let A=l;A<=u;A++){const C=A-this._rendLineNumberStart;t<=A&&A<=s&&(f===0?(h=C,f=1):f++)}if(t<l){let A=0;s<l?A=s-t+1:A=l-t,this._rendLineNumberStart-=A}return this._lines.splice(h,f)}onLinesChanged(t,s){if(this.getCount()===0)return!1;const l=this.getStartLineNumber(),u=this.getEndLineNumber();let h=!1;for(let f=t;f<=s;f++)f>=l&&f<=u&&(this._lines[f-this._rendLineNumberStart].onContentChanged(),h=!0);return h}onLinesInserted(t,s){if(this.getCount()===0)return null;const l=s-t+1,u=this.getStartLineNumber(),h=this.getEndLineNumber();if(t<=u)return this._rendLineNumberStart+=l,null;if(t>h)return null;if(l+t>h)return this._lines.splice(t-this._rendLineNumberStart,h-t+1);const f=[];for(let k=0;k<l;k++)f[k]=this._createLine();const m=t-this._rendLineNumberStart,A=this._lines.slice(0,m),C=this._lines.slice(m,this._lines.length-l),w=this._lines.slice(this._lines.length-l,this._lines.length);return this._lines=A.concat(f).concat(C),w}onTokensChanged(t){if(this.getCount()===0)return!1;const s=this.getStartLineNumber(),l=this.getEndLineNumber();let u=!1;for(let h=0,f=t.length;h<f;h++){const m=t[h];if(m.toLineNumber<s||m.fromLineNumber>l)continue;const A=Math.max(s,m.fromLineNumber),C=Math.min(l,m.toLineNumber);for(let w=A;w<=C;w++){const k=w-this._rendLineNumberStart;this._lines[k].onTokensChanged(),u=!0}}return u}}class kH{constructor(t){this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new vH(()=>this._host.createVisibleLine())}_createDomNode(){const t=_i(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t}onConfigurationChanged(t){return!!t.hasChanged(131)}onFlushed(t){return this._linesCollection.flush(),!0}onLinesChanged(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.toLineNumber)}onLinesDeleted(t){const s=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(s)for(let l=0,u=s.length;l<u;l++){const h=s[l].getDomNode();h&&this.domNode.domNode.removeChild(h)}return!0}onLinesInserted(t){const s=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(s)for(let l=0,u=s.length;l<u;l++){const h=s[l].getDomNode();h&&this.domNode.domNode.removeChild(h)}return!0}onScrollChanged(t){return t.scrollTopChanged}onTokensChanged(t){return this._linesCollection.onTokensChanged(t.ranges)}onZonesChanged(t){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(t){return this._linesCollection.getLine(t)}renderLines(t){const s=this._linesCollection._get(),l=new dc(this.domNode.domNode,this._host,t),u={rendLineNumberStart:s.rendLineNumberStart,lines:s.lines,linesLength:s.lines.length},h=l.render(u,t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(h.rendLineNumberStart,h.lines)}}class dc{constructor(t,s,l){this.domNode=t,this.host=s,this.viewportData=l}render(t,s,l,u){const h={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(h.rendLineNumberStart+h.linesLength-1<s||l<h.rendLineNumberStart){h.rendLineNumberStart=s,h.linesLength=l-s+1,h.lines=[];for(let f=s;f<=l;f++)h.lines[f-s]=this.host.createVisibleLine();return this._finishRendering(h,!0,u),h}if(this._renderUntouchedLines(h,Math.max(s-h.rendLineNumberStart,0),Math.min(l-h.rendLineNumberStart,h.linesLength-1),u,s),h.rendLineNumberStart>s){const f=s,m=Math.min(l,h.rendLineNumberStart-1);f<=m&&(this._insertLinesBefore(h,f,m,u,s),h.linesLength+=m-f+1)}else if(h.rendLineNumberStart<s){const f=Math.min(h.linesLength,s-h.rendLineNumberStart);f>0&&(this._removeLinesBefore(h,f),h.linesLength-=f)}if(h.rendLineNumberStart=s,h.rendLineNumberStart+h.linesLength-1<l){const f=h.rendLineNumberStart+h.linesLength,m=l;f<=m&&(this._insertLinesAfter(h,f,m,u,s),h.linesLength+=m-f+1)}else if(h.rendLineNumberStart+h.linesLength-1>l){const f=Math.max(0,l-h.rendLineNumberStart+1),A=h.linesLength-1-f+1;A>0&&(this._removeLinesAfter(h,A),h.linesLength-=A)}return this._finishRendering(h,!1,u),h}_renderUntouchedLines(t,s,l,u,h){const f=t.rendLineNumberStart,m=t.lines;for(let A=s;A<=l;A++){const C=f+A;m[A].layoutLine(C,u[C-h])}}_insertLinesBefore(t,s,l,u,h){const f=[];let m=0;for(let A=s;A<=l;A++)f[m++]=this.host.createVisibleLine();t.lines=f.concat(t.lines)}_removeLinesBefore(t,s){for(let l=0;l<s;l++){const u=t.lines[l].getDomNode();u&&this.domNode.removeChild(u)}t.lines.splice(0,s)}_insertLinesAfter(t,s,l,u,h){const f=[];let m=0;for(let A=s;A<=l;A++)f[m++]=this.host.createVisibleLine();t.lines=t.lines.concat(f)}_removeLinesAfter(t,s){const l=t.linesLength-s;for(let u=0;u<s;u++){const h=t.lines[l+u].getDomNode();h&&this.domNode.removeChild(h)}t.lines.splice(l,s)}_finishRenderingNewLines(t,s,l,u){dc._ttPolicy&&(l=dc._ttPolicy.createHTML(l));const h=this.domNode.lastChild;s||!h?this.domNode.innerHTML=l:h.insertAdjacentHTML("afterend",l);let f=this.domNode.lastChild;for(let m=t.linesLength-1;m>=0;m--){const A=t.lines[m];u[m]&&(A.setDomNode(f),f=f.previousSibling)}}_finishRenderingInvalidLines(t,s,l){const u=document.createElement("div");dc._ttPolicy&&(s=dc._ttPolicy.createHTML(s)),u.innerHTML=s;for(let h=0;h<t.linesLength;h++){const f=t.lines[h];if(l[h]){const m=u.firstChild,A=f.getDomNode();A.parentNode.replaceChild(m,A),f.setDomNode(m)}}}_finishRendering(t,s,l){const u=dc._sb,h=t.linesLength,f=t.lines,m=t.rendLineNumberStart,A=[];{u.reset();let C=!1;for(let w=0;w<h;w++){const k=f[w];A[w]=!1,!(k.getDomNode()||!k.renderLine(w+m,l[w],this.viewportData,u))&&(A[w]=!0,C=!0)}C&&this._finishRenderingNewLines(t,s,u.build(),A)}{u.reset();let C=!1;const w=[];for(let k=0;k<h;k++){const D=f[k];w[k]=!1,!(A[k]||!D.renderLine(k+m,l[k],this.viewportData,u))&&(w[k]=!0,C=!0)}C&&this._finishRenderingInvalidLines(t,u.build(),w)}}}dc._ttPolicy=(Nb=window.trustedTypes)===null||Nb===void 0?void 0:Nb.createPolicy("editorViewLayer",{createHTML:d=>d});dc._sb=Bd(1e5);class bH extends zl{constructor(t){super(t),this._visibleLines=new kH(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,s=this._dynamicOverlays.length;t<s;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,s=this._dynamicOverlays.length;t<s;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Rde(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=s;u<=l;u++)this._visibleLines.getVisibleLine(u).onConfigurationChanged(t);return!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const s=this._dynamicOverlays.filter(l=>l.shouldRender());for(let l=0,u=s.length;l<u;l++){const h=s[l];h.prepareRender(t),h.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}class Rde{constructor(t,s){this._configuration=t,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=s,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=_i(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(59)}renderLine(t,s,l,u){let h="";for(let f=0,m=this._dynamicOverlays.length;f<m;f++)h+=this._dynamicOverlays[f].render(l.startLineNumber,t);return this._renderedContent===h?!1:(this._renderedContent=h,u.appendASCIIString('<div style="position:absolute;top:'),u.appendASCIIString(String(s)),u.appendASCIIString("px;width:100%;height:"),u.appendASCIIString(String(this._lineHeight)),u.appendASCIIString('px;">'),u.appendASCIIString(h),u.appendASCIIString("</div>"),!0)}layoutLine(t,s){this._domNode&&(this._domNode.setTop(s),this._domNode.setHeight(this._lineHeight))}}class Mde extends bH{constructor(t){super(t);const l=this._context.configuration.options.get(131);this._contentWidth=l.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const l=this._context.configuration.options.get(131);return this._contentWidth=l.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}class Pde extends bH{constructor(t){super(t);const s=this._context.configuration.options,l=s.get(131);this._contentLeft=l.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),_r(this.domNode,s.get(44))}onConfigurationChanged(t){const s=this._context.configuration.options;_r(this.domNode,s.get(44));const l=s.get(131);return this._contentLeft=l.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const s=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(s),this.domNode.setWidth(this._contentLeft)}}class Ip{constructor(t,s){this._coordinateBrand=void 0,this.top=t,this.left=s}}class Ode extends zl{constructor(t,s){super(t),this._viewDomNode=s,this._widgets={},this.domNode=_i(document.createElement("div")),A0.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=_i(document.createElement("div")),A0.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const s=Object.keys(this._widgets);for(const l of s)this._widgets[l].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){const s=Object.keys(this._widgets);for(const l of s)this._widgets[l].onLineMappingChanged(t);return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}addWidget(t){const s=new Fde(this._context,this._viewDomNode,t);this._widgets[s.id]=s,s.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(s.domNode):this.domNode.appendChild(s.domNode),this.setShouldRender()}setWidgetPosition(t,s,l){this._widgets[t.getId()].setPosition(s,l),this.setShouldRender()}removeWidget(t){const s=t.getId();if(this._widgets.hasOwnProperty(s)){const l=this._widgets[s];delete this._widgets[s];const u=l.domNode.domNode;u.parentNode.removeChild(u),u.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1}onBeforeRender(t){const s=Object.keys(this._widgets);for(const l of s)this._widgets[l].onBeforeRender(t)}prepareRender(t){const s=Object.keys(this._widgets);for(const l of s)this._widgets[l].prepareRender(t)}render(t){const s=Object.keys(this._widgets);for(const l of s)this._widgets[l].render(t)}}class Fde{constructor(t,s,l){this._context=t,this._viewDomNode=s,this._actual=l,this.domNode=_i(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const u=this._context.configuration.options,h=u.get(131);this._fixedOverflowWidgets=u.get(36),this._contentWidth=h.contentWidth,this._contentLeft=h.contentLeft,this._lineHeight=u.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const s=this._context.configuration.options;if(this._lineHeight=s.get(59),t.hasChanged(131)){const l=s.get(131);this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(t){this._setPosition(this._range)}_setPosition(t){if(this._range=t,this._viewRange=null,this._range){const s=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(s))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(t,s){this._setPosition(t),this._preference=s,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,s,l,u,h){const f=t.top,m=f,A=s.top+this._lineHeight,C=h.viewportHeight-A,w=f-u,k=m>=u,D=A,I=C>=u;let N=t.left,R=s.left;return N+l>h.scrollLeft+h.viewportWidth&&(N=h.scrollLeft+h.viewportWidth-l),R+l>h.scrollLeft+h.viewportWidth&&(R=h.scrollLeft+h.viewportWidth-l),N<h.scrollLeft&&(N=h.scrollLeft),R<h.scrollLeft&&(R=h.scrollLeft),{fitsAbove:k,aboveTop:w,aboveLeft:N,fitsBelow:I,belowTop:D,belowLeft:R}}_layoutHorizontalSegmentInPage(t,s,l,u){const h=Math.max(0,s.left-u),f=Math.min(s.left+s.width+u,t.width);let m=s.left+l-kc.scrollX;if(m+u>f){const A=m-(f-u);m-=A,l-=A}if(m<h){const A=m-h;m-=A,l-=A}return[l,m]}_layoutBoxInPage(t,s,l,u,h){const f=t.top-u,m=s.top+this._lineHeight,A=Js(this._viewDomNode.domNode),C=A.top+f-kc.scrollY,w=A.top+m-kc.scrollY,k=Mw(document.body),[D,I]=this._layoutHorizontalSegmentInPage(k,A,t.left-h.scrollLeft+this._contentLeft,l),[N,R]=this._layoutHorizontalSegmentInPage(k,A,s.left-h.scrollLeft+this._contentLeft,l),O=22,W=22,B=C>=O,z=w+u<=k.height-W;return this._fixedOverflowWidgets?{fitsAbove:B,aboveTop:Math.max(C,O),aboveLeft:I,fitsBelow:z,belowTop:w,belowLeft:R}:{fitsAbove:B,aboveTop:f,aboveLeft:D,fitsBelow:z,belowTop:m,belowLeft:N}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new Ip(t.top,t.left+this._contentLeft)}_getTopAndBottomLeft(t){if(!this._viewRange)return[null,null];const s=t.linesVisibleRangesForRange(this._viewRange,!1);if(!s||s.length===0)return[null,null];let l=s[0],u=s[0];for(const k of s)k.lineNumber<l.lineNumber&&(l=k),k.lineNumber>u.lineNumber&&(u=k);let h=1073741824;for(const k of l.ranges)k.left<h&&(h=k.left);let f=1073741824;for(const k of u.ranges)k.left<f&&(f=k.left);const m=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.scrollTop,A=new Ip(m,h),C=t.getVerticalOffsetForLineNumber(u.lineNumber)-t.scrollTop,w=new Ip(C,f);return[A,w]}_prepareRenderWidget(t){if(!this._preference||this._preference.length===0)return null;const[s,l]=this._getTopAndBottomLeft(t);if(!s||!l)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let h=null;if(typeof this._actual.beforeRender=="function"&&(h=Tb(this._actual.beforeRender,this._actual)),h)this._cachedDomNodeOffsetWidth=h.width,this._cachedDomNodeOffsetHeight=h.height;else{const f=this.domNode.domNode;this._cachedDomNodeOffsetWidth=f.offsetWidth,this._cachedDomNodeOffsetHeight=f.offsetHeight}}let u;this.allowEditorOverflow?u=this._layoutBoxInPage(s,l,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):u=this._layoutBoxInViewport(s,l,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let h=1;h<=2;h++)for(const f of this._preference)if(f===1){if(!u)return null;if(h===2||u.fitsAbove)return{coordinate:new Ip(u.aboveTop,u.aboveLeft),position:1}}else if(f===2){if(!u)return null;if(h===2||u.fitsBelow)return{coordinate:new Ip(u.belowTop,u.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(s),position:0}:{coordinate:s,position:0};return null}onBeforeRender(t){!this._viewRange||!this._preference||this._viewRange.endLineNumber<t.startLineNumber||this._viewRange.startLineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Tb(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Tb(this._actual.afterRender,this._actual,this._renderData.position)}}function Tb(d,t,...s){try{return d.call(t,...s)}catch{return null}}class SH extends Sm{constructor(t){super(),this._context=t;const s=this._context.configuration.options,l=s.get(131);this._lineHeight=s.get(59),this._renderLineHighlight=s.get(85),this._renderLineHighlightOnlyWhenFocus=s.get(86),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new et(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const s=this._selections.map(u=>u.positionLineNumber);s.sort((u,h)=>u-h),cl(this._cursorLineNumbers,s)||(this._cursorLineNumbers=s,t=!0);const l=this._selections.every(u=>u.isEmpty());return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(131);return this._lineHeight=s.get(59),this._renderLineHighlight=s.get(85),this._renderLineHighlightOnlyWhenFocus=s.get(86),this._contentLeft=l.contentLeft,this._contentWidth=l.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const s=this._renderOne(t),l=t.visibleRange.startLineNumber,u=t.visibleRange.endLineNumber,h=this._cursorLineNumbers.length;let f=0;const m=[];for(let A=l;A<=u;A++){const C=A-l;for(;f<h&&this._cursorLineNumbers[f]<A;)f++;f<h&&this._cursorLineNumbers[f]===A?m[C]=s:m[C]=""}this._renderData=m}render(t,s){if(!this._renderData)return"";const l=s-t;return l>=this._renderData.length?"":this._renderData[l]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Bde extends SH{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Wde extends SH{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}rn((d,t)=>{const s=d.getColor(Vhe);if(s&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${s}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${s}; border: none; }`)),!s||s.isTransparent()||d.defines(mP)){const l=d.getColor(mP);l&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${l}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${l}; }`),d.type==="hc"&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class Vde extends Sm{constructor(t){super(),this._context=t;const s=this._context.configuration.options;this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=s.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options;return this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=s.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}prepareRender(t){const s=t.getDecorationsInViewport();let l=[],u=0;for(let A=0,C=s.length;A<C;A++){const w=s[A];w.options.className&&(l[u++]=w)}l=l.sort((A,C)=>{if(A.options.zIndex<C.options.zIndex)return-1;if(A.options.zIndex>C.options.zIndex)return 1;const w=A.options.className,k=C.options.className;return w<k?-1:w>k?1:$.compareRangesUsingStarts(A.range,C.range)});const h=t.visibleRange.startLineNumber,f=t.visibleRange.endLineNumber,m=[];for(let A=h;A<=f;A++){const C=A-h;m[C]=""}this._renderWholeLineDecorations(t,l,m),this._renderNormalDecorations(t,l,m),this._renderResult=m}_renderWholeLineDecorations(t,s,l){const u=String(this._lineHeight),h=t.visibleRange.startLineNumber,f=t.visibleRange.endLineNumber;for(let m=0,A=s.length;m<A;m++){const C=s[m];if(!C.options.isWholeLine)continue;const w='<div class="cdr '+C.options.className+'" style="left:0;width:100%;height:'+u+'px;"></div>',k=Math.max(C.range.startLineNumber,h),D=Math.min(C.range.endLineNumber,f);for(let I=k;I<=D;I++){const N=I-h;l[N]+=w}}}_renderNormalDecorations(t,s,l){const u=String(this._lineHeight),h=t.visibleRange.startLineNumber;let f=null,m=!1,A=null;for(let C=0,w=s.length;C<w;C++){const k=s[C];if(k.options.isWholeLine)continue;const D=k.options.className,I=Boolean(k.options.showIfCollapsed);let N=k.range;if(I&&N.endColumn===1&&N.endLineNumber!==N.startLineNumber&&(N=new $(N.startLineNumber,N.startColumn,N.endLineNumber-1,this._context.viewModel.getLineMaxColumn(N.endLineNumber-1))),f===D&&m===I&&$.areIntersectingOrTouching(A,N)){A=$.plusRange(A,N);continue}f!==null&&this._renderNormalDecoration(t,A,f,m,u,h,l),f=D,m=I,A=N}f!==null&&this._renderNormalDecoration(t,A,f,m,u,h,l)}_renderNormalDecoration(t,s,l,u,h,f,m){const A=t.linesVisibleRangesForRange(s,l==="findMatch");if(!!A)for(let C=0,w=A.length;C<w;C++){const k=A[C];if(k.outsideRenderedLine)continue;const D=k.lineNumber-f;if(u&&k.ranges.length===1){const I=k.ranges[0];if(I.width<this._typicalHalfwidthCharacterWidth){const N=Math.round(I.left+I.width/2),R=Math.max(0,Math.round(N-this._typicalHalfwidthCharacterWidth/2));k.ranges[0]=new Kw(R,this._typicalHalfwidthCharacterWidth)}}for(let I=0,N=k.ranges.length;I<N;I++){const R=k.ranges[I],O='<div class="cdr '+l+'" style="left:'+String(R.left)+"px;width:"+String(R.width)+"px;height:"+h+'px;"></div>';m[D]+=O}}}render(t,s){if(!this._renderResult)return"";const l=s-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}class ba extends Se{onclick(t,s){this._register(ze(t,vt.CLICK,l=>s(new El(l))))}onmousedown(t,s){this._register(ze(t,vt.MOUSE_DOWN,l=>s(new El(l))))}onmouseover(t,s){this._register(ze(t,vt.MOUSE_OVER,l=>s(new El(l))))}onnonbubblingmouseout(t,s){this._register(vI(t,l=>s(new El(l))))}onkeydown(t,s){this._register(ze(t,vt.KEY_DOWN,l=>s(new hn(l))))}onkeyup(t,s){this._register(ze(t,vt.KEY_UP,l=>s(new hn(l))))}oninput(t,s){this._register(ze(t,vt.INPUT,s))}onblur(t,s){this._register(ze(t,vt.BLUR,s))}onfocus(t,s){this._register(ze(t,vt.FOCUS,s))}ignoreGesture(t){Wi.ignoreTarget(t)}}const Gg=11;class Hde extends ba{constructor(t){super(),this._onActivate=t.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=t.bgWidth+"px",this.bgDomNode.style.height=t.bgHeight+"px",typeof t.top<"u"&&(this.bgDomNode.style.top="0px"),typeof t.left<"u"&&(this.bgDomNode.style.left="0px"),typeof t.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof t.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=t.className,this.domNode.classList.add(...t.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=Gg+"px",this.domNode.style.height=Gg+"px",typeof t.top<"u"&&(this.domNode.style.top=t.top+"px"),typeof t.left<"u"&&(this.domNode.style.left=t.left+"px"),typeof t.bottom<"u"&&(this.domNode.style.bottom=t.bottom+"px"),typeof t.right<"u"&&(this.domNode.style.right=t.right+"px"),this._mouseMoveMonitor=this._register(new If),this.onmousedown(this.bgDomNode,s=>this._arrowMouseDown(s)),this.onmousedown(this.domNode,s=>this._arrowMouseDown(s)),this._mousedownRepeatTimer=this._register(new u_),this._mousedownScheduleRepeatTimer=this._register(new Wo)}_arrowMouseDown(t){const s=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(s,200),this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,vm,l=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),t.preventDefault()}}class Ude extends Se{constructor(t,s,l){super(),this._visibility=t,this._visibleClassName=s,this._invisibleClassName=l,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Wo)}setVisibility(t){this._visibility!==t&&(this._visibility=t,this._updateShouldBeVisible())}setShouldBeVisible(t){this._rawShouldBeVisible=t,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const t=this._applyVisibilitySetting();this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(t){this._isNeeded!==t&&(this._isNeeded=t,this.ensureVisibility())}setDomNode(t){this._domNode=t,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(t){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(t?" fade":"")))}}const zde=140;class yH extends ba{constructor(t){super(),this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollByPage=t.scrollByPage,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new Ude(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new If),this._shouldRender=!0,this.domNode=_i(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,s=>this._domNodeMouseDown(s))}_createArrow(t){const s=this._register(new Hde(t));this.domNode.domNode.appendChild(s.bgDomNode),this.domNode.domNode.appendChild(s.domNode)}_createSlider(t,s,l,u){this.slider=_i(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(t),this.slider.setLeft(s),typeof l=="number"&&this.slider.setWidth(l),typeof u=="number"&&this.slider.setHeight(u),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,h=>{h.leftButton&&(h.preventDefault(),this._sliderMouseDown(h,()=>{}))}),this.onclick(this.slider.domNode,h=>{h.leftButton&&h.stopPropagation()})}_onElementSize(t){return this._scrollbarState.setVisibleSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(t){return this._scrollbarState.setScrollSize(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(t){return this._scrollbarState.setScrollPosition(t)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(t){t.target===this.domNode.domNode&&this._onMouseDown(t)}delegateMouseDown(t){const s=this.domNode.domNode.getClientRects()[0].top,l=s+this._scrollbarState.getSliderPosition(),u=s+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),h=this._sliderMousePosition(t);l<=h&&h<=u?t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,()=>{})):this._onMouseDown(t)}_onMouseDown(t){let s,l;if(t.target===this.domNode.domNode&&typeof t.browserEvent.offsetX=="number"&&typeof t.browserEvent.offsetY=="number")s=t.browserEvent.offsetX,l=t.browserEvent.offsetY;else{const h=Js(this.domNode.domNode);s=t.posx-h.left,l=t.posy-h.top}const u=this._mouseDownRelativePosition(s,l);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(u):this._scrollbarState.getDesiredScrollPositionFromOffset(u)),t.leftButton&&(t.preventDefault(),this._sliderMouseDown(t,()=>{}))}_sliderMouseDown(t,s){const l=this._sliderMousePosition(t),u=this._sliderOrthogonalMousePosition(t),h=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,vm,f=>{const m=this._sliderOrthogonalMousePosition(f),A=Math.abs(m-u);if(Gs&&A>zde){this._setDesiredScrollPositionNow(h.getScrollPosition());return}const w=this._sliderMousePosition(f)-l;this._setDesiredScrollPositionNow(h.getDesiredScrollPositionFromDelta(w))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),s()}),this._host.onDragStart()}_setDesiredScrollPositionNow(t){const s={};this.writeScrollPosition(s,t),this._scrollable.setScrollPositionNow(s)}updateScrollbarSize(t){this._updateScrollbarSize(t),this._scrollbarState.setScrollbarSize(t),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const Gde=20;class s4{constructor(t,s,l,u,h,f){this._scrollbarSize=Math.round(s),this._oppositeScrollbarSize=Math.round(l),this._arrowSize=Math.round(t),this._visibleSize=u,this._scrollSize=h,this._scrollPosition=f,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new s4(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){const s=Math.round(t);return this._visibleSize!==s?(this._visibleSize=s,this._refreshComputedValues(),!0):!1}setScrollSize(t){const s=Math.round(t);return this._scrollSize!==s?(this._scrollSize=s,this._refreshComputedValues(),!0):!1}setScrollPosition(t){const s=Math.round(t);return this._scrollPosition!==s?(this._scrollPosition=s,this._refreshComputedValues(),!0):!1}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,s,l,u,h){const f=Math.max(0,l-t),m=Math.max(0,f-2*s),A=u>0&&u>l;if(!A)return{computedAvailableSize:Math.round(f),computedIsNeeded:A,computedSliderSize:Math.round(m),computedSliderRatio:0,computedSliderPosition:0};const C=Math.round(Math.max(Gde,Math.floor(l*m/u))),w=(m-C)/(u-l),k=h*w;return{computedAvailableSize:Math.round(f),computedIsNeeded:A,computedSliderSize:Math.round(C),computedSliderRatio:w,computedSliderPosition:Math.round(k)}}_refreshComputedValues(){const t=s4._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;const s=t-this._arrowSize-this._computedSliderSize/2;return Math.round(s/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;const s=t-this._arrowSize;let l=this._scrollPosition;return s<this._computedSliderPosition?l-=this._visibleSize:l+=this._visibleSize,l}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;const s=this._computedSliderPosition+t;return Math.round(s/this._computedSliderRatio)}}class jde extends yH{constructor(t,s,l){const u=t.getScrollDimensions(),h=t.getCurrentScrollPosition();if(super({lazyRender:s.lazyRender,host:l,scrollbarState:new s4(s.horizontalHasArrows?s.arrowSize:0,s.horizontal===2?0:s.horizontalScrollbarSize,s.vertical===2?0:s.verticalScrollbarSize,u.width,u.scrollWidth,h.scrollLeft),visibility:s.horizontal,extraScrollbarClassName:"horizontal",scrollable:t,scrollByPage:s.scrollByPage}),s.horizontalHasArrows){const f=(s.arrowSize-Gg)/2,m=(s.horizontalScrollbarSize-Gg)/2;this._createArrow({className:"scra",icon:T.scrollbarButtonLeft,top:m,left:f,bottom:void 0,right:void 0,bgWidth:s.arrowSize,bgHeight:s.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Fg(null,1,0))}),this._createArrow({className:"scra",icon:T.scrollbarButtonRight,top:m,left:void 0,bottom:void 0,right:f,bgWidth:s.arrowSize,bgHeight:s.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Fg(null,-1,0))})}this._createSlider(Math.floor((s.horizontalScrollbarSize-s.horizontalSliderSize)/2),0,void 0,s.horizontalSliderSize)}_updateSlider(t,s){this.slider.setWidth(t),this.slider.setLeft(s)}_renderDomNode(t,s){this.domNode.setWidth(t),this.domNode.setHeight(s),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(t.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(t,s){return t}_sliderMousePosition(t){return t.posx}_sliderOrthogonalMousePosition(t){return t.posy}_updateScrollbarSize(t){this.slider.setHeight(t)}writeScrollPosition(t,s){t.scrollLeft=s}updateOptions(t){this.updateScrollbarSize(t.horizontal===2?0:t.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._visibilityController.setVisibility(t.horizontal),this._scrollByPage=t.scrollByPage}}class Zde extends yH{constructor(t,s,l){const u=t.getScrollDimensions(),h=t.getCurrentScrollPosition();if(super({lazyRender:s.lazyRender,host:l,scrollbarState:new s4(s.verticalHasArrows?s.arrowSize:0,s.vertical===2?0:s.verticalScrollbarSize,0,u.height,u.scrollHeight,h.scrollTop),visibility:s.vertical,extraScrollbarClassName:"vertical",scrollable:t,scrollByPage:s.scrollByPage}),s.verticalHasArrows){const f=(s.arrowSize-Gg)/2,m=(s.verticalScrollbarSize-Gg)/2;this._createArrow({className:"scra",icon:T.scrollbarButtonUp,top:f,left:m,bottom:void 0,right:void 0,bgWidth:s.verticalScrollbarSize,bgHeight:s.arrowSize,onActivate:()=>this._host.onMouseWheel(new Fg(null,0,1))}),this._createArrow({className:"scra",icon:T.scrollbarButtonDown,top:void 0,left:m,bottom:f,right:void 0,bgWidth:s.verticalScrollbarSize,bgHeight:s.arrowSize,onActivate:()=>this._host.onMouseWheel(new Fg(null,0,-1))})}this._createSlider(0,Math.floor((s.verticalScrollbarSize-s.verticalSliderSize)/2),s.verticalSliderSize,void 0)}_updateSlider(t,s){this.slider.setHeight(t),this.slider.setTop(s)}_renderDomNode(t,s){this.domNode.setWidth(s),this.domNode.setHeight(t),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(t){return this._shouldRender=this._onElementScrollSize(t.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(t.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(t.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(t,s){return s}_sliderMousePosition(t){return t.posy}_sliderOrthogonalMousePosition(t){return t.posx}_updateScrollbarSize(t){this.slider.setWidth(t)}writeScrollPosition(t,s){t.scrollTop=s}updateOptions(t){this.updateScrollbarSize(t.vertical===2?0:t.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(t.vertical),this._scrollByPage=t.scrollByPage}}class gC{constructor(t,s,l,u,h,f,m){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(s=s|0,l=l|0,u=u|0,h=h|0,f=f|0,m=m|0),this.rawScrollLeft=u,this.rawScrollTop=m,s<0&&(s=0),u+s>l&&(u=l-s),u<0&&(u=0),h<0&&(h=0),m+h>f&&(m=f-h),m<0&&(m=0),this.width=s,this.scrollWidth=l,this.scrollLeft=u,this.height=h,this.scrollHeight=f,this.scrollTop=m}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,s){return new gC(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,s?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,s?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new gC(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,s){const l=this.width!==t.width,u=this.scrollWidth!==t.scrollWidth,h=this.scrollLeft!==t.scrollLeft,f=this.height!==t.height,m=this.scrollHeight!==t.scrollHeight,A=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:s,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:u,scrollLeftChanged:h,heightChanged:f,scrollHeightChanged:m,scrollTopChanged:A}}}class p_ extends Se{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new he),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new gC(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,s){const l=this._state.withScrollDimensions(t,s);this._setState(l,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const s=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(s,!1)}setScrollPositionSmooth(t,s){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};const l=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===l.scrollLeft&&this._smoothScrolling.to.scrollTop===l.scrollTop)return;let u;s?u=new r4(this._smoothScrolling.from,l,this._smoothScrolling.startTime,this._smoothScrolling.duration):u=this._smoothScrolling.combine(this._state,l,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=u}else{const l=this._state.withScrollPosition(t);this._smoothScrolling=r4.start(this._state,l,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),s=this._state.withScrollPosition(t);if(this._setState(s,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,s){const l=this._state;l.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(l,s)))}}class wP{constructor(t,s,l){this.scrollLeft=t,this.scrollTop=s,this.isDone=l}}function Rb(d,t){const s=t-d;return function(l){return d+s*$de(l)}}function Qde(d,t,s){return function(l){return l<s?d(l/s):t((l-s)/(1-s))}}class r4{constructor(t,s,l,u){this.from=t,this.to=s,this.duration=u,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,s,l){if(Math.abs(t-s)>2.5*l){let h,f;return t<s?(h=t+.75*l,f=s-.75*l):(h=t-.75*l,f=s+.75*l),Qde(Rb(t,h),Rb(f,s),.33)}return Rb(t,s)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const s=(t-this.startTime)/this.duration;if(s<1){const l=this.scrollLeft(s),u=this.scrollTop(s);return new wP(l,u,!1)}return new wP(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,s,l){return r4.start(t,s,l)}static start(t,s,l){l=l+10;const u=Date.now()-10;return new r4(t,s,u,l)}}function Yde(d){return Math.pow(d,3)}function $de(d){return 1-Yde(1-d)}const Kde=500,vP=50;class Xde{constructor(t,s,l){this.timestamp=t,this.deltaX=s,this.deltaY=l,this.score=0}}class Uy{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let t=1,s=0,l=1,u=this._rear;do{const h=u===this._front?t:Math.pow(2,-l);if(t-=h,s+=this._memory[u].score*h,u===this._front)break;u=(this._capacity+u-1)%this._capacity,l++}while(!0);return s<=.5}accept(t,s,l){const u=new Xde(t,s,l);u.score=this._computeScore(u),this._front===-1&&this._rear===-1?(this._memory[0]=u,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=u)}_computeScore(t){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let s=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(t.deltaX)||!this._isAlmostInt(t.deltaY))&&(s+=.25),Math.min(Math.max(s,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}}Uy.INSTANCE=new Uy;class zI extends ba{constructor(t,s,l){super(),this._onScroll=this._register(new he),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new he),t.style.overflow="hidden",this._options=Jde(s),this._scrollable=l,this._register(this._scrollable.onScroll(h=>{this._onWillScroll.fire(h),this._onDidScroll(h),this._onScroll.fire(h)}));const u={onMouseWheel:h=>this._onMouseWheel(h),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Zde(this._scrollable,this._options,u)),this._horizontalScrollbar=this._register(new jde(this._scrollable,this._options,u)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=_i(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=_i(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=_i(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,h=>this._onMouseOver(h)),this.onnonbubblingmouseout(this._listenOnDomNode,h=>this._onMouseOut(h)),this._hideTimeout=this._register(new Wo),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=mi(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(t){this._verticalScrollbar.delegateMouseDown(t)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(t){this._scrollable.setScrollDimensions(t,!1)}updateClassName(t){this._options.className=t,Jt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(t){typeof t.handleMouseWheel<"u"&&(this._options.handleMouseWheel=t.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof t.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity),typeof t.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=t.fastScrollSensitivity),typeof t.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=t.scrollPredominantAxis),typeof t.horizontal<"u"&&(this._options.horizontal=t.horizontal),typeof t.vertical<"u"&&(this._options.vertical=t.vertical),typeof t.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=t.horizontalScrollbarSize),typeof t.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=t.verticalScrollbarSize),typeof t.scrollByPage<"u"&&(this._options.scrollByPage=t.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(t){if(this._mouseWheelToDispose.length>0!==t&&(this._mouseWheelToDispose=mi(this._mouseWheelToDispose),t)){const l=u=>{this._onMouseWheel(new Fg(u))};this._mouseWheelToDispose.push(ze(this._listenOnDomNode,vt.MOUSE_WHEEL,l,{passive:!1}))}}_onMouseWheel(t){const s=Uy.INSTANCE;{const h=window.devicePixelRatio/VW();Gs||Cr?s.accept(Date.now(),t.deltaX/h,t.deltaY/h):s.accept(Date.now(),t.deltaX,t.deltaY)}let l=!1;if(t.deltaY||t.deltaX){let h=t.deltaY*this._options.mouseWheelScrollSensitivity,f=t.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(h)>=Math.abs(f)?f=0:h=0),this._options.flipAxes&&([h,f]=[f,h]);const m=!Jt&&t.browserEvent&&t.browserEvent.shiftKey;(this._options.scrollYToX||m)&&!f&&(f=h,h=0),t.browserEvent&&t.browserEvent.altKey&&(f=f*this._options.fastScrollSensitivity,h=h*this._options.fastScrollSensitivity);const A=this._scrollable.getFutureScrollPosition();let C={};if(h){const w=vP*h,k=A.scrollTop-(w<0?Math.floor(w):Math.ceil(w));this._verticalScrollbar.writeScrollPosition(C,k)}if(f){const w=vP*f,k=A.scrollLeft-(w<0?Math.floor(w):Math.ceil(w));this._horizontalScrollbar.writeScrollPosition(C,k)}C=this._scrollable.validateScrollPosition(C),(A.scrollLeft!==C.scrollLeft||A.scrollTop!==C.scrollTop)&&(this._options.mouseWheelSmoothScroll&&s.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(C):this._scrollable.setScrollPositionNow(C),l=!0)}let u=l;!u&&this._options.alwaysConsumeMouseWheel&&(u=!0),!u&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(u=!0),u&&(t.preventDefault(),t.stopPropagation())}_onDidScroll(t){this._shouldRender=this._horizontalScrollbar.onDidScroll(t)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(t)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const t=this._scrollable.getCurrentScrollPosition(),s=t.scrollTop>0,l=t.scrollLeft>0,u=l?" left":"",h=s?" top":"",f=l||s?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${u}`),this._topShadowDomNode.setClassName(`shadow${h}`),this._topLeftShadowDomNode.setClassName(`shadow${f}${h}${u}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(t){this._mouseIsOver=!1,this._hide()}_onMouseOver(t){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Kde)}}class LH extends zI{constructor(t,s){s=s||{},s.mouseWheelSmoothScroll=!1;const l=new p_({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:u=>n2(u)});super(t,s,l),this._register(l)}setScrollPosition(t){this._scrollable.setScrollPositionNow(t)}}class GI extends zI{constructor(t,s,l){super(t,s,l)}setScrollPosition(t){t.reuseAnimation?this._scrollable.setScrollPositionSmooth(t,t.reuseAnimation):this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class A_ extends zI{constructor(t,s){s=s||{},s.mouseWheelSmoothScroll=!1;const l=new p_({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:u=>n2(u)});super(t,s,l),this._register(l),this._element=t,this.onScroll(u=>{u.scrollTopChanged&&(this._element.scrollTop=u.scrollTop),u.scrollLeftChanged&&(this._element.scrollLeft=u.scrollLeft)}),this.scanDomNode()}setScrollPosition(t){this._scrollable.setScrollPositionNow(t)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function Jde(d){const t={lazyRender:typeof d.lazyRender<"u"?d.lazyRender:!1,className:typeof d.className<"u"?d.className:"",useShadows:typeof d.useShadows<"u"?d.useShadows:!0,handleMouseWheel:typeof d.handleMouseWheel<"u"?d.handleMouseWheel:!0,flipAxes:typeof d.flipAxes<"u"?d.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof d.consumeMouseWheelIfScrollbarIsNeeded<"u"?d.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof d.alwaysConsumeMouseWheel<"u"?d.alwaysConsumeMouseWheel:!1,scrollYToX:typeof d.scrollYToX<"u"?d.scrollYToX:!1,mouseWheelScrollSensitivity:typeof d.mouseWheelScrollSensitivity<"u"?d.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof d.fastScrollSensitivity<"u"?d.fastScrollSensitivity:5,scrollPredominantAxis:typeof d.scrollPredominantAxis<"u"?d.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof d.mouseWheelSmoothScroll<"u"?d.mouseWheelSmoothScroll:!0,arrowSize:typeof d.arrowSize<"u"?d.arrowSize:11,listenOnDomNode:typeof d.listenOnDomNode<"u"?d.listenOnDomNode:null,horizontal:typeof d.horizontal<"u"?d.horizontal:1,horizontalScrollbarSize:typeof d.horizontalScrollbarSize<"u"?d.horizontalScrollbarSize:10,horizontalSliderSize:typeof d.horizontalSliderSize<"u"?d.horizontalSliderSize:0,horizontalHasArrows:typeof d.horizontalHasArrows<"u"?d.horizontalHasArrows:!1,vertical:typeof d.vertical<"u"?d.vertical:1,verticalScrollbarSize:typeof d.verticalScrollbarSize<"u"?d.verticalScrollbarSize:10,verticalHasArrows:typeof d.verticalHasArrows<"u"?d.verticalHasArrows:!1,verticalSliderSize:typeof d.verticalSliderSize<"u"?d.verticalSliderSize:0,scrollByPage:typeof d.scrollByPage<"u"?d.scrollByPage:!1};return t.horizontalSliderSize=typeof d.horizontalSliderSize<"u"?d.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=typeof d.verticalSliderSize<"u"?d.verticalSliderSize:t.verticalScrollbarSize,Jt&&(t.className+=" mac"),t}class qde extends zl{constructor(t,s,l,u){super(t);const h=this._context.configuration.options,f=h.get(92),m=h.get(67),A=h.get(34),C=h.get(95),w={listenOnDomNode:l.domNode,className:"editor-scrollable "+oC(t.theme.type),useShadows:!1,lazyRender:!0,vertical:f.vertical,horizontal:f.horizontal,verticalHasArrows:f.verticalHasArrows,horizontalHasArrows:f.horizontalHasArrows,verticalScrollbarSize:f.verticalScrollbarSize,verticalSliderSize:f.verticalSliderSize,horizontalScrollbarSize:f.horizontalScrollbarSize,horizontalSliderSize:f.horizontalSliderSize,handleMouseWheel:f.handleMouseWheel,alwaysConsumeMouseWheel:f.alwaysConsumeMouseWheel,arrowSize:f.arrowSize,mouseWheelScrollSensitivity:m,fastScrollSensitivity:A,scrollPredominantAxis:C,scrollByPage:f.scrollByPage};this.scrollbar=this._register(new GI(s.domNode,w,this._context.viewLayout.getScrollable())),A0.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=_i(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const k=(D,I,N)=>{const R={};if(I){const O=D.scrollTop;O&&(R.scrollTop=this._context.viewLayout.getCurrentScrollTop()+O,D.scrollTop=0)}if(N){const O=D.scrollLeft;O&&(R.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+O,D.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(R,1)};this._register(ze(l.domNode,"scroll",D=>k(l.domNode,!0,!0))),this._register(ze(s.domNode,"scroll",D=>k(s.domNode,!0,!1))),this._register(ze(u.domNode,"scroll",D=>k(u.domNode,!0,!1))),this._register(ze(this.scrollbarDomNode.domNode,"scroll",D=>k(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const t=this._context.configuration.options,s=t.get(131);this.scrollbarDomNode.setLeft(s.contentLeft),t.get(65).side==="right"?this.scrollbarDomNode.setWidth(s.contentWidth+s.minimap.minimapWidth):this.scrollbarDomNode.setWidth(s.contentWidth),this.scrollbarDomNode.setHeight(s.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(t){this.scrollbar.delegateVerticalScrollbarMouseDown(t)}onConfigurationChanged(t){if(t.hasChanged(92)||t.hasChanged(67)||t.hasChanged(34)){const s=this._context.configuration.options,l=s.get(92),u=s.get(67),h=s.get(34),f=s.get(95),m={vertical:l.vertical,horizontal:l.horizontal,verticalScrollbarSize:l.verticalScrollbarSize,horizontalScrollbarSize:l.horizontalScrollbarSize,scrollByPage:l.scrollByPage,handleMouseWheel:l.handleMouseWheel,mouseWheelScrollSensitivity:u,fastScrollSensitivity:h,scrollPredominantAxis:f};this.scrollbar.updateOptions(m)}return t.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(t){return!0}onThemeChanged(t){return this.scrollbar.updateClassName("editor-scrollable "+oC(this._context.theme.type)),!0}prepareRender(t){}render(t){this.scrollbar.renderNow()}}rn((d,t)=>{const s=d.getColor(km);s&&t.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${s} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${s} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${s} 6px 6px 6px -6px inset;
			}
		`);const l=d.getColor(gg);l&&t.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${l};
			}
		`);const u=d.getColor(mg);u&&t.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${u};
			}
		`);const h=d.getColor(pg);h&&t.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${h};
			}
		`)});class mC{constructor(t,s,l){this._decorationToRenderBrand=void 0,this.startLineNumber=+t,this.endLineNumber=+s,this.className=String(l)}}class jI extends Sm{_render(t,s,l){const u=[];for(let m=t;m<=s;m++){const A=m-t;u[A]=[]}if(l.length===0)return u;l.sort((m,A)=>m.className===A.className?m.startLineNumber===A.startLineNumber?m.endLineNumber-A.endLineNumber:m.startLineNumber-A.startLineNumber:m.className<A.className?-1:1);let h=null,f=0;for(let m=0,A=l.length;m<A;m++){const C=l[m],w=C.className;let k=Math.max(C.startLineNumber,t)-t;const D=Math.min(C.endLineNumber,s)-t;h===w?(k=Math.max(f+1,k),f=Math.max(f,D)):(h=w,f=D);for(let I=k;I<=f;I++)u[I].push(h)}return u}}class efe extends jI{constructor(t){super(),this._context=t;const s=this._context.configuration.options,l=s.get(131);this._lineHeight=s.get(59),this._glyphMargin=s.get(50),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(131);return this._lineHeight=s.get(59),this._glyphMargin=s.get(50),this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const s=t.getDecorationsInViewport(),l=[];let u=0;for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.options.glyphMarginClassName;A&&(l[u++]=new mC(m.range.startLineNumber,m.range.endLineNumber,A))}return l}prepareRender(t){if(!this._glyphMargin){this._renderResult=null;return}const s=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber,u=this._render(s,l,this._getDecorations(t)),h=this._lineHeight.toString(),f=this._glyphMarginLeft.toString(),m=this._glyphMarginWidth.toString(),A='" style="left:'+f+"px;width:"+m+"px;height:"+h+'px;"></div>',C=[];for(let w=s;w<=l;w++){const k=w-s,D=u[k];D.length===0?C[k]="":C[k]='<div class="cgmr codicon '+D.join(" ")+A}this._renderResult=C}render(t,s){if(!this._renderResult)return"";const l=s-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}class tfe{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function iv(d,t){let s=0,l=0;const u=d.length;for(;l<u;){const h=d.charCodeAt(l);if(h===32)s++;else if(h===9)s=s-s%t+t;else break;l++}return l===u?-1:s}var xd;(function(d){d[d.Disabled=0]="Disabled",d[d.EnabledForActive=1]="EnabledForActive",d[d.Enabled=2]="Enabled"})(xd||(xd={}));class eg{constructor(t,s,l){this.visibleColumn=t,this.className=s,this.horizontalLine=l}}class zy{constructor(t,s){this.top=t,this.endColumn=s}}class ife extends tfe{constructor(t,s){super(),this.textModel=t,this.languageConfigurationService=s}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return iv(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,s,l){this.assertNotDisposed();const u=this.textModel.getLineCount();if(t<1||t>u)throw new Error("Illegal value for lineNumber");const h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,f=Boolean(h&&h.offSide);let m=-2,A=-1,C=-2,w=-1;const k=Y=>{if(m!==-1&&(m===-2||m>Y-1)){m=-1,A=-1;for(let J=Y-2;J>=0;J--){const ne=this._computeIndentLevel(J);if(ne>=0){m=J,A=ne;break}}}if(C===-2){C=-1,w=-1;for(let J=Y;J<u;J++){const ne=this._computeIndentLevel(J);if(ne>=0){C=J,w=ne;break}}}};let D=-2,I=-1,N=-2,R=-1;const O=Y=>{if(D===-2){D=-1,I=-1;for(let J=Y-2;J>=0;J--){const ne=this._computeIndentLevel(J);if(ne>=0){D=J,I=ne;break}}}if(N!==-1&&(N===-2||N<Y-1)){N=-1,R=-1;for(let J=Y;J<u;J++){const ne=this._computeIndentLevel(J);if(ne>=0){N=J,R=ne;break}}}};let W=0,B=!0,z=0,G=!0,K=0,q=0;for(let Y=0;B||G;Y++){const J=t-Y,ne=t+Y;Y>1&&(J<1||J<s)&&(B=!1),Y>1&&(ne>u||ne>l)&&(G=!1),Y>5e4&&(B=!1,G=!1);let Ae=-1;if(B&&J>=1){const Te=this._computeIndentLevel(J-1);Te>=0?(C=J-1,w=Te,Ae=Math.ceil(Te/this.textModel.getOptions().indentSize)):(k(J),Ae=this._getIndentLevelForWhitespaceLine(f,A,w))}let ge=-1;if(G&&ne<=u){const Te=this._computeIndentLevel(ne-1);Te>=0?(D=ne-1,I=Te,ge=Math.ceil(Te/this.textModel.getOptions().indentSize)):(O(ne),ge=this._getIndentLevelForWhitespaceLine(f,I,R))}if(Y===0){q=Ae;continue}if(Y===1){if(ne<=u&&ge>=0&&q+1===ge){B=!1,W=ne,z=ne,K=ge;continue}if(J>=1&&Ae>=0&&Ae-1===q){G=!1,W=J,z=J,K=Ae;continue}if(W=t,z=t,K=q,K===0)return{startLineNumber:W,endLineNumber:z,indent:K}}B&&(Ae>=K?W=J:B=!1),G&&(ge>=K?z=ne:G=!1)}return{startLineNumber:W,endLineNumber:z,indent:K}}getLinesBracketGuides(t,s,l,u){var h,f,m,A,C;const w=[],k=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new $(t,1,s,this.textModel.getLineMaxColumn(s)));let D;if(l&&k.length>0){const W=t<=l.lineNumber&&l.lineNumber<=s?k.filter(B=>$.strictContainsPosition(B.range,l)):this.textModel.bracketPairs.getBracketPairsInRange($.fromPositions(l));D=(h=Zoe(W,B=>B.range.startLineNumber!==B.range.endLineNumber))===null||h===void 0?void 0:h.range}const I=new Tg(k),N=new Array,R=new Array,O=new DH;for(let W=t;W<=s;W++){let B=new Array;R.length>0&&(B=B.concat(R),R.length=0),w.push(B);for(const G of I.takeWhile(K=>K.openingBracketRange.startLineNumber<=W)||[]){if(G.range.startLineNumber===G.range.endLineNumber)continue;const K=Math.min(this.getVisibleColumnFromPosition(G.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((m=(f=G.closingBracketRange)===null||f===void 0?void 0:f.getStartPosition())!==null&&m!==void 0?m:G.range.getEndPosition()),G.minVisibleColumnIndentation+1);let q=!1;G.closingBracketRange&&Zr(this.textModel.getLineContent(G.closingBracketRange.startLineNumber))<G.closingBracketRange.startColumn-1&&(q=!0);const Y=G.openingBracketRange.getStartPosition(),J=(C=(A=G.closingBracketRange)===null||A===void 0?void 0:A.getStartPosition())!==null&&C!==void 0?C:G.range.getEndPosition();G.closingBracketRange===void 0?N[G.nestingLevel]=null:N[G.nestingLevel]={nestingLevel:G.nestingLevel,guideVisibleColumn:K,start:Y,visibleStartColumn:this.getVisibleColumnFromPosition(Y),end:J,visibleEndColumn:this.getVisibleColumnFromPosition(J),bracketPair:G,renderHorizontalEndLineAtTheBottom:q}}for(const G of N){if(!G)continue;const K=D&&G.bracketPair.range.equalsRange(D),q=O.getInlineClassNameOfLevel(G.nestingLevel)+(u.highlightActive&&K?" "+O.activeClassName:"");(K&&u.horizontalGuides!==xd.Disabled||u.includeInactive&&u.horizontalGuides===xd.Enabled)&&(G.start.lineNumber===W&&G.guideVisibleColumn<G.visibleStartColumn&&B.push(new eg(G.guideVisibleColumn,q,new zy(!1,G.start.column))),G.end.lineNumber===W+1&&G.guideVisibleColumn<G.visibleEndColumn&&R.push(new eg(G.guideVisibleColumn,q,new zy(!G.renderHorizontalEndLineAtTheBottom,G.end.column))))}let z=Number.MAX_SAFE_INTEGER;for(let G=N.length-1;G>=0;G--){const K=N[G];if(!K)continue;const q=u.highlightActive&&D&&K.bracketPair.range.equalsRange(D),Y=O.getInlineClassNameOfLevel(K.nestingLevel)+(q?" "+O.activeClassName:"");(q||u.includeInactive)&&K.renderHorizontalEndLineAtTheBottom&&K.end.lineNumber===W+1&&R.push(new eg(K.guideVisibleColumn,Y,null)),!(K.end.lineNumber<=W||K.start.lineNumber>=W)&&(K.guideVisibleColumn>=z&&!q||(z=K.guideVisibleColumn,(q||u.includeInactive)&&B.push(new eg(K.guideVisibleColumn,Y,null))))}B.sort((G,K)=>G.visibleColumn-K.visibleColumn)}return w}getVisibleColumnFromPosition(t){return _s.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,s){this.assertNotDisposed();const l=this.textModel.getLineCount();if(t<1||t>l)throw new Error("Illegal value for startLineNumber");if(s<1||s>l)throw new Error("Illegal value for endLineNumber");const u=this.textModel.getOptions(),h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,f=Boolean(h&&h.offSide),m=new Array(s-t+1);let A=-2,C=-1,w=-2,k=-1;for(let D=t;D<=s;D++){const I=D-t,N=this._computeIndentLevel(D-1);if(N>=0){A=D-1,C=N,m[I]=Math.ceil(N/u.indentSize);continue}if(A===-2){A=-1,C=-1;for(let R=D-2;R>=0;R--){const O=this._computeIndentLevel(R);if(O>=0){A=R,C=O;break}}}if(w!==-1&&(w===-2||w<D-1)){w=-1,k=-1;for(let R=D;R<l;R++){const O=this._computeIndentLevel(R);if(O>=0){w=R,k=O;break}}}m[I]=this._getIndentLevelForWhitespaceLine(f,C,k)}return m}_getIndentLevelForWhitespaceLine(t,s,l){const u=this.textModel.getOptions();return s===-1||l===-1?0:s<l?1+Math.floor(s/u.indentSize):s===l||t?Math.ceil(l/u.indentSize):1+Math.floor(l/u.indentSize)}}class DH{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(t){return`bracket-indent-guide lvl-${t%30}`}}class nfe extends Sm{constructor(t){super(),this._context=t,this._primaryPosition=null;const s=this._context.configuration.options,l=s.get(132),u=s.get(44);this._lineHeight=s.get(59),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=s.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(132),u=s.get(44);return this._lineHeight=s.get(59),this._spaceWidth=u.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=s.get(13),!0}onCursorStateChanged(t){var s;const u=t.selections[0].getPosition();return!((s=this._primaryPosition)===null||s===void 0)&&s.equals(u)?!1:(this._primaryPosition=u,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var s,l,u,h;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const f=t.visibleRange.startLineNumber,m=t.visibleRange.endLineNumber,A=t.scrollWidth,C=this._lineHeight,w=this._primaryPosition,k=this.getGuidesByLine(f,m,w),D=[];for(let I=f;I<=m;I++){const N=I-f,R=k[N];let O="";const W=(l=(s=t.visibleRangeForPosition(new me(I,1)))===null||s===void 0?void 0:s.left)!==null&&l!==void 0?l:0;for(const B of R){const z=W+(B.visibleColumn-1)*this._spaceWidth;if(z>A||this._maxIndentLeft>0&&z>this._maxIndentLeft)break;const G=B.horizontalLine?B.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",K=B.horizontalLine?((h=(u=t.visibleRangeForPosition(new me(I,B.horizontalLine.endColumn)))===null||u===void 0?void 0:u.left)!==null&&h!==void 0?h:z+this._spaceWidth)-z:this._spaceWidth;O+=`<div class="core-guide ${B.className} ${G}" style="left:${z}px;height:${C}px;width:${K}px"></div>`}D[N]=O}this._renderResult=D}getGuidesByLine(t,s,l){const u=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,s,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?xd.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?xd.EnabledForActive:xd.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,h=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,s):null;let f=0,m=0,A=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&l){const k=this._context.viewModel.getActiveIndentGuide(l.lineNumber,t,s);f=k.startLineNumber,m=k.endLineNumber,A=k.indent}const{indentSize:C}=this._context.viewModel.model.getOptions(),w=[];for(let k=t;k<=s;k++){const D=new Array;w.push(D);const I=u?u[k-t]:[],N=new Tg(I),R=h?h[k-t]:[];for(let O=1;O<=R;O++){const W=(O-1)*C+1,B=I.length===0&&f<=k&&k<=m&&O===A;D.push(...N.takeWhile(G=>G.visibleColumn<W)||[]);const z=N.peek();(!z||z.visibleColumn!==W||z.horizontalLine)&&D.push(new eg(W,B?"core-guide-indent-active":"core-guide-indent",null))}D.push(...N.takeWhile(O=>!0)||[])}return w}render(t,s){if(!this._renderResult)return"";const l=s-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}function G8(d){if(!(d&&d.isTransparent()))return d}rn((d,t)=>{const s=d.getColor(Jw);s&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${s} inset; }`);const l=d.getColor(qw)||s;l&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const u=[{bracketColor:gH,guideColor:ade,guideColorActive:gde},{bracketColor:mH,guideColor:cde,guideColorActive:mde},{bracketColor:pH,guideColor:ude,guideColorActive:pde},{bracketColor:AH,guideColor:hde,guideColorActive:Ade},{bracketColor:_H,guideColor:dde,guideColorActive:_de},{bracketColor:CH,guideColor:fde,guideColorActive:Cde}],h=new DH,f=u.map(m=>{var A,C;const w=d.getColor(m.bracketColor),k=d.getColor(m.guideColor),D=d.getColor(m.guideColorActive),I=G8((A=G8(k))!==null&&A!==void 0?A:w?.transparent(.3)),N=G8((C=G8(D))!==null&&C!==void 0?C:w);if(!(!I||!N))return{guideColor:I,guideColorActive:N}}).filter(Joe);if(f.length>0){for(let m=0;m<30;m++){const A=f[m%f.length];t.addRule(`.monaco-editor .${h.getInlineClassNameOfLevel(m).replace(/ /g,".")} { --guide-color: ${A.guideColor}; --guide-color-active: ${A.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${h.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${h.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${h.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class sfe{constructor(){this._currentVisibleRange=new $(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class rfe{constructor(t,s,l,u,h,f,m){this.minimalReveal=t,this.lineNumber=s,this.startColumn=l,this.endColumn=u,this.startScrollTop=h,this.stopScrollTop=f,this.scrollType=m,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class ofe{constructor(t,s,l,u,h){this.minimalReveal=t,this.selections=s,this.startScrollTop=l,this.stopScrollTop=u,this.scrollType=h,this.type="selections";let f=s[0].startLineNumber,m=s[0].endLineNumber;for(let A=1,C=s.length;A<C;A++){const w=s[A];f=Math.min(f,w.startLineNumber),m=Math.max(m,w.endLineNumber)}this.minLineNumber=f,this.maxLineNumber=m}}class nv extends zl{constructor(t,s){super(t),this._linesContent=s,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new kH(this),this.domNode=this._visibleLines.domNode;const l=this._context.configuration,u=this._context.configuration.options,h=u.get(44),f=u.get(132),m=u.get(131);this._lineHeight=u.get(59),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=f.isViewportWrapping,this._revealHorizontalRightPadding=u.get(89),this._horizontalScrollbarHeight=m.horizontalScrollbarHeight,this._cursorSurroundingLines=u.get(25),this._cursorSurroundingLinesStyle=u.get(26),this._canUseLayerHinting=!u.get(28),this._viewLineOptions=new dP(l,this._context.theme.type),A0.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Id}`),_r(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new zi(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new zi(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new sfe,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new t0(this._viewLineOptions)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(132)&&(this._maxLineWidth=0);const s=this._context.configuration.options,l=s.get(44),u=s.get(132),h=s.get(131);return this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=u.isViewportWrapping,this._revealHorizontalRightPadding=s.get(89),this._horizontalScrollbarHeight=h.horizontalScrollbarHeight,this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),_r(this.domNode,l),this._onOptionsMaybeChanged(),t.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const t=this._context.configuration,s=new dP(t,this._context.theme.type);if(!this._viewLineOptions.equals(s)){this._viewLineOptions=s;const l=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=l;h<=u;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(t){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let u=!1;for(let h=s;h<=l;h++)u=this._visibleLines.getVisibleLine(h).onSelectionChanged()||u;return u}onDecorationsChanged(t){{const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=s;u<=l;u++)this._visibleLines.getVisibleLine(u).onDecorationsChanged()}return!0}onFlushed(t){const s=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,s}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onRevealRangeRequest(t){const s=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.minimalReveal,t.range,t.selections,t.verticalType);if(s===-1)return!1;let l=this._context.viewLayout.validateScrollPosition({scrollTop:s});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?l={scrollTop:l.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new rfe(t.minimalReveal,t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new ofe(t.minimalReveal,t.selections,this._context.viewLayout.getCurrentScrollTop(),l.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-l.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(l,h),!0}onScrollChanged(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){const s=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),l=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<s||t.scrollTop>l)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)}onThemeChanged(t){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(t,s){const l=this._getViewLineDomNode(t);if(l===null)return null;const u=this._getLineNumberFor(l);if(u===-1||u<1||u>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(u)===1)return new me(u,1);const h=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();if(u<h||u>f)return null;let m=this._visibleLines.getVisibleLine(u).getColumnOfNodeOffset(u,t,s);const A=this._context.viewModel.getLineMinColumn(u);return m<A&&(m=A),new me(u,m)}_getViewLineDomNode(t){for(;t&&t.nodeType===1;){if(t.className===t0.CLASS_NAME)return t;t=t.parentElement}return null}_getLineNumberFor(t){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=s;u<=l;u++){const h=this._visibleLines.getVisibleLine(u);if(t===h.getDomNode())return u}return-1}getLineWidth(t){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();return t<s||t>l?-1:this._visibleLines.getVisibleLine(t).getWidth()}linesVisibleRangesForRange(t,s){if(this.shouldRender())return null;const l=t.endLineNumber,u=$.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!u)return null;let h=[],f=0;const m=new hP(this.domNode.domNode,this._textRangeRestingSpot);let A=0;s&&(A=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me(u.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let k=u.startLineNumber;k<=u.endLineNumber;k++){if(k<C||k>w)continue;const D=k===u.startLineNumber?u.startColumn:1,I=k===u.endLineNumber?u.endColumn:this._context.viewModel.getLineMaxColumn(k),N=this._visibleLines.getVisibleLine(k).getVisibleRangesForRange(k,D,I,m);if(!!N){if(s&&k<l){const R=A;A=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me(k+1,1)).lineNumber,R!==A&&(N.ranges[N.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[f++]=new bhe(N.outsideRenderedLine,k,Kw.from(N.ranges))}}return f===0?null:h}_visibleRangesForLineRange(t,s,l){return this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(t,s,l,new hP(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(t){const s=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return s?new She(s.outsideRenderedLine,s.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(t){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();let u=1,h=!0;for(let f=s;f<=l;f++){const m=this._visibleLines.getVisibleLine(f);if(t&&!m.getWidthIsFast()){h=!1;continue}u=Math.max(u,m.getWidth())}return h&&s===1&&l===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(u),h}_checkMonospaceFontAssumptions(){let t=-1,s=-1;const l=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=l;h<=u;h++){const f=this._visibleLines.getVisibleLine(h);if(f.needsMonospaceFontCheck()){const m=f.getWidth();m>s&&(s=m,t=h)}}if(t!==-1&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(let h=l;h<=u;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const l=this._horizontalRevealRequest;if(t.startLineNumber<=l.minLineNumber&&l.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const u=this._computeScrollLeftToReveal(l);u&&(this._isViewportWrapping||this._ensureMaxLineWidth(u.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:u.scrollLeft},l.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),Cr&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const l=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=l;h<=u;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(t){const s=Math.ceil(t);this._maxLineWidth<s&&(this._maxLineWidth=s,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(t,s,l,u,h,f){const m=t.top,A=t.height,C=m+A;let w,k,D;if(h&&h.length>0){let R=h[0].startLineNumber,O=h[0].endLineNumber;for(let W=1,B=h.length;W<B;W++){const z=h[W];R=Math.min(R,z.startLineNumber),O=Math.max(O,z.endLineNumber)}w=!1,k=this._context.viewLayout.getVerticalOffsetForLineNumber(R),D=this._context.viewLayout.getVerticalOffsetForLineNumber(O)+this._lineHeight}else if(u)w=!0,k=this._context.viewLayout.getVerticalOffsetForLineNumber(u.startLineNumber),D=this._context.viewLayout.getVerticalOffsetForLineNumber(u.endLineNumber)+this._lineHeight;else return-1;if((s==="mouse"||l)&&this._cursorSurroundingLinesStyle==="default")l||(k-=this._lineHeight);else{const R=Math.min(A/this._lineHeight/2,this._cursorSurroundingLines);k-=R*this._lineHeight,D+=Math.max(0,R-1)*this._lineHeight}(f===0||f===4)&&(D+=l?this._horizontalScrollbarHeight:this._lineHeight);let N;if(D-k>A){if(!w)return-1;N=k}else if(f===5||f===6)if(f===6&&m<=k&&D<=C)N=m;else{const R=Math.max(5*this._lineHeight,A*.2),O=k-R,W=D-A;N=Math.max(W,O)}else if(f===1||f===2)if(f===2&&m<=k&&D<=C)N=m;else{const R=(k+D)/2;N=Math.max(0,R-A/2)}else N=this._computeMinimumScrolling(m,C,k,D,f===3,f===4);return N}_computeScrollLeftToReveal(t){const s=this._context.viewLayout.getCurrentViewport(),l=s.left,u=l+s.width;let h=1073741824,f=0;if(t.type==="range"){const A=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!A)return null;for(const C of A.ranges)h=Math.min(h,Math.round(C.left)),f=Math.max(f,Math.round(C.left+C.width))}else for(const A of t.selections){if(A.startLineNumber!==A.endLineNumber)return null;const C=this._visibleRangesForLineRange(A.startLineNumber,A.startColumn,A.endColumn);if(!C)return null;for(const w of C.ranges)h=Math.min(h,Math.round(w.left)),f=Math.max(f,Math.round(w.left+w.width))}return t.minimalReveal||(h=Math.max(0,h-nv.HORIZONTAL_EXTRA_PX),f+=this._revealHorizontalRightPadding),t.type==="selections"&&f-h>s.width?null:{scrollLeft:this._computeMinimumScrolling(l,u,h,f),maxHorizontalOffset:f}}_computeMinimumScrolling(t,s,l,u,h,f){t=t|0,s=s|0,l=l|0,u=u|0,h=!!h,f=!!f;const m=s-t;if(u-l<m){if(h)return l;if(f)return Math.max(0,u-m);if(l<t)return l;if(u>s)return Math.max(0,u-m)}else return l;return t}}nv.HORIZONTAL_EXTRA_PX=30;class lfe extends jI{constructor(t){super(),this._context=t;const l=this._context.configuration.options.get(131);this._decorationsLeft=l.decorationsLeft,this._decorationsWidth=l.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const l=this._context.configuration.options.get(131);return this._decorationsLeft=l.decorationsLeft,this._decorationsWidth=l.decorationsWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const s=t.getDecorationsInViewport(),l=[];let u=0;for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.options.linesDecorationsClassName;A&&(l[u++]=new mC(m.range.startLineNumber,m.range.endLineNumber,A));const C=m.options.firstLineDecorationClassName;C&&(l[u++]=new mC(m.range.startLineNumber,m.range.startLineNumber,C))}return l}prepareRender(t){const s=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber,u=this._render(s,l,this._getDecorations(t)),h=this._decorationsLeft.toString(),f=this._decorationsWidth.toString(),m='" style="left:'+h+"px;width:"+f+'px;"></div>',A=[];for(let C=s;C<=l;C++){const w=C-s,k=u[w];let D="";for(let I=0,N=k.length;I<N;I++)D+='<div class="cldr '+k[I]+m;A[w]=D}this._renderResult=A}render(t,s){return this._renderResult?this._renderResult[s-t]:""}}class afe extends jI{constructor(t){super(),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const s=t.getDecorationsInViewport(),l=[];let u=0;for(let h=0,f=s.length;h<f;h++){const m=s[h],A=m.options.marginClassName;A&&(l[u++]=new mC(m.range.startLineNumber,m.range.endLineNumber,A))}return l}prepareRender(t){const s=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber,u=this._render(s,l,this._getDecorations(t)),h=[];for(let f=s;f<=l;f++){const m=f-s,A=u[m];let C="";for(let w=0,k=A.length;w<k;w++)C+='<div class="cmdr '+A[w]+'" style=""></div>';h[m]=C}this._renderResult=h}render(t,s){return this._renderResult?this._renderResult[s-t]:""}}class Nl{constructor(t,s,l,u){this._rgba8Brand=void 0,this.r=Nl._clamp(t),this.g=Nl._clamp(s),this.b=Nl._clamp(l),this.a=Nl._clamp(u)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static _clamp(t){return t<0?0:t>255?255:t|0}}Nl.Empty=new Nl(0,0,0,0);class __ extends Se{constructor(){super(),this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(bn.onDidChange(t=>{t.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new __),this._INSTANCE}_updateColorMap(){const t=bn.getColorMap();if(!t){this._colors=[Nl.Empty],this._backgroundIsLight=!0;return}this._colors=[Nl.Empty];for(let l=1;l<t.length;l++){const u=t[l].rgba;this._colors[l]=new Nl(u.r,u.g,u.b,Math.round(u.a*255))}const s=t[2].getRelativeLuminance();this._backgroundIsLight=s>=.5,this._onDidChange.fire(void 0)}getColor(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]}backgroundIsLight(){return this._backgroundIsLight}}__._INSTANCE=null;const cfe=(()=>{const d=[];for(let t=32;t<=126;t++)d.push(t);return d.push(65533),d})(),ufe=(d,t)=>(d-=32,d<0||d>96?t<=2?(d+96)%96:96-1:d);class o4{constructor(t,s){this.scale=s,this._minimapCharRendererBrand=void 0,this.charDataNormal=o4.soften(t,12/15),this.charDataLight=o4.soften(t,50/60)}static soften(t,s){const l=new Uint8ClampedArray(t.length);for(let u=0,h=t.length;u<h;u++)l[u]=$3(t[u]*s);return l}renderChar(t,s,l,u,h,f,m,A,C,w,k){const D=1*this.scale,I=2*this.scale,N=k?1:I;if(s+D>t.width||l+N>t.height){console.warn("bad render request outside image data");return}const R=w?this.charDataLight:this.charDataNormal,O=ufe(u,C),W=t.width*4,B=m.r,z=m.g,G=m.b,K=h.r-B,q=h.g-z,Y=h.b-G,J=Math.max(f,A),ne=t.data;let Ae=O*D*I,ge=l*W+s*4;for(let Te=0;Te<N;Te++){let Me=ge;for(let ct=0;ct<D;ct++){const st=R[Ae++]/255*(f/255);ne[Me++]=B+K*st,ne[Me++]=z+q*st,ne[Me++]=G+Y*st,ne[Me++]=J}ge+=W}}blockRenderChar(t,s,l,u,h,f,m,A){const C=1*this.scale,w=2*this.scale,k=A?1:w;if(s+C>t.width||l+k>t.height){console.warn("bad render request outside image data");return}const D=t.width*4,I=.5*(h/255),N=f.r,R=f.g,O=f.b,W=u.r-N,B=u.g-R,z=u.b-O,G=N+W*I,K=R+B*I,q=O+z*I,Y=Math.max(h,m),J=t.data;let ne=l*D+s*4;for(let Ae=0;Ae<k;Ae++){let ge=ne;for(let Te=0;Te<C;Te++)J[ge++]=G,J[ge++]=K,J[ge++]=q,J[ge++]=Y;ne+=D}}}const kP={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},bP=d=>{const t=new Uint8ClampedArray(d.length/2);for(let s=0;s<d.length;s+=2)t[s>>1]=kP[d[s]]<<4|kP[d[s+1]]&15;return t},SP={1:Ic(()=>bP("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Ic(()=>bP("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class _A{static create(t,s){if(this.lastCreated&&t===this.lastCreated.scale&&s===this.lastFontFamily)return this.lastCreated;let l;return SP[t]?l=new o4(SP[t](),t):l=_A.createFromSampleData(_A.createSampleData(s).data,t),this.lastFontFamily=s,this.lastCreated=l,l}static createSampleData(t){const s=document.createElement("canvas"),l=s.getContext("2d");s.style.height=`${16}px`,s.height=16,s.width=96*10,s.style.width=96*10+"px",l.fillStyle="#ffffff",l.font=`bold ${16}px ${t}`,l.textBaseline="middle";let u=0;for(const h of cfe)l.fillText(String.fromCharCode(h),u,16/2),u+=10;return l.getImageData(0,0,96*10,16)}static createFromSampleData(t,s){if(t.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const u=_A._downsample(t,s);return new o4(u,s)}static _downsampleChar(t,s,l,u,h){const f=1*h,m=2*h;let A=u,C=0;for(let w=0;w<m;w++){const k=w/m*16,D=(w+1)/m*16;for(let I=0;I<f;I++){const N=I/f*10,R=(I+1)/f*10;let O=0,W=0;for(let z=k;z<D;z++){const G=s+Math.floor(z)*3840,K=1-(z-Math.floor(z));for(let q=N;q<R;q++){const Y=1-(q-Math.floor(q)),J=G+Math.floor(q)*4,ne=Y*K;W+=ne,O+=t[J]*t[J+3]/255*ne}}const B=O/W;C=Math.max(C,B),l[A++]=$3(B)}}return C}static _downsample(t,s){const l=2*s*1*s,u=l*96,h=new Uint8ClampedArray(u);let f=0,m=0,A=0;for(let C=0;C<96;C++)A=Math.max(A,this._downsampleChar(t,m,h,f,s)),f+=l,m+=10*4;if(A>0){const C=255/A;for(let w=0;w<u;w++)h[w]*=C}return h}}const hfe=140,dfe=2;class l4{constructor(t,s,l){const u=t.options,h=u.get(129),f=u.get(131),m=f.minimap,A=u.get(44),C=u.get(65);this.renderMinimap=m.renderMinimap,this.size=C.size,this.minimapHeightIsEditorHeight=m.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=u.get(94),this.showSlider=C.showSlider,this.pixelRatio=h,this.typicalHalfwidthCharacterWidth=A.typicalHalfwidthCharacterWidth,this.lineHeight=u.get(59),this.minimapLeft=m.minimapLeft,this.minimapWidth=m.minimapWidth,this.minimapHeight=f.height,this.canvasInnerWidth=m.minimapCanvasInnerWidth,this.canvasInnerHeight=m.minimapCanvasInnerHeight,this.canvasOuterWidth=m.minimapCanvasOuterWidth,this.canvasOuterHeight=m.minimapCanvasOuterHeight,this.isSampling=m.minimapIsSampling,this.editorHeight=f.height,this.fontScale=m.minimapScale,this.minimapLineHeight=m.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Ic(()=>_A.create(this.fontScale,A.fontFamily)),this.defaultBackgroundColor=l.getColor(2),this.backgroundColor=l4._getMinimapBackground(s,this.defaultBackgroundColor),this.foregroundAlpha=l4._getMinimapForegroundOpacity(s)}static _getMinimapBackground(t,s){const l=t.getColor(she);return l?new Nl(l.rgba.r,l.rgba.g,l.rgba.b,Math.round(255*l.rgba.a)):s}static _getMinimapForegroundOpacity(t){const s=t.getColor(rhe);return s?Nl._clamp(Math.round(255*s.rgba.a)):255}equals(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.showSlider===t.showSlider&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha}}class CA{constructor(t,s,l,u,h,f,m,A){this.scrollTop=t,this.scrollHeight=s,this.sliderNeeded=l,this._computedSliderRatio=u,this.sliderTop=h,this.sliderHeight=f,this.startLineNumber=m,this.endLineNumber=A}getDesiredScrollTopFromDelta(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)}static create(t,s,l,u,h,f,m,A,C,w,k){const D=t.pixelRatio,I=t.minimapLineHeight,N=Math.floor(t.canvasInnerHeight/I),R=t.lineHeight;if(t.minimapHeightIsEditorHeight){const K=A*t.lineHeight+(t.scrollBeyondLastLine?h-t.lineHeight:0),q=Math.max(1,Math.floor(h*h/K)),Y=Math.max(0,t.minimapHeight-q),J=Y/(w-h),ne=C*J,Ae=Y>0,ge=Math.floor(t.canvasInnerHeight/t.minimapLineHeight);return new CA(C,w,Ae,J,ne,q,1,Math.min(m,ge))}let O;if(f&&l!==m){const K=l-s+1;O=Math.floor(K*I/D)}else{const K=h/R;O=Math.floor(K*I/D)}let W;t.scrollBeyondLastLine?W=(m-1)*I/D:W=Math.max(0,m*I/D-O),W=Math.min(t.minimapHeight-O,W);const B=W/(w-h),z=C*B;let G=0;if(t.scrollBeyondLastLine&&(G=h/R-1),N>=m+G){const q=m,Y=W>0;return new CA(C,w,Y,B,z,O,1,q)}else{let K=Math.max(1,Math.floor(s-z*D/I));k&&k.scrollHeight===w&&(k.scrollTop>C&&(K=Math.min(K,k.startLineNumber)),k.scrollTop<C&&(K=Math.max(K,k.startLineNumber)));const q=Math.min(m,K+N-1),Y=(C-u)/R,J=(s-K+Y)*I/D;return new CA(C,w,!0,B,J,O,K,q)}}}class pC{constructor(t){this.dy=t}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}pC.INVALID=new pC(-1);class yP{constructor(t,s,l){this.renderedLayout=t,this._imageData=s,this._renderedLines=new vH(()=>pC.INVALID),this._renderedLines._set(t.startLineNumber,l)}linesEquals(t){if(!this.scrollEquals(t))return!1;const l=this._renderedLines._get().lines;for(let u=0,h=l.length;u<h;u++)if(l[u].dy===-1)return!1;return!0}scrollEquals(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber}_get(){const t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}}onLinesChanged(t,s){return this._renderedLines.onLinesChanged(t,s)}onLinesDeleted(t,s){this._renderedLines.onLinesDeleted(t,s)}onLinesInserted(t,s){this._renderedLines.onLinesInserted(t,s)}onTokensChanged(t){return this._renderedLines.onTokensChanged(t)}}class ZI{constructor(t,s,l,u){this._backgroundFillData=ZI._createBackgroundFillData(s,l,u),this._buffers=[t.createImageData(s,l),t.createImageData(s,l)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t}static _createBackgroundFillData(t,s,l){const u=l.r,h=l.g,f=l.b,m=l.a,A=new Uint8ClampedArray(t*s*4);let C=0;for(let w=0;w<s;w++)for(let k=0;k<t;k++)A[C]=u,A[C+1]=h,A[C+2]=f,A[C+3]=m,C+=4;return A}}class a4{constructor(t,s){this.samplingRatio=t,this.minimapLines=s}static compute(t,s,l){if(t.renderMinimap===0||!t.isSampling)return[null,[]];const u=t.pixelRatio,h=t.lineHeight,f=t.scrollBeyondLastLine,{minimapLineCount:m}=cg.computeContainedMinimapLineCount({viewLineCount:s,scrollBeyondLastLine:f,height:t.editorHeight,lineHeight:h,pixelRatio:u}),A=s/m,C=A/2;if(!l||l.minimapLines.length===0){const z=[];if(z[0]=1,m>1){for(let G=0,K=m-1;G<K;G++)z[G]=Math.round(G*A+C);z[m-1]=s}return[new a4(A,z),[]]}const w=l.minimapLines,k=w.length,D=[];let I=0,N=0,R=1;const O=10;let W=[],B=null;for(let z=0;z<m;z++){const G=Math.max(R,Math.round(z*A)),K=Math.max(G,Math.round((z+1)*A));for(;I<k&&w[I]<G;){if(W.length<O){const Y=I+1+N;B&&B.type==="deleted"&&B._oldIndex===I-1?B.deleteToLineNumber++:(B={type:"deleted",_oldIndex:I,deleteFromLineNumber:Y,deleteToLineNumber:Y},W.push(B)),N--}I++}let q;if(I<k&&w[I]<=K)q=w[I],I++;else if(z===0?q=1:z+1===m?q=s:q=Math.round(z*A+C),W.length<O){const Y=I+1+N;B&&B.type==="inserted"&&B._i===z-1?B.insertToLineNumber++:(B={type:"inserted",_i:z,insertFromLineNumber:Y,insertToLineNumber:Y},W.push(B)),N++}D[z]=q,R=q}if(W.length<O)for(;I<k;){const z=I+1+N;B&&B.type==="deleted"&&B._oldIndex===I-1?B.deleteToLineNumber++:(B={type:"deleted",_oldIndex:I,deleteFromLineNumber:z,deleteToLineNumber:z},W.push(B)),N--,I++}else W=[{type:"flush"}];return[new a4(A,D),W]}modelLineToMinimapLine(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))}modelLineRangeToMinimapLineRange(t,s){let l=this.modelLineToMinimapLine(t)-1;for(;l>0&&this.minimapLines[l-1]>=t;)l--;let u=this.modelLineToMinimapLine(s)-1;for(;u+1<this.minimapLines.length&&this.minimapLines[u+1]<=s;)u++;if(l===u){const h=this.minimapLines[l];if(h<t||h>s)return null}return[l+1,u+1]}decorationLineRangeToMinimapLineRange(t,s){let l=this.modelLineToMinimapLine(t),u=this.modelLineToMinimapLine(s);return t!==s&&u===l&&(u===this.minimapLines.length?l>1&&l--:u++),[l,u]}onLinesDeleted(t){const s=t.toLineNumber-t.fromLineNumber+1;let l=this.minimapLines.length,u=0;for(let h=this.minimapLines.length-1;h>=0&&!(this.minimapLines[h]<t.fromLineNumber);h--)this.minimapLines[h]<=t.toLineNumber?(this.minimapLines[h]=Math.max(1,t.fromLineNumber-1),l=Math.min(l,h),u=Math.max(u,h)):this.minimapLines[h]-=s;return[l,u]}onLinesInserted(t){const s=t.toLineNumber-t.fromLineNumber+1;for(let l=this.minimapLines.length-1;l>=0&&!(this.minimapLines[l]<t.fromLineNumber);l--)this.minimapLines[l]+=s}}class ffe extends zl{constructor(t){super(t),this.tokensColorTracker=__.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new l4(this._context.configuration,this._context.theme,this.tokensColorTracker);const[s]=a4.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=s,this._shouldCheckSampling=!1,this._actual=new AC(t.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const t=new l4(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(t)?!1:(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(t){return this._onOptionsMaybeChanged()}onCursorStateChanged(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(t){return t.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(t){if(this._samplingState){const s=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.toLineNumber);return s?this._actual.onLinesChanged(s[0],s[1]):!1}else return this._actual.onLinesChanged(t.fromLineNumber,t.toLineNumber)}onLinesDeleted(t){if(this._samplingState){const[s,l]=this._samplingState.onLinesDeleted(t);return s<=l&&this._actual.onLinesChanged(s+1,l+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)}onLinesInserted(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)}onScrollChanged(t){return this._actual.onScrollChanged()}onThemeChanged(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(t){if(this._samplingState){const s=[];for(const l of t.ranges){const u=this._samplingState.modelLineRangeToMinimapLineRange(l.fromLineNumber,l.toLineNumber);u&&s.push({fromLineNumber:u[0],toLineNumber:u[1]})}return s.length?this._actual.onTokensChanged(s):!1}else return this._actual.onTokensChanged(t.ranges)}onTokensColorsChanged(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(t){return this._actual.onZonesChanged()}prepareRender(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(t){let s=t.visibleRange.startLineNumber,l=t.visibleRange.endLineNumber;this._samplingState&&(s=this._samplingState.modelLineToMinimapLine(s),l=this._samplingState.modelLineToMinimapLine(l));const u={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:s,viewportEndLineNumber:l,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(s),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(u)}_recreateLineSampling(){this._minimapSelections=null;const t=Boolean(this._samplingState),[s,l]=a4.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=s,t&&this._samplingState)for(const u of l)switch(u.type){case"deleted":this._actual.onLinesDeleted(u.deleteFromLineNumber,u.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(u.insertFromLineNumber,u.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(t){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineContent(t)}getLineMaxColumn(t){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineMaxColumn(t)}getMinimapLinesRenderingData(t,s,l){if(this._samplingState){const u=[];for(let h=0,f=s-t+1;h<f;h++)l[h]?u[h]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+h-1]):u[h]=null;return u}return this._context.viewModel.getMinimapLinesRenderingData(t,s,l).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const t of this._selections){const[s,l]=this._samplingState.decorationLineRangeToMinimapLineRange(t.startLineNumber,t.endLineNumber);this._minimapSelections.push(new et(s,t.startColumn,l,t.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(t,s){let l;if(this._samplingState){const h=this._samplingState.minimapLines[t-1],f=this._samplingState.minimapLines[s-1];l=new $(h,1,f,this._context.viewModel.getLineMaxColumn(f))}else l=new $(t,1,s,this._context.viewModel.getLineMaxColumn(s));const u=this._context.viewModel.getDecorationsInViewport(l);if(this._samplingState){const h=[];for(const f of u){if(!f.options.minimap)continue;const m=f.range,A=this._samplingState.modelLineToMinimapLine(m.startLineNumber),C=this._samplingState.modelLineToMinimapLine(m.endLineNumber);h.push(new hV(new $(A,m.startColumn,C,m.endColumn),f.options))}return h}return u}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new $(t,1,t,1),1,0)}setScrollTop(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)}}class AC extends Se{constructor(t,s){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=t,this._model=s,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(aP),this._domNode=_i(document.createElement("div")),A0.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=_i(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=_i(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=_i(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=_i(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=_i(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=zs(this._domNode.domNode,"mousedown",l=>{if(l.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(l.leftButton&&this._lastRenderData){const C=Js(this._slider.domNode),w=C.top+C.height/2;this._startSliderDragging(l.buttons,l.posx,w,l.posy,this._lastRenderData.renderedLayout)}return}const h=this._model.options.minimapLineHeight,f=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*l.browserEvent.offsetY;let A=Math.floor(f/h)+this._lastRenderData.renderedLayout.startLineNumber;A=Math.min(A,this._model.getLineCount()),this._model.revealLineNumber(A)}),this._sliderMouseMoveMonitor=new If,this._sliderMouseDownListener=zs(this._slider.domNode,"mousedown",l=>{l.preventDefault(),l.stopPropagation(),l.leftButton&&this._lastRenderData&&this._startSliderDragging(l.buttons,l.posx,l.posy,l.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Wi.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ze(this._domNode.domNode,nn.Start,l=>{l.preventDefault(),l.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(l))},{passive:!1}),this._sliderTouchMoveListener=ze(this._domNode.domNode,nn.Change,l=>{l.preventDefault(),l.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(l)},{passive:!1}),this._sliderTouchEndListener=zs(this._domNode.domNode,nn.End,l=>{l.preventDefault(),l.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(t,s,l,u,h){this._slider.toggleClassName("active",!0);const f=(m,A)=>{const C=Math.abs(A-s);if(Gs&&C>hfe){this._model.setScrollTop(h.scrollTop);return}const w=m-l;this._model.setScrollTop(h.getDesiredScrollTopFromDelta(w))};u!==l&&f(u,s),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,t,vm,m=>f(m.posy,m.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(t){const s=this._domNode.domNode.getBoundingClientRect().top,l=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-s);this._model.setScrollTop(l)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new ZI(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(t,s){return this._lastRenderData?this._lastRenderData.onLinesChanged(t,s):!1}onLinesDeleted(t,s){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(t,s),!0}onLinesInserted(t,s){return this._lastRenderData&&this._lastRenderData.onLinesInserted(t,s),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(aP),this._renderDecorations=!0,!0}onTokensChanged(t){return this._lastRenderData?this._lastRenderData.onTokensChanged(t):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(t){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const l=CA.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(l.sliderNeeded?"block":"none"),this._slider.setTop(l.sliderTop),this._slider.setHeight(l.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(l.sliderHeight),this.renderDecorations(l),this._lastRenderData=this.renderLines(l)}renderDecorations(t){if(this._renderDecorations){this._renderDecorations=!1;const s=this._model.getSelections();s.sort($.compareRangesUsingStarts);const l=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);l.sort((D,I)=>(D.options.zIndex||0)-(I.options.zIndex||0));const{canvasInnerWidth:u,canvasInnerHeight:h}=this._model.options,f=this._model.options.minimapLineHeight,m=this._model.options.minimapCharWidth,A=this._model.getOptions().tabSize,C=this._decorationsCanvas.domNode.getContext("2d");C.clearRect(0,0,u,h);const w=new LP(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(C,s,w,t,f),this._renderDecorationsLineHighlights(C,l,w,t,f);const k=new LP(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(C,s,k,t,f,A,m,u),this._renderDecorationsHighlights(C,l,k,t,f,A,m,u)}}_renderSelectionLineHighlights(t,s,l,u,h){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();let f=0,m=0;for(const A of s){const C=Math.max(u.startLineNumber,A.startLineNumber),w=Math.min(u.endLineNumber,A.endLineNumber);if(C>w)continue;for(let I=C;I<=w;I++)l.set(I,!0);const k=(C-u.startLineNumber)*h,D=(w-u.startLineNumber)*h+h;m>=k||(m>f&&t.fillRect(au,f,t.canvas.width,m-f),f=k),m=D}m>f&&t.fillRect(au,f,t.canvas.width,m-f)}_renderDecorationsLineHighlights(t,s,l,u,h){const f=new Map;for(let m=s.length-1;m>=0;m--){const A=s[m],C=A.options.minimap;if(!C||C.position!==Rl.Inline)continue;const w=Math.max(u.startLineNumber,A.range.startLineNumber),k=Math.min(u.endLineNumber,A.range.endLineNumber);if(w>k)continue;const D=C.getColor(this._theme.value);if(!D||D.isTransparent())continue;let I=f.get(D.toString());I||(I=D.transparent(.5).toString(),f.set(D.toString(),I)),t.fillStyle=I;for(let N=w;N<=k;N++){if(l.has(N))continue;l.set(N,!0);const R=(w-u.startLineNumber)*h;t.fillRect(au,R,t.canvas.width,h)}}}_renderSelectionsHighlights(t,s,l,u,h,f,m,A){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const C of s){const w=Math.max(u.startLineNumber,C.startLineNumber),k=Math.min(u.endLineNumber,C.endLineNumber);if(!(w>k))for(let D=w;D<=k;D++)this.renderDecorationOnLine(t,l,C,this._selectionColor,u,D,h,h,f,m,A)}}_renderDecorationsHighlights(t,s,l,u,h,f,m,A){for(const C of s){const w=C.options.minimap;if(!w)continue;const k=Math.max(u.startLineNumber,C.range.startLineNumber),D=Math.min(u.endLineNumber,C.range.endLineNumber);if(k>D)continue;const I=w.getColor(this._theme.value);if(!(!I||I.isTransparent()))for(let N=k;N<=D;N++)switch(w.position){case Rl.Inline:this.renderDecorationOnLine(t,l,C.range,I,u,N,h,h,f,m,A);continue;case Rl.Gutter:{const R=(N-u.startLineNumber)*h,O=2;this.renderDecoration(t,I,O,R,dfe,h);continue}}}}renderDecorationOnLine(t,s,l,u,h,f,m,A,C,w,k){const D=(f-h.startLineNumber)*A;if(D+m<0||D>this._model.options.canvasInnerHeight)return;const{startLineNumber:I,endLineNumber:N}=l,R=I===f?l.startColumn:1,O=N===f?l.endColumn:this._model.getLineMaxColumn(f),W=this.getXOffsetForPosition(s,f,R,C,w,k),B=this.getXOffsetForPosition(s,f,O,C,w,k);this.renderDecoration(t,u,W,D,B-W,m)}getXOffsetForPosition(t,s,l,u,h,f){if(l===1)return au;if((l-1)*h>=f)return f;let A=t.get(s);if(!A){const C=this._model.getLineContent(s);A=[au];let w=au;for(let k=1;k<C.length+1;k++){const D=C.charCodeAt(k-1),I=D===9?u*h:Uu(D)?2*h:h,N=w+I;if(N>=f){A[k]=f;break}A[k]=N,w=N}t.set(s,A)}return l-1<A.length?A[l-1]:f}renderDecoration(t,s,l,u,h,f){t.fillStyle=s&&s.toString()||"",t.fillRect(l,u,h,f)}renderLines(t){const s=t.startLineNumber,l=t.endLineNumber,u=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){const st=this._lastRenderData._get();return new yP(t,st.imageData,st.lines)}const h=this._getBuffer();if(!h)return null;const[f,m,A]=AC._renderUntouchedLines(h,s,l,u,this._lastRenderData),C=this._model.getMinimapLinesRenderingData(s,l,A),w=this._model.getOptions().tabSize,k=this._model.options.defaultBackgroundColor,D=this._model.options.backgroundColor,I=this._model.options.foregroundAlpha,N=this._model.tokensColorTracker,R=N.backgroundIsLight(),O=this._model.options.renderMinimap,W=this._model.options.charRenderer(),B=this._model.options.fontScale,z=this._model.options.minimapCharWidth,K=(O===1?2:2+1)*B,q=u>K?Math.floor((u-K)/2):0,Y=D.a/255,J=new Nl(Math.round((D.r-k.r)*Y+k.r),Math.round((D.g-k.g)*Y+k.g),Math.round((D.b-k.b)*Y+k.b),255);let ne=0;const Ae=[];for(let st=0,kt=l-s+1;st<kt;st++)A[st]&&AC._renderLine(h,J,D.a,R,O,z,N,I,W,ne,q,w,C[st],B,u),Ae[st]=new pC(ne),ne+=u;const ge=f===-1?0:f,Me=(m===-1?h.height:m)-ge;return this._canvas.domNode.getContext("2d").putImageData(h,0,0,0,ge,h.width,Me),new yP(t,h,Ae)}static _renderUntouchedLines(t,s,l,u,h){const f=[];if(!h){for(let J=0,ne=l-s+1;J<ne;J++)f[J]=!0;return[-1,-1,f]}const m=h._get(),A=m.imageData.data,C=m.rendLineNumberStart,w=m.lines,k=w.length,D=t.width,I=t.data,N=(l-s+1)*u*D*4;let R=-1,O=-1,W=-1,B=-1,z=-1,G=-1,K=0;for(let J=s;J<=l;J++){const ne=J-s,Ae=J-C,ge=Ae>=0&&Ae<k?w[Ae].dy:-1;if(ge===-1){f[ne]=!0,K+=u;continue}const Te=ge*D*4,Me=(ge+u)*D*4,ct=K*D*4,st=(K+u)*D*4;B===Te&&G===ct?(B=Me,G=st):(W!==-1&&(I.set(A.subarray(W,B),z),R===-1&&W===0&&W===z&&(R=B),O===-1&&B===N&&W===z&&(O=W)),W=Te,B=Me,z=ct,G=st),f[ne]=!1,K+=u}W!==-1&&(I.set(A.subarray(W,B),z),R===-1&&W===0&&W===z&&(R=B),O===-1&&B===N&&W===z&&(O=W));const q=R===-1?-1:R/(D*4),Y=O===-1?-1:O/(D*4);return[q,Y,f]}static _renderLine(t,s,l,u,h,f,m,A,C,w,k,D,I,N,R){const O=I.content,W=I.tokens,B=t.width-f,z=R===1;let G=au,K=0,q=0;for(let Y=0,J=W.getCount();Y<J;Y++){const ne=W.getEndOffset(Y),Ae=W.getForeground(Y),ge=m.getColor(Ae);for(;K<ne;K++){if(G>B)return;const Te=O.charCodeAt(K);if(Te===9){const Me=D-(K+q)%D;q+=Me-1,G+=Me*f}else if(Te===32)G+=f;else{const Me=Uu(Te)?2:1;for(let ct=0;ct<Me;ct++)if(h===2?C.blockRenderChar(t,G,w+k,ge,A,s,l,z):C.renderChar(t,G,w+k,Te,ge,A,s,l,N,u,z),G+=f,G>B)return}}}}}class LP{constructor(t,s,l){this._startLineNumber=t,this._endLineNumber=s,this._defaultValue=l,this._values=[];for(let u=0,h=this._endLineNumber-this._startLineNumber+1;u<h;u++)this._values[u]=l}has(t){return this.get(t)!==this._defaultValue}set(t,s){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=s)}get(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]}}rn((d,t)=>{const s=d.getColor(ohe);s&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${s}; }`);const l=d.getColor(lhe);l&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${l}; }`);const u=d.getColor(ahe);u&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${u}; }`);const h=d.getColor(km);h&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${h} -6px 0 6px -6px inset; }`)});class gfe extends zl{constructor(t){super(t);const l=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,this._domNode=_i(document.createElement("div")),A0.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(t){const l=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,!0}addWidget(t){const s=_i(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:s},s.setPosition("absolute"),s.setAttribute("widgetId",t.getId()),this._domNode.appendChild(s),this.setShouldRender()}setWidgetPosition(t,s){const l=this._widgets[t.getId()];return l.preference===s?!1:(l.preference=s,this.setShouldRender(),!0)}removeWidget(t){const s=t.getId();if(this._widgets.hasOwnProperty(s)){const u=this._widgets[s].domNode.domNode;delete this._widgets[s],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(t){const s=t.domNode;if(t.preference===null){s.unsetTop();return}if(t.preference===0)s.setTop(0),s.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){const l=s.domNode.clientHeight;s.setTop(this._editorHeight-l-2*this._horizontalScrollbarHeight),s.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else t.preference===2&&(s.setTop(0),s.domNode.style.right="50%")}prepareRender(t){}render(t){this._domNode.setWidth(this._editorWidth);const s=Object.keys(this._widgets);for(let l=0,u=s.length;l<u;l++){const h=s[l];this._renderWidget(this._widgets[h])}}}class mfe{constructor(t,s){const l=t.options;this.lineHeight=l.get(59),this.pixelRatio=l.get(129),this.overviewRulerLanes=l.get(74),this.renderBorder=l.get(73);const u=s.getColor($he);this.borderColor=u?u.toString():null,this.hideCursor=l.get(52);const h=s.getColor(hH);this.cursorColor=h?h.transparent(.7).toString():null,this.themeType=s.type;const f=l.get(65),m=f.enabled,A=f.side,C=m?s.getColor(Khe)||bn.getDefaultBackground():null;C===null||A==="left"?this.backgroundColor=null:this.backgroundColor=ke.Format.CSS.formatHex(C);const k=l.get(131).overviewRuler;this.top=k.top,this.right=k.right,this.domWidth=k.width,this.domHeight=k.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[D,I]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=D,this.w=I}_initLanes(t,s,l){const u=s-t;if(l>=3){const h=Math.floor(u/3),f=Math.floor(u/3),m=u-h-f,A=t,C=A+h,w=A+h+m;return[[0,A,C,A,w,A,C,A],[0,h,m,h+m,f,h+m+f,m+f,h+m+f]]}else if(l===2){const h=Math.floor(u/2),f=u-h,m=t,A=m+h;return[[0,m,m,m,A,m,m,m],[0,h,h,h,f,h+f,h+f,h+f]]}else{const h=t,f=u;return[[0,h,h,h,h,h,h,h],[0,f,f,f,f,f,f,f]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&this.backgroundColor===t.backgroundColor&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class pfe extends zl{constructor(t){super(t),this._domNode=_i(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=bn.onDidChange(s=>{s.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const s=new mfe(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(s)?!1:(this._settings=s,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}onConfigurationChanged(t){return this._updateSettings(!1)}onCursorStateChanged(t){this._cursorPositions=[];for(let s=0,l=t.selections.length;s<l;s++)this._cursorPositions[s]=t.selections[s].getPosition();return this._cursorPositions.sort(me.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const t=this._settings.canvasWidth,s=this._settings.canvasHeight,l=this._settings.lineHeight,u=this._context.viewLayout,h=this._context.viewLayout.getScrollHeight(),f=s/h,m=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),A=6*this._settings.pixelRatio|0,C=A/2|0,w=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?w.clearRect(0,0,t,s):(w.fillStyle=this._settings.backgroundColor,w.fillRect(0,0,t,s));const k=this._settings.x,D=this._settings.w;m.sort(dV.cmp);for(const I of m){const N=I.color,R=I.data;w.fillStyle=N;let O=0,W=0,B=0;for(let z=0,G=R.length/3;z<G;z++){const K=R[3*z],q=R[3*z+1],Y=R[3*z+2];let J=u.getVerticalOffsetForLineNumber(q)*f|0,ne=(u.getVerticalOffsetForLineNumber(Y)+l)*f|0;if(ne-J<A){let ge=(J+ne)/2|0;ge<C?ge=C:ge+C>s&&(ge=s-C),J=ge-C,ne=ge+C}J>B+1||K!==O?(z!==0&&w.fillRect(k[O],W,D[O],B-W),O=K,W=J,B=ne):ne>B&&(B=ne)}w.fillRect(k[O],W,D[O],B-W)}if(!this._settings.hideCursor&&this._settings.cursorColor){const I=2*this._settings.pixelRatio|0,N=I/2|0,R=this._settings.x[7],O=this._settings.w[7];w.fillStyle=this._settings.cursorColor;let W=-100,B=-100;for(let z=0,G=this._cursorPositions.length;z<G;z++){const K=this._cursorPositions[z];let q=u.getVerticalOffsetForLineNumber(K.lineNumber)*f|0;q<N?q=N:q+N>s&&(q=s-N);const Y=q-N,J=Y+I;Y>B+1?(z!==0&&w.fillRect(R,W,O,B-W),W=Y,B=J):J>B&&(B=J)}w.fillRect(R,W,O,B-W)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(w.beginPath(),w.lineWidth=1,w.strokeStyle=this._settings.borderColor,w.moveTo(0,0),w.lineTo(0,s),w.stroke(),w.moveTo(0,0),w.lineTo(t,0),w.stroke())}}class DP{constructor(t,s,l){this._colorZoneBrand=void 0,this.from=t|0,this.to=s|0,this.colorId=l|0}static compare(t,s){return t.colorId===s.colorId?t.from===s.from?t.to-s.to:t.from-s.from:t.colorId-s.colorId}}class c4{constructor(t,s,l,u){this._overviewRulerZoneBrand=void 0,this.startLineNumber=t,this.endLineNumber=s,this.heightInLines=l,this.color=u,this._colorZone=null}static compare(t,s){return t.color===s.color?t.startLineNumber===s.startLineNumber?t.heightInLines===s.heightInLines?t.endLineNumber-s.endLineNumber:t.heightInLines-s.heightInLines:t.startLineNumber-s.startLineNumber:t.color<s.color?-1:1}setColorZone(t){this._colorZone=t}getColorZones(){return this._colorZone}}class Afe{constructor(t){this._getVerticalOffsetForLine=t,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(t){this._zones=t,this._zones.sort(c4.compare)}setLineHeight(t){return this._lineHeight===t?!1:(this._lineHeight=t,this._colorZonesInvalid=!0,!0)}setPixelRatio(t){this._pixelRatio=t,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(t){return this._domWidth===t?!1:(this._domWidth=t,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(t){return this._domHeight===t?!1:(this._domHeight=t,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(t){return this._outerHeight===t?!1:(this._outerHeight=t,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const t=this._colorZonesInvalid,s=Math.floor(this._lineHeight),l=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),h=l/u,f=Math.floor(4*this._pixelRatio/2),m=[];for(let A=0,C=this._zones.length;A<C;A++){const w=this._zones[A];if(!t){const G=w.getColorZones();if(G){m.push(G);continue}}const k=this._getVerticalOffsetForLine(w.startLineNumber),D=w.heightInLines===0?this._getVerticalOffsetForLine(w.endLineNumber)+s:k+w.heightInLines*s,I=Math.floor(h*k),N=Math.floor(h*D);let R=Math.floor((I+N)/2),O=N-R;O<f&&(O=f),R-O<0&&(R=O),R+O>l&&(R=l-O);const W=w.color;let B=this._color2Id[W];B||(B=++this._lastAssignedId,this._color2Id[W]=B,this._id2Color[B]=W);const z=new DP(R-O,R+O,B);w.setColorZone(z),m.push(z)}return this._colorZonesInvalid=!1,m.sort(DP.compare),m}}class _fe extends m_{constructor(t,s){super(),this._context=t;const l=this._context.configuration.options;this._domNode=_i(document.createElement("canvas")),this._domNode.setClassName(s),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Afe(u=>this._context.viewLayout.getVerticalOffsetForLineNumber(u)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(l.get(59)),this._zoneManager.setPixelRatio(l.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options;return t.hasChanged(59)&&(this._zoneManager.setLineHeight(s.get(59)),this._render()),t.hasChanged(129)&&(this._zoneManager.setPixelRatio(s.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(t){return this._render(),!0}onScrollChanged(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0}onZonesChanged(t){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);let s=!1;s=this._zoneManager.setDOMWidth(t.width)||s,s=this._zoneManager.setDOMHeight(t.height)||s,s&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(t){this._zoneManager.setZones(t),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const t=this._zoneManager.getCanvasWidth(),s=this._zoneManager.getCanvasHeight(),l=this._zoneManager.resolveColorZones(),u=this._zoneManager.getId2Color(),h=this._domNode.domNode.getContext("2d");return h.clearRect(0,0,t,s),l.length>0&&this._renderOneLane(h,l,u,t),!0}_renderOneLane(t,s,l,u){let h=0,f=0,m=0;for(const A of s){const C=A.colorId,w=A.from,k=A.to;C!==h?(t.fillRect(0,f,u,m-f),h=C,t.fillStyle=l[h],f=w,m=k):m>=w?m=Math.max(m,k):(t.fillRect(0,f,u,m-f),f=w,m=k)}t.fillRect(0,f,u,m-f)}}class Cfe extends zl{constructor(t){super(t),this.domNode=_i(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const s=this._context.configuration.options;this._rulers=s.get(91),this._typicalHalfwidthCharacterWidth=s.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options;return this._rulers=s.get(91),this._typicalHalfwidthCharacterWidth=s.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(t){return t.scrollHeightChanged}prepareRender(t){}_ensureRulersCount(){const t=this._renderedRulers.length,s=this._rulers.length;if(t===s)return;if(t<s){const{tabSize:u}=this._context.viewModel.model.getOptions(),h=u;let f=s-t;for(;f>0;){const m=_i(document.createElement("div"));m.setClassName("view-ruler"),m.setWidth(h),this.domNode.appendChild(m),this._renderedRulers.push(m),f--}return}let l=t-s;for(;l>0;){const u=this._renderedRulers.pop();this.domNode.removeChild(u),l--}}render(t){this._ensureRulersCount();for(let s=0,l=this._rulers.length;s<l;s++){const u=this._renderedRulers[s],h=this._rulers[s];u.setBoxShadow(h.color?`1px 0 0 0 ${h.color} inset`:""),u.setHeight(Math.min(t.scrollHeight,1e6)),u.setLeft(h.column*this._typicalHalfwidthCharacterWidth)}}}rn((d,t)=>{const s=d.getColor(Qhe);s&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${s} inset; }`)});class wfe extends zl{constructor(t){super(t),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const l=this._context.configuration.options.get(92);this._useShadows=l.useShadows,this._domNode=_i(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t?(this._shouldShow=t,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const s=this._context.configuration.options.get(131);s.minimap.renderMinimap===0||s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?this._width=s.width:this._width=s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}onConfigurationChanged(t){const l=this._context.configuration.options.get(92);return this._useShadows=l.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()}prepareRender(t){}render(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}rn((d,t)=>{const s=d.getColor(km);s&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${s} 0 6px 6px -6px inset; }`)});class vfe{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class kfe{constructor(t,s){this.lineNumber=t,this.ranges=s}}function bfe(d){return new vfe(d)}function Sfe(d){return new kfe(d.lineNumber,d.ranges.map(bfe))}class Fn extends Sm{constructor(t){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=t;const s=this._context.configuration.options;this._lineHeight=s.get(59),this._roundedSelection=s.get(90),this._typicalHalfwidthCharacterWidth=s.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const s=this._context.configuration.options;return this._lineHeight=s.get(59),this._roundedSelection=s.get(90),this._typicalHalfwidthCharacterWidth=s.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let s=0,l=t.length;s<l;s++)if(t[s].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,s,l){const u=this._typicalHalfwidthCharacterWidth/4;let h=null,f=null;if(l&&l.length>0&&s.length>0){const m=s[0].lineNumber;if(m===t.startLineNumber)for(let C=0;!h&&C<l.length;C++)l[C].lineNumber===m&&(h=l[C].ranges[0]);const A=s[s.length-1].lineNumber;if(A===t.endLineNumber)for(let C=l.length-1;!f&&C>=0;C--)l[C].lineNumber===A&&(f=l[C].ranges[0]);h&&!h.startStyle&&(h=null),f&&!f.startStyle&&(f=null)}for(let m=0,A=s.length;m<A;m++){const C=s[m].ranges[0],w=C.left,k=C.left+C.width,D={top:0,bottom:0},I={top:0,bottom:0};if(m>0){const N=s[m-1].ranges[0].left,R=s[m-1].ranges[0].left+s[m-1].ranges[0].width;j8(w-N)<u?D.top=2:w>N&&(D.top=1),j8(k-R)<u?I.top=2:N<k&&k<R&&(I.top=1)}else h&&(D.top=h.startStyle.top,I.top=h.endStyle.top);if(m+1<A){const N=s[m+1].ranges[0].left,R=s[m+1].ranges[0].left+s[m+1].ranges[0].width;j8(w-N)<u?D.bottom=2:N<w&&w<R&&(D.bottom=1),j8(k-R)<u?I.bottom=2:k<R&&(I.bottom=1)}else f&&(D.bottom=f.startStyle.bottom,I.bottom=f.endStyle.bottom);C.startStyle=D,C.endStyle=I}}_getVisibleRangesWithStyle(t,s,l){const h=(s.linesVisibleRangesForRange(t,!0)||[]).map(Sfe);return!this._visibleRangesHaveGaps(h)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(s.visibleRange,h,l),h}_createSelectionPiece(t,s,l,u,h){return'<div class="cslr '+l+'" style="top:'+t.toString()+"px;left:"+u.toString()+"px;width:"+h.toString()+"px;height:"+s+'px;"></div>'}_actualRenderOneSelection(t,s,l,u){if(u.length===0)return;const h=!!u[0].ranges[0].startStyle,f=this._lineHeight.toString(),m=(this._lineHeight-1).toString(),A=u[0].lineNumber,C=u[u.length-1].lineNumber;for(let w=0,k=u.length;w<k;w++){const D=u[w],I=D.lineNumber,N=I-s,R=l&&(I===C||I===A)?m:f,O=l&&I===A?1:0;let W="",B="";for(let z=0,G=D.ranges.length;z<G;z++){const K=D.ranges[z];if(h){const Y=K.startStyle,J=K.endStyle;if(Y.top===1||Y.bottom===1){W+=this._createSelectionPiece(O,R,Fn.SELECTION_CLASS_NAME,K.left-Fn.ROUNDED_PIECE_WIDTH,Fn.ROUNDED_PIECE_WIDTH);let ne=Fn.EDITOR_BACKGROUND_CLASS_NAME;Y.top===1&&(ne+=" "+Fn.SELECTION_TOP_RIGHT),Y.bottom===1&&(ne+=" "+Fn.SELECTION_BOTTOM_RIGHT),W+=this._createSelectionPiece(O,R,ne,K.left-Fn.ROUNDED_PIECE_WIDTH,Fn.ROUNDED_PIECE_WIDTH)}if(J.top===1||J.bottom===1){W+=this._createSelectionPiece(O,R,Fn.SELECTION_CLASS_NAME,K.left+K.width,Fn.ROUNDED_PIECE_WIDTH);let ne=Fn.EDITOR_BACKGROUND_CLASS_NAME;J.top===1&&(ne+=" "+Fn.SELECTION_TOP_LEFT),J.bottom===1&&(ne+=" "+Fn.SELECTION_BOTTOM_LEFT),W+=this._createSelectionPiece(O,R,ne,K.left+K.width,Fn.ROUNDED_PIECE_WIDTH)}}let q=Fn.SELECTION_CLASS_NAME;if(h){const Y=K.startStyle,J=K.endStyle;Y.top===0&&(q+=" "+Fn.SELECTION_TOP_LEFT),Y.bottom===0&&(q+=" "+Fn.SELECTION_BOTTOM_LEFT),J.top===0&&(q+=" "+Fn.SELECTION_TOP_RIGHT),J.bottom===0&&(q+=" "+Fn.SELECTION_BOTTOM_RIGHT)}B+=this._createSelectionPiece(O,R,q,K.left,K.width)}t[N][0]+=W,t[N][1]+=B}}prepareRender(t){const s=[],l=t.visibleRange.startLineNumber,u=t.visibleRange.endLineNumber;for(let f=l;f<=u;f++){const m=f-l;s[m]=["",""]}const h=[];for(let f=0,m=this._selections.length;f<m;f++){const A=this._selections[f];if(A.isEmpty()){h[f]=null;continue}const C=this._getVisibleRangesWithStyle(A,t,this._previousFrameVisibleRangesWithStyle[f]);h[f]=C,this._actualRenderOneSelection(s,l,this._selections.length>1,C)}this._previousFrameVisibleRangesWithStyle=h,this._renderResult=s.map(([f,m])=>f+m)}render(t,s){if(!this._renderResult)return"";const l=s-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}Fn.SELECTION_CLASS_NAME="selected-text";Fn.SELECTION_TOP_LEFT="top-left-radius";Fn.SELECTION_BOTTOM_LEFT="bottom-left-radius";Fn.SELECTION_TOP_RIGHT="top-right-radius";Fn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";Fn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";Fn.ROUNDED_PIECE_WIDTH=10;rn((d,t)=>{const s=d.getColor(Tu);s&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${s}; }`);const l=d.getColor(RI);l&&t.addRule(`.monaco-editor .selected-text { background-color: ${l}; }`);const u=d.getColor(aue);u&&!u.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${u}; }`)});function j8(d){return d<0?-d:d}class IP{constructor(t,s,l,u,h,f){this.top=t,this.left=s,this.width=l,this.height=u,this.textContent=h,this.textContentClassName=f}}class xP{constructor(t){this._context=t;const s=this._context.configuration.options,l=s.get(44);this._cursorStyle=s.get(24),this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=_i(document.createElement("div")),this._domNode.setClassName(`cursor ${Id}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),_r(this._domNode,l),this._domNode.setDisplay("none"),this._position=new me(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(44);return this._cursorStyle=s.get(24),this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(27),this._typicalHalfwidthCharacterWidth),_r(this._domNode,l),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:s}=this._position,l=this._context.viewModel.getLineContent(t),[u,h]=yae(l,s-1);return[new me(t,u+1),l.substring(u,h)]}_prepareRender(t){let s="";const[l,u]=this._getGraphemeAwarePosition();if(this._cursorStyle===Us.Line||this._cursorStyle===Us.LineThin){const D=t.visibleRangeForPosition(l);if(!D||D.outsideRenderedLine)return null;let I;this._cursorStyle===Us.Line?(I=XM(this._lineCursorWidth>0?this._lineCursorWidth:2),I>2&&(s=u)):I=XM(1);let N=D.left;I>=2&&N>=1&&(N-=1);const R=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta;return new IP(R,N,I,this._lineHeight,s,"")}const h=t.linesVisibleRangesForRange(new $(l.lineNumber,l.column,l.lineNumber,l.column+u.length),!1);if(!h||h.length===0)return null;const f=h[0];if(f.outsideRenderedLine||f.ranges.length===0)return null;const m=f.ranges[0],A=m.width<1?this._typicalHalfwidthCharacterWidth:m.width;let C="";if(this._cursorStyle===Us.Block){const D=this._context.viewModel.getViewLineData(l.lineNumber);s=u;const I=D.tokens.findTokenIndexAtOffset(l.column-1);C=D.tokens.getClassName(I)}let w=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta,k=this._lineHeight;return(this._cursorStyle===Us.Underline||this._cursorStyle===Us.UnderlineThin)&&(w+=this._lineHeight-2,k=2),new IP(w,m.left,A,k,s,C)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Id} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class u4 extends zl{constructor(t){super(t);const s=this._context.configuration.options;this._readOnly=s.get(81),this._cursorBlinking=s.get(22),this._cursorStyle=s.get(24),this._cursorSmoothCaretAnimation=s.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new xP(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=_i(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Wo,this._cursorFlatBlinkInterval=new u_,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const s=this._context.configuration.options;this._readOnly=s.get(81),this._cursorBlinking=s.get(22),this._cursorStyle=s.get(24),this._cursorSmoothCaretAnimation=s.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let l=0,u=this._secondaryCursors.length;l<u;l++)this._secondaryCursors[l].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,s){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<s.length){const l=s.length-this._secondaryCursors.length;for(let u=0;u<l;u++){const h=new xP(this._context);this._domNode.domNode.insertBefore(h.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(h)}}else if(this._secondaryCursors.length>s.length){const l=this._secondaryCursors.length-s.length;for(let u=0;u<l;u++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<s.length;l++)this._secondaryCursors[l].onCursorPositionChanged(s[l])}onCursorStateChanged(t){const s=[];for(let u=0,h=t.selections.length;u<h;u++)s[u]=t.selections[u].getPosition();this._onCursorPositionChanged(s[0],s.slice(1));const l=t.selections[0].isEmpty();return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const s=l=>{for(let u=0,h=t.ranges.length;u<h;u++)if(t.ranges[u].fromLineNumber<=l.lineNumber&&l.lineNumber<=t.ranges[u].toLineNumber)return!0;return!1};if(s(this._primaryCursor.getPosition()))return!0;for(const l of this._secondaryCursors)if(s(l.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),s=t===0,l=t===5;s?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!s&&!l&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},u4.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},u4.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case Us.Line:t+=" cursor-line-style";break;case Us.Block:t+=" cursor-block-style";break;case Us.Underline:t+=" cursor-underline-style";break;case Us.LineThin:t+=" cursor-line-thin-style";break;case Us.BlockOutline:t+=" cursor-block-outline-style";break;case Us.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,s=this._secondaryCursors.length;t<s;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,s=this._secondaryCursors.length;t<s;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let s=0,l=this._secondaryCursors.length;s<l;s++)this._secondaryCursors[s].prepareRender(t)}render(t){const s=[];let l=0;const u=this._primaryCursor.render(t);u&&(s[l++]=u);for(let h=0,f=this._secondaryCursors.length;h<f;h++){const m=this._secondaryCursors[h].render(t);m&&(s[l++]=m)}this._renderData=s}getLastRenderData(){return this._renderData}}u4.BLINK_INTERVAL=500;rn((d,t)=>{const s=d.getColor(hH);if(s){let l=d.getColor(jhe);l||(l=s.opposite()),t.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${s}; }`),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${s}; border-color: ${s}; color: ${l}; }`),d.type==="hc"&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${l}; border-right: 1px solid ${l}; }`)}});const Mb=()=>{throw new Error("Invalid change accessor")};class yfe extends zl{constructor(t){super(t);const s=this._context.configuration.options,l=s.get(131);this._lineHeight=s.get(59),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,this.domNode=_i(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=_i(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const t=this._context.viewLayout.getWhitespaces(),s=new Map;for(const u of t)s.set(u.id,u);let l=!1;return this._context.viewModel.changeWhitespace(u=>{const h=Object.keys(this._zones);for(let f=0,m=h.length;f<m;f++){const A=h[f],C=this._zones[A],w=this._computeWhitespaceProps(C.delegate);C.isInHiddenArea=w.isInHiddenArea;const k=s.get(A);k&&(k.afterLineNumber!==w.afterViewLineNumber||k.height!==w.heightInPx)&&(u.changeOneWhitespace(A,w.afterViewLineNumber,w.heightInPx),this._safeCallOnComputedHeight(C.delegate,w.heightInPx),l=!0)}}),l}onConfigurationChanged(t){const s=this._context.configuration.options,l=s.get(131);return this._lineHeight=s.get(59),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,t.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(t){return this._recomputeWhitespacesProps()}onLinesDeleted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}onLinesInserted(t){return!0}_getZoneOrdinal(t){return typeof t.afterColumn<"u"?t.afterColumn:1e4}_computeWhitespaceProps(t){if(t.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};let s;if(typeof t.afterColumn<"u")s=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{const f=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;s=new me(f,this._context.viewModel.model.getLineMaxColumn(f))}let l;s.column===this._context.viewModel.model.getLineMaxColumn(s.lineNumber)?l=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber+1,column:1}):l=this._context.viewModel.model.validatePosition({lineNumber:s.lineNumber,column:s.column+1});const u=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(s,t.afterColumnAffinity),h=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(l);return{isInHiddenArea:!h,afterViewLineNumber:u.lineNumber,heightInPx:h?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}}changeViewZones(t){let s=!1;return this._context.viewModel.changeWhitespace(l=>{const u={addZone:h=>(s=!0,this._addZone(l,h)),removeZone:h=>{!h||(s=this._removeZone(l,h)||s)},layoutZone:h=>{!h||(s=this._layoutZone(l,h)||s)}};Lfe(t,u),u.addZone=Mb,u.removeZone=Mb,u.layoutZone=Mb}),s}_addZone(t,s){const l=this._computeWhitespaceProps(s),h={whitespaceId:t.insertWhitespace(l.afterViewLineNumber,this._getZoneOrdinal(s),l.heightInPx,l.minWidthInPx),delegate:s,isInHiddenArea:l.isInHiddenArea,isVisible:!1,domNode:_i(s.domNode),marginDomNode:s.marginDomNode?_i(s.marginDomNode):null};return this._safeCallOnComputedHeight(h.delegate,l.heightInPx),h.domNode.setPosition("absolute"),h.domNode.domNode.style.width="100%",h.domNode.setDisplay("none"),h.domNode.setAttribute("monaco-view-zone",h.whitespaceId),this.domNode.appendChild(h.domNode),h.marginDomNode&&(h.marginDomNode.setPosition("absolute"),h.marginDomNode.domNode.style.width="100%",h.marginDomNode.setDisplay("none"),h.marginDomNode.setAttribute("monaco-view-zone",h.whitespaceId),this.marginDomNode.appendChild(h.marginDomNode)),this._zones[h.whitespaceId]=h,this.setShouldRender(),h.whitespaceId}_removeZone(t,s){if(this._zones.hasOwnProperty(s)){const l=this._zones[s];return delete this._zones[s],t.removeWhitespace(l.whitespaceId),l.domNode.removeAttribute("monaco-visible-view-zone"),l.domNode.removeAttribute("monaco-view-zone"),l.domNode.domNode.parentNode.removeChild(l.domNode.domNode),l.marginDomNode&&(l.marginDomNode.removeAttribute("monaco-visible-view-zone"),l.marginDomNode.removeAttribute("monaco-view-zone"),l.marginDomNode.domNode.parentNode.removeChild(l.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(t,s){if(this._zones.hasOwnProperty(s)){const l=this._zones[s],u=this._computeWhitespaceProps(l.delegate);return l.isInHiddenArea=u.isInHiddenArea,t.changeOneWhitespace(l.whitespaceId,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(l.delegate,u.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(t){if(this._zones.hasOwnProperty(t)){const s=this._zones[t];return Boolean(s.delegate.suppressMouseDown)}return!1}_heightInPixels(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight}_minWidthInPixels(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0}_safeCallOnComputedHeight(t,s){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(s)}catch(l){Bt(l)}}_safeCallOnDomNodeTop(t,s){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(s)}catch(l){Bt(l)}}prepareRender(t){}render(t){const s=t.viewportData.whitespaceViewportData,l={};let u=!1;for(const f of s)this._zones[f.id].isInHiddenArea||(l[f.id]=f,u=!0);const h=Object.keys(this._zones);for(let f=0,m=h.length;f<m;f++){const A=h[f],C=this._zones[A];let w=0,k=0,D="none";l.hasOwnProperty(A)?(w=l[A].verticalOffset-t.bigNumbersDelta,k=l[A].height,D="block",C.isVisible||(C.domNode.setAttribute("monaco-visible-view-zone","true"),C.isVisible=!0),this._safeCallOnDomNodeTop(C.delegate,t.getScrolledTopFromAbsoluteTop(l[A].verticalOffset))):(C.isVisible&&(C.domNode.removeAttribute("monaco-visible-view-zone"),C.isVisible=!1),this._safeCallOnDomNodeTop(C.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),C.domNode.setTop(w),C.domNode.setHeight(k),C.domNode.setDisplay(D),C.marginDomNode&&(C.marginDomNode.setTop(w),C.marginDomNode.setHeight(k),C.marginDomNode.setDisplay(D))}u&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Lfe(d,t){try{return d(t)}catch(s){Bt(s)}}class Dfe{constructor(t){this._theme=t}get type(){return this._theme.type}get value(){return this._theme}update(t){this._theme=t}getColor(t){return this._theme.getColor(t)}}class Ife{constructor(t,s,l){this.configuration=t,this.theme=new Dfe(s),this.viewModel=l,this.viewLayout=l.viewLayout}addEventHandler(t){this.viewModel.addViewEventHandler(t)}removeEventHandler(t){this.viewModel.removeViewEventHandler(t)}}class xfe{constructor(t,s,l,u){this.selections=t,this.startLineNumber=s.startLineNumber|0,this.endLineNumber=s.endLineNumber|0,this.relativeVerticalOffset=s.relativeVerticalOffset,this.bigNumbersDelta=s.bigNumbersDelta|0,this.whitespaceViewportData=l,this._model=u,this.visibleRange=new $(s.startLineNumber,this._model.getLineMinColumn(s.startLineNumber),s.endLineNumber,this._model.getLineMaxColumn(s.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Efe extends m_{constructor(t,s,l,u,h,f){super(),this._selections=[new et(1,1,1,1)],this._renderAnimationFrame=null;const m=new Tde(s,u,h,t);this._context=new Ife(s,l,u),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new vde(this._context,m,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=_i(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=_i(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=_i(document.createElement("div")),A0.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new qde(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new nv(this._context,this._linesContent),this._viewZones=new yfe(this._context),this._viewParts.push(this._viewZones);const A=new pfe(this._context);this._viewParts.push(A);const C=new wfe(this._context);this._viewParts.push(C);const w=new Mde(this._context);this._viewParts.push(w),w.addDynamicOverlay(new Bde(this._context)),w.addDynamicOverlay(new Fn(this._context)),w.addDynamicOverlay(new nfe(this._context)),w.addDynamicOverlay(new Vde(this._context));const k=new Pde(this._context);this._viewParts.push(k),k.addDynamicOverlay(new Wde(this._context)),k.addDynamicOverlay(new efe(this._context)),k.addDynamicOverlay(new afe(this._context)),k.addDynamicOverlay(new lfe(this._context)),k.addDynamicOverlay(new zg(this._context));const D=new Qd(this._context);D.getDomNode().appendChild(this._viewZones.marginDomNode),D.getDomNode().appendChild(k.getDomNode()),this._viewParts.push(D),this._contentWidgets=new Ode(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new u4(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new gfe(this._context),this._viewParts.push(this._overlayWidgets);const I=new Cfe(this._context);this._viewParts.push(I);const N=new ffe(this._context);if(this._viewParts.push(N),A){const R=this._scrollbar.getOverviewRulerLayoutInfo();R.parent.insertBefore(A.getDomNode(),R.insertBefore)}this._linesContent.appendChild(w.getDomNode()),this._linesContent.appendChild(I.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(D.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(C.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(N.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),f?f.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Whe(this._context,m,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:t=>{this._textAreaHandler.textArea.domNode.dispatchEvent(t)},getLastRenderData:()=>{const t=this._viewCursors.getLastRenderData()||[],s=this._textAreaHandler.getLastRenderData();return new Ehe(t,s)},shouldSuppressMouseDownOnViewZone:t=>this._viewZones.shouldSuppressMouseDownOnViewZone(t),shouldSuppressMouseDownOnWidget:t=>this._contentWidgets.shouldSuppressMouseDownOnWidget(t),getPositionFromDOMInfo:(t,s)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(t,s)),visibleRangeForPosition:(t,s)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new me(t,s))),getLineWidth:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(t))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(t))}}_applyLayout(){const s=this._context.configuration.options.get(131);this.domNode.setWidth(s.width),this.domNode.setHeight(s.height),this._overflowGuardContainer.setWidth(s.width),this._overflowGuardContainer.setHeight(s.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+oC(this._context.theme.type)+t}handleEvents(t){super.handleEvents(t),this._scheduleRender()}onConfigurationChanged(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(t){return this._selections=t.selections,!1}onFocusChanged(t){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const t of this._viewParts)t.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=wV(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Nfe(()=>this._actualRender())}_getViewPartsToRender(){const t=[];let s=0;for(const l of this._viewParts)l.shouldRender()&&(t[s++]=l);return t}_actualRender(){if(!CI(this.domNode.domNode))return;let t=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&t.length===0)return;const s=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(s.startLineNumber,s.endLineNumber,s.centeredLineNumber);const l=new xfe(this._selections,s,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(l),this._viewLines.shouldRender()&&(this._viewLines.renderText(l),this._viewLines.onDidRender(),t=this._getViewPartsToRender());const u=new khe(this._context.viewLayout,l,this._viewLines);for(const h of t)h.prepareRender(u);for(const h of t)h.render(u),h.onDidRender()}delegateVerticalScrollbarMouseDown(t){this._scrollbar.delegateVerticalScrollbarMouseDown(t)}restoreState(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:t.scrollLeft},1)}getOffsetForColumn(t,s){const l=this._context.viewModel.model.validatePosition({lineNumber:t,column:s}),u=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l);this._flushAccumulatedAndRenderNow();const h=this._viewLines.visibleRangeForPosition(new me(u.lineNumber,u.column));return h?h.left:-1}getTargetAtClientPoint(t,s){const l=this._pointerHandler.getTargetAtClientPoint(t,s);return l?tv.convertViewToModelMouseTarget(l,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(t){return new _fe(this._context,t)}change(t){this._viewZones.changeViewZones(t),this._scheduleRender()}render(t,s){if(s){this._viewLines.forceShouldRender();for(const l of this._viewParts)l.forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(t){this._textAreaHandler.setAriaOptions(t)}addContentWidget(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()}layoutContentWidget(t){let s=t.position&&t.position.range||null;if(s===null){const u=t.position?t.position.position:null;u!==null&&(s=new $(u.lineNumber,u.column,u.lineNumber,u.column))}const l=t.position?t.position.preference:null;this._contentWidgets.setWidgetPosition(t.widget,s,l),this._scheduleRender()}removeContentWidget(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()}addOverlayWidget(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()}layoutOverlayWidget(t){const s=t.position?t.position.preference:null;this._overlayWidgets.setWidgetPosition(t.widget,s)&&this._scheduleRender()}removeOverlayWidget(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()}}function Nfe(d){try{return d()}catch(t){Bt(t)}}class _C{constructor(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new Hs(new $(1,1,1,1),0,new me(1,1),0),new Hs(new $(1,1,1,1),0,new me(1,1),0))}dispose(t){this._removeTrackedRange(t)}startTrackingSelection(t){this._trackSelection=!0,this._updateTrackedRange(t)}stopTrackingSelection(t){this._trackSelection=!1,this._removeTrackedRange(t)}_updateTrackedRange(t){!this._trackSelection||(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Xt(this.modelState,this.viewState)}readSelectionFromMarkers(t){const s=t.model._getTrackedRange(this._selTrackedRange);return et.fromRange(s,this.modelState.selection.getDirection())}ensureValidState(t){this._setState(t,this.modelState,this.viewState)}setState(t,s,l){this._setState(t,s,l)}static _validatePositionWithCache(t,s,l,u){return s.equals(l)?u:t.normalizePosition(s,2)}static _validateViewState(t,s){const l=s.position,u=s.selectionStart.getStartPosition(),h=s.selectionStart.getEndPosition(),f=t.normalizePosition(l,2),m=this._validatePositionWithCache(t,u,l,f),A=this._validatePositionWithCache(t,h,u,m);return l.equals(f)&&u.equals(m)&&h.equals(A)?s:new Hs($.fromPositions(m,A),s.selectionStartLeftoverVisibleColumns+u.column-m.column,f,s.leftoverVisibleColumns+l.column-f.column)}_setState(t,s,l){if(l&&(l=_C._validateViewState(t.viewModel,l)),s){const u=t.model.validateRange(s.selectionStart),h=s.selectionStart.equalsRange(u)?s.selectionStartLeftoverVisibleColumns:0,f=t.model.validatePosition(s.position),m=s.position.equals(f)?s.leftoverVisibleColumns:0;s=new Hs(u,h,f,m)}else{if(!l)return;const u=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(l.selectionStart)),h=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(l.position));s=new Hs(u,l.selectionStartLeftoverVisibleColumns,h,l.leftoverVisibleColumns)}if(l){const u=t.coordinatesConverter.validateViewRange(l.selectionStart,s.selectionStart),h=t.coordinatesConverter.validateViewPosition(l.position,s.position);l=new Hs(u,s.selectionStartLeftoverVisibleColumns,h,s.leftoverVisibleColumns)}else{const u=t.coordinatesConverter.convertModelPositionToViewPosition(new me(s.selectionStart.startLineNumber,s.selectionStart.startColumn)),h=t.coordinatesConverter.convertModelPositionToViewPosition(new me(s.selectionStart.endLineNumber,s.selectionStart.endColumn)),f=new $(u.lineNumber,u.column,h.lineNumber,h.column),m=t.coordinatesConverter.convertModelPositionToViewPosition(s.position);l=new Hs(f,s.selectionStartLeftoverVisibleColumns,m,s.leftoverVisibleColumns)}this.modelState=s,this.viewState=l,this._updateTrackedRange(t)}}class EP{constructor(t){this.context=t,this.cursors=[new _C(t)],this.lastAddedCursorIndex=0}dispose(){for(const t of this.cursors)t.dispose(this.context)}startTrackingSelections(){for(const t of this.cursors)t.startTrackingSelection(this.context)}stopTrackingSelections(){for(const t of this.cursors)t.stopTrackingSelection(this.context)}updateContext(t){this.context=t}ensureValidState(){for(const t of this.cursors)t.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(t=>t.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(t=>t.asCursorState())}getViewPositions(){return this.cursors.map(t=>t.viewState.position)}getTopMostViewPosition(){return Xoe(this.cursors,Y6(t=>t.viewState.position,me.compare)).viewState.position}getBottomMostViewPosition(){return Koe(this.cursors,Y6(t=>t.viewState.position,me.compare)).viewState.position}getSelections(){return this.cursors.map(t=>t.modelState.selection)}getViewSelections(){return this.cursors.map(t=>t.viewState.selection)}setSelections(t){this.setStates(Xt.fromModelSelections(t))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(t){t!==null&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))}_setSecondaryStates(t){const s=this.cursors.length-1,l=t.length;if(s<l){const u=l-s;for(let h=0;h<u;h++)this._addSecondaryCursor()}else if(s>l){const u=s-l;for(let h=0;h<u;h++)this._removeSecondaryCursor(this.cursors.length-2)}for(let u=0;u<l;u++)this.cursors[u+1].setState(this.context,t[u].modelState,t[u].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new _C(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)}normalize(){if(this.cursors.length===1)return;const t=this.cursors.slice(0),s=[];for(let l=0,u=t.length;l<u;l++)s.push({index:l,selection:t[l].modelState.selection});s.sort(Y6(l=>l.selection,$.compareRangesUsingStarts));for(let l=0;l<s.length-1;l++){const u=s[l],h=s[l+1],f=u.selection,m=h.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let A;if(m.isEmpty()||f.isEmpty()?A=m.getStartPosition().isBeforeOrEqual(f.getEndPosition()):A=m.getStartPosition().isBefore(f.getEndPosition()),A){const C=u.index<h.index?l:l+1,w=u.index<h.index?l+1:l,k=s[w].index,D=s[C].index,I=s[w].selection,N=s[C].selection;if(!I.equalsSelection(N)){const R=I.plusRange(N),O=I.selectionStartLineNumber===I.startLineNumber&&I.selectionStartColumn===I.startColumn,W=N.selectionStartLineNumber===N.startLineNumber&&N.selectionStartColumn===N.startColumn;let B;k===this.lastAddedCursorIndex?(B=O,this.lastAddedCursorIndex=D):B=W;let z;B?z=new et(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):z=new et(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn),s[C].selection=z;const G=Xt.fromModelSelection(z);t[D].setState(this.context,G.modelState,G.viewState)}for(const R of s)R.index>k&&R.index--;t.splice(k,1),s.splice(w,1),this._removeSecondaryCursor(k-1),l--}}}}class NP{constructor(t,s,l,u){this._cursorContextBrand=void 0,this.model=t,this.viewModel=s,this.coordinatesConverter=l,this.cursorConfig=u}}class Tfe{constructor(){this.changeType=1}}class s2{constructor(t,s,l,u,h){this.ownerId=t,this.lineNumber=s,this.column=l,this.options=u,this.order=h}static applyInjectedText(t,s){if(!s||s.length===0)return t;let l="",u=0;for(const h of s)l+=t.substring(u,h.column-1),u=h.column-1,l+=h.options.content;return l+=t.substring(u),l}static fromDecorations(t){const s=[];for(const l of t)l.options.before&&l.options.before.content.length>0&&s.push(new s2(l.ownerId,l.range.startLineNumber,l.range.startColumn,l.options.before,0)),l.options.after&&l.options.after.content.length>0&&s.push(new s2(l.ownerId,l.range.endLineNumber,l.range.endColumn,l.options.after,1));return s.sort((l,u)=>l.lineNumber===u.lineNumber?l.column===u.column?l.order-u.order:l.column-u.column:l.lineNumber-u.lineNumber),s}}class TP{constructor(t,s,l){this.changeType=2,this.lineNumber=t,this.detail=s,this.injectedText=l}}class Rfe{constructor(t,s){this.changeType=3,this.fromLineNumber=t,this.toLineNumber=s}}class Mfe{constructor(t,s,l,u){this.changeType=4,this.injectedTexts=u,this.fromLineNumber=t,this.toLineNumber=s,this.detail=l}}class Pfe{constructor(){this.changeType=5}}class Ed{constructor(t,s,l,u){this.changes=t,this.versionId=s,this.isUndoing=l,this.isRedoing=u,this.resultingSelection=null}containsEvent(t){for(let s=0,l=this.changes.length;s<l;s++)if(this.changes[s].changeType===t)return!0;return!1}static merge(t,s){const l=[].concat(t.changes).concat(s.changes),u=s.versionId,h=t.isUndoing||s.isUndoing,f=t.isRedoing||s.isRedoing;return new Ed(l,u,h,f)}}class IH{constructor(t){this.changes=t}}class CC{constructor(t,s){this.rawContentChangedEvent=t,this.contentChangedEvent=s}merge(t){const s=Ed.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),l=CC._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new CC(s,l)}static _mergeChangeEvents(t,s){const l=[].concat(t.changes).concat(s.changes),u=s.eol,h=s.versionId,f=t.isUndoing||s.isUndoing,m=t.isRedoing||s.isRedoing,A=t.isFlush||s.isFlush;return{changes:l,eol:u,versionId:h,isUndoing:f,isRedoing:m,isFlush:A}}}class Ofe{constructor(){this.type=0}}class Ffe{constructor(){this.type=1}}class Bfe{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class Wfe{constructor(t,s){this.type=3,this.selections=t,this.modelSelections=s}}class y1{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Z8{constructor(){this.type=5}}class Vfe{constructor(t){this.type=6,this.isFocused=t}}class Hfe{constructor(){this.type=7}}class Q8{constructor(){this.type=8}}class xH{constructor(t,s){this.type=9,this.fromLineNumber=t,this.toLineNumber=s}}class Gy{constructor(t,s){this.type=10,this.fromLineNumber=t,this.toLineNumber=s}}class jy{constructor(t,s){this.type=11,this.fromLineNumber=t,this.toLineNumber=s}}class o3{constructor(t,s,l,u,h,f,m){this.source=t,this.minimalReveal=s,this.range=l,this.selections=u,this.verticalType=h,this.revealHorizontal=f,this.scrollType=m,this.type=12}}class Ufe{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class zfe{constructor(t){this.theme=t,this.type=14}}class Gfe{constructor(t){this.type=15,this.ranges=t}}class jfe{constructor(){this.type=16}}class Zfe{constructor(){this.type=17}}class Qfe extends Se{constructor(){super(),this._onEvent=this._register(new he),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let s=0,l=this._outgoingEvents.length;s<l;s++)if(this._outgoingEvents[s].kind===t.kind){this._outgoingEvents[s]=this._outgoingEvents[s].merge(t);return}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let s=0,l=this._eventHandlers.length;s<l;s++)this._eventHandlers[s]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)}removeViewEventHandler(t){for(let s=0;s<this._eventHandlers.length;s++)if(this._eventHandlers[s]===t){this._eventHandlers.splice(s,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Yfe),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const t=this._collector.outgoingEvents,s=this._collector.viewEvents;this._collector=null;for(const l of t)this._addOutgoingEvent(l);s.length>0&&this._emitMany(s)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const s=this._eventHandlers.slice(0);for(const l of s)l.handleEvents(t)}}}class Yfe{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class QI{constructor(t,s,l,u){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=s,this.contentWidth=l,this.contentHeight=u,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(t){return t.kind!==0?this:new QI(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class YI{constructor(t,s){this.kind=1,this.oldHasFocus=t,this.hasFocus=s}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(t){return t.kind!==1?this:new YI(this.oldHasFocus,t.hasFocus)}}class $I{constructor(t,s,l,u,h,f,m,A){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=s,this._oldScrollHeight=l,this._oldScrollTop=u,this.scrollWidth=h,this.scrollLeft=f,this.scrollHeight=m,this.scrollTop=A,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(t){return t.kind!==2?this:new $I(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class RP{constructor(){this.kind=3}isNoOp(){return!1}merge(t){return this}}class wC{constructor(t,s,l,u,h,f,m){this.kind=6,this.oldSelections=t,this.selections=s,this.oldModelVersionId=l,this.modelVersionId=u,this.source=h,this.reason=f,this.reachedMaxCursorCount=m}static _selectionsAreEqual(t,s){if(!t&&!s)return!0;if(!t||!s)return!1;const l=t.length,u=s.length;if(l!==u)return!1;for(let h=0;h<l;h++)if(!t[h].equalsSelection(s[h]))return!1;return!0}isNoOp(){return wC._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(t){return t.kind!==6?this:new wC(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class $fe{constructor(){this.kind=5}isNoOp(){return!1}merge(t){return this}}class jg extends Se{constructor(t,s,l,u){super(),this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=s,this._coordinatesConverter=l,this.context=new NP(this._model,this._viewModel,this._coordinatesConverter,u),this._cursors=new EP(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=mi(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new NP(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const t=this._cursors.getSelections();for(let s=0;s<this._autoClosedActions.length;s++){const l=this._autoClosedActions[s];l.isValid(t)||(l.dispose(),this._autoClosedActions.splice(s,1),s--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,s,l,u){let h=!1;u!==null&&u.length>jg.MAX_CURSOR_COUNT&&(u=u.slice(0,jg.MAX_CURSOR_COUNT),h=!0);const f=wA.from(this._model,this);return this._cursors.setStates(u),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,s,l,f,h)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,s,l,u,h,f){const m=this._cursors.getViewPositions();let A=null,C=null;m.length>1?C=this._cursors.getViewSelections():A=$.fromPositions(m[0],m[0]),t.emitViewEvent(new o3(s,l,A,C,u,h,f))}saveState(){const t=[],s=this._cursors.getSelections();for(let l=0,u=s.length;l<u;l++){const h=s[l];t.push({inSelectionMode:!h.isEmpty(),selectionStart:{lineNumber:h.selectionStartLineNumber,column:h.selectionStartColumn},position:{lineNumber:h.positionLineNumber,column:h.positionColumn}})}return t}restoreState(t,s){const l=[];for(let u=0,h=s.length;u<h;u++){const f=s[u];let m=1,A=1;f.position&&f.position.lineNumber&&(m=f.position.lineNumber),f.position&&f.position.column&&(A=f.position.column);let C=m,w=A;f.selectionStart&&f.selectionStart.lineNumber&&(C=f.selectionStart.lineNumber),f.selectionStart&&f.selectionStart.column&&(w=f.selectionStart.column),l.push({selectionStartLineNumber:C,selectionStartColumn:w,positionLineNumber:m,positionColumn:A})}this.setStates(t,"restoreState",0,Xt.fromModelSelections(l)),this.revealPrimary(t,"restoreState",!1,0,!0,1)}onModelContentChanged(t,s){if(s instanceof IH){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=s.versionId,this._isHandling)return;const l=s.containsEvent(1);if(this._prevEditOperationType=0,l)this._cursors.dispose(),this._cursors=new EP(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&s.resultingSelection&&s.resultingSelection.length>0){const u=Xt.fromModelSelections(s.resultingSelection);this.setStates(t,"modelChange",s.isUndoing?5:s.isRedoing?6:2,u)&&this.revealPrimary(t,"modelChange",!1,0,!0,0)}else{const u=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,Xt.fromModelSelections(u))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),s=t.viewState.selectionStart.getStartPosition(),l=t.viewState.position;return{isReal:!1,fromViewLineNumber:s.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,s),toViewLineNumber:l.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,l)}}getSelections(){return this._cursors.getSelections()}setSelections(t,s,l,u){this.setStates(t,s,u,Xt.fromModelSelections(l))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,s){const l=[],u=[];for(let m=0,A=t.length;m<A;m++)l.push({range:t[m],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),u.push({range:s[m],options:{description:"auto-closed-enclosing",stickiness:1}});const h=this._model.deltaDecorations([],l),f=this._model.deltaDecorations([],u);this._autoClosedActions.push(new MP(this._model,h,f))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const s=Kfe.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(s){this._interpretCommandResult(s);const l=[],u=[];for(let h=0;h<t.commands.length;h++){const f=t.commands[h];f instanceof wH&&f.enclosingRange&&f.closeCharacterRange&&(l.push(f.closeCharacterRange),u.push(f.enclosingRange))}l.length>0&&this._pushAutoClosedAction(l,u),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,s,l,u,h){const f=wA.from(this._model,this);if(f.equals(u))return!1;const m=this._cursors.getSelections(),A=this._cursors.getViewSelections();if(t.emitViewEvent(new Wfe(A,m)),!u||u.cursorState.length!==f.cursorState.length||f.cursorState.some((C,w)=>!C.modelState.equals(u.cursorState[w].modelState))){const C=u?u.cursorState.map(k=>k.modelState.selection):null,w=u?u.modelVersionId:0;t.emitOutgoingEvent(new wC(C,m,w,f.modelVersionId,s||"keyboard",l,h))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;const s=[];for(let l=0,u=t.length;l<u;l++){const h=t[l];if(!h.text||h.text.indexOf(`
`)>=0)return null;const f=h.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!f)return null;const m=f[1],A=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(m);if(!A||A.length!==1)return null;const C=A[0].open,w=h.text.length-f[2].length-1,k=h.text.lastIndexOf(C,w-1);if(k===-1)return null;s.push([k,w])}return s}executeEdits(t,s,l,u){let h=null;s==="snippet"&&(h=this._findAutoClosingPairs(l)),h&&(l[0]._isTracked=!0);const f=[],m=[],A=this._model.pushEditOperations(this.getSelections(),l,C=>{if(h)for(let k=0,D=h.length;k<D;k++){const[I,N]=h[k],R=C[k],O=R.range.startLineNumber,W=R.range.startColumn-1+I,B=R.range.startColumn-1+N;f.push(new $(O,B+1,O,B+2)),m.push(new $(O,W+1,O,B+2))}const w=u(C);return w&&(this._isHandling=!0),w});A&&(this._isHandling=!1,this.setSelections(t,s,A,0)),f.length>0&&this._pushAutoClosedAction(f,m)}_executeEdit(t,s,l,u=0){if(this.context.cursorConfig.readOnly)return;const h=wA.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(f){Bt(f)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,l,u,h,!1)&&this.revealPrimary(s,l,!1,0,!0,0)}setIsDoingComposition(t){this._isDoingComposition=t}getAutoClosedCharacters(){return MP.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(t,s){this._executeEdit(()=>{s==="keyboard"&&(this._executeEditOperation(vn.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},t,s)}type(t,s,l){this._executeEdit(()=>{if(l==="keyboard"){const u=s.length;let h=0;for(;h<u;){const f=qD(s,h),m=s.substr(h,f);this._executeEditOperation(vn.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),m)),h+=f}}else this._executeEditOperation(vn.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),s))},t,l)}compositionType(t,s,l,u,h,f){if(s.length===0&&l===0&&u===0){if(h!==0){const m=this.getSelections().map(A=>{const C=A.getPosition();return new et(C.lineNumber,C.column+h,C.lineNumber,C.column+h)});this.setSelections(t,f,m,0)}return}this._executeEdit(()=>{this._executeEditOperation(vn.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),s,l,u,h))},t,f)}paste(t,s,l,u,h){this._executeEdit(()=>{this._executeEditOperation(vn.paste(this.context.cursorConfig,this._model,this.getSelections(),s,l,u||[]))},t,h,4)}cut(t,s){this._executeEdit(()=>{this._executeEditOperation(Yd.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,s)}executeCommand(t,s,l){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Lo(0,[s],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,l)}executeCommands(t,s,l){this._executeEdit(()=>{this._executeEditOperation(new Lo(0,s,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,l)}}jg.MAX_CURSOR_COUNT=1e4;class wA{constructor(t,s){this.modelVersionId=t,this.cursorState=s}static from(t,s){return new wA(t.getVersionId(),s.getCursorStates())}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let s=0,l=this.cursorState.length;s<l;s++)if(!this.cursorState[s].equals(t.cursorState[s]))return!1;return!0}}class MP{constructor(t,s,l){this._model=t,this._autoClosedCharactersDecorations=s,this._autoClosedEnclosingDecorations=l}static getAllAutoClosedCharacters(t){let s=[];for(const l of t)s=s.concat(l.getAutoClosedCharactersRanges());return s}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const t=[];for(let s=0;s<this._autoClosedCharactersDecorations.length;s++){const l=this._model.getDecorationRange(this._autoClosedCharactersDecorations[s]);l&&t.push(l)}return t}isValid(t){const s=[];for(let l=0;l<this._autoClosedEnclosingDecorations.length;l++){const u=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[l]);if(u&&(s.push(u),u.startLineNumber!==u.endLineNumber))return!1}s.sort($.compareRangesUsingStarts),t.sort($.compareRangesUsingStarts);for(let l=0;l<t.length;l++)if(l>=s.length||!s[l].strictContainsRange(t[l]))return!1;return!0}}class Kfe{static executeCommands(t,s,l){const u={model:t,selectionsBefore:s,trackedRanges:[],trackedRangesDirection:[]},h=this._innerExecuteCommands(u,l);for(let f=0,m=u.trackedRanges.length;f<m;f++)u.model._setTrackedRange(u.trackedRanges[f],null,0);return h}static _innerExecuteCommands(t,s){if(this._arrayIsEmpty(s))return null;const l=this._getEditOperations(t,s);if(l.operations.length===0)return null;const u=l.operations,h=this._getLoserCursorMap(u);if(h.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const f=[];for(let C=0,w=u.length;C<w;C++)h.hasOwnProperty(u[C].identifier.major.toString())||f.push(u[C]);l.hadTrackedEditOperation&&f.length>0&&(f[0]._isTracked=!0);let m=t.model.pushEditOperations(t.selectionsBefore,f,C=>{const w=[];for(let I=0;I<t.selectionsBefore.length;I++)w[I]=[];for(const I of C)!I.identifier||w[I.identifier.major].push(I);const k=(I,N)=>I.identifier.minor-N.identifier.minor,D=[];for(let I=0;I<t.selectionsBefore.length;I++)w[I].length>0?(w[I].sort(k),D[I]=s[I].computeCursorState(t.model,{getInverseEditOperations:()=>w[I],getTrackedSelection:N=>{const R=parseInt(N,10),O=t.model._getTrackedRange(t.trackedRanges[R]);return t.trackedRangesDirection[R]===0?new et(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new et(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):D[I]=t.selectionsBefore[I];return D});m||(m=t.selectionsBefore);const A=[];for(let C in h)h.hasOwnProperty(C)&&A.push(parseInt(C,10));A.sort((C,w)=>w-C);for(const C of A)m.splice(C,1);return m}static _arrayIsEmpty(t){for(let s=0,l=t.length;s<l;s++)if(t[s])return!1;return!0}static _getEditOperations(t,s){let l=[],u=!1;for(let h=0,f=s.length;h<f;h++){const m=s[h];if(m){const A=this._getEditOperationsFromCommand(t,h,m);l=l.concat(A.operations),u=u||A.hadTrackedEditOperation}}return{operations:l,hadTrackedEditOperation:u}}static _getEditOperationsFromCommand(t,s,l){const u=[];let h=0;const f=(k,D,I=!1)=>{$.isEmpty(k)&&D===""||u.push({identifier:{major:s,minor:h++},range:k,text:D,forceMoveMarkers:I,isAutoWhitespaceEdit:l.insertsAutoWhitespace})};let m=!1;const w={addEditOperation:f,addTrackedEditOperation:(k,D,I)=>{m=!0,f(k,D,I)},trackSelection:(k,D)=>{const I=et.liftSelection(k);let N;if(I.isEmpty())if(typeof D=="boolean")D?N=2:N=3;else{const W=t.model.getLineMaxColumn(I.startLineNumber);I.startColumn===W?N=2:N=3}else N=1;const R=t.trackedRanges.length,O=t.model._setTrackedRange(null,I,N);return t.trackedRanges[R]=O,t.trackedRangesDirection[R]=I.getDirection(),R.toString()}};try{l.getEditOperations(t.model,w)}catch(k){return Bt(k),{operations:[],hadTrackedEditOperation:!1}}return{operations:u,hadTrackedEditOperation:m}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((l,u)=>-$.compareRangesUsingEnds(l.range,u.range));const s={};for(let l=1;l<t.length;l++){const u=t[l-1],h=t[l];if($.getStartPosition(u.range).isBefore($.getEndPosition(h.range))){let f;u.identifier.major>h.identifier.major?f=u.identifier.major:f=h.identifier.major,s[f.toString()]=!0;for(let m=0;m<t.length;m++)t[m].identifier.major===f&&(t.splice(m,1),m<l&&l--,m--);l>0&&l--}}return s}}class EH{constructor(t,s,l,u,h,f){this.id=t,this.label=s,this.alias=l,this._precondition=u,this._run=h,this._contextKeyService=f}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const Ef={Configuration:"base.contributions.configuration"},xp="vscode://schemas/settings/resourceLanguage",PP=ts.as(Gw.JSONContribution);class Xfe{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new he,this._onDidUpdateConfiguration=new he,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:E("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},PP.registerSchema(xp,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(t,s=!0){this.registerConfigurations([t],s)}registerConfigurations(t,s=!0){const l=this.doRegisterConfigurations(t,s);PP.registerSchema(xp,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l})}registerDefaultConfigurations(t){var s;const l=[],u=[];for(const{overrides:h,source:f}of t)for(const m in h)if(l.push(m),h4.test(m)){const A=Object.assign(Object.assign({},((s=this.configurationDefaultsOverrides.get(m))===null||s===void 0?void 0:s.value)||{}),h[m]);this.configurationDefaultsOverrides.set(m,{source:f,value:A});const C={type:"object",default:A,description:E("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",m),$ref:xp,defaultDefaultValue:A,source:Ol(f)?void 0:f};u.push(...TH(m)),this.configurationProperties[m]=C,this.defaultLanguageConfigurationOverridesNode.properties[m]=C}else{this.configurationDefaultsOverrides.set(m,{value:h[m],source:f});const A=this.configurationProperties[m];A&&(this.updatePropertyDefaultValue(m,A),this.updateSchema(m,A))}this.registerOverrideIdentifiers(u),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l,defaultsOverrides:!0})}registerOverrideIdentifiers(t){for(const s of t)this.overrideIdentifiers.add(s);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(t,s){const l=[];return t.forEach(u=>{l.push(...this.validateAndRegisterProperties(u,s,u.extensionInfo,u.restrictedProperties)),this.configurationContributors.push(u),this.registerJSONConfiguration(u)}),l}validateAndRegisterProperties(t,s=!0,l,u,h=3){h=tl(t.scope)?h:t.scope;let f=[],m=t.properties;if(m)for(let C in m){if(s&&e1e(C)){delete m[C];continue}const w=m[C];if(w.source=l,w.defaultDefaultValue=m[C].default,this.updatePropertyDefaultValue(C,w),h4.test(C)?w.scope=void 0:(w.scope=tl(w.scope)?h:w.scope,w.restricted=tl(w.restricted)?!!u?.includes(C):w.restricted),m[C].hasOwnProperty("included")&&!m[C].included){this.excludedConfigurationProperties[C]=m[C],delete m[C];continue}else this.configurationProperties[C]=m[C];!m[C].deprecationMessage&&m[C].markdownDeprecationMessage&&(m[C].deprecationMessage=m[C].markdownDeprecationMessage),f.push(C)}let A=t.allOf;if(A)for(let C of A)f.push(...this.validateAndRegisterProperties(C,s,l,u,h));return f}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(t){const s=l=>{let u=l.properties;if(u)for(const f in u)this.updateSchema(f,u[f]);let h=l.allOf;h&&h.forEach(s)};s(t)}updateSchema(t,s){switch(s.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[t]=s;break}}updateOverridePropertyPatternKey(){for(const t of this.overrideIdentifiers.values()){const s=`[${t}]`,l={type:"object",description:E("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:E("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:xp};this.updatePropertyDefaultValue(s,l)}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){E("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),E("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(t,s){const l=this.configurationDefaultsOverrides.get(t);let u=l?.value,h=l?.source;No(u)&&(u=s.defaultDefaultValue,h=void 0),No(u)&&(u=qfe(s.type)),s.default=u,s.defaultValueSource=h}}const NH="\\[([^\\]]+)\\]",OP=new RegExp(NH,"g"),Jfe=`^(${NH})+$`,h4=new RegExp(Jfe);function TH(d){const t=[];if(h4.test(d)){let s=OP.exec(d);for(;s?.length;){const l=s[1].trim();l&&t.push(l),s=OP.exec(d)}}return Hu(t)}function qfe(d){switch(Array.isArray(d)?d[0]:d){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const RH=new Xfe;ts.add(Ef.Configuration,RH);function e1e(d){return d.trim()?h4.test(d)?E("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",d):RH.getConfigurationProperties()[d]!==void 0?E("config.property.duplicate","Cannot register '{0}'. This property is already registered.",d):null:E("config.property.empty","Cannot register an empty property")}const t1e={ModesRegistry:"editor.modesRegistry"};class i1e{constructor(){this._onDidChangeLanguages=new he,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(t){return this._languages.push(t),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let s=0,l=this._languages.length;s<l;s++)if(this._languages[s]===t){this._languages.splice(s,1);return}}}}getLanguages(){return this._languages}}const Zg=new i1e;ts.add(t1e.ModesRegistry,Zg);const I0="plaintext",n1e=".txt";Zg.registerLanguage({id:I0,extensions:[n1e],aliases:[E("plainText.alias","Plain Text"),"text"],mimetypes:[Za.text]});cs.register(I0,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);ts.as(Ef.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var s1e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const FP={getInitialState:()=>Og,tokenizeEncoded:(d,t,s)=>aI(0,s)};function r1e(d,t,s){return s1e(this,void 0,void 0,function*(){if(!s)return BP(t,d.languageIdCodec,FP);const l=yield bn.getOrCreate(s);return BP(t,d.languageIdCodec,l||FP)})}function o1e(d,t,s,l,u,h,f){let m="<div>",A=l,C=0,w=!0;for(let k=0,D=t.getCount();k<D;k++){const I=t.getEndOffset(k);if(I<=l)continue;let N="";for(;A<I&&A<u;A++){const R=d.charCodeAt(A);switch(R){case 9:{let O=h-(A+C)%h;for(C+=O-1;O>0;)f&&w?(N+="&#160;",w=!1):(N+=" ",w=!0),O--;break}case 60:N+="&lt;",w=!1;break;case 62:N+="&gt;",w=!1;break;case 38:N+="&amp;",w=!1;break;case 0:N+="&#00;",w=!1;break;case 65279:case 8232:case 8233:case 133:N+="\uFFFD",w=!1;break;case 13:N+="&#8203",w=!1;break;case 32:f&&w?(N+="&#160;",w=!1):(N+=" ",w=!0);break;default:N+=String.fromCharCode(R),w=!1}}if(m+=`<span style="${t.getInlineStyle(k,s)}">${N}</span>`,I>u||A>=u)break}return m+="</div>",m}function BP(d,t,s){let l='<div class="monaco-tokenized-source">';const u=m0(d);let h=s.getInitialState();for(let f=0,m=u.length;f<m;f++){const A=u[f];f>0&&(l+="<br/>");const C=s.tokenizeEncoded(A,!0,h);ws.convertToEndOffset(C.tokens,A.length);const k=new ws(C.tokens,A,t).inflate();let D=0;for(let I=0,N=k.getCount();I<N;I++){const R=k.getClassName(I),O=k.getEndOffset(I);l+=`<span class="${R}">${QD(A.substring(D,O))}</span>`,D=O}h=C.endState}return l+="</div>",l}class l1e{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const s=this._inserts,l=this._changes,u=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(s,l,u)}}class a1e{constructor(t,s,l,u,h){this.id=t,this.afterLineNumber=s,this.ordinal=l,this.height=u,this.minWidth=h,this.prefixSum=0}}class d4{constructor(t,s,l,u){this._instanceId=WW(++d4.INSTANCE_COUNT),this._pendingChanges=new l1e,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=s,this._paddingTop=l,this._paddingBottom=u}static findInsertionIndex(t,s,l){let u=0,h=t.length;for(;u<h;){const f=u+h>>>1;s===t[f].afterLineNumber?l<t[f].ordinal?h=f:u=f+1:s<t[f].afterLineNumber?h=f:u=f+1}return u}setLineHeight(t){this._checkPendingChanges(),this._lineHeight=t}setPadding(t,s){this._paddingTop=t,this._paddingBottom=s}onFlushed(t){this._checkPendingChanges(),this._lineCount=t}changeWhitespace(t){let s=!1;try{t({insertWhitespace:(u,h,f,m)=>{s=!0,u=u|0,h=h|0,f=f|0,m=m|0;const A=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new a1e(A,u,h,f,m)),A},changeOneWhitespace:(u,h,f)=>{s=!0,h=h|0,f=f|0,this._pendingChanges.change({id:u,newAfterLineNumber:h,newHeight:f})},removeWhitespace:u=>{s=!0,this._pendingChanges.remove({id:u})}})}finally{this._pendingChanges.commit(this)}return s}_commitPendingChanges(t,s,l){if((t.length>0||l.length>0)&&(this._minWidth=-1),t.length+s.length+l.length<=1){for(const A of t)this._insertWhitespace(A);for(const A of s)this._changeOneWhitespace(A.id,A.newAfterLineNumber,A.newHeight);for(const A of l){const C=this._findWhitespaceIndex(A.id);C!==-1&&this._removeWhitespace(C)}return}const u=new Set;for(const A of l)u.add(A.id);const h=new Map;for(const A of s)h.set(A.id,A);const f=A=>{const C=[];for(const w of A)if(!u.has(w.id)){if(h.has(w.id)){const k=h.get(w.id);w.afterLineNumber=k.newAfterLineNumber,w.height=k.newHeight}C.push(w)}return C},m=f(this._arr).concat(f(t));m.sort((A,C)=>A.afterLineNumber===C.afterLineNumber?A.ordinal-C.ordinal:A.afterLineNumber-C.afterLineNumber),this._arr=m,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const s=d4.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(s,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,s-1)}_findWhitespaceIndex(t){const s=this._arr;for(let l=0,u=s.length;l<u;l++)if(s[l].id===t)return l;return-1}_changeOneWhitespace(t,s,l){const u=this._findWhitespaceIndex(t);if(u!==-1&&(this._arr[u].height!==l&&(this._arr[u].height=l,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,u-1)),this._arr[u].afterLineNumber!==s)){const h=this._arr[u];this._removeWhitespace(u),h.afterLineNumber=s,this._insertWhitespace(h)}}_removeWhitespace(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}onLinesDeleted(t,s){this._checkPendingChanges(),t=t|0,s=s|0,this._lineCount-=s-t+1;for(let l=0,u=this._arr.length;l<u;l++){const h=this._arr[l].afterLineNumber;t<=h&&h<=s?this._arr[l].afterLineNumber=t-1:h>s&&(this._arr[l].afterLineNumber-=s-t+1)}}onLinesInserted(t,s){this._checkPendingChanges(),t=t|0,s=s|0,this._lineCount+=s-t+1;for(let l=0,u=this._arr.length;l<u;l++){const h=this._arr[l].afterLineNumber;t<=h&&(this._arr[l].afterLineNumber+=s-t+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(t){this._checkPendingChanges(),t=t|0;let s=Math.max(0,this._prefixSumValidIndex+1);s===0&&(this._arr[0].prefixSum=this._arr[0].height,s++);for(let l=s;l<=t;l++)this._arr[l].prefixSum=this._arr[l-1].prefixSum+this._arr[l].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const t=this._lineHeight*this._lineCount,s=this.getWhitespacesTotalHeight();return t+s+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(t){this._checkPendingChanges(),t=t|0;const s=this._findLastWhitespaceBeforeLineNumber(t);return s===-1?0:this.getWhitespacesAccumulatedHeight(s)}_findLastWhitespaceBeforeLineNumber(t){t=t|0;const s=this._arr;let l=0,u=s.length-1;for(;l<=u;){const f=(u-l|0)/2|0,m=l+f|0;if(s[m].afterLineNumber<t){if(m+1>=s.length||s[m+1].afterLineNumber>=t)return m;l=m+1|0}else u=m-1|0}return-1}_findFirstWhitespaceAfterLineNumber(t){t=t|0;const l=this._findLastWhitespaceBeforeLineNumber(t)+1;return l<this._arr.length?l:-1}getFirstWhitespaceIndexAfterLineNumber(t){return this._checkPendingChanges(),t=t|0,this._findFirstWhitespaceAfterLineNumber(t)}getVerticalOffsetForLineNumber(t){this._checkPendingChanges(),t=t|0;let s;t>1?s=this._lineHeight*(t-1):s=0;const l=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t);return s+l+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let t=0;for(let s=0,l=this._arr.length;s<l;s++)t=Math.max(t,this._arr[s].minWidth);this._minWidth=t}return this._minWidth}isAfterLines(t){this._checkPendingChanges();const s=this.getLinesTotalHeight();return t>s}isInTopPadding(t){return this._paddingTop===0?!1:(this._checkPendingChanges(),t<this._paddingTop)}isInBottomPadding(t){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const s=this.getLinesTotalHeight();return t>=s-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(t){if(this._checkPendingChanges(),t=t|0,t<0)return 1;const s=this._lineCount|0,l=this._lineHeight;let u=1,h=s;for(;u<h;){const f=(u+h)/2|0,m=this.getVerticalOffsetForLineNumber(f)|0;if(t>=m+l)u=f+1;else{if(t>=m)return f;h=f}}return u>s?s:u}getLinesViewportData(t,s){this._checkPendingChanges(),t=t|0,s=s|0;const l=this._lineHeight,u=this.getLineNumberAtOrAfterVerticalOffset(t)|0,h=this.getVerticalOffsetForLineNumber(u)|0;let f=this._lineCount|0,m=this.getFirstWhitespaceIndexAfterLineNumber(u)|0;const A=this.getWhitespacesCount()|0;let C,w;m===-1?(m=A,w=f+1,C=0):(w=this.getAfterLineNumberForWhitespaceIndex(m)|0,C=this.getHeightForWhitespaceIndex(m)|0);let k=h,D=k;const I=5e5;let N=0;h>=I&&(N=Math.floor(h/I)*I,N=Math.floor(N/l)*l,D-=N);const R=[],O=t+(s-t)/2;let W=-1;for(let K=u;K<=f;K++){if(W===-1){const q=k,Y=k+l;(q<=O&&O<Y||q>O)&&(W=K)}for(k+=l,R[K-u]=D,D+=l;w===K;)D+=C,k+=C,m++,m>=A?w=f+1:(w=this.getAfterLineNumberForWhitespaceIndex(m)|0,C=this.getHeightForWhitespaceIndex(m)|0);if(k>=s){f=K;break}}W===-1&&(W=f);const B=this.getVerticalOffsetForLineNumber(f)|0;let z=u,G=f;return z<G&&h<t&&z++,z<G&&B+l>s&&G--,{bigNumbersDelta:N,startLineNumber:u,endLineNumber:f,relativeVerticalOffset:R,centeredLineNumber:W,completelyVisibleStartLineNumber:z,completelyVisibleEndLineNumber:G}}getVerticalOffsetForWhitespaceIndex(t){this._checkPendingChanges(),t=t|0;const s=this.getAfterLineNumberForWhitespaceIndex(t);let l;s>=1?l=this._lineHeight*s:l=0;let u;return t>0?u=this.getWhitespacesAccumulatedHeight(t-1):u=0,l+u+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(t){this._checkPendingChanges(),t=t|0;let s=0,l=this.getWhitespacesCount()-1;if(l<0)return-1;const u=this.getVerticalOffsetForWhitespaceIndex(l),h=this.getHeightForWhitespaceIndex(l);if(t>=u+h)return-1;for(;s<l;){const f=Math.floor((s+l)/2),m=this.getVerticalOffsetForWhitespaceIndex(f),A=this.getHeightForWhitespaceIndex(f);if(t>=m+A)s=f+1;else{if(t>=m)return f;l=f}}return s}getWhitespaceAtVerticalOffset(t){this._checkPendingChanges(),t=t|0;const s=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(s<0||s>=this.getWhitespacesCount())return null;const l=this.getVerticalOffsetForWhitespaceIndex(s);if(l>t)return null;const u=this.getHeightForWhitespaceIndex(s),h=this.getIdForWhitespaceIndex(s),f=this.getAfterLineNumberForWhitespaceIndex(s);return{id:h,afterLineNumber:f,verticalOffset:l,height:u}}getWhitespaceViewportData(t,s){this._checkPendingChanges(),t=t|0,s=s|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),u=this.getWhitespacesCount()-1;if(l<0)return[];const h=[];for(let f=l;f<=u;f++){const m=this.getVerticalOffsetForWhitespaceIndex(f),A=this.getHeightForWhitespaceIndex(f);if(m>=s)break;h.push({id:this.getIdForWhitespaceIndex(f),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(f),verticalOffset:m,height:A})}return h}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].id}getAfterLineNumberForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].afterLineNumber}getHeightForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].height}}d4.INSTANCE_COUNT=0;const c1e=125;class $p{constructor(t,s,l,u){t=t|0,s=s|0,l=l|0,u=u|0,t<0&&(t=0),s<0&&(s=0),l<0&&(l=0),u<0&&(u=0),this.width=t,this.contentWidth=s,this.scrollWidth=Math.max(t,s),this.height=l,this.contentHeight=u,this.scrollHeight=Math.max(l,u)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class u1e extends Se{constructor(t,s){super(),this._onDidContentSizeChange=this._register(new he),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new $p(0,0,0,0),this._scrollable=this._register(new p_({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:s})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const s=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const l=s.contentWidth!==t.contentWidth,u=s.contentHeight!==t.contentHeight;(l||u)&&this._onDidContentSizeChange.fire(new QI(s.contentWidth,s.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class h1e extends Se{constructor(t,s,l){super(),this._configuration=t;const u=this._configuration.options,h=u.get(131),f=u.get(75);this._linesLayout=new d4(s,u.get(59),f.top,f.bottom),this._scrollable=this._register(new u1e(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new $p(h.contentWidth,0,h.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?c1e:0)}onConfigurationChanged(t){const s=this._configuration.options;if(t.hasChanged(59)&&this._linesLayout.setLineHeight(s.get(59)),t.hasChanged(75)){const l=s.get(75);this._linesLayout.setPadding(l.top,l.bottom)}if(t.hasChanged(131)){const l=s.get(131),u=l.contentWidth,h=l.height,f=this._scrollable.getScrollDimensions(),m=f.contentWidth;this._scrollable.setScrollDimensions(new $p(u,f.contentWidth,h,this._getContentHeight(u,h,m)))}else this._updateHeight();t.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,s){this._linesLayout.onLinesDeleted(t,s)}onLinesInserted(t,s){this._linesLayout.onLinesInserted(t,s)}_getHorizontalScrollbarHeight(t,s){const u=this._configuration.options.get(92);return u.horizontal===2||t>=s?0:u.horizontalScrollbarSize}_getContentHeight(t,s,l){const u=this._configuration.options;let h=this._linesLayout.getLinesTotalHeight();return u.get(94)?h+=Math.max(0,s-u.get(59)-u.get(75).bottom):h+=this._getHorizontalScrollbarHeight(t,l),h}_updateHeight(){const t=this._scrollable.getScrollDimensions(),s=t.width,l=t.height,u=t.contentWidth;this._scrollable.setScrollDimensions(new $p(s,t.contentWidth,l,this._getContentHeight(s,l,u)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),s=this._scrollable.getCurrentScrollPosition();return new jM(s.scrollTop,s.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),s=this._scrollable.getFutureScrollPosition();return new jM(s.scrollTop,s.scrollLeft,t.width,t.height)}_computeContentWidth(t){const s=this._configuration.options,l=s.get(132),u=s.get(44);if(l.isViewportWrapping){const h=s.get(131),f=s.get(65);return t>h.contentWidth+u.typicalHalfwidthCharacterWidth&&f.enabled&&f.side==="right"?t+h.verticalScrollbarWidth:t}else{const h=s.get(93)*u.typicalHalfwidthCharacterWidth,f=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+h,f)}}setMaxLineWidth(t){const s=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new $p(s.width,this._computeContentWidth(t),s.height,s.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),s=t.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(s),u=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:s,scrollTopWithoutViewZones:s-u,scrollLeft:t.scrollLeft}}changeWhitespace(t){const s=this._linesLayout.changeWhitespace(t);return s&&this.onHeightMaybeChanged(),s}getVerticalOffsetForLineNumber(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const s=this._scrollable.getScrollDimensions();return t+s.height>s.scrollHeight&&(t=s.scrollHeight-s.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+s.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,s){s===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,s){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+t,scrollTop:l.scrollTop+s})}}class d1e{constructor(t,s,l,u,h){this.editorId=t,this.model=s,this.configuration=l,this._linesCollection=u,this._coordinatesConverter=h,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(t){const s=t.id;let l=this._decorationsCache[s];if(!l){const u=t.range,h=t.options;let f;if(h.isWholeLine){const m=this._coordinatesConverter.convertModelPositionToViewPosition(new me(u.startLineNumber,1),0),A=this._coordinatesConverter.convertModelPositionToViewPosition(new me(u.endLineNumber,this.model.getLineMaxColumn(u.endLineNumber)),1);f=new $(m.lineNumber,m.column,A.lineNumber,A.column)}else f=this._coordinatesConverter.convertModelRangeToViewRange(u,1);l=new hV(f,h),this._decorationsCache[s]=l}return l}getDecorationsViewportData(t){let s=this._cachedModelDecorationsResolver!==null;return s=s&&t.equalsRange(this._cachedModelDecorationsResolverViewRange),s||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(t),this._cachedModelDecorationsResolverViewRange=t),this._cachedModelDecorationsResolver}_getDecorationsViewportData(t){const s=this._linesCollection.getDecorationsInRange(t,this.editorId,B3(this.configuration.options)),l=t.startLineNumber,u=t.endLineNumber,h=[];let f=0;const m=[];for(let A=l;A<=u;A++)m[A-l]=[];for(let A=0,C=s.length;A<C;A++){const w=s[A],k=w.options;if(!KI(this.model,w))continue;const D=this._getOrCreateViewModelDecoration(w),I=D.range;if(h[f++]=D,k.inlineClassName){const N=new cA(I,k.inlineClassName,k.inlineClassNameAffectsLetterSpacing?3:0),R=Math.max(l,I.startLineNumber),O=Math.min(u,I.endLineNumber);for(let W=R;W<=O;W++)m[W-l].push(N)}if(k.beforeContentClassName&&l<=I.startLineNumber&&I.startLineNumber<=u){const N=new cA(new $(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn),k.beforeContentClassName,1);m[I.startLineNumber-l].push(N)}if(k.afterContentClassName&&l<=I.endLineNumber&&I.endLineNumber<=u){const N=new cA(new $(I.endLineNumber,I.endColumn,I.endLineNumber,I.endColumn),k.afterContentClassName,2);m[I.endLineNumber-l].push(N)}}return{decorations:h,inlineDecorations:m}}}function KI(d,t){return!(t.options.hideInCommentTokens&&XI(d,t)||t.options.hideInStringTokens&&JI(d,t))}function XI(d,t){return MH(d,t.range,s=>s===1)}function JI(d,t){return MH(d,t.range,s=>s===2)}function MH(d,t,s){for(let l=t.startLineNumber;l<=t.endLineNumber;l++){const u=d.getLineTokens(l),h=l===t.startLineNumber,f=l===t.endLineNumber;let m=h?u.findTokenIndexAtOffset(t.startColumn-1):0;for(;m<u.getCount()&&!(f&&u.getStartOffset(m)>t.endColumn-1);){if(!s(u.getStandardTokenType(m)))return!1;m++}}return!0}class Y8{constructor(t,s,l){this.range=t,this.nestingLevel=s,this.isInvalid=l}}class f1e{constructor(t,s,l,u){this.range=t,this.openingBracketRange=s,this.closingBracketRange=l,this.nestingLevel=u}}class g1e extends f1e{constructor(t,s,l,u,h){super(t,s,l,u),this.minVisibleColumnIndentation=h}}class Zy{constructor(t,s){this.lineCount=t,this.columnCount=s}toString(){return`${this.lineCount},${this.columnCount}`}}Zy.zero=new Zy(0,0);function m1e(d,t,s,l){return d!==s?jn(s-d,l):jn(0,l-t)}const _0=0;function p1e(d){return d===0}const al=Math.pow(2,26);function jn(d,t){return d*al+t}function Ou(d){const t=d,s=Math.floor(t/al),l=t-s*al;return new Zy(s,l)}function A1e(d){return Math.floor(d/al)}function hs(d,t){return t<al?d+t:d-d%al+t}function _1e(d,t){const s=d,l=t;if(l-s<=0)return _0;const h=Math.floor(s/al),f=Math.floor(l/al),m=l-f*al;if(h===f){const A=s-h*al;return jn(0,m-A)}else return jn(f-h,m)}function l3(d,t){return d<t}function pd(d,t){return d<=t}function $8(d,t){return d>=t}function K8(d){return jn(d.lineNumber-1,d.column-1)}function Ad(d,t){const s=d,l=Math.floor(s/al),u=s-l*al,h=t,f=Math.floor(h/al),m=h-f*al;return new $(l+1,u+1,f+1,m+1)}function C1e(d){const t=m0(d);return jn(t.length-1,t[t.length-1].length)}class WP{constructor(t,s,l){this.startOffset=t,this.endOffset=s,this.newLength=l}}class w1e{constructor(t,s){this.documentLength=s,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map(l=>qI.from(l))}getOffsetBeforeChange(t){return this.adjustNextEdit(t),this.translateCurToOld(t)}getDistanceToNextChange(t){this.adjustNextEdit(t);const s=this.edits[this.nextEditIdx],l=s?this.translateOldToCur(s.offsetObj):this.documentLength;return _1e(t,l)}translateOldToCur(t){return t.lineCount===this.deltaLineIdxInOld?jn(t.lineCount+this.deltaOldToNewLineCount,t.columnCount+this.deltaOldToNewColumnCount):jn(t.lineCount+this.deltaOldToNewLineCount,t.columnCount)}translateCurToOld(t){const s=Ou(t);return s.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?jn(s.lineCount-this.deltaOldToNewLineCount,s.columnCount-this.deltaOldToNewColumnCount):jn(s.lineCount-this.deltaOldToNewLineCount,s.columnCount)}adjustNextEdit(t){for(;this.nextEditIdx<this.edits.length;){const s=this.edits[this.nextEditIdx],l=this.translateOldToCur(s.endOffsetAfterObj);if(pd(l,t)){this.nextEditIdx++;const u=Ou(l),h=Ou(this.translateOldToCur(s.endOffsetBeforeObj)),f=u.lineCount-h.lineCount;this.deltaOldToNewLineCount+=f;const m=this.deltaLineIdxInOld===s.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,A=u.columnCount-h.columnCount;this.deltaOldToNewColumnCount=m+A,this.deltaLineIdxInOld=s.endOffsetBeforeObj.lineCount}else break}}}class qI{constructor(t,s,l){this.endOffsetBeforeObj=Ou(s),this.endOffsetAfterObj=Ou(hs(t,l)),this.offsetObj=Ou(t)}static from(t){return new qI(t.startOffset,t.endOffset,t.newLength)}}const a3=new Array;class us{constructor(t,s){this.items=t,this.additionalItems=s}static create(t,s){if(t<=128&&s.length===0){let l=us.cache[t];return l||(l=new us(t,s),us.cache[t]=l),l}return new us(t,s)}static getEmpty(){return this.empty}add(t,s){const l=s.getKey(t);let u=l>>5;if(u===0){const f=1<<l|this.items;return f===this.items?this:us.create(f,this.additionalItems)}u--;const h=this.additionalItems.slice(0);for(;h.length<u;)h.push(0);return h[u]|=1<<(l&31),us.create(this.items,h)}merge(t){const s=this.items|t.items;if(this.additionalItems===a3&&t.additionalItems===a3)return s===this.items?this:s===t.items?t:us.create(s,a3);const l=new Array;for(let u=0;u<Math.max(this.additionalItems.length,t.additionalItems.length);u++){const h=this.additionalItems[u]||0,f=t.additionalItems[u]||0;l.push(h|f)}return us.create(s,l)}intersects(t){if((this.items&t.items)!==0)return!0;for(let s=0;s<Math.min(this.additionalItems.length,t.additionalItems.length);s++)if((this.additionalItems[s]&t.additionalItems[s])!==0)return!0;return!1}}us.cache=new Array(129);us.empty=us.create(0,a3);const VP={getKey(d){return d}};class PH{constructor(){this.items=new Map}getKey(t){let s=this.items.get(t);return s===void 0&&(s=this.items.size,this.items.set(t,s)),s}}class ex{constructor(t){this._length=t}get length(){return this._length}}class f4 extends ex{constructor(t,s,l,u,h){super(t),this.openingBracket=s,this.child=l,this.closingBracket=u,this.missingOpeningBracketIds=h}static create(t,s,l){let u=t.length;return s&&(u=hs(u,s.length)),l&&(u=hs(u,l.length)),new f4(u,t,s,l,s?s.missingOpeningBracketIds:us.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(t){switch(t){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const t=new Array;return t.push(this.openingBracket),this.child&&t.push(this.child),this.closingBracket&&t.push(this.closingBracket),t}canBeReused(t){return!(this.closingBracket===null||t.intersects(this.missingOpeningBracketIds))}deepClone(){return new f4(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(t,s){return this.child?this.child.computeMinIndentation(hs(t,this.openingBracket.length),s):Number.MAX_SAFE_INTEGER}}class C0 extends ex{constructor(t,s,l){super(t),this.listHeight=s,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}static create23(t,s,l,u=!1){let h=t.length,f=t.missingOpeningBracketIds;if(t.listHeight!==s.listHeight)throw new Error("Invalid list heights");if(h=hs(h,s.length),f=f.merge(s.missingOpeningBracketIds),l){if(t.listHeight!==l.listHeight)throw new Error("Invalid list heights");h=hs(h,l.length),f=f.merge(l.missingOpeningBracketIds)}return u?new v1e(h,t.listHeight+1,t,s,l,f):new g4(h,t.listHeight+1,t,s,l,f)}static getEmpty(){return new k1e(_0,0,[],us.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const t=this.childrenLength;if(t===0)return;const s=this.getChild(t-1),l=s.kind===4?s.toMutable():s;return s!==l&&this.setChild(t-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const s=this.getChild(0),l=s.kind===4?s.toMutable():s;return s!==l&&this.setChild(0,l),l}canBeReused(t){if(t.intersects(this.missingOpeningBracketIds))return!1;let s=this,l;for(;s.kind===4&&(l=s.childrenLength)>0;)s=s.getChild(l-1);return s.canBeReused(t)}handleChildrenChanged(){this.throwIfImmutable();const t=this.childrenLength;let s=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let u=1;u<t;u++){const h=this.getChild(u);s=hs(s,h.length),l=l.merge(h.missingOpeningBracketIds)}this._length=s,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(t,s){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,u=t;for(let h=0;h<this.childrenLength;h++){const f=this.getChild(h);f&&(l=Math.min(l,f.computeMinIndentation(u,s)),u=hs(u,f.length))}return this.cachedMinIndentation=l,l}}class g4 extends C0{constructor(t,s,l,u,h,f){super(t,s,f),this._item1=l,this._item2=u,this._item3=h}get childrenLength(){return this._item3!==null?3:2}getChild(t){switch(t){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(t,s){switch(t){case 0:this._item1=s;return;case 1:this._item2=s;return;case 2:this._item3=s;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new g4(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=t,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const t=this._item3;return this._item3=null,this.handleChildrenChanged(),t}prependChildOfSameHeight(t){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=t,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const t=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),t}toMutable(){return this}}class v1e extends g4{toMutable(){return new g4(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class vC extends C0{constructor(t,s,l,u){super(t,s,u),this._children=l}get childrenLength(){return this._children.length}getChild(t){return this._children[t]}setChild(t,s){this._children[t]=s}get children(){return this._children}deepClone(){const t=new Array(this._children.length);for(let s=0;s<this._children.length;s++)t[s]=this._children[s].deepClone();return new vC(this.length,this.listHeight,t,this.missingOpeningBracketIds)}appendChildOfSameHeight(t){this.throwIfImmutable(),this._children.push(t),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const t=this._children.pop();return this.handleChildrenChanged(),t}prependChildOfSameHeight(t){this.throwIfImmutable(),this._children.unshift(t),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const t=this._children.shift();return this.handleChildrenChanged(),t}toMutable(){return this}}class k1e extends vC{toMutable(){return new vC(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const b1e=[];class tx extends ex{get listHeight(){return 0}get childrenLength(){return 0}getChild(t){return null}get children(){return b1e}deepClone(){return this}}class H1 extends tx{get kind(){return 0}get missingOpeningBracketIds(){return us.getEmpty()}canBeReused(t){return!0}computeMinIndentation(t,s){const l=Ou(t),u=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,h=A1e(hs(t,this.length))+1;let f=Number.MAX_SAFE_INTEGER;for(let m=u;m<=h;m++){const A=s.getLineFirstNonWhitespaceColumn(m),C=s.getLineContent(m);if(A===0)continue;const w=_s.visibleColumnFromColumn(C,A,s.getOptions().tabSize);f=Math.min(f,w)}return f}}class kC extends tx{constructor(t,s,l){super(t),this.languageId=s,this.bracketIds=l}static create(t,s,l){return new kC(t,s,l)}get kind(){return 1}get missingOpeningBracketIds(){return us.getEmpty()}canBeReused(t){return!1}computeMinIndentation(t,s){return Number.MAX_SAFE_INTEGER}}class S1e extends tx{constructor(t,s){super(s),this.missingOpeningBracketIds=t}get kind(){return 3}canBeReused(t){return!t.intersects(this.missingOpeningBracketIds)}computeMinIndentation(t,s){return Number.MAX_SAFE_INTEGER}}class Au{constructor(t,s,l,u,h){this.length=t,this.kind=s,this.bracketId=l,this.bracketIds=u,this.astNode=h}}class OH{constructor(t,s){this.textModel=t,this.bracketTokens=s,this.reader=new y1e(this.textModel,this.bracketTokens),this._offset=_0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return jn(this.textBufferLineCount,this.textBufferLastLineLength)}skip(t){this.didPeek=!1,this._offset=hs(this._offset,t);const s=Ou(this._offset);this.reader.setPosition(s.lineCount,s.columnCount)}read(){let t;return this.peeked?(this.didPeek=!1,t=this.peeked):t=this.reader.read(),t&&(this._offset=hs(this._offset,t.length)),t}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class y1e{constructor(t,s){this.textModel=t,this.bracketTokens=s,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}setPosition(t,s){t===this.lineIdx?(this.lineCharOffset=s,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=t,this.lineCharOffset=s,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const h=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=h.length,h}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const t=this.lineIdx,s=this.lineCharOffset;let l=0;for(;;){const h=this.lineTokens,f=h.getCount();let m=null;if(this.lineTokenOffset<f){const A=h.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<f&&A===h.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const C=Ar.getTokenType(A)===0,w=h.getEndOffset(this.lineTokenOffset);if(C&&w!==this.lineCharOffset){const k=h.getLanguageId(this.lineTokenOffset),D=this.line.substring(this.lineCharOffset,w),I=this.bracketTokens.getSingleLanguageBracketTokens(k),N=I.regExpGlobal;if(N){N.lastIndex=0;const R=N.exec(D);R&&(m=I.getToken(R[0]),m&&(this.lineCharOffset+=R.index))}}if(l+=w-this.lineCharOffset,m)if(t!==this.lineIdx||s!==this.lineCharOffset){this.peekedToken=m;break}else return this.lineCharOffset+=m.length,m;else this.lineTokenOffset++,this.lineCharOffset=w}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,l+=33,l>1e3))break;if(l>1500)break}const u=m1e(t,s,this.lineIdx,this.lineCharOffset);return new Au(u,0,-1,us.getEmpty(),new H1(u))}}class L1e{constructor(t,s){this.text=t,this._offset=_0,this.idx=0;const u=s.getRegExpStr()?new RegExp(s.getRegExpStr()+`|
`,"g"):null,h=[];let f,m=0,A=0,C=0,w=0;const k=new Array;for(let N=0;N<60;N++)k.push(new Au(jn(0,N),0,-1,us.getEmpty(),new H1(jn(0,N))));const D=new Array;for(let N=0;N<60;N++)D.push(new Au(jn(1,N),0,-1,us.getEmpty(),new H1(jn(1,N))));if(u)for(u.lastIndex=0;(f=u.exec(t))!==null;){const N=f.index,R=f[0];if(R===`
`)m++,A=N+1;else{if(C!==N){let O;if(w===m){const W=N-C;if(W<k.length)O=k[W];else{const B=jn(0,W);O=new Au(B,0,-1,us.getEmpty(),new H1(B))}}else{const W=m-w,B=N-A;if(W===1&&B<D.length)O=D[B];else{const z=jn(W,B);O=new Au(z,0,-1,us.getEmpty(),new H1(z))}}h.push(O)}h.push(s.getToken(R)),C=N+R.length,w=m}}const I=t.length;if(C!==I){const N=w===m?jn(0,I-C):jn(m-w,I-A);h.push(new Au(N,0,-1,us.getEmpty(),new H1(N)))}this.length=jn(m,I-A),this.tokens=h}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(t){throw new zle}}class bC{constructor(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(t,s){function l(A,C){return s.getKey(`${A}:::${C}`)}const u=t.characterPair.getColorizedBrackets(),h=new Map,f=new Set;for(const[A,C]of u){f.add(A);let w=h.get(C);const k=l(t.languageId,A);w||(w={openingBrackets:us.getEmpty(),first:k},h.set(C,w)),w.openingBrackets=w.openingBrackets.add(k,VP)}const m=new Map;for(const[A,C]of h){const w=jn(0,A.length);m.set(A,new Au(w,2,C.first,C.openingBrackets,kC.create(w,t.languageId,C.openingBrackets)))}for(const A of f){const C=jn(0,A.length),w=l(t.languageId,A),k=us.getEmpty().add(w,VP);m.set(A,new Au(C,1,w,k,kC.create(C,t.languageId,k)))}return new bC(m)}getRegExpStr(){if(this.isEmpty)return null;{const t=[...this.map.keys()];return t.sort(),t.reverse(),t.map(s=>D1e(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(t){return this.map.get(t)}findClosingTokenText(t){for(const[s,l]of this.map)if(l.bracketIds.intersects(t))return s}get isEmpty(){return this.map.size===0}}function D1e(d){const t=Fl(d);return/^[\w ]+$/.test(d)?`\\b${t}\\b`:t}class FH{constructor(t,s){this.denseKeyProvider=t,this.getLanguageConfiguration=s,this.languageIdToBracketTokens=new Map}didLanguageChange(t){const s=this.languageIdToBracketTokens.get(t);if(!s)return!1;const l=bC.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider).getRegExpStr();return s.getRegExpStr()!==l}getSingleLanguageBracketTokens(t){let s=this.languageIdToBracketTokens.get(t);return s||(s=bC.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,s)),s}}function I1e(d){if(d.length===0)return null;if(d.length===1)return d[0];let t=0;function s(){if(t>=d.length)return null;const f=t,m=d[f].listHeight;for(t++;t<d.length&&d[t].listHeight===m;)t++;return t-f>=2?BH(f===0&&t===d.length?d:d.slice(f,t),!1):d[f]}let l=s(),u=s();if(!u)return l;for(let f=s();f;f=s())HP(l,u)<=HP(u,f)?(l=Pb(l,u),u=f):u=Pb(u,f);return Pb(l,u)}function BH(d,t=!1){if(d.length===0)return null;if(d.length===1)return d[0];let s=d.length;for(;s>3;){const l=s>>1;for(let u=0;u<l;u++){const h=u<<1;d[u]=C0.create23(d[h],d[h+1],h+3===s?d[h+2]:null,t)}s=l}return C0.create23(d[0],d[1],s>=3?d[2]:null,t)}function HP(d,t){return Math.abs(d.listHeight-t.listHeight)}function Pb(d,t){return d.listHeight===t.listHeight?C0.create23(d,t,null,!1):d.listHeight>t.listHeight?x1e(d,t):E1e(t,d)}function x1e(d,t){d=d.toMutable();let s=d;const l=new Array;let u;for(;;){if(t.listHeight===s.listHeight){u=t;break}if(s.kind!==4)throw new Error("unexpected");l.push(s),s=s.makeLastElementMutable()}for(let h=l.length-1;h>=0;h--){const f=l[h];u?f.childrenLength>=3?u=C0.create23(f.unappendChild(),u,null,!1):(f.appendChildOfSameHeight(u),u=void 0):f.handleChildrenChanged()}return u?C0.create23(d,u,null,!1):d}function E1e(d,t){d=d.toMutable();let s=d;const l=new Array;for(;t.listHeight!==s.listHeight;){if(s.kind!==4)throw new Error("unexpected");l.push(s),s=s.makeFirstElementMutable()}let u=t;for(let h=l.length-1;h>=0;h--){const f=l[h];u?f.childrenLength>=3?u=C0.create23(u,f.unprependChild(),null,!1):(f.prependChildOfSameHeight(u),u=void 0):f.handleChildrenChanged()}return u?C0.create23(u,d,null,!1):d}class N1e{constructor(t){this.lastOffset=_0,this.nextNodes=[t],this.offsets=[_0],this.idxs=[]}readLongestNodeAt(t,s){if(l3(t,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=t;;){const l=Ep(this.nextNodes);if(!l)return;const u=Ep(this.offsets);if(l3(t,u))return;if(l3(u,t))if(hs(u,l.length)<=t)this.nextNodeAfterCurrent();else{const h=Ob(l);h!==-1?(this.nextNodes.push(l.getChild(h)),this.offsets.push(u),this.idxs.push(h)):this.nextNodeAfterCurrent()}else{if(s(l))return this.nextNodeAfterCurrent(),l;{const h=Ob(l);if(h===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(l.getChild(h)),this.offsets.push(u),this.idxs.push(h)}}}}nextNodeAfterCurrent(){for(;;){const t=Ep(this.offsets),s=Ep(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const l=Ep(this.nextNodes),u=Ob(l,this.idxs[this.idxs.length-1]);if(u!==-1){this.nextNodes.push(l.getChild(u)),this.offsets.push(hs(t,s.length)),this.idxs[this.idxs.length-1]=u;break}else this.idxs.pop()}}}function Ob(d,t=-1){for(;;){if(t++,t>=d.childrenLength)return-1;if(d.getChild(t))return t}}function Ep(d){return d.length>0?d[d.length-1]:void 0}function Qy(d,t,s,l){return new T1e(d,t,s,l).parseDocument()}class T1e{constructor(t,s,l,u){if(this.tokenizer=t,this.createImmutableLists=u,this._itemsConstructed=0,this._itemsFromCache=0,l&&u)throw new Error("Not supported");this.oldNodeReader=l?new N1e(l):void 0,this.positionMapper=new w1e(s,t.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let t=this.parseList(us.getEmpty());return t||(t=C0.getEmpty()),t}parseList(t){const s=new Array;for(;;){const u=this.tokenizer.peek();if(!u||u.kind===2&&u.bracketIds.intersects(t))break;const h=this.parseChild(t);h.kind===4&&h.childrenLength===0||s.push(h)}return this.oldNodeReader?I1e(s):BH(s,this.createImmutableLists)}parseChild(t){if(this.oldNodeReader){const l=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!p1e(l)){const u=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),h=>l3(h.length,l)?h.canBeReused(t):!1);if(u)return this._itemsFromCache++,this.tokenizer.skip(u.length),u}}this._itemsConstructed++;const s=this.tokenizer.read();switch(s.kind){case 2:return new S1e(s.bracketIds,s.length);case 0:return s.astNode;case 1:{const l=t.merge(s.bracketIds),u=this.parseList(l),h=this.tokenizer.peek();return h&&h.kind===2&&(h.bracketId===s.bracketId||h.bracketIds.intersects(s.bracketIds))?(this.tokenizer.read(),f4.create(s.astNode,u,h.astNode)):f4.create(s.astNode,u,null)}default:throw new Error("unexpected")}}}class R1e extends Se{constructor(t,s){if(super(),this.textModel=t,this.getLanguageConfiguration=s,this.didChangeEmitter=new he,this.denseKeyProvider=new PH,this.brackets=new FH(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,t.backgroundTokenizationState===0){const l=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),u=new L1e(this.textModel.getValue(),l);this.initialAstWithoutTokens=Qy(u,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else t.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):t.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(t){return this.brackets.didLanguageChange(t)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.backgroundTokenizationState===2){const t=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:t}){const s=t.map(l=>new WP(jn(l.fromLineNumber-1,0),jn(l.toLineNumber,0),jn(l.toLineNumber-l.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(s,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(t){const s=t.changes.map(l=>{const u=$.lift(l.range);return new WP(K8(u.getStartPosition()),K8(u.getEndPosition()),C1e(l.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(s,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(s,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(t,s,l){const u=s,h=new OH(this.textModel,this.brackets);return Qy(h,t,u,l)}getBracketsInRange(t){const s=jn(t.startLineNumber-1,t.startColumn-1),l=jn(t.endLineNumber-1,t.endColumn-1),u=new Array,h=this.initialAstWithoutTokens||this.astWithTokens;return Yy(h,_0,h.length,s,l,u),u}getBracketPairsInRange(t,s){const l=new Array,u=K8(t.getStartPosition()),h=K8(t.getEndPosition()),f=this.initialAstWithoutTokens||this.astWithTokens,m=new M1e(l,s,this.textModel);return WH(f,_0,f.length,u,h,m),l}}function Yy(d,t,s,l,u,h,f=0){if(d.kind===4)for(const m of d.children)s=hs(t,m.length),pd(t,u)&&$8(s,l)&&Yy(m,t,s,l,u,h,f),t=s;else if(d.kind===2){f++;{const m=d.openingBracket;if(s=hs(t,m.length),pd(t,u)&&$8(s,l)){const A=Ad(t,s);h.push(new Y8(A,f-1,!d.closingBracket))}t=s}if(d.child){const m=d.child;s=hs(t,m.length),pd(t,u)&&$8(s,l)&&Yy(m,t,s,l,u,h,f),t=s}if(d.closingBracket){const m=d.closingBracket;if(s=hs(t,m.length),pd(t,u)&&$8(s,l)){const A=Ad(t,s);h.push(new Y8(A,f-1,!1))}t=s}}else if(d.kind===3){const m=Ad(t,s);h.push(new Y8(m,f-1,!0))}else if(d.kind===1){const m=Ad(t,s);h.push(new Y8(m,f-1,!1))}}class M1e{constructor(t,s,l){this.result=t,this.includeMinIndentation=s,this.textModel=l}}function WH(d,t,s,l,u,h,f=0){var m;if(d.kind===2){const C=hs(t,d.openingBracket.length);let w=-1;h.includeMinIndentation&&(w=d.computeMinIndentation(t,h.textModel)),h.result.push(new g1e(Ad(t,s),Ad(t,C),d.closingBracket?Ad(hs(C,((m=d.child)===null||m===void 0?void 0:m.length)||_0),s):void 0,f,w)),f++}let A=t;for(const C of d.children){const w=A;A=hs(A,C.length),pd(w,u)&&pd(l,A)&&WH(C,w,A,l,u,h,f)}}class P1e extends Se{constructor(t,s){super(),this.textModel=t,this.languageConfigurationService=s,this.bracketPairsTree=this._register(new Yr),this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(l=>{var u;(!l.languageId||((u=this.bracketPairsTree.value)===null||u===void 0?void 0:u.object.didLanguageChange(l.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(t){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(t){var s;(s=this.bracketPairsTree.value)===null||s===void 0||s.object.handleContentChanged(t)}handleDidChangeBackgroundTokenizationState(){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(t){var s;(s=this.bracketPairsTree.value)===null||s===void 0||s.object.handleDidChangeTokens(t)}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const t=new je;this.bracketPairsTree.value=O1e(t.add(new R1e(this.textModel,s=>this.languageConfigurationService.getLanguageConfiguration(s))),t),t.add(this.bracketPairsTree.value.object.onDidChange(s=>this.onDidChangeEmitter.fire(s))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(t){var s;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.getBracketPairsInRange(t,!1))||[]}getBracketPairsInRangeWithMinIndentation(t){var s;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.getBracketPairsInRange(t,!0))||[]}getBracketsInRange(t){var s;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.getBracketsInRange(t))||[]}findMatchingBracketUp(t,s,l){const u=t.toLowerCase(),h=this.textModel.validatePosition(s),f=this.textModel.getLanguageIdAtPosition(h.lineNumber,h.column),m=this.languageConfigurationService.getLanguageConfiguration(f).brackets;if(!m)return null;const A=m.textIsBracket[u];return A?X8(this._findMatchingBracketUp(A,h,Fb(l))):null}matchBracket(t,s){const l=Fb(s);return this._matchBracket(this.textModel.validatePosition(t),l)}_establishBracketSearchOffsets(t,s,l,u){const h=s.getCount(),f=s.getLanguageId(u);let m=Math.max(0,t.column-1-l.maxBracketLength);for(let C=u-1;C>=0;C--){const w=s.getEndOffset(C);if(w<=m)break;if(W2(s.getStandardTokenType(C))||s.getLanguageId(C)!==f){m=w;break}}let A=Math.min(s.getLineContent().length,t.column-1+l.maxBracketLength);for(let C=u+1;C<h;C++){const w=s.getStartOffset(C);if(w>=A)break;if(W2(s.getStandardTokenType(C))||s.getLanguageId(C)!==f){A=w;break}}return{searchStartOffset:m,searchEndOffset:A}}_matchBracket(t,s){const l=t.lineNumber,u=this.textModel.getLineTokens(l),h=this.textModel.getLineContent(l),f=u.findTokenIndexAtOffset(t.column-1);if(f<0)return null;const m=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(f)).brackets;if(m&&!W2(u.getStandardTokenType(f))){let{searchStartOffset:A,searchEndOffset:C}=this._establishBracketSearchOffsets(t,u,m,f),w=null;for(;;){const k=aa.findNextBracketInRange(m.forwardRegex,l,h,A,C);if(!k)break;if(k.startColumn<=t.column&&t.column<=k.endColumn){const D=h.substring(k.startColumn-1,k.endColumn-1).toLowerCase(),I=this._matchFoundBracket(k,m.textIsBracket[D],m.textIsOpenBracket[D],s);if(I){if(I instanceof lc)return null;w=I}}A=k.endColumn-1}if(w)return w}if(f>0&&u.getStartOffset(f)===t.column-1){const A=f-1,C=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(A)).brackets;if(C&&!W2(u.getStandardTokenType(A))){const{searchStartOffset:w,searchEndOffset:k}=this._establishBracketSearchOffsets(t,u,C,A),D=aa.findPrevBracketInRange(C.reversedRegex,l,h,w,k);if(D&&D.startColumn<=t.column&&t.column<=D.endColumn){const I=h.substring(D.startColumn-1,D.endColumn-1).toLowerCase(),N=this._matchFoundBracket(D,C.textIsBracket[I],C.textIsOpenBracket[I],s);if(N)return N instanceof lc?null:N}}}return null}_matchFoundBracket(t,s,l,u){if(!s)return null;const h=l?this._findMatchingBracketDown(s,t.getEndPosition(),u):this._findMatchingBracketUp(s,t.getStartPosition(),u);return h?h instanceof lc?h:[t,h]:null}_findMatchingBracketUp(t,s,l){const u=t.languageId,h=t.reversedRegex;let f=-1,m=0;const A=(C,w,k,D)=>{for(;;){if(l&&++m%100===0&&!l())return lc.INSTANCE;const I=aa.findPrevBracketInRange(h,C,w,k,D);if(!I)break;const N=w.substring(I.startColumn-1,I.endColumn-1).toLowerCase();if(t.isOpen(N)?f++:t.isClose(N)&&f--,f===0)return I;D=I.startColumn-1}return null};for(let C=s.lineNumber;C>=1;C--){const w=this.textModel.getLineTokens(C),k=w.getCount(),D=this.textModel.getLineContent(C);let I=k-1,N=D.length,R=D.length;C===s.lineNumber&&(I=w.findTokenIndexAtOffset(s.column-1),N=s.column-1,R=s.column-1);let O=!0;for(;I>=0;I--){const W=w.getLanguageId(I)===u&&!W2(w.getStandardTokenType(I));if(W)O?N=w.getStartOffset(I):(N=w.getStartOffset(I),R=w.getEndOffset(I));else if(O&&N!==R){const B=A(C,D,N,R);if(B)return B}O=W}if(O&&N!==R){const W=A(C,D,N,R);if(W)return W}}return null}_findMatchingBracketDown(t,s,l){const u=t.languageId,h=t.forwardRegex;let f=1,m=0;const A=(w,k,D,I)=>{for(;;){if(l&&++m%100===0&&!l())return lc.INSTANCE;const N=aa.findNextBracketInRange(h,w,k,D,I);if(!N)break;const R=k.substring(N.startColumn-1,N.endColumn-1).toLowerCase();if(t.isOpen(R)?f++:t.isClose(R)&&f--,f===0)return N;D=N.endColumn-1}return null},C=this.textModel.getLineCount();for(let w=s.lineNumber;w<=C;w++){const k=this.textModel.getLineTokens(w),D=k.getCount(),I=this.textModel.getLineContent(w);let N=0,R=0,O=0;w===s.lineNumber&&(N=k.findTokenIndexAtOffset(s.column-1),R=s.column-1,O=s.column-1);let W=!0;for(;N<D;N++){const B=k.getLanguageId(N)===u&&!W2(k.getStandardTokenType(N));if(B)W||(R=k.getStartOffset(N)),O=k.getEndOffset(N);else if(W&&R!==O){const z=A(w,I,R,O);if(z)return z}W=B}if(W&&R!==O){const B=A(w,I,R,O);if(B)return B}}return null}findPrevBracket(t){const s=this.textModel.validatePosition(t);let l=null,u=null;for(let h=s.lineNumber;h>=1;h--){const f=this.textModel.getLineTokens(h),m=f.getCount(),A=this.textModel.getLineContent(h);let C=m-1,w=A.length,k=A.length;if(h===s.lineNumber){C=f.findTokenIndexAtOffset(s.column-1),w=s.column-1,k=s.column-1;const I=f.getLanguageId(C);l!==I&&(l=I,u=this.languageConfigurationService.getLanguageConfiguration(l).brackets)}let D=!0;for(;C>=0;C--){const I=f.getLanguageId(C);if(l!==I){if(u&&D&&w!==k){const R=aa.findPrevBracketInRange(u.reversedRegex,h,A,w,k);if(R)return this._toFoundBracket(u,R);D=!1}l=I,u=this.languageConfigurationService.getLanguageConfiguration(l).brackets}const N=!!u&&!W2(f.getStandardTokenType(C));if(N)D?w=f.getStartOffset(C):(w=f.getStartOffset(C),k=f.getEndOffset(C));else if(u&&D&&w!==k){const R=aa.findPrevBracketInRange(u.reversedRegex,h,A,w,k);if(R)return this._toFoundBracket(u,R)}D=N}if(u&&D&&w!==k){const I=aa.findPrevBracketInRange(u.reversedRegex,h,A,w,k);if(I)return this._toFoundBracket(u,I)}}return null}findNextBracket(t){const s=this.textModel.validatePosition(t),l=this.textModel.getLineCount();let u=null,h=null;for(let f=s.lineNumber;f<=l;f++){const m=this.textModel.getLineTokens(f),A=m.getCount(),C=this.textModel.getLineContent(f);let w=0,k=0,D=0;if(f===s.lineNumber){w=m.findTokenIndexAtOffset(s.column-1),k=s.column-1,D=s.column-1;const N=m.getLanguageId(w);u!==N&&(u=N,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets)}let I=!0;for(;w<A;w++){const N=m.getLanguageId(w);if(u!==N){if(h&&I&&k!==D){const O=aa.findNextBracketInRange(h.forwardRegex,f,C,k,D);if(O)return this._toFoundBracket(h,O);I=!1}u=N,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets}const R=!!h&&!W2(m.getStandardTokenType(w));if(R)I||(k=m.getStartOffset(w)),D=m.getEndOffset(w);else if(h&&I&&k!==D){const O=aa.findNextBracketInRange(h.forwardRegex,f,C,k,D);if(O)return this._toFoundBracket(h,O)}I=R}if(h&&I&&k!==D){const N=aa.findNextBracketInRange(h.forwardRegex,f,C,k,D);if(N)return this._toFoundBracket(h,N)}}return null}findEnclosingBrackets(t,s){const l=Fb(s),u=this.textModel.validatePosition(t),h=this.textModel.getLineCount(),f=new Map;let m=[];const A=(I,N)=>{if(!f.has(I)){const R=[];for(let O=0,W=N?N.brackets.length:0;O<W;O++)R[O]=0;f.set(I,R)}m=f.get(I)};let C=0;const w=(I,N,R,O,W)=>{for(;;){if(l&&++C%100===0&&!l())return lc.INSTANCE;const B=aa.findNextBracketInRange(I.forwardRegex,N,R,O,W);if(!B)break;const z=R.substring(B.startColumn-1,B.endColumn-1).toLowerCase(),G=I.textIsBracket[z];if(G&&(G.isOpen(z)?m[G.index]++:G.isClose(z)&&m[G.index]--,m[G.index]===-1))return this._matchFoundBracket(B,G,!1,l);O=B.endColumn-1}return null};let k=null,D=null;for(let I=u.lineNumber;I<=h;I++){const N=this.textModel.getLineTokens(I),R=N.getCount(),O=this.textModel.getLineContent(I);let W=0,B=0,z=0;if(I===u.lineNumber){W=N.findTokenIndexAtOffset(u.column-1),B=u.column-1,z=u.column-1;const K=N.getLanguageId(W);k!==K&&(k=K,D=this.languageConfigurationService.getLanguageConfiguration(k).brackets,A(k,D))}let G=!0;for(;W<R;W++){const K=N.getLanguageId(W);if(k!==K){if(D&&G&&B!==z){const Y=w(D,I,O,B,z);if(Y)return X8(Y);G=!1}k=K,D=this.languageConfigurationService.getLanguageConfiguration(k).brackets,A(k,D)}const q=!!D&&!W2(N.getStandardTokenType(W));if(q)G||(B=N.getStartOffset(W)),z=N.getEndOffset(W);else if(D&&G&&B!==z){const Y=w(D,I,O,B,z);if(Y)return X8(Y)}G=q}if(D&&G&&B!==z){const K=w(D,I,O,B,z);if(K)return X8(K)}}return null}_toFoundBracket(t,s){if(!s)return null;let l=this.textModel.getValueInRange(s);l=l.toLowerCase();const u=t.textIsBracket[l];return u?{range:s,open:u.open,close:u.close,isOpen:t.textIsOpenBracket[l]}:null}}function O1e(d,t){return{object:d,dispose:()=>t?.dispose()}}function Fb(d){if(typeof d>"u")return()=>!0;{const t=Date.now();return()=>Date.now()-t<=d}}class lc{constructor(){this._searchCanceledBrand=void 0}}lc.INSTANCE=new lc;function X8(d){return d instanceof lc?null:d}class F1e extends Se{constructor(t){super(),this.textModel=t,this.colorProvider=new VH,this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=t.getOptions().bracketPairColorizationOptions,this._register(t.bracketPairs.onDidChange(s=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(t){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(t,s,l){if(s===void 0)return[];if(!this.colorizationOptions.enabled)return[];const u=new Array,h=this.textModel.bracketPairs.getBracketsInRange(t);for(const f of h)u.push({id:`bracket${f.range.toString()}-${f.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(f)},ownerId:0,range:f.range});return u}getAllDecorations(t,s){return t===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new $(1,1,this.textModel.getLineCount(),1),t,s):[]}}class VH{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(t){return t.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t.nestingLevel)}getInlineClassNameOfLevel(t){return`bracket-highlighting-${t%30}`}}rn((d,t)=>{const s=[gH,mH,pH,AH,_H,CH],l=new VH;t.addRule(`.monaco-editor .${l.unexpectedClosingBracketClassName} { color: ${d.getColor(lde)}; }`);const u=s.map(h=>d.getColor(h)).filter(h=>!!h).filter(h=>!h.isTransparent());for(let h=0;h<30;h++){const f=u[h%u.length];t.addRule(`.monaco-editor .${l.getInlineClassNameOfLevel(h)} { color: ${f}; }`)}});function J8(d){return d.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Ks{constructor(t,s,l,u){this.oldPosition=t,this.oldText=s,this.newPosition=l,this.newText=u}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${J8(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${J8(this.oldText)}")`:`(replace@${this.oldPosition} "${J8(this.oldText)}" with "${J8(this.newText)}")`}static _writeStringSize(t){return 4+2*t.length}static _writeString(t,s,l){const u=s.length;Va(t,u,l),l+=4;for(let h=0;h<u;h++)e2e(t,s.charCodeAt(h),l),l+=2;return l}static _readString(t,s){const l=Wa(t,s);return s+=4,dy(t,s,l)}writeSize(){return 4+4+Ks._writeStringSize(this.oldText)+Ks._writeStringSize(this.newText)}write(t,s){return Va(t,this.oldPosition,s),s+=4,Va(t,this.newPosition,s),s+=4,s=Ks._writeString(t,this.oldText,s),s=Ks._writeString(t,this.newText,s),s}static read(t,s,l){const u=Wa(t,s);s+=4;const h=Wa(t,s);s+=4;const f=Ks._readString(t,s);s+=Ks._writeStringSize(f);const m=Ks._readString(t,s);return s+=Ks._writeStringSize(m),l.push(new Ks(u,f,h,m)),s}}function B1e(d,t){return d===null||d.length===0?t:new U2(d,t).compress()}class U2{constructor(t,s){this._prevEdits=t,this._currEdits=s,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let t=0,s=0,l=this._getPrev(t),u=this._getCurr(s);for(;t<this._prevLen||s<this._currLen;){if(l===null){this._acceptCurr(u),u=this._getCurr(++s);continue}if(u===null){this._acceptPrev(l),l=this._getPrev(++t);continue}if(u.oldEnd<=l.newPosition){this._acceptCurr(u),u=this._getCurr(++s);continue}if(l.newEnd<=u.oldPosition){this._acceptPrev(l),l=this._getPrev(++t);continue}if(u.oldPosition<l.newPosition){const[C,w]=U2._splitCurr(u,l.newPosition-u.oldPosition);this._acceptCurr(C),u=w;continue}if(l.newPosition<u.oldPosition){const[C,w]=U2._splitPrev(l,u.oldPosition-l.newPosition);this._acceptPrev(C),l=w;continue}let m,A;if(u.oldEnd===l.newEnd)m=l,A=u,l=this._getPrev(++t),u=this._getCurr(++s);else if(u.oldEnd<l.newEnd){const[C,w]=U2._splitPrev(l,u.oldLength);m=C,A=u,l=w,u=this._getCurr(++s)}else{const[C,w]=U2._splitCurr(u,l.newLength);m=l,A=C,l=this._getPrev(++t),u=w}this._result[this._resultLen++]=new Ks(m.oldPosition,m.oldText,A.newPosition,A.newText),this._prevDeltaOffset+=m.newLength-m.oldLength,this._currDeltaOffset+=A.newLength-A.oldLength}const h=U2._merge(this._result);return U2._removeNoOps(h)}_acceptCurr(t){this._result[this._resultLen++]=U2._rebaseCurr(this._prevDeltaOffset,t),this._currDeltaOffset+=t.newLength-t.oldLength}_getCurr(t){return t<this._currLen?this._currEdits[t]:null}_acceptPrev(t){this._result[this._resultLen++]=U2._rebasePrev(this._currDeltaOffset,t),this._prevDeltaOffset+=t.newLength-t.oldLength}_getPrev(t){return t<this._prevLen?this._prevEdits[t]:null}static _rebaseCurr(t,s){return new Ks(s.oldPosition-t,s.oldText,s.newPosition,s.newText)}static _rebasePrev(t,s){return new Ks(s.oldPosition,s.oldText,s.newPosition+t,s.newText)}static _splitPrev(t,s){const l=t.newText.substr(0,s),u=t.newText.substr(s);return[new Ks(t.oldPosition,t.oldText,t.newPosition,l),new Ks(t.oldEnd,"",t.newPosition+s,u)]}static _splitCurr(t,s){const l=t.oldText.substr(0,s),u=t.oldText.substr(s);return[new Ks(t.oldPosition,l,t.newPosition,t.newText),new Ks(t.oldPosition+s,u,t.newEnd,"")]}static _merge(t){if(t.length===0)return t;const s=[];let l=0,u=t[0];for(let h=1;h<t.length;h++){const f=t[h];u.oldEnd===f.oldPosition?u=new Ks(u.oldPosition,u.oldText+f.oldText,u.newPosition,u.newText+f.newText):(s[l++]=u,u=f)}return s[l++]=u,s}static _removeNoOps(t){if(t.length===0)return t;const s=[];let l=0;for(let u=0;u<t.length;u++){const h=t[u];h.oldText!==h.newText&&(s[l++]=h)}return s}}function iu(d){return d===47||d===92}function HH(d){return d.replace(/[\\/]/g,qn.sep)}function W1e(d){return d.indexOf("/")===-1&&(d=HH(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}function UP(d,t=qn.sep){if(!d)return"";const s=d.length,l=d.charCodeAt(0);if(iu(l)){if(iu(d.charCodeAt(1))&&!iu(d.charCodeAt(2))){let h=3;const f=h;for(;h<s&&!iu(d.charCodeAt(h));h++);if(f!==h&&!iu(d.charCodeAt(h+1))){for(h+=1;h<s;h++)if(iu(d.charCodeAt(h)))return d.slice(0,h+1).replace(/[\\/]/g,t)}}return t}else if(UH(l)&&d.charCodeAt(1)===58)return iu(d.charCodeAt(2))?d.slice(0,2)+t:d.slice(0,2);let u=d.indexOf("://");if(u!==-1){for(u+=3;u<s;u++)if(iu(d.charCodeAt(u)))return d.slice(0,u+1)}return""}function $y(d,t,s,l=a0){if(d===t)return!0;if(!d||!t||t.length>d.length)return!1;if(s){if(!KD(d,t))return!1;if(t.length===d.length)return!0;let h=t.length;return t.charAt(t.length-1)===l&&h--,d.charAt(h)===l}return t.charAt(t.length-1)!==l&&(t+=l),d.indexOf(t)===0}function UH(d){return d>=65&&d<=90||d>=97&&d<=122}function V1e(d){const t=jD(d);return Gs?d.length>3?!1:zH(t)&&(d.length===2||t.charCodeAt(2)===92):t===qn.sep}function zH(d,t){return(t!==void 0?t:Gs)?UH(d.charCodeAt(0))&&d.charCodeAt(1)===58:!1}function V2(d){return U3(d,!0)}class ix{constructor(t){this._ignorePathCasing=t}compare(t,s,l=!1){return t===s?0:jA(this.getComparisonKey(t,l),this.getComparisonKey(s,l))}isEqual(t,s,l=!1){return t===s?!0:!t||!s?!1:this.getComparisonKey(t,l)===this.getComparisonKey(s,l)}getComparisonKey(t,s=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:s?null:void 0}).toString()}isEqualOrParent(t,s,l=!1){if(t.scheme===s.scheme){if(t.scheme===zt.file)return $y(V2(t),V2(s),this._ignorePathCasing(t))&&t.query===s.query&&(l||t.fragment===s.fragment);if(GP(t.authority,s.authority))return $y(t.path,s.path,this._ignorePathCasing(t),"/")&&t.query===s.query&&(l||t.fragment===s.fragment)}return!1}joinPath(t,...s){return Lt.joinPath(t,...s)}basenameOrAuthority(t){return Ul(t)||t.authority}basename(t){return qn.basename(t.path)}extname(t){return qn.extname(t.path)}dirname(t){if(t.path.length===0)return t;let s;return t.scheme===zt.file?s=Lt.file(DW(V2(t))).path:(s=qn.dirname(t.path),t.authority&&s.length&&s.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),s="/")),t.with({path:s})}normalizePath(t){if(!t.path.length)return t;let s;return t.scheme===zt.file?s=Lt.file(jD(V2(t))).path:s=qn.normalize(t.path),t.with({path:s})}relativePath(t,s){if(t.scheme!==s.scheme||!GP(t.authority,s.authority))return;if(t.scheme===zt.file){const h=rae(V2(t),V2(s));return Gs?HH(h):h}let l=t.path||"/",u=s.path||"/";if(this._ignorePathCasing(t)){let h=0;for(const f=Math.min(l.length,u.length);h<f&&!(l.charCodeAt(h)!==u.charCodeAt(h)&&l.charAt(h).toLowerCase()!==u.charAt(h).toLowerCase());h++);l=u.substr(0,h)+l.substr(h)}return qn.relative(l,u)}resolvePath(t,s){if(t.scheme===zt.file){const l=Lt.file(sae(V2(t),s));return t.with({authority:l.authority,path:l.path})}return s=W1e(s),t.with({path:qn.resolve(t.path,s)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,s){return t===s||t!==void 0&&s!==void 0&&Z1(t,s)}hasTrailingPathSeparator(t,s=a0){if(t.scheme===zt.file){const l=V2(t);return l.length>UP(l).length&&l[l.length-1]===s}else{const l=t.path;return l.length>1&&l.charCodeAt(l.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,s=a0){return jP(t,s)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,s=a0){let l=!1;if(t.scheme===zt.file){const u=V2(t);l=u!==void 0&&u.length===UP(u).length&&u[u.length-1]===s}else{s="/";const u=t.path;l=u.length===1&&u.charCodeAt(u.length-1)===47}return!l&&!jP(t,s)?t.with({path:t.path+"/"}):t}}const sn=new ix(()=>!1);new ix(d=>d.scheme===zt.file?!Cr:!0);new ix(d=>!0);const GH=sn.isEqual.bind(sn);sn.isEqualOrParent.bind(sn);sn.getComparisonKey.bind(sn);const H1e=sn.basenameOrAuthority.bind(sn),Ul=sn.basename.bind(sn),U1e=sn.extname.bind(sn),sv=sn.dirname.bind(sn),z1e=sn.joinPath.bind(sn),G1e=sn.normalizePath.bind(sn);sn.relativePath.bind(sn);const zP=sn.resolvePath.bind(sn);sn.isAbsolutePath.bind(sn);const GP=sn.isEqualAuthority.bind(sn),jP=sn.hasTrailingPathSeparator.bind(sn);sn.removeTrailingPathSeparator.bind(sn);sn.addTrailingPathSeparator.bind(sn);var Ku;(function(d){d.META_DATA_LABEL="label",d.META_DATA_DESCRIPTION="description",d.META_DATA_SIZE="size",d.META_DATA_MIME="mime";function t(s){const l=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(f=>{const[m,A]=f.split(":");m&&A&&l.set(m,A)});const h=s.path.substring(0,s.path.indexOf(";"));return h&&l.set(d.META_DATA_MIME,h),l}d.parseMetaData=t})(Ku||(Ku={}));function L1(d){return d.toString()}class Es{constructor(t,s,l,u,h,f,m){this.beforeVersionId=t,this.afterVersionId=s,this.beforeEOL=l,this.afterEOL=u,this.beforeCursorState=h,this.afterCursorState=f,this.changes=m}static create(t,s){const l=t.getAlternativeVersionId(),u=Ky(t);return new Es(l,l,u,u,s,s,[])}append(t,s,l,u,h){s.length>0&&(this.changes=B1e(this.changes,s)),this.afterEOL=l,this.afterVersionId=u,this.afterCursorState=h}static _writeSelectionsSize(t){return 4+4*4*(t?t.length:0)}static _writeSelections(t,s,l){if(Va(t,s?s.length:0,l),l+=4,s)for(const u of s)Va(t,u.selectionStartLineNumber,l),l+=4,Va(t,u.selectionStartColumn,l),l+=4,Va(t,u.positionLineNumber,l),l+=4,Va(t,u.positionColumn,l),l+=4;return l}static _readSelections(t,s,l){const u=Wa(t,s);s+=4;for(let h=0;h<u;h++){const f=Wa(t,s);s+=4;const m=Wa(t,s);s+=4;const A=Wa(t,s);s+=4;const C=Wa(t,s);s+=4,l.push(new et(f,m,A,C))}return s}serialize(){let t=10+Es._writeSelectionsSize(this.beforeCursorState)+Es._writeSelectionsSize(this.afterCursorState)+4;for(const u of this.changes)t+=u.writeSize();const s=new Uint8Array(t);let l=0;Va(s,this.beforeVersionId,l),l+=4,Va(s,this.afterVersionId,l),l+=4,bM(s,this.beforeEOL,l),l+=1,bM(s,this.afterEOL,l),l+=1,l=Es._writeSelections(s,this.beforeCursorState,l),l=Es._writeSelections(s,this.afterCursorState,l),Va(s,this.changes.length,l),l+=4;for(const u of this.changes)l=u.write(s,l);return s.buffer}static deserialize(t){const s=new Uint8Array(t);let l=0;const u=Wa(s,l);l+=4;const h=Wa(s,l);l+=4;const f=kM(s,l);l+=1;const m=kM(s,l);l+=1;const A=[];l=Es._readSelections(s,l,A);const C=[];l=Es._readSelections(s,l,C);const w=Wa(s,l);l+=4;const k=[];for(let D=0;D<w;D++)l=Ks.read(s,l,k);return new Es(u,h,f,m,A,C,k)}}class jH{constructor(t,s){this.model=t,this._data=Es.create(t,s)}get type(){return 0}get resource(){return Lt.isUri(this.model)?this.model:this.model.uri}get label(){return E("edit","Typing")}toString(){return(this._data instanceof Es?this._data:Es.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(t){return(Lt.isUri(this.model)?this.model:this.model.uri).toString()===t.toString()}setModel(t){this.model=t}canAppend(t){return this.model===t&&this._data instanceof Es}append(t,s,l,u,h){this._data instanceof Es&&this._data.append(t,s,l,u,h)}close(){this._data instanceof Es&&(this._data=this._data.serialize())}open(){this._data instanceof Es||(this._data=Es.deserialize(this._data))}undo(){if(Lt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Es&&(this._data=this._data.serialize());const t=Es.deserialize(this._data);this.model._applyUndo(t.changes,t.beforeEOL,t.beforeVersionId,t.beforeCursorState)}redo(){if(Lt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Es&&(this._data=this._data.serialize());const t=Es.deserialize(this._data);this.model._applyRedo(t.changes,t.afterEOL,t.afterVersionId,t.afterCursorState)}heapSize(){return this._data instanceof Es&&(this._data=this._data.serialize()),this._data.byteLength+168}}class j1e{constructor(t,s){this.type=1,this.label=t,this._isOpen=!0,this._editStackElementsArr=s.slice(0),this._editStackElementsMap=new Map;for(const l of this._editStackElementsArr){const u=L1(l.resource);this._editStackElementsMap.set(u,l)}this._delegate=null}get resources(){return this._editStackElementsArr.map(t=>t.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(t){const s=L1(t);return this._editStackElementsMap.has(s)}setModel(t){const s=L1(Lt.isUri(t)?t:t.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(t)}canAppend(t){if(!this._isOpen)return!1;const s=L1(t.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(t):!1}append(t,s,l,u,h){const f=L1(t.uri);this._editStackElementsMap.get(f).append(t,s,l,u,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const t of this._editStackElementsArr)t.undo()}redo(){for(const t of this._editStackElementsArr)t.redo()}heapSize(t){const s=L1(t);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){let t=[];for(const s of this._editStackElementsArr)t.push(`${Ul(s.resource)}: ${s}`);return`{${t.join(", ")}}`}}function Ky(d){return d.getEOL()===`
`?0:1}function ac(d){return d?d instanceof jH||d instanceof j1e:!1}class nx{constructor(t,s){this._model=t,this._undoRedoService=s}pushStackElement(){const t=this._undoRedoService.getLastElement(this._model.uri);ac(t)&&t.close()}popStackElement(){const t=this._undoRedoService.getLastElement(this._model.uri);ac(t)&&t.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(t){const s=this._undoRedoService.getLastElement(this._model.uri);if(ac(s)&&s.canAppend(this._model))return s;const l=new jH(this._model,t);return this._undoRedoService.pushElement(l),l}pushEOL(t){const s=this._getOrCreateEditStackElement(null);this._model.setEOL(t),s.append(this._model,[],Ky(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(t,s,l){const u=this._getOrCreateEditStackElement(t),h=this._model.applyEdits(s,!0),f=nx._computeCursorState(l,h),m=h.map((A,C)=>({index:C,textChange:A.textChange}));return m.sort((A,C)=>A.textChange.oldPosition===C.textChange.oldPosition?A.index-C.index:A.textChange.oldPosition-C.textChange.oldPosition),u.append(this._model,m.map(A=>A.textChange),Ky(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(t,s){try{return t?t(s):null}catch(l){return Bt(l),null}}}class Z1e{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Q1e(d,t,s,l,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let h;for(h=0;h<t&&h<l;h++){const D=d.charCodeAt(h),I=s.charCodeAt(h);if(D!==I)break}let f=0,m=0;for(let D=h;D<t;D++)d.charCodeAt(D)===32?f++:m++;let A=0,C=0;for(let D=h;D<l;D++)s.charCodeAt(D)===32?A++:C++;if(f>0&&m>0||A>0&&C>0)return;const w=Math.abs(m-C),k=Math.abs(f-A);if(w===0){u.spacesDiff=k,k>0&&0<=A-1&&A-1<d.length&&A<s.length&&s.charCodeAt(A)!==32&&d.charCodeAt(A-1)===32&&d.charCodeAt(d.length-1)===44&&(u.looksLikeAlignment=!0);return}if(k%w===0){u.spacesDiff=k/w;return}}function ZP(d,t,s){const l=Math.min(d.getLineCount(),1e4);let u=0,h=0,f="",m=0;const A=[2,4,6,8,3,5,7],C=8,w=[0,0,0,0,0,0,0,0,0],k=new Z1e;for(let N=1;N<=l;N++){const R=d.getLineLength(N),O=d.getLineContent(N),W=R<=65536;let B=!1,z=0,G=0,K=0;for(let Y=0,J=R;Y<J;Y++){const ne=W?O.charCodeAt(Y):d.getLineCharCode(N,Y);if(ne===9)K++;else if(ne===32)G++;else{B=!0,z=Y;break}}if(!B||(K>0?u++:G>1&&h++,Q1e(f,m,O,z,k),k.looksLikeAlignment&&!(s&&t===k.spacesDiff)))continue;const q=k.spacesDiff;q<=C&&w[q]++,f=O,m=z}let D=s;u!==h&&(D=u<h);let I=t;if(D){let N=D?0:.1*l;A.forEach(R=>{const O=w[R];O>N&&(N=O,I=R)}),I===4&&w[4]>0&&w[2]>0&&w[2]>=w[4]/2&&(I=2)}return{insertSpaces:D,tabSize:I}}function so(d){return(d.metadata&1)>>>0}function qi(d,t){d.metadata=d.metadata&254|t<<0}function er(d){return(d.metadata&2)>>>1===1}function Xi(d,t){d.metadata=d.metadata&253|(t?1:0)<<1}function ZH(d){return(d.metadata&4)>>>2===1}function QP(d,t){d.metadata=d.metadata&251|(t?1:0)<<2}function Y1e(d){return(d.metadata&24)>>>3}function YP(d,t){d.metadata=d.metadata&231|t<<3}function $1e(d){return(d.metadata&32)>>>5===1}function $P(d,t){d.metadata=d.metadata&223|(t?1:0)<<5}class QH{constructor(t,s,l){this.metadata=0,this.parent=this,this.left=this,this.right=this,qi(this,1),this.start=s,this.end=l,this.delta=0,this.maxEnd=l,this.id=t,this.ownerId=0,this.options=null,QP(this,!1),YP(this,1),$P(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=s,this.cachedAbsoluteEnd=l,this.range=null,Xi(this,!1)}reset(t,s,l,u){this.start=s,this.end=l,this.maxEnd=l,this.cachedVersionId=t,this.cachedAbsoluteStart=s,this.cachedAbsoluteEnd=l,this.range=u}setOptions(t){this.options=t;const s=this.options.className;QP(this,s==="squiggly-error"||s==="squiggly-warning"||s==="squiggly-info"),YP(this,this.options.stickiness),$P(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(t,s,l){this.cachedVersionId!==l&&(this.range=null),this.cachedVersionId=l,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=s}detach(){this.parent=null,this.left=null,this.right=null}}const Gt=new QH(null,0,0);Gt.parent=Gt;Gt.left=Gt;Gt.right=Gt;qi(Gt,0);class Bb{constructor(){this.root=Gt,this.requestNormalizeDelta=!1}intervalSearch(t,s,l,u,h){return this.root===Gt?[]:nge(this,t,s,l,u,h)}search(t,s,l){return this.root===Gt?[]:ige(this,t,s,l)}collectNodesFromOwner(t){return ege(this,t)}collectNodesPostOrder(){return tge(this)}insert(t){KP(this,t),this._normalizeDeltaIfNecessary()}delete(t){XP(this,t),this._normalizeDeltaIfNecessary()}resolveNode(t,s){const l=t;let u=0;for(;t!==this.root;)t===t.parent.right&&(u+=t.parent.delta),t=t.parent;const h=l.start+u,f=l.end+u;l.setCachedOffsets(h,f,s)}acceptReplace(t,s,l,u){const h=J1e(this,t,t+s);for(let f=0,m=h.length;f<m;f++){const A=h[f];XP(this,A)}this._normalizeDeltaIfNecessary(),q1e(this,t,t+s,l),this._normalizeDeltaIfNecessary();for(let f=0,m=h.length;f<m;f++){const A=h[f];A.start=A.cachedAbsoluteStart,A.end=A.cachedAbsoluteEnd,X1e(A,t,t+s,l,u),A.maxEnd=A.end,KP(this,A)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,K1e(this))}}function K1e(d){let t=d.root,s=0;for(;t!==Gt;){if(t.left!==Gt&&!er(t.left)){t=t.left;continue}if(t.right!==Gt&&!er(t.right)){s+=t.delta,t=t.right;continue}t.start=s+t.start,t.end=s+t.end,t.delta=0,Xu(t),Xi(t,!0),Xi(t.left,!1),Xi(t.right,!1),t===t.parent.right&&(s-=t.parent.delta),t=t.parent}Xi(d.root,!1)}function D1(d,t,s,l){return d<s?!0:d>s||l===1?!1:l===2?!0:t}function X1e(d,t,s,l,u){const h=Y1e(d),f=h===0||h===2,m=h===1||h===2,A=s-t,C=l,w=Math.min(A,C),k=d.start;let D=!1;const I=d.end;let N=!1;t<=k&&I<=s&&$1e(d)&&(d.start=t,D=!0,d.end=t,N=!0);{const O=u?1:A>0?2:0;!D&&D1(k,f,t,O)&&(D=!0),!N&&D1(I,m,t,O)&&(N=!0)}if(w>0&&!u){const O=A>C?2:0;!D&&D1(k,f,t+w,O)&&(D=!0),!N&&D1(I,m,t+w,O)&&(N=!0)}{const O=u?1:0;!D&&D1(k,f,s,O)&&(d.start=t+C,D=!0),!N&&D1(I,m,s,O)&&(d.end=t+C,N=!0)}const R=C-A;D||(d.start=Math.max(0,k+R)),N||(d.end=Math.max(0,I+R)),d.start>d.end&&(d.end=d.start)}function J1e(d,t,s){let l=d.root,u=0,h=0,f=0,m=0;const A=[];let C=0;for(;l!==Gt;){if(er(l)){Xi(l.left,!1),Xi(l.right,!1),l===l.parent.right&&(u-=l.parent.delta),l=l.parent;continue}if(!er(l.left)){if(h=u+l.maxEnd,h<t){Xi(l,!0);continue}if(l.left!==Gt){l=l.left;continue}}if(f=u+l.start,f>s){Xi(l,!0);continue}if(m=u+l.end,m>=t&&(l.setCachedOffsets(f,m,0),A[C++]=l),Xi(l,!0),l.right!==Gt&&!er(l.right)){u+=l.delta,l=l.right;continue}}return Xi(d.root,!1),A}function q1e(d,t,s,l){let u=d.root,h=0,f=0,m=0;const A=l-(s-t);for(;u!==Gt;){if(er(u)){Xi(u.left,!1),Xi(u.right,!1),u===u.parent.right&&(h-=u.parent.delta),Xu(u),u=u.parent;continue}if(!er(u.left)){if(f=h+u.maxEnd,f<t){Xi(u,!0);continue}if(u.left!==Gt){u=u.left;continue}}if(m=h+u.start,m>s){u.start+=A,u.end+=A,u.delta+=A,(u.delta<-1073741824||u.delta>1073741824)&&(d.requestNormalizeDelta=!0),Xi(u,!0);continue}if(Xi(u,!0),u.right!==Gt&&!er(u.right)){h+=u.delta,u=u.right;continue}}Xi(d.root,!1)}function ege(d,t){let s=d.root;const l=[];let u=0;for(;s!==Gt;){if(er(s)){Xi(s.left,!1),Xi(s.right,!1),s=s.parent;continue}if(s.left!==Gt&&!er(s.left)){s=s.left;continue}if(s.ownerId===t&&(l[u++]=s),Xi(s,!0),s.right!==Gt&&!er(s.right)){s=s.right;continue}}return Xi(d.root,!1),l}function tge(d){let t=d.root;const s=[];let l=0;for(;t!==Gt;){if(er(t)){Xi(t.left,!1),Xi(t.right,!1),t=t.parent;continue}if(t.left!==Gt&&!er(t.left)){t=t.left;continue}if(t.right!==Gt&&!er(t.right)){t=t.right;continue}s[l++]=t,Xi(t,!0)}return Xi(d.root,!1),s}function ige(d,t,s,l){let u=d.root,h=0,f=0,m=0;const A=[];let C=0;for(;u!==Gt;){if(er(u)){Xi(u.left,!1),Xi(u.right,!1),u===u.parent.right&&(h-=u.parent.delta),u=u.parent;continue}if(u.left!==Gt&&!er(u.left)){u=u.left;continue}f=h+u.start,m=h+u.end,u.setCachedOffsets(f,m,l);let w=!0;if(t&&u.ownerId&&u.ownerId!==t&&(w=!1),s&&ZH(u)&&(w=!1),w&&(A[C++]=u),Xi(u,!0),u.right!==Gt&&!er(u.right)){h+=u.delta,u=u.right;continue}}return Xi(d.root,!1),A}function nge(d,t,s,l,u,h){let f=d.root,m=0,A=0,C=0,w=0;const k=[];let D=0;for(;f!==Gt;){if(er(f)){Xi(f.left,!1),Xi(f.right,!1),f===f.parent.right&&(m-=f.parent.delta),f=f.parent;continue}if(!er(f.left)){if(A=m+f.maxEnd,A<t){Xi(f,!0);continue}if(f.left!==Gt){f=f.left;continue}}if(C=m+f.start,C>s){Xi(f,!0);continue}if(w=m+f.end,w>=t){f.setCachedOffsets(C,w,h);let I=!0;l&&f.ownerId&&f.ownerId!==l&&(I=!1),u&&ZH(f)&&(I=!1),I&&(k[D++]=f)}if(Xi(f,!0),f.right!==Gt&&!er(f.right)){m+=f.delta,f=f.right;continue}}return Xi(d.root,!1),k}function KP(d,t){if(d.root===Gt)return t.parent=Gt,t.left=Gt,t.right=Gt,qi(t,0),d.root=t,d.root;sge(d,t),hu(t.parent);let s=t;for(;s!==d.root&&so(s.parent)===1;)if(s.parent===s.parent.parent.left){const l=s.parent.parent.right;so(l)===1?(qi(s.parent,0),qi(l,0),qi(s.parent.parent,1),s=s.parent.parent):(s===s.parent.right&&(s=s.parent,vA(d,s)),qi(s.parent,0),qi(s.parent.parent,1),kA(d,s.parent.parent))}else{const l=s.parent.parent.left;so(l)===1?(qi(s.parent,0),qi(l,0),qi(s.parent.parent,1),s=s.parent.parent):(s===s.parent.left&&(s=s.parent,kA(d,s)),qi(s.parent,0),qi(s.parent.parent,1),vA(d,s.parent.parent))}return qi(d.root,0),t}function sge(d,t){let s=0,l=d.root;const u=t.start,h=t.end;for(;;)if(oge(u,h,l.start+s,l.end+s)<0)if(l.left===Gt){t.start-=s,t.end-=s,t.maxEnd-=s,l.left=t;break}else l=l.left;else if(l.right===Gt){t.start-=s+l.delta,t.end-=s+l.delta,t.maxEnd-=s+l.delta,l.right=t;break}else s+=l.delta,l=l.right;t.parent=l,t.left=Gt,t.right=Gt,qi(t,1)}function XP(d,t){let s,l;if(t.left===Gt?(s=t.right,l=t,s.delta+=t.delta,(s.delta<-1073741824||s.delta>1073741824)&&(d.requestNormalizeDelta=!0),s.start+=t.delta,s.end+=t.delta):t.right===Gt?(s=t.left,l=t):(l=rge(t.right),s=l.right,s.start+=l.delta,s.end+=l.delta,s.delta+=l.delta,(s.delta<-1073741824||s.delta>1073741824)&&(d.requestNormalizeDelta=!0),l.start+=t.delta,l.end+=t.delta,l.delta=t.delta,(l.delta<-1073741824||l.delta>1073741824)&&(d.requestNormalizeDelta=!0)),l===d.root){d.root=s,qi(s,0),t.detach(),Wb(),Xu(s),d.root.parent=Gt;return}const u=so(l)===1;if(l===l.parent.left?l.parent.left=s:l.parent.right=s,l===t?s.parent=l.parent:(l.parent===t?s.parent=l:s.parent=l.parent,l.left=t.left,l.right=t.right,l.parent=t.parent,qi(l,so(t)),t===d.root?d.root=l:t===t.parent.left?t.parent.left=l:t.parent.right=l,l.left!==Gt&&(l.left.parent=l),l.right!==Gt&&(l.right.parent=l)),t.detach(),u){hu(s.parent),l!==t&&(hu(l),hu(l.parent)),Wb();return}hu(s),hu(s.parent),l!==t&&(hu(l),hu(l.parent));let h;for(;s!==d.root&&so(s)===0;)s===s.parent.left?(h=s.parent.right,so(h)===1&&(qi(h,0),qi(s.parent,1),vA(d,s.parent),h=s.parent.right),so(h.left)===0&&so(h.right)===0?(qi(h,1),s=s.parent):(so(h.right)===0&&(qi(h.left,0),qi(h,1),kA(d,h),h=s.parent.right),qi(h,so(s.parent)),qi(s.parent,0),qi(h.right,0),vA(d,s.parent),s=d.root)):(h=s.parent.left,so(h)===1&&(qi(h,0),qi(s.parent,1),kA(d,s.parent),h=s.parent.left),so(h.left)===0&&so(h.right)===0?(qi(h,1),s=s.parent):(so(h.left)===0&&(qi(h.right,0),qi(h,1),vA(d,h),h=s.parent.left),qi(h,so(s.parent)),qi(s.parent,0),qi(h.left,0),kA(d,s.parent),s=d.root));qi(s,0),Wb()}function rge(d){for(;d.left!==Gt;)d=d.left;return d}function Wb(){Gt.parent=Gt,Gt.delta=0,Gt.start=0,Gt.end=0}function vA(d,t){const s=t.right;s.delta+=t.delta,(s.delta<-1073741824||s.delta>1073741824)&&(d.requestNormalizeDelta=!0),s.start+=t.delta,s.end+=t.delta,t.right=s.left,s.left!==Gt&&(s.left.parent=t),s.parent=t.parent,t.parent===Gt?d.root=s:t===t.parent.left?t.parent.left=s:t.parent.right=s,s.left=t,t.parent=s,Xu(t),Xu(s)}function kA(d,t){const s=t.left;t.delta-=s.delta,(t.delta<-1073741824||t.delta>1073741824)&&(d.requestNormalizeDelta=!0),t.start-=s.delta,t.end-=s.delta,t.left=s.right,s.right!==Gt&&(s.right.parent=t),s.parent=t.parent,t.parent===Gt?d.root=s:t===t.parent.right?t.parent.right=s:t.parent.left=s,s.right=t,t.parent=s,Xu(t),Xu(s)}function YH(d){let t=d.end;if(d.left!==Gt){const s=d.left.maxEnd;s>t&&(t=s)}if(d.right!==Gt){const s=d.right.maxEnd+d.delta;s>t&&(t=s)}return t}function Xu(d){d.maxEnd=YH(d)}function hu(d){for(;d!==Gt;){const t=YH(d);if(d.maxEnd===t)return;d.maxEnd=t,d=d.parent}}function oge(d,t,s,l){return d===s?t-l:d-s}class Xy{constructor(t,s){this.piece=t,this.color=s,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Rt)return sx(this.right);let t=this;for(;t.parent!==Rt&&t.parent.left!==t;)t=t.parent;return t.parent===Rt?Rt:t.parent}prev(){if(this.left!==Rt)return $H(this.left);let t=this;for(;t.parent!==Rt&&t.parent.right!==t;)t=t.parent;return t.parent===Rt?Rt:t.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Rt=new Xy(null,0);Rt.parent=Rt;Rt.left=Rt;Rt.right=Rt;Rt.color=0;function sx(d){for(;d.left!==Rt;)d=d.left;return d}function $H(d){for(;d.right!==Rt;)d=d.right;return d}function rx(d){return d===Rt?0:d.size_left+d.piece.length+rx(d.right)}function ox(d){return d===Rt?0:d.lf_left+d.piece.lineFeedCnt+ox(d.right)}function Vb(){Rt.parent=Rt}function bA(d,t){const s=t.right;s.size_left+=t.size_left+(t.piece?t.piece.length:0),s.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=s.left,s.left!==Rt&&(s.left.parent=t),s.parent=t.parent,t.parent===Rt?d.root=s:t.parent.left===t?t.parent.left=s:t.parent.right=s,s.left=t,t.parent=s}function SA(d,t){const s=t.left;t.left=s.right,s.right!==Rt&&(s.right.parent=t),s.parent=t.parent,t.size_left-=s.size_left+(s.piece?s.piece.length:0),t.lf_left-=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),t.parent===Rt?d.root=s:t===t.parent.right?t.parent.right=s:t.parent.left=s,s.right=t,t.parent=s}function q8(d,t){let s,l;if(t.left===Rt?(l=t,s=l.right):t.right===Rt?(l=t,s=l.left):(l=sx(t.right),s=l.right),l===d.root){d.root=s,s.color=0,t.detach(),Vb(),d.root.parent=Rt;return}const u=l.color===1;if(l===l.parent.left?l.parent.left=s:l.parent.right=s,l===t?(s.parent=l.parent,Kp(d,s)):(l.parent===t?s.parent=l:s.parent=l.parent,Kp(d,s),l.left=t.left,l.right=t.right,l.parent=t.parent,l.color=t.color,t===d.root?d.root=l:t===t.parent.left?t.parent.left=l:t.parent.right=l,l.left!==Rt&&(l.left.parent=l),l.right!==Rt&&(l.right.parent=l),l.size_left=t.size_left,l.lf_left=t.lf_left,Kp(d,l)),t.detach(),s.parent.left===s){const f=rx(s),m=ox(s);if(f!==s.parent.size_left||m!==s.parent.lf_left){const A=f-s.parent.size_left,C=m-s.parent.lf_left;s.parent.size_left=f,s.parent.lf_left=m,q0(d,s.parent,A,C)}}if(Kp(d,s.parent),u){Vb();return}let h;for(;s!==d.root&&s.color===0;)s===s.parent.left?(h=s.parent.right,h.color===1&&(h.color=0,s.parent.color=1,bA(d,s.parent),h=s.parent.right),h.left.color===0&&h.right.color===0?(h.color=1,s=s.parent):(h.right.color===0&&(h.left.color=0,h.color=1,SA(d,h),h=s.parent.right),h.color=s.parent.color,s.parent.color=0,h.right.color=0,bA(d,s.parent),s=d.root)):(h=s.parent.left,h.color===1&&(h.color=0,s.parent.color=1,SA(d,s.parent),h=s.parent.left),h.left.color===0&&h.right.color===0?(h.color=1,s=s.parent):(h.left.color===0&&(h.right.color=0,h.color=1,bA(d,h),h=s.parent.left),h.color=s.parent.color,s.parent.color=0,h.left.color=0,SA(d,s.parent),s=d.root));s.color=0,Vb()}function JP(d,t){for(Kp(d,t);t!==d.root&&t.parent.color===1;)if(t.parent===t.parent.parent.left){const s=t.parent.parent.right;s.color===1?(t.parent.color=0,s.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&(t=t.parent,bA(d,t)),t.parent.color=0,t.parent.parent.color=1,SA(d,t.parent.parent))}else{const s=t.parent.parent.left;s.color===1?(t.parent.color=0,s.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&(t=t.parent,SA(d,t)),t.parent.color=0,t.parent.parent.color=1,bA(d,t.parent.parent))}d.root.color=0}function q0(d,t,s,l){for(;t!==d.root&&t!==Rt;)t.parent.left===t&&(t.parent.size_left+=s,t.parent.lf_left+=l),t=t.parent}function Kp(d,t){let s=0,l=0;if(t!==d.root){for(;t!==d.root&&t===t.parent.right;)t=t.parent;if(t!==d.root)for(t=t.parent,s=rx(t.left)-t.size_left,l=ox(t.left)-t.lf_left,t.size_left+=s,t.lf_left+=l;t!==d.root&&(s!==0||l!==0);)t.parent.left===t&&(t.parent.size_left+=s,t.parent.lf_left+=l),t=t.parent}}const Z0=65535;function KH(d){let t;return d[d.length-1]<65536?t=new Uint16Array(d.length):t=new Uint32Array(d.length),t.set(d,0),t}class lge{constructor(t,s,l,u,h){this.lineStarts=t,this.cr=s,this.lf=l,this.crlf=u,this.isBasicASCII=h}}function tc(d,t=!0){const s=[0];let l=1;for(let u=0,h=d.length;u<h;u++){const f=d.charCodeAt(u);f===13?u+1<h&&d.charCodeAt(u+1)===10?(s[l++]=u+2,u++):s[l++]=u+1:f===10&&(s[l++]=u+1)}return t?KH(s):s}function age(d,t){d.length=0,d[0]=0;let s=1,l=0,u=0,h=0,f=!0;for(let A=0,C=t.length;A<C;A++){const w=t.charCodeAt(A);w===13?A+1<C&&t.charCodeAt(A+1)===10?(h++,d[s++]=A+2,A++):(l++,d[s++]=A+1):w===10?(u++,d[s++]=A+1):f&&w!==9&&(w<32||w>126)&&(f=!1)}const m=new lge(KH(d),l,u,h,f);return d.length=0,m}class yo{constructor(t,s,l,u,h){this.bufferIndex=t,this.start=s,this.end=l,this.lineFeedCnt=u,this.length=h}}class od{constructor(t,s){this.buffer=t,this.lineStarts=s}}class cge{constructor(t,s){this._pieces=[],this._tree=t,this._BOM=s,this._index=0,t.root!==Rt&&t.iterate(t.root,l=>(l!==Rt&&this._pieces.push(l.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class uge{constructor(t){this._limit=t,this._cache=[]}get(t){for(let s=this._cache.length-1;s>=0;s--){const l=this._cache[s];if(l.nodeStartOffset<=t&&l.nodeStartOffset+l.node.piece.length>=t)return l}return null}get2(t){for(let s=this._cache.length-1;s>=0;s--){const l=this._cache[s];if(l.nodeStartLineNumber&&l.nodeStartLineNumber<t&&l.nodeStartLineNumber+l.node.piece.lineFeedCnt>=t)return l}return null}set(t){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(t)}validate(t){let s=!1;const l=this._cache;for(let u=0;u<l.length;u++){const h=l[u];if(h.node.parent===null||h.nodeStartOffset>=t){l[u]=null,s=!0;continue}}if(s){const u=[];for(const h of l)h!==null&&u.push(h);this._cache=u}}}class hge{constructor(t,s,l){this.create(t,s,l)}create(t,s,l){this._buffers=[new od("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Rt,this._lineCnt=1,this._length=0,this._EOL=s,this._EOLLength=s.length,this._EOLNormalized=l;let u=null;for(let h=0,f=t.length;h<f;h++)if(t[h].buffer.length>0){t[h].lineStarts||(t[h].lineStarts=tc(t[h].buffer));const m=new yo(h+1,{line:0,column:0},{line:t[h].lineStarts.length-1,column:t[h].buffer.length-t[h].lineStarts[t[h].lineStarts.length-1]},t[h].lineStarts.length-1,t[h].buffer.length);this._buffers.push(t[h]),u=this.rbInsertRight(u,m)}this._searchCache=new uge(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(t){const s=Z0,l=s-Math.floor(s/3),u=l*2;let h="",f=0;const m=[];if(this.iterate(this.root,A=>{const C=this.getNodeContent(A),w=C.length;if(f<=l||f+w<u)return h+=C,f+=w,!0;const k=h.replace(/\r\n|\r|\n/g,t);return m.push(new od(k,tc(k))),h=C,f=w,!0}),f>0){const A=h.replace(/\r\n|\r|\n/g,t);m.push(new od(A,tc(A)))}this.create(m,t,!0)}getEOL(){return this._EOL}setEOL(t){this._EOL=t,this._EOLLength=this._EOL.length,this.normalizeEOL(t)}createSnapshot(t){return new cge(this,t)}getOffsetAt(t,s){let l=0,u=this.root;for(;u!==Rt;)if(u.left!==Rt&&u.lf_left+1>=t)u=u.left;else{if(u.lf_left+u.piece.lineFeedCnt+1>=t)return l+=u.size_left,l+=this.getAccumulatedValue(u,t-u.lf_left-2)+s-1;t-=u.lf_left+u.piece.lineFeedCnt,l+=u.size_left+u.piece.length,u=u.right}return l}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let s=this.root,l=0;const u=t;for(;s!==Rt;)if(s.size_left!==0&&s.size_left>=t)s=s.left;else if(s.size_left+s.piece.length>=t){const h=this.getIndexOf(s,t-s.size_left);if(l+=s.lf_left+h.index,h.index===0){const f=this.getOffsetAt(l+1,1),m=u-f;return new me(l+1,m+1)}return new me(l+1,h.remainder+1)}else if(t-=s.size_left+s.piece.length,l+=s.lf_left+s.piece.lineFeedCnt,s.right===Rt){const h=this.getOffsetAt(l+1,1),f=u-t-h;return new me(l+1,f+1)}else s=s.right;return new me(1,1)}getValueInRange(t,s){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";const l=this.nodeAt2(t.startLineNumber,t.startColumn),u=this.nodeAt2(t.endLineNumber,t.endColumn),h=this.getValueInRange2(l,u);return s?s!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(t,s){if(t.node===s.node){const m=t.node,A=this._buffers[m.piece.bufferIndex].buffer,C=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return A.substring(C+t.remainder,C+s.remainder)}let l=t.node;const u=this._buffers[l.piece.bufferIndex].buffer,h=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);let f=u.substring(h+t.remainder,h+l.piece.length);for(l=l.next();l!==Rt;){const m=this._buffers[l.piece.bufferIndex].buffer,A=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);if(l===s.node){f+=m.substring(A,A+s.remainder);break}else f+=m.substr(A,l.piece.length);l=l.next()}return f}getLinesContent(){const t=[];let s=0,l="",u=!1;return this.iterate(this.root,h=>{if(h===Rt)return!0;const f=h.piece;let m=f.length;if(m===0)return!0;const A=this._buffers[f.bufferIndex].buffer,C=this._buffers[f.bufferIndex].lineStarts,w=f.start.line,k=f.end.line;let D=C[w]+f.start.column;if(u&&(A.charCodeAt(D)===10&&(D++,m--),t[s++]=l,l="",u=!1,m===0))return!0;if(w===k)return!this._EOLNormalized&&A.charCodeAt(D+m-1)===13?(u=!0,l+=A.substr(D,m-1)):l+=A.substr(D,m),!0;l+=this._EOLNormalized?A.substring(D,Math.max(D,C[w+1]-this._EOLLength)):A.substring(D,C[w+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=l;for(let I=w+1;I<k;I++)l=this._EOLNormalized?A.substring(C[I],C[I+1]-this._EOLLength):A.substring(C[I],C[I+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=l;return!this._EOLNormalized&&A.charCodeAt(C[k]+f.end.column-1)===13?(u=!0,f.end.column===0?s--:l=A.substr(C[k],f.end.column-1)):l=A.substr(C[k],f.end.column),!0}),u&&(t[s++]=l,l=""),t[s++]=l,t}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(t){return this._lastVisitedLine.lineNumber===t?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=t,t===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(t):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(t,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(t){if(t.remainder===t.node.piece.length){const s=t.node.next();if(!s)return 0;const l=this._buffers[s.piece.bufferIndex],u=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return l.buffer.charCodeAt(u)}else{const s=this._buffers[t.node.piece.bufferIndex],u=this.offsetInBuffer(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return s.buffer.charCodeAt(u)}}getLineCharCode(t,s){const l=this.nodeAt2(t,s+1);return this._getCharCode(l)}getLineLength(t){if(t===this.getLineCount()){const s=this.getOffsetAt(t,1);return this.getLength()-s}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this._EOLLength}findMatchesInNode(t,s,l,u,h,f,m,A,C,w,k){const D=this._buffers[t.piece.bufferIndex],I=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),N=this.offsetInBuffer(t.piece.bufferIndex,h),R=this.offsetInBuffer(t.piece.bufferIndex,f);let O;const W={line:0,column:0};let B,z;s._wordSeparators?(B=D.buffer.substring(N,R),z=G=>G+N,s.reset(0)):(B=D.buffer,z=G=>G,s.reset(N));do if(O=s.next(B),O){if(z(O.index)>=R)return w;this.positionInBuffer(t,z(O.index)-I,W);const G=this.getLineFeedCnt(t.piece.bufferIndex,h,W),K=W.line===h.line?W.column-h.column+u:W.column+1,q=K+O[0].length;if(k[w++]=td(new $(l+G,K,l+G,q),O,A),z(O.index)+O[0].length>=R||w>=C)return w}while(O);return w}findMatchesLineByLine(t,s,l,u){const h=[];let f=0;const m=new $1(s.wordSeparators,s.regex);let A=this.nodeAt2(t.startLineNumber,t.startColumn);if(A===null)return[];const C=this.nodeAt2(t.endLineNumber,t.endColumn);if(C===null)return[];let w=this.positionInBuffer(A.node,A.remainder);const k=this.positionInBuffer(C.node,C.remainder);if(A.node===C.node)return this.findMatchesInNode(A.node,m,t.startLineNumber,t.startColumn,w,k,s,l,u,f,h),h;let D=t.startLineNumber,I=A.node;for(;I!==C.node;){const R=this.getLineFeedCnt(I.piece.bufferIndex,w,I.piece.end);if(R>=1){const W=this._buffers[I.piece.bufferIndex].lineStarts,B=this.offsetInBuffer(I.piece.bufferIndex,I.piece.start),z=W[w.line+R],G=D===t.startLineNumber?t.startColumn:1;if(f=this.findMatchesInNode(I,m,D,G,w,this.positionInBuffer(I,z-B),s,l,u,f,h),f>=u)return h;D+=R}const O=D===t.startLineNumber?t.startColumn-1:0;if(D===t.endLineNumber){const W=this.getLineContent(D).substring(O,t.endColumn-1);return f=this._findMatchesInLine(s,m,W,t.endLineNumber,O,f,h,l,u),h}if(f=this._findMatchesInLine(s,m,this.getLineContent(D).substr(O),D,O,f,h,l,u),f>=u)return h;D++,A=this.nodeAt2(D,1),I=A.node,w=this.positionInBuffer(A.node,A.remainder)}if(D===t.endLineNumber){const R=D===t.startLineNumber?t.startColumn-1:0,O=this.getLineContent(D).substring(R,t.endColumn-1);return f=this._findMatchesInLine(s,m,O,t.endLineNumber,R,f,h,l,u),h}const N=D===t.startLineNumber?t.startColumn:1;return f=this.findMatchesInNode(C.node,m,D,N,w,k,s,l,u,f,h),h}_findMatchesInLine(t,s,l,u,h,f,m,A,C){const w=t.wordSeparators;if(!A&&t.simpleSearch){const D=t.simpleSearch,I=D.length,N=l.length;let R=-I;for(;(R=l.indexOf(D,R+I))!==-1;)if((!w||dI(w,l,N,R,I))&&(m[f++]=new ZA(new $(u,R+1+h,u,R+1+I+h),null),f>=C))return f;return f}let k;s.reset(0);do if(k=s.next(l),k&&(m[f++]=td(new $(u,k.index+1+h,u,k.index+1+k[0].length+h),k,A),f>=C))return f;while(k);return f}insert(t,s,l=!1){if(this._EOLNormalized=this._EOLNormalized&&l,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Rt){const{node:u,remainder:h,nodeStartOffset:f}=this.nodeAt(t),m=u.piece,A=m.bufferIndex,C=this.positionInBuffer(u,h);if(u.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&f+m.length===t&&s.length<Z0){this.appendToNode(u,s),this.computeBufferMetadata();return}if(f===t)this.insertContentToNodeLeft(s,u),this._searchCache.validate(t);else if(f+u.piece.length>t){const w=[];let k=new yo(m.bufferIndex,C,m.end,this.getLineFeedCnt(m.bufferIndex,C,m.end),this.offsetInBuffer(A,m.end)-this.offsetInBuffer(A,C));if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.nodeCharCodeAt(u,h)===10){const R={line:k.start.line+1,column:0};k=new yo(k.bufferIndex,R,k.end,this.getLineFeedCnt(k.bufferIndex,R,k.end),k.length-1),s+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(s))if(this.nodeCharCodeAt(u,h-1)===13){const R=this.positionInBuffer(u,h-1);this.deleteNodeTail(u,R),s="\r"+s,u.piece.length===0&&w.push(u)}else this.deleteNodeTail(u,C);else this.deleteNodeTail(u,C);const D=this.createNewPieces(s);k.length>0&&this.rbInsertRight(u,k);let I=u;for(let N=0;N<D.length;N++)I=this.rbInsertRight(I,D[N]);this.deleteNodes(w)}else this.insertContentToNodeRight(s,u)}else{const u=this.createNewPieces(s);let h=this.rbInsertLeft(null,u[0]);for(let f=1;f<u.length;f++)h=this.rbInsertRight(h,u[f])}this.computeBufferMetadata()}delete(t,s){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",s<=0||this.root===Rt)return;const l=this.nodeAt(t),u=this.nodeAt(t+s),h=l.node,f=u.node;if(h===f){const D=this.positionInBuffer(h,l.remainder),I=this.positionInBuffer(h,u.remainder);if(l.nodeStartOffset===t){if(s===h.piece.length){const N=h.next();q8(this,h),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(h,I),this._searchCache.validate(t),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(l.nodeStartOffset+h.piece.length===t+s){this.deleteNodeTail(h,D),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,D,I),this.computeBufferMetadata();return}const m=[],A=this.positionInBuffer(h,l.remainder);this.deleteNodeTail(h,A),this._searchCache.validate(t),h.piece.length===0&&m.push(h);const C=this.positionInBuffer(f,u.remainder);this.deleteNodeHead(f,C),f.piece.length===0&&m.push(f);const w=h.next();for(let D=w;D!==Rt&&D!==f;D=D.next())m.push(D);const k=h.piece.length===0?h.prev():h;this.deleteNodes(m),this.validateCRLFWithNextNode(k),this.computeBufferMetadata()}insertContentToNodeLeft(t,s){const l=[];if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.startWithLF(s)){const f=s.piece,m={line:f.start.line+1,column:0},A=new yo(f.bufferIndex,m,f.end,this.getLineFeedCnt(f.bufferIndex,m,f.end),f.length-1);s.piece=A,t+=`
`,q0(this,s,-1,-1),s.piece.length===0&&l.push(s)}const u=this.createNewPieces(t);let h=this.rbInsertLeft(s,u[u.length-1]);for(let f=u.length-2;f>=0;f--)h=this.rbInsertLeft(h,u[f]);this.validateCRLFWithPrevNode(h),this.deleteNodes(l)}insertContentToNodeRight(t,s){this.adjustCarriageReturnFromNext(t,s)&&(t+=`
`);const l=this.createNewPieces(t),u=this.rbInsertRight(s,l[0]);let h=u;for(let f=1;f<l.length;f++)h=this.rbInsertRight(h,l[f]);this.validateCRLFWithPrevNode(u)}positionInBuffer(t,s,l){const u=t.piece,h=t.piece.bufferIndex,f=this._buffers[h].lineStarts,A=f[u.start.line]+u.start.column+s;let C=u.start.line,w=u.end.line,k=0,D=0,I=0;for(;C<=w&&(k=C+(w-C)/2|0,I=f[k],k!==w);)if(D=f[k+1],A<I)w=k-1;else if(A>=D)C=k+1;else break;return l?(l.line=k,l.column=A-I,null):{line:k,column:A-I}}getLineFeedCnt(t,s,l){if(l.column===0)return l.line-s.line;const u=this._buffers[t].lineStarts;if(l.line===u.length-1)return l.line-s.line;const h=u[l.line+1],f=u[l.line]+l.column;if(h>f+1)return l.line-s.line;const m=f-1;return this._buffers[t].buffer.charCodeAt(m)===13?l.line-s.line+1:l.line-s.line}offsetInBuffer(t,s){return this._buffers[t].lineStarts[s.line]+s.column}deleteNodes(t){for(let s=0;s<t.length;s++)q8(this,t[s])}createNewPieces(t){if(t.length>Z0){const w=[];for(;t.length>Z0;){const D=t.charCodeAt(Z0-1);let I;D===13||D>=55296&&D<=56319?(I=t.substring(0,Z0-1),t=t.substring(Z0-1)):(I=t.substring(0,Z0),t=t.substring(Z0));const N=tc(I);w.push(new yo(this._buffers.length,{line:0,column:0},{line:N.length-1,column:I.length-N[N.length-1]},N.length-1,I.length)),this._buffers.push(new od(I,N))}const k=tc(t);return w.push(new yo(this._buffers.length,{line:0,column:0},{line:k.length-1,column:t.length-k[k.length-1]},k.length-1,t.length)),this._buffers.push(new od(t,k)),w}let s=this._buffers[0].buffer.length;const l=tc(t,!1);let u=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(t)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},u=this._lastChangeBufferPos;for(let w=0;w<l.length;w++)l[w]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1)),this._buffers[0].buffer+="_"+t,s+=1}else{if(s!==0)for(let w=0;w<l.length;w++)l[w]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1)),this._buffers[0].buffer+=t}const h=this._buffers[0].buffer.length,f=this._buffers[0].lineStarts.length-1,m=h-this._buffers[0].lineStarts[f],A={line:f,column:m},C=new yo(0,u,A,this.getLineFeedCnt(0,u,A),h-s);return this._lastChangeBufferPos=A,[C]}getLineRawContent(t,s=0){let l=this.root,u="";const h=this._searchCache.get2(t);if(h){l=h.node;const f=this.getAccumulatedValue(l,t-h.nodeStartLineNumber-1),m=this._buffers[l.piece.bufferIndex].buffer,A=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);if(h.nodeStartLineNumber+l.piece.lineFeedCnt===t)u=m.substring(A+f,A+l.piece.length);else{const C=this.getAccumulatedValue(l,t-h.nodeStartLineNumber);return m.substring(A+f,A+C-s)}}else{let f=0;const m=t;for(;l!==Rt;)if(l.left!==Rt&&l.lf_left>=t-1)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt>t-1){const A=this.getAccumulatedValue(l,t-l.lf_left-2),C=this.getAccumulatedValue(l,t-l.lf_left-1),w=this._buffers[l.piece.bufferIndex].buffer,k=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return f+=l.size_left,this._searchCache.set({node:l,nodeStartOffset:f,nodeStartLineNumber:m-(t-1-l.lf_left)}),w.substring(k+A,k+C-s)}else if(l.lf_left+l.piece.lineFeedCnt===t-1){const A=this.getAccumulatedValue(l,t-l.lf_left-2),C=this._buffers[l.piece.bufferIndex].buffer,w=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);u=C.substring(w+A,w+l.piece.length);break}else t-=l.lf_left+l.piece.lineFeedCnt,f+=l.size_left+l.piece.length,l=l.right}for(l=l.next();l!==Rt;){const f=this._buffers[l.piece.bufferIndex].buffer;if(l.piece.lineFeedCnt>0){const m=this.getAccumulatedValue(l,0),A=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);return u+=f.substring(A,A+m-s),u}else{const m=this.offsetInBuffer(l.piece.bufferIndex,l.piece.start);u+=f.substr(m,l.piece.length)}l=l.next()}return u}computeBufferMetadata(){let t=this.root,s=1,l=0;for(;t!==Rt;)s+=t.lf_left+t.piece.lineFeedCnt,l+=t.size_left+t.piece.length,t=t.right;this._lineCnt=s,this._length=l,this._searchCache.validate(this._length)}getIndexOf(t,s){const l=t.piece,u=this.positionInBuffer(t,s),h=u.line-l.start.line;if(this.offsetInBuffer(l.bufferIndex,l.end)-this.offsetInBuffer(l.bufferIndex,l.start)===s){const f=this.getLineFeedCnt(t.piece.bufferIndex,l.start,u);if(f!==h)return{index:f,remainder:0}}return{index:h,remainder:u.column}}getAccumulatedValue(t,s){if(s<0)return 0;const l=t.piece,u=this._buffers[l.bufferIndex].lineStarts,h=l.start.line+s+1;return h>l.end.line?u[l.end.line]+l.end.column-u[l.start.line]-l.start.column:u[h]-u[l.start.line]-l.start.column}deleteNodeTail(t,s){const l=t.piece,u=l.lineFeedCnt,h=this.offsetInBuffer(l.bufferIndex,l.end),f=s,m=this.offsetInBuffer(l.bufferIndex,f),A=this.getLineFeedCnt(l.bufferIndex,l.start,f),C=A-u,w=m-h,k=l.length+w;t.piece=new yo(l.bufferIndex,l.start,f,A,k),q0(this,t,w,C)}deleteNodeHead(t,s){const l=t.piece,u=l.lineFeedCnt,h=this.offsetInBuffer(l.bufferIndex,l.start),f=s,m=this.getLineFeedCnt(l.bufferIndex,f,l.end),A=this.offsetInBuffer(l.bufferIndex,f),C=m-u,w=h-A,k=l.length+w;t.piece=new yo(l.bufferIndex,f,l.end,m,k),q0(this,t,w,C)}shrinkNode(t,s,l){const u=t.piece,h=u.start,f=u.end,m=u.length,A=u.lineFeedCnt,C=s,w=this.getLineFeedCnt(u.bufferIndex,u.start,C),k=this.offsetInBuffer(u.bufferIndex,s)-this.offsetInBuffer(u.bufferIndex,h);t.piece=new yo(u.bufferIndex,u.start,C,w,k),q0(this,t,k-m,w-A);const D=new yo(u.bufferIndex,l,f,this.getLineFeedCnt(u.bufferIndex,l,f),this.offsetInBuffer(u.bufferIndex,f)-this.offsetInBuffer(u.bufferIndex,l)),I=this.rbInsertRight(t,D);this.validateCRLFWithPrevNode(I)}appendToNode(t,s){this.adjustCarriageReturnFromNext(s,t)&&(s+=`
`);const l=this.shouldCheckCRLF()&&this.startWithLF(s)&&this.endWithCR(t),u=this._buffers[0].buffer.length;this._buffers[0].buffer+=s;const h=tc(s,!1);for(let I=0;I<h.length;I++)h[I]+=u;if(l){const I=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:u-I}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const f=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],A={line:f,column:m},C=t.piece.length+s.length,w=t.piece.lineFeedCnt,k=this.getLineFeedCnt(0,t.piece.start,A),D=k-w;t.piece=new yo(t.piece.bufferIndex,t.piece.start,A,k,C),this._lastChangeBufferPos=A,q0(this,t,s.length,D)}nodeAt(t){let s=this.root;const l=this._searchCache.get(t);if(l)return{node:l.node,nodeStartOffset:l.nodeStartOffset,remainder:t-l.nodeStartOffset};let u=0;for(;s!==Rt;)if(s.size_left>t)s=s.left;else if(s.size_left+s.piece.length>=t){u+=s.size_left;const h={node:s,remainder:t-s.size_left,nodeStartOffset:u};return this._searchCache.set(h),h}else t-=s.size_left+s.piece.length,u+=s.size_left+s.piece.length,s=s.right;return null}nodeAt2(t,s){let l=this.root,u=0;for(;l!==Rt;)if(l.left!==Rt&&l.lf_left>=t-1)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt>t-1){const h=this.getAccumulatedValue(l,t-l.lf_left-2),f=this.getAccumulatedValue(l,t-l.lf_left-1);return u+=l.size_left,{node:l,remainder:Math.min(h+s-1,f),nodeStartOffset:u}}else if(l.lf_left+l.piece.lineFeedCnt===t-1){const h=this.getAccumulatedValue(l,t-l.lf_left-2);if(h+s-1<=l.piece.length)return{node:l,remainder:h+s-1,nodeStartOffset:u};s-=l.piece.length-h;break}else t-=l.lf_left+l.piece.lineFeedCnt,u+=l.size_left+l.piece.length,l=l.right;for(l=l.next();l!==Rt;){if(l.piece.lineFeedCnt>0){const h=this.getAccumulatedValue(l,0),f=this.offsetOfNode(l);return{node:l,remainder:Math.min(s-1,h),nodeStartOffset:f}}else if(l.piece.length>=s-1){const h=this.offsetOfNode(l);return{node:l,remainder:s-1,nodeStartOffset:h}}else s-=l.piece.length;l=l.next()}return null}nodeCharCodeAt(t,s){if(t.piece.lineFeedCnt<1)return-1;const l=this._buffers[t.piece.bufferIndex],u=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start)+s;return l.buffer.charCodeAt(u)}offsetOfNode(t){if(!t)return 0;let s=t.size_left;for(;t!==this.root;)t.parent.right===t&&(s+=t.parent.size_left+t.parent.piece.length),t=t.parent;return s}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===Rt||t.piece.lineFeedCnt===0)return!1;const s=t.piece,l=this._buffers[s.bufferIndex].lineStarts,u=s.start.line,h=l[u]+s.start.column;return u===l.length-1||l[u+1]>h+1?!1:this._buffers[s.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t===Rt||t.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(t,t.piece.length-1)===13}validateCRLFWithPrevNode(t){if(this.shouldCheckCRLF()&&this.startWithLF(t)){const s=t.prev();this.endWithCR(s)&&this.fixCRLF(s,t)}}validateCRLFWithNextNode(t){if(this.shouldCheckCRLF()&&this.endWithCR(t)){const s=t.next();this.startWithLF(s)&&this.fixCRLF(t,s)}}fixCRLF(t,s){const l=[],u=this._buffers[t.piece.bufferIndex].lineStarts;let h;t.piece.end.column===0?h={line:t.piece.end.line-1,column:u[t.piece.end.line]-u[t.piece.end.line-1]-1}:h={line:t.piece.end.line,column:t.piece.end.column-1};const f=t.piece.length-1,m=t.piece.lineFeedCnt-1;t.piece=new yo(t.piece.bufferIndex,t.piece.start,h,m,f),q0(this,t,-1,-1),t.piece.length===0&&l.push(t);const A={line:s.piece.start.line+1,column:0},C=s.piece.length-1,w=this.getLineFeedCnt(s.piece.bufferIndex,A,s.piece.end);s.piece=new yo(s.piece.bufferIndex,A,s.piece.end,w,C),q0(this,s,-1,-1),s.piece.length===0&&l.push(s);const k=this.createNewPieces(`\r
`);this.rbInsertRight(t,k[0]);for(let D=0;D<l.length;D++)q8(this,l[D])}adjustCarriageReturnFromNext(t,s){if(this.shouldCheckCRLF()&&this.endWithCR(t)){const l=s.next();if(this.startWithLF(l)){if(t+=`
`,l.piece.length===1)q8(this,l);else{const u=l.piece,h={line:u.start.line+1,column:0},f=u.length-1,m=this.getLineFeedCnt(u.bufferIndex,h,u.end);l.piece=new yo(u.bufferIndex,h,u.end,m,f),q0(this,l,-1,-1)}return!0}}return!1}iterate(t,s){if(t===Rt)return s(Rt);const l=this.iterate(t.left,s);return l&&s(t)&&this.iterate(t.right,s)}getNodeContent(t){if(t===Rt)return"";const s=this._buffers[t.piece.bufferIndex];let l;const u=t.piece,h=this.offsetInBuffer(u.bufferIndex,u.start),f=this.offsetInBuffer(u.bufferIndex,u.end);return l=s.buffer.substring(h,f),l}getPieceContent(t){const s=this._buffers[t.bufferIndex],l=this.offsetInBuffer(t.bufferIndex,t.start),u=this.offsetInBuffer(t.bufferIndex,t.end);return s.buffer.substring(l,u)}rbInsertRight(t,s){const l=new Xy(s,1);if(l.left=Rt,l.right=Rt,l.parent=Rt,l.size_left=0,l.lf_left=0,this.root===Rt)this.root=l,l.color=0;else if(t.right===Rt)t.right=l,l.parent=t;else{const h=sx(t.right);h.left=l,l.parent=h}return JP(this,l),l}rbInsertLeft(t,s){const l=new Xy(s,1);if(l.left=Rt,l.right=Rt,l.parent=Rt,l.size_left=0,l.lf_left=0,this.root===Rt)this.root=l,l.color=0;else if(t.left===Rt)t.left=l,l.parent=t;else{const u=$H(t.left);u.right=l,l.parent=u}return JP(this,l),l}}function $d(d){let t=0,s=0,l=0,u=0;for(let h=0,f=d.length;h<f;h++){const m=d.charCodeAt(h);m===13?(t===0&&(s=h),t++,h+1<f&&d.charCodeAt(h+1)===10?(u|=2,h++):u|=3,l=h+1):m===10&&(u|=1,t===0&&(s=h),t++,l=h+1)}return t===0&&(s=d.length),[t,s,d.length-l,u]}class vg extends Se{constructor(t,s,l,u,h,f,m){super(),this._onDidChangeContent=this._register(new he),this._BOM=s,this._mightContainNonBasicASCII=!f,this._mightContainRTL=u,this._mightContainUnusualLineTerminators=h,this._pieceTree=new hge(t,l,m)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(t){return this._pieceTree.createSnapshot(t?this._BOM:"")}getOffsetAt(t,s){return this._pieceTree.getOffsetAt(t,s)}getPositionAt(t){return this._pieceTree.getPositionAt(t)}getRangeAt(t,s){const l=t+s,u=this.getPositionAt(t),h=this.getPositionAt(l);return new $(u.lineNumber,u.column,h.lineNumber,h.column)}getValueInRange(t,s=0){if(t.isEmpty())return"";const l=this._getEndOfLine(s);return this._pieceTree.getValueInRange(t,l)}getValueLengthInRange(t,s=0){if(t.isEmpty())return 0;if(t.startLineNumber===t.endLineNumber)return t.endColumn-t.startColumn;const l=this.getOffsetAt(t.startLineNumber,t.startColumn);return this.getOffsetAt(t.endLineNumber,t.endColumn)-l}getCharacterCountInRange(t,s=0){if(this._mightContainNonBasicASCII){let l=0;const u=t.startLineNumber,h=t.endLineNumber;for(let f=u;f<=h;f++){const m=this.getLineContent(f),A=f===u?t.startColumn-1:0,C=f===h?t.endColumn-1:m.length;for(let w=A;w<C;w++)Cs(m.charCodeAt(w))?(l=l+1,w=w+1):l=l+1}return l+=this._getEndOfLine(s).length*(h-u),l}return this.getValueLengthInRange(t,s)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(t){return this._pieceTree.getLineContent(t)}getLineCharCode(t,s){return this._pieceTree.getLineCharCode(t,s)}getLineLength(t){return this._pieceTree.getLineLength(t)}getLineFirstNonWhitespaceColumn(t){const s=Zr(this.getLineContent(t));return s===-1?0:s+1}getLineLastNonWhitespaceColumn(t){const s=u0(this.getLineContent(t));return s===-1?0:s+2}_getEndOfLine(t){switch(t){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(t){this._pieceTree.setEOL(t)}applyEdits(t,s,l){let u=this._mightContainRTL,h=this._mightContainUnusualLineTerminators,f=this._mightContainNonBasicASCII,m=!0,A=[];for(let R=0;R<t.length;R++){const O=t[R];m&&O._isTracked&&(m=!1);const W=O.range;if(O.text){let q=!0;f||(q=!bw(O.text),f=q),!u&&q&&(u=kw(O.text)),!h&&q&&(h=BW(O.text))}let B="",z=0,G=0,K=0;if(O.text){let q;[z,G,K,q]=$d(O.text);const Y=this.getEOL();q===0||q===(Y===`\r
`?2:1)?B=O.text:B=O.text.replace(/\r\n|\r|\n/g,Y)}A[R]={sortIndex:R,identifier:O.identifier||null,range:W,rangeOffset:this.getOffsetAt(W.startLineNumber,W.startColumn),rangeLength:this.getValueLengthInRange(W),text:B,eolCount:z,firstLineLength:G,lastLineLength:K,forceMoveMarkers:Boolean(O.forceMoveMarkers),isAutoWhitespaceEdit:O.isAutoWhitespaceEdit||!1}}A.sort(vg._sortOpsAscending);let C=!1;for(let R=0,O=A.length-1;R<O;R++){const W=A[R].range.getEndPosition(),B=A[R+1].range.getStartPosition();if(B.isBeforeOrEqual(W)){if(B.isBefore(W))throw new Error("Overlapping ranges are not allowed!");C=!0}}m&&(A=this._reduceOperations(A));const w=l||s?vg._getInverseEditRanges(A):[],k=[];if(s)for(let R=0;R<A.length;R++){const O=A[R],W=w[R];if(O.isAutoWhitespaceEdit&&O.range.isEmpty())for(let B=W.startLineNumber;B<=W.endLineNumber;B++){let z="";B===W.startLineNumber&&(z=this.getLineContent(O.range.startLineNumber),Zr(z)!==-1)||k.push({lineNumber:B,oldContent:z})}}let D=null;if(l){let R=0;D=[];for(let O=0;O<A.length;O++){const W=A[O],B=w[O],z=this.getValueInRange(W.range),G=W.rangeOffset+R;R+=W.text.length-z.length,D[O]={sortIndex:W.sortIndex,identifier:W.identifier,range:B,text:z,textChange:new Ks(W.rangeOffset,z,G,W.text)}}C||D.sort((O,W)=>O.sortIndex-W.sortIndex)}this._mightContainRTL=u,this._mightContainUnusualLineTerminators=h,this._mightContainNonBasicASCII=f;const I=this._doApplyEdits(A);let N=null;if(s&&k.length>0){k.sort((R,O)=>O.lineNumber-R.lineNumber),N=[];for(let R=0,O=k.length;R<O;R++){const W=k[R].lineNumber;if(R>0&&k[R-1].lineNumber===W)continue;const B=k[R].oldContent,z=this.getLineContent(W);z.length===0||z===B||Zr(z)!==-1||N.push(W)}}return this._onDidChangeContent.fire(),new $ae(D,I,N)}_reduceOperations(t){return t.length<1e3?t:[this._toSingleEditOperation(t)]}_toSingleEditOperation(t){let s=!1;const l=t[0].range,u=t[t.length-1].range,h=new $(l.startLineNumber,l.startColumn,u.endLineNumber,u.endColumn);let f=l.startLineNumber,m=l.startColumn;const A=[];for(let I=0,N=t.length;I<N;I++){const R=t[I],O=R.range;s=s||R.forceMoveMarkers,A.push(this.getValueInRange(new $(f,m,O.startLineNumber,O.startColumn))),R.text.length>0&&A.push(R.text),f=O.endLineNumber,m=O.endColumn}const C=A.join(""),[w,k,D]=$d(C);return{sortIndex:0,identifier:t[0].identifier,range:h,rangeOffset:this.getOffsetAt(h.startLineNumber,h.startColumn),rangeLength:this.getValueLengthInRange(h,0),text:C,eolCount:w,firstLineLength:k,lastLineLength:D,forceMoveMarkers:s,isAutoWhitespaceEdit:!1}}_doApplyEdits(t){t.sort(vg._sortOpsDescending);const s=[];for(let l=0;l<t.length;l++){const u=t[l],h=u.range.startLineNumber,f=u.range.startColumn,m=u.range.endLineNumber,A=u.range.endColumn;if(h===m&&f===A&&u.text.length===0)continue;u.text?(this._pieceTree.delete(u.rangeOffset,u.rangeLength),this._pieceTree.insert(u.rangeOffset,u.text,!0)):this._pieceTree.delete(u.rangeOffset,u.rangeLength);const C=new $(h,f,m,A);s.push({range:C,rangeLength:u.rangeLength,text:u.text,rangeOffset:u.rangeOffset,forceMoveMarkers:u.forceMoveMarkers})}return s}findMatchesLineByLine(t,s,l,u){return this._pieceTree.findMatchesLineByLine(t,s,l,u)}static _getInverseEditRanges(t){const s=[];let l=0,u=0,h=null;for(let f=0,m=t.length;f<m;f++){const A=t[f];let C,w;h?h.range.endLineNumber===A.range.startLineNumber?(C=l,w=u+(A.range.startColumn-h.range.endColumn)):(C=l+(A.range.startLineNumber-h.range.endLineNumber),w=A.range.startColumn):(C=A.range.startLineNumber,w=A.range.startColumn);let k;if(A.text.length>0){const D=A.eolCount+1;D===1?k=new $(C,w,C,w+A.firstLineLength):k=new $(C,w,C+D-1,A.lastLineLength+1)}else k=new $(C,w,C,w);l=k.endLineNumber,u=k.endColumn,s.push(k),h=A}return s}static _sortOpsAscending(t,s){const l=$.compareRangesUsingEnds(t.range,s.range);return l===0?t.sortIndex-s.sortIndex:l}static _sortOpsDescending(t,s){const l=$.compareRangesUsingEnds(t.range,s.range);return l===0?s.sortIndex-t.sortIndex:-l}}class dge{constructor(t,s,l,u,h,f,m,A,C){this._chunks=t,this._bom=s,this._cr=l,this._lf=u,this._crlf=h,this._containsRTL=f,this._containsUnusualLineTerminators=m,this._isBasicASCII=A,this._normalizeEOL=C}_getEOL(t){const s=this._cr+this._lf+this._crlf,l=this._cr+this._crlf;return s===0?t===1?`
`:`\r
`:l>s/2?`\r
`:`
`}create(t){const s=this._getEOL(t),l=this._chunks;if(this._normalizeEOL&&(s===`\r
`&&(this._cr>0||this._lf>0)||s===`
`&&(this._cr>0||this._crlf>0)))for(let h=0,f=l.length;h<f;h++){const m=l[h].buffer.replace(/\r\n|\r|\n/g,s),A=tc(m);l[h]=new od(m,A)}const u=new vg(l,this._bom,s,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:u,disposable:u}}}class fge{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(t){if(t.length===0)return;this.chunks.length===0&&tI(t)&&(this.BOM=Iae,t=t.substr(1));const s=t.charCodeAt(t.length-1);s===13||s>=55296&&s<=56319?(this._acceptChunk1(t.substr(0,t.length-1),!1),this._hasPreviousChar=!0,this._previousChar=s):(this._acceptChunk1(t,!1),this._hasPreviousChar=!1,this._previousChar=s)}_acceptChunk1(t,s){!s&&t.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+t):this._acceptChunk2(t))}_acceptChunk2(t){const s=age(this._tmpLineStarts,t);this.chunks.push(new od(t,s.lineStarts)),this.cr+=s.cr,this.lf+=s.lf,this.crlf+=s.crlf,this.isBasicASCII&&(this.isBasicASCII=s.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=kw(t)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=BW(t))}finish(t=!0){return this._finish(),new dge(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,t)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const t=this.chunks[this.chunks.length-1];t.buffer+=String.fromCharCode(this._previousChar);const s=tc(t.buffer);t.lineStarts=s,this._previousChar===13&&this.cr++}}}class gge{constructor(t,s){this._startLineNumber=t,this._tokens=s}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(t){return this._tokens[t-this._startLineNumber]}appendLineTokens(t){this._tokens.push(t)}}class Hb{constructor(){this._tokens=[]}add(t,s){if(this._tokens.length>0){const l=this._tokens[this._tokens.length-1];if(l.endLineNumber+1===t){l.appendLineTokens(s);return}}this._tokens.push(new gge(t,[s]))}finalize(){return this._tokens}}class qP{constructor(t){this._default=t,this._store=[]}get(t){return t<this._store.length?this._store[t]:this._default}set(t,s){for(;t>=this._store.length;)this._store[this._store.length]=this._default;this._store[t]=s}delete(t,s){s===0||t>=this._store.length||this._store.splice(t,s)}insert(t,s){if(s===0||t>=this._store.length)return;const l=[];for(let u=0;u<s;u++)l[u]=this._default;this._store=_w(this._store,t,l)}}class mge{constructor(t,s){this.tokenizationSupport=t,this.initialState=s,this._lineBeginState=new qP(null),this._lineNeedsTokenization=new qP(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(t){this._lineNeedsTokenization.set(t,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,t)}getBeginState(t){return this._lineBeginState.get(t)}setEndState(t,s,l){if(this._lineNeedsTokenization.set(s,!1),this._firstLineNeedsTokenization=s+1,s===t-1)return;const u=this._lineBeginState.get(s+1);if(u===null||!l.equals(u)){this._lineBeginState.set(s+1,l),this.markMustBeTokenized(s+1);return}let h=s+1;for(;h<t&&!this._lineNeedsTokenization.get(h);)h++;this._firstLineNeedsTokenization=h}applyEdits(t,s){this.markMustBeTokenized(t.startLineNumber-1),this._lineBeginState.delete(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineNeedsTokenization.delete(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineBeginState.insert(t.startLineNumber,s),this._lineNeedsTokenization.insert(t.startLineNumber,s)}}class pge extends Se{constructor(t,s){super(),this._textModel=t,this._languageIdCodec=s,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(bn.onDidChange(l=>{const u=this._textModel.getLanguageId();l.changedLanguages.indexOf(u)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(t){if(t.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let s=0,l=t.changes.length;s<l;s++){const u=t.changes[s],[h]=$d(u.text);this._tokenizationStateStore.applyEdits(u.range,h)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(t){this._resetTokenizationState(),this._textModel.clearTokens()}_resetTokenizationState(){const[t,s]=Age(this._textModel);t&&s?this._tokenizationStateStore=new mge(t,s):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,YA(t=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(t)}))}_backgroundTokenizeWithDeadline(t){const s=Date.now()+t.timeRemaining(),l=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<s?lW(l):this._beginBackgroundTokenization())};l()}_backgroundTokenizeForAtLeast1ms(){const t=this._textModel.getLineCount(),s=new Hb,l=mo.create(!1);do if(l.elapsed()>1||this._tokenizeOneInvalidLine(s)>=t)break;while(this._hasLinesToTokenize());this._textModel.setTokens(s.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(t,s){const l=new Hb;this._tokenizeViewport(l,t,s),this._textModel.setTokens(l.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(t){const s=new Hb;this._updateTokensUntilLine(s,t),this._textModel.setTokens(s.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(t,s){if(!this._tokenizationStateStore)return 0;this.forceTokenization(t.lineNumber);const l=this._tokenizationStateStore.getBeginState(t.lineNumber-1);if(!l)return 0;const u=this._textModel.getLanguageId(),h=this._textModel.getLineContent(t.lineNumber),f=h.substring(0,t.column-1)+s+h.substring(t.column-1),m=Np(this._languageIdCodec,u,this._tokenizationStateStore.tokenizationSupport,f,!0,l),A=new ws(m.tokens,f,this._languageIdCodec);if(A.getCount()===0)return 0;const C=A.findTokenIndexAtOffset(t.column-1);return A.getStandardTokenType(C)}tokenizeLineWithEdit(t,s,l){const u=t.lineNumber,h=t.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(u);const f=this._tokenizationStateStore.getBeginState(u-1);if(!f)return null;const m=this._textModel.getLineContent(u),A=m.substring(0,h-1)+l+m.substring(h-1+s),C=this._textModel.getLanguageIdAtPosition(u,0),w=Np(this._languageIdCodec,C,this._tokenizationStateStore.tokenizationSupport,A,!0,f);return new ws(w.tokens,A,this._languageIdCodec)}isCheapToTokenize(t){if(!this._tokenizationStateStore)return!0;const s=this._tokenizationStateStore.invalidLineStartIndex+1;return t>s?!1:t<s||this._textModel.getLineLength(t)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(t){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const s=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(t,s),s}_updateTokensUntilLine(t,s){if(!this._tokenizationStateStore)return;const l=this._textModel.getLanguageId(),u=this._textModel.getLineCount(),h=s-1;for(let f=this._tokenizationStateStore.invalidLineStartIndex;f<=h;f++){const m=this._textModel.getLineContent(f+1),A=this._tokenizationStateStore.getBeginState(f),C=Np(this._languageIdCodec,l,this._tokenizationStateStore.tokenizationSupport,m,!0,A);t.add(f+1,C.tokens),this._tokenizationStateStore.setEndState(u,f,C.endState),f=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(t,s,l){if(!this._tokenizationStateStore||l<=this._tokenizationStateStore.invalidLineStartIndex)return;if(s<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(t,l);return}let u=this._textModel.getLineFirstNonWhitespaceColumn(s);const h=[];let f=null;for(let C=s-1;u>1&&C>=1;C--){const w=this._textModel.getLineFirstNonWhitespaceColumn(C);if(w!==0&&w<u){if(f=this._tokenizationStateStore.getBeginState(C-1),f)break;h.push(this._textModel.getLineContent(C)),u=w}}f||(f=this._tokenizationStateStore.initialState);const m=this._textModel.getLanguageId();let A=f;for(let C=h.length-1;C>=0;C--)A=Np(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,h[C],!1,A).endState;for(let C=s;C<=l;C++){const w=this._textModel.getLineContent(C),k=Np(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,w,!0,A);t.add(C,k.tokens),this._tokenizationStateStore.markMustBeTokenized(C-1),A=k.endState}}}function Age(d){if(d.isTooLargeForTokenization())return[null,null];const t=bn.get(d.getLanguageId());if(!t)return[null,null];let s;try{s=t.getInitialState()}catch(l){return Bt(l),[null,null]}return[t,s]}function Np(d,t,s,l,u,h){let f=null;if(s)try{f=s.tokenizeEncoded(l,u,h.clone())}catch(m){Bt(m)}return f||(f=aI(d.encodeLanguageId(t),h)),ws.convertToEndOffset(f.tokens,l.length),f}const ic=new Uint32Array(0).buffer;class z2{static deleteBeginning(t,s){return t===null||t===ic?t:z2.delete(t,0,s)}static deleteEnding(t,s){if(t===null||t===ic)return t;const l=fc(t),u=l[l.length-2];return z2.delete(t,s,u)}static delete(t,s,l){if(t===null||t===ic||s===l)return t;const u=fc(t),h=u.length>>>1;if(s===0&&u[u.length-2]===l)return ic;const f=ws.findIndexInTokensArray(u,s),m=f>0?u[f-1<<1]:0,A=u[f<<1];if(l<A){const I=l-s;for(let N=f;N<h;N++)u[N<<1]-=I;return t}let C,w;m!==s?(u[f<<1]=s,C=f+1<<1,w=s):(C=f<<1,w=m);const k=l-s;for(let I=f+1;I<h;I++){const N=u[I<<1]-k;N>w&&(u[C++]=N,u[C++]=u[(I<<1)+1],w=N)}if(C===u.length)return t;const D=new Uint32Array(C);return D.set(u.subarray(0,C),0),D.buffer}static append(t,s){if(s===ic)return t;if(t===ic)return s;if(t===null)return t;if(s===null)return null;const l=fc(t),u=fc(s),h=u.length>>>1,f=new Uint32Array(l.length+u.length);f.set(l,0);let m=l.length;const A=l[l.length-2];for(let C=0;C<h;C++)f[m++]=u[C<<1]+A,f[m++]=u[(C<<1)+1];return f.buffer}static insert(t,s,l){if(t===null||t===ic)return t;const u=fc(t),h=u.length>>>1;let f=ws.findIndexInTokensArray(u,s);f>0&&u[f-1<<1]===s&&f--;for(let m=f;m<h;m++)u[m<<1]+=l;return t}}function fc(d){return d instanceof Uint32Array?d:new Uint32Array(d)}class SC{constructor(t){this._lineTokens=[],this._len=0,this._languageIdCodec=t}flush(){this._lineTokens=[],this._len=0}getTokens(t,s,l){let u=null;if(s<this._len&&(u=this._lineTokens[s]),u!==null&&u!==ic)return new ws(fc(u),l,this._languageIdCodec);const h=new Uint32Array(2);return h[0]=l.length,h[1]=eO(this._languageIdCodec.encodeLanguageId(t)),new ws(h,l,this._languageIdCodec)}static _massageTokens(t,s,l){const u=l?fc(l):null;if(s===0){let h=!1;if(u&&u.length>1&&(h=Ar.getLanguageId(u[1])!==t),!h)return ic}if(!u||u.length===0){const h=new Uint32Array(2);return h[0]=s,h[1]=eO(t),h.buffer}return u[u.length-2]=s,u.byteOffset===0&&u.byteLength===u.buffer.byteLength?u.buffer:u}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,s){s!==0&&(t+s>this._len&&(s=this._len-t),this._lineTokens.splice(t,s),this._len-=s)}_insertLines(t,s){if(s===0)return;const l=[];for(let u=0;u<s;u++)l[u]=null;this._lineTokens=_w(this._lineTokens,t,l),this._len+=s}setTokens(t,s,l,u,h){const f=SC._massageTokens(this._languageIdCodec.encodeLanguageId(t),l,u);this._ensureLine(s);const m=this._lineTokens[s];return this._lineTokens[s]=f,h?!SC._equals(m,f):!1}static _equals(t,s){if(!t||!s)return!t&&!s;const l=fc(t),u=fc(s);if(l.length!==u.length)return!1;for(let h=0,f=l.length;h<f;h++)if(l[h]!==u[h])return!1;return!0}acceptEdit(t,s,l){this._acceptDeleteRange(t),this._acceptInsertText(new me(t.startLineNumber,t.startColumn),s,l)}_acceptDeleteRange(t){const s=t.startLineNumber-1;if(s>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[s]=z2.delete(this._lineTokens[s],t.startColumn-1,t.endColumn-1);return}this._lineTokens[s]=z2.deleteEnding(this._lineTokens[s],t.startColumn-1);const l=t.endLineNumber-1;let u=null;l<this._len&&(u=z2.deleteBeginning(this._lineTokens[l],t.endColumn-1)),this._lineTokens[s]=z2.append(this._lineTokens[s],u),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,s,l){if(s===0&&l===0)return;const u=t.lineNumber-1;if(!(u>=this._len)){if(s===0){this._lineTokens[u]=z2.insert(this._lineTokens[u],t.column-1,l);return}this._lineTokens[u]=z2.deleteEnding(this._lineTokens[u],t.column-1),this._lineTokens[u]=z2.insert(this._lineTokens[u],t.column-1,l),this._insertLines(t.lineNumber,s)}}}function eO(d){return(d<<0|0<<8|0<<10|1<<14|2<<23)>>>0}class lx{constructor(t){this._pieces=[],this._isComplete=!1,this._languageIdCodec=t}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,s){this._pieces=t||[],this._isComplete=s}setPartial(t,s){let l=t;if(s.length>0){const h=s[0].getRange(),f=s[s.length-1].getRange();if(!h||!f)return t;l=t.plusRange(h).plusRange(f)}let u=null;for(let h=0,f=this._pieces.length;h<f;h++){const m=this._pieces[h];if(m.endLineNumber<l.startLineNumber)continue;if(m.startLineNumber>l.endLineNumber){u=u||{index:h};break}if(m.removeTokens(l),m.isEmpty()){this._pieces.splice(h,1),h--,f--;continue}if(m.endLineNumber<l.startLineNumber)continue;if(m.startLineNumber>l.endLineNumber){u=u||{index:h};continue}const[A,C]=m.split(l);if(A.isEmpty()){u=u||{index:h};continue}C.isEmpty()||(this._pieces.splice(h,1,A,C),h++,f++,u=u||{index:h})}return u=u||{index:this._pieces.length},s.length>0&&(this._pieces=_w(this._pieces,u.index,s)),l}isComplete(){return this._isComplete}addSparseTokens(t,s){const l=this._pieces;if(l.length===0)return s;const u=lx._findFirstPieceWithLine(l,t),h=l[u].getLineTokens(t);if(!h)return s;const f=s.getCount(),m=h.getCount();let A=0;const C=[];let w=0,k=0;const D=(I,N)=>{I!==k&&(k=I,C[w++]=I,C[w++]=N)};for(let I=0;I<m;I++){const N=h.getStartCharacter(I),R=h.getEndCharacter(I),O=h.getMetadata(I),W=((O&1?1024:0)|(O&2?2048:0)|(O&4?4096:0)|(O&8?8192:0)|(O&16?8372224:0)|(O&32?4286578688:0))>>>0,B=~W>>>0;for(;A<f&&s.getEndOffset(A)<=N;)D(s.getEndOffset(A),s.getMetadata(A)),A++;for(A<f&&s.getStartOffset(A)<N&&D(N,s.getMetadata(A));A<f&&s.getEndOffset(A)<R;)D(s.getEndOffset(A),s.getMetadata(A)&B|O&W),A++;if(A<f)D(R,s.getMetadata(A)&B|O&W),s.getEndOffset(A)===R&&A++;else{const z=Math.min(Math.max(0,A-1),f-1);D(R,s.getMetadata(z)&B|O&W)}}for(;A<f;)D(s.getEndOffset(A),s.getMetadata(A)),A++;return new ws(new Uint32Array(C),s.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(t,s){let l=0,u=t.length-1;for(;l<u;){let h=l+Math.floor((u-l)/2);if(t[h].endLineNumber<s)l=h+1;else if(t[h].startLineNumber>s)u=h-1;else{for(;h>l&&t[h-1].startLineNumber<=s&&s<=t[h-1].endLineNumber;)h--;return h}}return l}acceptEdit(t,s,l,u,h){for(const f of this._pieces)f.acceptEdit(t,s,l,u,h)}}const rv=hi("undoRedoService");class XH{constructor(t,s){this.resource=t,this.elements=s}}class Qg{constructor(){this.id=Qg._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Qg._ID=0;Qg.None=new Qg;class i0{constructor(){this.id=i0._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}i0._ID=0;i0.None=new i0;var _ge=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Ub=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};function Cge(){return new fge}function wge(d){const t=Cge();return t.acceptChunk(d),t.finish()}function tO(d,t){return(typeof d=="string"?wge(d):d).create(t)}let e6=0;const vge=999,kge=1e4;class bge{constructor(t){this._source=t,this._eos=!1}read(){if(this._eos)return null;const t=[];let s=0,l=0;do{const u=this._source.read();if(u===null)return this._eos=!0,s===0?null:t.join("");if(u.length>0&&(t[s++]=u,l+=u.length),l>=64*1024)return t.join("")}while(!0)}}const Tp=()=>{throw new Error("Invalid change accessor")};let Ec=class Xh extends Se{constructor(t,s,l,u=null,h,f,m){super(),this._undoRedoService=h,this._languageService=f,this._languageConfigurationService=m,this._onWillDispose=this._register(new he),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Dge(D=>this.handleBeforeFireDecorationsChangedEvent(D))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new he),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new he),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new he),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new he),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new he),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new he),this._eventEmitter=this._register(new Ige),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new he),e6++,this.id="$model"+e6,this.isForSimpleWidget=l.isForSimpleWidget,typeof u>"u"||u===null?this._associatedResource=Lt.parse("inmemory://model/"+e6):this._associatedResource=u,this._attachedEditorCount=0;const{textBuffer:A,disposable:C}=tO(t,l.defaultEOL);this._buffer=A,this._bufferDisposable=C,this._options=Xh.resolveOptions(this._buffer,l);const w=this._buffer.getLineCount(),k=this._buffer.getValueLengthInRange(new $(1,1,w,this._buffer.getLineLength(w)+1),0);l.largeFileOptimizations?this._isTooLargeForTokenization=k>Xh.LARGE_FILE_SIZE_THRESHOLD||w>Xh.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=k>Xh.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=s,this._languageRegistryListener=this._languageConfigurationService.onDidChange(D=>{D.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=WW(e6),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new iO,this._commandManager=new nx(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new SC(this._languageService.languageIdCodec),this._semanticTokens=new lx(this._languageService.languageIdCodec),this._tokenization=new pge(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new P1e(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ife(this,this._languageConfigurationService)),this._decorationProvider=this._register(new F1e(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(t,s){if(s.detectIndentation){const l=ZP(t,s.tabSize,s.insertSpaces);return new J6({tabSize:l.tabSize,indentSize:l.tabSize,insertSpaces:l.insertSpaces,trimAutoWhitespace:s.trimAutoWhitespace,defaultEOL:s.defaultEOL,bracketPairColorizationOptions:s.bracketPairColorizationOptions})}return new J6({tabSize:s.tabSize,indentSize:s.indentSize,insertSpaces:s.insertSpaces,trimAutoWhitespace:s.trimAutoWhitespace,defaultEOL:s.defaultEOL,bracketPairColorizationOptions:s.bracketPairColorizationOptions})}onDidChangeContent(t){return this._eventEmitter.slowEvent(s=>t(s.contentChangedEvent))}onDidChangeContentOrInjectedText(t){return vc(this._eventEmitter.fastEvent(s=>t(s.rawContentChangedEvent)),this._onDidChangeInjectedText.event(s=>t(s)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(t){if(this._backgroundTokenizationState===2)return;const s=t?2:1;this._backgroundTokenizationState!==s&&(this._backgroundTokenizationState=s,this._bracketPairColorizer.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const t=new vg([],"",`
`,!1,!1,!0,!0);t.dispose(),this._buffer=t,this._bufferDisposable=Se.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(t,s){this._isDisposing||(this._bracketPairColorizer.handleDidChangeContent(s),this._tokenization.handleDidChangeContent(s),this._eventEmitter.fire(new CC(t,s)))}setValue(t){if(this._assertNotDisposed(),t===null)return;const{textBuffer:s,disposable:l}=tO(t,this._options.defaultEOL);this._setValueFromTextBuffer(s,l)}_createContentChanged2(t,s,l,u,h,f,m){return{changes:[{range:t,rangeOffset:s,rangeLength:l,text:u}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:h,isRedoing:f,isFlush:m}}_setValueFromTextBuffer(t,s){this._assertNotDisposed();const l=this.getFullModelRange(),u=this.getValueLengthInRange(l),h=this.getLineCount(),f=this.getLineMaxColumn(h);this._buffer=t,this._bufferDisposable.dispose(),this._bufferDisposable=s,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new iO,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Ed([new Tfe],this._versionId,!1,!1),this._createContentChanged2(new $(1,1,h,f),0,u,this.getValue(),!1,!1,!0))}setEOL(t){this._assertNotDisposed();const s=t===1?`\r
`:`
`;if(this._buffer.getEOL()===s)return;const l=this.getFullModelRange(),u=this.getValueLengthInRange(l),h=this.getLineCount(),f=this.getLineMaxColumn(h);this._onBeforeEOLChange(),this._buffer.setEOL(s),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Ed([new Pfe],this._versionId,!1,!1),this._createContentChanged2(new $(1,1,h,f),0,u,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const t=this.getVersionId(),s=this._decorationsTree.collectNodesPostOrder();for(let l=0,u=s.length;l<u;l++){const h=s[l],f=h.range,m=h.cachedAbsoluteStart-h.start,A=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),C=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);h.cachedAbsoluteStart=A,h.cachedAbsoluteEnd=C,h.cachedVersionId=t,h.start=A-m,h.end=C-m,Xu(h)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let t=0,s=0;const l=this._buffer.getLineCount();for(let u=1;u<=l;u++){const h=this._buffer.getLineLength(u);h>=kge?s+=h:t+=h}return s>t}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(t){this._assertNotDisposed();const s=typeof t.tabSize<"u"?t.tabSize:this._options.tabSize,l=typeof t.indentSize<"u"?t.indentSize:this._options.indentSize,u=typeof t.insertSpaces<"u"?t.insertSpaces:this._options.insertSpaces,h=typeof t.trimAutoWhitespace<"u"?t.trimAutoWhitespace:this._options.trimAutoWhitespace,f=typeof t.bracketColorizationOptions<"u"?t.bracketColorizationOptions:this._options.bracketPairColorizationOptions,m=new J6({tabSize:s,indentSize:l,insertSpaces:u,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:h,bracketPairColorizationOptions:f});if(this._options.equals(m))return;const A=this._options.createChangeEvent(m);this._options=m,this._bracketPairColorizer.handleDidChangeOptions(A),this._decorationProvider.handleDidChangeOptions(A),this._onDidChangeOptions.fire(A)}detectIndentation(t,s){this._assertNotDisposed();const l=ZP(this._buffer,s,t);this.updateOptions({insertSpaces:l.insertSpaces,tabSize:l.tabSize,indentSize:l.tabSize})}normalizeIndentation(t){return this._assertNotDisposed(),hC(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(t=null){const s=this.findMatches(FW.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(t,s.map(l=>({range:l.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(t){this._assertNotDisposed();const s=this._validatePosition(t.lineNumber,t.column,0);return this._buffer.getOffsetAt(s.lineNumber,s.column)}getPositionAt(t){this._assertNotDisposed();const s=Math.min(this._buffer.getLength(),Math.max(0,t));return this._buffer.getPositionAt(s)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(t){this._versionId=t}_overwriteAlternativeVersionId(t){this._alternativeVersionId=t}_overwriteInitialUndoRedoSnapshot(t){this._initialUndoRedoSnapshot=t}getValue(t,s=!1){this._assertNotDisposed();const l=this.getFullModelRange(),u=this.getValueInRange(l,t);return s?this._buffer.getBOM()+u:u}createSnapshot(t=!1){return new bge(this._buffer.createSnapshot(t))}getValueLength(t,s=!1){this._assertNotDisposed();const l=this.getFullModelRange(),u=this.getValueLengthInRange(l,t);return s?this._buffer.getBOM().length+u:u}getValueInRange(t,s=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(t),s)}getValueLengthInRange(t,s=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(t),s)}getCharacterCountInRange(t,s=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(t),s)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(t)}getLineLength(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(t){return this._assertNotDisposed(),1}getLineMaxColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(t)+1}getLineFirstNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(t)}getLineLastNonWhitespaceColumn(t){if(this._assertNotDisposed(),t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(t)}_validateRangeRelaxedNoAllocations(t){const s=this._buffer.getLineCount(),l=t.startLineNumber,u=t.startColumn;let h=Math.floor(typeof l=="number"&&!isNaN(l)?l:1),f=Math.floor(typeof u=="number"&&!isNaN(u)?u:1);if(h<1)h=1,f=1;else if(h>s)h=s,f=this.getLineMaxColumn(h);else if(f<=1)f=1;else{const k=this.getLineMaxColumn(h);f>=k&&(f=k)}const m=t.endLineNumber,A=t.endColumn;let C=Math.floor(typeof m=="number"&&!isNaN(m)?m:1),w=Math.floor(typeof A=="number"&&!isNaN(A)?A:1);if(C<1)C=1,w=1;else if(C>s)C=s,w=this.getLineMaxColumn(C);else if(w<=1)w=1;else{const k=this.getLineMaxColumn(C);w>=k&&(w=k)}return l===h&&u===f&&m===C&&A===w&&t instanceof $&&!(t instanceof et)?t:new $(h,f,C,w)}_isValidPosition(t,s,l){if(typeof t!="number"||typeof s!="number"||isNaN(t)||isNaN(s)||t<1||s<1||(t|0)!==t||(s|0)!==s)return!1;const u=this._buffer.getLineCount();if(t>u)return!1;if(s===1)return!0;const h=this.getLineMaxColumn(t);if(s>h)return!1;if(l===1){const f=this._buffer.getLineCharCode(t,s-2);if(Cs(f))return!1}return!0}_validatePosition(t,s,l){const u=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),h=Math.floor(typeof s=="number"&&!isNaN(s)?s:1),f=this._buffer.getLineCount();if(u<1)return new me(1,1);if(u>f)return new me(f,this.getLineMaxColumn(f));if(h<=1)return new me(u,1);const m=this.getLineMaxColumn(u);if(h>=m)return new me(u,m);if(l===1){const A=this._buffer.getLineCharCode(u,h-2);if(Cs(A))return new me(u,h-1)}return new me(u,h)}validatePosition(t){return this._assertNotDisposed(),t instanceof me&&this._isValidPosition(t.lineNumber,t.column,1)?t:this._validatePosition(t.lineNumber,t.column,1)}_isValidRange(t,s){const l=t.startLineNumber,u=t.startColumn,h=t.endLineNumber,f=t.endColumn;if(!this._isValidPosition(l,u,0)||!this._isValidPosition(h,f,0))return!1;if(s===1){const m=u>1?this._buffer.getLineCharCode(l,u-2):0,A=f>1&&f<=this._buffer.getLineLength(h)?this._buffer.getLineCharCode(h,f-2):0,C=Cs(m),w=Cs(A);return!C&&!w}return!0}validateRange(t){if(this._assertNotDisposed(),t instanceof $&&!(t instanceof et)&&this._isValidRange(t,1))return t;const l=this._validatePosition(t.startLineNumber,t.startColumn,0),u=this._validatePosition(t.endLineNumber,t.endColumn,0),h=l.lineNumber,f=l.column,m=u.lineNumber,A=u.column;{const C=f>1?this._buffer.getLineCharCode(h,f-2):0,w=A>1&&A<=this._buffer.getLineLength(m)?this._buffer.getLineCharCode(m,A-2):0,k=Cs(C),D=Cs(w);return!k&&!D?new $(h,f,m,A):h===m&&f===A?new $(h,f-1,m,A-1):k&&D?new $(h,f-1,m,A+1):k?new $(h,f-1,m,A):new $(h,f,m,A+1)}}modifyPosition(t,s){this._assertNotDisposed();const l=this.getOffsetAt(t)+s;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,l)))}getFullModelRange(){this._assertNotDisposed();const t=this.getLineCount();return new $(1,1,t,this.getLineMaxColumn(t))}findMatchesLineByLine(t,s,l,u){return this._buffer.findMatchesLineByLine(t,s,l,u)}findMatches(t,s,l,u,h,f,m=vge){this._assertNotDisposed();let A=null;s!==null&&(Array.isArray(s)||(s=[s]),s.every(k=>$.isIRange(k))&&(A=s.map(k=>this.validateRange(k)))),A===null&&(A=[this.getFullModelRange()]),A=A.sort((k,D)=>k.startLineNumber-D.startLineNumber||k.startColumn-D.startColumn);const C=[];C.push(A.reduce((k,D)=>$.areIntersecting(k,D)?k.plusRange(D):(C.push(k),D)));let w;if(!l&&t.indexOf(`
`)<0){const D=new Kh(t,l,u,h).parseSearchRequest();if(!D)return[];w=I=>this.findMatchesLineByLine(I,D,f,m)}else w=k=>B8.findMatches(this,new Kh(t,l,u,h),k,f,m);return C.map(w).reduce((k,D)=>k.concat(D),[])}findNextMatch(t,s,l,u,h,f){this._assertNotDisposed();const m=this.validatePosition(s);if(!l&&t.indexOf(`
`)<0){const C=new Kh(t,l,u,h).parseSearchRequest();if(!C)return null;const w=this.getLineCount();let k=new $(m.lineNumber,m.column,w,this.getLineMaxColumn(w)),D=this.findMatchesLineByLine(k,C,f,1);return B8.findNextMatch(this,new Kh(t,l,u,h),m,f),D.length>0||(k=new $(1,1,m.lineNumber,this.getLineMaxColumn(m.lineNumber)),D=this.findMatchesLineByLine(k,C,f,1),D.length>0)?D[0]:null}return B8.findNextMatch(this,new Kh(t,l,u,h),m,f)}findPreviousMatch(t,s,l,u,h,f){this._assertNotDisposed();const m=this.validatePosition(s);return B8.findPreviousMatch(this,new Kh(t,l,u,h),m,f)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(t){if((this.getEOL()===`
`?0:1)!==t)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(t){return t instanceof nb?t:new nb(t.identifier||null,this.validateRange(t.range),t.text,t.forceMoveMarkers||!1,t.isAutoWhitespaceEdit||!1,t._isTracked||!1)}_validateEditOperations(t){const s=[];for(let l=0,u=t.length;l<u;l++)s[l]=this._validateEditOperation(t[l]);return s}pushEditOperations(t,s,l){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(t,this._validateEditOperations(s),l)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(t,s,l){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const u=s.map(f=>({range:this.validateRange(f.range),text:f.text}));let h=!0;if(t)for(let f=0,m=t.length;f<m;f++){const A=t[f];let C=!1;for(let w=0,k=u.length;w<k;w++){const D=u[w].range,I=D.startLineNumber>A.endLineNumber,N=A.startLineNumber>D.endLineNumber;if(!I&&!N){C=!0;break}}if(!C){h=!1;break}}if(h)for(let f=0,m=this._trimAutoWhitespaceLines.length;f<m;f++){const A=this._trimAutoWhitespaceLines[f],C=this.getLineMaxColumn(A);let w=!0;for(let k=0,D=u.length;k<D;k++){const I=u[k].range,N=u[k].text;if(!(A<I.startLineNumber||A>I.endLineNumber)&&!(A===I.startLineNumber&&I.startColumn===C&&I.isEmpty()&&N&&N.length>0&&N.charAt(0)===`
`)&&!(A===I.startLineNumber&&I.startColumn===1&&I.isEmpty()&&N&&N.length>0&&N.charAt(N.length-1)===`
`)){w=!1;break}}if(w){const k=new $(A,1,A,C);s.push(new nb(null,k,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(t,s,l)}_applyUndo(t,s,l,u){const h=t.map(f=>{const m=this.getPositionAt(f.newPosition),A=this.getPositionAt(f.newEnd);return{range:new $(m.lineNumber,m.column,A.lineNumber,A.column),text:f.oldText}});this._applyUndoRedoEdits(h,s,!0,!1,l,u)}_applyRedo(t,s,l,u){const h=t.map(f=>{const m=this.getPositionAt(f.oldPosition),A=this.getPositionAt(f.oldEnd);return{range:new $(m.lineNumber,m.column,A.lineNumber,A.column),text:f.newText}});this._applyUndoRedoEdits(h,s,!1,!0,l,u)}_applyUndoRedoEdits(t,s,l,u,h,f){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=l,this._isRedoing=u,this.applyEdits(t,!1),this.setEOL(s),this._overwriteAlternativeVersionId(h)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(f),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(t,s=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const l=this._validateEditOperations(t);return this._doApplyEdits(l,s)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(t,s){const l=this._buffer.getLineCount(),u=this._buffer.applyEdits(t,this._options.trimAutoWhitespace,s),h=this._buffer.getLineCount(),f=u.changes;if(this._trimAutoWhitespaceLines=u.trimAutoWhitespaceLineNumbers,f.length!==0){for(let C=0,w=f.length;C<w;C++){const k=f[C],[D,I,N]=$d(k.text);this._tokens.acceptEdit(k.range,D,I),this._semanticTokens.acceptEdit(k.range,D,I,N,k.text.length>0?k.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(k.rangeOffset,k.rangeLength,k.text.length,k.forceMoveMarkers)}const m=[];this._increaseVersionId();let A=l;for(let C=0,w=f.length;C<w;C++){const k=f[C],[D]=$d(k.text);this._onDidChangeDecorations.fire();const I=k.range.startLineNumber,N=k.range.endLineNumber,R=N-I,O=D,W=Math.min(R,O),B=O-R,z=h-A-B+I,G=z,K=z+O,q=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new me(G,1)),this.getOffsetAt(new me(K,this.getLineMaxColumn(K))),0),Y=s2.fromDecorations(q),J=new Tg(Y);for(let ne=W;ne>=0;ne--){const Ae=I+ne,ge=z+ne;J.takeFromEndWhile(Me=>Me.lineNumber>ge);const Te=J.takeFromEndWhile(Me=>Me.lineNumber===ge);m.push(new TP(Ae,this.getLineContent(ge),Te))}if(W<R){const ne=I+W;m.push(new Rfe(ne+1,N))}if(W<O){const ne=new Tg(Y),Ae=I+W,ge=O-W,Te=h-A-ge+Ae+1,Me=[],ct=[];for(let st=0;st<ge;st++){const kt=Te+st;ct[st]=this.getLineContent(kt),ne.takeWhile(Et=>Et.lineNumber<kt),Me[st]=ne.takeWhile(Et=>Et.lineNumber===kt)}m.push(new Mfe(Ae+1,I+O,ct,Me))}A+=B}this._emitContentChangedEvent(new Ed(m,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:f,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return u.reverseEdits===null?void 0:u.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(t){if(t===null||t.size===0)return;const l=[...t].map(u=>new TP(u,this.getLineContent(u),this._getInjectedTextInLine(u)));this._onDidChangeInjectedText.fire(new IH(l))}changeDecorations(t,s=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(s,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(t,s){const l={addDecoration:(h,f)=>this._deltaDecorationsImpl(t,[],[{range:h,options:f}])[0],changeDecoration:(h,f)=>{this._changeDecorationImpl(h,f)},changeDecorationOptions:(h,f)=>{this._changeDecorationOptionsImpl(h,sO(f))},removeDecoration:h=>{this._deltaDecorationsImpl(t,[h],[])},deltaDecorations:(h,f)=>h.length===0&&f.length===0?[]:this._deltaDecorationsImpl(t,h,f)};let u=null;try{u=s(l)}catch(h){Bt(h)}return l.addDecoration=Tp,l.changeDecoration=Tp,l.changeDecorationOptions=Tp,l.removeDecoration=Tp,l.deltaDecorations=Tp,u}deltaDecorations(t,s,l=0){if(this._assertNotDisposed(),t||(t=[]),t.length===0&&s.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(l,t,s)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(t){return this.getDecorationRange(t)}_setTrackedRange(t,s,l){const u=t?this._decorations[t]:null;if(!u)return s?this._deltaDecorationsImpl(0,[],[{range:s,options:nO[l]}])[0]:null;if(!s)return this._decorationsTree.delete(u),delete this._decorations[u.id],null;const h=this._validateRangeRelaxedNoAllocations(s),f=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),m=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);return this._decorationsTree.delete(u),u.reset(this.getVersionId(),f,m,h),u.setOptions(nO[l]),this._decorationsTree.insert(u),u.id}removeAllDecorationsWithOwnerId(t){if(this._isDisposed)return;const s=this._decorationsTree.collectNodesFromOwner(t);for(let l=0,u=s.length;l<u;l++){const h=s[l];this._decorationsTree.delete(h),delete this._decorations[h.id]}}getDecorationOptions(t){const s=this._decorations[t];return s?s.options:null}getDecorationRange(t){const s=this._decorations[t];return s?this._decorationsTree.getNodeRange(this,s):null}getLineDecorations(t,s=0,l=!1){return t<1||t>this.getLineCount()?[]:this.getLinesDecorations(t,t,s,l)}getLinesDecorations(t,s,l=0,u=!1){const h=this.getLineCount(),f=Math.min(h,Math.max(1,t)),m=Math.min(h,Math.max(1,s)),A=this.getLineMaxColumn(m),C=new $(f,1,m,A),w=this._getDecorationsInRange(C,l,u);return w.push(...this._decorationProvider.getDecorationsInRange(C,l,u)),w}getDecorationsInRange(t,s=0,l=!1){const u=this.validateRange(t),h=this._getDecorationsInRange(u,s,l);return h.push(...this._decorationProvider.getDecorationsInRange(u,s,l)),h}getOverviewRulerDecorations(t=0,s=!1){return this._decorationsTree.getAll(this,t,s,!0)}getInjectedTextDecorations(t=0){return this._decorationsTree.getAllInjectedText(this,t)}_getInjectedTextInLine(t){const s=this._buffer.getOffsetAt(t,1),l=s+this._buffer.getLineLength(t),u=this._decorationsTree.getInjectedTextInInterval(this,s,l,0);return s2.fromDecorations(u).filter(h=>h.lineNumber===t)}getAllDecorations(t=0,s=!1){let l=this._decorationsTree.getAll(this,t,s,!1);return l=l.concat(this._decorationProvider.getAllDecorations(t,s)),l}_getDecorationsInRange(t,s,l){const u=this._buffer.getOffsetAt(t.startLineNumber,t.startColumn),h=this._buffer.getOffsetAt(t.endLineNumber,t.endColumn);return this._decorationsTree.getAllInInterval(this,u,h,s,l)}getRangeAt(t,s){return this._buffer.getRangeAt(t,s-t)}_changeDecorationImpl(t,s){const l=this._decorations[t];if(!l)return;if(l.options.after){const m=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(m.endLineNumber)}if(l.options.before){const m=this.getDecorationRange(t);this._onDidChangeDecorations.recordLineAffectedByInjectedText(m.startLineNumber)}const u=this._validateRangeRelaxedNoAllocations(s),h=this._buffer.getOffsetAt(u.startLineNumber,u.startColumn),f=this._buffer.getOffsetAt(u.endLineNumber,u.endColumn);this._decorationsTree.delete(l),l.reset(this.getVersionId(),h,f,u),this._decorationsTree.insert(l),this._onDidChangeDecorations.checkAffectedAndFire(l.options),l.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.endLineNumber),l.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.startLineNumber)}_changeDecorationOptionsImpl(t,s){const l=this._decorations[t];if(!l)return;const u=!!(l.options.overviewRuler&&l.options.overviewRuler.color),h=!!(s.overviewRuler&&s.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(l.options),this._onDidChangeDecorations.checkAffectedAndFire(s),l.options.after||s.after){const f=this._decorationsTree.getNodeRange(this,l);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber)}if(l.options.before||s.before){const f=this._decorationsTree.getNodeRange(this,l);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber)}u!==h?(this._decorationsTree.delete(l),l.setOptions(s),this._decorationsTree.insert(l)):l.setOptions(s)}_deltaDecorationsImpl(t,s,l){const u=this.getVersionId(),h=s.length;let f=0;const m=l.length;let A=0;const C=new Array(m);for(;f<h||A<m;){let w=null;if(f<h){do w=this._decorations[s[f++]];while(!w&&f<h);if(w){if(w.options.after){const k=this._decorationsTree.getNodeRange(this,w);this._onDidChangeDecorations.recordLineAffectedByInjectedText(k.endLineNumber)}if(w.options.before){const k=this._decorationsTree.getNodeRange(this,w);this._onDidChangeDecorations.recordLineAffectedByInjectedText(k.startLineNumber)}this._decorationsTree.delete(w),this._onDidChangeDecorations.checkAffectedAndFire(w.options)}}if(A<m){if(!w){const O=++this._lastDecorationId,W=`${this._instanceId};${O}`;w=new QH(W,0,0),this._decorations[W]=w}const k=l[A],D=this._validateRangeRelaxedNoAllocations(k.range),I=sO(k.options),N=this._buffer.getOffsetAt(D.startLineNumber,D.startColumn),R=this._buffer.getOffsetAt(D.endLineNumber,D.endColumn);w.ownerId=t,w.reset(u,N,R,D),w.setOptions(I),w.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(D.endLineNumber),w.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(D.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(I),this._decorationsTree.insert(w),C[A]=w.id,A++}else w&&delete this._decorations[w.id]}return C}setTokens(t,s=!1){if(t.length!==0){const l=[];for(let u=0,h=t.length;u<h;u++){const f=t[u];let m=0,A=0,C=!1;for(let w=f.startLineNumber;w<=f.endLineNumber;w++)C?(this._tokens.setTokens(this._languageId,w-1,this._buffer.getLineLength(w),f.getLineTokens(w),!1),A=w):this._tokens.setTokens(this._languageId,w-1,this._buffer.getLineLength(w),f.getLineTokens(w),!0)&&(C=!0,m=w,A=w);C&&l.push({fromLineNumber:m,toLineNumber:A})}l.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:l})}this.handleTokenizationProgress(s)}setSemanticTokens(t,s){this._semanticTokens.set(t,s),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:t!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(t,s){if(this.hasCompleteSemanticTokens())return;const l=this.validateRange(this._semanticTokens.setPartial(t,s));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:l.startLineNumber,toLineNumber:l.endLineNumber}]})}tokenizeViewport(t,s){t=Math.max(1,t),s=Math.min(this._buffer.getLineCount(),s),this._tokenization.tokenizeViewport(t,s)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(t){this._isDisposing||(this._bracketPairColorizer.handleDidChangeTokens(t),this._onDidChangeTokens.fire(t))}resetTokenization(){this._tokenization.reset()}forceTokenization(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(t)}isCheapToTokenize(t){return this._tokenization.isCheapToTokenize(t)}tokenizeIfCheap(t){this.isCheapToTokenize(t)&&this.forceTokenization(t)}getLineTokens(t){if(t<1||t>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(t)}_getLineTokens(t){const s=this.getLineContent(t),l=this._tokens.getTokens(this._languageId,t-1,s);return this._semanticTokens.addSparseTokens(t,l)}getLanguageId(){return this._languageId}setMode(t){if(this._languageId===t)return;const s={oldLanguage:this._languageId,newLanguage:t};this._languageId=t,this._bracketPairColorizer.handleDidChangeLanguage(s),this._tokenization.handleDidChangeLanguage(s),this._onDidChangeLanguage.fire(s),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(t,s){const l=this.validatePosition(new me(t,s)),u=this.getLineTokens(l.lineNumber);return u.getLanguageId(u.findTokenIndexAtOffset(l.column-1))}getTokenTypeIfInsertingCharacter(t,s,l){const u=this.validatePosition(new me(t,s));return this._tokenization.getTokenTypeIfInsertingCharacter(u,l)}tokenizeLineWithEdit(t,s,l){const u=this.validatePosition(t);return this._tokenization.tokenizeLineWithEdit(u,s,l)}getLanguageConfiguration(t){return this._languageConfigurationService.getLanguageConfiguration(t)}getWordAtPosition(t){this._assertNotDisposed();const s=this.validatePosition(t),l=this.getLineContent(s.lineNumber),u=this._getLineTokens(s.lineNumber),h=u.findTokenIndexAtOffset(s.column-1),[f,m]=Xh._findLanguageBoundaries(u,h),A=HA(s.column,this.getLanguageConfiguration(u.getLanguageId(h)).getWordDefinition(),l.substring(f,m),f);if(A&&A.startColumn<=t.column&&t.column<=A.endColumn)return A;if(h>0&&f===s.column-1){const[C,w]=Xh._findLanguageBoundaries(u,h-1),k=HA(s.column,this.getLanguageConfiguration(u.getLanguageId(h-1)).getWordDefinition(),l.substring(C,w),C);if(k&&k.startColumn<=t.column&&t.column<=k.endColumn)return k}return null}static _findLanguageBoundaries(t,s){const l=t.getLanguageId(s);let u=0;for(let f=s;f>=0&&t.getLanguageId(f)===l;f--)u=t.getStartOffset(f);let h=t.getLineContent().length;for(let f=s,m=t.getCount();f<m&&t.getLanguageId(f)===l;f++)h=t.getEndOffset(f);return[u,h]}getWordUntilPosition(t){const s=this.getWordAtPosition(t);return s?{word:s.word.substr(0,t.column-s.startColumn),startColumn:s.startColumn,endColumn:t.column}:{word:"",startColumn:t.column,endColumn:t.column}}normalizePosition(t,s){return t}getLineIndentColumn(t){return Sge(this.getLineContent(t))+1}};Ec.MODEL_SYNC_LIMIT=50*1024*1024;Ec.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Ec.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Ec.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Mr.tabSize,indentSize:Mr.indentSize,insertSpaces:Mr.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Mr.trimAutoWhitespace,largeFileOptimizations:Mr.largeFileOptimizations,bracketPairColorizationOptions:Mr.bracketPairColorizationOptions};Ec=_ge([Ub(4,rv),Ub(5,yn),Ub(6,vr)],Ec);function Sge(d){let t=0;for(const s of d)if(s===" "||s==="	")t++;else break;return t}function zb(d){return!!(d.options.overviewRuler&&d.options.overviewRuler.color)}function Gb(d){return!!d.options.after||!!d.options.before}class iO{constructor(){this._decorationsTree0=new Bb,this._decorationsTree1=new Bb,this._injectedTextDecorationsTree=new Bb}ensureAllNodesHaveRanges(t){this.getAll(t,0,!1,!1)}_ensureNodesHaveRanges(t,s){for(const l of s)l.range===null&&(l.range=t.getRangeAt(l.cachedAbsoluteStart,l.cachedAbsoluteEnd));return s}getAllInInterval(t,s,l,u,h){const f=t.getVersionId(),m=this._intervalSearch(s,l,u,h,f);return this._ensureNodesHaveRanges(t,m)}_intervalSearch(t,s,l,u,h){const f=this._decorationsTree0.intervalSearch(t,s,l,u,h),m=this._decorationsTree1.intervalSearch(t,s,l,u,h),A=this._injectedTextDecorationsTree.intervalSearch(t,s,l,u,h);return f.concat(m).concat(A)}getInjectedTextInInterval(t,s,l,u){const h=t.getVersionId(),f=this._injectedTextDecorationsTree.intervalSearch(s,l,u,!1,h);return this._ensureNodesHaveRanges(t,f).filter(m=>m.options.showIfCollapsed||!m.range.isEmpty())}getAllInjectedText(t,s){const l=t.getVersionId(),u=this._injectedTextDecorationsTree.search(s,!1,l);return this._ensureNodesHaveRanges(t,u).filter(h=>h.options.showIfCollapsed||!h.range.isEmpty())}getAll(t,s,l,u){const h=t.getVersionId(),f=this._search(s,l,u,h);return this._ensureNodesHaveRanges(t,f)}_search(t,s,l,u){if(l)return this._decorationsTree1.search(t,s,u);{const h=this._decorationsTree0.search(t,s,u),f=this._decorationsTree1.search(t,s,u),m=this._injectedTextDecorationsTree.search(t,s,u);return h.concat(f).concat(m)}}collectNodesFromOwner(t){const s=this._decorationsTree0.collectNodesFromOwner(t),l=this._decorationsTree1.collectNodesFromOwner(t),u=this._injectedTextDecorationsTree.collectNodesFromOwner(t);return s.concat(l).concat(u)}collectNodesPostOrder(){const t=this._decorationsTree0.collectNodesPostOrder(),s=this._decorationsTree1.collectNodesPostOrder(),l=this._injectedTextDecorationsTree.collectNodesPostOrder();return t.concat(s).concat(l)}insert(t){Gb(t)?this._injectedTextDecorationsTree.insert(t):zb(t)?this._decorationsTree1.insert(t):this._decorationsTree0.insert(t)}delete(t){Gb(t)?this._injectedTextDecorationsTree.delete(t):zb(t)?this._decorationsTree1.delete(t):this._decorationsTree0.delete(t)}getNodeRange(t,s){const l=t.getVersionId();return s.cachedVersionId!==l&&this._resolveNode(s,l),s.range===null&&(s.range=t.getRangeAt(s.cachedAbsoluteStart,s.cachedAbsoluteEnd)),s.range}_resolveNode(t,s){Gb(t)?this._injectedTextDecorationsTree.resolveNode(t,s):zb(t)?this._decorationsTree1.resolveNode(t,s):this._decorationsTree0.resolveNode(t,s)}acceptReplace(t,s,l,u){this._decorationsTree0.acceptReplace(t,s,l,u),this._decorationsTree1.acceptReplace(t,s,l,u),this._injectedTextDecorationsTree.acceptReplace(t,s,l,u)}}function nu(d){return d.replace(/[^a-z0-9\-_]/gi," ")}class JH{constructor(t){this.color=t.color||"",this.darkColor=t.darkColor||""}}class yge extends JH{constructor(t){super(t),this._resolvedColor=null,this.position=typeof t.position=="number"?t.position:Bl.Center}getColor(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(t,s){if(typeof t=="string")return t;const l=t?s.getColor(t.id):null;return l?l.toString():""}}class Lge extends JH{constructor(t){super(t),this.position=t.position}getColor(t){return this._resolvedColor||(t.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,t):this._resolvedColor=this._resolveColor(this.color,t)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(t,s){return typeof t=="string"?ke.fromHex(t):s.getColor(t.id)}}class Kd{constructor(t){this.content=t.content||"",this.inlineClassName=t.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=t.attachedData||null,this.cursorStops=t.cursorStops||null}static from(t){return t instanceof Kd?t:new Kd(t)}}class Qt{constructor(t){var s,l;this.description=t.description,this.stickiness=t.stickiness||0,this.zIndex=t.zIndex||0,this.className=t.className?nu(t.className):null,this.hoverMessage=t.hoverMessage||null,this.glyphMarginHoverMessage=t.glyphMarginHoverMessage||null,this.isWholeLine=t.isWholeLine||!1,this.showIfCollapsed=t.showIfCollapsed||!1,this.collapseOnReplaceEdit=t.collapseOnReplaceEdit||!1,this.overviewRuler=t.overviewRuler?new yge(t.overviewRuler):null,this.minimap=t.minimap?new Lge(t.minimap):null,this.glyphMarginClassName=t.glyphMarginClassName?nu(t.glyphMarginClassName):null,this.linesDecorationsClassName=t.linesDecorationsClassName?nu(t.linesDecorationsClassName):null,this.firstLineDecorationClassName=t.firstLineDecorationClassName?nu(t.firstLineDecorationClassName):null,this.marginClassName=t.marginClassName?nu(t.marginClassName):null,this.inlineClassName=t.inlineClassName?nu(t.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=t.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=t.beforeContentClassName?nu(t.beforeContentClassName):null,this.afterContentClassName=t.afterContentClassName?nu(t.afterContentClassName):null,this.after=t.after?Kd.from(t.after):null,this.before=t.before?Kd.from(t.before):null,this.hideInCommentTokens=(s=t.hideInCommentTokens)!==null&&s!==void 0?s:!1,this.hideInStringTokens=(l=t.hideInStringTokens)!==null&&l!==void 0?l:!1}static register(t){return new Qt(t)}static createDynamic(t){return new Qt(t)}}Qt.EMPTY=Qt.register({description:"empty"});const nO=[Qt.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Qt.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Qt.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Qt.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function sO(d){return d instanceof Qt?d:Qt.createDynamic(d)}class Dge extends Se{constructor(t){super(),this.handleBeforeFire=t,this._actual=this._register(new he),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var t;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const s={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(s)}(t=this._affectedInjectedTextLines)===null||t===void 0||t.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(t){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(t)}checkAffectedAndFire(t){this._affectsMinimap||(this._affectsMinimap=!!(t.minimap&&t.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(t.overviewRuler&&t.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Ige extends Se{constructor(){super(),this._fastEmitter=this._register(new he),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new he),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(t=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=t;const s=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(s),this._slowEmitter.fire(s)}}fire(t){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(t):this._deferredEvent=t;return}this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}function jb(d,t){return d===null?t?yC.INSTANCE:LC.INSTANCE:new xge(d,t)}class xge{constructor(t,s){this._projectionData=t,this._isVisible=s}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,s,l){this._assertVisible();const u=l>0?this._projectionData.breakOffsets[l-1]:0,h=this._projectionData.breakOffsets[l];let f;if(this._projectionData.injectionOffsets!==null){const m=this._projectionData.injectionOffsets.map((C,w)=>new s2(0,0,C+1,this._projectionData.injectionOptions[w],0));f=s2.applyInjectedText(t.getLineContent(s),m).substring(u,h)}else f=t.getValueInRange({startLineNumber:s,startColumn:u+1,endLineNumber:s,endColumn:h+1});return l>0&&(f=rO(this._projectionData.wrappedTextIndentLength)+f),f}getViewLineLength(t,s,l){return this._assertVisible(),this._projectionData.getLineLength(l)}getViewLineMinColumn(t,s,l){return this._assertVisible(),this._projectionData.getMinOutputOffset(l)+1}getViewLineMaxColumn(t,s,l){return this._assertVisible(),this._projectionData.getMaxOutputOffset(l)+1}getViewLineData(t,s,l){const u=new Array;return this.getViewLinesData(t,s,l,1,0,[!0],u),u[0]}getViewLinesData(t,s,l,u,h,f,m){this._assertVisible();const A=this._projectionData,C=A.injectionOffsets,w=A.injectionOptions;let k=null;if(C){k=[];let I=0,N=0;for(let R=0;R<A.getOutputLineCount();R++){const O=new Array;k[R]=O;const W=R>0?A.breakOffsets[R-1]:0,B=A.breakOffsets[R];for(;N<C.length;){const z=w[N].content.length,G=C[N]+I,K=G+z;if(G>B)break;if(W<K){const q=w[N];if(q.inlineClassName){const Y=R>0?A.wrappedTextIndentLength:0,J=Y+Math.max(G-W,0),ne=Y+Math.min(K-W,B);J!==ne&&O.push(new N0e(J,ne,q.inlineClassName,q.inlineClassNameAffectsLetterSpacing))}}if(K<=B)I+=z,N++;else break}}}let D;C?D=t.getLineTokens(s).withInserted(C.map((I,N)=>({offset:I,text:w[N].content,tokenMetadata:ws.defaultTokenMetadata}))):D=t.getLineTokens(s);for(let I=l;I<l+u;I++){const N=h+I-l;if(!f[N]){m[N]=null;continue}m[N]=this._getViewLineData(D,k?k[I]:null,I)}}_getViewLineData(t,s,l){this._assertVisible();const u=this._projectionData,h=l>0?u.wrappedTextIndentLength:0,f=l>0?u.breakOffsets[l-1]:0,m=u.breakOffsets[l],A=t.sliceAndInflate(f,m,h);let C=A.getLineContent();l>0&&(C=rO(u.wrappedTextIndentLength)+C);const w=this._projectionData.getMinOutputOffset(l)+1,k=C.length+1,D=l+1<this.getViewLineCount(),I=l===0?0:u.breakOffsetsVisibleColumn[l-1];return new AI(C,D,w,k,I,A,s)}getModelColumnOfViewPosition(t,s){return this._assertVisible(),this._projectionData.translateToInputOffset(t,s-1)+1}getViewPositionOfModelPosition(t,s,l=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(s-1,l).toPosition(t)}getViewLineNumberOfModelPosition(t,s){this._assertVisible();const l=this._projectionData.translateToOutputPosition(s-1);return t+l.outputLineIndex}normalizePosition(t,s,l){const u=s.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,s.column-1,l).toPosition(u)}getInjectedTextAt(t,s){return this._projectionData.getInjectedText(t,s-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class yC{constructor(){}isVisible(){return!0}setVisible(t){return t?this:LC.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,s,l){return t.getLineContent(s)}getViewLineLength(t,s,l){return t.getLineLength(s)}getViewLineMinColumn(t,s,l){return t.getLineMinColumn(s)}getViewLineMaxColumn(t,s,l){return t.getLineMaxColumn(s)}getViewLineData(t,s,l){const u=t.getLineTokens(s),h=u.getLineContent();return new AI(h,!1,1,h.length+1,0,u.inflate(),null)}getViewLinesData(t,s,l,u,h,f,m){if(!f[h]){m[h]=null;return}m[h]=this.getViewLineData(t,s,0)}getModelColumnOfViewPosition(t,s){return s}getViewPositionOfModelPosition(t,s){return new me(t,s)}getViewLineNumberOfModelPosition(t,s){return t}normalizePosition(t,s,l){return s}getInjectedTextAt(t,s){return null}}yC.INSTANCE=new yC;class LC{constructor(){}isVisible(){return!1}setVisible(t){return t?yC.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,s,l){throw new Error("Not supported")}getViewLineLength(t,s,l){throw new Error("Not supported")}getViewLineMinColumn(t,s,l){throw new Error("Not supported")}getViewLineMaxColumn(t,s,l){throw new Error("Not supported")}getViewLineData(t,s,l){throw new Error("Not supported")}getViewLinesData(t,s,l,u,h,f,m){throw new Error("Not supported")}getModelColumnOfViewPosition(t,s){throw new Error("Not supported")}getViewPositionOfModelPosition(t,s){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,s){throw new Error("Not supported")}normalizePosition(t,s,l){throw new Error("Not supported")}getInjectedTextAt(t,s){throw new Error("Not supported")}}LC.INSTANCE=new LC;let Zb=[""];function rO(d){if(d>=Zb.length)for(let t=1;t<=d;t++)Zb[t]=Ege(t);return Zb[d]}function Ege(d){return new Array(d+1).join(" ")}class Nge{constructor(t,s,l,u,h,f,m,A,C){this._editorId=t,this.model=s,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=l,this._monospaceLineBreaksComputerFactory=u,this.fontInfo=h,this.tabSize=f,this.wrappingStrategy=m,this.wrappingColumn=A,this.wrappingIndent=C,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Rge(this)}_constructLines(t,s){this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const l=this.model.getLinesContent(),u=this.model.getInjectedTextDecorations(this._editorId),h=l.length,f=this.createLineBreaksComputer(),m=new Tg(s2.fromDecorations(u));for(let R=0;R<h;R++){const O=m.takeWhile(W=>W.lineNumber===R+1);f.addRequest(l[R],O,s?s[R]:null)}const A=f.finalize(),C=[],w=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort($.compareRangesUsingStarts);let k=1,D=0,I=-1,N=I+1<w.length?D+1:h+2;for(let R=0;R<h;R++){const O=R+1;O===N&&(I++,k=w[I].startLineNumber,D=w[I].endLineNumber,N=I+1<w.length?D+1:h+2);const W=O>=k&&O<=D,B=jb(A[R],!W);C[R]=B.getViewLineCount(),this.modelLineProjections[R]=B}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Y2e(C)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(t=>this.model.getDecorationRange(t))}setHiddenAreas(t){const s=t.map(D=>this.model.validateRange(D)),l=Tge(s),u=this.hiddenAreasDecorationIds.map(D=>this.model.getDecorationRange(D)).sort($.compareRangesUsingStarts);if(l.length===u.length){let D=!1;for(let I=0;I<l.length;I++)if(!l[I].equalsRange(u[I])){D=!0;break}if(!D)return!1}const h=l.map(D=>({range:D,options:Qt.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,h);const f=l;let m=1,A=0,C=-1,w=C+1<f.length?A+1:this.modelLineProjections.length+2,k=!1;for(let D=0;D<this.modelLineProjections.length;D++){const I=D+1;I===w&&(C++,m=f[C].startLineNumber,A=f[C].endLineNumber,w=C+1<f.length?A+1:this.modelLineProjections.length+2);let N=!1;if(I>=m&&I<=A?this.modelLineProjections[D].isVisible()&&(this.modelLineProjections[D]=this.modelLineProjections[D].setVisible(!1),N=!0):(k=!0,this.modelLineProjections[D].isVisible()||(this.modelLineProjections[D]=this.modelLineProjections[D].setVisible(!0),N=!0)),N){const R=this.modelLineProjections[D].getViewLineCount();this.projectedModelLineLineCounts.setValue(D,R)}}return k||this.setHiddenAreas([]),!0}modelPositionIsVisible(t,s){return t<1||t>this.modelLineProjections.length?!1:this.modelLineProjections[t-1].isVisible()}getModelLineViewLineCount(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()}setTabSize(t){return this.tabSize===t?!1:(this.tabSize=t,this._constructLines(!1,null),!0)}setWrappingSettings(t,s,l,u){const h=this.fontInfo.equals(t),f=this.wrappingStrategy===s,m=this.wrappingColumn===l,A=this.wrappingIndent===u;if(h&&f&&m&&A)return!1;const C=h&&f&&!m&&A;this.fontInfo=t,this.wrappingStrategy=s,this.wrappingColumn=l,this.wrappingIndent=u;let w=null;if(C){w=[];for(let k=0,D=this.modelLineProjections.length;k<D;k++)w[k]=this.modelLineProjections[k].getProjectionData()}return this._constructLines(!1,w),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(t,s,l){if(!t||t<=this._validModelVersionId)return null;const u=s===1?1:this.projectedModelLineLineCounts.getPrefixSum(s-1)+1,h=this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections.splice(s-1,l-s+1),this.projectedModelLineLineCounts.removeValues(s-1,l-s+1),new Gy(u,h)}onModelLinesInserted(t,s,l,u){if(!t||t<=this._validModelVersionId)return null;const h=s>2&&!this.modelLineProjections[s-2].isVisible(),f=s===1?1:this.projectedModelLineLineCounts.getPrefixSum(s-1)+1;let m=0;const A=[],C=[];for(let w=0,k=u.length;w<k;w++){const D=jb(u[w],!h);A.push(D);const I=D.getViewLineCount();m+=I,C[w]=I}return this.modelLineProjections=this.modelLineProjections.slice(0,s-1).concat(A).concat(this.modelLineProjections.slice(s-1)),this.projectedModelLineLineCounts.insertValues(s-1,C),new jy(f,f+m-1)}onModelLineChanged(t,s,l){if(t!==null&&t<=this._validModelVersionId)return[!1,null,null,null];const u=s-1,h=this.modelLineProjections[u].getViewLineCount(),f=this.modelLineProjections[u].isVisible(),m=jb(l,f);this.modelLineProjections[u]=m;const A=this.modelLineProjections[u].getViewLineCount();let C=!1,w=0,k=-1,D=0,I=-1,N=0,R=-1;h>A?(w=this.projectedModelLineLineCounts.getPrefixSum(s-1)+1,k=w+A-1,N=k+1,R=N+(h-A)-1,C=!0):h<A?(w=this.projectedModelLineLineCounts.getPrefixSum(s-1)+1,k=w+h-1,D=k+1,I=D+(A-h)-1,C=!0):(w=this.projectedModelLineLineCounts.getPrefixSum(s-1)+1,k=w+A-1),this.projectedModelLineLineCounts.setValue(u,A);const O=w<=k?new xH(w,k):null,W=D<=I?new jy(D,I):null,B=N<=R?new Gy(N,R):null;return[C,O,W,B]}acceptVersionId(t){this._validModelVersionId=t,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(t){if(t<1)return 1;const s=this.getViewLineCount();return t>s?s:t|0}getActiveIndentGuide(t,s,l){t=this._toValidViewLineNumber(t),s=this._toValidViewLineNumber(s),l=this._toValidViewLineNumber(l);const u=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),h=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),f=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),m=this.model.guides.getActiveIndentGuide(u.lineNumber,h.lineNumber,f.lineNumber),A=this.convertModelPositionToViewPosition(m.startLineNumber,1),C=this.convertModelPositionToViewPosition(m.endLineNumber,this.model.getLineMaxColumn(m.endLineNumber));return{startLineNumber:A.lineNumber,endLineNumber:C.lineNumber,indent:m.indent}}getViewLineInfo(t){t=this._toValidViewLineNumber(t);const s=this.projectedModelLineLineCounts.getIndexOf(t-1),l=s.index,u=s.remainder;return new oO(l+1,u)}getMinColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(t){const s=this.modelLineProjections[t.modelLineNumber-1],l=s.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),u=s.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,l);return new me(t.modelLineNumber,u)}getModelEndPositionOfViewLine(t){const s=this.modelLineProjections[t.modelLineNumber-1],l=s.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),u=s.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,l);return new me(t.modelLineNumber,u)}getViewLineInfosGroupedByModelRanges(t,s){const l=this.getViewLineInfo(t),u=this.getViewLineInfo(s),h=new Array;let f=this.getModelStartPositionOfViewLine(l),m=new Array;for(let A=l.modelLineNumber;A<=u.modelLineNumber;A++){const C=this.modelLineProjections[A-1];if(C.isVisible()){const w=A===l.modelLineNumber?l.modelLineWrappedLineIdx:0,k=A===u.modelLineNumber?u.modelLineWrappedLineIdx+1:C.getViewLineCount();for(let D=w;D<k;D++)m.push(new oO(A,D))}if(!C.isVisible()&&f){const w=new me(A-1,this.model.getLineMaxColumn(A-1)+1),k=$.fromPositions(f,w);h.push(new lO(k,m)),m=[],f=null}else C.isVisible()&&!f&&(f=new me(A,1))}if(f){const A=$.fromPositions(f,this.getModelEndPositionOfViewLine(u));h.push(new lO(A,m))}return h}getViewLinesBracketGuides(t,s,l,u){const h=l?this.convertViewPositionToModelPosition(l.lineNumber,l.column):null,f=[];for(const m of this.getViewLineInfosGroupedByModelRanges(t,s)){const A=m.modelRange.startLineNumber,C=this.model.guides.getLinesBracketGuides(A,m.modelRange.endLineNumber,h,u);for(const w of m.viewLines)if(w.isWrappedLineContinuation&&this.getMinColumnOfViewLine(w)===1)f.push([]);else{let k=C[w.modelLineNumber-A];k=k.map(D=>D.horizontalLine?new eg(D.visibleColumn,D.className,new zy(D.horizontalLine.top,this.convertModelPositionToViewPosition(w.modelLineNumber,D.horizontalLine.endColumn).column)):D),f.push(k)}}return f}getViewLinesIndentGuides(t,s){t=this._toValidViewLineNumber(t),s=this._toValidViewLineNumber(s);const l=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),u=this.convertViewPositionToModelPosition(s,this.getViewLineMaxColumn(s));let h=[];const f=[],m=[],A=l.lineNumber-1,C=u.lineNumber-1;let w=null;for(let N=A;N<=C;N++){const R=this.modelLineProjections[N];if(R.isVisible()){const O=R.getViewLineNumberOfModelPosition(0,N===A?l.column:1),W=R.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(N+1)),B=W-O+1;let z=0;B>1&&R.getViewLineMinColumn(this.model,N+1,W)===1&&(z=O===0?1:2),f.push(B),m.push(z),w===null&&(w=new me(N+1,0))}else w!==null&&(h=h.concat(this.model.guides.getLinesIndentGuides(w.lineNumber,N)),w=null)}w!==null&&(h=h.concat(this.model.guides.getLinesIndentGuides(w.lineNumber,u.lineNumber)),w=null);const k=s-t+1,D=new Array(k);let I=0;for(let N=0,R=h.length;N<R;N++){let O=h[N];const W=Math.min(k-I,f[N]),B=m[N];let z;B===2?z=0:B===1?z=1:z=W;for(let G=0;G<W;G++)G===z&&(O=0),D[I++]=O}return D}getViewLineContent(t){const s=this.getViewLineInfo(t);return this.modelLineProjections[s.modelLineNumber-1].getViewLineContent(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getViewLineLength(t){const s=this.getViewLineInfo(t);return this.modelLineProjections[s.modelLineNumber-1].getViewLineLength(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getViewLineMinColumn(t){const s=this.getViewLineInfo(t);return this.modelLineProjections[s.modelLineNumber-1].getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getViewLineMaxColumn(t){const s=this.getViewLineInfo(t);return this.modelLineProjections[s.modelLineNumber-1].getViewLineMaxColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getViewLineData(t){const s=this.getViewLineInfo(t);return this.modelLineProjections[s.modelLineNumber-1].getViewLineData(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getViewLinesData(t,s,l){t=this._toValidViewLineNumber(t),s=this._toValidViewLineNumber(s);const u=this.projectedModelLineLineCounts.getIndexOf(t-1);let h=t;const f=u.index,m=u.remainder,A=[];for(let C=f,w=this.model.getLineCount();C<w;C++){const k=this.modelLineProjections[C];if(!k.isVisible())continue;const D=C===f?m:0;let I=k.getViewLineCount()-D,N=!1;if(h+I>s&&(N=!0,I=s-h+1),k.getViewLinesData(this.model,C+1,D,I,h-t,l,A),h+=I,N)break}return A}validateViewPosition(t,s,l){t=this._toValidViewLineNumber(t);const u=this.projectedModelLineLineCounts.getIndexOf(t-1),h=u.index,f=u.remainder,m=this.modelLineProjections[h],A=m.getViewLineMinColumn(this.model,h+1,f),C=m.getViewLineMaxColumn(this.model,h+1,f);s<A&&(s=A),s>C&&(s=C);const w=m.getModelColumnOfViewPosition(f,s);return this.model.validatePosition(new me(h+1,w)).equals(l)?new me(t,s):this.convertModelPositionToViewPosition(l.lineNumber,l.column)}validateViewRange(t,s){const l=this.validateViewPosition(t.startLineNumber,t.startColumn,s.getStartPosition()),u=this.validateViewPosition(t.endLineNumber,t.endColumn,s.getEndPosition());return new $(l.lineNumber,l.column,u.lineNumber,u.column)}convertViewPositionToModelPosition(t,s){const l=this.getViewLineInfo(t),u=this.modelLineProjections[l.modelLineNumber-1].getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,s);return this.model.validatePosition(new me(l.modelLineNumber,u))}convertViewRangeToModelRange(t){const s=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),l=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new $(s.lineNumber,s.column,l.lineNumber,l.column)}convertModelPositionToViewPosition(t,s,l=2){const u=this.model.validatePosition(new me(t,s)),h=u.lineNumber,f=u.column;let m=h-1,A=!1;for(;m>0&&!this.modelLineProjections[m].isVisible();)m--,A=!0;if(m===0&&!this.modelLineProjections[m].isVisible())return new me(1,1);const C=1+this.projectedModelLineLineCounts.getPrefixSum(m);let w;return A?w=this.modelLineProjections[m].getViewPositionOfModelPosition(C,this.model.getLineMaxColumn(m+1),l):w=this.modelLineProjections[h-1].getViewPositionOfModelPosition(C,f,l),w}convertModelRangeToViewRange(t,s=0){if(t.isEmpty()){const l=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,s);return $.fromPositions(l)}else{const l=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),u=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new $(l.lineNumber,l.column,u.lineNumber,u.column)}}getViewLineNumberOfModelPosition(t,s){let l=t-1;if(this.modelLineProjections[l].isVisible()){const h=1+this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections[l].getViewLineNumberOfModelPosition(h,s)}for(;l>0&&!this.modelLineProjections[l].isVisible();)l--;if(l===0&&!this.modelLineProjections[l].isVisible())return 1;const u=1+this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections[l].getViewLineNumberOfModelPosition(u,this.model.getLineMaxColumn(l+1))}getDecorationsInRange(t,s,l){const u=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),h=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(h.lineNumber-u.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new $(u.lineNumber,1,h.lineNumber,h.column),s,l);let f=[];const m=u.lineNumber-1,A=h.lineNumber-1;let C=null;for(let I=m;I<=A;I++)if(this.modelLineProjections[I].isVisible())C===null&&(C=new me(I+1,I===m?u.column:1));else if(C!==null){const R=this.model.getLineMaxColumn(I);f=f.concat(this.model.getDecorationsInRange(new $(C.lineNumber,C.column,I,R),s,l)),C=null}C!==null&&(f=f.concat(this.model.getDecorationsInRange(new $(C.lineNumber,C.column,h.lineNumber,h.column),s,l)),C=null),f.sort((I,N)=>{const R=$.compareRangesUsingStarts(I.range,N.range);return R===0?I.id<N.id?-1:I.id>N.id?1:0:R});let w=[],k=0,D=null;for(const I of f){const N=I.id;D!==N&&(D=N,w[k++]=I)}return w}getInjectedTextAt(t){const s=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[s.modelLineNumber-1].getInjectedTextAt(s.modelLineWrappedLineIdx,t.column)}normalizePosition(t,s){const l=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].normalizePosition(l.modelLineWrappedLineIdx,t,s)}getLineIndentColumn(t){const s=this.getViewLineInfo(t);return s.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(s.modelLineNumber):0}}function Tge(d){if(d.length===0)return[];const t=d.slice();t.sort($.compareRangesUsingStarts);const s=[];let l=t[0].startLineNumber,u=t[0].endLineNumber;for(let h=1,f=t.length;h<f;h++){const m=t[h];m.startLineNumber>u+1?(s.push(new $(l,1,u,1)),l=m.startLineNumber,u=m.endLineNumber):m.endLineNumber>u&&(u=m.endLineNumber)}return s.push(new $(l,1,u,1)),s}class oO{constructor(t,s){this.modelLineNumber=t,this.modelLineWrappedLineIdx=s}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class lO{constructor(t,s){this.modelRange=t,this.viewLines=s}}class Rge{constructor(t){this._lines=t}convertViewPositionToModelPosition(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)}convertViewRangeToModelRange(t){return this._lines.convertViewRangeToModelRange(t)}validateViewPosition(t,s){return this._lines.validateViewPosition(t.lineNumber,t.column,s)}validateViewRange(t,s){return this._lines.validateViewRange(t,s)}convertModelPositionToViewPosition(t,s){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,s)}convertModelRangeToViewRange(t,s){return this._lines.convertModelRangeToViewRange(t,s)}modelPositionIsVisible(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)}getModelLineViewLineCount(t){return this._lines.getModelLineViewLineCount(t)}getViewLineNumberOfModelPosition(t,s){return this._lines.getViewLineNumberOfModelPosition(t,s)}}class Mge{constructor(t){this.model=t}dispose(){}createCoordinatesConverter(){return new Pge(this)}getHiddenAreas(){return[]}setHiddenAreas(t){return!1}setTabSize(t){return!1}setWrappingSettings(t,s,l,u){return!1}createLineBreaksComputer(){const t=[];return{addRequest:(s,l,u)=>{t.push(null)},finalize:()=>t}}onModelFlushed(){}onModelLinesDeleted(t,s,l){return new Gy(s,l)}onModelLinesInserted(t,s,l,u){return new jy(s,l)}onModelLineChanged(t,s,l){return[!1,new xH(s,s),null,null]}acceptVersionId(t){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(t,s,l){return{startLineNumber:t,endLineNumber:t,indent:0}}getViewLinesBracketGuides(t,s,l){return new Array(s-t+1).fill([])}getViewLinesIndentGuides(t,s){const l=s-t+1,u=new Array(l);for(let h=0;h<l;h++)u[h]=0;return u}getViewLineContent(t){return this.model.getLineContent(t)}getViewLineLength(t){return this.model.getLineLength(t)}getViewLineMinColumn(t){return this.model.getLineMinColumn(t)}getViewLineMaxColumn(t){return this.model.getLineMaxColumn(t)}getViewLineData(t){const s=this.model.getLineTokens(t),l=s.getLineContent();return new AI(l,!1,1,l.length+1,0,s.inflate(),null)}getViewLinesData(t,s,l){const u=this.model.getLineCount();t=Math.min(Math.max(1,t),u),s=Math.min(Math.max(1,s),u);const h=[];for(let f=t;f<=s;f++){const m=f-t;h[m]=l[m]?this.getViewLineData(f):null}return h}getDecorationsInRange(t,s,l){return this.model.getDecorationsInRange(t,s,l)}normalizePosition(t,s){return this.model.normalizePosition(t,s)}getLineIndentColumn(t){return this.model.getLineIndentColumn(t)}getInjectedTextAt(t){return null}}class Pge{constructor(t){this._lines=t}_validPosition(t){return this._lines.model.validatePosition(t)}_validRange(t){return this._lines.model.validateRange(t)}convertViewPositionToModelPosition(t){return this._validPosition(t)}convertViewRangeToModelRange(t){return this._validRange(t)}validateViewPosition(t,s){return this._validPosition(s)}validateViewRange(t,s){return this._validRange(s)}convertModelPositionToViewPosition(t){return this._validPosition(t)}convertModelRangeToViewRange(t){return this._validRange(t)}modelPositionIsVisible(t){const s=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>s)}getModelLineViewLineCount(t){return 1}getViewLineNumberOfModelPosition(t,s){return t}}class Oge extends Se{constructor(t,s,l,u,h,f,m,A){if(super(),this.languageConfigurationService=m,this._themeService=A,this._editorId=t,this._configuration=s,this.model=l,this._eventDispatcher=new Qfe,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new S1(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new zi(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new zi(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new Mge(this.model);else{const C=this._configuration.options,w=C.get(44),k=C.get(125),D=C.get(132),I=C.get(124);this._lines=new Nge(this._editorId,this.model,u,h,w,this.model.getOptions().tabSize,k,D.wrappingColumn,I)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new jg(l,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new h1e(this._configuration,this.getLineCount(),f)),this._register(this.viewLayout.onDidScroll(C=>{C.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ufe(C)),this._eventDispatcher.emitOutgoingEvent(new $I(C.oldScrollWidth,C.oldScrollLeft,C.oldScrollHeight,C.oldScrollTop,C.scrollWidth,C.scrollLeft,C.scrollHeight,C.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(C=>{this._eventDispatcher.emitOutgoingEvent(C)})),this._decorations=new d1e(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(C=>{try{const w=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(w,C)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(__.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new jfe)})),this._register(this._themeService.onDidColorThemeChange(C=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new zfe(C))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(t){this._eventDispatcher.addViewEventHandler(t)}removeViewEventHandler(t){this._eventDispatcher.removeViewEventHandler(t)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const t=this.viewLayout.getLinesViewportData(),s=new $(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber)),l=this._toModelVisibleRanges(s);for(const u of l)this.model.tokenizeViewport(u.startLineNumber,u.endLineNumber)}setHasFocus(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new Vfe(t)),this._eventDispatcher.emitOutgoingEvent(new YI(!t,t))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ofe)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Ffe)}_onConfigurationChanged(t,s){let l=null;if(this._viewportStartLine!==-1){const w=new me(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));l=this.coordinatesConverter.convertViewPositionToModelPosition(w)}let u=!1;const h=this._configuration.options,f=h.get(44),m=h.get(125),A=h.get(132),C=h.get(124);if(this._lines.setWrappingSettings(f,m,A.wrappingColumn,C)&&(t.emitViewEvent(new Z8),t.emitViewEvent(new Q8),t.emitViewEvent(new y1(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(u=!0),this._updateConfigurationViewLineCount.schedule()),s.hasChanged(81)&&(this._decorations.reset(),t.emitViewEvent(new y1(null))),t.emitViewEvent(new Bfe(s)),this.viewLayout.onConfigurationChanged(s),u&&l){const w=this.coordinatesConverter.convertModelPositionToViewPosition(l),k=this.viewLayout.getVerticalOffsetForLineNumber(w.lineNumber);this.viewLayout.setScrollPosition({scrollTop:k+this._viewportStartLineDelta},1)}S1.shouldRecreate(s)&&(this.cursorConfig=new S1(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(t=>{try{const s=this._eventDispatcher.beginEmitViewEvents();let l=!1,u=!1;const h=t.changes,f=t instanceof Ed?t.versionId:null,m=this._lines.createLineBreaksComputer();for(const w of h)switch(w.changeType){case 4:{for(let k=0;k<w.detail.length;k++){const D=w.detail[k];let I=w.injectedTexts[k];I&&(I=I.filter(N=>!N.ownerId||N.ownerId===this._editorId)),m.addRequest(D,I,null)}break}case 2:{let k=null;w.injectedText&&(k=w.injectedText.filter(D=>!D.ownerId||D.ownerId===this._editorId)),m.addRequest(w.detail,k,null);break}}const A=m.finalize(),C=new Tg(A);for(const w of h)switch(w.changeType){case 1:{this._lines.onModelFlushed(),s.emitViewEvent(new Z8),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),l=!0;break}case 3:{const k=this._lines.onModelLinesDeleted(f,w.fromLineNumber,w.toLineNumber);k!==null&&(s.emitViewEvent(k),this.viewLayout.onLinesDeleted(k.fromLineNumber,k.toLineNumber)),l=!0;break}case 4:{const k=C.takeCount(w.detail.length),D=this._lines.onModelLinesInserted(f,w.fromLineNumber,w.toLineNumber,k);D!==null&&(s.emitViewEvent(D),this.viewLayout.onLinesInserted(D.fromLineNumber,D.toLineNumber)),l=!0;break}case 2:{const k=C.dequeue(),[D,I,N,R]=this._lines.onModelLineChanged(f,w.lineNumber,k);u=D,I&&s.emitViewEvent(I),N&&(s.emitViewEvent(N),this.viewLayout.onLinesInserted(N.fromLineNumber,N.toLineNumber)),R&&(s.emitViewEvent(R),this.viewLayout.onLinesDeleted(R.fromLineNumber,R.toLineNumber));break}case 5:break}f!==null&&this._lines.acceptVersionId(f),this.viewLayout.onHeightMaybeChanged(),!l&&u&&(s.emitViewEvent(new Q8),s.emitViewEvent(new y1(null)),this._cursor.onLineMappingChanged(s),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const s=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(s){const l=this.coordinatesConverter.convertModelPositionToViewPosition(s.getStartPosition()),u=this.viewLayout.getVerticalOffsetForLineNumber(l.lineNumber);this.viewLayout.setScrollPosition({scrollTop:u+this._viewportStartLineDelta},1)}}try{const s=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(s,t)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(t=>{const s=[];for(let l=0,u=t.ranges.length;l<u;l++){const h=t.ranges[l],f=this.coordinatesConverter.convertModelPositionToViewPosition(new me(h.fromLineNumber,1)).lineNumber,m=this.coordinatesConverter.convertModelPositionToViewPosition(new me(h.toLineNumber,this.model.getLineMaxColumn(h.toLineNumber))).lineNumber;s[l]={fromLineNumber:f,toLineNumber:m}}this._eventDispatcher.emitSingleViewEvent(new Gfe(s)),t.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(t=>{this._eventDispatcher.emitSingleViewEvent(new Hfe),this.cursorConfig=new S1(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(t=>{this.cursorConfig=new S1(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(t=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const s=this._eventDispatcher.beginEmitViewEvents();s.emitViewEvent(new Z8),s.emitViewEvent(new Q8),s.emitViewEvent(new y1(null)),this._cursor.onLineMappingChanged(s),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new S1(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(t=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new y1(t))}))}setHiddenAreas(t){let s=!1;try{const l=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(t),s&&(l.emitViewEvent(new Z8),l.emitViewEvent(new Q8),l.emitViewEvent(new y1(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new RP)}getVisibleRangesPlusViewportAboveBelow(){const t=this._configuration.options.get(131),s=this._configuration.options.get(59),l=Math.max(20,Math.round(t.height/s)),u=this.viewLayout.getLinesViewportData(),h=Math.max(1,u.completelyVisibleStartLineNumber-l),f=Math.min(this.getLineCount(),u.completelyVisibleEndLineNumber+l);return this._toModelVisibleRanges(new $(h,this.getLineMinColumn(h),f,this.getLineMaxColumn(f)))}getVisibleRanges(){const t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)}_toModelVisibleRanges(t){const s=this.coordinatesConverter.convertViewRangeToModelRange(t),l=this._lines.getHiddenAreas();if(l.length===0)return[s];const u=[];let h=0,f=s.startLineNumber,m=s.startColumn;const A=s.endLineNumber,C=s.endColumn;for(let w=0,k=l.length;w<k;w++){const D=l[w].startLineNumber,I=l[w].endLineNumber;I<f||D>A||(f<D&&(u[h++]=new $(f,m,D-1,this.model.getLineMaxColumn(D-1))),f=I+1,m=1)}return(f<A||f===A&&m<C)&&(u[h++]=new $(f,m,A,C)),u}getCompletelyVisibleViewRange(){const t=this.viewLayout.getLinesViewportData(),s=t.completelyVisibleStartLineNumber,l=t.completelyVisibleEndLineNumber;return new $(s,this.getLineMinColumn(s),l,this.getLineMaxColumn(l))}getCompletelyVisibleViewRangeAtScrollTop(t){const s=this.viewLayout.getLinesViewportDataAtScrollTop(t),l=s.completelyVisibleStartLineNumber,u=s.completelyVisibleEndLineNumber;return new $(l,this.getLineMinColumn(l),u,this.getLineMaxColumn(u))}saveState(){const t=this.viewLayout.saveState(),s=t.scrollTop,l=this.viewLayout.getLineNumberAtVerticalOffset(s),u=this.coordinatesConverter.convertViewPositionToModelPosition(new me(l,this.getLineMinColumn(l))),h=this.viewLayout.getVerticalOffsetForLineNumber(l)-s;return{scrollLeft:t.scrollLeft,firstPosition:u,firstPositionDeltaTop:h}}reduceRestoreState(t){if(typeof t.firstPosition>"u")return this._reduceRestoreStateCompatibility(t);const s=this.model.validatePosition(t.firstPosition),l=this.coordinatesConverter.convertModelPositionToViewPosition(s),u=this.viewLayout.getVerticalOffsetForLineNumber(l.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:u}}_reduceRestoreStateCompatibility(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(t,s,l){this._viewportStartLine=t;const u=this.coordinatesConverter.convertViewPositionToModelPosition(new me(t,this.getLineMinColumn(t)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new $(u.lineNumber,u.column,u.lineNumber,u.column),1);const h=this.viewLayout.getVerticalOffsetForLineNumber(t),f=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=f-h}getActiveIndentGuide(t,s,l){return this._lines.getActiveIndentGuide(t,s,l)}getLinesIndentGuides(t,s){return this._lines.getViewLinesIndentGuides(t,s)}getBracketGuidesInRangeByLine(t,s,l,u){return this._lines.getViewLinesBracketGuides(t,s,l,u)}getLineContent(t){return this._lines.getViewLineContent(t)}getLineLength(t){return this._lines.getViewLineLength(t)}getLineMinColumn(t){return this._lines.getViewLineMinColumn(t)}getLineMaxColumn(t){return this._lines.getViewLineMaxColumn(t)}getLineFirstNonWhitespaceColumn(t){const s=Zr(this.getLineContent(t));return s===-1?0:s+1}getLineLastNonWhitespaceColumn(t){const s=u0(this.getLineContent(t));return s===-1?0:s+2}getDecorationsInViewport(t){return this._decorations.getDecorationsViewportData(t).decorations}getInjectedTextAt(t){return this._lines.getInjectedTextAt(t)}getViewLineRenderingData(t,s){const l=this.model.mightContainRTL(),u=this.model.mightContainNonBasicASCII(),h=this.getTabSize(),f=this._lines.getViewLineData(s);let A=this._decorations.getDecorationsViewportData(t).inlineDecorations[s-t.startLineNumber];return f.inlineDecorations&&(A=[...A,...f.inlineDecorations.map(C=>C.toInlineDecoration(s))]),new fl(f.minColumn,f.maxColumn,f.content,f.continuesWithWrappedLine,l,u,f.tokens,A,h,f.startVisibleColumn)}getViewLineData(t){return this._lines.getViewLineData(t)}getMinimapLinesRenderingData(t,s,l){const u=this._lines.getViewLinesData(t,s,l);return new E0e(this.getTabSize(),u)}getAllOverviewRulerDecorations(t){const s=this.model.getOverviewRulerDecorations(this._editorId,B3(this._configuration.options)),l=new Fge;for(const u of s){const h=u.options,f=h.overviewRuler;if(!f)continue;const m=f.position;if(m===0)continue;const A=f.getColor(t.value),C=this.coordinatesConverter.getViewLineNumberOfModelPosition(u.range.startLineNumber,u.range.startColumn),w=this.coordinatesConverter.getViewLineNumberOfModelPosition(u.range.endLineNumber,u.range.endColumn);l.accept(A,h.zIndex,C,w,m)}return l.asArray}_invalidateDecorationsColorCache(){const t=this.model.getOverviewRulerDecorations();for(const s of t){const l=s.options.overviewRuler;l&&l.invalidateCachedColor();const u=s.options.minimap;u&&u.invalidateCachedColor()}}getValueInRange(t,s){const l=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(l,s)}deduceModelPositionRelativeToViewPosition(t,s,l){const u=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(s<0?s-=l:s+=l);const f=this.model.getOffsetAt(u)+s;return this.model.getPositionAt(f)}getPlainTextToCopy(t,s,l){const u=l?`\r
`:this.model.getEOL();t=t.slice(0),t.sort($.compareRangesUsingStarts);let h=!1,f=!1;for(const A of t)A.isEmpty()?h=!0:f=!0;if(!f){if(!s)return"";const A=t.map(w=>w.startLineNumber);let C="";for(let w=0;w<A.length;w++)w>0&&A[w-1]===A[w]||(C+=this.model.getLineContent(A[w])+u);return C}if(h&&s){const A=[];let C=0;for(const w of t){const k=w.startLineNumber;w.isEmpty()?k!==C&&A.push(this.model.getLineContent(k)):A.push(this.model.getValueInRange(w,l?2:0)),C=k}return A.length===1?A[0]:A}const m=[];for(const A of t)A.isEmpty()||m.push(this.model.getValueInRange(A,l?2:0));return m.length===1?m[0]:m}getRichTextToCopy(t,s){const l=this.model.getLanguageId();if(l===I0||t.length!==1)return null;let u=t[0];if(u.isEmpty()){if(!s)return null;const w=u.startLineNumber;u=new $(w,this.model.getLineMinColumn(w),w,this.model.getLineMaxColumn(w))}const h=this._configuration.options.get(44),f=this._getColorMap(),A=/[:;\\\/<>]/.test(h.fontFamily)||h.fontFamily===Or.fontFamily;let C;return A?C=Or.fontFamily:(C=h.fontFamily,C=C.replace(/"/g,"'"),/[,']/.test(C)||/[+ ]/.test(C)&&(C=`'${C}'`),C=`${C}, ${Or.fontFamily}`),{mode:l,html:`<div style="color: ${f[1]};background-color: ${f[2]};font-family: ${C};font-weight: ${h.fontWeight};font-size: ${h.fontSize}px;line-height: ${h.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(u,f)+"</div>"}}_getHTMLToCopy(t,s){const l=t.startLineNumber,u=t.startColumn,h=t.endLineNumber,f=t.endColumn,m=this.getTabSize();let A="";for(let C=l;C<=h;C++){const w=this.model.getLineTokens(C),k=w.getLineContent(),D=C===l?u-1:0,I=C===h?f-1:k.length;k===""?A+="<br>":A+=o1e(k,w.inflate(),s,D,I,m,Gs)}return A}_getColorMap(){const t=bn.getColorMap(),s=["#000000"];if(t)for(let l=1,u=t.length;l<u;l++)s[l]=ke.Format.CSS.formatHex(t[l]);return s}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(t,s,l){return this._withViewEventsCollector(u=>this._cursor.setStates(u,t,s,l))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(t){this._cursor.setCursorColumnSelectData(t)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(t){this._cursor.setPrevEditOperationType(t)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(t,s,l=0){this._withViewEventsCollector(u=>this._cursor.setSelections(u,t,s,l))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(t){this._withViewEventsCollector(s=>this._cursor.restoreState(s,t))}_executeCursorEdit(t){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new $fe);return}this._withViewEventsCollector(t)}executeEdits(t,s,l){this._executeCursorEdit(u=>this._cursor.executeEdits(u,t,s,l))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(t=>this._cursor.startComposition(t))}endComposition(t){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(s=>this._cursor.endComposition(s,t))}type(t,s){this._executeCursorEdit(l=>this._cursor.type(l,t,s))}compositionType(t,s,l,u,h){this._executeCursorEdit(f=>this._cursor.compositionType(f,t,s,l,u,h))}paste(t,s,l,u){this._executeCursorEdit(h=>this._cursor.paste(h,t,s,l,u))}cut(t){this._executeCursorEdit(s=>this._cursor.cut(s,t))}executeCommand(t,s){this._executeCursorEdit(l=>this._cursor.executeCommand(l,t,s))}executeCommands(t,s){this._executeCursorEdit(l=>this._cursor.executeCommands(l,t,s))}revealPrimaryCursor(t,s,l=!1){this._withViewEventsCollector(u=>this._cursor.revealPrimary(u,t,l,0,s,0))}revealTopMostCursor(t){const s=this._cursor.getTopMostViewPosition(),l=new $(s.lineNumber,s.column,s.lineNumber,s.column);this._withViewEventsCollector(u=>u.emitViewEvent(new o3(t,!1,l,null,0,!0,0)))}revealBottomMostCursor(t){const s=this._cursor.getBottomMostViewPosition(),l=new $(s.lineNumber,s.column,s.lineNumber,s.column);this._withViewEventsCollector(u=>u.emitViewEvent(new o3(t,!1,l,null,0,!0,0)))}revealRange(t,s,l,u,h){this._withViewEventsCollector(f=>f.emitViewEvent(new o3(t,!1,l,null,u,s,h)))}changeWhitespace(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new Zfe),this._eventDispatcher.emitOutgoingEvent(new RP))}_withViewEventsCollector(t){try{const s=this._eventDispatcher.beginEmitViewEvents();return t(s)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(t,s){return this._lines.normalizePosition(t,s)}getLineIndentColumn(t){return this._lines.getLineIndentColumn(t)}}class Fge{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(t,s,l,u,h){const f=this._asMap[t];if(f){const m=f.data,A=m[m.length-3],C=m[m.length-1];if(A===h&&C+1>=l){u>C&&(m[m.length-1]=u);return}m.push(h,l,u)}else{const m=new dV(t,s,[h,l,u]);this._asMap[t]=m,this.asArray.push(m)}}}class ov{constructor(...t){this._entries=new Map;for(let[s,l]of t)this.set(s,l)}set(t,s){const l=this._entries.get(t);return this._entries.set(t,s),l}get(t){return this._entries.get(t)}}var m4;(function(d){d[d.Ignore=0]="Ignore",d[d.Info=1]="Info",d[d.Warning=2]="Warning",d[d.Error=3]="Error"})(m4||(m4={}));(function(d){const t="error",s="warning",l="warn",u="info",h="ignore";function f(A){return A?Z1(t,A)?d.Error:Z1(s,A)||Z1(l,A)?d.Warning:Z1(u,A)?d.Info:d.Ignore:d.Ignore}d.fromValue=f;function m(A){switch(A){case d.Error:return t;case d.Warning:return s;case d.Info:return u;default:return h}}d.toString=m})(m4||(m4={}));var kn=m4,qH=kn;const is=hi("notificationService");class Bge{}class yA{constructor(t,s,l,u,h){this.injectionOffsets=t,this.injectionOptions=s,this.breakOffsets=l,this.breakOffsetsVisibleColumn=u,this.wrappedTextIndentLength=h}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){const s=t>0?this.breakOffsets[t-1]:0;let u=this.breakOffsets[t]-s;return t>0&&(u+=this.wrappedTextIndentLength),u}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,s){t>0&&(s=Math.max(0,s-this.wrappedTextIndentLength));let u=t===0?s:this.breakOffsets[t-1]+s;if(this.injectionOffsets!==null)for(let h=0;h<this.injectionOffsets.length&&u>this.injectionOffsets[h];h++)u<this.injectionOffsets[h]+this.injectionOptions[h].content.length?u=this.injectionOffsets[h]:u-=this.injectionOptions[h].content.length;return u}translateToOutputPosition(t,s=2){let l=t;if(this.injectionOffsets!==null)for(let u=0;u<this.injectionOffsets.length&&!(t<this.injectionOffsets[u]||s!==1&&t===this.injectionOffsets[u]);u++)l+=this.injectionOptions[u].content.length;return this.offsetInInputWithInjectionsToOutputPosition(l,s)}offsetInInputWithInjectionsToOutputPosition(t,s=2){let l=0,u=this.breakOffsets.length-1,h=0,f=0;for(;l<=u;){h=l+(u-l)/2|0;const A=this.breakOffsets[h];if(f=h>0?this.breakOffsets[h-1]:0,s===0)if(t<=f)u=h-1;else if(t>A)l=h+1;else break;else if(t<f)u=h-1;else if(t>=A)l=h+1;else break}let m=t-f;return h>0&&(m+=this.wrappedTextIndentLength),new t6(h,m)}normalizeOutputPosition(t,s,l){if(this.injectionOffsets!==null){const u=this.outputPositionToOffsetInInputWithInjections(t,s),h=this.normalizeOffsetInInputWithInjectionsAroundInjections(u,l);if(h!==u)return this.offsetInInputWithInjectionsToOutputPosition(h,l)}if(l===0){if(t>0&&s===this.getMinOutputOffset(t))return new t6(t-1,this.getMaxOutputOffset(t-1))}else if(l===1){const u=this.getOutputLineCount()-1;if(t<u&&s===this.getMaxOutputOffset(t))return new t6(t+1,this.getMinOutputOffset(t+1))}return new t6(t,s)}outputPositionToOffsetInInputWithInjections(t,s){return t>0&&(s=Math.max(0,s-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+s}normalizeOffsetInInputWithInjectionsAroundInjections(t,s){const l=this.getInjectedTextAtOffset(t);if(!l)return t;if(s===2){if(t===l.offsetInInputWithInjections+l.length&&aO(this.injectionOptions[l.injectedTextIndex].cursorStops))return l.offsetInInputWithInjections+l.length;{let u=l.offsetInInputWithInjections;if(cO(this.injectionOptions[l.injectedTextIndex].cursorStops))return u;let h=l.injectedTextIndex-1;for(;h>=0&&this.injectionOffsets[h]===this.injectionOffsets[l.injectedTextIndex]&&!(aO(this.injectionOptions[h].cursorStops)||(u-=this.injectionOptions[h].content.length,cO(this.injectionOptions[h].cursorStops)));)h--;return u}}else if(s===1){let u=l.offsetInInputWithInjections+l.length,h=l.injectedTextIndex;for(;h+1<this.injectionOffsets.length&&this.injectionOffsets[h+1]===this.injectionOffsets[h];)u+=this.injectionOptions[h+1].content.length,h++;return u}else if(s===0){let u=l.offsetInInputWithInjections,h=l.injectedTextIndex;for(;h-1>=0&&this.injectionOffsets[h-1]===this.injectionOffsets[h];)u-=this.injectionOptions[h-1].content.length,h--;return u}BD()}getInjectedText(t,s){const l=this.outputPositionToOffsetInInputWithInjections(t,s),u=this.getInjectedTextAtOffset(l);return u?{options:this.injectionOptions[u.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const s=this.injectionOffsets,l=this.injectionOptions;if(s!==null){let u=0;for(let h=0;h<s.length;h++){const f=l[h].content.length,m=s[h]+u,A=s[h]+u+f;if(m>t)break;if(t<=A)return{injectedTextIndex:h,offsetInInputWithInjections:m,length:f};u+=f}}}}function aO(d){return d==null?!0:d===r0.Right||d===r0.Both}function cO(d){return d==null?!0:d===r0.Left||d===r0.Both}class t6{constructor(t,s){this.outputLineIndex=t,this.outputOffset=s}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new me(t+this.outputLineIndex,this.outputOffset+1)}}class ax{constructor(t,s){this.classifier=new Wge(t,s)}static create(t){return new ax(t.get(120),t.get(119))}createLineBreaksComputer(t,s,l,u){const h=[],f=[],m=[];return{addRequest:(A,C,w)=>{h.push(A),f.push(C),m.push(w)},finalize:()=>{const A=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,C=[];for(let w=0,k=h.length;w<k;w++){const D=f[w],I=m[w];I&&!I.injectionOptions&&!D?C[w]=Vge(this.classifier,I,h[w],s,l,A,u):C[w]=Hge(this.classifier,h[w],D,s,l,A,u)}return Jy.length=0,qy.length=0,C}}}}class Wge extends Cm{constructor(t,s){super(0);for(let l=0;l<t.length;l++)this.set(t.charCodeAt(l),1);for(let l=0;l<s.length;l++)this.set(s.charCodeAt(l),2)}get(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue}}let Jy=[],qy=[];function Vge(d,t,s,l,u,h,f){if(u===-1)return null;const m=s.length;if(m<=1)return null;const A=t.breakOffsets,C=t.breakOffsetsVisibleColumn,w=eU(s,l,u,h,f),k=u-w,D=Jy,I=qy;let N=0,R=0,O=0,W=u;const B=A.length;let z=0;if(z>=0){let G=Math.abs(C[z]-W);for(;z+1<B;){const K=Math.abs(C[z+1]-W);if(K>=G)break;G=K,z++}}for(;z<B;){let G=z<0?0:A[z],K=z<0?0:C[z];R>G&&(G=R,K=O);let q=0,Y=0,J=0,ne=0;if(K<=W){let ge=K,Te=G===0?0:s.charCodeAt(G-1),Me=G===0?0:d.get(Te),ct=!0;for(let st=G;st<m;st++){const kt=st,Et=s.charCodeAt(st);let Dt,Vt;if(Cs(Et)?(st++,Dt=0,Vt=2):(Dt=d.get(Et),Vt=LA(Et,ge,l,h)),kt>R&&e7(Te,Me,Et,Dt)&&(q=kt,Y=ge),ge+=Vt,ge>W){kt>R?(J=kt,ne=ge-Vt):(J=st+1,ne=ge),ge-Y>k&&(q=0),ct=!1;break}Te=Et,Me=Dt}if(ct){N>0&&(D[N]=A[A.length-1],I[N]=C[A.length-1],N++);break}}if(q===0){let ge=K,Te=s.charCodeAt(G),Me=d.get(Te),ct=!1;for(let st=G-1;st>=R;st--){const kt=st+1,Et=s.charCodeAt(st);if(Et===9){ct=!0;break}let Dt,Vt;if(Fd(Et)?(st--,Dt=0,Vt=2):(Dt=d.get(Et),Vt=Uu(Et)?h:1),ge<=W){if(J===0&&(J=kt,ne=ge),ge<=W-k)break;if(e7(Et,Dt,Te,Me)){q=kt,Y=ge;break}}ge-=Vt,Te=Et,Me=Dt}if(q!==0){const st=k-(ne-Y);if(st<=l){const kt=s.charCodeAt(J);let Et;Cs(kt)?Et=2:Et=LA(kt,ne,l,h),st-Et<0&&(q=0)}}if(ct){z--;continue}}if(q===0&&(q=J,Y=ne),q<=R){const ge=s.charCodeAt(R);Cs(ge)?(q=R+2,Y=O+2):(q=R+1,Y=O+LA(ge,O,l,h))}for(R=q,D[N]=q,O=Y,I[N]=Y,N++,W=Y+k;z<0||z<B&&C[z]<Y;)z++;let Ae=Math.abs(C[z]-W);for(;z+1<B;){const ge=Math.abs(C[z+1]-W);if(ge>=Ae)break;Ae=ge,z++}}return N===0?null:(D.length=N,I.length=N,Jy=t.breakOffsets,qy=t.breakOffsetsVisibleColumn,t.breakOffsets=D,t.breakOffsetsVisibleColumn=I,t.wrappedTextIndentLength=w,t)}function Hge(d,t,s,l,u,h,f){const m=s2.applyInjectedText(t,s);let A,C;if(s&&s.length>0?(A=s.map(Y=>Y.options),C=s.map(Y=>Y.column-1)):(A=null,C=null),u===-1)return A?new yA(C,A,[m.length],[],0):null;const w=m.length;if(w<=1)return A?new yA(C,A,[m.length],[],0):null;const k=eU(m,l,u,h,f),D=u-k,I=[],N=[];let R=0,O=0,W=0,B=u,z=m.charCodeAt(0),G=d.get(z),K=LA(z,0,l,h),q=1;Cs(z)&&(K+=1,z=m.charCodeAt(1),G=d.get(z),q++);for(let Y=q;Y<w;Y++){const J=Y,ne=m.charCodeAt(Y);let Ae,ge;Cs(ne)?(Y++,Ae=0,ge=2):(Ae=d.get(ne),ge=LA(ne,K,l,h)),e7(z,G,ne,Ae)&&(O=J,W=K),K+=ge,K>B&&((O===0||K-W>D)&&(O=J,W=K-ge),I[R]=O,N[R]=W,R++,B=W+D,O=0),z=ne,G=Ae}return R===0&&(!s||s.length===0)?null:(I[R]=w,N[R]=K,new yA(C,A,I,N,k))}function LA(d,t,s,l){return d===9?s-t%s:Uu(d)||d<32?l:1}function uO(d,t){return t-d%t}function e7(d,t,s,l){return s!==32&&(t===2||t===3&&l!==2||l===1||l===3&&t!==1)}function eU(d,t,s,l,u){let h=0;if(u!==0){const f=Zr(d);if(f!==-1){for(let A=0;A<f;A++)h+=d.charCodeAt(A)===9?uO(h,t):1;const m=u===3?2:u===2?1:0;for(let A=0;A<m;A++)h+=uO(h,t);h+l>s&&(h=0)}}return h}var Qb;const Yb=(Qb=window.trustedTypes)===null||Qb===void 0?void 0:Qb.createPolicy("domLineBreaksComputer",{createHTML:d=>d});class cx{static create(){return new cx}constructor(){}createLineBreaksComputer(t,s,l,u){const h=[],f=[];return{addRequest:(m,A,C)=>{h.push(m),f.push(A)},finalize:()=>Uge(h,t,s,l,u,f)}}}function Uge(d,t,s,l,u,h){var f;function m(J){const ne=h[J];if(ne){const Ae=s2.applyInjectedText(d[J],ne),ge=ne.map(Me=>Me.options),Te=ne.map(Me=>Me.column-1);return new yA(Te,ge,[Ae.length],[],0)}else return null}if(l===-1){const J=[];for(let ne=0,Ae=d.length;ne<Ae;ne++)J[ne]=m(ne);return J}const A=Math.round(l*t.typicalHalfwidthCharacterWidth),w=Math.round(s*(u===3?2:u===2?1:0)),k=Math.ceil(t.spaceWidth*w),D=document.createElement("div");_r(D,t);const I=Bd(1e4),N=[],R=[],O=[],W=[],B=[];for(let J=0;J<d.length;J++){const ne=s2.applyInjectedText(d[J],h[J]);let Ae=0,ge=0,Te=A;if(u!==0)if(Ae=Zr(ne),Ae===-1)Ae=0;else{for(let kt=0;kt<Ae;kt++)ge+=ne.charCodeAt(kt)===9?s-ge%s:1;const st=Math.ceil(t.spaceWidth*ge);st+t.typicalFullwidthCharacterWidth>A?(Ae=0,ge=0):Te=A-st}const Me=ne.substr(Ae),ct=zge(Me,ge,s,Te,I,k);N[J]=Ae,R[J]=ge,O[J]=Me,W[J]=ct[0],B[J]=ct[1]}const z=I.build(),G=(f=Yb?.createHTML(z))!==null&&f!==void 0?f:z;D.innerHTML=G,D.style.position="absolute",D.style.top="10000",D.style.wordWrap="break-word",document.body.appendChild(D);const K=document.createRange(),q=Array.prototype.slice.call(D.children,0),Y=[];for(let J=0;J<d.length;J++){const ne=q[J],Ae=Gge(K,ne,O[J],W[J]);if(Ae===null){Y[J]=m(J);continue}const ge=N[J],Te=R[J]+w,Me=B[J],ct=[];for(let Dt=0,Vt=Ae.length;Dt<Vt;Dt++)ct[Dt]=Me[Ae[Dt]];if(ge!==0)for(let Dt=0,Vt=Ae.length;Dt<Vt;Dt++)Ae[Dt]+=ge;let st,kt;const Et=h[J];Et?(st=Et.map(Dt=>Dt.options),kt=Et.map(Dt=>Dt.column-1)):(st=null,kt=null),Y[J]=new yA(kt,st,Ae,ct,Te)}return document.body.removeChild(D),Y}function zge(d,t,s,l,u,h){if(h!==0){const D=String(h);u.appendASCIIString('<div style="text-indent: -'),u.appendASCIIString(D),u.appendASCIIString("px; padding-left: "),u.appendASCIIString(D),u.appendASCIIString("px; box-sizing: border-box; width:")}else u.appendASCIIString('<div style="width:');u.appendASCIIString(String(l)),u.appendASCIIString('px;">');const f=d.length;let m=t,A=0;const C=[],w=[];let k=0<f?d.charCodeAt(0):0;u.appendASCIIString("<span>");for(let D=0;D<f;D++){D!==0&&D%16384===0&&u.appendASCIIString("</span><span>"),C[D]=A,w[D]=m;const I=k;k=D+1<f?d.charCodeAt(D+1):0;let N=1,R=1;switch(I){case 9:N=s-m%s,R=N;for(let O=1;O<=N;O++)O<N?u.write1(160):u.appendASCII(32);break;case 32:k===32?u.write1(160):u.appendASCII(32);break;case 60:u.appendASCIIString("&lt;");break;case 62:u.appendASCIIString("&gt;");break;case 38:u.appendASCIIString("&amp;");break;case 0:u.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:u.write1(65533);break;default:Uu(I)&&R++,I<32?u.write1(9216+I):u.write1(I)}A+=N,m+=R}return u.appendASCIIString("</span>"),C[d.length]=A,w[d.length]=m,u.appendASCIIString("</div>"),[C,w]}function Gge(d,t,s,l){if(s.length<=1)return null;const u=Array.prototype.slice.call(t.children,0),h=[];try{t7(d,u,l,0,null,s.length-1,null,h)}catch(f){return console.log(f),null}return h.length===0?null:(h.push(s.length),h)}function t7(d,t,s,l,u,h,f,m){if(l===h||(u=u||$b(d,t,s[l],s[l+1]),f=f||$b(d,t,s[h],s[h+1]),Math.abs(u[0].top-f[0].top)<=.1))return;if(l+1===h){m.push(h);return}const A=l+(h-l)/2|0,C=$b(d,t,s[A],s[A+1]);t7(d,t,s,l,u,A,C,m),t7(d,t,s,A,C,h,f,m)}function $b(d,t,s,l){return d.setStart(t[s/16384|0].firstChild,s%16384),d.setEnd(t[l/16384|0].firstChild,l%16384),d.getClientRects()}var jge=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Q0=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let Zge=0;class Qge{constructor(t,s,l,u,h){this.model=t,this.viewModel=s,this.view=l,this.hasRealView=u,this.listenersToRemove=h}dispose(){mi(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let p4=class c3 extends Se{constructor(t,s,l,u,h,f,m,A,C,w,k,D){super(),this.languageConfigurationService=k,this._onDidDispose=this._register(new he),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new he),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new he),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new he),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new he),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new he),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new he),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new he),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new he),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new he),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new he),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new he),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new hO),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new hO),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new he),this.onWillType=this._onWillType.event,this._onDidType=this._register(new he),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new he),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new he),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new he),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new he),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new he),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new he),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new he),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new he),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new he),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new he),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new he),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new he),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new he),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new he),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new he),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new he),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new he),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new he),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const I=Object.assign({},s);this._domElement=t,this._overflowWidgetsDomNode=I.overflowWidgetsDomNode,delete I.overflowWidgetsDomNode,this._id=++Zge,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=l.telemetryData,this._configuration=this._register(this._createConfiguration(l.isSimpleWidget||!1,I,w)),this._register(this._configuration.onDidChange(R=>{this._onDidChangeConfiguration.fire(R);const O=this._configuration.options;if(R.hasChanged(131)){const W=O.get(131);this._onDidLayoutChange.fire(W)}})),this._contextKeyService=this._register(m.createScoped(this._domElement)),this._notificationService=C,this._codeEditorService=h,this._commandService=f,this._themeService=A,this._register(new Yge(this,this._contextKeyService)),this._register(new $ge(this,this._contextKeyService,D)),this._instantiationService=u.createChild(new ov([Mt,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Kge(t),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let N;Array.isArray(l.contributions)?N=l.contributions:N=kd.getEditorContributions();for(const R of N){if(this._contributions[R.id]){Bt(new Error(`Cannot have two contributions with the same id ${R.id}`));continue}try{const O=this._instantiationService.createInstance(R.ctor,this);this._contributions[R.id]=O}catch(O){Bt(O)}}kd.getEditorActions().forEach(R=>{if(this._actions[R.id]){Bt(new Error(`Cannot have two actions with the same id ${R.id}`));return}const O=new EH(R.id,R.label,R.alias,To(R.precondition),()=>this._instantiationService.invokeFunction(W=>Promise.resolve(R.runEditorCommand(W,this,null))),this._contextKeyService);this._actions[O.id]=O}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(t,s,l){return new Ny(t,s,this._domElement,l)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c_.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const t=Object.keys(this._contributions);for(let s=0,l=t.length;s<l;s++){const u=t[s];this._contributions[u].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(t){return this._instantiationService.invokeFunction(t)}updateOptions(t){this._configuration.updateOptions(t||{})}getOptions(){return this._configuration.options}getOption(t){return this._configuration.options.get(t)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(t){return this._modelData?Ai.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),t):null}getValue(t=null){if(!this._modelData)return"";const s=!!(t&&t.preserveBOM);let l=0;return t&&t.lineEnding&&t.lineEnding===`
`?l=1:t&&t.lineEnding&&t.lineEnding===`\r
`&&(l=2),this._modelData.model.getValue(l,s)}setValue(t){!this._modelData||this._modelData.model.setValue(t)}getModel(){return this._modelData?this._modelData.model:null}setModel(t=null){const s=t;if(this._modelData===null&&s===null||this._modelData&&this._modelData.model===s)return;const l=this.hasTextFocus(),u=this._detachModel();this._attachModel(s),l&&this.hasModel()&&this.focus();const h={oldModelUrl:u?u.uri:null,newModelUrl:s?s.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(h),this._postDetachModelCleanup(u)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let t in this._decorationTypeSubtypes){const s=this._decorationTypeSubtypes[t];for(let l in s)this._removeDecorationType(t+"-"+l)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(t,s,l){const u=t.model.validatePosition({lineNumber:s,column:l}),h=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(u);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(h.lineNumber)}getTopForLineNumber(t){return this._modelData?c3._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,s){return this._modelData?c3._getVerticalOffsetForPosition(this._modelData,t,s):-1}setHiddenAreas(t){this._modelData&&this._modelData.viewModel.setHiddenAreas(t.map(s=>$.lift(s)))}getVisibleColumnFromPosition(t){if(!this._modelData)return t.column;const s=this._modelData.model.validatePosition(t),l=this._modelData.model.getOptions().tabSize;return _s.visibleColumnFromColumn(this._modelData.model.getLineContent(s.lineNumber),s.column,l)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(t,s="api"){if(!!this._modelData){if(!me.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(s,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}}_sendRevealRange(t,s,l,u){if(!this._modelData)return;if(!$.isIRange(t))throw new Error("Invalid arguments");const h=this._modelData.model.validateRange(t),f=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(h);this._modelData.viewModel.revealRange("api",l,f,s,u)}revealLine(t,s=0){this._revealLine(t,0,s)}revealLineInCenter(t,s=0){this._revealLine(t,1,s)}revealLineInCenterIfOutsideViewport(t,s=0){this._revealLine(t,2,s)}revealLineNearTop(t,s=0){this._revealLine(t,5,s)}_revealLine(t,s,l){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new $(t,1,t,1),s,!1,l)}revealPosition(t,s=0){this._revealPosition(t,0,!0,s)}revealPositionInCenter(t,s=0){this._revealPosition(t,1,!0,s)}revealPositionInCenterIfOutsideViewport(t,s=0){this._revealPosition(t,2,!0,s)}revealPositionNearTop(t,s=0){this._revealPosition(t,5,!0,s)}_revealPosition(t,s,l,u){if(!me.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new $(t.lineNumber,t.column,t.lineNumber,t.column),s,l,u)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(t,s="api"){const l=et.isISelection(t),u=$.isIRange(t);if(!l&&!u)throw new Error("Invalid arguments");if(l)this._setSelectionImpl(t,s);else if(u){const h={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(h,s)}}_setSelectionImpl(t,s){if(!this._modelData)return;const l=new et(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(s,[l])}revealLines(t,s,l=0){this._revealLines(t,s,0,l)}revealLinesInCenter(t,s,l=0){this._revealLines(t,s,1,l)}revealLinesInCenterIfOutsideViewport(t,s,l=0){this._revealLines(t,s,2,l)}revealLinesNearTop(t,s,l=0){this._revealLines(t,s,5,l)}_revealLines(t,s,l,u){if(typeof t!="number"||typeof s!="number")throw new Error("Invalid arguments");this._sendRevealRange(new $(t,1,s,1),l,!1,u)}revealRange(t,s=0,l=!1,u=!0){this._revealRange(t,l?1:0,u,s)}revealRangeInCenter(t,s=0){this._revealRange(t,1,!0,s)}revealRangeInCenterIfOutsideViewport(t,s=0){this._revealRange(t,2,!0,s)}revealRangeNearTop(t,s=0){this._revealRange(t,5,!0,s)}revealRangeNearTopIfOutsideViewport(t,s=0){this._revealRange(t,6,!0,s)}revealRangeAtTop(t,s=0){this._revealRange(t,3,!0,s)}_revealRange(t,s,l,u){if(!$.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange($.lift(t),s,l,u)}setSelections(t,s="api",l=0){if(!!this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(let u=0,h=t.length;u<h;u++)if(!et.isISelection(t[u]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(s,t,l)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(t,s=1){if(!!this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},s)}}setScrollTop(t,s=1){if(!!this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},s)}}setScrollPosition(t,s=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(t,s)}saveViewState(){if(!this._modelData)return null;const t={},s=Object.keys(this._contributions);for(const h of s){const f=this._contributions[h];typeof f.saveViewState=="function"&&(t[h]=f.saveViewState())}const l=this._modelData.viewModel.saveCursorState(),u=this._modelData.viewModel.saveState();return{cursorState:l,viewState:u,contributionsState:t}}restoreViewState(t){if(!this._modelData||!this._modelData.hasRealView)return;const s=t;if(s&&s.cursorState&&s.viewState){const l=s.cursorState;Array.isArray(l)?l.length>0&&this._modelData.viewModel.restoreCursorState(l):this._modelData.viewModel.restoreCursorState([l]);const u=s.contributionsState||{},h=Object.keys(this._contributions);for(let m=0,A=h.length;m<A;m++){const C=h[m],w=this._contributions[C];typeof w.restoreViewState=="function"&&w.restoreViewState(u[C])}const f=this._modelData.viewModel.reduceRestoreState(s.viewState);this._modelData.view.restoreState(f)}}getContribution(t){return this._contributions[t]||null}getActions(){const t=[],s=Object.keys(this._actions);for(let l=0,u=s.length;l<u;l++){const h=s[l];t.push(this._actions[h])}return t}getSupportedActions(){let t=this.getActions();return t=t.filter(s=>s.isSupported()),t}getAction(t){return this._actions[t]||null}trigger(t,s,l){switch(l=l||{},s){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(t);return;case"type":{const h=l;this._type(t,h.text||"");return}case"replacePreviousChar":{const h=l;this._compositionType(t,h.text||"",h.replaceCharCnt||0,0,0);return}case"compositionType":{const h=l;this._compositionType(t,h.text||"",h.replacePrevCharCnt||0,h.replaceNextCharCnt||0,h.positionDelta||0);return}case"paste":{const h=l;this._paste(t,h.text||"",h.pasteOnNewLine||!1,h.multicursorText||null,h.mode||null);return}case"cut":this._cut(t);return}const u=this.getAction(s);if(u){Promise.resolve(u.run()).then(void 0,Bt);return}!this._modelData||this._triggerEditorCommand(t,s,l)||this._triggerCommand(s,l)}_triggerCommand(t,s){this._commandService.executeCommand(t,s)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(t){!this._modelData||(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())}_type(t,s){!this._modelData||s.length===0||(t==="keyboard"&&this._onWillType.fire(s),this._modelData.viewModel.type(s,t),t==="keyboard"&&this._onDidType.fire(s))}_compositionType(t,s,l,u,h){!this._modelData||this._modelData.viewModel.compositionType(s,l,u,h,t)}_paste(t,s,l,u,h){if(!this._modelData||s.length===0)return;const f=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(s,l,u,t);const m=this._modelData.viewModel.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire({range:new $(f.lineNumber,f.column,m.lineNumber,m.column),languageId:h})}_cut(t){!this._modelData||this._modelData.viewModel.cut(t)}_triggerEditorCommand(t,s,l){const u=kd.getEditorCommand(s);return u?(l=l||{},l.source=t,this._instantiationService.invokeFunction(h=>{Promise.resolve(u.runEditorCommand(h,this,l)).then(void 0,Bt)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(t,s,l){if(!this._modelData||this._configuration.options.get(81))return!1;let u;return l?Array.isArray(l)?u=()=>l:u=l:u=()=>null,this._modelData.viewModel.executeEdits(t,s,u),!0}executeCommand(t,s){!this._modelData||this._modelData.viewModel.executeCommand(s,t)}executeCommands(t,s){!this._modelData||this._modelData.viewModel.executeCommands(s,t)}changeDecorations(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null}getLineDecorations(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,B3(this._configuration.options)):null}getDecorationsInRange(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,B3(this._configuration.options)):null}deltaDecorations(t,s){return this._modelData?t.length===0&&s.length===0?t:this._modelData.model.deltaDecorations(t,s,this._id):[]}removeDecorations(t){const s=this._decorationTypeKeysToIds[t];s&&this.deltaDecorations(s,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(t)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(t)}layout(t){this._configuration.observeContainer(t),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(t){const s={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[t.getId()]=s,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(s)}layoutContentWidget(t){const s=t.getId();if(this._contentWidgets.hasOwnProperty(s)){const l=this._contentWidgets[s];l.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(l)}}removeContentWidget(t){const s=t.getId();if(this._contentWidgets.hasOwnProperty(s)){const l=this._contentWidgets[s];delete this._contentWidgets[s],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(l)}}addOverlayWidget(t){const s={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=s,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(s)}layoutOverlayWidget(t){const s=t.getId();if(this._overlayWidgets.hasOwnProperty(s)){const l=this._overlayWidgets[s];l.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(l)}}removeOverlayWidget(t){const s=t.getId();if(this._overlayWidgets.hasOwnProperty(s)){const l=this._overlayWidgets[s];delete this._overlayWidgets[s],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(l)}}changeViewZones(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(t)}getTargetAtClientPoint(t,s){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(t,s)}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const s=this._modelData.model.validatePosition(t),l=this._configuration.options,u=l.get(131),h=c3._getVerticalOffsetForPosition(this._modelData,s.lineNumber,s.column)-this.getScrollTop(),f=this._modelData.view.getOffsetForColumn(s.lineNumber,s.column)+u.glyphMarginWidth+u.lineNumbersWidth+u.decorationsWidth-this.getScrollLeft();return{top:h,left:f,height:l.get(59)}}getOffsetForColumn(t,s){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(t,s)}render(t=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,t)}setAriaOptions(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(t)}applyFontInfo(t){_r(t,this._configuration.options.get(44))}setBanner(t,s){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?s:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(t){if(!t){this._modelData=null;return}const s=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount()),t.onBeforeAttached();const l=new Oge(this._id,this._configuration,t,cx.create(),ax.create(this._configuration.options),f=>n2(f),this.languageConfigurationService,this._themeService);s.push(t.onDidChangeDecorations(f=>this._onDidChangeModelDecorations.fire(f))),s.push(t.onDidChangeLanguage(f=>{this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._onDidChangeModelLanguage.fire(f)})),s.push(t.onDidChangeLanguageConfiguration(f=>this._onDidChangeModelLanguageConfiguration.fire(f))),s.push(t.onDidChangeContent(f=>this._onDidChangeModelContent.fire(f))),s.push(t.onDidChangeOptions(f=>this._onDidChangeModelOptions.fire(f))),s.push(t.onWillDispose(()=>this.setModel(null))),s.push(l.onEvent(f=>{switch(f.kind){case 0:this._onDidContentSizeChange.fire(f);break;case 1:this._editorTextFocus.setValue(f.hasFocus);break;case 2:this._onDidScrollChange.fire(f);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{f.reachedMaxCursorCount&&this._notificationService.warn(E("cursors.maximum","The number of cursors has been limited to {0}.",jg.MAX_CURSOR_COUNT));const m=[];for(let w=0,k=f.selections.length;w<k;w++)m[w]=f.selections[w].getPosition();const A={position:m[0],secondaryPositions:m.slice(1),reason:f.reason,source:f.source};this._onDidChangeCursorPosition.fire(A);const C={selection:f.selections[0],secondarySelections:f.selections.slice(1),modelVersionId:f.modelVersionId,oldSelections:f.oldSelections,oldModelVersionId:f.oldModelVersionId,source:f.source,reason:f.reason};this._onDidChangeCursorSelection.fire(C);break}}}));const[u,h]=this._createView(l);if(h){this._domElement.appendChild(u.domNode.domNode);let f=Object.keys(this._contentWidgets);for(let m=0,A=f.length;m<A;m++){const C=f[m];u.addContentWidget(this._contentWidgets[C])}f=Object.keys(this._overlayWidgets);for(let m=0,A=f.length;m<A;m++){const C=f[m];u.addOverlayWidget(this._overlayWidgets[C])}u.render(!1,!0),u.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new Qge(t,l,u,h,s)}_createView(t){let s;this.isSimpleWidget?s={paste:(h,f,m,A)=>{this._paste("keyboard",h,f,m,A)},type:h=>{this._type("keyboard",h)},compositionType:(h,f,m,A)=>{this._compositionType("keyboard",h,f,m,A)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:s={paste:(h,f,m,A)=>{const C={text:h,pasteOnNewLine:f,multicursorText:m,mode:A};this._commandService.executeCommand("paste",C)},type:h=>{const f={text:h};this._commandService.executeCommand("type",f)},compositionType:(h,f,m,A)=>{if(m||A){const C={text:h,replacePrevCharCnt:f,replaceNextCharCnt:m,positionDelta:A};this._commandService.executeCommand("compositionType",C)}else{const C={text:h,replaceCharCnt:f};this._commandService.executeCommand("replacePreviousChar",C)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const l=new tv(t.coordinatesConverter);return l.onKeyDown=h=>this._onKeyDown.fire(h),l.onKeyUp=h=>this._onKeyUp.fire(h),l.onContextMenu=h=>this._onContextMenu.fire(h),l.onMouseMove=h=>this._onMouseMove.fire(h),l.onMouseLeave=h=>this._onMouseLeave.fire(h),l.onMouseDown=h=>this._onMouseDown.fire(h),l.onMouseUp=h=>this._onMouseUp.fire(h),l.onMouseDrag=h=>this._onMouseDrag.fire(h),l.onMouseDrop=h=>this._onMouseDrop.fire(h),l.onMouseDropCanceled=h=>this._onMouseDropCanceled.fire(h),l.onMouseWheel=h=>this._onMouseWheel.fire(h),[new Efe(s,this._configuration,this._themeService.getColorTheme(),t,l,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(t){t&&t.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const t=this._modelData.model,s=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),s&&this._domElement.contains(s)&&this._domElement.removeChild(s),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),t}_removeDecorationType(t){this._codeEditorService.removeDecorationType(t)}hasModel(){return this._modelData!==null}};p4=jge([Q0(3,ii),Q0(4,Mi),Q0(5,es),Q0(6,Mt),Q0(7,dn),Q0(8,is),Q0(9,Vo),Q0(10,vr),Q0(11,ut)],p4);class hO extends Se{constructor(){super(),this._onDidChangeToTrue=this._register(new he),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new he),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(t){const s=t?2:1;this._value!==s&&(this._value=s,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Yge extends Se{constructor(t,s){super(),this._editor=t,s.createKey("editorId",t.getId()),this._editorSimpleInput=re.editorSimpleInput.bindTo(s),this._editorFocus=re.focus.bindTo(s),this._textInputFocus=re.textInputFocus.bindTo(s),this._editorTextFocus=re.editorTextFocus.bindTo(s),this._editorTabMovesFocus=re.tabMovesFocus.bindTo(s),this._editorReadonly=re.readOnly.bindTo(s),this._inDiffEditor=re.inDiffEditor.bindTo(s),this._editorColumnSelection=re.columnSelection.bindTo(s),this._hasMultipleSelections=re.hasMultipleSelections.bindTo(s),this._hasNonEmptySelection=re.hasNonEmptySelection.bindTo(s),this._canUndo=re.canUndo.bindTo(s),this._canRedo=re.canRedo.bindTo(s),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const t=this._editor.getOptions();this._editorTabMovesFocus.set(t.get(130)),this._editorReadonly.set(t.get(81)),this._inDiffEditor.set(t.get(54)),this._editorColumnSelection.set(t.get(18))}_updateFromSelection(){const t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(s=>!s.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const t=this._editor.getModel();this._canUndo.set(Boolean(t&&t.canUndo())),this._canRedo.set(Boolean(t&&t.canRedo()))}}class $ge extends Se{constructor(t,s,l){super(),this._editor=t,this._contextKeyService=s,this._languageFeaturesService=l,this._langId=re.languageId.bindTo(s),this._hasCompletionItemProvider=re.hasCompletionItemProvider.bindTo(s),this._hasCodeActionsProvider=re.hasCodeActionsProvider.bindTo(s),this._hasCodeLensProvider=re.hasCodeLensProvider.bindTo(s),this._hasDefinitionProvider=re.hasDefinitionProvider.bindTo(s),this._hasDeclarationProvider=re.hasDeclarationProvider.bindTo(s),this._hasImplementationProvider=re.hasImplementationProvider.bindTo(s),this._hasTypeDefinitionProvider=re.hasTypeDefinitionProvider.bindTo(s),this._hasHoverProvider=re.hasHoverProvider.bindTo(s),this._hasDocumentHighlightProvider=re.hasDocumentHighlightProvider.bindTo(s),this._hasDocumentSymbolProvider=re.hasDocumentSymbolProvider.bindTo(s),this._hasReferenceProvider=re.hasReferenceProvider.bindTo(s),this._hasRenameProvider=re.hasRenameProvider.bindTo(s),this._hasSignatureHelpProvider=re.hasSignatureHelpProvider.bindTo(s),this._hasInlayHintsProvider=re.hasInlayHintsProvider.bindTo(s),this._hasDocumentFormattingProvider=re.hasDocumentFormattingProvider.bindTo(s),this._hasDocumentSelectionFormattingProvider=re.hasDocumentSelectionFormattingProvider.bindTo(s),this._hasMultipleDocumentFormattingProvider=re.hasMultipleDocumentFormattingProvider.bindTo(s),this._hasMultipleDocumentSelectionFormattingProvider=re.hasMultipleDocumentSelectionFormattingProvider.bindTo(s),this._isInWalkThrough=re.isInWalkThroughSnippet.bindTo(s);const u=()=>this._update();this._register(t.onDidChangeModel(u)),this._register(t.onDidChangeModelLanguage(u)),this._register(l.completionProvider.onDidChange(u)),this._register(l.codeActionProvider.onDidChange(u)),this._register(l.codeLensProvider.onDidChange(u)),this._register(l.definitionProvider.onDidChange(u)),this._register(l.declarationProvider.onDidChange(u)),this._register(l.implementationProvider.onDidChange(u)),this._register(l.typeDefinitionProvider.onDidChange(u)),this._register(l.hoverProvider.onDidChange(u)),this._register(l.documentHighlightProvider.onDidChange(u)),this._register(l.documentSymbolProvider.onDidChange(u)),this._register(l.referenceProvider.onDidChange(u)),this._register(l.renameProvider.onDidChange(u)),this._register(l.documentFormattingEditProvider.onDidChange(u)),this._register(l.documentRangeFormattingEditProvider.onDidChange(u)),this._register(l.signatureHelpProvider.onDidChange(u)),this._register(l.inlayHintsProvider.onDidChange(u)),u()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const t=this._editor.getModel();if(!t){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(t.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(t)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(t)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(t)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(t)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(t)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(t)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(t)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(t)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(t)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(t)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(t)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(t)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(t)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(t)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(t)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(t).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._isInWalkThrough.set(t.uri.scheme===zt.walkThroughSnippet)})}}class Kge extends Se{constructor(t){super(),this._onChange=this._register(new he),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Bg(t)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Xge=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Jge=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Kb(d){return Xge+encodeURIComponent(d.toString())+Jge}const qge=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),eme=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function tme(d){return qge+encodeURIComponent(d.toString())+eme}rn((d,t)=>{const s=d.getColor(qV);s&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${s}; }`);const l=d.getColor(Eu);l&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Kb(l)}") repeat-x bottom left; }`);const u=d.getColor(Yce);u&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${u}; }`);const h=d.getColor(Yw);h&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${h}; }`);const f=d.getColor(Aa);f&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Kb(f)}") repeat-x bottom left; }`);const m=d.getColor($ce);m&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${m}; }`);const A=d.getColor(TI);A&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${A}; }`);const C=d.getColor(hl);C&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Kb(C)}") repeat-x bottom left; }`);const w=d.getColor(Kce);w&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${w}; }`);const k=d.getColor(Jce);k&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${k}; }`);const D=d.getColor(Xce);D&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${tme(D)}") no-repeat bottom left; }`);const I=d.getColor(qhe);I&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${I.rgba.a}; }`);const N=d.getColor(Jhe);N&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${N}; }`);const R=d.getColor(Nu)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${R}}`)});class Ui{constructor(t,s,l){const u=h=>this.emitter.fire(h);this.emitter=new he({onFirstListenerAdd:()=>t.addEventListener(s,u,l),onLastListenerRemove:()=>t.removeEventListener(s,u,l)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function dO(d){return d.preventDefault(),d.stopPropagation(),d}var Lm=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h};let ime=!1;var DC;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(DC||(DC={}));let nme=4;const sme=new he;let rme=300;const ome=new he;class ux{constructor(){this.disposables=new je}get onPointerMove(){return this.disposables.add(new Ui(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Ui(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Lm([gs],ux.prototype,"onPointerMove",null);Lm([gs],ux.prototype,"onPointerUp",null);class hx{constructor(t){this.el=t,this.disposables=new je}get onPointerMove(){return this.disposables.add(new Ui(this.el,nn.Change)).event}get onPointerUp(){return this.disposables.add(new Ui(this.el,nn.End)).event}dispose(){this.disposables.dispose()}}Lm([gs],hx.prototype,"onPointerMove",null);Lm([gs],hx.prototype,"onPointerUp",null);class IC{constructor(t){this.factory=t}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Lm([gs],IC.prototype,"onPointerMove",null);Lm([gs],IC.prototype,"onPointerUp",null);const fO="pointer-events-disabled";class mr extends Se{constructor(t,s,l){super(),this.hoverDelay=rme,this.hoverDelayer=this._register(new p0(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new he),this._onDidStart=this._register(new he),this._onDidChange=this._register(new he),this._onDidReset=this._register(new he),this._onDidEnd=this._register(new he),this.orthogonalStartSashDisposables=this._register(new je),this.orthogonalStartDragHandleDisposables=this._register(new je),this.orthogonalEndSashDisposables=this._register(new je),this.orthogonalEndDragHandleDisposables=this._register(new je),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Re(t,Ue(".monaco-sash")),l.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${l.orthogonalEdge}`),Jt&&this.el.classList.add("mac");const u=this._register(new Ui(this.el,"mousedown")).event;this._register(u(k=>this.onPointerStart(k,new ux),this));const h=this._register(new Ui(this.el,"dblclick")).event;this._register(h(this.onPointerDoublePress,this));const f=this._register(new Ui(this.el,"mouseenter")).event;this._register(f(()=>mr.onMouseEnter(this)));const m=this._register(new Ui(this.el,"mouseleave")).event;this._register(m(()=>mr.onMouseLeave(this))),this._register(Wi.addTarget(this.el));const A=ft.map(this._register(new Ui(this.el,nn.Start)).event,k=>{var D;return Object.assign(Object.assign({},k),{target:(D=k.initialTarget)!==null&&D!==void 0?D:null})});this._register(A(k=>this.onPointerStart(k,new hx(this.el)),this));const C=this._register(new Ui(this.el,nn.Tap)).event,w=ft.map(ft.filter(ft.debounce(C,(k,D)=>{var I;return{event:D,count:((I=k?.count)!==null&&I!==void 0?I:0)+1}},250),({count:k})=>k===2),({event:k})=>{var D;return Object.assign(Object.assign({},k),{target:(D=k.initialTarget)!==null&&D!==void 0?D:null})});this._register(w(this.onPointerDoublePress,this)),typeof l.size=="number"?(this.size=l.size,l.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=nme,this._register(sme.event(k=>{this.size=k,this.layout()}))),this._register(ome.event(k=>this.hoverDelay=k)),this.layoutProvider=s,this.orthogonalStartSash=l.orthogonalStartSash,this.orthogonalEndSash=l.orthogonalEndSash,this.orientation=l.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",ime),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(t){this._state!==t&&(this.el.classList.toggle("disabled",t===0),this.el.classList.toggle("minimum",t===1),this.el.classList.toggle("maximum",t===2),this._state=t,this.onDidEnablementChange.fire(t))}set orthogonalStartSash(t){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),t){const s=l=>{this.orthogonalStartDragHandleDisposables.clear(),l!==0&&(this._orthogonalStartDragHandle=Re(this.el,Ue(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add($t(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Ui(this._orthogonalStartDragHandle,"mouseenter")).event(()=>mr.onMouseEnter(t),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Ui(this._orthogonalStartDragHandle,"mouseleave")).event(()=>mr.onMouseLeave(t),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(t.onDidEnablementChange.event(s,this)),s(t.state)}this._orthogonalStartSash=t}set orthogonalEndSash(t){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),t){const s=l=>{this.orthogonalEndDragHandleDisposables.clear(),l!==0&&(this._orthogonalEndDragHandle=Re(this.el,Ue(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add($t(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Ui(this._orthogonalEndDragHandle,"mouseenter")).event(()=>mr.onMouseEnter(t),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Ui(this._orthogonalEndDragHandle,"mouseleave")).event(()=>mr.onMouseLeave(t),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(t.onDidEnablementChange.event(s,this)),s(t.state)}this._orthogonalEndSash=t}onPointerStart(t,s){Ri.stop(t);let l=!1;if(!t.__orthogonalSashEvent){const N=this.getOrthogonalSash(t);N&&(l=!0,t.__orthogonalSashEvent=!0,N.onPointerStart(t,new IC(s)))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onPointerStart(t,new IC(s))),!this.state)return;const u=hce("iframe");for(const N of u)N.classList.add(fO);const h=t.pageX,f=t.pageY,m=t.altKey,A={startX:h,currentX:h,startY:f,currentY:f,altKey:m};this.el.classList.add("active"),this._onDidStart.fire(A);const C=Vl(this.el),w=()=>{let N="";l?N="all-scroll":this.orientation===1?this.state===1?N="s-resize":this.state===2?N="n-resize":N=Jt?"row-resize":"ns-resize":this.state===1?N="e-resize":this.state===2?N="w-resize":N=Jt?"col-resize":"ew-resize",C.textContent=`* { cursor: ${N} !important; }`},k=new je;w(),l||this.onDidEnablementChange.event(w,null,k);const D=N=>{Ri.stop(N,!1);const R={startX:h,currentX:N.pageX,startY:f,currentY:N.pageY,altKey:m};this._onDidChange.fire(R)},I=N=>{Ri.stop(N,!1),this.el.removeChild(C),this.el.classList.remove("active"),this._onDidEnd.fire(),k.dispose();for(const R of u)R.classList.remove(fO)};s.onPointerMove(D,null,k),s.onPointerUp(I,null,k),k.add(s)}onPointerDoublePress(t){const s=this.getOrthogonalSash(t);s&&s._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(t,s=!1){t.el.classList.contains("active")?(t.hoverDelayer.cancel(),t.el.classList.add("hover")):t.hoverDelayer.trigger(()=>t.el.classList.add("hover"),t.hoverDelay).then(void 0,()=>{}),!s&&t.linkedSash&&mr.onMouseEnter(t.linkedSash,!0)}static onMouseLeave(t,s=!1){t.hoverDelayer.cancel(),t.el.classList.remove("hover"),!s&&t.linkedSash&&mr.onMouseLeave(t.linkedSash,!0)}clearSashHoverState(){mr.onMouseLeave(this)}layout(){if(this.orientation===0){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(t){if(!(!t.target||!(t.target instanceof HTMLElement))&&t.target.classList.contains("orthogonal-drag-handle"))return t.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}class Ju{constructor(t,s,l){this._visiblePosition=t,this._visiblePositionScrollDelta=s,this._cursorPosition=l}static capture(t){let s=null,l=0;if(t.getScrollTop()!==0){const u=t.getVisibleRanges();if(u.length>0){s=u[0].getStartPosition();const h=t.getTopForPosition(s.lineNumber,s.column);l=t.getScrollTop()-h}}return new Ju(s,l,t.getPosition())}restore(t){if(this._visiblePosition){const s=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(s+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(t){const s=t.getPosition();if(!this._cursorPosition||!s)return;const l=t.getTopForLineNumber(s.lineNumber)-t.getTopForLineNumber(this._cursorPosition.lineNumber);t.setScrollTop(t.getScrollTop()+l)}}const tU={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:Za.text,TERMINALS:"Terminals"};class lme{constructor(t){this.data=t}update(){}getData(){return this.data}}const nc={CurrentDragAndDropData:void 0};class $2 extends Se{constructor(t,s,l={}){super(),this.options=l,this._context=t||this,this._action=s,s instanceof Po&&this._register(s.onDidChange(u=>{!this.element||this.handleActionChangeEvent(u)}))}handleActionChangeEvent(t){t.enabled!==void 0&&this.updateEnabled(),t.checked!==void 0&&this.updateChecked(),t.class!==void 0&&this.updateClass(),t.label!==void 0&&(this.updateLabel(),this.updateTooltip()),t.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Wg)),this._actionRunner}set actionRunner(t){this._actionRunner=t}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(t){this._context=t}render(t){const s=this.element=t;this._register(Wi.addTarget(t));const l=this.options&&this.options.draggable;l&&(t.draggable=!0,dl&&this._register(ze(t,vt.DRAG_START,u=>{var h;return(h=u.dataTransfer)===null||h===void 0?void 0:h.setData(tU.TEXT,this._action.label)}))),this._register(ze(s,nn.Tap,u=>this.onClick(u,!0))),this._register(ze(s,vt.MOUSE_DOWN,u=>{l||Ri.stop(u,!0),this._action.enabled&&u.button===0&&s.classList.add("active")})),Jt&&this._register(ze(s,vt.CONTEXT_MENU,u=>{u.button===0&&u.ctrlKey===!0&&this.onClick(u)})),this._register(ze(s,vt.CLICK,u=>{Ri.stop(u,!0),this.options&&this.options.isMenu||this.onClick(u)})),this._register(ze(s,vt.DBLCLICK,u=>{Ri.stop(u,!0)})),[vt.MOUSE_UP,vt.MOUSE_OUT].forEach(u=>{this._register(ze(s,u,h=>{Ri.stop(h),s.classList.remove("active")}))})}onClick(t,s=!1){var l;Ri.stop(t,!0);const u=tl(this._context)?!((l=this.options)===null||l===void 0)&&l.useEventAsContext?t:{preserveFocus:s}:this._context;this.actionRunner.run(this._action,u)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(t){this.element&&(this.element.tabIndex=t?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class A4 extends $2{constructor(t,s,l={}){super(t,s,l),this.options=l,this.options.icon=l.icon!==void 0?l.icon:!1,this.options.label=l.label!==void 0?l.label:!0,this.cssClass=""}render(t){super.render(t),this.element&&(this.label=Re(this.element,Ue("a.action-label"))),this.label&&(this._action.id===Ml.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(Re(this.element,Ue("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(t){this.label&&(this.label.tabIndex=t?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=E({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&this.label&&(this.label.title=t)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var ame=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class w0 extends Se{constructor(t,s={}){var l,u,h,f,m,A;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new he),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new he({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new he),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new he),this.onBeforeRun=this._onBeforeRun.event,this.options=s,this._context=(l=s.context)!==null&&l!==void 0?l:null,this._orientation=(u=this.options.orientation)!==null&&u!==void 0?u:0,this._triggerKeys={keyDown:(f=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keyDown)!==null&&f!==void 0?f:!1,keys:(A=(m=this.options.triggerKeys)===null||m===void 0?void 0:m.keys)!==null&&A!==void 0?A:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Wg,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(k=>this._onDidRun.fire(k))),this._register(this._actionRunner.onBeforeRun(k=>this._onBeforeRun.fire(k))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",s.animated!==!1&&this.domNode.classList.add("animated");let C,w;switch(this._orientation){case 0:C=[15],w=[17];break;case 1:C=[16],w=[18],this.domNode.className+=" vertical";break}this._register(ze(this.domNode,vt.KEY_DOWN,k=>{const D=new hn(k);let I=!0;const N=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;C&&(D.equals(C[0])||D.equals(C[1]))?I=this.focusPrevious():w&&(D.equals(w[0])||D.equals(w[1]))?I=this.focusNext():D.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():D.equals(14)?I=this.focusFirst():D.equals(13)?I=this.focusLast():D.equals(2)&&N instanceof $2&&N.trapsArrowNavigation?I=this.focusNext():this.isTriggerKeyEvent(D)?this._triggerKeys.keyDown?this.doTrigger(D):this.triggerKeyDown=!0:I=!1,I&&(D.preventDefault(),D.stopPropagation())})),this._register(ze(this.domNode,vt.KEY_UP,k=>{const D=new hn(k);this.isTriggerKeyEvent(D)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(D)),D.preventDefault(),D.stopPropagation()):(D.equals(2)||D.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Bg(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(dg()===this.domNode||!bc(dg(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role","toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(t){if(this.focusable=t,this.focusable){const s=this.viewItems.find(l=>l instanceof $2&&l.isEnabled());s instanceof $2&&s.setFocusable(!0)}else this.viewItems.forEach(s=>{s instanceof $2&&s.setFocusable(!1)})}isTriggerKeyEvent(t){let s=!1;return this._triggerKeys.keys.forEach(l=>{s=s||t.equals(l)}),s}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){const s=this.actionsList.children[t];if(bc(dg(),s)){this.focusedItem=t;break}}}get context(){return this._context}set context(t){this._context=t,this.viewItems.forEach(s=>s.setActionContext(t))}get actionRunner(){return this._actionRunner}set actionRunner(t){t&&(this._actionRunner=t,this.viewItems.forEach(s=>s.actionRunner=t))}getContainer(){return this.domNode}push(t,s={}){const l=Array.isArray(t)?t:[t];let u=Od(s.index)?s.index:null;l.forEach(h=>{const f=document.createElement("li");f.className="action-item",f.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(ze(f,vt.CONTEXT_MENU,A=>{Ri.stop(A,!0)}));let m;this.options.actionViewItemProvider&&(m=this.options.actionViewItemProvider(h)),m||(m=new A4(this.context,h,s)),m.actionRunner=this._actionRunner,m.setActionContext(this.context),m.render(f),this.focusable&&m instanceof $2&&this.viewItems.length===0&&m.setFocusable(!0),u===null||u<0||u>=this.actionsList.children.length?(this.actionsList.appendChild(f),this.viewItems.push(m),this._actionIds.push(h.id)):(this.actionsList.insertBefore(f,this.actionsList.children[u]),this.viewItems.splice(u,0,m),this._actionIds.splice(u,0,h.id),u++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){mi(this.viewItems),this.viewItems=[],this._actionIds=[],vs(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(t){let s=!1,l;if(t===void 0?s=!0:typeof t=="number"?l=t:typeof t=="boolean"&&(s=t),s&&typeof this.focusedItem>"u"){const u=this.viewItems.findIndex(h=>h.isEnabled());this.focusedItem=u===-1?void 0:u,this.updateFocus(void 0,void 0,!0)}else l!==void 0&&(this.focusedItem=l),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let l;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=s,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,l=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!l.isEnabled());return this.updateFocus(),!0}focusPrevious(t){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let l;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=s,!1;this.focusedItem=this.viewItems.length-1}l=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&this.options.focusOnlyEnabledItems&&!l.isEnabled());return this.updateFocus(!0),!0}updateFocus(t,s,l=!1){var u;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:s}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((u=this.viewItems[this.previouslyFocusedItem])===null||u===void 0||u.blur());const h=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(h){let f=!0;F3(h.focus)||(f=!1),this.options.focusOnlyEnabledItems&&F3(h.isEnabled)&&!h.isEnabled()&&(f=!1),f?(l||this.previouslyFocusedItem!==this.focusedItem)&&(h.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:s}),this.previouslyFocusedItem=void 0)}}doTrigger(t){if(typeof this.focusedItem>"u")return;const s=this.viewItems[this.focusedItem];if(s instanceof $2){const l=s._context===null||s._context===void 0?t:s._context;this.run(s._action,l)}}run(t,s){return ame(this,void 0,void 0,function*(){yield this._actionRunner.run(t,s)})}dispose(){mi(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const cme={IconContribution:"base.contributions.icons"};var gO;(function(d){function t(s,l){let u=s.defaults;for(;Qi.isThemeIcon(u);){const h=Nf.getIcon(u.id);if(!h)return;u=h.defaults}return u}d.getDefinition=t})(gO||(gO={}));class ume{constructor(){this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:E("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:E("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Gr.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(t,s,l,u){const h=this.iconsById[t];if(h){if(l&&!h.description){h.description=l,this.iconSchema.properties[t].markdownDescription=`${l} $(${t})`;const A=this.iconReferenceSchema.enum.indexOf(t);A!==-1&&(this.iconReferenceSchema.enumDescriptions[A]=l),this._onDidChange.fire()}return h}let f={id:t,description:l,defaults:s,deprecationMessage:u};this.iconsById[t]=f;let m={$ref:"#/definitions/icons"};return u&&(m.deprecationMessage=u),l&&(m.markdownDescription=`${l}: $(${t})`),this.iconSchema.properties[t]=m,this.iconReferenceSchema.enum.push(t),this.iconReferenceSchema.enumDescriptions.push(l||""),this._onDidChange.fire(),{id:t}}getIcons(){return Object.keys(this.iconsById).map(t=>this.iconsById[t])}getIcon(t){return this.iconsById[t]}getIconSchema(){return this.iconSchema}toString(){const t=(h,f)=>h.id.localeCompare(f.id),s=h=>{for(;Qi.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let l=[];l.push("| preview     | identifier                        | default codicon ID                | description"),l.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const u=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of u.filter(f=>!!f.description).sort(t))l.push(`|<i class="${s(h)}"></i>|${h.id}|${Qi.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);l.push("| preview     | identifier                        "),l.push("| ----------- | --------------------------------- |");for(const h of u.filter(f=>!Qi.isThemeIcon(f.defaults)).sort(t))l.push(`|<i class="${s(h)}"></i>|${h.id}|`);return l.join(`
`)}}const Nf=new ume;ts.add(cme.IconContribution,Nf);function bs(d,t,s,l){return Nf.registerIcon(d,t,s,l)}function iU(){return Nf}function hme(){for(const d of T.getAll())Nf.registerIcon(d.id,d.definition,d.description)}hme();const nU="vscode://schemas/icons";let sU=ts.as(Gw.JSONContribution);sU.registerSchema(nU,Nf.getIconSchema());const mO=new zi(()=>sU.notifySchemaChanged(nU),200);Nf.onDidChange(()=>{mO.isScheduled()||mO.schedule()});const rU=bs("widget-close",T.close,E("widgetClose","Icon for the close action in widgets."));bs("goto-previous-location",T.arrowUp,E("previousChangeIcon","Icon for goto previous editor location."));bs("goto-next-location",T.arrowDown,E("nextChangeIcon","Icon for goto next editor location."));Qi.modify(T.sync,"spin");Qi.modify(T.loading,"spin");var dme=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},fme=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},gme=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},Xb;const i6=3;class Rp{constructor(t,s,l,u){this.originalLineStart=t,this.originalLineEnd=s,this.modifiedLineStart=l,this.modifiedLineEnd=u}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class Jb{constructor(t){this.entries=t}}const mme=bs("diff-review-insert",T.add,E("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),pme=bs("diff-review-remove",T.remove,E("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Ame=bs("diff-review-close",T.close,E("diffReviewCloseIcon","Icon for 'Close' in diff review."));let xC=class Jh extends Se{constructor(t,s){super(),this._languageService=s,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=_i(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=_i(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new w0(this.actionBarContainer.domNode)),this._actionBar.push(new Po("diffreview.close",E("label.close","Close"),"close-diff-review "+Qi.asClassName(Ame),!0,()=>gme(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=_i(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=_i(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new A_(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(zs(this.domNode.domNode,"click",l=>{l.preventDefault();const u=kV(l.target,"diff-review-row");u&&this._goToRow(u)})),this._register(zs(this.domNode.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._goToRow(this._getNextRow())),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._goToRow(this._getPrevRow())),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this.hide()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let l=-1;for(let u=0,h=this._diffs.length;u<h;u++)if(this._diffs[u]===this._currentDiff){l=u;break}t=this._diffs.length+l-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const s=this._diffs[t].entries;this._diffEditor.setPosition(new me(s[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:s[0].modifiedLineStart,endColumn:1073741824,endLineNumber:s[s.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let l=-1;for(let u=0,h=this._diffs.length;u<h;u++)if(this._diffs[u]===this._currentDiff){l=u;break}t=l+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const s=this._diffs[t].entries;this._diffEditor.setPosition(new me(s[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:s[0].modifiedLineStart,endColumn:1073741824,endLineNumber:s[s.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let t=-1;const s=this._getCurrentFocusedRow();if(s){const l=parseInt(s.getAttribute("data-line"),10);isNaN(l)||(t=l)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new me(t,1)),this._diffEditor.revealPosition(new me(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){const t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t){const s=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),s&&s!==t&&(s.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,s,l){this._width=s,this.shadow.setTop(t-6),this.shadow.setWidth(s),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(s),this.domNode.setHeight(l),this._content.setHeight(l),this._content.setWidth(s),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const s=this._diffEditor.getOriginalEditor().getModel(),l=this._diffEditor.getModifiedEditor().getModel();return!s||!l?[]:Jh._mergeAdjacent(t,s.getLineCount(),l.getLineCount())}static _mergeAdjacent(t,s,l){if(!t||t.length===0)return[];const u=[];let h=0;for(let C=0,w=t.length;C<w;C++){const k=t[C],D=k.originalStartLineNumber,I=k.originalEndLineNumber,N=k.modifiedStartLineNumber,R=k.modifiedEndLineNumber,O=[];let W=0;{const B=I===0?D:D-1,z=R===0?N:N-1;let G=1,K=1;if(C>0){const J=t[C-1];J.originalEndLineNumber===0?G=J.originalStartLineNumber+1:G=J.originalEndLineNumber+1,J.modifiedEndLineNumber===0?K=J.modifiedStartLineNumber+1:K=J.modifiedEndLineNumber+1}let q=B-i6+1,Y=z-i6+1;if(q<G){const J=G-q;q=q+J,Y=Y+J}if(Y<K){const J=K-Y;q=q+J,Y=Y+J}O[W++]=new Rp(q,B,Y,z)}I!==0&&(O[W++]=new Rp(D,I,0,0)),R!==0&&(O[W++]=new Rp(0,0,N,R));{const B=I===0?D+1:I+1,z=R===0?N+1:R+1;let G=s,K=l;if(C+1<w){const J=t[C+1];J.originalEndLineNumber===0?G=J.originalStartLineNumber:G=J.originalStartLineNumber-1,J.modifiedEndLineNumber===0?K=J.modifiedStartLineNumber:K=J.modifiedStartLineNumber-1}let q=B+i6-1,Y=z+i6-1;if(q>G){const J=G-q;q=q+J,Y=Y+J}if(Y>K){const J=K-Y;q=q+J,Y=Y+J}O[W++]=new Rp(B,q,z,Y)}u[h++]=new Jb(O)}let f=u[0].entries;const m=[];let A=0;for(let C=1,w=u.length;C<w;C++){const k=u[C].entries,D=f[f.length-1],I=k[0];if(D.getType()===0&&I.getType()===0&&I.originalLineStart<=D.originalLineEnd){f[f.length-1]=new Rp(D.originalLineStart,I.originalLineEnd,D.modifiedLineStart,I.modifiedLineEnd),f=f.concat(k.slice(1));continue}m[A++]=new Jb(f),f=k}return m[A++]=new Jb(f),m}_findDiffIndex(t){const s=t.lineNumber;for(let l=0,u=this._diffs.length;l<u;l++){const h=this._diffs[l].entries,f=h[h.length-1].modifiedLineEnd;if(s<=f)return l}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),s=this._diffEditor.getModifiedEditor().getOptions(),l=this._diffEditor.getOriginalEditor().getModel(),u=this._diffEditor.getModifiedEditor().getModel(),h=l.getOptions(),f=u.getOptions();if(!this._isVisible||!l||!u){vs(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const m=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[m]===this._currentDiff)return;this._currentDiff=this._diffs[m];const A=this._diffs[m].entries,C=document.createElement("div");C.className="diff-review-table",C.setAttribute("role","list"),C.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),_r(C,s.get(44));let w=0,k=0,D=0,I=0;for(let Y=0,J=A.length;Y<J;Y++){const ne=A[Y],Ae=ne.originalLineStart,ge=ne.originalLineEnd,Te=ne.modifiedLineStart,Me=ne.modifiedLineEnd;Ae!==0&&(w===0||Ae<w)&&(w=Ae),ge!==0&&(k===0||ge>k)&&(k=ge),Te!==0&&(D===0||Te<D)&&(D=Te),Me!==0&&(I===0||Me>I)&&(I=Me)}const N=document.createElement("div");N.className="diff-review-row";const R=document.createElement("div");R.className="diff-review-cell diff-review-summary";const O=k-w+1,W=I-D+1;R.appendChild(document.createTextNode(`${m+1}/${this._diffs.length}: @@ -${w},${O} +${D},${W} @@`)),N.setAttribute("data-line",String(D));const B=Y=>Y===0?E("no_lines_changed","no lines changed"):Y===1?E("one_line_changed","1 line changed"):E("more_lines_changed","{0} lines changed",Y),z=B(O),G=B(W);N.setAttribute("aria-label",E({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",m+1,this._diffs.length,w,z,D,G)),N.appendChild(R),N.setAttribute("role","listitem"),C.appendChild(N);const K=s.get(59);let q=D;for(let Y=0,J=A.length;Y<J;Y++){const ne=A[Y];Jh._renderSection(C,ne,q,K,this._width,t,l,h,s,u,f,this._languageService.languageIdCodec),ne.modifiedLineStart!==0&&(q=ne.modifiedLineEnd)}vs(this._content.domNode),this._content.domNode.appendChild(C),this.scrollbar.scanDomNode()}static _renderSection(t,s,l,u,h,f,m,A,C,w,k,D){const I=s.getType();let N="diff-review-row",R="";const O="diff-review-spacer";let W=null;switch(I){case 1:N="diff-review-row line-insert",R=" char-insert",W=mme;break;case 2:N="diff-review-row line-delete",R=" char-delete",W=pme;break}const B=s.originalLineStart,z=s.originalLineEnd,G=s.modifiedLineStart,K=s.modifiedLineEnd,q=Math.max(K-G,z-B),Y=f.get(131),J=Y.glyphMarginWidth+Y.lineNumbersWidth,ne=C.get(131),Ae=10+ne.glyphMarginWidth+ne.lineNumbersWidth;for(let ge=0;ge<=q;ge++){const Te=B===0?0:B+ge,Me=G===0?0:G+ge,ct=document.createElement("div");ct.style.minWidth=h+"px",ct.className=N,ct.setAttribute("role","listitem"),Me!==0&&(l=Me),ct.setAttribute("data-line",String(l));const st=document.createElement("div");st.className="diff-review-cell",st.style.height=`${u}px`,ct.appendChild(st);const kt=document.createElement("span");kt.style.width=J+"px",kt.style.minWidth=J+"px",kt.className="diff-review-line-number"+R,Te!==0?kt.appendChild(document.createTextNode(String(Te))):kt.innerText="\xA0",st.appendChild(kt);const Et=document.createElement("span");Et.style.width=Ae+"px",Et.style.minWidth=Ae+"px",Et.style.paddingRight="10px",Et.className="diff-review-line-number"+R,Me!==0?Et.appendChild(document.createTextNode(String(Me))):Et.innerText="\xA0",st.appendChild(Et);const Dt=document.createElement("span");if(Dt.className=O,W){const Vi=document.createElement("span");Vi.className=Qi.asClassName(W),Vi.innerText="\xA0\xA0",Dt.appendChild(Vi)}else Dt.innerText="\xA0\xA0";st.appendChild(Dt);let Vt;if(Me!==0){let Vi=this._renderLine(w,C,k.tabSize,Me,D);Jh._ttPolicy&&(Vi=Jh._ttPolicy.createHTML(Vi)),st.insertAdjacentHTML("beforeend",Vi),Vt=w.getLineContent(Me)}else{let Vi=this._renderLine(m,f,A.tabSize,Te,D);Jh._ttPolicy&&(Vi=Jh._ttPolicy.createHTML(Vi)),st.insertAdjacentHTML("beforeend",Vi),Vt=m.getLineContent(Te)}Vt.length===0&&(Vt=E("blankLine","blank"));let fn="";switch(I){case 0:Te===Me?fn=E({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Vt,Te):fn=E("equalLine","{0} original line {1} modified line {2}",Vt,Te,Me);break;case 1:fn=E("insertLine","+ {0} modified line {1}",Vt,Me);break;case 2:fn=E("deleteLine","- {0} original line {1}",Vt,Te);break}ct.setAttribute("aria-label",fn),t.appendChild(ct)}}static _renderLine(t,s,l,u,h){const f=t.getLineContent(u),m=s.get(44),A=ws.createEmpty(f,h),C=fl.isBasicASCII(f,t.mightContainNonBasicASCII()),w=fl.containsRTL(f,C,t.mightContainRTL());return Tw(new yf(m.isMonospace&&!s.get(29),m.canUseHalfwidthRightwardsArrow,f,!1,C,w,0,A,[],l,0,m.spaceWidth,m.middotWidth,m.wsmiddotWidth,s.get(105),s.get(88),s.get(83),s.get(45)!==il.OFF,null)).html}};xC._ttPolicy=(Xb=window.trustedTypes)===null||Xb===void 0?void 0:Xb.createPolicy("diffReview",{createHTML:d=>d});xC=dme([fme(1,yn)],xC);rn((d,t)=>{const s=d.getColor(dH);s&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${s}; }`);const l=d.getColor(km);l&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${l} 0 -6px 6px -6px inset; }`)});class _me extends lt{constructor(){super({id:"editor.action.diffReview.next",label:E("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:it.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,s){const l=oU(t);l&&l.diffReviewNext()}}class Cme extends lt{constructor(){super({id:"editor.action.diffReview.prev",label:E("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:it.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,s){const l=oU(t);l&&l.diffReviewPrev()}}function oU(d){const t=d.get(Mi),s=t.listDiffEditors(),l=t.getActiveCodeEditor();if(!l)return null;for(let u=0,h=s.length;u<h;u++){const f=s[u];if(f.getModifiedEditor().getId()===l.getId()||f.getOriginalEditor().getId()===l.getId())return f}return null}$e(_me);$e(Cme);const wme="editorWorkerService",Gl=hi(wme),C_=hi("contextViewService"),uh=hi("contextMenuService");var qb=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class vme extends Se{constructor(t,s,l,u,h,f){super(),this._viewZoneId=t,this._marginDomNode=s,this.editor=l,this.diff=u,this._contextMenuService=h,this._clipboardService=f,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=T.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const m=l.getOption(59),A=l.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${m}px`,this._diffActions.style.lineHeight=`${m}px`,this._marginDomNode.appendChild(this._diffActions);const C=[],w=u.modifiedEndLineNumber===0;C.push(new Po("diff.clipboard.copyDeletedContent",w?u.originalEndLineNumber>u.modifiedStartLineNumber?E("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):E("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):u.originalEndLineNumber>u.modifiedStartLineNumber?E("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):E("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>qb(this,void 0,void 0,function*(){const R=new $(u.originalStartLineNumber,1,u.originalEndLineNumber+1,1),O=u.originalModel.getValueInRange(R);yield this._clipboardService.writeText(O)})));let k=0,D;u.originalEndLineNumber>u.modifiedStartLineNumber&&(D=new Po("diff.clipboard.copyDeletedLineContent",w?E("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",u.originalStartLineNumber):E("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",u.originalStartLineNumber),void 0,!0,()=>qb(this,void 0,void 0,function*(){const R=u.originalModel.getLineContent(u.originalStartLineNumber+k);if(R===""){const O=u.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(O===0?`
`:`\r
`)}else yield this._clipboardService.writeText(R)})),C.push(D)),l.getOption(81)||C.push(new Po("diff.inline.revertChange",E("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>qb(this,void 0,void 0,function*(){const R=new $(u.originalStartLineNumber,1,u.originalEndLineNumber,u.originalModel.getLineMaxColumn(u.originalEndLineNumber)),O=u.originalModel.getValueInRange(R);if(u.modifiedEndLineNumber===0){const W=l.getModel().getLineMaxColumn(u.modifiedStartLineNumber);l.executeEdits("diffEditor",[{range:new $(u.modifiedStartLineNumber,W,u.modifiedStartLineNumber,W),text:A+O}])}else{const W=l.getModel().getLineMaxColumn(u.modifiedEndLineNumber);l.executeEdits("diffEditor",[{range:new $(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,W),text:O}])}})));const N=(R,O)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:R,y:O}),getActions:()=>(D&&(D.label=w?E("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",u.originalStartLineNumber+k):E("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",u.originalStartLineNumber+k)),C),autoSelectFirstItem:!0})};this._register(zs(this._diffActions,"mousedown",R=>{const{top:O,height:W}=Js(this._diffActions),B=Math.floor(m/3);R.preventDefault(),N(R.posx,O+W+B)})),this._register(l.onMouseMove(R=>{R.target.type===8||R.target.type===5?R.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,k=this._updateLightBulbPosition(this._marginDomNode,R.event.browserEvent.y,m)):this.visibility=!1:this.visibility=!1})),this._register(l.onMouseDown(R=>{!R.event.rightButton||(R.target.type===8||R.target.type===5)&&R.target.detail.viewZoneId===this._viewZoneId&&(R.event.preventDefault(),k=this._updateLightBulbPosition(this._marginDomNode,R.event.browserEvent.y,m),N(R.event.posx,R.event.posy+m))}))}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(t,s,l){const{top:u}=Js(t),h=s-u,f=Math.floor(h/l),m=f*l;if(this._diffActions.style.top=`${m}px`,this.diff.viewLineCounts){let A=0;for(let C=0;C<this.diff.viewLineCounts.length;C++)if(A+=this.diff.viewLineCounts[C],f<A)return C}return f}}const Tf=hi("clipboardService");Object.freeze({total(){},worked(){},done(){}});class Rf{constructor(t){this.callback=t}report(t){this._value=t,this.callback(this._value)}}Rf.None=Object.freeze({report(){}});const hh=hi("editorProgressService");var kme=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Y0=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},e9;class pO{constructor(t,s){this._contextMenuService=t,this._clipboardService=s,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(s=>!this._zonesMap[String(s.id)])}clean(t){this._zones.length>0&&t.changeViewZones(s=>{for(const l of this._zones)s.removeZone(l)}),this._zones=[],this._zonesMap={},this._decorations=t.deltaDecorations(this._decorations,[])}apply(t,s,l,u){const h=u?Ju.capture(t):null;t.changeViewZones(f=>{var m;for(const A of this._zones)f.removeZone(A);for(const A of this._inlineDiffMargins)A.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let A=0,C=l.zones.length;A<C;A++){const w=l.zones[A];w.suppressMouseDown=!0;const k=f.addZone(w);this._zones.push(k),this._zonesMap[String(k)]=!0,l.zones[A].diff&&w.marginDomNode&&(w.suppressMouseDown=!1,((m=l.zones[A].diff)===null||m===void 0?void 0:m.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new vme(k,w.marginDomNode,t,l.zones[A].diff,this._contextMenuService,this._clipboardService)))}}),h&&h.restore(t),this._decorations=t.deltaDecorations(this._decorations,l.decorations),s&&s.setZones(l.overviewZones)}}let bme=0;const Sme=bs("diff-insert",T.add,E("diffInsertIcon","Line decoration for inserts in the diff editor.")),lU=bs("diff-remove",T.remove,E("diffRemoveIcon","Line decoration for removals in the diff editor.")),AO=(e9=window.trustedTypes)===null||e9===void 0?void 0:e9.createPolicy("diffEditorWidget",{createHTML:d=>d});let qu=class ur extends Se{constructor(t,s,l,u,h,f,m,A,C,w,k,D){super(),this._editorProgressService=D,this._onDidDispose=this._register(new he),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new he),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new he),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=h,this._codeEditorService=A,this._contextKeyService=this._register(f.createScoped(t)),this._instantiationService=m.createChild(new ov([Mt,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=C,this._notificationService=w,this._id=++bme,this._state=0,this._updatingDiffProgress=null,this._domElement=t,s=s||{},this._options=wO(s,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof s.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",s.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new zi(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=ur._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=_i(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(zs(this._overviewDomElement,"mousedown",N=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(N)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new pO(k,u),this._modifiedEditorState=new pO(k,u),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new VV(this._containerDomElement,s.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),s.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(s,l.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(s,l.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=m.createInstance(xC,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new gc(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new CO(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(C.onDidColorThemeChange(N=>{this._strategy&&this._strategy.applyColors(N)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=ur._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const I=kd.getDiffEditorContributions();for(const N of I)try{this._register(m.createInstance(N.ctor,this))}catch(R){Bt(R)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,s){let l="monaco-diff-editor monaco-editor-background ";return s&&(l+="side-by-side "),l+=oC(t.type),l}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,s){const l=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),s);this._register(l.onDidScrollChange(h=>{this._isHandlingScrollEvent||!h.scrollTopChanged&&!h.scrollLeftChanged&&!h.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(l.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(l.onDidChangeConfiguration(h=>{!l.getModel()||(h.hasChanged(44)&&this._updateDecorationsRunner.schedule(),h.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(l.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(l.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const u=this._contextKeyService.createKey("isInDiffLeftEditor",l.hasWidgetFocus());return this._register(l.onDidFocusEditorWidget(()=>u.set(!0))),this._register(l.onDidBlurEditorWidget(()=>u.set(!1))),this._register(l.onDidContentSizeChange(h=>{const f=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+ur.ONE_OVERVIEW_WIDTH,m=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:m,contentWidth:f,contentHeightChanged:h.contentHeightChanged,contentWidthChanged:h.contentWidthChanged})})),l}_createRightHandSideEditor(t,s){const l=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),s);this._register(l.onDidScrollChange(h=>{this._isHandlingScrollEvent||!h.scrollTopChanged&&!h.scrollLeftChanged&&!h.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(l.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(l.onDidChangeConfiguration(h=>{!l.getModel()||(h.hasChanged(44)&&this._updateDecorationsRunner.schedule(),h.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(l.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(l.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(l.onDidChangeModelOptions(h=>{h.tabSize&&this._updateDecorationsRunner.schedule()}));const u=this._contextKeyService.createKey("isInDiffRightEditor",l.hasWidgetFocus());return this._register(l.onDidFocusEditorWidget(()=>u.set(!0))),this._register(l.onDidBlurEditorWidget(()=>u.set(!1))),this._register(l.onDidContentSizeChange(h=>{const f=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+ur.ONE_OVERVIEW_WIDTH,m=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:m,contentWidth:f,contentHeightChanged:h.contentHeightChanged,contentWidthChanged:h.contentWidthChanged})})),l}_createInnerEditor(t,s,l,u){return t.createInstance(p4,s,l,u)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c_.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const s=wO(t,this._options),l=Ime(this._options,s);this._options=s;const u=l.ignoreTrimWhitespace||l.renderIndicators,h=this._isVisible&&(l.maxComputationTime||l.maxFileSize);u?this._beginUpdateDecorations():h&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),l.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new gc(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new CO(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=ur._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),l.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t,s="api"){this._modifiedEditor.setPosition(t,s)}revealLine(t,s=0){this._modifiedEditor.revealLine(t,s)}revealLineInCenter(t,s=0){this._modifiedEditor.revealLineInCenter(t,s)}revealLineInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,s)}revealLineNearTop(t,s=0){this._modifiedEditor.revealLineNearTop(t,s)}revealPosition(t,s=0){this._modifiedEditor.revealPosition(t,s)}revealPositionInCenter(t,s=0){this._modifiedEditor.revealPositionInCenter(t,s)}revealPositionInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,s)}revealPositionNearTop(t,s=0){this._modifiedEditor.revealPositionNearTop(t,s)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t,s="api"){this._modifiedEditor.setSelection(t,s)}setSelections(t,s="api"){this._modifiedEditor.setSelections(t,s)}revealLines(t,s,l=0){this._modifiedEditor.revealLines(t,s,l)}revealLinesInCenter(t,s,l=0){this._modifiedEditor.revealLinesInCenter(t,s,l)}revealLinesInCenterIfOutsideViewport(t,s,l=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,s,l)}revealLinesNearTop(t,s,l=0){this._modifiedEditor.revealLinesNearTop(t,s,l)}revealRange(t,s=0,l=!1,u=!0){this._modifiedEditor.revealRange(t,s,l,u)}revealRangeInCenter(t,s=0){this._modifiedEditor.revealRangeInCenter(t,s)}revealRangeInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,s)}revealRangeNearTop(t,s=0){this._modifiedEditor.revealRangeNearTop(t,s)}revealRangeNearTopIfOutsideViewport(t,s=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,s)}revealRangeAtTop(t,s=0){this._modifiedEditor.revealRangeAtTop(t,s)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),s=this._modifiedEditor.saveViewState();return{original:t,modified:s}}restoreViewState(t){if(t&&t.original&&t.modified){const s=t;this._originalEditor.restoreViewState(s.original),this._modifiedEditor.restoreViewState(s.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,s,l){this._modifiedEditor.trigger(t,s,l)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),s=this._getReviewHeight(),l=ur.ENTIRE_DIFF_OVERVIEW_WIDTH-2*ur.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:ur.ONE_OVERVIEW_WIDTH,right:l+ur.ONE_OVERVIEW_WIDTH,height:t-s}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:ur.ONE_OVERVIEW_WIDTH,height:t-s}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),ur.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,s){return!t&&!s?!0:!t||!s?!1:t.toString()===s.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),s=this._modifiedEditor.getModel();if(!t||!s)return;this._diffComputationToken++;const l=this._diffComputationToken,u=this._options.maxFileSize*1024*1024,h=f=>{const m=f.getValueLength();return u===0||m<=u};if(!h(t)||!h(s)){(!ur._equals(t.uri,this._lastOriginalWarning)||!ur._equals(s.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=s.uri,this._notificationService.warn(E("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(t.uri,s.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(f=>{l===this._diffComputationToken&&t===this._originalEditor.getModel()&&s===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=f,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},f=>{l===this._diffComputationToken&&t===this._originalEditor.getModel()&&s===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],s=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),l=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),u=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,s,l);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,u.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,u.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const s=Object.assign({},t);return s.inDiffEditor=!0,s.automaticLayout=!1,s.scrollbar=Object.assign({},s.scrollbar||{}),s.scrollbar.vertical="visible",s.folding=!1,s.codeLens=this._options.diffCodeLens,s.fixedOverflowWidgets=!0,s.minimap=Object.assign({},s.minimap||{}),s.minimap.enabled=!1,s}_adjustOptionsForLeftHandSide(t){const s=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?s.wordWrapOverride1=this._options.diffWordWrap:(s.wordWrapOverride1="off",s.wordWrapOverride2="off"),t.originalAriaLabel&&(s.ariaLabel=t.originalAriaLabel),s.readOnly=!this._options.originalEditable,s.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},s),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const s=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(s.ariaLabel=t.modifiedAriaLabel),s.wordWrapOverride1=this._options.diffWordWrap,s.revealHorizontalRightPadding=a2.revealHorizontalRightPadding.defaultValue+ur.ENTIRE_DIFF_OVERVIEW_WIDTH,s.scrollbar.verticalHasArrows=!1,s.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},s),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),s=this._elementSizeObserver.getHeight(),l=this._getReviewHeight(),u=this._strategy.layout();this._originalDomNode.style.width=u+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-u+"px",this._modifiedDomNode.style.left=u+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=s-l+"px",this._overviewDomElement.style.width=ur.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-ur.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(ur.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:u,height:s-l}),this._modifiedEditor.layout({width:t-u-(this._options.renderOverviewRuler?ur.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:s-l}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(s-l,t,l),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const s=this._modifiedEditor.getScrollTop(),l=this._modifiedEditor.getScrollHeight(),u=Math.max(0,t.height),h=Math.max(0,u-2*0),f=l>0?h/l:0,m=Math.max(0,Math.floor(t.height*f)),A=Math.floor(s*f);return{height:m,top:A}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,s){const l=this._diffComputationResult?this._diffComputationResult.changes:[];if(l.length===0||t<s(l[0]))return null;let u=0,h=l.length-1;for(;u<h;){const f=Math.floor((u+h)/2),m=s(l[f]),A=f+1<=h?s(l[f+1]):1073741824;t<m?h=f-1:t>=A?u=f+1:(u=f,h=f)}return l[u]}_getEquivalentLineForOriginalLineNumber(t){const s=this._getLineChangeAtOrBeforeLineNumber(t,A=>A.originalStartLineNumber);if(!s)return t;const l=s.originalStartLineNumber+(s.originalEndLineNumber>0?-1:0),u=s.modifiedStartLineNumber+(s.modifiedEndLineNumber>0?-1:0),h=s.originalEndLineNumber>0?s.originalEndLineNumber-s.originalStartLineNumber+1:0,f=s.modifiedEndLineNumber>0?s.modifiedEndLineNumber-s.modifiedStartLineNumber+1:0,m=t-l;return m<=h?u+Math.min(m,f):u+f-h+m}_getEquivalentLineForModifiedLineNumber(t){const s=this._getLineChangeAtOrBeforeLineNumber(t,A=>A.modifiedStartLineNumber);if(!s)return t;const l=s.originalStartLineNumber+(s.originalEndLineNumber>0?-1:0),u=s.modifiedStartLineNumber+(s.modifiedEndLineNumber>0?-1:0),h=s.originalEndLineNumber>0?s.originalEndLineNumber-s.originalStartLineNumber+1:0,f=s.modifiedEndLineNumber>0?s.modifiedEndLineNumber-s.modifiedStartLineNumber+1:0,m=t-u;return m<=f?l+Math.min(m,h):l+h-f+m}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};qu.ONE_OVERVIEW_WIDTH=15;qu.ENTIRE_DIFF_OVERVIEW_WIDTH=30;qu.UPDATE_DIFF_DECORATIONS_DELAY=200;qu=kme([Y0(3,Tf),Y0(4,Gl),Y0(5,Mt),Y0(6,ii),Y0(7,Mi),Y0(8,dn),Y0(9,is),Y0(10,uh),Y0(11,hh)],qu);class aU extends Se{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const s=t.getColor(Lue)||(t.getColor(eH)||Oy).transparent(2),l=t.getColor(Due)||(t.getColor(tH)||Fy).transparent(2),u=!s.equals(this._insertColor)||!l.equals(this._removeColor);return this._insertColor=s,this._removeColor=l,u}getEditorsDiffDecorations(t,s,l,u,h){h=h.sort((C,w)=>C.afterLineNumber-w.afterLineNumber),u=u.sort((C,w)=>C.afterLineNumber-w.afterLineNumber);const f=this._getViewZones(t,u,h,l),m=this._getOriginalEditorDecorations(f,t,s,l),A=this._getModifiedEditorDecorations(f,t,s,l);return{original:{decorations:m.decorations,overviewZones:m.overviewZones,zones:f.original},modified:{decorations:A.decorations,overviewZones:A.overviewZones,zones:f.modified}}}}class _O{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class _d{constructor(t,s,l,u,h){this._lineChanges=t,this._originalForeignVZ=s,this._modifiedForeignVZ=l,this._originalEditor=u,this._modifiedEditor=h}static _getViewLineCount(t,s,l){const u=t.getModel(),h=t._getViewModel();if(u&&h){const f=_4(u,h,s,l);return f.endLineNumber-f.startLineNumber+1}return l-s+1}getViewZones(){const t=this._originalEditor.getOption(59),s=this._modifiedEditor.getOption(59),l=this._originalEditor.getOption(132).wrappingColumn!==-1,u=this._modifiedEditor.getOption(132).wrappingColumn!==-1,h=l||u,f=this._originalEditor.getModel(),m=this._originalEditor._getViewModel().coordinatesConverter,A=this._modifiedEditor._getViewModel().coordinatesConverter,C={original:[],modified:[]};let w=0,k=0,D=0,I=0,N=0,R=0;const O=(q,Y)=>q.afterLineNumber-Y.afterLineNumber,W=(q,Y)=>{if(Y.domNode===null&&q.length>0){const J=q[q.length-1];if(J.afterLineNumber===Y.afterLineNumber&&J.domNode===null){J.heightInLines+=Y.heightInLines;return}}q.push(Y)},B=new _O(this._modifiedForeignVZ),z=new _O(this._originalForeignVZ);let G=1,K=1;for(let q=0,Y=this._lineChanges.length;q<=Y;q++){const J=q<Y?this._lineChanges[q]:null;J!==null?(D=J.originalStartLineNumber+(J.originalEndLineNumber>0?-1:0),I=J.modifiedStartLineNumber+(J.modifiedEndLineNumber>0?-1:0),k=J.originalEndLineNumber>0?_d._getViewLineCount(this._originalEditor,J.originalStartLineNumber,J.originalEndLineNumber):0,w=J.modifiedEndLineNumber>0?_d._getViewLineCount(this._modifiedEditor,J.modifiedStartLineNumber,J.modifiedEndLineNumber):0,N=Math.max(J.originalStartLineNumber,J.originalEndLineNumber),R=Math.max(J.modifiedStartLineNumber,J.modifiedEndLineNumber)):(D+=1e7+k,I+=1e7+w,N=D,R=I);let ne=[],Ae=[];if(h){let Me;J?J.originalEndLineNumber>0?Me=J.originalStartLineNumber-G:Me=J.modifiedStartLineNumber-K:Me=f.getLineCount()-G+1;for(let ct=0;ct<Me;ct++){const st=G+ct,kt=K+ct,Et=m.getModelLineViewLineCount(st),Dt=A.getModelLineViewLineCount(kt);Et<Dt?ne.push({afterLineNumber:st,heightInLines:Dt-Et,domNode:null,marginDomNode:null}):Et>Dt&&Ae.push({afterLineNumber:kt,heightInLines:Et-Dt,domNode:null,marginDomNode:null})}J&&(G=(J.originalEndLineNumber>0?J.originalEndLineNumber:J.originalStartLineNumber)+1,K=(J.modifiedEndLineNumber>0?J.modifiedEndLineNumber:J.modifiedStartLineNumber)+1)}for(;B.current&&B.current.afterLineNumber<=R;){let Me;B.current.afterLineNumber<=I?Me=D-I+B.current.afterLineNumber:Me=N;let ct=null;J&&J.modifiedStartLineNumber<=B.current.afterLineNumber&&B.current.afterLineNumber<=J.modifiedEndLineNumber&&(ct=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),ne.push({afterLineNumber:Me,heightInLines:B.current.height/s,domNode:null,marginDomNode:ct}),B.advance()}for(;z.current&&z.current.afterLineNumber<=N;){let Me;z.current.afterLineNumber<=D?Me=I-D+z.current.afterLineNumber:Me=R,Ae.push({afterLineNumber:Me,heightInLines:z.current.height/t,domNode:null}),z.advance()}if(J!==null&&kg(J)){const Me=this._produceOriginalFromDiff(J,k,w);Me&&ne.push(Me)}if(J!==null&&bg(J)){const Me=this._produceModifiedFromDiff(J,k,w);Me&&Ae.push(Me)}let ge=0,Te=0;for(ne=ne.sort(O),Ae=Ae.sort(O);ge<ne.length&&Te<Ae.length;){const Me=ne[ge],ct=Ae[Te],st=Me.afterLineNumber-D,kt=ct.afterLineNumber-I;st<kt?(W(C.original,Me),ge++):kt<st?(W(C.modified,ct),Te++):Me.shouldNotShrink?(W(C.original,Me),ge++):ct.shouldNotShrink?(W(C.modified,ct),Te++):Me.heightInLines>=ct.heightInLines?(Me.heightInLines-=ct.heightInLines,Te++):(ct.heightInLines-=Me.heightInLines,ge++)}for(;ge<ne.length;)W(C.original,ne[ge]),ge++;for(;Te<Ae.length;)W(C.modified,Ae[Te]),Te++}return{original:_d._ensureDomNodes(C.original),modified:_d._ensureDomNodes(C.modified)}}static _ensureDomNodes(t){return t.map(s=>(s.domNode||(s.domNode=cU()),s))}}function cc(d,t,s,l,u){return{range:new $(d,t,s,l),options:u}}const ro={charDelete:Qt.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Qt.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Qt.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Qt.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Qt.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Qt.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Qi.asClassName(Sme),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Qt.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Qt.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Qi.asClassName(lU),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Qt.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class gc extends aU{constructor(t,s){super(t),this._disableSash=s===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new mr(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(l=>this._onSashDrag(l)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const s=t===!1;this._disableSash!==s&&(this._disableSash=s,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const l=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?qu.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let u=Math.floor((t||.5)*l);const h=Math.floor(.5*l);return u=this._disableSash?h:u||h,l>gc.MINIMUM_EDITOR_WIDTH*2?(u<gc.MINIMUM_EDITOR_WIDTH&&(u=gc.MINIMUM_EDITOR_WIDTH),u>l-gc.MINIMUM_EDITOR_WIDTH&&(u=l-gc.MINIMUM_EDITOR_WIDTH)):u=h,this._sashPosition!==u&&(this._sashPosition=u),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const l=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?qu.ENTIRE_DIFF_OVERVIEW_WIDTH:0),u=this.layout((this._startSashPosition+(t.currentX-t.startX))/l);this._sashRatio=u/l,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}_getViewZones(t,s,l){const u=this._dataSource.getOriginalEditor(),h=this._dataSource.getModifiedEditor();return new yme(t,s,l,u,h).getViewZones()}_getOriginalEditorDecorations(t,s,l,u){const h=this._dataSource.getOriginalEditor(),f=String(this._removeColor),m={decorations:[],overviewZones:[]},A=h.getModel(),C=h._getViewModel();for(const w of s)if(bg(w)){m.decorations.push({range:new $(w.originalStartLineNumber,1,w.originalEndLineNumber,1073741824),options:u?ro.lineDeleteWithSign:ro.lineDelete}),(!kg(w)||!w.charChanges)&&m.decorations.push(cc(w.originalStartLineNumber,1,w.originalEndLineNumber,1073741824,ro.charDeleteWholeLine));const k=_4(A,C,w.originalStartLineNumber,w.originalEndLineNumber);if(m.overviewZones.push(new c4(k.startLineNumber,k.endLineNumber,0,f)),w.charChanges){for(const D of w.charChanges)if(bg(D))if(l)for(let I=D.originalStartLineNumber;I<=D.originalEndLineNumber;I++){let N,R;I===D.originalStartLineNumber?N=D.originalStartColumn:N=A.getLineFirstNonWhitespaceColumn(I),I===D.originalEndLineNumber?R=D.originalEndColumn:R=A.getLineLastNonWhitespaceColumn(I),m.decorations.push(cc(I,N,I,R,ro.charDelete))}else m.decorations.push(cc(D.originalStartLineNumber,D.originalStartColumn,D.originalEndLineNumber,D.originalEndColumn,ro.charDelete))}}return m}_getModifiedEditorDecorations(t,s,l,u){const h=this._dataSource.getModifiedEditor(),f=String(this._insertColor),m={decorations:[],overviewZones:[]},A=h.getModel(),C=h._getViewModel();for(const w of s)if(kg(w)){m.decorations.push({range:new $(w.modifiedStartLineNumber,1,w.modifiedEndLineNumber,1073741824),options:u?ro.lineInsertWithSign:ro.lineInsert}),(!bg(w)||!w.charChanges)&&m.decorations.push(cc(w.modifiedStartLineNumber,1,w.modifiedEndLineNumber,1073741824,ro.charInsertWholeLine));const k=_4(A,C,w.modifiedStartLineNumber,w.modifiedEndLineNumber);if(m.overviewZones.push(new c4(k.startLineNumber,k.endLineNumber,0,f)),w.charChanges){for(const D of w.charChanges)if(kg(D))if(l)for(let I=D.modifiedStartLineNumber;I<=D.modifiedEndLineNumber;I++){let N,R;I===D.modifiedStartLineNumber?N=D.modifiedStartColumn:N=A.getLineFirstNonWhitespaceColumn(I),I===D.modifiedEndLineNumber?R=D.modifiedEndColumn:R=A.getLineLastNonWhitespaceColumn(I),m.decorations.push(cc(I,N,I,R,ro.charInsert))}else m.decorations.push(cc(D.modifiedStartLineNumber,D.modifiedStartColumn,D.modifiedEndLineNumber,D.modifiedEndColumn,ro.charInsert))}}return m}}gc.MINIMUM_EDITOR_WIDTH=100;class yme extends _d{constructor(t,s,l,u,h){super(t,s,l,u,h)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,s,l){return l>s?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:l-s,domNode:null}:null}_produceModifiedFromDiff(t,s,l){return s>l?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:s-l,domNode:null}:null}}class CO extends aU{constructor(t,s){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(l=>{this._decorationsLeft!==l.decorationsLeft&&(this._decorationsLeft=l.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,s,l,u){const h=this._dataSource.getOriginalEditor(),f=this._dataSource.getModifiedEditor();return new Lme(t,s,l,h,f,u).getViewZones()}_getOriginalEditorDecorations(t,s,l,u){const h=String(this._removeColor),f={decorations:[],overviewZones:[]},m=this._dataSource.getOriginalEditor(),A=m.getModel(),C=m._getViewModel();let w=0;for(const k of s)if(bg(k)){for(f.decorations.push({range:new $(k.originalStartLineNumber,1,k.originalEndLineNumber,1073741824),options:ro.lineDeleteMargin});w<t.modified.length;){const N=t.modified[w];if(N.diff&&N.diff.originalStartLineNumber>=k.originalStartLineNumber)break;w++}let D=0;if(w<t.modified.length){const N=t.modified[w];N.diff&&N.diff.originalStartLineNumber===k.originalStartLineNumber&&N.diff.originalEndLineNumber===k.originalEndLineNumber&&N.diff.modifiedStartLineNumber===k.modifiedStartLineNumber&&N.diff.modifiedEndLineNumber===k.modifiedEndLineNumber&&(D=N.heightInLines)}const I=_4(A,C,k.originalStartLineNumber,k.originalEndLineNumber);f.overviewZones.push(new c4(I.startLineNumber,I.endLineNumber,D,h))}return f}_getModifiedEditorDecorations(t,s,l,u){const h=this._dataSource.getModifiedEditor(),f=String(this._insertColor),m={decorations:[],overviewZones:[]},A=h.getModel(),C=h._getViewModel();for(const w of s)if(kg(w)){m.decorations.push({range:new $(w.modifiedStartLineNumber,1,w.modifiedEndLineNumber,1073741824),options:u?ro.lineInsertWithSign:ro.lineInsert});const k=_4(A,C,w.modifiedStartLineNumber,w.modifiedEndLineNumber);if(m.overviewZones.push(new c4(k.startLineNumber,k.endLineNumber,0,f)),w.charChanges){for(const D of w.charChanges)if(kg(D))if(l)for(let I=D.modifiedStartLineNumber;I<=D.modifiedEndLineNumber;I++){let N,R;I===D.modifiedStartLineNumber?N=D.modifiedStartColumn:N=A.getLineFirstNonWhitespaceColumn(I),I===D.modifiedEndLineNumber?R=D.modifiedEndColumn:R=A.getLineLastNonWhitespaceColumn(I),m.decorations.push(cc(I,N,I,R,ro.charInsert))}else m.decorations.push(cc(D.modifiedStartLineNumber,D.modifiedStartColumn,D.modifiedEndLineNumber,D.modifiedEndColumn,ro.charInsert))}else m.decorations.push(cc(w.modifiedStartLineNumber,1,w.modifiedEndLineNumber,1073741824,ro.charInsertWholeLine))}return m}layout(){return Math.max(5,this._decorationsLeft)}}class Lme extends _d{constructor(t,s,l,u,h,f){super(t,s,l,u,h),this._originalModel=u.getModel(),this._renderIndicators=f,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,s,l){const u=document.createElement("div");return u.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:l,domNode:document.createElement("div"),marginDomNode:u}}_produceModifiedFromDiff(t,s,l){const u=document.createElement("div");u.className=`view-lines line-delete ${Id}`;const h=document.createElement("div");h.className="inline-deleted-margin-view-zone";const f={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:s,minWidthInPx:0,domNode:u,marginDomNode:h,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let m=t.originalStartLineNumber;m<=t.originalEndLineNumber;m++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(m),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(f),f}_finalize(t){const s=this._modifiedEditor.getOptions(),l=this._modifiedEditor.getModel().getOptions().tabSize,u=s.get(44),h=s.get(29),f=u.typicalHalfwidthCharacterWidth,m=s.get(93),A=this._originalModel.mightContainNonBasicASCII(),C=this._originalModel.mightContainRTL(),w=s.get(59),D=s.get(131).decorationsWidth,I=s.get(105),N=s.get(88),R=s.get(83),O=s.get(45),W=this._lineBreaksComputer.finalize();let B=0;for(let z=0;z<this._pendingLineChange.length;z++){const G=this._pendingLineChange[z],K=this._pendingViewZones[z],q=K.domNode;_r(q,u);const Y=K.marginDomNode;_r(Y,u);const J=[];if(G.charChanges)for(const kt of G.charChanges)bg(kt)&&J.push(new cA(new $(kt.originalStartLineNumber,kt.originalStartColumn,kt.originalEndLineNumber,kt.originalEndColumn),"char-delete",0));const ne=J.length>0,Ae=Bd(1e4);let ge=0,Te=0,Me=null;for(let kt=G.originalStartLineNumber;kt<=G.originalEndLineNumber;kt++){const Et=kt-G.originalStartLineNumber,Dt=this._originalModel.getLineTokens(kt),Vt=Dt.getLineContent(),fn=W[B++],Vi=ll.filter(J,kt,1,Vt.length+1);if(fn){let pt=0;for(const xi of fn.breakOffsets){const kr=Dt.sliceAndInflate(pt,xi,0),br=Vt.substring(pt,xi);ge=Math.max(ge,this._renderOriginalLine(Te++,br,kr,ll.extractWrapped(Vi,pt,xi),ne,A,C,u,h,w,D,I,N,R,O,l,Ae,Y)),pt=xi}for(Me||(Me=[]);Me.length<Et;)Me[Me.length]=1;Me[Et]=fn.breakOffsets.length,K.heightInLines+=fn.breakOffsets.length-1;const gt=document.createElement("div");gt.className="gutter-delete",t.original.push({afterLineNumber:kt,afterColumn:0,heightInLines:fn.breakOffsets.length-1,domNode:cU(),marginDomNode:gt})}else ge=Math.max(ge,this._renderOriginalLine(Te++,Vt,Dt,Vi,ne,A,C,u,h,w,D,I,N,R,O,l,Ae,Y))}ge+=m;const ct=Ae.build(),st=AO?AO.createHTML(ct):ct;if(q.innerHTML=st,K.minWidthInPx=ge*f,Me){const kt=G.originalEndLineNumber-G.originalStartLineNumber;for(;Me.length<=kt;)Me[Me.length]=1}K.diff.viewLineCounts=Me}t.original.sort((z,G)=>z.afterLineNumber-G.afterLineNumber)}_renderOriginalLine(t,s,l,u,h,f,m,A,C,w,k,D,I,N,R,O,W,B){W.appendASCIIString('<div class="view-line'),h||W.appendASCIIString(" char-delete"),W.appendASCIIString('" style="top:'),W.appendASCIIString(String(t*w)),W.appendASCIIString('px;width:1000000px;">');const z=fl.isBasicASCII(s,f),G=fl.containsRTL(s,z,m),K=Nw(new yf(A.isMonospace&&!C,A.canUseHalfwidthRightwardsArrow,s,!1,z,G,0,l,u,O,0,A.spaceWidth,A.middotWidth,A.wsmiddotWidth,D,I,N,R!==il.OFF,null),W);if(W.appendASCIIString("</div>"),this._renderIndicators){const q=document.createElement("div");q.className=`delete-sign ${Qi.asClassName(lU)}`,q.setAttribute("style",`position:absolute;top:${t*w}px;width:${k}px;height:${w}px;right:0;`),B.appendChild(q)}return K.characterMapping.getAbsoluteOffset(K.characterMapping.length)}}function Dme(d,t){return co(d,t,["off","on","inherit"])}function kg(d){return d.modifiedEndLineNumber>0}function bg(d){return d.originalEndLineNumber>0}function cU(){const d=document.createElement("div");return d.className="diagonal-fill",d}function _4(d,t,s,l){const u=d.getLineCount();return s=Math.min(u,Math.max(1,s)),l=Math.min(u,Math.max(1,l)),t.coordinatesConverter.convertModelRangeToViewRange(new $(s,d.getLineMinColumn(s),l,d.getLineMaxColumn(l)))}function wO(d,t){return{enableSplitViewResizing:bt(d.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:bt(d.renderSideBySide,t.renderSideBySide),maxComputationTime:pS(d.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:pS(d.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:bt(d.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:bt(d.renderIndicators,t.renderIndicators),originalEditable:bt(d.originalEditable,t.originalEditable),diffCodeLens:bt(d.diffCodeLens,t.diffCodeLens),renderOverviewRuler:bt(d.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:Dme(d.diffWordWrap,t.diffWordWrap)}}function Ime(d,t){return{enableSplitViewResizing:d.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:d.renderSideBySide!==t.renderSideBySide,maxComputationTime:d.maxComputationTime!==t.maxComputationTime,maxFileSize:d.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:d.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:d.renderIndicators!==t.renderIndicators,originalEditable:d.originalEditable!==t.originalEditable,diffCodeLens:d.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:d.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:d.diffWordWrap!==t.diffWordWrap}}rn((d,t)=>{const s=d.getColor(eH);s&&t.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${s}; }`);const l=d.getColor(kue)||s;l&&t.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${l}; }`);const u=d.getColor(Sue)||l;u&&(t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${u}; }`),t.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${u}; }`));const h=d.getColor(tH);h&&t.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${h}; }`);const f=d.getColor(bue)||h;f&&t.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${f}; }`);const m=d.getColor(yue)||f;m&&(t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${m}; }`),t.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${m}; }`));const A=d.getColor(Iue);A&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${d.type==="hc"?"dashed":"solid"} ${A}; }`);const C=d.getColor(xue);C&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${d.type==="hc"?"dashed":"solid"} ${C}; }`);const w=d.getColor(km);w&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${w}; }`);const k=d.getColor(Eue);k&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${k}; }`);const D=d.getColor(gg);D&&t.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${D};
			}
		`);const I=d.getColor(mg);I&&t.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${I};
			}
		`);const N=d.getColor(pg);N&&t.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${N};
			}
		`);const R=d.getColor(Nue);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${R} 12.5%,
			#0000 12.5%, #0000 50%,
			${R} 50%, ${R} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var xme=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Eme=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let i7=class extends Se{constructor(t){super(),this._themeService=t,this._onCodeEditorAdd=this._register(new he),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new he),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new he),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new he),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const s=this.listCodeEditors();for(const l of s){if(l.hasTextFocus())return l;l.hasWidgetFocus()&&(t=l)}return t}removeDecorationType(t){const s=this._decorationOptionProviders.get(t);s&&(s.refCount--,s.refCount<=0&&(this._decorationOptionProviders.delete(t),s.dispose(),this.listCodeEditors().forEach(l=>l.removeDecorations(t))))}setModelProperty(t,s,l){const u=t.toString();let h;this._modelProperties.has(u)?h=this._modelProperties.get(u):(h=new Map,this._modelProperties.set(u,h)),h.set(s,l)}getModelProperty(t,s){const l=t.toString();if(this._modelProperties.has(l))return this._modelProperties.get(l).get(s)}};i7=xme([Eme(0,dn)],i7);var Nme=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},vO=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let EC=class extends i7{constructor(t,s){super(s),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let t=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(t,s,l){return s?Promise.resolve(this.doOpenEditor(s,t)):Promise.resolve(null)}doOpenEditor(t,s){if(!this.findModel(t,s.resource)){if(s.resource){const h=s.resource.scheme;if(h===zt.http||h===zt.https)return DV(s.resource.toString()),t}return null}const u=s.options?s.options.selection:null;if(u)if(typeof u.endLineNumber=="number"&&typeof u.endColumn=="number")t.setSelection(u),t.revealRangeInCenter(u,1);else{const h={lineNumber:u.startLineNumber,column:u.startColumn};t.setPosition(h),t.revealPositionInCenter(h,1)}return t}findModel(t,s){const l=t.getModel();return l&&l.uri.toString()!==s.toString()?null:l}};EC=Nme([vO(0,Mt),vO(1,dn)],EC);Ci(Mi,EC);const w_=hi("layoutService");var uU=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},hU=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let NC=class{constructor(t){this._codeEditorService=t,this.onDidLayout=ft.None}get dimension(){return this._dimension||(this._dimension=Mw(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}};NC=uU([hU(0,Mi)],NC);let n7=class extends NC{constructor(t,s){super(s),this._container=t}get hasContainer(){return!1}get container(){return this._container}};n7=uU([hU(1,Mi)],n7);Ci(w_,NC);const v_=hi("dialogService");var Tme=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},kO=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},n6=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function s6(d){return d.scheme===zt.file?d.fsPath:d.path}let dU=0;class r6{constructor(t,s,l,u,h,f,m){this.id=++dU,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=s,this.strResource=l,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=u,this.groupOrder=h,this.sourceId=f,this.sourceOrder=m,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class bO{constructor(t,s){this.resourceLabel=t,this.reason=s}}class SO{constructor(){this.elements=new Map}createMessage(){const t=[],s=[];for(const[,u]of this.elements)(u.reason===0?t:s).push(u.resourceLabel);let l=[];return t.length>0&&l.push(E({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),s.length>0&&l.push(E({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",s.join(", "))),l.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,s){this.elements.set(t,s)}delete(t){return this.elements.delete(t)}}class Rme{constructor(t,s,l,u,h,f,m){this.id=++dU,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=s,this.strResources=l,this.groupId=u,this.groupOrder=h,this.sourceId=f,this.sourceOrder=m,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,s,l){this.removedResources||(this.removedResources=new SO),this.removedResources.has(s)||this.removedResources.set(s,new bO(t,l))}setValid(t,s,l){l?this.invalidatedResources&&(this.invalidatedResources.delete(s),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new SO),this.invalidatedResources.has(s)||this.invalidatedResources.set(s,new bO(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class fU{constructor(t,s){this.resourceLabel=t,this.strResource=s,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let t=[];t.push(`* ${this.strResource}:`);for(let s=0;s<this._past.length;s++)t.push(`   * [UNDO] ${this._past[s]}`);for(let s=this._future.length-1;s>=0;s--)t.push(`   * [REDO] ${this._future[s]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,s){t.type===1?t.setValid(this.resourceLabel,this.strResource,s):t.setValid(s)}setElementsValidFlag(t,s){for(const l of this._past)s(l.actual)&&this._setElementValidFlag(l,t);for(const l of this._future)s(l.actual)&&this._setElementValidFlag(l,t)}pushElement(t){for(const s of this._future)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const s=[];for(let l=0,u=this._past.length;l<u;l++)s.push(this._past[l].id);for(let l=this._future.length-1;l>=0;l--)s.push(this._future[l].id);return new XH(t,s)}restoreSnapshot(t){const s=t.elements.length;let l=!0,u=0,h=-1;for(let m=0,A=this._past.length;m<A;m++,u++){const C=this._past[m];l&&(u>=s||C.id!==t.elements[u])&&(l=!1,h=0),!l&&C.type===1&&C.removeResource(this.resourceLabel,this.strResource,0)}let f=-1;for(let m=this._future.length-1;m>=0;m--,u++){const A=this._future[m];l&&(u>=s||A.id!==t.elements[u])&&(l=!1,f=m),!l&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}h!==-1&&(this._past=this._past.slice(0,h)),f!==-1&&(this._future=this._future.slice(f+1)),this.versionId++}getElements(){const t=[],s=[];for(const l of this._past)t.push(l.actual);for(const l of this._future)s.push(l.actual);return{past:t,future:s}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,s){for(let l=this._past.length-1;l>=0;l--)if(this._past[l]===t){s.has(this.strResource)?this._past[l]=s.get(this.strResource):this._past.splice(l,1);break}this.versionId++}splitFutureWorkspaceElement(t,s){for(let l=this._future.length-1;l>=0;l--)if(this._future[l]===t){s.has(this.strResource)?this._future[l]=s.get(this.strResource):this._future.splice(l,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class t9{constructor(t){this.editStacks=t,this._versionIds=[];for(let s=0,l=this.editStacks.length;s<l;s++)this._versionIds[s]=this.editStacks[s].versionId}isValid(){for(let t=0,s=this.editStacks.length;t<s;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const gU=new fU("","");gU.locked=!0;let s7=class{constructor(t,s){this._dialogService=t,this._notificationService=s,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const s of this._uriComparisonKeyComputers)if(s[0]===t.scheme)return s[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);let s=[];for(const l of this._editStacks)s.push(l[1].toString());console.log(s.join(`
`))}pushElement(t,s=Qg.None,l=i0.None){if(t.type===0){const u=s6(t.resource),h=this.getUriComparisonKey(t.resource);this._pushElement(new r6(t,u,h,s.id,s.nextOrder(),l.id,l.nextOrder()))}else{const u=new Set,h=[],f=[];for(const m of t.resources){const A=s6(m),C=this.getUriComparisonKey(m);u.has(C)||(u.add(C),h.push(A),f.push(C))}h.length===1?this._pushElement(new r6(t,h[0],f[0],s.id,s.nextOrder(),l.id,l.nextOrder())):this._pushElement(new Rme(t,h,f,s.id,s.nextOrder(),l.id,l.nextOrder()))}}_pushElement(t){for(let s=0,l=t.strResources.length;s<l;s++){const u=t.resourceLabels[s],h=t.strResources[s];let f;this._editStacks.has(h)?f=this._editStacks.get(h):(f=new fU(u,h),this._editStacks.set(h,f)),f.pushElement(t)}}getLastElement(t){const s=this.getUriComparisonKey(t);if(this._editStacks.has(s)){const l=this._editStacks.get(s);if(l.hasFutureElements())return null;const u=l.getClosestPastElement();return u?u.actual:null}return null}_splitPastWorkspaceElement(t,s){const l=t.actual.split(),u=new Map;for(const h of l){const f=s6(h.resource),m=this.getUriComparisonKey(h.resource),A=new r6(h,f,m,0,0,0,0);u.set(A.strResource,A)}for(const h of t.strResources){if(s&&s.has(h))continue;this._editStacks.get(h).splitPastWorkspaceElement(t,u)}}_splitFutureWorkspaceElement(t,s){const l=t.actual.split(),u=new Map;for(const h of l){const f=s6(h.resource),m=this.getUriComparisonKey(h.resource),A=new r6(h,f,m,0,0,0,0);u.set(A.strResource,A)}for(const h of t.strResources){if(s&&s.has(h))continue;this._editStacks.get(h).splitFutureWorkspaceElement(t,u)}}removeElements(t){const s=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(s)&&(this._editStacks.get(s).dispose(),this._editStacks.delete(s))}setElementsValidFlag(t,s,l){const u=this.getUriComparisonKey(t);this._editStacks.has(u)&&this._editStacks.get(u).setElementsValidFlag(s,l)}createSnapshot(t){const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).createSnapshot(t):new XH(t,[])}restoreSnapshot(t){const s=this.getUriComparisonKey(t.resource);if(this._editStacks.has(s)){const l=this._editStacks.get(s);l.restoreSnapshot(t),!l.hasPastElements()&&!l.hasFutureElements()&&(l.dispose(),this._editStacks.delete(s))}}getElements(t){const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let s=null,l=null;for(const[u,h]of this._editStacks){const f=h.getClosestPastElement();!f||f.sourceId===t&&(!s||f.sourceOrder>s.sourceOrder)&&(s=f,l=u)}return[s,l]}canUndo(t){if(t instanceof i0){const[,l]=this._findClosestUndoElementWithSource(t.id);return!!l}const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).hasPastElements():!1}_onError(t,s){Bt(t);for(const l of s.strResources)this.removeElements(l);this._notificationService.error(t)}_acquireLocks(t){for(const s of t.editStacks)if(s.locked)throw new Error("Cannot acquire edit stack lock");for(const s of t.editStacks)s.locked=!0;return()=>{for(const s of t.editStacks)s.locked=!1}}_safeInvokeWithLocks(t,s,l,u,h){const f=this._acquireLocks(l);let m;try{m=s()}catch(A){return f(),u.dispose(),this._onError(A,t)}return m?m.then(()=>(f(),u.dispose(),h()),A=>(f(),u.dispose(),this._onError(A,t))):(f(),u.dispose(),h())}_invokeWorkspacePrepare(t){return n6(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo>"u")return Se.None;const s=t.actual.prepareUndoRedo();return typeof s>"u"?Se.None:s})}_invokeResourcePrepare(t,s){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo>"u")return s(Se.None);const l=t.actual.prepareUndoRedo();return l?VD(l)?s(l):l.then(u=>s(u)):s(Se.None)}_getAffectedEditStacks(t){const s=[];for(const l of t.strResources)s.push(this._editStacks.get(l)||gU);return new t9(s)}_tryToSplitAndUndo(t,s,l,u){if(s.canSplit())return this._splitPastWorkspaceElement(s,l),this._notificationService.warn(u),new o6(this._undo(t,0,!0));for(const h of s.strResources)this.removeElements(h);return this._notificationService.warn(u),new o6}_checkWorkspaceUndo(t,s,l,u){if(s.removedResources)return this._tryToSplitAndUndo(t,s,s.removedResources,E({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(u&&s.invalidatedResources)return this._tryToSplitAndUndo(t,s,s.invalidatedResources,E({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const h=[];for(const m of l.editStacks)m.getClosestPastElement()!==s&&h.push(m.resourceLabel);if(h.length>0)return this._tryToSplitAndUndo(t,s,null,E({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",s.label,h.join(", ")));const f=[];for(const m of l.editStacks)m.locked&&f.push(m.resourceLabel);return f.length>0?this._tryToSplitAndUndo(t,s,null,E({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,f.join(", "))):l.isValid()?null:this._tryToSplitAndUndo(t,s,null,E({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceUndo(t,s,l){const u=this._getAffectedEditStacks(s),h=this._checkWorkspaceUndo(t,s,u,!1);return h?h.returnValue:this._confirmAndExecuteWorkspaceUndo(t,s,u,l)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,s]of this._editStacks){const l=s.getClosestPastElement();if(!!l){if(l===t){const u=s.getSecondClosestPastElement();if(u&&u.groupId===t.groupId)return!0}if(l.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,s,l,u){return n6(this,void 0,void 0,function*(){if(s.canSplit()&&!this._isPartOfUndoGroup(s)){const m=yield this._dialogService.show(kn.Info,E("confirmWorkspace","Would you like to undo '{0}' across all files?",s.label),[E({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",l.editStacks.length),E("nok","Undo this File"),E("cancel","Cancel")],{cancelId:2});if(m.choice===2)return;if(m.choice===1)return this._splitPastWorkspaceElement(s,null),this._undo(t,0,!0);const A=this._checkWorkspaceUndo(t,s,l,!1);if(A)return A.returnValue;u=!0}let h;try{h=yield this._invokeWorkspacePrepare(s)}catch(m){return this._onError(m,s)}const f=this._checkWorkspaceUndo(t,s,l,!0);if(f)return h.dispose(),f.returnValue;for(const m of l.editStacks)m.moveBackward(s);return this._safeInvokeWithLocks(s,()=>s.actual.undo(),l,h,()=>this._continueUndoInGroup(s.groupId,u))})}_resourceUndo(t,s,l){if(!s.isValid){t.flushAllElements();return}if(t.locked){const u=E({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(u);return}return this._invokeResourcePrepare(s,u=>(t.moveBackward(s),this._safeInvokeWithLocks(s,()=>s.actual.undo(),new t9([t]),u,()=>this._continueUndoInGroup(s.groupId,l))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let s=null,l=null;for(const[u,h]of this._editStacks){const f=h.getClosestPastElement();!f||f.groupId===t&&(!s||f.groupOrder>s.groupOrder)&&(s=f,l=u)}return[s,l]}_continueUndoInGroup(t,s){if(!t)return;const[,l]=this._findClosestUndoElementInGroup(t);if(l)return this._undo(l,0,s)}undo(t){if(t instanceof i0){const[,s]=this._findClosestUndoElementWithSource(t.id);return s?this._undo(s,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,s=0,l){if(!this._editStacks.has(t))return;const u=this._editStacks.get(t),h=u.getClosestPastElement();if(!h)return;if(h.groupId){const[m,A]=this._findClosestUndoElementInGroup(h.groupId);if(h!==m&&A)return this._undo(A,s,l)}if((h.sourceId!==s||h.confirmBeforeUndo)&&!l)return this._confirmAndContinueUndo(t,s,h);try{return h.type===1?this._workspaceUndo(t,h,l):this._resourceUndo(u,h,l)}finally{}}_confirmAndContinueUndo(t,s,l){return n6(this,void 0,void 0,function*(){if((yield this._dialogService.show(kn.Info,E("confirmDifferentSource","Would you like to undo '{0}'?",l.label),[E("confirmDifferentSource.yes","Yes"),E("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(t,s,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let s=null,l=null;for(const[u,h]of this._editStacks){const f=h.getClosestFutureElement();!f||f.sourceId===t&&(!s||f.sourceOrder<s.sourceOrder)&&(s=f,l=u)}return[s,l]}canRedo(t){if(t instanceof i0){const[,l]=this._findClosestRedoElementWithSource(t.id);return!!l}const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).hasFutureElements():!1}_tryToSplitAndRedo(t,s,l,u){if(s.canSplit())return this._splitFutureWorkspaceElement(s,l),this._notificationService.warn(u),new o6(this._redo(t));for(const h of s.strResources)this.removeElements(h);return this._notificationService.warn(u),new o6}_checkWorkspaceRedo(t,s,l,u){if(s.removedResources)return this._tryToSplitAndRedo(t,s,s.removedResources,E({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(u&&s.invalidatedResources)return this._tryToSplitAndRedo(t,s,s.invalidatedResources,E({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const h=[];for(const m of l.editStacks)m.getClosestFutureElement()!==s&&h.push(m.resourceLabel);if(h.length>0)return this._tryToSplitAndRedo(t,s,null,E({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",s.label,h.join(", ")));const f=[];for(const m of l.editStacks)m.locked&&f.push(m.resourceLabel);return f.length>0?this._tryToSplitAndRedo(t,s,null,E({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,f.join(", "))):l.isValid()?null:this._tryToSplitAndRedo(t,s,null,E({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceRedo(t,s){const l=this._getAffectedEditStacks(s),u=this._checkWorkspaceRedo(t,s,l,!1);return u?u.returnValue:this._executeWorkspaceRedo(t,s,l)}_executeWorkspaceRedo(t,s,l){return n6(this,void 0,void 0,function*(){let u;try{u=yield this._invokeWorkspacePrepare(s)}catch(f){return this._onError(f,s)}const h=this._checkWorkspaceRedo(t,s,l,!0);if(h)return u.dispose(),h.returnValue;for(const f of l.editStacks)f.moveForward(s);return this._safeInvokeWithLocks(s,()=>s.actual.redo(),l,u,()=>this._continueRedoInGroup(s.groupId))})}_resourceRedo(t,s){if(!s.isValid){t.flushAllElements();return}if(t.locked){const l=E({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(l);return}return this._invokeResourcePrepare(s,l=>(t.moveForward(s),this._safeInvokeWithLocks(s,()=>s.actual.redo(),new t9([t]),l,()=>this._continueRedoInGroup(s.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let s=null,l=null;for(const[u,h]of this._editStacks){const f=h.getClosestFutureElement();!f||f.groupId===t&&(!s||f.groupOrder<s.groupOrder)&&(s=f,l=u)}return[s,l]}_continueRedoInGroup(t){if(!t)return;const[,s]=this._findClosestRedoElementInGroup(t);if(s)return this._redo(s)}redo(t){if(t instanceof i0){const[,s]=this._findClosestRedoElementWithSource(t.id);return s?this._redo(s):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const s=this._editStacks.get(t),l=s.getClosestFutureElement();if(!!l){if(l.groupId){const[u,h]=this._findClosestRedoElementInGroup(l.groupId);if(l!==u&&h)return this._redo(h)}try{return l.type===1?this._workspaceRedo(t,l):this._resourceRedo(s,l)}finally{}}}};s7=Tme([kO(0,v_),kO(1,is)],s7);class o6{constructor(t){this.returnValue=t}}Ci(rv,s7);var yO,LO;class Mme{constructor(){this._value="",this._pos=0}reset(t){return this._value=t,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(t){const s=t.charCodeAt(0),l=this._value.charCodeAt(this._pos);return s-l}value(){return this._value[this._pos]}}class Pme{constructor(t=!0){this._caseSensitive=t}reset(t){return this._value=t,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(t)this._from++;else break;else t=!1;return this}cmp(t){return this._caseSensitive?$D(t,this._value,0,t.length,this._from,this._to):a_(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ome{constructor(t=!0,s=!0){this._splitOnBackslash=t,this._caseSensitive=s}reset(t){this._from=0,this._to=0,this._value=t,this._valueLen=t.length;for(let s=t.length-1;s>=0;s--,this._valueLen--){const l=this._value.charCodeAt(s);if(!(l===47||this._splitOnBackslash&&l===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let t=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(t)this._from++;else break;else t=!1}return this}cmp(t){return this._caseSensitive?$D(t,this._value,0,t.length,this._from,this._to):a_(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Fme{constructor(t){this._ignorePathCasing=t,this._states=[],this._stateIdx=0}reset(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Ome(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(t){if(this._states[this._stateIdx]===1)return ay(t,this._value.scheme);if(this._states[this._stateIdx]===2)return ay(t,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(t);if(this._states[this._stateIdx]===4)return jA(t,this._value.query);if(this._states[this._stateIdx]===5)return jA(t,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class l6{constructor(){this.height=1}rotateLeft(){const t=this.right;return this.right=t.left,t.left=this,this.updateHeight(),t.updateHeight(),t}rotateRight(){const t=this.left;return this.left=t.right,t.right=this,this.updateHeight(),t.updateHeight(),t}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var t,s;return(s=(t=this.left)===null||t===void 0?void 0:t.height)!==null&&s!==void 0?s:0}get heightRight(){var t,s;return(s=(t=this.right)===null||t===void 0?void 0:t.height)!==null&&s!==void 0?s:0}}class Sg{constructor(t){this._iter=t}static forUris(t=()=>!1){return new Sg(new Fme(t))}static forStrings(){return new Sg(new Mme)}static forConfigKeys(){return new Sg(new Pme)}clear(){this._root=void 0}set(t,s){const l=this._iter.reset(t);let u;this._root||(this._root=new l6,this._root.segment=l.value());const h=[];for(u=this._root;;){const m=l.cmp(u.segment);if(m>0)u.left||(u.left=new l6,u.left.segment=l.value()),h.push([-1,u]),u=u.left;else if(m<0)u.right||(u.right=new l6,u.right.segment=l.value()),h.push([1,u]),u=u.right;else if(l.hasNext())l.next(),u.mid||(u.mid=new l6,u.mid.segment=l.value()),h.push([0,u]),u=u.mid;else break}const f=u.value;u.value=s,u.key=t;for(let m=h.length-1;m>=0;m--){const A=h[m][1];A.updateHeight();const C=A.balanceFactor();if(C<-1||C>1){const w=h[m][0],k=h[m+1][0];if(w===1&&k===1)h[m][1]=A.rotateLeft();else if(w===-1&&k===-1)h[m][1]=A.rotateRight();else if(w===1&&k===-1)A.right=h[m+1][1]=h[m+1][1].rotateRight(),h[m][1]=A.rotateLeft();else if(w===-1&&k===1)A.left=h[m+1][1]=h[m+1][1].rotateLeft(),h[m][1]=A.rotateRight();else throw new Error;if(m>0)switch(h[m-1][0]){case-1:h[m-1][1].left=h[m][1];break;case 1:h[m-1][1].right=h[m][1];break;case 0:h[m-1][1].mid=h[m][1];break}else this._root=h[0][1]}}return f}get(t){var s;return(s=this._getNode(t))===null||s===void 0?void 0:s.value}_getNode(t){const s=this._iter.reset(t);let l=this._root;for(;l;){const u=s.cmp(l.segment);if(u>0)l=l.left;else if(u<0)l=l.right;else if(s.hasNext())s.next(),l=l.mid;else break}return l}has(t){const s=this._getNode(t);return!(s?.value===void 0&&s?.mid===void 0)}delete(t){return this._delete(t,!1)}deleteSuperstr(t){return this._delete(t,!0)}_delete(t,s){var l;const u=this._iter.reset(t),h=[];let f=this._root;for(;f;){const m=u.cmp(f.segment);if(m>0)h.push([-1,f]),f=f.left;else if(m<0)h.push([1,f]),f=f.right;else if(u.hasNext())u.next(),h.push([0,f]),f=f.mid;else break}if(!!f){if(s?(f.left=void 0,f.mid=void 0,f.right=void 0,f.height=1):(f.key=void 0,f.value=void 0),!f.mid&&!f.value)if(f.left&&f.right){const m=this._min(f.right),{key:A,value:C,segment:w}=m;this._delete(m.key,!1),f.key=A,f.value=C,f.segment=w}else{const m=(l=f.left)!==null&&l!==void 0?l:f.right;if(h.length>0){const[A,C]=h[h.length-1];switch(A){case-1:C.left=m;break;case 0:C.mid=m;break;case 1:C.right=m;break}}else this._root=m}for(let m=h.length-1;m>=0;m--){const A=h[m][1];A.updateHeight();const C=A.balanceFactor();if(C>1?(A.right.balanceFactor()>=0||(A.right=A.right.rotateRight()),h[m][1]=A.rotateLeft()):C<-1&&(A.left.balanceFactor()<=0||(A.left=A.left.rotateLeft()),h[m][1]=A.rotateRight()),m>0)switch(h[m-1][0]){case-1:h[m-1][1].left=h[m][1];break;case 1:h[m-1][1].right=h[m][1];break;case 0:h[m-1][1].mid=h[m][1];break}else this._root=h[0][1]}}}_min(t){for(;t.left;)t=t.left;return t}findSubstr(t){const s=this._iter.reset(t);let l=this._root,u;for(;l;){const h=s.cmp(l.segment);if(h>0)l=l.left;else if(h<0)l=l.right;else if(s.hasNext())s.next(),u=l.value||u,l=l.mid;else break}return l&&l.value||u}findSuperstr(t){const s=this._iter.reset(t);let l=this._root;for(;l;){const u=s.cmp(l.segment);if(u>0)l=l.left;else if(u<0)l=l.right;else if(s.hasNext())s.next(),l=l.mid;else return l.mid?this._entries(l.mid):void 0}}forEach(t){for(const[s,l]of this)t(l,s)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(t){!t||(t.left&&(yield*this._entries(t.left)),t.value&&(yield[t.key,t.value]),t.mid&&(yield*this._entries(t.mid)),t.right&&(yield*this._entries(t.right)))}}class Bme{constructor(t,s){this.uri=t,this.value=s}}class jr{constructor(t,s){this[yO]="ResourceMap",t instanceof jr?(this.map=new Map(t.map),this.toKey=s??jr.defaultToKey):(this.map=new Map,this.toKey=t??jr.defaultToKey)}set(t,s){return this.map.set(this.toKey(t),new Bme(t,s)),this}get(t){var s;return(s=this.map.get(this.toKey(t)))===null||s===void 0?void 0:s.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,s){typeof s<"u"&&(t=t.bind(s));for(let[l,u]of this.map)t(u.value,u.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(yO=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}}jr.defaultToKey=d=>d.toString();class Wme{constructor(){this[LO]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,s=0){const l=this._map.get(t);if(!!l)return s!==0&&this.touch(l,s),l.value}set(t,s,l=0){let u=this._map.get(t);if(u)u.value=s,l!==0&&this.touch(u,l);else{switch(u={key:t,value:s,next:void 0,previous:void 0},l){case 0:this.addItemLast(u);break;case 1:this.addItemFirst(u);break;case 2:this.addItemLast(u);break;default:this.addItemLast(u);break}this._map.set(t,u),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const s=this._map.get(t);if(!!s)return this._map.delete(t),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,s){const l=this._state;let u=this._head;for(;u;){if(s?t.bind(s)(u.value,u.key,this):t(u.value,u.key,this),this._state!==l)throw new Error("LinkedMap got modified during iteration.");u=u.next}}keys(){const t=this,s=this._state;let l=this._head;const u={[Symbol.iterator](){return u},next(){if(t._state!==s)throw new Error("LinkedMap got modified during iteration.");if(l){const h={value:l.key,done:!1};return l=l.next,h}else return{value:void 0,done:!0}}};return u}values(){const t=this,s=this._state;let l=this._head;const u={[Symbol.iterator](){return u},next(){if(t._state!==s)throw new Error("LinkedMap got modified during iteration.");if(l){const h={value:l.value,done:!1};return l=l.next,h}else return{value:void 0,done:!0}}};return u}entries(){const t=this,s=this._state;let l=this._head;const u={[Symbol.iterator](){return u},next(){if(t._state!==s)throw new Error("LinkedMap got modified during iteration.");if(l){const h={value:[l.key,l.value],done:!1};return l=l.next,h}else return{value:void 0,done:!0}}};return u}[(LO=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let s=this._head,l=this.size;for(;s&&l>t;)this._map.delete(s.key),s=s.next,l--;this._head=s,this._size=l,s&&(s.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const s=t.next,l=t.previous;if(!s||!l)throw new Error("Invalid list");s.previous=l,l.next=s}t.next=void 0,t.previous=void 0,this._state++}touch(t,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==1&&s!==2)){if(s===1){if(t===this._head)return;const l=t.next,u=t.previous;t===this._tail?(u.next=void 0,this._tail=u):(l.previous=u,u.next=l),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(s===2){if(t===this._tail)return;const l=t.next,u=t.previous;t===this._head?(l.previous=void 0,this._head=l):(l.previous=u,u.next=l),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((s,l)=>{t.push([l,s])}),t}fromJSON(t){this.clear();for(const[s,l]of t)this.set(s,l)}}class dh extends Wme{constructor(t,s=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get(t,s=2){return super.get(t,s)}peek(t){return super.get(t,0)}set(t,s){return super.set(t,s,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}function Io(d,t,s){return Math.min(Math.max(d,t),s)}class mU{constructor(){this._n=1,this._val=0}update(t){return this._val=this._val+(t-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Vme{constructor(t){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(t),this._values.fill(0,0,t)}update(t){const s=this._values[this._index];return this._values[this._index]=t,this._index=(this._index+1)%this._values.length,this._sum-=s,this._sum+=t,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}var Hme=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Ume=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const jl=hi("ILanguageFeatureDebounceService");var TC;(function(d){const t=new WeakMap;let s=0;function l(u){let h=t.get(u);return h===void 0&&(h=++s,t.set(u,h)),h}d.of=l})(TC||(TC={}));class zme{constructor(t,s,l,u,h,f){this._logService=t,this._name=s,this._registry=l,this._default=u,this._min=h,this._max=f,this._cache=new dh(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((s,l)=>xw(TC.of(l),s),0)}get(t){const s=this._key(t),l=this._cache.get(s);return l?Io(l.value,this._min,this._max):this.default()}update(t,s){const l=this._key(t);let u=this._cache.get(l);u||(u=new Vme(6),this._cache.set(l,u));const h=Io(u.update(s),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${h}ms`),h}_overall(){const t=new mU;for(const[,s]of this._cache)t.update(s.value);return t.value}default(){const t=this._overall()|0||this._default;return Io(t,this._min,this._max)}}let r7=class{constructor(t){this._logService=t,this._data=new Map}for(t,s,l){var u,h,f;const m=(u=l?.min)!==null&&u!==void 0?u:50,A=(h=l?.max)!==null&&h!==void 0?h:Math.pow(m,2),C=(f=l?.key)!==null&&f!==void 0?f:void 0,w=`${TC.of(t)},${m}${C?","+C:""}`;let k=this._data.get(w);return k||(k=new zme(this._logService,s,t,this._overallAverage()|0||m*1.5,m,A),this._data.set(w,k)),k}_overallAverage(){let t=new mU;for(let s of this._data.values())t.update(s.default());return t.value}};r7=Hme([Ume(0,ka)],r7);Ci(jl,r7,!0);const dx=hi("IWorkspaceEditService");function Gme(d){return ho(d)&&(Boolean(d.newUri)||Boolean(d.oldUri))}function jme(d){return ho(d)&&Lt.isUri(d.resource)&&ho(d.edit)}class lv{constructor(t){this.metadata=t}static convert(t){return t.edits.map(s=>{if(jme(s))return new pU(s.resource,s.edit,s.modelVersionId,s.metadata);if(Gme(s))return new Zme(s.oldUri,s.newUri,s.options,s.metadata);throw new Error("Unsupported edit")})}}class pU extends lv{constructor(t,s,l,u){super(u),this.resource=t,this.textEdit=s,this.versionId=l}}class Zme extends lv{constructor(t,s,l,u){super(u),this.oldResource=t,this.newResource=s,this.options=l}}const Qme=Object.freeze({id:"editor",order:5,type:"object",title:E("editorConfigurationTitle","Editor"),scope:5}),RC=Object.assign(Object.assign({},Qme),{properties:{"editor.tabSize":{type:"number",default:Mr.tabSize,minimum:1,markdownDescription:E("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Mr.insertSpaces,markdownDescription:E("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Mr.detectIndentation,markdownDescription:E("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Mr.trimAutoWhitespace,description:E("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Mr.largeFileOptimizations,description:E("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:E("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[E("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),E("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),E("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:E("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[E("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),E("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),E("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:E("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:E("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:E("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:E("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:E("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:E("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:E("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:E("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:E("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:E("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:E("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:E("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:E("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:E("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:E("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[E("wordWrap.off","Lines will never wrap."),E("wordWrap.on","Lines will wrap at the viewport width."),E("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function Yme(d){return typeof d.type<"u"||typeof d.anyOf<"u"}for(const d of j1){const t=d.schema;if(typeof t<"u")if(Yme(t))RC.properties[`editor.${d.name}`]=t;else for(const s in t)Object.hasOwnProperty.call(t,s)&&(RC.properties[s]=t[s])}let a6=null;function AU(){return a6===null&&(a6=Object.create(null),Object.keys(RC.properties).forEach(d=>{a6[d]=!0})),a6}function $me(d){return AU()[`editor.${d}`]||!1}function Kme(d){return AU()[`diffEditor.${d}`]||!1}const Xme=ts.as(Ef.Configuration);Xme.registerConfiguration(RC);class Vn{static insert(t,s){return{range:new $(t.lineNumber,t.column,t.lineNumber,t.column),text:s,forceMoveMarkers:!0}}static delete(t){return{range:t,text:null}}static replace(t,s){return{range:t,text:s}}static replaceMove(t,s){return{range:t,text:s,forceMoveMarkers:!0}}}class Sl{constructor(t={},s=[],l=[]){this._contents=t,this._keys=s,this._overrides=l,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?SM(this.contents,t):this.contents}getOverrideValue(t,s){const l=this.getContentsForOverrideIdentifer(s);return l?t?SM(l,t):l:void 0}override(t){let s=this.overrideConfigurations.get(t);return s||(s=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,s)),s}merge(...t){const s=oc(this.contents),l=oc(this.overrides),u=[...this.keys];for(const h of t){this.mergeContents(s,h.contents);for(const f of h.overrides){const[m]=l.filter(A=>cl(A.identifiers,f.identifiers));m?(this.mergeContents(m.contents,f.contents),m.keys.push(...f.keys),m.keys=Hu(m.keys)):l.push(oc(f))}for(const f of h.keys)u.indexOf(f)===-1&&u.push(f)}return new Sl(s,u,l)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(t){const s=this.getContentsForOverrideIdentifer(t);if(!s||typeof s!="object"||!Object.keys(s).length)return this;let l={};for(const u of Hu([...Object.keys(this.contents),...Object.keys(s)])){let h=this.contents[u],f=s[u];f&&(typeof h=="object"&&typeof f=="object"?(h=oc(h),this.mergeContents(h,f)):h=f),l[u]=h}return new Sl(l,this.keys,this.overrides)}mergeContents(t,s){for(const l of Object.keys(s)){if(l in t&&ho(t[l])&&ho(s[l])){this.mergeContents(t[l],s[l]);continue}t[l]=oc(s[l])}}checkAndFreeze(t){return this.isFrozen&&!Object.isFrozen(t)?nle(t):t}getContentsForOverrideIdentifer(t){let s=null,l=null;const u=h=>{h&&(l?this.mergeContents(l,h):l=oc(h))};for(const h of this.overrides)cl(h.identifiers,[t])?s=h.contents:h.identifiers.includes(t)&&u(h.contents);return u(s),l}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,s){this.addKey(t),lI(this.contents,t,s,l=>{throw new Error(l)})}removeValue(t){this.removeKey(t)&&g2e(this.contents,t)}addKey(t){let s=this.keys.length;for(let l=0;l<s;l++)t.indexOf(this.keys[l])===0&&(s=l);this.keys.splice(s,1,t)}removeKey(t){let s=this.keys.indexOf(t);return s!==-1?(this.keys.splice(s,1),!0):!1}}class Jme extends Sl{constructor(t={}){const s=ts.as(Ef.Configuration).getConfigurationProperties(),l=Object.keys(s),u=Object.create(null),h=[];for(const f in s){const m=t[f],A=m!==void 0?m:s[f].default;lI(u,f,A,C=>console.error(`Conflict in default settings: ${C}`))}for(const f of Object.keys(u))h4.test(f)&&h.push({identifiers:TH(f),keys:Object.keys(u[f]),contents:$W(u[f],m=>console.error(`Conflict in default settings file: ${m}`))});super(u,l,h)}}class av{constructor(t,s,l=new Sl,u=new Sl,h=new jr,f=new Sl,m=new jr,A=!0){this._defaultConfiguration=t,this._localUserConfiguration=s,this._remoteUserConfiguration=l,this._workspaceConfiguration=u,this._folderConfigurations=h,this._memoryConfiguration=f,this._memoryConfigurationByResource=m,this._freeze=A,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new jr,this._userConfiguration=null}getValue(t,s,l){return this.getConsolidateConfigurationModel(s,l).getValue(t)}updateValue(t,s,l={}){let u;l.resource?(u=this._memoryConfigurationByResource.get(l.resource),u||(u=new Sl,this._memoryConfigurationByResource.set(l.resource,u))):u=this._memoryConfiguration,s===void 0?u.removeValue(t):u.setValue(t,s),l.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,s,l){const u=this.getConsolidateConfigurationModel(s,l),h=this.getFolderConfigurationModelForResource(s.resource,l),f=s.resource?this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration:this._memoryConfiguration,m=s.overrideIdentifier?this._defaultConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this._defaultConfiguration.freeze().getValue(t),A=s.overrideIdentifier?this.userConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.userConfiguration.freeze().getValue(t),C=s.overrideIdentifier?this.localUserConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.localUserConfiguration.freeze().getValue(t),w=s.overrideIdentifier?this.remoteUserConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.remoteUserConfiguration.freeze().getValue(t),k=l?s.overrideIdentifier?this._workspaceConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this._workspaceConfiguration.freeze().getValue(t):void 0,D=h?s.overrideIdentifier?h.freeze().override(s.overrideIdentifier).getValue(t):h.freeze().getValue(t):void 0,I=s.overrideIdentifier?f.override(s.overrideIdentifier).getValue(t):f.getValue(t),N=u.getValue(t),R=Hu(PD(u.overrides.map(O=>O.identifiers))).filter(O=>u.getOverrideValue(t,O)!==void 0);return{defaultValue:m,userValue:A,userLocalValue:C,userRemoteValue:w,workspaceValue:k,workspaceFolderValue:D,memoryValue:I,value:N,default:m!==void 0?{value:this._defaultConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,user:A!==void 0?{value:this.userConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,userLocal:C!==void 0?{value:this.localUserConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,userRemote:w!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,workspace:k!==void 0?{value:this._workspaceConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,workspaceFolder:D!==void 0?{value:h?.freeze().getValue(t),override:s.overrideIdentifier?h?.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,memory:I!==void 0?{value:f.getValue(t),override:s.overrideIdentifier?f.getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,overrideIdentifiers:R.length?R:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(t,s){let l=this.getConsolidatedConfigurationModelForResource(t,s);return t.overrideIdentifier?l.override(t.overrideIdentifier):l}getConsolidatedConfigurationModelForResource({resource:t},s){let l=this.getWorkspaceConsolidatedConfiguration();if(s&&t){const u=s.getFolder(t);u&&(l=this.getFolderConsolidatedConfiguration(u.uri)||l);const h=this._memoryConfigurationByResource.get(t);h&&(l=l.merge(h))}return l}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let s=this._foldersConsolidatedConfigurations.get(t);if(!s){const l=this.getWorkspaceConsolidatedConfiguration(),u=this._folderConfigurations.get(t);u?(s=l.merge(u),this._freeze&&(s=s.freeze()),this._foldersConsolidatedConfigurations.set(t,s)):s=l}return s}getFolderConfigurationModelForResource(t,s){if(s&&t){const l=s.getFolder(t);if(l)return this._folderConfigurations.get(l.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,s)=>{const{contents:l,overrides:u,keys:h}=this._folderConfigurations.get(s);return t.push([s,{contents:l,overrides:u,keys:h}]),t},[])}}static parse(t){const s=this.parseConfigurationModel(t.defaults),l=this.parseConfigurationModel(t.user),u=this.parseConfigurationModel(t.workspace),h=t.folders.reduce((f,m)=>(f.set(Lt.revive(m[0]),this.parseConfigurationModel(m[1])),f),new jr);return new av(s,l,new Sl,u,h,new Sl,new jr,!1)}static parseConfigurationModel(t){return new Sl(t.contents,t.keys,t.overrides).freeze()}}class qme{constructor(t,s,l,u){this.change=t,this.previous=s,this.currentConfiguraiton=l,this.currentWorkspace=u,this._previousConfiguration=void 0;const h=new Set;t.keys.forEach(m=>h.add(m)),t.overrides.forEach(([,m])=>m.forEach(A=>h.add(A))),this.affectedKeys=[...h.values()];const f=new Sl;this.affectedKeys.forEach(m=>f.setValue(m,{})),this.affectedKeysTree=f.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=av.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,s){var l;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(s){const u=this.previousConfiguration?this.previousConfiguration.getValue(t,s,(l=this.previous)===null||l===void 0?void 0:l.workspace):void 0,h=this.currentConfiguraiton.getValue(t,s,this.currentWorkspace);return!Tl(u,h)}return!0}return!1}doesAffectedKeysTreeContains(t,s){let l=$W({[s]:!0},()=>{}),u;for(;typeof l=="object"&&(u=Object.keys(l)[0]);){if(t=t[u],!t)return!1;l=l[u]}return!0}}const epe=/^(cursor|delete)/;class tpe extends Se{constructor(t,s,l,u,h){super(),this._contextKeyService=t,this._commandService=s,this._telemetryService=l,this._notificationService=u,this._logService=h,this._onDidUpdateKeybindings=this._register(new he),this._currentChord=null,this._currentChordChecker=new u_,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=tg.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Wo,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:ft.None}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,s){const l=this._getResolver().lookupPrimaryKeybinding(t,s||this._contextKeyService);if(!!l)return l.resolvedKeybinding}dispatchEvent(t,s){return this._dispatch(t,s)}softDispatch(t,s){const l=this.resolveKeyboardEvent(t);if(l.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[u]=l.getDispatchParts();if(u===null)return null;const h=this._contextKeyService.getContext(s),f=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(h,f,u)}_enterChordMode(t,s){this._currentChord={keypress:t,label:s},this._currentChordStatusMessage=this._notificationService.status(E("first.chord","({0}) was pressed. Waiting for second key of chord...",s));const l=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-l>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(t,s){return this._doDispatch(this.resolveKeyboardEvent(t),s,!1)}_singleModifierDispatch(t,s){const l=this.resolveKeyboardEvent(t),[u]=l.getSingleModifierDispatchParts();if(u)return this._ignoreSingleModifiers.has(u)?(this._log(`+ Ignoring single modifier ${u} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=tg.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=tg.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${u}.`),this._currentSingleModifier=u,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):u===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${u} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(l,s,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[h]=l.getParts();return this._ignoreSingleModifiers=new tg(h),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,s,l=!1){let u=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let h=null,f=null;if(l){const[w]=t.getSingleModifierDispatchParts();h=w,f=w}else[h]=t.getDispatchParts(),f=this._currentChord?this._currentChord.keypress:null;if(h===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),u;const m=this._contextKeyService.getContext(s),A=t.getLabel(),C=this._getResolver().resolve(m,f,h);return this._logService.trace("KeybindingService#dispatch",A,C?.commandId),C&&C.enterChord?(u=!0,this._enterChordMode(h,A),u):(this._currentChord&&(!C||!C.commandId)&&(this._notificationService.status(E("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,A),{hideAfter:10*1e3}),u=!0),this._leaveChordMode(),C&&C.commandId&&(C.bubble||(u=!0),typeof C.commandArgs>"u"?this._commandService.executeCommand(C.commandId).then(void 0,w=>this._notificationService.warn(w)):this._commandService.executeCommand(C.commandId,C.commandArgs).then(void 0,w=>this._notificationService.warn(w)),epe.test(C.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:C.commandId,from:"keybinding"})),u)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class tg{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}tg.EMPTY=new tg(null);const Hn=hi("keybindingService");class DA{constructor(t,s,l){this._log=l,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(const u of t){const h=u.command;h&&h.charAt(0)!=="-"&&this._defaultBoundCommands.set(h,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=DA.handleRemovals([].concat(t).concat(s));for(let u=0,h=this._keybindings.length;u<h;u++){let f=this._keybindings[u];f.keypressParts.length!==0&&(f.when&&f.when.type===0||this._addKeyPress(f.keypressParts[0],f))}}static _isTargetedForRemoval(t,s,l,u){return!(s&&t.keypressParts[0]!==s||l&&t.keypressParts[1]!==l||u&&(!t.when||!pce(u,t.when)))}static handleRemovals(t){const s=new Map;for(let u=0,h=t.length;u<h;u++){const f=t[u];if(f.command&&f.command.charAt(0)==="-"){const m=f.command.substring(1);s.has(m)?s.get(m).push(f):s.set(m,[f])}}if(s.size===0)return t;const l=[];for(let u=0,h=t.length;u<h;u++){const f=t[u];if(!f.command||f.command.length===0){l.push(f);continue}if(f.command.charAt(0)==="-")continue;const m=s.get(f.command);if(!m||!f.isDefault){l.push(f);continue}let A=!1;for(const C of m){const w=C.keypressParts[0],k=C.keypressParts[1],D=C.when;if(this._isTargetedForRemoval(f,w,k,D)){A=!0;break}}if(!A){l.push(f);continue}}return l}_addKeyPress(t,s){const l=this._map.get(t);if(typeof l>"u"){this._map.set(t,[s]),this._addToLookupMap(s);return}for(let u=l.length-1;u>=0;u--){let h=l[u];if(h.command===s.command)continue;const f=h.keypressParts.length>1,m=s.keypressParts.length>1;f&&m&&h.keypressParts[1]!==s.keypressParts[1]||DA.whenIsEntirelyIncluded(h.when,s.when)&&this._removeFromLookupMap(h)}l.push(s),this._addToLookupMap(s)}_addToLookupMap(t){if(!t.command)return;let s=this._lookupMap.get(t.command);typeof s>"u"?(s=[t],this._lookupMap.set(t.command,s)):s.push(t)}_removeFromLookupMap(t){if(!t.command)return;let s=this._lookupMap.get(t.command);if(!(typeof s>"u")){for(let l=0,u=s.length;l<u;l++)if(s[l]===t){s.splice(l,1);return}}}static whenIsEntirelyIncluded(t,s){return!s||s.type===1?!0:!t||t.type===1?!1:EV(t,s)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,s){const l=this._lookupMap.get(t);if(typeof l>"u"||l.length===0)return null;if(l.length===1)return l[0];for(let u=l.length-1;u>=0;u--){const h=l[u];if(s.contextMatchesRules(h.when))return h}return l[l.length-1]}resolve(t,s,l){this._log(`| Resolving ${l}${s?` chorded from ${s}`:""}`);let u=null;if(s!==null){const f=this._map.get(s);if(typeof f>"u")return this._log("\\ No keybinding entries."),null;u=[];for(let m=0,A=f.length;m<A;m++){let C=f[m];C.keypressParts[1]===l&&u.push(C)}}else{const f=this._map.get(l);if(typeof f>"u")return this._log("\\ No keybinding entries."),null;u=f}let h=this._findCommand(t,u);return h?s===null&&h.keypressParts.length>1&&h.keypressParts[1]!==null?(this._log(`\\ From ${u.length} keybinding entries, matched chord, when: ${DO(h.when)}, source: ${IO(h)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${u.length} keybinding entries, matched ${h.command}, when: ${DO(h.when)}, source: ${IO(h)}.`),{enterChord:!1,leaveChord:h.keypressParts.length>1,commandId:h.command,commandArgs:h.commandArgs,bubble:h.bubble}):(this._log(`\\ From ${u.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,s){for(let l=s.length-1;l>=0;l--){let u=s[l];if(!!DA._contextMatchesRules(t,u.when))return u}return null}static _contextMatchesRules(t,s){return s?s.evaluate(t):!0}}function DO(d){return d?`${d.serialize()}`:"no when condition"}function IO(d){return d.extensionId?d.isBuiltinExtension?`built-in extension ${d.extensionId}`:`user extension ${d.extensionId}`:d.isDefault?"built-in":"user"}class xO{constructor(t,s,l,u,h,f,m){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.keypressParts=t?o7(t.getDispatchParts()):[],t&&this.keypressParts.length===0&&(this.keypressParts=o7(t.getSingleModifierDispatchParts())),this.bubble=s?s.charCodeAt(0)===94:!1,this.command=this.bubble?s.substr(1):s,this.commandArgs=l,this.when=u,this.isDefault=h,this.extensionId=f,this.isBuiltinExtension=m}}function o7(d){let t=[];for(let s=0,l=d.length;s<l;s++){const u=d[s];if(!u)return t;t.push(u)}return t}class cv{constructor(t,s,l=s){this.modifierLabels=[null],this.modifierLabels[2]=t,this.modifierLabels[1]=s,this.modifierLabels[3]=l}toLabel(t,s,l){if(s.length===0)return null;const u=[];for(let h=0,f=s.length;h<f;h++){const m=s[h],A=l(m);if(A===null)return null;u[h]=spe(m,A,this.modifierLabels[t])}return u.join(" ")}}const fx=new cv({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:E({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),ipe=new cv({ctrlKey:E({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:E({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:E({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),npe=new cv({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});new cv({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function spe(d,t,s){if(t===null)return"";const l=[];return d.ctrlKey&&l.push(s.ctrlKey),d.shiftKey&&l.push(s.shiftKey),d.altKey&&l.push(s.altKey),d.metaKey&&l.push(s.metaKey),t!==""&&l.push(t),l.join(s.separator)}class rpe extends U0e{constructor(t,s){if(super(),s.length===0)throw Ja("parts");this._os=t,this._parts=s}getLabel(){return fx.toLabel(this._os,this._parts,t=>this._getLabel(t))}getAriaLabel(){return ipe.toLabel(this._os,this._parts,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:npe.toLabel(this._os,this._parts,t=>this._getElectronAccelerator(t))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(t=>this._getPart(t))}_getPart(t){return new H0e(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchParts(){return this._parts.map(t=>this._getDispatchPart(t))}getSingleModifierDispatchParts(){return this._parts.map(t=>this._getSingleModifierDispatchPart(t))}}class C4 extends rpe{constructor(t,s){super(s,t.parts)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return fd.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":fd.toString(t.keyCode)}_getElectronAccelerator(t){return fd.toElectronAccelerator(t.keyCode)}_getDispatchPart(t){return C4.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let s="";return t.ctrlKey&&(s+="ctrl+"),t.shiftKey&&(s+="shift+"),t.altKey&&(s+="alt+"),t.metaKey&&(s+="meta+"),s+=fd.toString(t.keyCode),s}_getSingleModifierDispatchPart(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const s=GD[t];if(s!==-1)return s;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(t){if(!t)return null;if(t instanceof Hd)return t;const s=this._scanCodeToKeyCode(t.scanCode);return s===0?null:new Hd(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,s)}static resolveUserBinding(t,s){const l=o7(t.map(u=>this._resolveSimpleUserBinding(u)));return l.length>0?[new C4(new q3(l),s)]:[]}}const k_=hi("labelService"),_U=hi("contextService");function EO(d){const t=d;return typeof t?.id=="string"&&Lt.isUri(t.uri)}function ope(d){if(d.configuration)return{id:d.id,configPath:d.configuration};if(d.folders.length===1)return{id:d.id,uri:d.folders[0].uri}}class lpe{constructor(t,s){this.raw=s,this.uri=t.uri,this.index=t.index,this.name=t.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const l7="code-workspace";E("codeWorkspace","Code Workspace");var as;(function(d){d.noSelection=E("noSelection","No selection"),d.singleSelectionRange=E("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),d.singleSelection=E("singleSelection","Line {0}, Column {1}"),d.multiSelectionRange=E("multiSelectionRange","{0} selections ({1} characters selected)"),d.multiSelection=E("multiSelection","{0} selections"),d.emergencyConfOn=E("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),d.openingDocs=E("openingDocs","Now opening the Editor Accessibility documentation page."),d.readonlyDiffEditor=E("readonlyDiffEditor"," in a read-only pane of a diff editor."),d.editableDiffEditor=E("editableDiffEditor"," in a pane of a diff editor."),d.readonlyEditor=E("readonlyEditor"," in a read-only code editor"),d.editableEditor=E("editableEditor"," in a code editor"),d.changeConfigToOnMac=E("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),d.changeConfigToOnWinLinux=E("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),d.auto_on=E("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),d.auto_off=E("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),d.tabFocusModeOnMsg=E("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),d.tabFocusModeOnMsgNoKb=E("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),d.tabFocusModeOffMsg=E("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),d.tabFocusModeOffMsgNoKb=E("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),d.openDocMac=E("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),d.openDocWinLinux=E("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),d.outroMsg=E("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),d.showAccessibilityHelpAction=E("showAccessibilityHelpAction","Show Accessibility Help")})(as||(as={}));var a7;(function(d){d.inspectTokensAction=E("inspectTokens","Developer: Inspect Tokens")})(a7||(a7={}));var MC;(function(d){d.gotoLineActionLabel=E("gotoLineActionLabel","Go to Line/Column...")})(MC||(MC={}));var c7;(function(d){d.helpQuickAccessActionLabel=E("helpQuickAccess","Show all Quick Access Providers")})(c7||(c7={}));var PC;(function(d){d.quickCommandActionLabel=E("quickCommandActionLabel","Command Palette"),d.quickCommandHelp=E("quickCommandActionHelp","Show And Run Commands")})(PC||(PC={}));var w4;(function(d){d.quickOutlineActionLabel=E("quickOutlineActionLabel","Go to Symbol..."),d.quickOutlineByCategoryActionLabel=E("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(w4||(w4={}));var OC;(function(d){d.editorViewAccessibleLabel=E("editorViewAccessibleLabel","Editor content"),d.accessibilityHelpMessage=E("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(OC||(OC={}));var u7;(function(d){d.toggleHighContrast=E("toggleHighContrast","Toggle High Contrast Theme")})(u7||(u7={}));var h7;(function(d){d.bulkEditServiceSummary=E("bulkEditServiceSummary","Made {0} edits in {1} files")})(h7||(h7={}));const CU=hi("workspaceTrustManagementService");var dr;(function(d){function t(h,f){if(h.start>=f.end||f.start>=h.end)return{start:0,end:0};const m=Math.max(h.start,f.start),A=Math.min(h.end,f.end);return A-m<=0?{start:0,end:0}:{start:m,end:A}}d.intersect=t;function s(h){return h.end-h.start<=0}d.isEmpty=s;function l(h,f){return!s(t(h,f))}d.intersects=l;function u(h,f){const m=[],A={start:h.start,end:Math.min(f.start,h.end)},C={start:Math.max(f.end,h.start),end:h.end};return s(A)||m.push(A),s(C)||m.push(C),m}d.relativeComplement=u})(dr||(dr={}));var vu;(function(d){d[d.AVOID=0]="AVOID",d[d.ALIGN=1]="ALIGN"})(vu||(vu={}));function ig(d,t,s){const l=s.mode===vu.ALIGN?s.offset:s.offset+s.size,u=s.mode===vu.ALIGN?s.offset+s.size:s.offset;return s.position===0?t<=d-l?l:t<=u?u-t:Math.max(d-t,0):t<=u?u-t:t<=d-l?l:0}class Yg extends Se{constructor(t,s){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Se.None,this.toDisposeOnSetContainer=Se.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Ue(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,uo(this.view),this.setContainer(t,s),this._register($t(()=>this.setContainer(null,1)))}setContainer(t,s){var l;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(l=this.shadowRootHostElement)===null||l===void 0||l.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=s!==1,this.useShadowDOM=s===3,this.useShadowDOM){this.shadowRootHostElement=Ue(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const h=document.createElement("style");h.textContent=ape,this.shadowRoot.appendChild(h),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Ue("slot"))}else this.container.appendChild(this.view);const u=new je;Yg.BUBBLE_UP_EVENTS.forEach(h=>{u.add(zs(this.container,h,f=>{this.onDOMEvent(f,!1)}))}),Yg.BUBBLE_DOWN_EVENTS.forEach(h=>{u.add(zs(this.container,h,f=>{this.onDOMEvent(f,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(t){this.isVisible()&&this.hide(),vs(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",nl(this.view),this.toDisposeOnClean=t.render(this.view)||Se.None,this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(t2&&Rw.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let t=this.delegate.getAnchor(),s;if(yV(t)){let k=Js(t);s={top:k.top,left:k.left,width:k.width,height:k.height}}else s={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const l=ca(this.view),u=Ly(this.view),h=this.delegate.anchorPosition||0,f=this.delegate.anchorAlignment||0,m=this.delegate.anchorAxisAlignment||0;let A,C;if(m===0){const k={offset:s.top-window.pageYOffset,size:s.height,position:h===0?0:1},D={offset:s.left,size:s.width,position:f===0?0:1,mode:vu.ALIGN};A=ig(window.innerHeight,u,k)+window.pageYOffset,dr.intersects({start:A,end:A+u},{start:k.offset,end:k.offset+k.size})&&(D.mode=vu.AVOID),C=ig(window.innerWidth,l,D)}else{const k={offset:s.left,size:s.width,position:f===0?0:1},D={offset:s.top,size:s.height,position:h===0?0:1,mode:vu.ALIGN};C=ig(window.innerWidth,l,k),dr.intersects({start:C,end:C+l},{start:k.offset,end:k.offset+k.size})&&(D.mode=vu.AVOID),A=ig(window.innerHeight,u,D)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(h===0?"bottom":"top"),this.view.classList.add(f===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const w=Js(this.container);this.view.style.top=`${A-(this.useFixedPosition?Js(this.view).top:w.top)}px`,this.view.style.left=`${C-(this.useFixedPosition?Js(this.view).left:w.left)}px`,this.view.style.width="initial"}hide(t){const s=this.delegate;this.delegate=null,s?.onHide&&s.onHide(t),this.toDisposeOnClean.dispose(),uo(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,s){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):s&&!bc(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Yg.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Yg.BUBBLE_DOWN_EVENTS=["click"];let ape=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var cpe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},upe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let d7=class extends Se{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=Se.None,this.container=t.hasContainer?t.container:null,this.contextView=this._register(new Yg(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,s){this.contextView.setContainer(t,s||1)}showContextView(t,s,l){s?s!==this.container&&(this.container=s,this.setContainer(s,l?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(t);const u=$t(()=>{this.currentViewDisposable===u&&this.hideContextView()});return this.currentViewDisposable=u,u}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};d7=cpe([upe(0,w_)],d7);const i9="**",NO="/",u3="[/\\\\]",h3="[^/\\\\]",hpe=/\//g;function TO(d){switch(d){case 0:return"";case 1:return`${h3}*?`;default:return`(?:${u3}|${h3}+${u3}|${u3}${h3}+)*?`}}function RO(d,t){if(!d)return[];const s=[];let l=!1,u=!1,h="";for(const f of d){switch(f){case t:if(!l&&!u){s.push(h),h="";continue}break;case"{":l=!0;break;case"}":l=!1;break;case"[":u=!0;break;case"]":u=!1;break}h+=f}return h&&s.push(h),s}function wU(d){if(!d)return"";let t="";const s=RO(d,NO);if(s.every(l=>l===i9))t=".*";else{let l=!1;s.forEach((u,h)=>{if(u===i9){l||(t+=TO(2),l=!0);return}let f=!1,m="",A=!1,C="";for(const w of u){if(w!=="}"&&f){m+=w;continue}if(A&&(w!=="]"||!C)){let k;w==="-"?k=w:(w==="^"||w==="!")&&!C?k="^":w===NO?k="":k=Fl(w),C+=k;continue}switch(w){case"{":f=!0;continue;case"[":A=!0;continue;case"}":{t+=`(?:${RO(m,",").map(I=>wU(I)).join("|")})`,f=!1,m="";break}case"]":t+="["+C+"]",A=!1,C="";break;case"?":t+=h3;continue;case"*":t+=TO(1);continue;default:t+=Fl(w)}}h<s.length-1&&(s[h+1]!==i9||h+2<s.length)&&(t+=u3),l=!1})}return t}const dpe=/^\*\*\/\*\.[\w\.-]+$/,fpe=/^\*\*\/([\w\.-]+)\/?$/,gpe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,mpe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,ppe=/^\*\*((\/[\w\.-]+)+)\/?$/,Ape=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,MO=new dh(1e4),PO=function(){return!1},f0=function(){return null};function gx(d,t){if(!d)return f0;let s;typeof d!="string"?s=d.pattern:s=d,s=s.trim();const l=`${s}_${!!t.trimForExclusions}`;let u=MO.get(l);if(u)return OO(u,d);let h;if(dpe.test(s)){const f=s.substr(4);u=function(m,A){return typeof m=="string"&&m.endsWith(f)?s:null}}else(h=fpe.exec(n9(s,t)))?u=_pe(h[1],s):(t.trimForExclusions?mpe:gpe).test(s)?u=Cpe(s,t):(h=ppe.exec(n9(s,t)))?u=FO(h[1].substr(1),s,!0):(h=Ape.exec(n9(s,t)))?u=FO(h[1],s,!1):u=wpe(s);return MO.set(l,u),OO(u,d)}function OO(d,t){return typeof t=="string"?d:function(s,l){return $y(s,t.base,!Cr)?d(s.substr(t.base.length+1),l):null}}function n9(d,t){return t.trimForExclusions&&d.endsWith("/**")?d.substr(0,d.length-2):d}function _pe(d,t){const s=`/${d}`,l=`\\${d}`,u=function(f,m){return typeof f!="string"?null:m?m===d?t:null:f===d||f.endsWith(s)||f.endsWith(l)?t:null},h=[d];return u.basenames=h,u.patterns=[t],u.allBasenames=h,u}function Cpe(d,t){const s=kU(d.slice(1,-1).split(",").map(m=>gx(m,t)).filter(m=>m!==f0),d),l=s.length;if(!l)return f0;if(l===1)return s[0];const u=function(m,A){for(let C=0,w=s.length;C<w;C++)if(s[C](m,A))return d;return null},h=s.find(m=>!!m.allBasenames);h&&(u.allBasenames=h.allBasenames);const f=s.reduce((m,A)=>A.allPaths?m.concat(A.allPaths):m,[]);return f.length&&(u.allPaths=f),u}function FO(d,t,s){const l=a0===qn.sep,u=l?d:d.replace(hpe,a0),h=a0+u,f=qn.sep+d,m=s?function(A,C){return typeof A=="string"&&(A===u||A.endsWith(h)||!l&&(A===d||A.endsWith(f)))?t:null}:function(A,C){return typeof A=="string"&&(A===u||!l&&A===d)?t:null};return m.allPaths=[(s?"*/":"./")+d],m}function wpe(d){try{const t=new RegExp(`^${wU(d)}$`);return function(s){return t.lastIndex=0,typeof s=="string"&&t.test(s)?d:null}}catch{return f0}}function vpe(d,t,s){return!d||typeof t!="string"?!1:vU(d)(t,void 0,s)}function vU(d,t={}){if(!d)return PO;if(typeof d=="string"||kpe(d)){const s=gx(d,t);if(s===f0)return PO;const l=function(u,h){return!!s(u,h)};return s.allBasenames&&(l.allBasenames=s.allBasenames),s.allPaths&&(l.allPaths=s.allPaths),l}return bpe(d,t)}function kpe(d){const t=d;return t?typeof t.base=="string"&&typeof t.pattern=="string":!1}function bpe(d,t){const s=kU(Object.getOwnPropertyNames(d).map(m=>Spe(m,d[m],t)).filter(m=>m!==f0)),l=s.length;if(!l)return f0;if(!s.some(m=>!!m.requiresSiblings)){if(l===1)return s[0];const m=function(w,k){for(let D=0,I=s.length;D<I;D++){const N=s[D](w,k);if(N)return N}return null},A=s.find(w=>!!w.allBasenames);A&&(m.allBasenames=A.allBasenames);const C=s.reduce((w,k)=>k.allPaths?w.concat(k.allPaths):w,[]);return C.length&&(m.allPaths=C),m}const u=function(m,A,C){let w;for(let k=0,D=s.length;k<D;k++){const I=s[k];I.requiresSiblings&&C&&(A||(A=wd(m)),w||(w=A.substr(0,A.length-oae(m).length)));const N=I(m,A,w,C);if(N)return N}return null},h=s.find(m=>!!m.allBasenames);h&&(u.allBasenames=h.allBasenames);const f=s.reduce((m,A)=>A.allPaths?m.concat(A.allPaths):m,[]);return f.length&&(u.allPaths=f),u}function Spe(d,t,s){if(t===!1)return f0;const l=gx(d,s);if(l===f0)return f0;if(typeof t=="boolean")return l;if(t){const u=t.when;if(typeof u=="string"){const h=(f,m,A,C)=>{if(!C||!l(f,m))return null;const w=u.replace("$(basename)",A),k=C(w);return w2e(k)?k.then(D=>D?d:null):k?d:null};return h.requiresSiblings=!0,h}}return l}function kU(d,t){const s=d.filter(m=>!!m.basenames);if(s.length<2)return d;const l=s.reduce((m,A)=>{const C=A.basenames;return C?m.concat(C):m},[]);let u;if(t){u=[];for(let m=0,A=l.length;m<A;m++)u.push(t)}else u=s.reduce((m,A)=>{const C=A.patterns;return C?m.concat(C):m},[]);const h=function(m,A){if(typeof m!="string")return null;if(!A){let w;for(w=m.length;w>0;w--){const k=m.charCodeAt(w-1);if(k===47||k===92)break}A=m.substr(w)}const C=l.indexOf(A);return C!==-1?u[C]:null};h.basenames=l,h.patterns=u,h.allBasenames=l;const f=d.filter(m=>!m.basenames);return f.push(h),f}let $g=[],mx=[],bU=[];function c6(d,t=!1){ype(d,!1,t)}function ype(d,t,s){const l=Lpe(d,t);$g.push(l),l.userConfigured?bU.push(l):mx.push(l),s&&!l.userConfigured&&$g.forEach(u=>{u.mime===l.mime||u.userConfigured||(l.extension&&u.extension===l.extension&&console.warn(`Overwriting extension <<${l.extension}>> to now point to mime <<${l.mime}>>`),l.filename&&u.filename===l.filename&&console.warn(`Overwriting filename <<${l.filename}>> to now point to mime <<${l.mime}>>`),l.filepattern&&u.filepattern===l.filepattern&&console.warn(`Overwriting filepattern <<${l.filepattern}>> to now point to mime <<${l.mime}>>`),l.firstline&&u.firstline===l.firstline&&console.warn(`Overwriting firstline <<${l.firstline}>> to now point to mime <<${l.mime}>>`))})}function Lpe(d,t){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:t,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?vU(d.filepattern.toLowerCase()):void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(qn.sep)>=0:!1}}function Dpe(){$g=$g.filter(d=>d.userConfigured),mx=[]}function Ipe(d,t){let s;if(d)switch(d.scheme){case zt.file:s=d.fsPath;break;case zt.data:{s=Ku.parseMetaData(d).get(Ku.META_DATA_LABEL);break}default:s=d.path}if(!s)return[Za.unknown];s=s.toLowerCase();const l=wd(s),u=BO(s,l,bU);if(u)return[u,Za.text];const h=BO(s,l,mx);if(h)return[h,Za.text];if(t){const f=xpe(t);if(f)return[f,Za.text]}return[Za.unknown]}function BO(d,t,s){var l;let u,h,f;for(let m=s.length-1;m>=0;m--){const A=s[m];if(t===A.filenameLowercase){u=A;break}if(A.filepattern&&(!h||A.filepattern.length>h.filepattern.length)){const C=A.filepatternOnPath?d:t;!((l=A.filepatternLowercase)===null||l===void 0)&&l.call(A,C)&&(h=A)}A.extension&&(!f||A.extension.length>f.extension.length)&&t.endsWith(A.extensionLowercase)&&(f=A)}if(u)return u.mime;if(h)return h.mime;if(f)return f.mime}function xpe(d){if(tI(d)&&(d=d.substr(1)),d.length>0)for(let t=$g.length-1;t>=0;t--){const s=$g[t];if(!s.firstline)continue;const l=d.match(s.firstline);if(l&&l.length>0)return s.mime}}const u6=Object.prototype.hasOwnProperty,f7="vs.editor.nullLanguage";cs.register(f7,{});class Epe{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(f7,0),this._register(I0,1),this._nextLanguageId=2}_register(t,s){this._languageIdToLanguage[s]=t,this._languageToLanguageId.set(t,s)}register(t){if(this._languageToLanguageId.has(t))return;const s=this._nextLanguageId++;this._register(t,s)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||f7}}class v4 extends Se{constructor(t=!0,s=!1){super(),this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,v4.instanceCount++,this._warnOnOverwrite=s,this.languageIdCodec=new Epe,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(Zg.onDidChangeLanguages(l=>{this._initializeFromRegistry()})))}dispose(){v4.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Dpe();const t=[].concat(Zg.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const s of t)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{const l=this._languages[s];l.name&&(this._nameMap[l.name]=l.identifier),l.aliases.forEach(u=>{this._lowercaseNameMap[u.toLowerCase()]=l.identifier}),l.mimetypes.forEach(u=>{this._mimeTypesMap[u]=l.identifier})}),ts.as(Ef.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const s=t.id;let l;u6.call(this._languages,s)?l=this._languages[s]:(this.languageIdCodec.register(s),l={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=l),this._mergeLanguage(l,t)}_mergeLanguage(t,s){const l=s.id;let u=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(t.mimetypes.push(...s.mimetypes),u=s.mimetypes[0]),u||(u=`text/x-${l}`,t.mimetypes.push(u)),Array.isArray(s.extensions)){s.configuration?t.extensions=s.extensions.concat(t.extensions):t.extensions=t.extensions.concat(s.extensions);for(let m of s.extensions)c6({id:l,mime:u,extension:m},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(let m of s.filenames)c6({id:l,mime:u,filename:m},this._warnOnOverwrite),t.filenames.push(m);if(Array.isArray(s.filenamePatterns))for(let m of s.filenamePatterns)c6({id:l,mime:u,filepattern:m},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let m=s.firstLine;m.charAt(0)!=="^"&&(m="^"+m);try{const A=new RegExp(m);bae(A)||c6({id:l,mime:u,firstline:A},this._warnOnOverwrite)}catch(A){Bt(A)}}t.aliases.push(l);let h=null;if(typeof s.aliases<"u"&&Array.isArray(s.aliases)&&(s.aliases.length===0?h=[null]:h=s.aliases),h!==null)for(const m of h)!m||m.length===0||t.aliases.push(m);const f=h!==null&&h.length>0;if(!(f&&h[0]===null)){const m=(f?h[0]:null)||l;(f||!t.name)&&(t.name=m)}s.configuration&&t.configurationFiles.push(s.configuration),s.icon&&t.icons.push(s.icon)}isRegisteredLanguageId(t){return t?u6.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const s=t.toLowerCase();return u6.call(this._lowercaseNameMap,s)?this._lowercaseNameMap[s]:null}getLanguageIdByMimeType(t){return t&&u6.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,s){if(!t&&!s)return[];const l=Ipe(t,s);return vf(l.map(u=>this.getLanguageIdByMimeType(u)))}}v4.instanceCount=0;class k4 extends Se{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new he),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new he({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,k4.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new v4(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){k4.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,s){const l=this._registry.guessLanguageIdByFilepathOrFirstLine(t,s);return gW(l,null)}createById(t){return new WO(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,s){return new WO(this.onDidChange,()=>{const l=this.guessLanguageIdByFilepathOrFirstLine(t,s);return this._createAndGetLanguageIdentifier(l)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=I0),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),bn.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}k4.instanceCount=0;class WO{constructor(t,s){this._onDidChangeLanguages=t,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new he({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const t=this._selector();t!==this.languageId&&(this.languageId=t,this._emitter&&this._emitter.fire(this.languageId))}}function VO(d){let t=d.definition;for(;t instanceof T;)t=t.definition;return`.codicon-${d.id}:before { content: '${t.fontCharacter}'; }`}function px(...d){return function(t,s){for(let l=0,u=d.length;l<u;l++){const h=d[l](t,s);if(h)return h}return null}}SU.bind(void 0,!1);const uv=SU.bind(void 0,!0);function SU(d,t,s){if(!s||s.length<t.length)return null;let l;return d?l=KD(s,t):l=s.indexOf(t)===0,l?t.length>0?[{start:0,end:t.length}]:[]:null}function yU(d,t){const s=t.toLowerCase().indexOf(d.toLowerCase());return s===-1?null:[{start:s,end:s+d.length}]}function Npe(d,t){return g7(d.toLowerCase(),t.toLowerCase(),0,0)}function g7(d,t,s,l){if(s===d.length)return[];if(l===t.length)return null;if(d[s]===t[l]){let u=null;return(u=g7(d,t,s+1,l+1))?Cx({start:l,end:l+1},u):null}return g7(d,t,s,l+1)}function Ax(d){return 97<=d&&d<=122}function hv(d){return 65<=d&&d<=90}function _x(d){return 48<=d&&d<=57}function LU(d){return d===32||d===9||d===10||d===13}const DU=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(d=>DU.add(d.charCodeAt(0)));function FC(d){return LU(d)||DU.has(d)}function Tpe(d,t){return d===t||FC(d)&&FC(t)}function IU(d){return Ax(d)||hv(d)||_x(d)}function Cx(d,t){return t.length===0?t=[d]:d.end===t[0].start?t[0].start=d.start:t.unshift(d),t}function xU(d,t){for(let s=t;s<d.length;s++){const l=d.charCodeAt(s);if(hv(l)||_x(l)||s>0&&!IU(d.charCodeAt(s-1)))return s}return d.length}function m7(d,t,s,l){if(s===d.length)return[];if(l===t.length)return null;if(d[s]!==t[l].toLowerCase())return null;{let u=null,h=l+1;for(u=m7(d,t,s+1,l+1);!u&&(h=xU(t,h))<t.length;)u=m7(d,t,s+1,h),h++;return u===null?null:Cx({start:l,end:l+1},u)}}function Rpe(d){let t=0,s=0,l=0,u=0,h=0;for(let w=0;w<d.length;w++)h=d.charCodeAt(w),hv(h)&&t++,Ax(h)&&s++,IU(h)&&l++,_x(h)&&u++;const f=t/d.length,m=s/d.length,A=l/d.length,C=u/d.length;return{upperPercent:f,lowerPercent:m,alphaPercent:A,numericPercent:C}}function Mpe(d){const{upperPercent:t,lowerPercent:s}=d;return s===0&&t>.6}function Ppe(d){const{upperPercent:t,lowerPercent:s,alphaPercent:l,numericPercent:u}=d;return s>.2&&t<.8&&l>.6&&u<.2}function Ope(d){let t=0,s=0,l=0,u=0;for(let h=0;h<d.length;h++)l=d.charCodeAt(h),hv(l)&&t++,Ax(l)&&s++,LU(l)&&u++;return(t===0||s===0)&&u===0?d.length<=30:t<=5}function EU(d,t){if(!t||(t=t.trim(),t.length===0)||!Ope(d)||t.length>60)return null;const s=Rpe(t);if(!Ppe(s)){if(!Mpe(s))return null;t=t.toLowerCase()}let l=null,u=0;for(d=d.toLowerCase();u<t.length&&(l=m7(d,t,0,u))===null;)u=xU(t,u+1);return l}function Fpe(d,t,s=!1){if(!t||t.length===0)return null;let l=null,u=0;for(d=d.toLowerCase(),t=t.toLowerCase();u<t.length&&(l=p7(d,t,0,u,s))===null;)u=NU(t,u+1);return l}function p7(d,t,s,l,u){if(s===d.length)return[];if(l===t.length)return null;if(Tpe(d.charCodeAt(s),t.charCodeAt(l))){let h=null,f=l+1;if(h=p7(d,t,s+1,l+1,u),!u)for(;!h&&(f=NU(t,f))<t.length;)h=p7(d,t,s+1,f,u),f++;return h===null?null:Cx({start:l,end:l+1},h)}else return null}function NU(d,t){for(let s=t;s<d.length;s++)if(FC(d.charCodeAt(s))||s>0&&FC(d.charCodeAt(s-1)))return s;return d.length}const Bpe=px(uv,EU,yU),Wpe=px(uv,EU,Npe),HO=new dh(1e4);function UO(d,t,s=!1){if(typeof d!="string"||typeof t!="string")return null;let l=HO.get(d);l||(l=new RegExp(vae(d),"i"),HO.set(d,l));const u=l.exec(t);return u?[{start:u.index,end:u.index+u[0].length}]:s?Wpe(d,t):Bpe(d,t)}function Vpe(d,t,s,l,u,h){const f=Math.min(13,d.length);for(;s<f;s++){const m=Kg(d,t,s,l,u,h,!1);if(m)return m}return[0,h]}function dv(d){if(typeof d>"u")return[];const t=[],s=d[1];for(let l=d.length-1;l>1;l--){const u=d[l]+s,h=t[t.length-1];h&&h.end===u?h.end=u+1:t.push({start:u,end:u+1})}return t}const ku=128;function wx(){const d=[],t=[];for(let s=0;s<=ku;s++)t[s]=0;for(let s=0;s<=ku;s++)d.push(t.slice(0));return d}function TU(d){const t=[];for(let s=0;s<=d;s++)t[s]=0;return t}const RU=TU(2*ku),A7=TU(2*ku),$0=wx(),jh=wx(),h6=wx();function d6(d,t){if(t<0||t>=d.length)return!1;const s=d.codePointAt(t);switch(s){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!eI(s)}}function zO(d,t){if(t<0||t>=d.length)return!1;switch(d.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function d3(d,t,s){return t[d]!==s[d]}function Hpe(d,t,s,l,u,h,f=!1){for(;t<s&&u<h;)d[t]===l[u]&&(f&&(RU[t]=u),t+=1),u+=1;return t===s}var qa;(function(d){d.Default=[-100,0];function t(s){return!s||s.length===2&&s[0]===-100&&s[1]===0}d.isDefault=t})(qa||(qa={}));function Kg(d,t,s,l,u,h,f){const m=d.length>ku?ku:d.length,A=l.length>ku?ku:l.length;if(s>=m||h>=A||m-s>A-h||!Hpe(t,s,m,u,h,A,!0))return;Upe(m,A,s,h,t,u);let C=1,w=1,k=s,D=h;const I=[!1];for(C=1,k=s;k<m;C++,k++){const B=RU[k],z=A7[k],G=k+1<m?A7[k+1]:A;for(w=B-h+1,D=B;D<G;w++,D++){let K=Number.MIN_SAFE_INTEGER,q=!1;D<=z&&(K=zpe(d,t,k,s,l,u,D,A,h,$0[C-1][w-1]===0,I));let Y=0;K!==Number.MAX_SAFE_INTEGER&&(q=!0,Y=K+jh[C-1][w-1]);const J=D>B,ne=J?jh[C][w-1]+($0[C][w-1]>0?-5:0):0,Ae=D>B+1&&$0[C][w-1]>0,ge=Ae?jh[C][w-2]+($0[C][w-2]>0?-5:0):0;if(Ae&&(!J||ge>=ne)&&(!q||ge>=Y))jh[C][w]=ge,h6[C][w]=3,$0[C][w]=0;else if(J&&(!q||ne>=Y))jh[C][w]=ne,h6[C][w]=2,$0[C][w]=0;else if(q)jh[C][w]=Y,h6[C][w]=1,$0[C][w]=$0[C-1][w-1]+1;else throw new Error("not possible")}}if(!I[0]&&!f)return;C--,w--;const N=[jh[C][w],h];let R=0,O=0;for(;C>=1;){let B=w;do{const z=h6[C][B];if(z===3)B=B-2;else if(z===2)B=B-1;else break}while(B>=1);R>1&&t[s+C-1]===u[h+w-1]&&!d3(B+h-1,l,u)&&R+1>$0[C][B]&&(B=w),B===w?R++:R=1,O||(O=B),C--,w=B-1,N.push(w)}A===m&&(N[0]+=2);const W=O-m;return N[0]-=W,N}function Upe(d,t,s,l,u,h){let f=d-1,m=t-1;for(;f>=s&&m>=l;)u[f]===h[m]&&(A7[f]=m,f--),m--}function zpe(d,t,s,l,u,h,f,m,A,C,w){if(t[s]!==h[f])return Number.MIN_SAFE_INTEGER;let k=1,D=!1;return f===s-l?k=d[s]===u[f]?7:5:d3(f,u,h)&&(f===0||!d3(f-1,u,h))?(k=d[s]===u[f]?7:5,D=!0):d6(h,f)&&(f===0||!d6(h,f-1))?k=5:(d6(h,f-1)||zO(h,f-1))&&(k=5,D=!0),k>1&&s===l&&(w[0]=!0),D||(D=d3(f,u,h)||d6(h,f-1)||zO(h,f-1)),s===l?f>A&&(k-=D?3:5):C?k+=D?2:0:k+=D?0:1,f+1===m&&(k-=D?3:5),k}function Gpe(d,t,s,l,u,h,f){return jpe(d,t,s,l,u,h,!0,f)}function jpe(d,t,s,l,u,h,f,m){let A=Kg(d,t,s,l,u,h,m);if(A&&!f)return A;if(d.length>=3){const C=Math.min(7,d.length-1);for(let w=s+1;w<C;w++){const k=Zpe(d,w);if(k){const D=Kg(k,k.toLowerCase(),s,l,u,h,m);D&&(D[0]-=3,(!A||D[0]>A[0])&&(A=D))}}}return A}function Zpe(d,t){if(t+1>=d.length)return;const s=d[t],l=d[t+1];if(s!==l)return d.slice(0,t)+l+s+d.slice(t+2)}const IA="$(",vx=new RegExp(`\\$\\(${Gr.iconNameExpression}(?:${Gr.iconModifierExpression})?\\)`,"g"),Qpe=new RegExp(Gr.iconNameCharacter),Ype=new RegExp(`(\\\\)?${vx.source}`,"g");function $pe(d){return d.replace(Ype,(t,s)=>s?t:`\\${t}`)}const Kpe=new RegExp(`\\\\${vx.source}`,"g");function Xpe(d){return d.replace(Kpe,t=>`\\${t}`)}const Jpe=new RegExp(`(\\s)?(\\\\)?${vx.source}(\\s)?`,"g");function kx(d){return d.indexOf(IA)===-1?d:d.replace(Jpe,(t,s,l,u)=>l?t:s||u||"")}function f6(d){const t=d.indexOf(IA);return t===-1?{text:d}:qpe(d,t)}function qpe(d,t){const s=[];let l="";function u(D){if(D){l+=D;for(const I of D)s.push(m)}}let h=-1,f="",m=0,A,C,w=t;const k=d.length;for(u(d.substr(0,t));w<k;)A=d[w],C=d[w+1],A===IA[0]&&C===IA[1]?(h=w,u(f),f=IA,w++):A===")"&&h!==-1?(m+=w-h+1,h=-1,f=""):h!==-1?Qpe.test(A)?f+=A:(u(f),h=-1,f=""):u(A),w++;return u(f),{text:l,iconOffsets:s}}function g6(d,t,s=!1){const{text:l,iconOffsets:u}=t;if(!u||u.length===0)return UO(d,l,s);const h=YD(l," "),f=l.length-h.length,m=UO(d,h,s);if(m)for(const A of m){const C=u[A.start+f]+f;A.start+=C,A.end+=C}return m}const _7=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,s9=/(&amp;)?(&amp;)([^\s&])/g;var BC;(function(d){d[d.Right=0]="Right",d[d.Left=1]="Left"})(BC||(BC={}));class yg extends w0{constructor(t,s,l={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const u=document.createElement("div");u.classList.add("monaco-menu"),u.setAttribute("role","presentation"),super(u,{orientation:1,actionViewItemProvider:m=>this.doGetActionViewItem(m,l,h),context:l.context,actionRunner:l.actionRunner,ariaLabel:l.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Jt||Cr?[10]:[]],keyDown:!0}}),this.menuElement=u,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new je),this.initializeOrUpdateStyleSheet(t,{}),this._register(Wi.addTarget(u)),ze(u,vt.KEY_DOWN,m=>{new hn(m).equals(2)&&m.preventDefault()}),l.enableMnemonics&&this.menuDisposables.add(ze(u,vt.KEY_DOWN,m=>{const A=m.key.toLocaleLowerCase();if(this.mnemonics.has(A)){Ri.stop(m,!0);const C=this.mnemonics.get(A);if(C.length===1&&(C[0]instanceof GO&&C[0].container&&this.focusItemByElement(C[0].container),C[0].onClick(m)),C.length>1){const w=C.shift();w&&w.container&&(this.focusItemByElement(w.container),C.push(w)),this.mnemonics.set(A,C)}}})),Cr&&this._register(ze(u,vt.KEY_DOWN,m=>{const A=new hn(m);A.equals(14)||A.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Ri.stop(m,!0)):(A.equals(13)||A.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Ri.stop(m,!0))})),this._register(ze(this.domNode,vt.MOUSE_OUT,m=>{let A=m.relatedTarget;bc(A,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),m.stopPropagation())})),this._register(ze(this.actionsList,vt.MOUSE_OVER,m=>{let A=m.target;if(!(!A||!bc(A,this.actionsList)||A===this.actionsList)){for(;A.parentElement!==this.actionsList&&A.parentElement!==null;)A=A.parentElement;if(A.classList.contains("action-item")){const C=this.focusedItem;this.setFocusedItem(A),C!==this.focusedItem&&this.updateFocus()}}})),this._register(Wi.addTarget(this.actionsList)),this._register(ze(this.actionsList,nn.Tap,m=>{let A=m.initialTarget;if(!(!A||!bc(A,this.actionsList)||A===this.actionsList)){for(;A.parentElement!==this.actionsList&&A.parentElement!==null;)A=A.parentElement;if(A.classList.contains("action-item")){const C=this.focusedItem;this.setFocusedItem(A),C!==this.focusedItem&&this.updateFocus()}}}));let h={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new A_(u,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const f=this.scrollableElement.getDomNode();f.style.position="",this._register(ze(u,nn.Change,m=>{Ri.stop(m,!0);const A=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:A-m.translationY})})),this._register(ze(f,vt.MOUSE_UP,m=>{m.preventDefault()})),u.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,s=s.filter(m=>{var A;return!((A=l.submenuIds)===null||A===void 0)&&A.has(m.id)?(console.warn(`Found submenu cycle: ${m.id}`),!1):!0}),this.push(s,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(m=>!(m instanceof r9)).forEach((m,A,C)=>{m.updatePositionInSet(A+1,C.length)})}initializeOrUpdateStyleSheet(t,s){this.styleSheet||(JA(t)?this.styleSheet=Vl(t):(yg.globalStyleSheet||(yg.globalStyleSheet=Vl()),this.styleSheet=yg.globalStyleSheet)),this.styleSheet.textContent=tAe(s,JA(t))}style(t){const s=this.getContainer();this.initializeOrUpdateStyleSheet(s,t);const l=t.foregroundColor?`${t.foregroundColor}`:"",u=t.backgroundColor?`${t.backgroundColor}`:"",h=t.borderColor?`1px solid ${t.borderColor}`:"",f=t.shadowColor?`0 2px 4px ${t.shadowColor}`:"";s.style.border=h,this.domNode.style.color=l,this.domNode.style.backgroundColor=u,s.style.boxShadow=f,this.viewItems&&this.viewItems.forEach(m=>{(m instanceof C7||m instanceof r9)&&m.style(t)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const s=this.focusedItem;this.setFocusedItem(t),s!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let s=0;s<this.actionsList.children.length;s++){let l=this.actionsList.children[s];if(t===l){this.focusedItem=s;break}}}updateFocus(t){super.updateFocus(t,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,s,l){if(t instanceof Ml)return new r9(s.context,t,{icon:!0});if(t instanceof Pw){const u=new GO(t,t.actions,l,Object.assign(Object.assign({},s),{submenuIds:new Set([...s.submenuIds||[],t.id])}));if(s.enableMnemonics){const h=u.getMnemonic();if(h&&u.isEnabled()){let f=[];this.mnemonics.has(h)&&(f=this.mnemonics.get(h)),f.push(u),this.mnemonics.set(h,f)}}return u}else{const u={enableMnemonics:s.enableMnemonics,useEventAsContext:s.useEventAsContext};if(s.getKeyBinding){const f=s.getKeyBinding(t);if(f){const m=f.getLabel();m&&(u.keybinding=m)}}const h=new C7(s.context,t,u);if(s.enableMnemonics){const f=h.getMnemonic();if(f&&h.isEnabled()){let m=[];this.mnemonics.has(f)&&(m=this.mnemonics.get(f)),m.push(h),this.mnemonics.set(f,m)}}return h}}}class C7 extends $2{constructor(t,s,l={}){if(l.isMenu=!0,super(s,s,l),this.options=l,this.options.icon=l.icon!==void 0?l.icon:!1,this.options.label=l.label!==void 0?l.label:!0,this.cssClass="",this.options.label&&l.enableMnemonics){let u=this.getAction().label;if(u){let h=_7.exec(u);h&&(this.mnemonic=(h[1]?h[1]:h[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new zi(()=>{!this.element||(this._register(ze(this.element,vt.MOUSE_UP,u=>{if(Ri.stop(u,!0),dl){if(new El(u).rightButton)return;this.onClick(u)}else setTimeout(()=>{this.onClick(u)},0)})),this._register(ze(this.element,vt.CONTEXT_MENU,u=>{Ri.stop(u,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=Re(this.element,Ue("a.action-menu-item")),this._action.id===Ml.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Re(this.item,Ue("span.menu-item-check"+T.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=Re(this.item,Ue("span.action-label")),this.options.label&&this.options.keybinding&&(Re(this.item,Ue("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,s){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${s}`))}updateLabel(){if(!!this.label&&this.options.label){vs(this.label);let t=kx(this.getAction().label);if(t){const s=eAe(t);this.options.enableMnemonics||(t=s),this.label.setAttribute("aria-label",s.replace(/&&/g,"&"));const l=_7.exec(t);if(l){t=QD(t),s9.lastIndex=0;let u=s9.exec(t);for(;u&&u[1];)u=s9.exec(t);const h=f=>f.replace(/&amp;&amp;/g,"&amp;");u?this.label.append(YD(h(t.substr(0,u.index))," "),Ue("u",{"aria-hidden":"true"},u[3]),MW(h(t.substr(u.index+u[0].length))," ")):this.label.innerText=h(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(l[1]?l[1]:l[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),s=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,l=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,u=t&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=s?s.toString():"",this.item.style.backgroundColor=l?l.toString():""),this.check&&(this.check.style.color=s?s.toString():""),this.container&&(this.container.style.border=u)}style(t){this.menuStyle=t,this.applyStyle()}}class GO extends C7{constructor(t,s,l,u){super(t,t,u),this.submenuActions=s,this.parentData=l,this.submenuOptions=u,this.mysubmenu=null,this.submenuDisposables=this._register(new je),this.mouseOver=!1,this.expandDirection=u&&u.expandDirection!==void 0?u.expandDirection:BC.Right,this.showScheduler=new zi(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new zi(()=>{this.element&&!bc(dg(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Re(this.item,Ue("span.submenu-indicator"+T.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(ze(this.element,vt.KEY_UP,s=>{let l=new hn(s);(l.equals(17)||l.equals(3))&&(Ri.stop(s,!0),this.createSubmenu(!0))})),this._register(ze(this.element,vt.KEY_DOWN,s=>{let l=new hn(s);dg()===this.item&&(l.equals(17)||l.equals(3))&&Ri.stop(s,!0)})),this._register(ze(this.element,vt.MOUSE_OVER,s=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(ze(this.element,vt.MOUSE_LEAVE,s=>{this.mouseOver=!1})),this._register(ze(this.element,vt.FOCUS_OUT,s=>{this.element&&!bc(dg(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(t){Ri.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,s,l,u){const h={top:0,left:0};return h.left=ig(t.width,s.width,{position:u===BC.Right?0:1,offset:l.left,size:l.width}),h.left>=l.left&&h.left<l.left+l.width&&(l.left+10+s.width<=t.width&&(h.left=l.left+10),l.top+=10,l.height=0),h.top=ig(t.height,s.height,{position:0,offset:l.top,size:0}),h.top+s.height===l.top&&h.top+l.height+s.height<=t.height&&(h.top+=l.height),h}createSubmenu(t=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Re(this.element,Ue("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const s=getComputedStyle(this.parentData.parent.domNode),l=parseFloat(s.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new yg(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Ow],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const u=this.element.getBoundingClientRect(),h={top:u.top-l,left:u.left,height:u.height+2*l,width:u.width},f=this.submenuContainer.getBoundingClientRect(),{top:m,left:A}=this.calculateSubmenuMenuLayout(new ji(window.innerWidth,window.innerHeight),ji.lift(f),h,this.expandDirection);this.submenuContainer.style.left=`${A-f.left}px`,this.submenuContainer.style.top=`${m-f.top}px`,this.submenuDisposables.add(ze(this.submenuContainer,vt.KEY_UP,C=>{new hn(C).equals(15)&&(Ri.stop(C,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(ze(this.submenuContainer,vt.KEY_DOWN,C=>{new hn(C).equals(15)&&Ri.stop(C,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var s;this.item&&((s=this.item)===null||s===void 0||s.setAttribute("aria-expanded",t))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const s=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=s?`${s}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class r9 extends A4{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}function eAe(d){const t=_7,s=t.exec(d);if(!s)return d;const l=!s[1];return d.replace(t,l?"$2$3":"").trim()}function tAe(d,t){let s=`
.monaco-menu {
	font-size: 13px;

}

${VO(T.menuSelection)}
${VO(T.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(t){s+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const l=d.scrollbarShadow;l&&(s+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${l} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${l} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${l} 6px 6px 6px -6px inset;
				}
			`);const u=d.scrollbarSliderBackground;u&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${u};
				}
			`);const h=d.scrollbarSliderHoverBackground;h&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${h};
				}
			`);const f=d.scrollbarSliderActiveBackground;f&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${f};
				}
			`)}return s}function Ua(d,t){const s=Object.create(null);for(let l in t){const u=t[l];u&&(s[l]=ec(u,d))}return s}function bx(d,t,s){function l(){const u=Ua(d.getColorTheme(),t);typeof s=="function"?s(u):s.style(u)}return l(),d.onDidColorThemeChange(l)}function iAe(d,t,s){return bx(t,{badgeBackground:s?.badgeBackground||dA,badgeForeground:s?.badgeForeground||fA,badgeBorder:An},d)}function Xd(d,t,s){return bx(t,Object.assign(Object.assign({},fv),s||{}),d)}const fv={listFocusBackground:Tue,listFocusForeground:Rue,listFocusOutline:Mue,listActiveSelectionBackground:Mu,listActiveSelectionForeground:Pu,listActiveSelectionIconForeground:t3,listFocusAndSelectionBackground:Mu,listFocusAndSelectionForeground:Pu,listInactiveSelectionBackground:Pue,listInactiveSelectionIconForeground:Fue,listInactiveSelectionForeground:Oue,listInactiveFocusBackground:Bue,listInactiveFocusOutline:Wue,listHoverBackground:Vue,listHoverForeground:Hue,listDropBackground:Uue,listSelectionOutline:Fr,listHoverOutline:Fr,listFilterWidgetBackground:zue,listFilterWidgetOutline:Gue,listFilterWidgetNoMatchesOutline:jue,listMatchesShadow:Yu,treeIndentGuidesStroke:Zue,tableColumnsBorder:Que,tableOddRowsBackgroundColor:Yue},nAe={shadowColor:Yu,borderColor:$ue,foregroundColor:Kue,backgroundColor:Xue,selectionForegroundColor:Jue,selectionBackgroundColor:que,selectionBorderColor:ehe,separatorColor:the,scrollbarShadow:km,scrollbarSliderBackground:gg,scrollbarSliderHoverBackground:mg,scrollbarSliderActiveBackground:pg};function sAe(d,t,s){return bx(t,Object.assign(Object.assign({},nAe),s),d)}class rAe{constructor(t,s,l,u,h){this.contextViewService=t,this.telemetryService=s,this.notificationService=l,this.keybindingService=u,this.themeService=h,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const s=t.getActions();if(!s.length)return;this.focusToReturn=document.activeElement;let l,u=yV(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:h=>{let f=t.getMenuClassName?t.getMenuClassName():"";f&&(h.className+=" "+f),this.options.blockMouse&&(this.block=h.appendChild(Ue(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",ze(this.block,vt.MOUSE_DOWN,C=>C.stopPropagation()));const m=new je,A=t.actionRunner||new Wg;return A.onBeforeRun(this.onActionRun,this,m),A.onDidRun(this.onDidActionRun,this,m),l=new yg(h,s,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:A,getKeyBinding:t.getKeyBinding?t.getKeyBinding:C=>this.keybindingService.lookupKeybinding(C.id)}),m.add(sAe(l,this.themeService)),l.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,m),l.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,m),m.add(ze(window,vt.BLUR,()=>this.contextViewService.hideContextView(!0))),m.add(ze(window,vt.MOUSE_DOWN,C=>{if(C.defaultPrevented)return;let w=new El(C),k=w.target;if(!w.rightButton){for(;k;){if(k===h)return;k=k.parentElement}this.contextViewService.hideContextView(!0)}})),vc(m,l)},focus:()=>{l&&l.focus(!!t.autoSelectFirstItem)},onHide:h=>{t.onHide&&t.onHide(!!h),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},u,!!u)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!y0(t.error)&&this.notificationService.error(t.error)}}var oAe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Mp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let w7=class extends Se{constructor(t,s,l,u,h){super(),this._onDidShowContextMenu=new he,this._onDidHideContextMenu=new he,this.contextMenuHandler=new rAe(l,t,s,u,h)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:s=>{t.onHide&&t.onHide(s),this._onDidHideContextMenu.fire()}})),gd.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};w7=oAe([Mp(0,L0),Mp(1,is),Mp(2,C_),Mp(3,Hn),Mp(4,dn)],w7);function v7(d){let t=JSON.parse(d);return t=k7(t),t}function k7(d,t=0){if(!d||t>200)return d;if(typeof d=="object"){switch(d.$mid){case 1:return Lt.revive(d);case 2:return new RegExp(d.source,d.flags);case 14:return new Date(d.source)}if(d instanceof yw||d instanceof Uint8Array)return d;if(Array.isArray(d))for(let s=0;s<d.length;++s)d[s]=k7(d[s],t+1);else for(const s in d)Object.hasOwnProperty.call(d,s)&&(d[s]=k7(d[s],t+1))}return d}var WC;(function(d){d[d.API=0]="API",d[d.USER=1]="USER"})(WC||(WC={}));var jO=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const Zl=hi("openerService"),lAe=Object.freeze({_serviceBrand:void 0,registerOpener(){return Se.None},registerValidator(){return Se.None},registerExternalUriResolver(){return Se.None},setDefaultExternalOpener(){},registerExternalOpener(){return Se.None},open(){return jO(this,void 0,void 0,function*(){return!1})},resolveExternalUri(d){return jO(this,void 0,void 0,function*(){return{resolved:d,dispose(){}}})}});function MU(d,t){return Lt.isUri(d)?Z1(d.scheme,t):KD(d,t+":")}function ZO(d,...t){return t.some(s=>MU(d,s))}function aAe(d){let t;const s=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(d.fragment);return s&&(t={startLineNumber:parseInt(s[1]),startColumn:s[2]?parseInt(s[2]):1,endLineNumber:s[4]?parseInt(s[4]):void 0,endColumn:s[4]?s[5]?parseInt(s[5]):1:void 0},d=d.with({fragment:""})),{selection:t,uri:d}}var Sx=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},VC=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},ld=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let b7=class{constructor(t){this._commandService=t}open(t,s){return ld(this,void 0,void 0,function*(){if(!MU(t,zt.command))return!1;if(!s?.allowCommands)return!0;typeof t=="string"&&(t=Lt.parse(t));let l=[];try{l=v7(decodeURIComponent(t.query))}catch{try{l=v7(t.query)}catch{}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(t.path,...l),!0})}};b7=Sx([VC(0,es)],b7);let S7=class{constructor(t){this._editorService=t}open(t,s){return ld(this,void 0,void 0,function*(){typeof t=="string"&&(t=Lt.parse(t));const{selection:l,uri:u}=aAe(t);return t=u,t.scheme===zt.file&&(t=G1e(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:l,source:s?.fromUserGesture?WC.USER:WC.API},s?.editorOptions)},this._editorService.getFocusedCodeEditor(),s?.openToSide),!0})}};S7=Sx([VC(0,Mi)],S7);let y7=class{constructor(t,s){this._openers=new ol,this._validators=new ol,this._resolvers=new ol,this._resolvedUriTargets=new jr(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ol,this._defaultExternalOpener={openExternal:l=>ld(this,void 0,void 0,function*(){return ZO(l,zt.http,zt.https)?DV(l):window.location.href=l,!0})},this._openers.push({open:(l,u)=>ld(this,void 0,void 0,function*(){return u?.openExternal||ZO(l,zt.mailto,zt.http,zt.https,zt.vsls)?(yield this._doOpenExternal(l,u),!0):!1})}),this._openers.push(new b7(s)),this._openers.push(new S7(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpener(t){return{dispose:this._externalOpeners.push(t)}}open(t,s){var l;return ld(this,void 0,void 0,function*(){const u=typeof t=="string"?Lt.parse(t):t,h=(l=this._resolvedUriTargets.get(u))!==null&&l!==void 0?l:t;for(const f of this._validators)if(!(yield f.shouldOpen(h)))return!1;for(const f of this._openers)if(yield f.open(t,s))return!0;return!1})}resolveExternalUri(t,s){return ld(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const u=yield l.resolveExternalUri(t,s);if(u)return this._resolvedUriTargets.has(u.resolved)||this._resolvedUriTargets.set(u.resolved,t),u}catch{}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,s){return ld(this,void 0,void 0,function*(){const l=typeof t=="string"?Lt.parse(t):t;let u;try{u=(yield this.resolveExternalUri(l,s)).resolved}catch{u=l}let h;if(typeof t=="string"&&l.toString()===u.toString()?h=t:h=encodeURI(u.toString(!0)),s?.allowContributedOpeners){const f=typeof s?.allowContributedOpeners=="string"?s?.allowContributedOpeners:void 0;for(const m of this._externalOpeners)if(yield m.openExternal(h,{sourceUri:l,preferredOpenerId:f},ti.None))return!0}return this._defaultExternalOpener.openExternal(h,{sourceUri:l},ti.None)})}dispose(){this._validators.clear()}};y7=Sx([VC(0,Mi),VC(1,es)],y7);var Sn;(function(d){d[d.Hint=1]="Hint",d[d.Info=2]="Info",d[d.Warning=4]="Warning",d[d.Error=8]="Error"})(Sn||(Sn={}));(function(d){function t(f,m){return m-f}d.compare=t;const s=Object.create(null);s[d.Error]=E("sev.error","Error"),s[d.Warning]=E("sev.warning","Warning"),s[d.Info]=E("sev.info","Info");function l(f){return s[f]||""}d.toString=l;function u(f){switch(f){case kn.Error:return d.Error;case kn.Warning:return d.Warning;case kn.Info:return d.Info;case kn.Ignore:return d.Hint}}d.fromSeverity=u;function h(f){switch(f){case d.Error:return kn.Error;case d.Warning:return kn.Warning;case d.Info:return kn.Info;case d.Hint:return kn.Ignore}}d.toSeverity=h})(Sn||(Sn={}));var HC;(function(d){const t="";function s(u){return l(u,!0)}d.makeKey=s;function l(u,h){let f=[t];return u.source?f.push(u.source.replace("\xA6","\\\xA6")):f.push(t),u.code?typeof u.code=="string"?f.push(u.code.replace("\xA6","\\\xA6")):f.push(u.code.value.replace("\xA6","\\\xA6")):f.push(t),u.severity!==void 0&&u.severity!==null?f.push(Sn.toString(u.severity)):f.push(t),u.message&&h?f.push(u.message.replace("\xA6","\\\xA6")):f.push(t),u.startLineNumber!==void 0&&u.startLineNumber!==null?f.push(u.startLineNumber.toString()):f.push(t),u.startColumn!==void 0&&u.startColumn!==null?f.push(u.startColumn.toString()):f.push(t),u.endLineNumber!==void 0&&u.endLineNumber!==null?f.push(u.endLineNumber.toString()):f.push(t),u.endColumn!==void 0&&u.endColumn!==null?f.push(u.endColumn.toString()):f.push(t),f.push(t),f.join("\xA6")}d.makeKeyOptionalMessage=l})(HC||(HC={}));const Pc=hi("markerService");var cAe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},QO=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class uAe extends Se{constructor(t){super(),this.model=t,this._markersData=new Map,this._register($t(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,s){const l=[...this._markersData.keys()];this._markersData.clear();const u=this.model.deltaDecorations(l,s);for(let h=0;h<u.length;h++)this._markersData.set(u[h],t[h]);return l.length!==0||u.length!==0}getMarker(t){return this._markersData.get(t.id)}}let L7=class extends Se{constructor(t,s){super(),this._markerService=s,this._onDidChangeMarker=this._register(new he),this._markerDecorations=new jr,t.getModels().forEach(l=>this._onModelAdded(l)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,s){const l=this._markerDecorations.get(t);return l&&l.getMarker(s)||null}_handleMarkerChange(t){t.forEach(s=>{const l=this._markerDecorations.get(s);l&&this._updateDecorations(l)})}_onModelAdded(t){const s=new uAe(t);this._markerDecorations.set(t.uri,s),this._updateDecorations(s)}_onModelRemoved(t){const s=this._markerDecorations.get(t.uri);s&&(s.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===zt.inMemory||t.uri.scheme===zt.internal||t.uri.scheme===zt.vscode)&&this._markerService&&this._markerService.read({resource:t.uri}).map(l=>l.owner).forEach(l=>this._markerService.remove(l,[t.uri]))}_updateDecorations(t){const s=this._markerService.read({resource:t.model.uri,take:500}),l=s.map(u=>({range:this._createDecorationRange(t.model,u),options:this._createDecorationOption(u)}));t.update(s,l)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,s){let l=$.lift(s);if(s.severity===Sn.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(l=l.setEndPosition(l.startLineNumber,l.startColumn+2)),l=t.validateRange(l),l.isEmpty()){const u=t.getLineLastNonWhitespaceColumn(l.startLineNumber)||t.getLineMaxColumn(l.startLineNumber);if(u===1||l.endColumn>=u)return l;const h=t.getWordAtPosition(l.getStartPosition());h&&(l=new $(l.startLineNumber,h.startColumn,l.endLineNumber,h.endColumn))}else if(s.endColumn===Number.MAX_VALUE&&s.startColumn===1&&l.startLineNumber===l.endLineNumber){let u=t.getLineFirstNonWhitespaceColumn(s.startLineNumber);u<l.endColumn&&(l=new $(l.startLineNumber,u,l.endLineNumber,l.endColumn),s.startColumn=u)}return l}_createDecorationOption(t){let s,l,u,h,f;switch(t.severity){case Sn.Hint:this._hasMarkerTag(t,2)?s=void 0:this._hasMarkerTag(t,1)?s="squiggly-unnecessary":s="squiggly-hint",u=0;break;case Sn.Warning:s="squiggly-warning",l=Wn(rde),u=20,f={color:Wn(nhe),position:Rl.Inline};break;case Sn.Info:s="squiggly-info",l=Wn(ode),u=10;break;case Sn.Error:default:s="squiggly-error",l=Wn(sde),u=30,f={color:Wn(ihe),position:Rl.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(h="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(h="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:l,position:Bl.Right},minimap:f,zIndex:u,inlineClassName:h}}_hasMarkerTag(t,s){return t.tags?t.tags.indexOf(s)>=0:!1}};L7=cAe([QO(0,Ln),QO(1,Pc)],L7);class xA{constructor(t,s){this._startLineNumber=t,this._tokens=s,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(t,s){return new xA(t,new UC(s))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(t){return this._startLineNumber<=t&&t<=this._endLineNumber?this._tokens.getLineTokens(t-this._startLineNumber):null}getRange(){const t=this._tokens.getRange();return t&&new $(this._startLineNumber+t.startLineNumber,t.startColumn,this._startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const s=t.startLineNumber-this._startLineNumber,l=t.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(s,t.startColumn-1,l,t.endColumn-1),this._updateEndLineNumber()}split(t){const s=t.startLineNumber-this._startLineNumber,l=t.endLineNumber-this._startLineNumber,[u,h,f]=this._tokens.split(s,t.startColumn-1,l,t.endColumn-1);return[new xA(this._startLineNumber,u),new xA(this._startLineNumber+f,h)]}applyEdit(t,s){const[l,u,h]=$d(s);this.acceptEdit(t,l,u,h,s.length>0?s.charCodeAt(0):0)}acceptEdit(t,s,l,u,h){this._acceptDeleteRange(t),this._acceptInsertText(new me(t.startLineNumber,t.startColumn),s,l,u,h),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const s=t.startLineNumber-this._startLineNumber,l=t.endLineNumber-this._startLineNumber;if(l<0){const h=l-s;this._startLineNumber-=h;return}const u=this._tokens.getMaxDeltaLine();if(!(s>=u+1)){if(s<0&&l>=u+1){this._startLineNumber=0,this._tokens.clear();return}if(s<0){const h=-s;this._startLineNumber-=h,this._tokens.acceptDeleteRange(t.startColumn-1,0,0,l,t.endColumn-1)}else this._tokens.acceptDeleteRange(0,s,t.startColumn-1,l,t.endColumn-1)}}_acceptInsertText(t,s,l,u,h){if(s===0&&l===0)return;const f=t.lineNumber-this._startLineNumber;if(f<0){this._startLineNumber+=s;return}const m=this._tokens.getMaxDeltaLine();f>=m+1||this._tokens.acceptInsertText(f,t.column-1,s,l,u,h)}}class UC{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){const s=[];for(let l=0;l<this._tokenCount;l++)s.push(`(${this._getDeltaLine(l)+t},${this._getStartCharacter(l)}-${this._getEndCharacter(l)})`);return`[${s.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const s=this._getStartCharacter(0),l=this._getDeltaLine(t-1),u=this._getEndCharacter(t-1);return new $(0,s+1,l,u+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let s=0,l=this._getTokenCount()-1;for(;s<l;){const u=s+Math.floor((l-s)/2),h=this._getDeltaLine(u);if(h<t)s=u+1;else if(h>t)l=u-1;else{let f=u;for(;f>s&&this._getDeltaLine(f-1)===t;)f--;let m=u;for(;m<l&&this._getDeltaLine(m+1)===t;)m++;return new YO(this._tokens.subarray(4*f,4*m+4))}}return this._getDeltaLine(s)===t?new YO(this._tokens.subarray(4*s,4*s+4)):null}clear(){this._tokenCount=0}removeTokens(t,s,l,u){const h=this._tokens,f=this._tokenCount;let m=0,A=!1,C=0;for(let w=0;w<f;w++){const k=4*w,D=h[k],I=h[k+1],N=h[k+2],R=h[k+3];if((D>t||D===t&&N>=s)&&(D<l||D===l&&I<=u))A=!0;else{if(m===0&&(C=D),A){const O=4*m;h[O]=D-C,h[O+1]=I,h[O+2]=N,h[O+3]=R}m++}}return this._tokenCount=m,C}split(t,s,l,u){const h=this._tokens,f=this._tokenCount,m=[],A=[];let C=m,w=0,k=0;for(let D=0;D<f;D++){const I=4*D,N=h[I],R=h[I+1],O=h[I+2],W=h[I+3];if(N>t||N===t&&O>=s){if(N<l||N===l&&R<=u)continue;C!==A&&(C=A,w=0,k=N)}C[w++]=N-k,C[w++]=R,C[w++]=O,C[w++]=W}return[new UC(new Uint32Array(m)),new UC(new Uint32Array(A)),k]}acceptDeleteRange(t,s,l,u,h){const f=this._tokens,m=this._tokenCount,A=u-s;let C=0,w=!1;for(let k=0;k<m;k++){const D=4*k;let I=f[D],N=f[D+1],R=f[D+2];const O=f[D+3];if(I<s||I===s&&R<=l){C++;continue}else if(I===s&&N<l)I===u&&R>h?R-=h-l:R=l;else if(I===s&&N===l)if(I===u&&R>h)R-=h-l;else{w=!0;continue}else if(I<u||I===u&&N<h)if(I===u&&R>h)I===s?(N=l,R=N+(R-h)):(N=0,R=N+(R-h));else{w=!0;continue}else if(I>u){if(A===0&&!w){C=m;break}I-=A}else if(I===u&&N>=h)t&&I===0&&(N+=t,R+=t),I-=A,N-=h-l,R-=h-l;else throw new Error("Not possible!");const W=4*C;f[W]=I,f[W+1]=N,f[W+2]=R,f[W+3]=O,C++}this._tokenCount=C}acceptInsertText(t,s,l,u,h,f){const m=l===0&&u===1&&(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122),A=this._tokens,C=this._tokenCount;for(let w=0;w<C;w++){const k=4*w;let D=A[k],I=A[k+1],N=A[k+2];if(!(D<t||D===t&&N<s)){if(D===t&&N===s)if(m)N+=1;else continue;else if(D===t&&I<s&&s<N)l===0?N+=u:N=s;else{if(D===t&&I===s&&m)continue;if(D===t)if(D+=l,l===0)I+=u,N+=u;else{const R=N-I;I=h+(I-s),N=I+R}else D+=l}A[k]=D,A[k+1]=I,A[k+2]=N}}}}class YO{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}var hAe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},o9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let D7=class{constructor(t,s,l,u){this._legend=t,this._themeService=s,this._languageService=l,this._logService=u,this._hashTable=new uc,this._hasWarnedOverlappingTokens=!1}getMetadata(t,s,l){const u=this._languageService.languageIdCodec.encodeLanguageId(l),h=this._hashTable.get(t,s,u);let f;if(h)f=h.metadata,this._logService.getLevel()===$a.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${t} / ${s}: foreground ${Ar.getForeground(f)}, fontStyle ${Ar.getFontStyle(f).toString(2)}`);else{let m=this._legend.tokenTypes[t];const A=[];if(m){let C=s;for(let k=0;C>0&&k<this._legend.tokenModifiers.length;k++)C&1&&A.push(this._legend.tokenModifiers[k]),C=C>>1;C>0&&this._logService.getLevel()===$a.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${s.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),A.push("not-in-legend"));const w=this._themeService.getColorTheme().getTokenStyleMetadata(m,A,l);typeof w>"u"?f=2147483647:(f=0,typeof w.italic<"u"&&(f|=(w.italic?1:0)<<10|1),typeof w.bold<"u"&&(f|=(w.bold?2:0)<<10|2),typeof w.underline<"u"&&(f|=(w.underline?4:0)<<10|4),typeof w.strikethrough<"u"&&(f|=(w.strikethrough?8:0)<<10|8),w.foreground&&(f|=w.foreground<<14|16),f===0&&(f=2147483647))}else this._logService.getLevel()===$a.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${t} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),f=2147483647,m="not-in-legend";this._hashTable.add(t,s,u,f),this._logService.getLevel()===$a.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${t} (${m}) / ${s} (${A.join(" ")}): foreground ${Ar.getForeground(f)}, fontStyle ${Ar.getFontStyle(f).toString(2)}`)}return f}warnOverlappingSemanticTokens(t,s){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${s}`))}};D7=hAe([o9(1,dn),o9(2,yn),o9(3,ka)],D7);function PU(d,t,s){const l=d.data,u=d.data.length/5|0,h=Math.max(Math.ceil(u/1024),400),f=[];let m=0,A=1,C=0;for(;m<u;){const w=m;let k=Math.min(w+h,u);if(k<u){let z=k;for(;z-1>w&&l[5*z]===0;)z--;if(z-1===w){let G=k;for(;G+1<u&&l[5*G]===0;)G++;k=G}else k=z}let D=new Uint32Array((k-w)*4),I=0,N=0,R=0,O=0,W=0;for(;m<k;){const z=5*m,G=l[z],K=l[z+1],q=A+G|0,Y=G===0?C+K|0:K,J=l[z+2],ne=l[z+3],Ae=l[z+4],ge=t.getMetadata(ne,Ae,s);ge!==2147483647&&(N===0&&(N=q),R===q&&W>Y&&(t.warnOverlappingSemanticTokens(q,Y+1),O<Y?D[I-4+2]=Y:I-=4),D[I]=q-N,D[I+1]=Y,D[I+2]=Y+J,D[I+3]=ge,I+=4,R=q,O=Y,W=Y+J),A=q,C=Y,m++}I!==D.length&&(D=D.subarray(0,I));const B=xA.create(N,D);f.push(B)}return f}class dAe{constructor(t,s,l,u){this.tokenTypeIndex=t,this.tokenModifierSet=s,this.languageId=l,this.metadata=u,this.next=null}}class uc{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=uc._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<uc._SIZES.length?2/3*this._currentLength:0),this._elements=[],uc._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,s){for(let l=0;l<s;l++)t[l]=null}_hash2(t,s){return(t<<5)-t+s|0}_hashFunc(t,s,l){return this._hash2(this._hash2(t,s),l)%this._currentLength}get(t,s,l){const u=this._hashFunc(t,s,l);let h=this._elements[u];for(;h;){if(h.tokenTypeIndex===t&&h.tokenModifierSet===s&&h.languageId===l)return h;h=h.next}return null}add(t,s,l,u){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const h=this._elements;this._currentLengthIndex++,this._currentLength=uc._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<uc._SIZES.length?2/3*this._currentLength:0),this._elements=[],uc._nullOutEntries(this._elements,this._currentLength);for(const f of h){let m=f;for(;m;){const A=m.next;m.next=null,this._add(m),m=A}}}this._add(new dAe(t,s,l,u))}_add(t){const s=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[s],this._elements[s]=t}}uc._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];function fAe(d){for(let t=0,s=d.length;t<s;t+=4){const l=d[t+0],u=d[t+1],h=d[t+2],f=d[t+3];d[t+0]=f,d[t+1]=h,d[t+2]=u,d[t+3]=l}}function gAe(d){const t=new Uint8Array(d.buffer,d.byteOffset,d.length*4);return aW()||fAe(t),yw.wrap(t)}function OU(d){const t=new Uint32Array(mAe(d));let s=0;if(t[s++]=d.id,d.type==="full")t[s++]=1,t[s++]=d.data.length,t.set(d.data,s),s+=d.data.length;else{t[s++]=2,t[s++]=d.deltas.length;for(const l of d.deltas)t[s++]=l.start,t[s++]=l.deleteCount,l.data?(t[s++]=l.data.length,t.set(l.data,s),s+=l.data.length):t[s++]=0}return gAe(t)}function mAe(d){let t=0;if(t+=1+1,d.type==="full")t+=1+d.data.length;else{t+=1,t+=(1+1+1)*d.deltas.length;for(const s of d.deltas)s.data&&(t+=s.data.length)}return t}var eh=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function gv(d){return d&&!!d.data}function FU(d){return d&&Array.isArray(d.edits)}class pAe{constructor(t,s,l){this.provider=t,this.tokens=s,this.error=l}}function BU(d,t){return d.has(t)}function AAe(d,t){const s=d.orderedGroups(t);return s.length>0?s[0]:[]}function WU(d,t,s,l,u){return eh(this,void 0,void 0,function*(){const h=AAe(d,t),f=yield Promise.all(h.map(m=>eh(this,void 0,void 0,function*(){let A,C=null;try{A=yield m.provideDocumentSemanticTokens(t,m===s?l:null,u)}catch(w){C=w,A=null}return(!A||!gv(A)&&!FU(A))&&(A=null),new pAe(m,A,C)})));for(const m of f){if(m.error)throw m.error;if(m.tokens)return m}return f.length>0?f[0]:null})}function _Ae(d,t){const s=d.orderedGroups(t);return s.length>0?s[0]:null}class CAe{constructor(t,s){this.provider=t,this.tokens=s}}function wAe(d,t){return d.has(t)}function VU(d,t){const s=d.orderedGroups(t);return s.length>0?s[0]:[]}function yx(d,t,s,l){return eh(this,void 0,void 0,function*(){const u=VU(d,t),h=yield Promise.all(u.map(f=>eh(this,void 0,void 0,function*(){let m;try{m=yield f.provideDocumentRangeSemanticTokens(t,s,l)}catch(A){Ms(A),m=null}return(!m||!gv(m))&&(m=null),new CAe(f,m)})));for(const f of h)if(f.tokens)return f;return h.length>0?h[0]:null})}pi.registerCommand("_provideDocumentSemanticTokensLegend",(d,...t)=>eh(void 0,void 0,void 0,function*(){const[s]=t;Zi(s instanceof Lt);const l=d.get(Ln).getModel(s);if(!l)return;const{documentSemanticTokensProvider:u}=d.get(ut),h=_Ae(u,l);return h?h[0].getLegend():d.get(es).executeCommand("_provideDocumentRangeSemanticTokensLegend",s)}));pi.registerCommand("_provideDocumentSemanticTokens",(d,...t)=>eh(void 0,void 0,void 0,function*(){const[s]=t;Zi(s instanceof Lt);const l=d.get(Ln).getModel(s);if(!l)return;const{documentSemanticTokensProvider:u}=d.get(ut);if(!BU(u,l))return d.get(es).executeCommand("_provideDocumentRangeSemanticTokens",s,l.getFullModelRange());const h=yield WU(u,l,null,null,ti.None);if(!h)return;const{provider:f,tokens:m}=h;if(!m||!gv(m))return;const A=OU({id:0,type:"full",data:m.data});return m.resultId&&f.releaseDocumentSemanticTokens(m.resultId),A}));pi.registerCommand("_provideDocumentRangeSemanticTokensLegend",(d,...t)=>eh(void 0,void 0,void 0,function*(){const[s,l]=t;Zi(s instanceof Lt);const u=d.get(Ln).getModel(s);if(!u)return;const{documentRangeSemanticTokensProvider:h}=d.get(ut),f=VU(h,u);if(f.length===0)return;if(f.length===1)return f[0].getLegend();if(!l||!$.isIRange(l))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),f[0].getLegend();const m=yield yx(h,u,$.lift(l),ti.None);if(!!m)return m.provider.getLegend()}));pi.registerCommand("_provideDocumentRangeSemanticTokens",(d,...t)=>eh(void 0,void 0,void 0,function*(){const[s,l]=t;Zi(s instanceof Lt),Zi($.isIRange(l));const u=d.get(Ln).getModel(s);if(!u)return;const{documentRangeSemanticTokensProvider:h}=d.get(ut),f=yield yx(h,u,$.lift(l),ti.None);if(!(!f||!f.tokens))return OU({id:0,type:"full",data:f.tokens.data})}));var Lx=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},zr=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};function su(d){return d.toString()}function $O(d){const t=new Ew,s=d.createSnapshot();let l;for(;l=s.read();)t.update(l);return t.digest()}class vAe{constructor(t,s,l){this._modelEventListeners=new je,this.model=t,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(t.onWillDispose(()=>s(t))),this._modelEventListeners.add(t.onDidChangeLanguage(u=>l(t,u)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(t){this._disposeLanguageSelection(),this._languageSelection=t,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(t.languageId)),this.model.setMode(t.languageId)}}const kAe=Cr||Jt?1:2;class bAe{constructor(t,s,l,u,h,f,m,A){this.uri=t,this.initialUndoRedoSnapshot=s,this.time=l,this.sharesUndoRedoStack=u,this.heapSize=h,this.sha1=f,this.versionId=m,this.alternativeVersionId=A}}let zC=class Xp extends Se{constructor(t,s,l,u,h,f,m,A,C){super(),this._configurationService=t,this._resourcePropertiesService=s,this._themeService=l,this._logService=u,this._undoRedoService=h,this._languageService=f,this._languageConfigurationService=m,this._languageFeatureDebounceService=A,this._onModelAdded=this._register(new he),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new he),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new he),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new SAe(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new x7(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,C))}static _readModelOptions(t,s){var l;let u=Mr.tabSize;if(t.editor&&typeof t.editor.tabSize<"u"){const I=parseInt(t.editor.tabSize,10);isNaN(I)||(u=I),u<1&&(u=1)}let h=u;if(t.editor&&typeof t.editor.indentSize<"u"&&t.editor.indentSize!=="tabSize"){const I=parseInt(t.editor.indentSize,10);isNaN(I)||(h=I),h<1&&(h=1)}let f=Mr.insertSpaces;t.editor&&typeof t.editor.insertSpaces<"u"&&(f=t.editor.insertSpaces==="false"?!1:Boolean(t.editor.insertSpaces));let m=kAe;const A=t.eol;A===`\r
`?m=2:A===`
`&&(m=1);let C=Mr.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace<"u"&&(C=t.editor.trimAutoWhitespace==="false"?!1:Boolean(t.editor.trimAutoWhitespace));let w=Mr.detectIndentation;t.editor&&typeof t.editor.detectIndentation<"u"&&(w=t.editor.detectIndentation==="false"?!1:Boolean(t.editor.detectIndentation));let k=Mr.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations<"u"&&(k=t.editor.largeFileOptimizations==="false"?!1:Boolean(t.editor.largeFileOptimizations));let D=Mr.bracketPairColorizationOptions;return((l=t.editor)===null||l===void 0?void 0:l.bracketPairColorization)&&typeof t.editor.bracketPairColorization=="object"&&(D={enabled:!!t.editor.bracketPairColorization.enabled}),{isForSimpleWidget:s,tabSize:u,indentSize:h,insertSpaces:f,detectIndentation:w,defaultEOL:m,trimAutoWhitespace:C,largeFileOptimizations:k,bracketPairColorizationOptions:D}}_getEOL(t,s){if(t)return this._resourcePropertiesService.getEOL(t,s);const l=this._configurationService.getValue("files.eol",{overrideIdentifier:s});return l&&typeof l=="string"&&l!=="auto"?l:yl===3||yl===2?`
`:`\r
`}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return typeof t=="boolean"?t:!0}getCreationOptions(t,s,l){let u=this._modelCreationOptionsByLanguageAndResource[t+s];if(!u){const h=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:s}),f=this._getEOL(s,t);u=Xp._readModelOptions({editor:h,eol:f},l),this._modelCreationOptionsByLanguageAndResource[t+s]=u}return u}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const s=Object.keys(this._models);for(let l=0,u=s.length;l<u;l++){const h=s[l],f=this._models[h],m=f.model.getLanguageId(),A=f.model.uri,C=t[m+A],w=this.getCreationOptions(m,A,f.model.isForSimpleWidget);Xp._setModelOptionsForModel(f.model,w,C)}}static _setModelOptionsForModel(t,s,l){l&&l.defaultEOL!==s.defaultEOL&&t.getLineCount()===1&&t.setEOL(s.defaultEOL===1?0:1),!(l&&l.detectIndentation===s.detectIndentation&&l.insertSpaces===s.insertSpaces&&l.tabSize===s.tabSize&&l.indentSize===s.indentSize&&l.trimAutoWhitespace===s.trimAutoWhitespace&&Tl(l.bracketPairColorizationOptions,s.bracketPairColorizationOptions))&&(s.detectIndentation?(t.detectIndentation(s.insertSpaces,s.tabSize),t.updateOptions({trimAutoWhitespace:s.trimAutoWhitespace,bracketColorizationOptions:s.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:s.insertSpaces,tabSize:s.tabSize,indentSize:s.indentSize,trimAutoWhitespace:s.trimAutoWhitespace,bracketColorizationOptions:s.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(su(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const s=this._disposedModels.get(su(t));return s&&(this._disposedModelsHeapSize-=s.heapSize),this._disposedModels.delete(su(t)),s}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const s=[];for(this._disposedModels.forEach(l=>{l.sharesUndoRedoStack||s.push(l)}),s.sort((l,u)=>l.time-u.time);s.length>0&&this._disposedModelsHeapSize>t;){const l=s.shift();this._removeDisposedModel(l.uri),l.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(l.initialUndoRedoSnapshot)}}}_createModelData(t,s,l,u){const h=this.getCreationOptions(s,l,u),f=new Ec(t,s,h,l,this._undoRedoService,this._languageService,this._languageConfigurationService);if(l&&this._disposedModels.has(su(l))){const C=this._removeDisposedModel(l),w=this._undoRedoService.getElements(l),k=$O(f)===C.sha1;if(k||C.sharesUndoRedoStack){for(const D of w.past)ac(D)&&D.matchesResource(l)&&D.setModel(f);for(const D of w.future)ac(D)&&D.matchesResource(l)&&D.setModel(f);this._undoRedoService.setElementsValidFlag(l,!0,D=>ac(D)&&D.matchesResource(l)),k&&(f._overwriteVersionId(C.versionId),f._overwriteAlternativeVersionId(C.alternativeVersionId),f._overwriteInitialUndoRedoSnapshot(C.initialUndoRedoSnapshot))}else C.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(C.initialUndoRedoSnapshot)}const m=su(f.uri);if(this._models[m])throw new Error("ModelService: Cannot add model because it already exists!");const A=new vAe(f,C=>this._onWillDispose(C),(C,w)=>this._onDidChangeLanguage(C,w));return this._models[m]=A,A}createModel(t,s,l,u=!1){let h;return s?(h=this._createModelData(t,s.languageId,l,u),this.setMode(h.model,s)):h=this._createModelData(t,I0,l,u),this._onModelAdded.fire(h.model),h.model}setMode(t,s){if(!s)return;const l=this._models[su(t.uri)];!l||l.setLanguage(s)}getModels(){const t=[],s=Object.keys(this._models);for(let l=0,u=s.length;l<u;l++){const h=s[l];t.push(this._models[h].model)}return t}getModel(t){const s=su(t),l=this._models[s];return l?l.model:null}getSemanticTokensProviderStyling(t){return this._semanticStyling.get(t)}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===zt.file||t.scheme===zt.vscodeRemote||t.scheme===zt.userData||t.scheme===zt.vscodeNotebookCell||t.scheme==="fake-fs"}_onWillDispose(t){const s=su(t.uri),l=this._models[s],u=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let h=!1,f=0;if(u||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const A=this._undoRedoService.getElements(t.uri);if(A.past.length>0||A.future.length>0){for(const C of A.past)ac(C)&&C.matchesResource(t.uri)&&(h=!0,f+=C.heapSize(t.uri),C.setModel(t.uri));for(const C of A.future)ac(C)&&C.matchesResource(t.uri)&&(h=!0,f+=C.heapSize(t.uri),C.setModel(t.uri))}}const m=Xp.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(h)if(!u&&f>m){const A=l.model.getInitialUndoRedoSnapshot();A!==null&&this._undoRedoService.restoreSnapshot(A)}else this._ensureDisposedModelsHeapSize(m-f),this._undoRedoService.setElementsValidFlag(t.uri,!1,A=>ac(A)&&A.matchesResource(t.uri)),this._insertDisposedModel(new bAe(t.uri,l.model.getInitialUndoRedoSnapshot(),Date.now(),u,f,$O(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!u){const A=l.model.getInitialUndoRedoSnapshot();A!==null&&this._undoRedoService.restoreSnapshot(A)}delete this._models[s],l.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,s){const l=s.oldLanguage,u=t.getLanguageId(),h=this.getCreationOptions(l,t.uri,t.isForSimpleWidget),f=this.getCreationOptions(u,t.uri,t.isForSimpleWidget);Xp._setModelOptionsForModel(t,f,h),this._onModelModeChanged.fire({model:t,oldLanguageId:l})}};zC.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;zC=Lx([zr(0,Yi),zr(1,lV),zr(2,dn),zr(3,ka),zr(4,rv),zr(5,yn),zr(6,vr),zr(7,jl),zr(8,ut)],zC);const Dx="editor.semanticHighlighting";function I7(d,t,s){var l;const u=(l=s.getValue(Dx,{overrideIdentifier:d.getLanguageId(),resource:d.uri}))===null||l===void 0?void 0:l.enabled;return typeof u=="boolean"?u:t.getColorTheme().semanticHighlighting}let x7=class extends Se{constructor(t,s,l,u,h,f){super(),this._watchers=Object.create(null),this._semanticStyling=t;const m=w=>{this._watchers[w.uri.toString()]=new b4(w,this._semanticStyling,l,h,f)},A=(w,k)=>{k.dispose(),delete this._watchers[w.uri.toString()]},C=()=>{for(let w of s.getModels()){const k=this._watchers[w.uri.toString()];I7(w,l,u)?k||m(w):k&&A(w,k)}};this._register(s.onModelAdded(w=>{I7(w,l,u)&&m(w)})),this._register(s.onModelRemoved(w=>{const k=this._watchers[w.uri.toString()];k&&A(w,k)})),this._register(u.onDidChangeConfiguration(w=>{w.affectsConfiguration(Dx)&&C()})),this._register(l.onDidColorThemeChange(C))}};x7=Lx([zr(1,Ln),zr(2,dn),zr(3,Yi),zr(4,jl),zr(5,ut)],x7);class SAe extends Se{constructor(t,s,l){super(),this._themeService=t,this._languageService=s,this._logService=l,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(t){return this._caches.has(t)||this._caches.set(t,new D7(t.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(t)}}class yAe{constructor(t,s,l){this.provider=t,this.resultId=s,this.data=l}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let b4=class qh extends Se{constructor(t,s,l,u,h){super(),this._isDisposed=!1,this._model=t,this._semanticStyling=s,this._provider=h.documentSemanticTokensProvider,this._debounceInformation=u.for(this._provider,"DocumentSemanticTokens",{min:qh.REQUEST_MIN_DELAY,max:qh.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new zi(()=>this._fetchDocumentSemanticTokensNow(),qh.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const f=()=>{mi(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const m of this._provider.all(t))typeof m.onDidChange=="function"&&this._documentProvidersChangeListeners.push(m.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};f(),this._register(this._provider.onDidChange(()=>{f(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(l.onDidColorThemeChange(m=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!BU(this._provider,this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const t=new tr,s=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,l=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,u=WU(this._provider,this._model,s,l,t.token);this._currentDocumentRequestCancellationTokenSource=t;const h=[],f=this._model.onDidChangeContent(A=>{h.push(A)}),m=new mo(!1);u.then(A=>{if(this._debounceInformation.update(this._model,m.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,f.dispose(),!A)this._setDocumentSemanticTokens(null,null,null,h);else{const{provider:C,tokens:w}=A,k=this._semanticStyling.get(C);this._setDocumentSemanticTokens(C,w||null,k,h)}},A=>{A&&(y0(A)||typeof A.message=="string"&&A.message.indexOf("busy")!==-1)||Bt(A),this._currentDocumentRequestCancellationTokenSource=null,f.dispose(),h.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(t,s,l,u,h){for(let f=0;f<h;f++)l[u+f]=t[s+f]}_setDocumentSemanticTokens(t,s,l,u){const h=this._currentDocumentResponse,f=()=>{u.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){t&&s&&t.releaseDocumentSemanticTokens(s.resultId);return}if(!t||!l){this._model.setSemanticTokens(null,!1);return}if(!s){this._model.setSemanticTokens(null,!0),f();return}if(FU(s)){if(!h){this._model.setSemanticTokens(null,!0);return}if(s.edits.length===0)s={resultId:s.resultId,data:h.data};else{let m=0;for(const D of s.edits)m+=(D.data?D.data.length:0)-D.deleteCount;const A=h.data,C=new Uint32Array(A.length+m);let w=A.length,k=C.length;for(let D=s.edits.length-1;D>=0;D--){const I=s.edits[D],N=w-(I.start+I.deleteCount);N>0&&(qh._copy(A,w-N,C,k-N,N),k-=N),I.data&&(qh._copy(I.data,0,C,k-I.data.length,I.data.length),k-=I.data.length),w=I.start}w>0&&qh._copy(A,0,C,0,w),s={resultId:s.resultId,data:C}}}if(gv(s)){this._currentDocumentResponse=new yAe(t,s.resultId,s.data);const m=PU(s,l,this._model.getLanguageId());if(u.length>0)for(const A of u)for(const C of m)for(const w of A.changes)C.applyEdit(w.range,w.text);this._model.setSemanticTokens(m,!0)}else this._model.setSemanticTokens(null,!0);f()}};b4.REQUEST_MIN_DELAY=300;b4.REQUEST_MAX_DELAY=2e3;b4=Lx([zr(2,dn),zr(3,jl),zr(4,ut)],b4);const LAe=new RegExp(`(\\\\)?\\$\\((${Gr.iconNameExpression}(?:${Gr.iconModifierExpression})?)\\)`,"g");function Nd(d){const t=new Array;let s,l=0,u=0;for(;(s=LAe.exec(d))!==null;){u=s.index||0,t.push(d.substring(l,u)),l=(s.index||0)+s[0].length;const[,h,f]=s;t.push(h?`$(${f})`:DAe({id:f}))}return l<d.length&&t.push(d.substring(l)),t}function DAe(d){const t=Ue("span");return t.classList.add(...Gr.asClassNameArray(d)),t}const IAe={buttonBackground:ke.fromHex("#0E639C"),buttonHoverBackground:ke.fromHex("#006BB3"),buttonForeground:ke.white};class KO extends Se{constructor(t,s){super(),this._onDidClick=this._register(new he),this.options=s||Object.create(null),S0(this.options,IAe,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(Wi.addTarget(this._element)),[vt.CLICK,nn.Tap].forEach(l=>{this._register(ze(this._element,l,u=>{if(!this.enabled){Ri.stop(u);return}this._onDidClick.fire(u)}))}),this._register(ze(this._element,vt.KEY_DOWN,l=>{const u=new hn(l);let h=!1;this.enabled&&(u.equals(3)||u.equals(10))?(this._onDidClick.fire(l),h=!0):u.equals(9)&&(this._element.blur(),h=!0),h&&Ri.stop(u,!0)})),this._register(ze(this._element,vt.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(ze(this._element,vt.MOUSE_OUT,l=>{this.applyStyles()})),this.focusTracker=this._register(Bg(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,s;this.options.secondary?(s=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(s=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const l=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=s,this._element.style.backgroundColor=t,this._element.style.borderWidth=l?"1px":"",this._element.style.borderStyle=l?"solid":"",this._element.style.borderColor=l}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?ju(this._element,...Nd(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const xAe={badgeBackground:ke.fromHex("#4D4D4D"),badgeForeground:ke.fromHex("#FFFFFF")};class E7{constructor(t,s){this.count=0,this.options=s||Object.create(null),S0(this.options,xAe,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Re(t,Ue(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(t){this.count=t,this.render()}setTitleFormat(t){this.titleFormat=t,this.render()}render(){this.element.textContent=xl(this.countFormat,this.count),this.element.title=xl(this.titleFormat,this.count),this.applyStyles()}style(t){this.badgeBackground=t.badgeBackground,this.badgeForeground=t.badgeForeground,this.badgeBorder=t.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const t=this.badgeBackground?this.badgeBackground.toString():"",s=this.badgeForeground?this.badgeForeground.toString():"",l=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=s,this.element.style.borderWidth=l?"1px":"",this.element.style.borderStyle=l?"solid":"",this.element.style.borderColor=l}}}const XO="done",JO="active",l9="infinite",a9="infinite-long-running",qO="discrete",EAe={progressBarBackground:ke.fromHex("#0E70C0")};class mv extends Se{constructor(t,s){super(),this.options=s||Object.create(null),S0(this.options,EAe,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new zi(()=>nl(this.element),0)),this.longRunningScheduler=this._register(new zi(()=>this.infiniteLongRunning(),mv.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(JO,l9,a9,qO),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(XO),this.element.classList.contains(l9)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(qO,XO,a9),this.element.classList.add(JO,l9),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(a9)}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}mv.LONG_RUNNING_INFINITE_THRESHOLD=1e4;class Ix{constructor(t){this._prefix=t,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const HU=new Ix("id#");const c9={},NAe=new Ix("quick-input-button-icon-");function N7(d){if(!d)return;let t;const s=d.dark.toString();return c9[s]?t=c9[s]:(t=NAe.nextId(),Dy(`.${t}`,`background-image: ${Ud(d.light||d.dark)}`),Dy(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${Ud(d.dark)}`),c9[s]=t),t}const TAe={ctrlCmd:!1,alt:!1};var S4;(function(d){d[d.Blur=1]="Blur",d[d.Gesture=2]="Gesture",d[d.Other=3]="Other"})(S4||(S4={}));var Ha;(function(d){d[d.NONE=0]="NONE",d[d.FIRST=1]="FIRST",d[d.SECOND=2]="SECOND",d[d.LAST=3]="LAST"})(Ha||(Ha={}));function RAe(d,t={}){const s=xx(t);return s.textContent=d,s}function UU(d,t={}){const s=xx(t);return zU(s,PAe(d,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),s}function xx(d){const t=d.inline?"span":"div",s=document.createElement(t);return d.className&&(s.className=d.className),s}class MAe{constructor(t){this.source=t,this.index=0}eos(){return this.index>=this.source.length}next(){const t=this.peek();return this.advance(),t}peek(){return this.source[this.index]}advance(){this.index++}}function zU(d,t,s,l){let u;if(t.type===2)u=document.createTextNode(t.content||"");else if(t.type===3)u=document.createElement("b");else if(t.type===4)u=document.createElement("i");else if(t.type===7&&l)u=document.createElement("code");else if(t.type===5&&s){const h=document.createElement("a");s.disposables.add(zs(h,"click",f=>{s.callback(String(t.index),f)})),u=h}else t.type===8?u=document.createElement("br"):t.type===1&&(u=d);u&&d!==u&&d.appendChild(u),u&&Array.isArray(t.children)&&t.children.forEach(h=>{zU(u,h,s,l)})}function PAe(d,t){const s={type:1,children:[]};let l=0,u=s;const h=[],f=new MAe(d);for(;!f.eos();){let m=f.next();const A=m==="\\"&&T7(f.peek(),t)!==0;if(A&&(m=f.next()),!A&&OAe(m,t)&&m===f.peek()){f.advance(),u.type===2&&(u=h.pop());const C=T7(m,t);if(u.type===C||u.type===5&&C===6)u=h.pop();else{const w={type:C,children:[]};C===5&&(w.index=l,l++),u.children.push(w),h.push(u),u=w}}else if(m===`
`)u.type===2&&(u=h.pop()),u.children.push({type:8});else if(u.type!==2){const C={type:2,content:m};u.children.push(C),h.push(u),u=C}else u.content+=m}return u.type===2&&(u=h.pop()),s}function OAe(d,t){return T7(d,t)!==0}function T7(d,t){switch(d){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}class FAe{constructor(t,s=0,l=t.length,u=s-1){this.items=t,this.start=s,this.end=l,this.index=u}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class BAe{constructor(t=[],s=10){this._initialize(t),this._limit=s,this._onChange()}getHistory(){return this._elements}add(t){this._history.delete(t),this._history.add(t),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(t){return this._history.has(t)}_onChange(){this._reduceToLimit();const t=this._elements;this._navigator=new FAe(t,0,t.length,t.length)}_reduceToLimit(){const t=this._elements;t.length>this._limit&&this._initialize(t.slice(t.length-this._limit))}_currentPosition(){const t=this._navigator.current();return t?this._elements.indexOf(t):-1}_initialize(t){this._history=new Set;for(const s of t)this._history.add(s)}get _elements(){const t=[];return this._history.forEach(s=>t.push(s)),t}}const Pp=Ue,WAe={inputBackground:ke.fromHex("#3C3C3C"),inputForeground:ke.fromHex("#CCCCCC"),inputValidationInfoBorder:ke.fromHex("#55AAFF"),inputValidationInfoBackground:ke.fromHex("#063B49"),inputValidationWarningBorder:ke.fromHex("#B89500"),inputValidationWarningBackground:ke.fromHex("#352A05"),inputValidationErrorBorder:ke.fromHex("#BE1100"),inputValidationErrorBackground:ke.fromHex("#5A1D1D")};class GU extends ba{constructor(t,s,l){var u;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new he),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new he),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=s,this.options=l||Object.create(null),S0(this.options,WAe,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(u=this.options.tooltip)!==null&&u!==void 0?u:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Re(t,Pp(".monaco-inputbox.idle"));let h=this.options.flexibleHeight?"textarea":"input",f=Re(this.element,Pp(".ibwrapper"));if(this.input=Re(f,Pp(h+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Re(f,Pp("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new LH(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Re(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(C=>this.input.scrollTop=C.scrollTop));const m=this._register(new Ui(document,"selectionchange")),A=ft.filter(m.event,()=>{const C=document.getSelection();return C?.anchorNode===f});this._register(A(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new w0(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Ly(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return ca(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let s=0;if(this.mirror){const l=parseFloat(this.mirror.style.paddingLeft||"")||0,u=parseFloat(this.mirror.style.paddingRight||"")||0;s=l+u}this.input.style.width=t-s+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.input.style.width=`calc(100% - ${t}px)`,this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const t=this.cachedContentHeight,s=this.cachedHeight,l=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:s}),this.scrollableElement.setScrollPosition({scrollTop:l})}showMessage(t,s){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const l=this.stylesForType(this.message.type);this.element.style.border=l.border?`1px solid ${l.border}`:"",(this.hasFocus()||s)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t?.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t,s=()=>t.style.width=ca(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:u=>{if(!this.message)return null;t=Re(u,Pp(".monaco-inputbox-container")),s();const h={inline:!0,className:"monaco-inputbox-message"},f=this.message.formatContent?UU(this.message.content,h):RAe(this.message.content,h);f.classList.add(this.classForType(this.message.type));const m=this.stylesForType(this.message.type);return f.style.backgroundColor=m.background?m.background.toString():"",f.style.color=m.foreground?m.foreground.toString():"",f.style.border=m.border?`1px solid ${m.border}`:"",Re(t,f),null},onHide:()=>{this.state="closed"},layout:s});let l;this.message.type===3?l=E("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?l=E("alertWarningMessage","Warning: {0}",this.message.content):l=E("alertInfoMessage","Info: {0}",this.message.content),qs(l),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,l=t.charCodeAt(t.length-1)===10?" ":"";(t+l).replace(/\u000c/g,"")?this.mirror.textContent=t+l:this.mirror.innerText="\xA0",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",s=this.inputForeground?this.inputForeground.toString():"",l=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=s,this.input.style.backgroundColor="inherit",this.input.style.color=s,this.element.style.borderWidth=l?"1px":"",this.element.style.borderStyle=l?"solid":"",this.element.style.borderColor=l}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=Ly(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const s=this.inputElement,l=s.selectionStart,u=s.selectionEnd,h=s.value;l!==null&&u!==null&&(this.value=h.substr(0,l)+t+h.substr(u),s.setSelectionRange(l+1,l+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class jU extends GU{constructor(t,s,l){const u=E({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),h=` or \u21C5 ${u}`,f=` (\u21C5 ${u})`;super(t,s,l),this.history=new BAe(l.history,100);const m=()=>{if(l.showHistoryHint&&l.showHistoryHint()&&!this.placeholder.endsWith(h)&&!this.placeholder.endsWith(f)&&this.history.getHistory().length){const A=this.placeholder.endsWith(")")?h:f,C=this.placeholder+A;l.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=C:this.setPlaceHolder(C)}};this.observer=new MutationObserver((A,C)=>{A.forEach(w=>{w.target.textContent||m()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>m()),this.onblur(this.input,()=>{const A=C=>{if(this.placeholder.endsWith(C)){const w=this.placeholder.slice(0,this.placeholder.length-C.length);return l.showPlaceholderOnFocus?this.placeholder=w:this.setPlaceHolder(w),!0}else return!1};A(f)||A(h)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,tC(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,tC(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const VAe=Ue;class HAe extends Se{constructor(t){super(),this.parent=t,this.onKeyDown=s=>ze(this.inputBox.inputElement,vt.KEY_DOWN,l=>{s(new hn(l))}),this.onMouseDown=s=>ze(this.inputBox.inputElement,vt.MOUSE_DOWN,l=>{s(new El(l))}),this.onDidChange=s=>this.inputBox.onDidChange(s),this.container=Re(this.parent,VAe(".quick-input-box")),this.inputBox=this._register(new GU(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,s){this.inputBox.inputElement.setAttribute(t,s)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===kn.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===kn.Info?1:t===kn.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===kn.Info?1:t===kn.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}class Jd{constructor(t,s){var l;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(l=s?.supportIcons)!==null&&l!==void 0?l:!1,this.domNode=Re(t,Ue("span.monaco-highlighted-label"))}get element(){return this.domNode}set(t,s=[],l="",u){t||(t=""),u&&(t=Jd.escapeNewLines(t,s)),!(this.didEverRender&&this.text===t&&this.title===l&&Tl(this.highlights,s))&&(this.text=t,this.title=l,this.highlights=s,this.render())}render(){const t=[];let s=0;for(const l of this.highlights){if(l.end===l.start)continue;if(s<l.start){const f=this.text.substring(s,l.start);t.push(Ue("span",void 0,...this.supportIcons?Nd(f):[f])),s=l.end}const u=this.text.substring(l.start,l.end),h=Ue("span.highlight",void 0,...this.supportIcons?Nd(u):[u]);l.extraClasses&&h.classList.add(...l.extraClasses),t.push(h),s=l.end}if(s<this.text.length){const l=this.text.substring(s);t.push(Ue("span",void 0,...this.supportIcons?Nd(l):[l]))}ju(this.domNode,...t),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(t,s){let l=0,u=0;return t.replace(/\r\n|\r|\n/g,(h,f)=>{u=h===`\r
`?-1:0,f+=l;for(const m of s)m.end<=f||(m.start>=f&&(m.start+=u),m.end>=f&&(m.end+=u));return l+=u,"\u23CE"})}}class rl{constructor(t="",s=!1){var l,u,h;if(this.value=t,typeof this.value!="string")throw Ja("value");typeof s=="boolean"?(this.isTrusted=s,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=s.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(u=s.supportThemeIcons)!==null&&u!==void 0?u:!1,this.supportHtml=(h=s.supportHtml)!==null&&h!==void 0?h:!1)}appendText(t,s=0){return this.value+=UAe(this.supportThemeIcons?$pe(t):t).replace(/([ \t]+)/g,(l,u)=>"&nbsp;".repeat(u.length)).replace(/\>/gm,"\\>").replace(/\n/g,s===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,s){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=s,this.value+="\n```\n",this}}function Xg(d){return ZU(d)?!d.value:Array.isArray(d)?d.every(Xg):!0}function ZU(d){return d instanceof rl?!0:d&&typeof d=="object"?typeof d.value=="string"&&(typeof d.isTrusted=="boolean"||d.isTrusted===void 0)&&(typeof d.supportThemeIcons=="boolean"||d.supportThemeIcons===void 0):!1}function UAe(d){return d.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function u9(d){return d&&d.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function zAe(d){const t=[],s=d.split("|").map(u=>u.trim());d=s[0];const l=s[1];if(l){const u=/height=(\d+)/.exec(l),h=/width=(\d+)/.exec(l),f=u?u[1]:"",m=h?h[1]:"",A=isFinite(parseInt(m)),C=isFinite(parseInt(f));A&&t.push(`width="${m}"`),C&&t.push(`height="${f}"`)}return{href:d,dimensions:t}}var R7=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function GAe(d,t){Ol(t)?d.title=kx(t):t?.markdownNotSupportedFallback?d.title=t.markdownNotSupportedFallback:d.removeAttribute("title")}class jAe{constructor(t,s,l){this.hoverDelegate=t,this.target=s,this.fadeInAnimation=l}update(t,s){var l;return R7(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let u;if(t===void 0||Ol(t)||t instanceof HTMLElement)u=t;else if(!F3(t.markdown))u=(l=t.markdown)!==null&&l!==void 0?l:t.markdownNotSupportedFallback;else{this._hoverWidget||this.show(E("iconLabel.loading","Loading..."),s),this._cancellationTokenSource=new tr;const h=this._cancellationTokenSource.token;if(u=yield t.markdown(h),u===void 0&&(u=t.markdownNotSupportedFallback),this.isDisposed||h.isCancellationRequested)return}this.show(u,s)})}show(t,s){const l=this._hoverWidget;if(this.hasContent(t)){const u={content:t,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!l};this._hoverWidget=this.hoverDelegate.showHover(u,s)}l?.dispose()}hasContent(t){return t?ZU(t)?!!t.value:!0:!1}get isDisposed(){var t;return(t=this._hoverWidget)===null||t===void 0?void 0:t.isDisposed}dispose(){var t,s;(t=this._hoverWidget)===null||t===void 0||t.dispose(),(s=this._cancellationTokenSource)===null||s===void 0||s.dispose(!0),this._cancellationTokenSource=void 0}}function ZAe(d,t,s){let l,u;const h=(w,k)=>{var D;w&&(u?.dispose(),u=void 0),k&&(l?.dispose(),l=void 0),(D=d.onDidHideHover)===null||D===void 0||D.call(d)},f=(w,k,D)=>new Wo(()=>R7(this,void 0,void 0,function*(){(!u||u.isDisposed)&&(u=new jAe(d,D||t,w>0),yield u.update(s,k))}),w),m=()=>{if(l)return;const w=new je,k=N=>h(!1,N.fromElement===t);w.add(ze(t,vt.MOUSE_LEAVE,k,!0));const D=()=>h(!0,!0);w.add(ze(t,vt.MOUSE_DOWN,D,!0));const I={targetElements:[t],dispose:()=>{}};if(d.placement===void 0||d.placement==="mouse"){const N=R=>I.x=R.x+10;w.add(ze(t,vt.MOUSE_MOVE,N,!0))}w.add(f(d.delay,!1,I)),l=w},A=ze(t,vt.MOUSE_OVER,m,!0);return{show:w=>{h(!1,!0),f(0,w)},hide:()=>{h(!0,!0)},update:w=>R7(this,void 0,void 0,function*(){s=w,yield u?.update(s)}),dispose:()=>{A.dispose(),h(!0,!0)}}}class h9{constructor(t){this._element=t}get element(){return this._element}set textContent(t){this.disposed||t===this._textContent||(this._textContent=t,this._element.textContent=t)}set className(t){this.disposed||t===this._className||(this._className=t,this._element.className=t)}set empty(t){this.disposed||t===this._empty||(this._empty=t,this._element.style.marginLeft=t?"0":"")}dispose(){this.disposed=!0}}class GC extends Se{constructor(t,s){super(),this.customHovers=new Map,this.domNode=this._register(new h9(Re(t,Ue(".monaco-icon-label")))),this.labelContainer=Re(this.domNode.element,Ue(".monaco-icon-label-container"));const l=Re(this.labelContainer,Ue("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new h9(Re(this.labelContainer,Ue("span.monaco-icon-description-container")))),s?.supportHighlights||s?.supportIcons?this.nameNode=new $Ae(l,!!s.supportIcons):this.nameNode=new QAe(l),s?.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new Jd(Re(this.descriptionContainer.element,Ue("span.label-description")),{supportIcons:!!s.supportIcons}):this.descriptionNodeFactory=()=>this._register(new h9(Re(this.descriptionContainer.element,Ue("span.label-description")))),this.hoverDelegate=s?.hoverDelegate}get element(){return this.domNode.element}setLabel(t,s,l){const u=["monaco-icon-label"];l&&(l.extraClasses&&u.push(...l.extraClasses),l.italic&&u.push("italic"),l.strikethrough&&u.push("strikethrough")),this.domNode.className=u.join(" "),this.setupHover(l?.descriptionTitle?this.labelContainer:this.element,l?.title),this.nameNode.setLabel(t,l),(s||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Jd?(this.descriptionNode.set(s||"",l?l.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,l?.descriptionTitle)):(this.descriptionNode.textContent=s||"",this.setupHover(this.descriptionNode.element,l?.descriptionTitle||""),this.descriptionNode.empty=!s))}setupHover(t,s){const l=this.customHovers.get(t);if(l&&(l.dispose(),this.customHovers.delete(t)),!s){t.removeAttribute("title");return}if(!this.hoverDelegate)GAe(t,s);else{const u=ZAe(this.hoverDelegate,t,s);u&&this.customHovers.set(t,u)}}dispose(){super.dispose();for(const t of this.customHovers.values())t.dispose();this.customHovers.clear()}}class QAe{constructor(t){this.container=t,this.label=void 0,this.singleLabel=void 0}setLabel(t,s){if(!(this.label===t&&Tl(this.options,s)))if(this.label=t,this.options=s,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Re(this.container,Ue("a.label-name",{id:s?.domId}))),this.singleLabel.textContent=t;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let l=0;l<t.length;l++){const u=t[l],h=s?.domId&&`${s?.domId}_${l}`;Re(this.container,Ue("a.label-name",{id:h,"data-icon-label-count":t.length,"data-icon-label-index":l,role:"treeitem"},u)),l<t.length-1&&Re(this.container,Ue("span.label-separator",void 0,s?.separator||"/"))}}}}function YAe(d,t,s){if(!s)return;let l=0;return d.map(u=>{const h={start:l,end:l+u.length},f=s.map(m=>dr.intersect(h,m)).filter(m=>!dr.isEmpty(m)).map(({start:m,end:A})=>({start:m-l,end:A-l}));return l=h.end+t.length,f})}class $Ae{constructor(t,s){this.container=t,this.supportIcons=s,this.label=void 0,this.singleLabel=void 0}setLabel(t,s){if(!(this.label===t&&Tl(this.options,s)))if(this.label=t,this.options=s,typeof t=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Jd(Re(this.container,Ue("a.label-name",{id:s?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(t,s?.matches,void 0,s?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const l=s?.separator||"/",u=YAe(t,l,s?.matches);for(let h=0;h<t.length;h++){const f=t[h],m=u?u[h]:void 0,A=s?.domId&&`${s?.domId}_${h}`,C=Ue("a.label-name",{id:A,"data-icon-label-count":t.length,"data-icon-label-index":h,role:"treeitem"});new Jd(Re(this.container,C),{supportIcons:this.supportIcons}).set(f,m,void 0,s?.labelEscapeNewLines),h<t.length-1&&Re(C,Ue("span.label-separator",void 0,l))}}}}const m6=Ue;class Ex{constructor(t,s,l){this.os=s,this.keyElements=new Set,this.options=l||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=Re(t,m6(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,s){this.didEverRender&&this.keybinding===t&&Ex.areSame(this.matches,s)||(this.keybinding=t,this.matches=s,this.render())}render(){if(this.clear(),this.keybinding){let[t,s]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),s&&(Re(this.domNode,m6("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,s,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){vs(this.domNode),this.keyElements.clear()}renderPart(t,s,l){const u=fx.modifierLabels[this.os];s.ctrlKey&&this.renderKey(t,u.ctrlKey,Boolean(l?.ctrlKey),u.separator),s.shiftKey&&this.renderKey(t,u.shiftKey,Boolean(l?.shiftKey),u.separator),s.altKey&&this.renderKey(t,u.altKey,Boolean(l?.altKey),u.separator),s.metaKey&&this.renderKey(t,u.metaKey,Boolean(l?.metaKey),u.separator);const h=s.keyLabel;h&&this.renderKey(t,h,Boolean(l?.keyCode),"")}renderKey(t,s,l,u){Re(t,this.createKeyElement(s,l?".highlight":"")),u&&Re(t,m6("span.monaco-keybinding-key-separator",void 0,u))}renderUnbound(t){Re(t,this.createKeyElement(E("unbound","Unbound")))}createKeyElement(t,s=""){const l=m6("span.monaco-keybinding-key"+s,void 0,t);return this.keyElements.add(l),l}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const s of this.keyElements)this.labelBackground&&(s.style.backgroundColor=(t=this.labelBackground)===null||t===void 0?void 0:t.toString()),this.labelBorder&&(s.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(s.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(s.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,s){return t===s||!t&&!s?!0:!!t&&!!s&&Tl(t.firstPart,s.firstPart)&&Tl(t.chordPart,s.chordPart)}}const eF=new Du(()=>{const d=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:d,collatorIsNumeric:d.resolvedOptions().numeric}});new Du(()=>({collator:new Intl.Collator(void 0,{numeric:!0})}));new Du(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function KAe(d,t,s=!1){const l=d||"",u=t||"",h=eF.value.collator.compare(l,u);return eF.value.collatorIsNumeric&&h===0&&l!==u?l<u?-1:1:h}function XAe(d,t,s){const l=d.toLowerCase(),u=t.toLowerCase(),h=JAe(d,t,s);if(h)return h;const f=l.endsWith(s),m=u.endsWith(s);if(f!==m)return f?-1:1;const A=KAe(l,u);return A!==0?A:l.localeCompare(u)}function JAe(d,t,s){const l=d.toLowerCase(),u=t.toLowerCase(),h=l.startsWith(s),f=u.startsWith(s);if(h!==f)return h?-1:1;if(h&&f){if(l.length<u.length)return-1;if(l.length>u.length)return 1}return 0}var QU=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},qAe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const H2=Ue;class e4e{constructor(t){this.hidden=!1,this._onChecked=new he,this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class b_{get templateId(){return b_.ID}renderTemplate(t){const s=Object.create(null);s.toDisposeElement=[],s.toDisposeTemplate=[],s.entry=Re(t,H2(".quick-input-list-entry"));const l=Re(s.entry,H2("label.quick-input-list-label"));s.toDisposeTemplate.push(zs(l,vt.CLICK,C=>{s.checkbox.offsetParent||C.preventDefault()})),s.checkbox=Re(l,H2("input.quick-input-list-checkbox")),s.checkbox.type="checkbox",s.toDisposeTemplate.push(zs(s.checkbox,vt.CHANGE,C=>{s.element.checked=s.checkbox.checked}));const u=Re(l,H2(".quick-input-list-rows")),h=Re(u,H2(".quick-input-list-row")),f=Re(u,H2(".quick-input-list-row"));s.label=new GC(h,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const m=Re(h,H2(".quick-input-list-entry-keybinding"));s.keybinding=new Ex(m,yl);const A=Re(f,H2(".quick-input-list-label-meta"));return s.detail=new GC(A,{supportHighlights:!0,supportIcons:!0}),s.separator=Re(s.entry,H2(".quick-input-list-separator")),s.actionBar=new w0(s.entry),s.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),s.toDisposeTemplate.push(s.actionBar),s}renderElement(t,s,l){l.toDisposeElement=mi(l.toDisposeElement),l.element=t,l.checkbox.checked=t.checked,l.toDisposeElement.push(t.onChecked(C=>l.checkbox.checked=C));const{labelHighlights:u,descriptionHighlights:h,detailHighlights:f}=t,m=Object.create(null);m.matches=u||[],m.descriptionTitle=t.saneDescription,m.descriptionMatches=h||[],m.extraClasses=t.item.iconClasses,m.italic=t.item.italic,m.strikethrough=t.item.strikethrough,l.label.setLabel(t.saneLabel,t.saneDescription,m),l.keybinding.set(t.item.keybinding),t.saneDetail&&l.detail.setLabel(t.saneDetail,void 0,{matches:f,title:t.saneDetail}),t.separator&&t.separator.label?(l.separator.textContent=t.separator.label,l.separator.style.display=""):l.separator.style.display="none",l.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),l.actionBar.clear();const A=t.item.buttons;A&&A.length?(l.actionBar.push(A.map((C,w)=>{let k=C.iconClass||(C.iconPath?N7(C.iconPath):void 0);C.alwaysVisible&&(k=k?`${k} always-visible`:"always-visible");const D=new Po(`id-${w}`,"",k,!0,()=>qAe(this,void 0,void 0,function*(){t.fireButtonTriggered({button:C,item:t.item})}));return D.tooltip=C.tooltip||"",D}),{icon:!0,label:!1}),l.entry.classList.add("has-actions")):l.entry.classList.remove("has-actions")}disposeElement(t,s,l){l.toDisposeElement=mi(l.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=mi(t.toDisposeElement),t.toDisposeTemplate=mi(t.toDisposeTemplate)}}b_.ID="listelement";class t4e{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return b_.ID}}var Kn;(function(d){d[d.First=1]="First",d[d.Second=2]="Second",d[d.Last=3]="Last",d[d.Next=4]="Next",d[d.Previous=5]="Previous",d[d.NextPage=6]="NextPage",d[d.PreviousPage=7]="PreviousPage"})(Kn||(Kn={}));class Nx{constructor(t,s,l){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new he,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new he,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new he,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new he,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new he,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new he,this.onKeyDown=this._onKeyDown.event,this._onLeave=new he,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=s,this.container=Re(this.parent,H2(".quick-input-list"));const u=new t4e,h=new n4e;this.list=l.createList("QuickInput",this.container,u,[new b_],{identityProvider:{getId:f=>f.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:h}),this.list.getHTMLElement().id=s,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(f=>{const m=new hn(f);switch(m.keyCode){case 10:this.toggleCheckbox();break;case 31:(Jt?f.metaKey:f.ctrlKey)&&this.list.setFocus(Hr(this.list.length));break;case 16:{const A=this.list.getFocus();A.length===1&&A[0]===0&&this._onLeave.fire();break}case 18:{const A=this.list.getFocus();A.length===1&&A[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(m)})),this.disposables.push(this.list.onMouseDown(f=>{f.browserEvent.button!==2&&f.browserEvent.preventDefault()})),this.disposables.push(ze(this.container,vt.CLICK,f=>{(f.x||f.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(f=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(f=>{typeof f.index=="number"&&(f.browserEvent.preventDefault(),this.list.setSelection([f.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return ft.map(this.list.onDidChangeFocus,t=>t.elements.map(s=>s.item))}get onDidChangeSelection(){return ft.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(s=>s.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,s=!0){for(let l=0,u=t.length;l<u;l++){const h=t[l];if(!h.hidden)if(h.checked)s=!0;else return!1}return s}getCheckedCount(){let t=0;const s=this.elements;for(let l=0,u=s.length;l<u;l++)s[l].checked&&t++;return t}getVisibleCount(){let t=0;const s=this.elements;for(let l=0,u=s.length;l<u;l++)s[l].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(s=>{s.hidden||(s.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=mi(this.elementDisposables);const s=l=>this.fireButtonTriggered(l);this.inputElements=t,this.elements=t.reduce((l,u,h)=>{var f,m,A;if(u.type!=="separator"){const C=h&&t[h-1],w=u.label&&u.label.replace(/\r?\n/g," "),k=u.meta&&u.meta.replace(/\r?\n/g," "),D=u.description&&u.description.replace(/\r?\n/g," "),I=u.detail&&u.detail.replace(/\r?\n/g," "),N=u.ariaLabel||[w,D,I].map(O=>pae(O)).filter(O=>!!O).join(", "),R=this.parent.classList.contains("show-checkboxes");l.push(new e4e({hasCheckbox:R,index:h,item:u,saneLabel:w,saneMeta:k,saneAriaLabel:N,saneDescription:D,saneDetail:I,labelHighlights:(f=u.highlights)===null||f===void 0?void 0:f.label,descriptionHighlights:(m=u.highlights)===null||m===void 0?void 0:m.description,detailHighlights:(A=u.highlights)===null||A===void 0?void 0:A.detail,checked:!1,separator:C&&C.type==="separator"?C:void 0,fireButtonTriggered:s}))}return l},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(l=>l.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((l,u,h)=>(l.set(u.item,h),l),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s))),t.length>0){const s=this.list.getFocus()[0];typeof s=="number"&&this.list.reveal(s)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const s=new Set;for(const l of t)s.add(l);for(const l of this.elements)l.checked=s.has(l.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===Kn.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=Kn.First),t===Kn.Previous&&this.list.getFocus()[0]===0&&(t=Kn.Last),t===Kn.Second&&this.list.length<2&&(t=Kn.First),t){case Kn.First:this.list.focusFirst();break;case Kn.Second:this.list.focusNth(1);break;case Kn.Last:this.list.focusLast();break;case Kn.Next:this.list.focusNext();break;case Kn.Previous:this.list.focusPrevious();break;case Kn.NextPage:this.list.focusNextPage();break;case Kn.PreviousPage:this.list.focusPreviousPage();break}const s=this.list.getFocus()[0];typeof s=="number"&&this.list.reveal(s)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(l=>{l.labelHighlights=void 0,l.descriptionHighlights=void 0,l.detailHighlights=void 0,l.hidden=!1;const u=l.index&&this.inputElements[l.index-1];l.separator=u&&u.type==="separator"?u:void 0});else{let l;this.elements.forEach(u=>{const h=this.matchOnLabel?To(g6(t,f6(u.saneLabel))):void 0,f=this.matchOnDescription?To(g6(t,f6(u.saneDescription||""))):void 0,m=this.matchOnDetail?To(g6(t,f6(u.saneDetail||""))):void 0,A=this.matchOnMeta?To(g6(t,f6(u.saneMeta||""))):void 0;if(h||f||m||A?(u.labelHighlights=h,u.descriptionHighlights=f,u.detailHighlights=m,u.hidden=!1):(u.labelHighlights=void 0,u.descriptionHighlights=void 0,u.detailHighlights=void 0,u.hidden=!u.item.alwaysShow),u.separator=void 0,!this.sortByLabel){const C=u.index&&this.inputElements[u.index-1];l=C&&C.type==="separator"?C:l,l&&!u.hidden&&(u.separator=l,l=void 0)}})}const s=this.elements.filter(l=>!l.hidden);if(this.sortByLabel&&t){const l=t.toLowerCase();s.sort((u,h)=>i4e(u,h,l))}return this.elementsToIndexes=s.reduce((l,u,h)=>(l.set(u.item,h),l),new Map),this.list.splice(0,this.list.length,s),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(s.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),s=this.allVisibleChecked(t);for(const l of t)l.checked=!s}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=mi(this.elementDisposables),this.disposables=mi(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}QU([gs],Nx.prototype,"onDidChangeFocus",null);QU([gs],Nx.prototype,"onDidChangeSelection",null);function i4e(d,t,s){const l=d.labelHighlights||[],u=t.labelHighlights||[];return l.length&&!u.length?-1:!l.length&&u.length?1:l.length===0&&u.length===0?0:XAe(d.saneLabel,t.saneLabel,s)}class n4e{getWidgetAriaLabel(){return E("quickInput","Quick Input")}getAriaLabel(t){return t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(t){return t.hasCheckbox?"checkbox":"option"}isChecked(t){if(!!t.hasCheckbox)return{value:t.checked,onDidChange:t.onChecked}}}var tF=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const Ko=Ue,M7={iconClass:T.quickInputBack.classNames,tooltip:E("quickInput.back","Back"),handle:-1};class pv extends Se{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=pv.noPromptMessage,this._severity=kn.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new he),this.onDidHideEmitter=this._register(new he),this.onDisposeEmitter=this._register(new he),this.visibleDisposables=this._register(new je),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const s=this._ignoreFocusOut!==t&&!t2;this._ignoreFocusOut=t&&!t2,s&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(t=S4.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const s=this.getDescription();if(this.ui.description1.textContent!==s&&(this.ui.description1.textContent=s),this.ui.description2.textContent!==s&&(this.ui.description2.textContent=s),this.busy&&!this.busyDelay&&(this.busyDelay=new Wo,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const u=this.buttons.filter(f=>f===M7);this.ui.leftActionBar.push(u.map((f,m)=>{const A=new Po(`id-${m}`,"",f.iconClass||N7(f.iconPath),!0,()=>tF(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(f)}));return A.tooltip=f.tooltip||"",A}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const h=this.buttons.filter(f=>f!==M7);this.ui.rightActionBar.push(h.map((f,m)=>{const A=new Po(`id-${m}`,"",f.iconClass||N7(f.iconPath),!0,()=>tF(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(f)}));return A.tooltip=f.tooltip||"",A}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const l=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==l&&(this._lastValidationMessage=l,ju(this.ui.message,...Nd(l))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?E("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==kn.Ignore){const s=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=s.foreground?`${s.foreground}`:"",this.ui.message.style.backgroundColor=s.background?`${s.background}`:"",this.ui.message.style.border=s.border?`1px solid ${s.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}pv.noPromptMessage=E("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class y4 extends pv{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new he),this.onWillAcceptEmitter=this._register(new he),this.onDidAcceptEmitter=this._register(new he),this.onDidCustomEmitter=this._register(new he),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Ha.NONE:Ha.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new he),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new he),this.onDidTriggerItemButtonEmitter=this._register(new he),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this.doSetValue(t)}doSetValue(t,s){this._value!==t&&(this._value=t,s||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?TAe:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Kn.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{this.doSetValue(t,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(Kn.Next),this.canSelectMany&&this.ui.list.domFocus(),Ri.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Kn.Previous):this.ui.list.focus(Kn.Last),this.canSelectMany&&this.ui.list.domFocus(),Ri.stop(t,!0);break;case 12:this.ui.list.focus(Kn.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Ri.stop(t,!0);break;case 11:this.ui.list.focus(Kn.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Ri.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Kn.First),Ri.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(Kn.Last),Ri.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&cl(t,this._activeItems,(s,l)=>s===l)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:s})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&cl(t,this._selectedItems,(l,u)=>l===u)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(s instanceof MouseEvent&&s.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&cl(t,this._selectedItems,(s,l)=>s===l)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let s=!1;this.onWillAcceptEmitter.fire({veto:()=>s=!0}),s||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return ze(this.ui.container,vt.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const s=new hn(t),l=s.keyCode;this._quickNavigate.keybindings.some(f=>{const[m,A]=f.getParts();return A?!1:m.shiftKey&&l===4?!(s.ctrlKey||s.altKey||s.metaKey):!!(m.altKey&&l===6||m.ctrlKey&&l===5||m.metaKey&&l===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,s=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",s&&!this.description);const l={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!s,progressBar:!s,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(l),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const u=this.ariaLabel||this.placeholder||y4.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==u&&(this.ui.inputBox.ariaLabel=u),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ha.NONE:this._itemActivation=Ha.FIRST;break;case Ha.SECOND:this.ui.list.focus(Kn.Second),this._itemActivation=Ha.FIRST;break;case Ha.LAST:this.ui.list.focus(Kn.Last),this._itemActivation=Ha.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),l.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Kn.First)),this.keepScrollPosition&&(this.scrollTop=t)}}y4.DEFAULT_ARIA_LABEL=E("quickInputBox.ariaLabel","Type to narrow down results.");class Av extends Se{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new he),this.onDidCustomEmitter=this._register(new he),this.onDidTriggerButtonEmitter=this._register(new he),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new he),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new he),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=s=>{this.keyMods.ctrlCmd=s.ctrlKey||s.metaKey,this.keyMods.alt=s.altKey};this._register(ze(window,vt.KEY_DOWN,t,!0)),this._register(ze(window,vt.KEY_UP,t,!0)),this._register(ze(window,vt.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=Re(this.parentElement,Ko(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const s=Vl(t),l=Re(t,Ko(".quick-input-titlebar")),u=this._register(new w0(l));u.domNode.classList.add("quick-input-left-action-bar");const h=Re(l,Ko(".quick-input-title")),f=this._register(new w0(l));f.domNode.classList.add("quick-input-right-action-bar");const m=Re(t,Ko(".quick-input-description")),A=Re(t,Ko(".quick-input-header")),C=Re(A,Ko("input.quick-input-check-all"));C.type="checkbox",this._register(zs(C,vt.CHANGE,Ae=>{const ge=C.checked;Y.setAllVisibleChecked(ge)})),this._register(ze(C,vt.CLICK,Ae=>{(Ae.x||Ae.y)&&I.setFocus()}));const w=Re(A,Ko(".quick-input-description")),k=Re(A,Ko(".quick-input-and-message")),D=Re(k,Ko(".quick-input-filter")),I=this._register(new HAe(D));I.setAttribute("aria-describedby",`${this.idPrefix}message`);const N=Re(D,Ko(".quick-input-visible-count"));N.setAttribute("aria-live","polite"),N.setAttribute("aria-atomic","true");const R=new E7(N,{countFormat:E({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),O=Re(D,Ko(".quick-input-count"));O.setAttribute("aria-live","polite");const W=new E7(O,{countFormat:E({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),B=Re(A,Ko(".quick-input-action")),z=new KO(B);z.label=E("ok","OK"),this._register(z.onDidClick(Ae=>{this.onDidAcceptEmitter.fire()}));const G=Re(A,Ko(".quick-input-action")),K=new KO(G);K.label=E("custom","Custom"),this._register(K.onDidClick(Ae=>{this.onDidCustomEmitter.fire()}));const q=Re(k,Ko(`#${this.idPrefix}message.quick-input-message`)),Y=this._register(new Nx(t,this.idPrefix+"list",this.options));this._register(Y.onChangedAllVisibleChecked(Ae=>{C.checked=Ae})),this._register(Y.onChangedVisibleCount(Ae=>{R.setCount(Ae)})),this._register(Y.onChangedCheckedCount(Ae=>{W.setCount(Ae)})),this._register(Y.onLeave(()=>{setTimeout(()=>{I.setFocus(),this.controller instanceof y4&&this.controller.canSelectMany&&Y.clearFocus()},0)})),this._register(Y.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const J=new mv(t);J.getContainer().classList.add("quick-input-progress");const ne=Bg(t);return this._register(ne),this._register(ze(t,vt.FOCUS,Ae=>{this.previousFocusElement=Ae.relatedTarget instanceof HTMLElement?Ae.relatedTarget:void 0},!0)),this._register(ne.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(S4.Blur),this.previousFocusElement=void 0})),this._register(ze(t,vt.FOCUS,Ae=>{I.setFocus()})),this._register(ze(t,vt.KEY_DOWN,Ae=>{const ge=new hn(Ae);switch(ge.keyCode){case 3:Ri.stop(Ae,!0),this.onDidAcceptEmitter.fire();break;case 9:Ri.stop(Ae,!0),this.hide(S4.Gesture);break;case 2:if(!ge.altKey&&!ge.ctrlKey&&!ge.metaKey){const Te=[".action-label.codicon"];t.classList.contains("show-checkboxes")?Te.push("input"):Te.push("input[type=text]"),this.getUI().list.isDisplayed()&&Te.push(".monaco-list");const Me=t.querySelectorAll(Te.join(", "));ge.shiftKey&&ge.target===Me[0]?(Ri.stop(Ae,!0),Me[Me.length-1].focus()):!ge.shiftKey&&ge.target===Me[Me.length-1]&&(Ri.stop(Ae,!0),Me[0].focus())}break}})),this.ui={container:t,styleSheet:s,leftActionBar:u,titleBar:l,title:h,description1:m,description2:w,rightActionBar:f,checkAll:C,filterContainer:D,inputBox:I,visibleCountContainer:N,visibleCount:R,countContainer:O,count:W,okContainer:B,ok:z,message:q,customButtonContainer:G,customButton:K,list:Y,progressBar:J,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Ae=>this.show(Ae),hide:()=>this.hide(),setVisibilities:Ae=>this.setVisibilities(Ae),setComboboxAccessibility:Ae=>this.setComboboxAccessibility(Ae),setEnabled:Ae=>this.setEnabled(Ae),setContextKey:Ae=>this.options.setContextKey(Ae)},this.updateStyles(),this.ui}pick(t,s={},l=ti.None){return new Promise((u,h)=>{let f=w=>{f=u,s.onKeyMods&&s.onKeyMods(m.keyMods),u(w)};if(l.isCancellationRequested){f(void 0);return}const m=this.createQuickPick();let A;const C=[m,m.onDidAccept(()=>{if(m.canSelectMany)f(m.selectedItems.slice()),m.hide();else{const w=m.activeItems[0];w&&(f(w),m.hide())}}),m.onDidChangeActive(w=>{const k=w[0];k&&s.onDidFocus&&s.onDidFocus(k)}),m.onDidChangeSelection(w=>{if(!m.canSelectMany){const k=w[0];k&&(f(k),m.hide())}}),m.onDidTriggerItemButton(w=>s.onDidTriggerItemButton&&s.onDidTriggerItemButton(Object.assign(Object.assign({},w),{removeItem:()=>{const k=m.items.indexOf(w.item);if(k!==-1){const D=m.items.slice(),I=D.splice(k,1),N=m.activeItems.filter(O=>O!==I[0]),R=m.keepScrollPosition;m.keepScrollPosition=!0,m.items=D,N&&(m.activeItems=N),m.keepScrollPosition=R}}}))),m.onDidChangeValue(w=>{A&&!w&&(m.activeItems.length!==1||m.activeItems[0]!==A)&&(m.activeItems=[A])}),l.onCancellationRequested(()=>{m.hide()}),m.onDidHide(()=>{mi(C),f(void 0)})];m.title=s.title,m.canSelectMany=!!s.canPickMany,m.placeholder=s.placeHolder,m.ignoreFocusOut=!!s.ignoreFocusLost,m.matchOnDescription=!!s.matchOnDescription,m.matchOnDetail=!!s.matchOnDetail,m.matchOnLabel=s.matchOnLabel===void 0||s.matchOnLabel,m.autoFocusOnList=s.autoFocusOnList===void 0||s.autoFocusOnList,m.quickNavigate=s.quickNavigate,m.contextKey=s.contextKey,m.busy=!0,Promise.all([t,s.activeItem]).then(([w,k])=>{A=k,m.busy=!1,m.items=w,m.canSelectMany&&(m.selectedItems=w.filter(D=>D.type!=="separator"&&D.picked)),A&&(m.activeItems=[A])}),m.show(),Promise.resolve(t).then(void 0,w=>{h(w),m.hide()})})}createQuickPick(){const t=this.getUI();return new y4(t)}show(t){const s=this.getUI();this.onShowEmitter.fire();const l=this.controller;this.controller=t,l&&l.didHide(),this.setEnabled(!0),s.leftActionBar.clear(),s.title.textContent="",s.description1.textContent="",s.description2.textContent="",s.rightActionBar.clear(),s.checkAll.checked=!1,s.inputBox.placeholder="",s.inputBox.password=!1,s.inputBox.showDecoration(kn.Ignore),s.visibleCount.setCount(0),s.count.setCount(0),ju(s.message),s.progressBar.stop(),s.list.setElements([]),s.list.matchOnDescription=!1,s.list.matchOnDetail=!1,s.list.matchOnLabel=!0,s.list.sortByLabel=!0,s.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),s.inputBox.ariaLabel="";const u=this.options.backKeybindingLabel();M7.tooltip=u?E("quickInput.backWithKeybinding","Back ({0})",u):E("quickInput.back","Back"),s.container.style.display="",this.updateLayout(),s.inputBox.setFocus()}setVisibilities(t){const s=this.getUI();s.title.style.display=t.title?"":"none",s.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",s.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",s.checkAll.style.display=t.checkAll?"":"none",s.filterContainer.style.display=t.inputBox?"":"none",s.visibleCountContainer.style.display=t.visibleCount?"":"none",s.countContainer.style.display=t.count?"":"none",s.okContainer.style.display=t.ok?"":"none",s.customButtonContainer.style.display=t.customButton?"":"none",s.message.style.display=t.message?"":"none",s.progressBar.getContainer().style.display=t.progressBar?"":"none",s.list.display(!!t.list),s.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const s=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(s.inputBox.setAttribute("role","combobox"),s.inputBox.setAttribute("aria-haspopup","true"),s.inputBox.setAttribute("aria-autocomplete","list"),s.inputBox.setAttribute("aria-activedescendant",s.list.getActiveDescendant()||"")):(s.inputBox.removeAttribute("role"),s.inputBox.removeAttribute("aria-haspopup"),s.inputBox.removeAttribute("aria-autocomplete"),s.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const s of this.getUI().leftActionBar.viewItems)s.getAction().enabled=t;for(const s of this.getUI().rightActionBar.viewItems)s.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var s;const l=this.controller;if(l){const u=!(!((s=this.ui)===null||s===void 0)&&s.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!u){let h=this.previousFocusElement;for(;h&&!h.offsetParent;)h=To(h.parentElement);h?.offsetParent?(h.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}l.didHide(t)}}layout(t,s){this.dimension=t,this.titleBarOffset=s,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,s=Math.min(this.dimension.width*.62,Av.MAX_WIDTH);t.width=s+"px",t.marginLeft="-"+s/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:s,quickInputForeground:l,contrastBorder:u,widgetShadow:h}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=s?s.toString():"",this.ui.container.style.color=l?l.toString():"",this.ui.container.style.border=u?`1px solid ${u}`:"",this.ui.container.style.boxShadow=h?`0 0 8px 2px ${h}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const f=[];this.styles.list.pickerGroupBorder&&f.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&f.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(f.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&f.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&f.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&f.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&f.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&f.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),f.push("}"));const m=f.join(`
`);m!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=m)}}}Av.MAX_WIDTH=600;class s4e{constructor(t){this.spliceables=t}splice(t,s,l){this.spliceables.forEach(u=>u.splice(t,s,l))}}class Zh extends Error{constructor(t,s){super(`ListError [${t}] ${s}`)}}function iF(d,t){const s=[];for(let l of t){if(d.start>=l.range.end)continue;if(d.end<l.range.start)break;const u=dr.intersect(d,l.range);dr.isEmpty(u)||s.push({range:u,size:l.size})}return s}function P7({start:d,end:t},s){return{start:d+s,end:t+s}}function r4e(d){const t=[];let s=null;for(let l of d){const u=l.range.start,h=l.range.end,f=l.size;if(s&&f===s.size){s.range.end=h;continue}s={range:{start:u,end:h},size:f},t.push(s)}return t}function o4e(...d){return r4e(d.reduce((t,s)=>t.concat(s),[]))}class nF{constructor(){this.groups=[],this._size=0}splice(t,s,l=[]){const u=l.length-s,h=iF({start:0,end:t},this.groups),f=iF({start:t+s,end:Number.POSITIVE_INFINITY},this.groups).map(A=>({range:P7(A.range,u),size:A.size})),m=l.map((A,C)=>({range:{start:t+C,end:t+C+1},size:A.size}));this.groups=o4e(h,m,f),this._size=this.groups.reduce((A,C)=>A+C.size*(C.range.end-C.range.start),0)}get count(){const t=this.groups.length;return t?this.groups[t-1].range.end:0}get size(){return this._size}indexAt(t){if(t<0)return-1;let s=0,l=0;for(let u of this.groups){const h=u.range.end-u.range.start,f=l+h*u.size;if(t<f)return s+Math.floor((t-l)/u.size);s+=h,l=f}return s}indexAfter(t){return Math.min(this.indexAt(t)+1,this.count)}positionAt(t){if(t<0)return-1;let s=0,l=0;for(let u of this.groups){const h=u.range.end-u.range.start,f=l+h;if(t<f)return s+(t-l)*u.size;s+=h*u.size,l=f}return-1}}function l4e(d){try{d.parentElement&&d.parentElement.removeChild(d)}catch{}}class a4e{constructor(t){this.renderers=t,this.cache=new Map}alloc(t){let s=this.getTemplateCache(t).pop();if(!s){const l=Ue(".monaco-list-row"),h=this.getRenderer(t).renderTemplate(l);s={domNode:l,templateId:t,templateData:h}}return s}release(t){!t||this.releaseRow(t)}releaseRow(t){const{domNode:s,templateId:l}=t;s&&(s.classList.remove("scrolling"),l4e(s)),this.getTemplateCache(l).push(t)}getTemplateCache(t){let s=this.cache.get(t);return s||(s=[],this.cache.set(t,s)),s}dispose(){this.cache.forEach((t,s)=>{for(const l of t)this.getRenderer(s).disposeTemplate(l.templateData),l.templateData=null}),this.cache.clear()}getRenderer(t){const s=this.renderers.get(t);if(!s)throw new Error(`No renderer found for ${t}`);return s}}var Mf=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h};const P2={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(d){return[d]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class S_{constructor(t){this.elements=t}update(){}getData(){return this.elements}}class c4e{constructor(t){this.elements=t}update(){}getData(){return this.elements}}class u4e{constructor(){this.types=[],this.files=[]}update(t){if(t.types&&this.types.splice(0,this.types.length,...t.types),t.files){this.files.splice(0,this.files.length);for(let s=0;s<t.files.length;s++){const l=t.files.item(s);l&&(l.size||l.type)&&this.files.push(l)}}}getData(){return{types:this.types,files:this.files}}}function h4e(d,t){return Array.isArray(d)&&Array.isArray(t)?cl(d,t):d===t}class d4e{constructor(t){t?.getSetSize?this.getSetSize=t.getSetSize.bind(t):this.getSetSize=(s,l,u)=>u,t?.getPosInSet?this.getPosInSet=t.getPosInSet.bind(t):this.getPosInSet=(s,l)=>l+1,t?.getRole?this.getRole=t.getRole.bind(t):this.getRole=s=>"listitem",t?.isChecked?this.isChecked=t.isChecked.bind(t):this.isChecked=s=>{}}}class c2{constructor(t,s,l,u=P2){if(this.virtualDelegate=s,this.domId=`list_id_${++c2.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new p0(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Se.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Se.None,this.onDragLeaveTimeout=Se.None,this.disposables=new je,this._onDidChangeContentHeight=new he,this._horizontalScrolling=!1,u.horizontalScrolling&&u.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new nF;for(const f of l)this.renderers.set(f.templateId,f);this.cache=this.disposables.add(new a4e(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof u.mouseSupport=="boolean"?u.mouseSupport:!0),this._horizontalScrolling=M2(u,f=>f.horizontalScrolling,P2.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof u.additionalScrollHeight>"u"?0:u.additionalScrollHeight,this.accessibilityProvider=new d4e(u.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",M2(u,f=>f.transformOptimization,P2.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Wi.addTarget(this.rowsContainer)),this.scrollable=new p_({forceIntegerValues:!0,smoothScrollDuration:M2(u,f=>f.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:f=>n2(f)}),this.scrollableElement=this.disposables.add(new GI(this.rowsContainer,{alwaysConsumeMouseWheel:M2(u,f=>f.alwaysConsumeMouseWheel,P2.alwaysConsumeMouseWheel),horizontal:1,vertical:M2(u,f=>f.verticalScrollMode,P2.verticalScrollMode),useShadows:M2(u,f=>f.useShadows,P2.useShadows),mouseWheelScrollSensitivity:u.mouseWheelScrollSensitivity,fastScrollSensitivity:u.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),t.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(ze(this.rowsContainer,nn.Change,f=>this.onTouchChange(f))),this.disposables.add(ze(this.scrollableElement.getDomNode(),"scroll",f=>f.target.scrollTop=0)),this.disposables.add(ze(this.domNode,"dragover",f=>this.onDragOver(this.toDragEvent(f)))),this.disposables.add(ze(this.domNode,"drop",f=>this.onDrop(this.toDragEvent(f)))),this.disposables.add(ze(this.domNode,"dragleave",f=>this.onDragLeave(this.toDragEvent(f)))),this.disposables.add(ze(this.domNode,"dragend",f=>this.onDragEnd(f))),this.setRowLineHeight=M2(u,f=>f.setRowLineHeight,P2.setRowLineHeight),this.setRowHeight=M2(u,f=>f.setRowHeight,P2.setRowHeight),this.supportDynamicHeights=M2(u,f=>f.supportDynamicHeights,P2.supportDynamicHeights),this.dnd=M2(u,f=>f.dnd,P2.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(t){if(t!==this._horizontalScrolling){if(t&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=t,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const s of this.items)this.measureItemWidth(s);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Cb(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(t){t.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=t.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),t.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(t.smoothScrolling?125:0),t.horizontalScrolling!==void 0&&(this.horizontalScrolling=t.horizontalScrolling),t.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:t.mouseWheelScrollSensitivity}),t.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:t.fastScrollSensitivity})}splice(t,s,l=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(t,s,l)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(t,s,l=[]){const u=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),h={start:t,end:t+s},f=dr.intersect(u,h),m=new Map;for(let q=f.end-1;q>=f.start;q--){const Y=this.items[q];if(Y.dragStartDisposable.dispose(),Y.row){let J=m.get(Y.templateId);J||(J=[],m.set(Y.templateId,J));const ne=this.renderers.get(Y.templateId);ne&&ne.disposeElement&&ne.disposeElement(Y.element,q,Y.row.templateData,Y.size),J.push(Y.row)}Y.row=null}const A={start:t+s,end:this.items.length},C=dr.intersect(A,u),w=dr.relativeComplement(A,u),k=l.map(q=>({id:String(this.itemId++),element:q,templateId:this.virtualDelegate.getTemplateId(q),size:this.virtualDelegate.getHeight(q),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(q),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Se.None,checkedDisposable:Se.None}));let D;t===0&&s>=this.items.length?(this.rangeMap=new nF,this.rangeMap.splice(0,0,k),D=this.items,this.items=k):(this.rangeMap.splice(t,s,k),D=this.items.splice(t,s,...k));const I=l.length-s,N=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),R=P7(C,I),O=dr.intersect(N,R);for(let q=O.start;q<O.end;q++)this.updateItemInDOM(this.items[q],q);const W=dr.relativeComplement(R,N);for(const q of W)for(let Y=q.start;Y<q.end;Y++)this.removeItemFromDOM(Y);const B=w.map(q=>P7(q,I)),G=[{start:t,end:t+l.length},...B].map(q=>dr.intersect(N,q)),K=this.getNextToLastElement(G);for(const q of G)for(let Y=q.start;Y<q.end;Y++){const J=this.items[Y],ne=m.get(J.templateId),Ae=ne?.pop();this.insertItemInDOM(Y,K,Ae)}for(const q of m.values())for(const Y of q)this.cache.release(Y);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),D.map(q=>q.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=n2(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let t=0;for(const s of this.items)typeof s.width<"u"&&(t=Math.max(t,s.width));this.scrollWidth=t,this.scrollableElement.setScrollDimensions({scrollWidth:t===0?0:t+10})}rerender(){if(!!this.supportDynamicHeights){for(const t of this.items)t.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(t){return this.items[t].element}domElement(t){const s=this.items[t].row;return s&&s.domNode}elementHeight(t){return this.items[t].size}elementTop(t){return this.rangeMap.positionAt(t)}indexAt(t){return this.rangeMap.indexAt(t)}indexAfter(t){return this.rangeMap.indexAfter(t)}layout(t,s){let l={height:typeof t=="number"?t:rce(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,l.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(l),typeof s<"u"&&(this.renderWidth=s,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof s=="number"?s:Cb(this.domNode)})}render(t,s,l,u,h,f=!1){const m=this.getRenderRange(s,l),A=dr.relativeComplement(m,t),C=dr.relativeComplement(t,m),w=this.getNextToLastElement(A);if(f){const k=dr.intersect(t,m);for(let D=k.start;D<k.end;D++)this.updateItemInDOM(this.items[D],D)}for(const k of A)for(let D=k.start;D<k.end;D++)this.insertItemInDOM(D,w);for(const k of C)for(let D=k.start;D<k.end;D++)this.removeItemFromDOM(D);u!==void 0&&(this.rowsContainer.style.left=`-${u}px`),this.rowsContainer.style.top=`-${s}px`,this.horizontalScrolling&&h!==void 0&&(this.rowsContainer.style.width=`${Math.max(h,this.renderWidth)}px`),this.lastRenderTop=s,this.lastRenderHeight=l}insertItemInDOM(t,s,l){const u=this.items[t];u.row||(u.row=l??this.cache.alloc(u.templateId));const h=this.accessibilityProvider.getRole(u.element)||"listitem";u.row.domNode.setAttribute("role",h);const f=this.accessibilityProvider.isChecked(u.element);if(typeof f=="boolean")u.row.domNode.setAttribute("aria-checked",String(!!f));else if(f){const C=w=>u.row.domNode.setAttribute("aria-checked",String(!!w));C(f.value),u.checkedDisposable=f.onDidChange(C)}u.row.domNode.parentElement||(s?this.rowsContainer.insertBefore(u.row.domNode,s):this.rowsContainer.appendChild(u.row.domNode)),this.updateItemInDOM(u,t);const m=this.renderers.get(u.templateId);if(!m)throw new Error(`No renderer found for template id ${u.templateId}`);m&&m.renderElement(u.element,t,u.row.templateData,u.size);const A=this.dnd.getDragURI(u.element);u.dragStartDisposable.dispose(),u.row.domNode.draggable=!!A,A&&(u.dragStartDisposable=ze(u.row.domNode,"dragstart",C=>this.onDragStart(u.element,A,C))),this.horizontalScrolling&&(this.measureItemWidth(u),this.eventuallyUpdateScrollWidth())}measureItemWidth(t){if(!t.row||!t.row.domNode)return;t.row.domNode.style.width=dl?"-moz-fit-content":"fit-content",t.width=Cb(t.row.domNode);const s=window.getComputedStyle(t.row.domNode);s.paddingLeft&&(t.width+=parseFloat(s.paddingLeft)),s.paddingRight&&(t.width+=parseFloat(s.paddingRight)),t.row.domNode.style.width=""}updateItemInDOM(t,s){t.row.domNode.style.top=`${this.elementTop(s)}px`,this.setRowHeight&&(t.row.domNode.style.height=`${t.size}px`),this.setRowLineHeight&&(t.row.domNode.style.lineHeight=`${t.size}px`),t.row.domNode.setAttribute("data-index",`${s}`),t.row.domNode.setAttribute("data-last-element",s===this.length-1?"true":"false"),t.row.domNode.setAttribute("data-parity",s%2===0?"even":"odd"),t.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t.element,s,this.length))),t.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t.element,s))),t.row.domNode.setAttribute("id",this.getElementDomId(s)),t.row.domNode.classList.toggle("drop-target",t.dropTarget)}removeItemFromDOM(t){const s=this.items[t];if(s.dragStartDisposable.dispose(),s.checkedDisposable.dispose(),s.row){const l=this.renderers.get(s.templateId);l&&l.disposeElement&&l.disposeElement(s.element,t,s.row.templateData,s.size),this.cache.release(s.row),s.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(t,s){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:t,reuseAnimation:s})}get scrollTop(){return this.getScrollTop()}set scrollTop(t){this.setScrollTop(t)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return ft.map(this.disposables.add(new Ui(this.domNode,"click")).event,t=>this.toMouseEvent(t))}get onMouseDblClick(){return ft.map(this.disposables.add(new Ui(this.domNode,"dblclick")).event,t=>this.toMouseEvent(t))}get onMouseMiddleClick(){return ft.filter(ft.map(this.disposables.add(new Ui(this.domNode,"auxclick")).event,t=>this.toMouseEvent(t)),t=>t.browserEvent.button===1)}get onMouseDown(){return ft.map(this.disposables.add(new Ui(this.domNode,"mousedown")).event,t=>this.toMouseEvent(t))}get onContextMenu(){return ft.any(ft.map(this.disposables.add(new Ui(this.domNode,"contextmenu")).event,t=>this.toMouseEvent(t)),ft.map(this.disposables.add(new Ui(this.domNode,nn.Contextmenu)).event,t=>this.toGestureEvent(t)))}get onTouchStart(){return ft.map(this.disposables.add(new Ui(this.domNode,"touchstart")).event,t=>this.toTouchEvent(t))}get onTap(){return ft.map(this.disposables.add(new Ui(this.rowsContainer,nn.Tap)).event,t=>this.toGestureEvent(t))}toMouseEvent(t){const s=this.getItemIndexFromEventTarget(t.target||null),l=typeof s>"u"?void 0:this.items[s],u=l&&l.element;return{browserEvent:t,index:s,element:u}}toTouchEvent(t){const s=this.getItemIndexFromEventTarget(t.target||null),l=typeof s>"u"?void 0:this.items[s],u=l&&l.element;return{browserEvent:t,index:s,element:u}}toGestureEvent(t){const s=this.getItemIndexFromEventTarget(t.initialTarget||null),l=typeof s>"u"?void 0:this.items[s],u=l&&l.element;return{browserEvent:t,index:s,element:u}}toDragEvent(t){const s=this.getItemIndexFromEventTarget(t.target||null),l=typeof s>"u"?void 0:this.items[s],u=l&&l.element;return{browserEvent:t,index:s,element:u}}onScroll(t){try{const s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(s,t.scrollTop,t.height,t.scrollLeft,t.scrollWidth),this.supportDynamicHeights&&this._rerender(t.scrollTop,t.height,t.inSmoothScrolling)}catch(s){throw console.error("Got bad scroll event:",t),s}}onTouchChange(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY}onDragStart(t,s,l){if(!l.dataTransfer)return;const u=this.dnd.getDragElements(t);if(l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setData(tU.TEXT,s),l.dataTransfer.setDragImage){let h;this.dnd.getDragLabel&&(h=this.dnd.getDragLabel(u,l)),typeof h>"u"&&(h=String(u.length));const f=Ue(".monaco-drag-image");f.textContent=h,document.body.appendChild(f),l.dataTransfer.setDragImage(f,-10,-10),setTimeout(()=>document.body.removeChild(f),0)}this.currentDragData=new S_(u),nc.CurrentDragAndDropData=new c4e(u),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,l)}onDragOver(t){if(t.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),nc.CurrentDragAndDropData&&nc.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(t.browserEvent),!t.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(nc.CurrentDragAndDropData)this.currentDragData=nc.CurrentDragAndDropData;else{if(!t.browserEvent.dataTransfer.types)return!1;this.currentDragData=new u4e}const s=this.dnd.onDragOver(this.currentDragData,t.element,t.index,t.browserEvent);if(this.canDrop=typeof s=="boolean"?s:s.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;t.browserEvent.dataTransfer.dropEffect=typeof s!="boolean"&&s.effect===0?"copy":"move";let l;if(typeof s!="boolean"&&s.feedback?l=s.feedback:typeof t.index>"u"?l=[-1]:l=[t.index],l=Hu(l).filter(u=>u>=-1&&u<this.length).sort((u,h)=>u-h),l=l[0]===-1?[-1]:l,h4e(this.currentDragFeedback,l))return!0;if(this.currentDragFeedback=l,this.currentDragFeedbackDisposable.dispose(),l[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=$t(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const u of l){const h=this.items[u];h.dropTarget=!0,h.row&&h.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=$t(()=>{for(const u of l){const h=this.items[u];h.dropTarget=!1,h.row&&h.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(t){var s,l;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Wd(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((l=(s=this.dnd).onDragLeave)===null||l===void 0||l.call(s,this.currentDragData,t.element,t.index,t.browserEvent))}onDrop(t){if(!this.canDrop)return;const s=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,nc.CurrentDragAndDropData=void 0,!(!s||!t.browserEvent.dataTransfer)&&(t.browserEvent.preventDefault(),s.update(t.browserEvent.dataTransfer),this.dnd.drop(s,t.element,t.index,t.browserEvent))}onDragEnd(t){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,nc.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(t)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Se.None}setupDragAndDropScrollTopAnimation(t){if(!this.dragOverAnimationDisposable){const s=vV(this.domNode).top;this.dragOverAnimationDisposable=dce(this.animateDragAndDropScrollTop.bind(this,s))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Wd(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=t.pageY}animateDragAndDropScrollTop(t){if(this.dragOverMouseY===void 0)return;const s=this.dragOverMouseY-t,l=this.renderHeight-35;s<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(s-35))):s>l&&(this.scrollTop+=Math.min(14,Math.floor(.3*(s-l))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(t){const s=this.scrollableElement.getDomNode();let l=t;for(;l instanceof HTMLElement&&l!==this.rowsContainer&&s.contains(l);){const u=l.getAttribute("data-index");if(u){const h=Number(u);if(!isNaN(h))return h}l=l.parentElement}}getRenderRange(t,s){return{start:this.rangeMap.indexAt(t),end:this.rangeMap.indexAfter(t+s-1)}}_rerender(t,s,l){const u=this.getRenderRange(t,s);let h,f;t===this.elementTop(u.start)?(h=u.start,f=0):u.end-u.start>1&&(h=u.start+1,f=this.elementTop(h)-t);let m=0;for(;;){const A=this.getRenderRange(t,s);let C=!1;for(let w=A.start;w<A.end;w++){const k=this.probeDynamicHeight(w);k!==0&&this.rangeMap.splice(w,1,[this.items[w]]),m+=k,C=C||k!==0}if(!C){m!==0&&this.eventuallyUpdateScrollDimensions();const w=dr.relativeComplement(u,A);for(const D of w)for(let I=D.start;I<D.end;I++)this.items[I].row&&this.removeItemFromDOM(I);const k=dr.relativeComplement(A,u);for(const D of k)for(let I=D.start;I<D.end;I++){const N=I+1,R=N<this.items.length?this.items[N].row:null,O=R?R.domNode:null;this.insertItemInDOM(I,O)}for(let D=A.start;D<A.end;D++)this.items[D].row&&this.updateItemInDOM(this.items[D],D);if(typeof h=="number"){const D=this.scrollable.getFutureScrollPosition().scrollTop-t,I=this.elementTop(h)-f+D;this.setScrollTop(I,l)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(t){const s=this.items[t];if(this.virtualDelegate.getDynamicHeight){const f=this.virtualDelegate.getDynamicHeight(s.element);if(f!==null){const m=s.size;return s.size=f,s.lastDynamicHeightWidth=this.renderWidth,f-m}}if(!s.hasDynamicHeight||s.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(s.element))return 0;const l=s.size;if(!this.setRowHeight&&s.row){let f=s.row.domNode.offsetHeight;return s.size=f,s.lastDynamicHeightWidth=this.renderWidth,f-l}const u=this.cache.alloc(s.templateId);u.domNode.style.height="",this.rowsContainer.appendChild(u.domNode);const h=this.renderers.get(s.templateId);return h&&(h.renderElement(s.element,t,u.templateData,void 0),h.disposeElement&&h.disposeElement(s.element,t,u.templateData,void 0)),s.size=u.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(s.element,s.size),s.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(u.domNode),this.cache.release(u),s.size-l}getNextToLastElement(t){const s=t[t.length-1];if(!s)return null;const l=this.items[s.end];return!l||!l.row?null:l.row.domNode}getElementDomId(t){return`${this.domId}_${t}`}dispose(){if(this.items){for(const t of this.items)if(t.row){const s=this.renderers.get(t.row.templateId);s&&(s.disposeElement&&s.disposeElement(t.element,-1,t.row.templateData,void 0),s.disposeTemplate(t.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),mi(this.disposables)}}c2.InstanceCount=0;Mf([gs],c2.prototype,"onMouseClick",null);Mf([gs],c2.prototype,"onMouseDblClick",null);Mf([gs],c2.prototype,"onMouseMiddleClick",null);Mf([gs],c2.prototype,"onMouseDown",null);Mf([gs],c2.prototype,"onContextMenu",null);Mf([gs],c2.prototype,"onTouchStart",null);Mf([gs],c2.prototype,"onTap",null);var Pf=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},sF=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class f4e{constructor(t){this.trait=t,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(t){return t}renderElement(t,s,l){const u=this.renderedElements.findIndex(h=>h.templateData===l);if(u>=0){const h=this.renderedElements[u];this.trait.unrender(l),h.index=s}else{const h={index:s,templateData:l};this.renderedElements.push(h)}this.trait.renderIndex(s,l)}splice(t,s,l){const u=[];for(const h of this.renderedElements)h.index<t?u.push(h):h.index>=t+s&&u.push({index:h.index+l-s,templateData:h.templateData});this.renderedElements=u}renderIndexes(t){for(const{index:s,templateData:l}of this.renderedElements)t.indexOf(s)>-1&&this.trait.renderIndex(s,l)}disposeTemplate(t){const s=this.renderedElements.findIndex(l=>l.templateData===t);s<0||this.renderedElements.splice(s,1)}}class jC{constructor(t){this._trait=t,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new he,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new f4e(this)}splice(t,s,l){var u;s=Math.max(0,Math.min(s,this.length-t));const h=l.length-s,f=t+s,m=[...this.sortedIndexes.filter(C=>C<t),...l.map((C,w)=>C?w+t:-1).filter(C=>C!==-1),...this.sortedIndexes.filter(C=>C>=f).map(C=>C+h)],A=this.length+h;if(this.sortedIndexes.length>0&&m.length===0&&A>0){const C=(u=this.sortedIndexes.find(w=>w>=t))!==null&&u!==void 0?u:A-1;m.push(Math.min(C,A-1))}this.renderer.splice(t,s,l.length),this._set(m,m),this.length=A}renderIndex(t,s){s.classList.toggle(this._trait,this.contains(t))}unrender(t){t.classList.remove(this._trait)}set(t,s){return this._set(t,[...t].sort(oF),s)}_set(t,s,l){const u=this.indexes,h=this.sortedIndexes;this.indexes=t,this.sortedIndexes=s;const f=O7(h,t);return this.renderer.renderIndexes(f),this._onChange.fire({indexes:t,browserEvent:l}),u}get(){return this.indexes}contains(t){return MD(this.sortedIndexes,t,oF)>=0}dispose(){mi(this._onChange)}}Pf([gs],jC.prototype,"renderer",null);class g4e extends jC{constructor(t){super("selected"),this.setAriaSelected=t}renderIndex(t,s){super.renderIndex(t,s),this.setAriaSelected&&(this.contains(t)?s.setAttribute("aria-selected","true"):s.setAttribute("aria-selected","false"))}}class d9{constructor(t,s,l){this.trait=t,this.view=s,this.identityProvider=l}splice(t,s,l){if(!this.identityProvider)return this.trait.splice(t,s,l.map(()=>!1));const u=this.trait.get().map(f=>this.identityProvider.getId(this.view.element(f)).toString()),h=l.map(f=>u.indexOf(this.identityProvider.getId(f).toString())>-1);this.trait.splice(t,s,h)}}function th(d){return d.tagName==="INPUT"||d.tagName==="TEXTAREA"}function ng(d){return d.classList.contains("monaco-editor")?!0:d.classList.contains("monaco-list")||!d.parentElement?!1:ng(d.parentElement)}class YU{constructor(t,s,l){this.list=t,this.view=s,this.disposables=new je,this.multipleSelectionDisposables=new je,this.onKeyDown.filter(u=>u.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(u=>u.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(u=>u.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(u=>u.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(u=>u.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(u=>u.keyCode===9).on(this.onEscape,this,this.disposables),l.multipleSelectionSupport!==!1&&this.onKeyDown.filter(u=>(Jt?u.metaKey:u.ctrlKey)&&u.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return ft.chain(this.disposables.add(new Ui(this.view.domNode,"keydown")).event).filter(t=>!th(t.target)).map(t=>new hn(t))}updateOptions(t){t.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),t.multipleSelectionSupport&&this.onKeyDown.filter(s=>(Jt?s.metaKey:s.ctrlKey)&&s.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(this.list.getFocus(),t.browserEvent)}onUpArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusPrevious(1,!1,t.browserEvent);const s=this.list.getFocus()[0];this.list.setAnchor(s),this.list.reveal(s),this.view.domNode.focus()}onDownArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusNext(1,!1,t.browserEvent);const s=this.list.getFocus()[0];this.list.setAnchor(s),this.list.reveal(s),this.view.domNode.focus()}onPageUpArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusPreviousPage(t.browserEvent);const s=this.list.getFocus()[0];this.list.setAnchor(s),this.list.reveal(s),this.view.domNode.focus()}onPageDownArrow(t){t.preventDefault(),t.stopPropagation(),this.list.focusNextPage(t.browserEvent);const s=this.list.getFocus()[0];this.list.setAnchor(s),this.list.reveal(s),this.view.domNode.focus()}onCtrlA(t){t.preventDefault(),t.stopPropagation(),this.list.setSelection(Hr(this.list.length),t.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(t){this.list.getSelection().length&&(t.preventDefault(),t.stopPropagation(),this.list.setSelection([],t.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Pf([gs],YU.prototype,"onKeyDown",null);var sg;(function(d){d[d.Idle=0]="Idle",d[d.Typing=1]="Typing"})(sg||(sg={}));const $U=new class{mightProducePrintableCharacter(d){return d.ctrlKey||d.metaKey||d.altKey?!1:d.keyCode>=31&&d.keyCode<=56||d.keyCode>=21&&d.keyCode<=30||d.keyCode>=93&&d.keyCode<=102||d.keyCode>=80&&d.keyCode<=90}};class m4e{constructor(t,s,l,u){this.list=t,this.view=s,this.keyboardNavigationLabelProvider=l,this.delegate=u,this.enabled=!1,this.state=sg.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new je,this.disposables=new je,this.updateOptions(t.options)}updateOptions(t){(typeof t.enableKeyboardNavigation>"u"?!0:!!t.enableKeyboardNavigation)?this.enable():this.disable(),typeof t.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=t.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const t=ft.chain(this.enabledDisposables.add(new Ui(this.view.domNode,"keydown")).event).filter(u=>!th(u.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(u=>new hn(u)).filter(u=>this.delegate.mightProducePrintableCharacter(u)).forEach(u=>u.preventDefault()).map(u=>u.browserEvent.key).event,s=ft.debounce(t,()=>null,800);ft.reduce(ft.any(t,s),(u,h)=>h===null?null:(u||"")+h)(this.onInput,this,this.enabledDisposables),s(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var t;const s=this.list.getFocus();if(s.length>0&&s[0]===this.previouslyFocused){const l=(t=this.list.options.accessibilityProvider)===null||t===void 0?void 0:t.getAriaLabel(this.list.element(s[0]));l&&qs(l)}this.previouslyFocused=-1}onInput(t){if(!t){this.state=sg.Idle,this.triggered=!1;return}const s=this.list.getFocus(),l=s.length>0?s[0]:0,u=this.state===sg.Idle?1:0;this.state=sg.Typing;for(let h=0;h<this.list.length;h++){const f=(l+h+u)%this.list.length,m=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(f)),A=m&&m.toString();if(typeof A>"u"||uv(t,A)){this.previouslyFocused=l,this.list.setFocus([f]),this.list.reveal(f);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class p4e{constructor(t,s){this.list=t,this.view=s,this.disposables=new je,ft.chain(this.disposables.add(new Ui(s.domNode,"keydown")).event).filter(u=>!th(u.target)).map(u=>new hn(u)).filter(u=>u.keyCode===2&&!u.ctrlKey&&!u.metaKey&&!u.shiftKey&&!u.altKey).on(this.onTab,this,this.disposables)}onTab(t){if(t.target!==this.view.domNode)return;const s=this.list.getFocus();if(s.length===0)return;const l=this.view.domElement(s[0]);if(!l)return;const u=l.querySelector("[tabIndex]");if(!u||!(u instanceof HTMLElement)||u.tabIndex===-1)return;const h=window.getComputedStyle(u);h.visibility==="hidden"||h.display==="none"||(t.preventDefault(),t.stopPropagation(),u.focus())}dispose(){this.disposables.dispose()}}function KU(d){return Jt?d.browserEvent.metaKey:d.browserEvent.ctrlKey}function XU(d){return d.browserEvent.shiftKey}function A4e(d){return d instanceof MouseEvent&&d.button===2}const rF={isSelectionSingleChangeEvent:KU,isSelectionRangeChangeEvent:XU};class JU{constructor(t){this.list=t,this.disposables=new je,this._onPointer=new he,this.onPointer=this._onPointer.event,t.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||rF),this.mouseSupport=typeof t.options.mouseSupport>"u"||!!t.options.mouseSupport,this.mouseSupport&&(t.onMouseDown(this.onMouseDown,this,this.disposables),t.onContextMenu(this.onContextMenu,this,this.disposables),t.onMouseDblClick(this.onDoubleClick,this,this.disposables),t.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Wi.addTarget(t.getHTMLElement()))),ft.any(t.onMouseClick,t.onMouseMiddleClick,t.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(t){t.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,t.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||rF))}isSelectionSingleChangeEvent(t){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(t):!1}isSelectionRangeChangeEvent(t){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(t):!1}isSelectionChangeEvent(t){return this.isSelectionSingleChangeEvent(t)||this.isSelectionRangeChangeEvent(t)}onMouseDown(t){ng(t.browserEvent.target)||document.activeElement!==t.browserEvent.target&&this.list.domFocus()}onContextMenu(t){if(ng(t.browserEvent.target))return;const s=typeof t.index>"u"?[]:[t.index];this.list.setFocus(s,t.browserEvent)}onViewPointer(t){if(!this.mouseSupport||th(t.browserEvent.target)||ng(t.browserEvent.target))return;const s=t.index;if(typeof s>"u"){this.list.setFocus([],t.browserEvent),this.list.setSelection([],t.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(t))return this.changeSelection(t);if(this.isSelectionChangeEvent(t))return this.changeSelection(t);this.list.setFocus([s],t.browserEvent),this.list.setAnchor(s),A4e(t.browserEvent)||this.list.setSelection([s],t.browserEvent),this._onPointer.fire(t)}onDoubleClick(t){if(th(t.browserEvent.target)||ng(t.browserEvent.target)||this.isSelectionChangeEvent(t))return;const s=this.list.getFocus();this.list.setSelection(s,t.browserEvent)}changeSelection(t){const s=t.index;let l=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(t)){if(typeof l>"u"){const w=this.list.getFocus()[0];l=w??s,this.list.setAnchor(l)}const u=Math.min(l,s),h=Math.max(l,s),f=Hr(u,h+1),m=this.list.getSelection(),A=w4e(O7(m,[l]),l);if(A.length===0)return;const C=O7(f,v4e(m,A));this.list.setSelection(C,t.browserEvent),this.list.setFocus([s],t.browserEvent)}else if(this.isSelectionSingleChangeEvent(t)){const u=this.list.getSelection(),h=u.filter(f=>f!==s);this.list.setFocus([s]),this.list.setAnchor(s),u.length===h.length?this.list.setSelection([...h,s],t.browserEvent):this.list.setSelection(h,t.browserEvent)}}dispose(){this.disposables.dispose()}}class qU{constructor(t,s){this.styleElement=t,this.selectorSuffix=s}style(t){const s=this.selectorSuffix&&`.${this.selectorSuffix}`,l=[];t.listBackground&&(t.listBackground.isOpaque()?l.push(`.monaco-list${s} .monaco-list-rows { background: ${t.listBackground}; }`):Jt||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),t.listFocusBackground&&(l.push(`.monaco-list${s}:focus .monaco-list-row.focused { background-color: ${t.listFocusBackground}; }`),l.push(`.monaco-list${s}:focus .monaco-list-row.focused:hover { background-color: ${t.listFocusBackground}; }`)),t.listFocusForeground&&l.push(`.monaco-list${s}:focus .monaco-list-row.focused { color: ${t.listFocusForeground}; }`),t.listActiveSelectionBackground&&(l.push(`.monaco-list${s}:focus .monaco-list-row.selected { background-color: ${t.listActiveSelectionBackground}; }`),l.push(`.monaco-list${s}:focus .monaco-list-row.selected:hover { background-color: ${t.listActiveSelectionBackground}; }`)),t.listActiveSelectionForeground&&l.push(`.monaco-list${s}:focus .monaco-list-row.selected { color: ${t.listActiveSelectionForeground}; }`),t.listActiveSelectionIconForeground&&l.push(`.monaco-list${s}:focus .monaco-list-row.selected .codicon { color: ${t.listActiveSelectionIconForeground}; }`),t.listFocusAndSelectionBackground&&l.push(`
				.monaco-drag-image,
				.monaco-list${s}:focus .monaco-list-row.selected.focused { background-color: ${t.listFocusAndSelectionBackground}; }
			`),t.listFocusAndSelectionForeground&&l.push(`
				.monaco-drag-image,
				.monaco-list${s}:focus .monaco-list-row.selected.focused { color: ${t.listFocusAndSelectionForeground}; }
			`),t.listInactiveFocusForeground&&(l.push(`.monaco-list${s} .monaco-list-row.focused { color:  ${t.listInactiveFocusForeground}; }`),l.push(`.monaco-list${s} .monaco-list-row.focused:hover { color:  ${t.listInactiveFocusForeground}; }`)),t.listInactiveSelectionIconForeground&&l.push(`.monaco-list${s} .monaco-list-row.focused .codicon { color:  ${t.listInactiveSelectionIconForeground}; }`),t.listInactiveFocusBackground&&(l.push(`.monaco-list${s} .monaco-list-row.focused { background-color:  ${t.listInactiveFocusBackground}; }`),l.push(`.monaco-list${s} .monaco-list-row.focused:hover { background-color:  ${t.listInactiveFocusBackground}; }`)),t.listInactiveSelectionBackground&&(l.push(`.monaco-list${s} .monaco-list-row.selected { background-color:  ${t.listInactiveSelectionBackground}; }`),l.push(`.monaco-list${s} .monaco-list-row.selected:hover { background-color:  ${t.listInactiveSelectionBackground}; }`)),t.listInactiveSelectionForeground&&l.push(`.monaco-list${s} .monaco-list-row.selected { color: ${t.listInactiveSelectionForeground}; }`),t.listHoverBackground&&l.push(`.monaco-list${s}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${t.listHoverBackground}; }`),t.listHoverForeground&&l.push(`.monaco-list${s} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${t.listHoverForeground}; }`),t.listSelectionOutline&&l.push(`.monaco-list${s} .monaco-list-row.selected { outline: 1px dotted ${t.listSelectionOutline}; outline-offset: -1px; }`),t.listFocusOutline&&l.push(`
				.monaco-drag-image,
				.monaco-list${s}:focus .monaco-list-row.focused { outline: 1px solid ${t.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${s}.last-focused .monaco-list-row.focused { outline: 1px solid ${t.listFocusOutline}; outline-offset: -1px; }
			`),t.listInactiveFocusOutline&&l.push(`.monaco-list${s} .monaco-list-row.focused { outline: 1px dotted ${t.listInactiveFocusOutline}; outline-offset: -1px; }`),t.listHoverOutline&&l.push(`.monaco-list${s} .monaco-list-row:hover { outline: 1px dashed ${t.listHoverOutline}; outline-offset: -1px; }`),t.listDropBackground&&l.push(`
				.monaco-list${s}.drop-target,
				.monaco-list${s} .monaco-list-rows.drop-target,
				.monaco-list${s} .monaco-list-row.drop-target { background-color: ${t.listDropBackground} !important; color: inherit !important; }
			`),t.listFilterWidgetBackground&&l.push(`.monaco-list-type-filter { background-color: ${t.listFilterWidgetBackground} }`),t.listFilterWidgetOutline&&l.push(`.monaco-list-type-filter { border: 1px solid ${t.listFilterWidgetOutline}; }`),t.listFilterWidgetNoMatchesOutline&&l.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${t.listFilterWidgetNoMatchesOutline}; }`),t.listMatchesShadow&&l.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${t.listMatchesShadow}; }`),t.tableColumnsBorder&&l.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${t.tableColumnsBorder};
			}`),t.tableOddRowsBackgroundColor&&l.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${t.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=l.join(`
`)}}const _4e={listFocusBackground:ke.fromHex("#7FB0D0"),listActiveSelectionBackground:ke.fromHex("#0E639C"),listActiveSelectionForeground:ke.fromHex("#FFFFFF"),listActiveSelectionIconForeground:ke.fromHex("#FFFFFF"),listFocusAndSelectionBackground:ke.fromHex("#094771"),listFocusAndSelectionForeground:ke.fromHex("#FFFFFF"),listInactiveSelectionBackground:ke.fromHex("#3F3F46"),listInactiveSelectionIconForeground:ke.fromHex("#FFFFFF"),listHoverBackground:ke.fromHex("#2A2D2E"),listDropBackground:ke.fromHex("#383B3D"),treeIndentGuidesStroke:ke.fromHex("#a9a9a9"),tableColumnsBorder:ke.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:ke.fromHex("#cccccc").transparent(.04)},C4e={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function w4e(d,t){const s=d.indexOf(t);if(s===-1)return[];const l=[];let u=s-1;for(;u>=0&&d[u]===t-(s-u);)l.push(d[u--]);for(l.reverse(),u=s;u<d.length&&d[u]===t+(u-s);)l.push(d[u++]);return l}function O7(d,t){const s=[];let l=0,u=0;for(;l<d.length||u<t.length;)if(l>=d.length)s.push(t[u++]);else if(u>=t.length)s.push(d[l++]);else if(d[l]===t[u]){s.push(d[l]),l++,u++;continue}else d[l]<t[u]?s.push(d[l++]):s.push(t[u++]);return s}function v4e(d,t){const s=[];let l=0,u=0;for(;l<d.length||u<t.length;)if(l>=d.length)s.push(t[u++]);else if(u>=t.length)s.push(d[l++]);else if(d[l]===t[u]){l++,u++;continue}else d[l]<t[u]?s.push(d[l++]):u++;return s}const oF=(d,t)=>d-t;class k4e{constructor(t,s){this._templateId=t,this.renderers=s}get templateId(){return this._templateId}renderTemplate(t){return this.renderers.map(s=>s.renderTemplate(t))}renderElement(t,s,l,u){let h=0;for(const f of this.renderers)f.renderElement(t,s,l[h++],u)}disposeElement(t,s,l,u){let h=0;for(const f of this.renderers)f.disposeElement&&f.disposeElement(t,s,l[h],u),h+=1}disposeTemplate(t){let s=0;for(const l of this.renderers)l.disposeTemplate(t[s++])}}class b4e{constructor(t){this.accessibilityProvider=t,this.templateId="a18n"}renderTemplate(t){return t}renderElement(t,s,l){const u=this.accessibilityProvider.getAriaLabel(t);u?l.setAttribute("aria-label",u):l.removeAttribute("aria-label");const h=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);typeof h=="number"?l.setAttribute("aria-level",`${h}`):l.removeAttribute("aria-level")}disposeTemplate(t){}}class S4e{constructor(t,s){this.list=t,this.dnd=s}getDragElements(t){const s=this.list.getSelectedElements();return s.indexOf(t)>-1?s:[t]}getDragURI(t){return this.dnd.getDragURI(t)}getDragLabel(t,s){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t,s)}onDragStart(t,s){this.dnd.onDragStart&&this.dnd.onDragStart(t,s)}onDragOver(t,s,l,u){return this.dnd.onDragOver(t,s,l,u)}onDragLeave(t,s,l,u){var h,f;(f=(h=this.dnd).onDragLeave)===null||f===void 0||f.call(h,t,s,l,u)}onDragEnd(t){this.dnd.onDragEnd&&this.dnd.onDragEnd(t)}drop(t,s,l,u){this.dnd.drop(t,s,l,u)}}class x0{constructor(t,s,l,u,h=C4e){var f;this.user=t,this._options=h,this.focus=new jC("focused"),this.anchor=new jC("anchor"),this.eventBufferer=new UD,this._ariaLabel="",this.disposables=new je,this._onDidDispose=new he,this.onDidDispose=this._onDidDispose.event;const m=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(f=this._options.accessibilityProvider)===null||f===void 0?void 0:f.getWidgetRole():"list";this.selection=new g4e(m!=="listbox"),S0(h,_4e,!1);const A=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=h.accessibilityProvider,this.accessibilityProvider&&(A.push(new b4e(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),u=u.map(w=>new k4e(w.templateId,[...A,w]));const C=Object.assign(Object.assign({},h),{dnd:h.dnd&&new S4e(this,h.dnd)});if(this.view=new c2(s,l,u,C),this.view.domNode.setAttribute("role",m),h.styleController)this.styleController=h.styleController(this.view.domId);else{const w=Vl(this.view.domNode);this.styleController=new qU(w,this.view.domId)}if(this.spliceable=new s4e([new d9(this.focus,this.view,h.identityProvider),new d9(this.selection,this.view,h.identityProvider),new d9(this.anchor,this.view,h.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new p4e(this,this.view)),(typeof h.keyboardSupport!="boolean"||h.keyboardSupport)&&(this.keyboardController=new YU(this,this.view,h),this.disposables.add(this.keyboardController)),h.keyboardNavigationLabelProvider){const w=h.keyboardNavigationDelegate||$U;this.typeLabelController=new m4e(this,this.view,h.keyboardNavigationLabelProvider,w),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(h),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return ft.map(this.eventBufferer.wrapEvent(this.focus.onChange),t=>this.toListEvent(t))}get onDidChangeSelection(){return ft.map(this.eventBufferer.wrapEvent(this.selection.onChange),t=>this.toListEvent(t))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let t=!1;const s=ft.chain(this.disposables.add(new Ui(this.view.domNode,"keydown")).event).map(h=>new hn(h)).filter(h=>t=h.keyCode===58||h.shiftKey&&h.keyCode===68).map(dO).filter(()=>!1).event,l=ft.chain(this.disposables.add(new Ui(this.view.domNode,"keyup")).event).forEach(()=>t=!1).map(h=>new hn(h)).filter(h=>h.keyCode===58||h.shiftKey&&h.keyCode===68).map(dO).map(({browserEvent:h})=>{const f=this.getFocus(),m=f.length?f[0]:void 0,A=typeof m<"u"?this.view.element(m):void 0,C=typeof m<"u"?this.view.domElement(m):this.view.domNode;return{index:m,element:A,anchor:C,browserEvent:h}}).event,u=ft.chain(this.view.onContextMenu).filter(h=>!t).map(({element:h,index:f,browserEvent:m})=>({element:h,index:f,anchor:{x:m.pageX+1,y:m.pageY},browserEvent:m})).event;return ft.any(s,l,u)}get onKeyDown(){return this.disposables.add(new Ui(this.view.domNode,"keydown")).event}get onDidFocus(){return ft.signal(this.disposables.add(new Ui(this.view.domNode,"focus",!0)).event)}createMouseController(t){return new JU(this)}updateOptions(t={}){var s;this._options=Object.assign(Object.assign({},this._options),t),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(t),(s=this.keyboardController)===null||s===void 0||s.updateOptions(t),this.view.updateOptions(t)}get options(){return this._options}splice(t,s,l=[]){if(t<0||t>this.view.length)throw new Zh(this.user,`Invalid start index: ${t}`);if(s<0)throw new Zh(this.user,`Invalid delete count: ${s}`);s===0&&l.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(t,s,l))}rerender(){this.view.rerender()}element(t){return this.view.element(t)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(t){this.view.setScrollTop(t)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){this._ariaLabel=t,this.view.domNode.setAttribute("aria-label",t)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(t,s){this.view.layout(t,s)}setSelection(t,s){for(const l of t)if(l<0||l>=this.length)throw new Zh(this.user,`Invalid index ${l}`);this.selection.set(t,s)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(t=>this.view.element(t))}setAnchor(t){if(typeof t>"u"){this.anchor.set([]);return}if(t<0||t>=this.length)throw new Zh(this.user,`Invalid index ${t}`);this.anchor.set([t])}getAnchor(){return gW(this.anchor.get(),void 0)}getAnchorElement(){const t=this.getAnchor();return typeof t>"u"?void 0:this.element(t)}setFocus(t,s){for(const l of t)if(l<0||l>=this.length)throw new Zh(this.user,`Invalid index ${l}`);this.focus.set(t,s)}focusNext(t=1,s=!1,l,u){if(this.length===0)return;const h=this.focus.get(),f=this.findNextIndex(h.length>0?h[0]+t:0,s,u);f>-1&&this.setFocus([f],l)}focusPrevious(t=1,s=!1,l,u){if(this.length===0)return;const h=this.focus.get(),f=this.findPreviousIndex(h.length>0?h[0]-t:0,s,u);f>-1&&this.setFocus([f],l)}focusNextPage(t,s){return sF(this,void 0,void 0,function*(){let l=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);l=l===0?0:l-1;const u=this.view.element(l),h=this.getFocusedElements()[0];if(h!==u){const f=this.findPreviousIndex(l,!1,s);f>-1&&h!==this.view.element(f)?this.setFocus([f],t):this.setFocus([l],t)}else{const f=this.view.getScrollTop();this.view.setScrollTop(f+this.view.renderHeight-this.view.elementHeight(l)),this.view.getScrollTop()!==f&&(this.setFocus([]),yield zu(0),yield this.focusNextPage(t,s))}})}focusPreviousPage(t,s){return sF(this,void 0,void 0,function*(){let l;const u=this.view.getScrollTop();u===0?l=this.view.indexAt(u):l=this.view.indexAfter(u-1);const h=this.view.element(l),f=this.getFocusedElements()[0];if(f!==h){const m=this.findNextIndex(l,!1,s);m>-1&&f!==this.view.element(m)?this.setFocus([m],t):this.setFocus([l],t)}else{const m=u;this.view.setScrollTop(u-this.view.renderHeight),this.view.getScrollTop()!==m&&(this.setFocus([]),yield zu(0),yield this.focusPreviousPage(t,s))}})}focusLast(t,s){if(this.length===0)return;const l=this.findPreviousIndex(this.length-1,!1,s);l>-1&&this.setFocus([l],t)}focusFirst(t,s){this.focusNth(0,t,s)}focusNth(t,s,l){if(this.length===0)return;const u=this.findNextIndex(t,!1,l);u>-1&&this.setFocus([u],s)}findNextIndex(t,s=!1,l){for(let u=0;u<this.length;u++){if(t>=this.length&&!s)return-1;if(t=t%this.length,!l||l(this.element(t)))return t;t++}return-1}findPreviousIndex(t,s=!1,l){for(let u=0;u<this.length;u++){if(t<0&&!s)return-1;if(t=(this.length+t%this.length)%this.length,!l||l(this.element(t)))return t;t--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(t=>this.view.element(t))}reveal(t,s){if(t<0||t>=this.length)throw new Zh(this.user,`Invalid index ${t}`);const l=this.view.getScrollTop(),u=this.view.elementTop(t),h=this.view.elementHeight(t);if(Od(s)){const f=h-this.view.renderHeight;this.view.setScrollTop(f*Io(s,0,1)+u)}else{const f=u+h,m=l+this.view.renderHeight;u<l&&f>=m||(u<l||f>=m&&h>=this.view.renderHeight?this.view.setScrollTop(u):f>=m&&this.view.setScrollTop(f-this.view.renderHeight))}}getRelativeTop(t){if(t<0||t>=this.length)throw new Zh(this.user,`Invalid index ${t}`);const s=this.view.getScrollTop(),l=this.view.elementTop(t),u=this.view.elementHeight(t);if(l<s||l+u>s+this.view.renderHeight)return null;const h=u-this.view.renderHeight;return Math.abs((s-l)/h)}getHTMLElement(){return this.view.domNode}style(t){this.styleController.style(t)}toListEvent({indexes:t,browserEvent:s}){return{indexes:t,elements:t.map(l=>this.view.element(l)),browserEvent:s}}_onFocusChange(){const t=this.focus.get();this.view.domNode.classList.toggle("element-focused",t.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var t;const s=this.focus.get();if(s.length>0){let l;!((t=this.accessibilityProvider)===null||t===void 0)&&t.getActiveDescendantId&&(l=this.accessibilityProvider.getActiveDescendantId(this.view.element(s[0]))),this.view.domNode.setAttribute("aria-activedescendant",l||this.view.getElementDomId(s[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const t=this.selection.get();this.view.domNode.classList.toggle("selection-none",t.length===0),this.view.domNode.classList.toggle("selection-single",t.length===1),this.view.domNode.classList.toggle("selection-multiple",t.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Pf([gs],x0.prototype,"onDidChangeFocus",null);Pf([gs],x0.prototype,"onDidChangeSelection",null);Pf([gs],x0.prototype,"onContextMenu",null);Pf([gs],x0.prototype,"onKeyDown",null);Pf([gs],x0.prototype,"onDidFocus",null);class y4e{constructor(t,s){this.renderer=t,this.modelProvider=s}get templateId(){return this.renderer.templateId}renderTemplate(t){return{data:this.renderer.renderTemplate(t),disposable:Se.None}}renderElement(t,s,l,u){if(l.disposable&&l.disposable.dispose(),!l.data)return;const h=this.modelProvider();if(h.isResolved(t))return this.renderer.renderElement(h.get(t),t,l.data,u);const f=new tr,m=h.resolve(t,f.token);l.disposable={dispose:()=>f.cancel()},this.renderer.renderPlaceholder(t,l.data),m.then(A=>this.renderer.renderElement(A,t,l.data,u))}disposeTemplate(t){t.disposable&&(t.disposable.dispose(),t.disposable=void 0),t.data&&(this.renderer.disposeTemplate(t.data),t.data=void 0)}}class L4e{constructor(t,s){this.modelProvider=t,this.accessibilityProvider=s}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(t){const s=this.modelProvider();return s.isResolved(t)?this.accessibilityProvider.getAriaLabel(s.get(t)):null}}function D4e(d,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new L4e(d,t.accessibilityProvider)})}class I4e{constructor(t,s,l,u,h={}){const f=()=>this.model,m=u.map(A=>new y4e(A,f));this.list=new x0(t,s,l,m,D4e(f,h))}updateOptions(t){this.list.updateOptions(t)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return ft.map(this.list.onMouseDblClick,({element:t,index:s,browserEvent:l})=>({element:t===void 0?void 0:this._model.get(t),index:s,browserEvent:l}))}get onPointer(){return ft.map(this.list.onPointer,({element:t,index:s,browserEvent:l})=>({element:t===void 0?void 0:this._model.get(t),index:s,browserEvent:l}))}get onDidChangeSelection(){return ft.map(this.list.onDidChangeSelection,({elements:t,indexes:s,browserEvent:l})=>({elements:t.map(u=>this._model.get(u)),indexes:s,browserEvent:l}))}get model(){return this._model}set model(t){this._model=t,this.list.splice(0,this.list.length,Hr(t.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(t=>this.model.get(t))}style(t){this.list.style(t)}dispose(){this.list.dispose()}}const x4e={separatorBorder:ke.transparent};class ez{constructor(t,s,l,u){this.container=t,this.view=s,this.disposable=u,this._cachedVisibleSize=void 0,typeof l=="number"?(this._size=l,this._cachedVisibleSize=void 0,t.classList.add("visible")):(this._size=0,this._cachedVisibleSize=l.cachedVisibleSize)}set size(t){this._size=t}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(t,s){t!==this.visible&&(t?(this.size=Io(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof s=="number"?s:this.size,this.size=0),this.container.classList.toggle("visible",t),this.view.setVisible&&this.view.setVisible(t))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(t){this.container.style.pointerEvents=t?"":"none"}layout(t,s){this.layoutContainer(t),this.view.layout(this.size,t,s)}dispose(){return this.disposable.dispose(),this.view}}class E4e extends ez{layoutContainer(t){this.container.style.top=`${t}px`,this.container.style.height=`${this.size}px`}}class N4e extends ez{layoutContainer(t){this.container.style.left=`${t}px`,this.container.style.width=`${this.size}px`}}var sc;(function(d){d[d.Idle=0]="Idle",d[d.Busy=1]="Busy"})(sc||(sc={}));var ZC;(function(d){d.Distribute={type:"distribute"};function t(l){return{type:"split",index:l}}d.Split=t;function s(l){return{type:"invisible",cachedVisibleSize:l}}d.Invisible=s})(ZC||(ZC={}));class tz extends Se{constructor(t,s={}){var l,u,h,f,m;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=sc.Idle,this._onDidSashChange=this._register(new he),this._onDidSashReset=this._register(new he),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(l=s.orientation)!==null&&l!==void 0?l:0,this.inverseAltBehavior=(u=s.inverseAltBehavior)!==null&&u!==void 0?u:!1,this.proportionalLayout=(h=s.proportionalLayout)!==null&&h!==void 0?h:!0,this.getSashOrthogonalSize=s.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),t.appendChild(this.el),this.sashContainer=Re(this.el,Ue(".sash-container")),this.viewContainer=Ue(".split-view-container"),this.scrollable=new p_({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:n2}),this.scrollableElement=this._register(new GI(this.viewContainer,{vertical:this.orientation===0?(f=s.scrollbarVisibility)!==null&&f!==void 0?f:1:2,horizontal:this.orientation===1?(m=s.scrollbarVisibility)!==null&&m!==void 0?m:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(A=>{this.viewContainer.scrollTop=A.scrollTop,this.viewContainer.scrollLeft=A.scrollLeft})),Re(this.el,this.scrollableElement.getDomNode()),this.style(s.styles||x4e),s.descriptor&&(this.size=s.descriptor.size,s.descriptor.views.forEach((A,C)=>{const w=No(A.visible)||A.visible?A.size:{type:"invisible",cachedVisibleSize:A.size},k=A.view;this.doAddView(k,w,C,!0)}),this.contentSize=this.viewItems.reduce((A,C)=>A+C.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(t){for(const s of this.sashItems)s.sash.orthogonalStartSash=t;this._orthogonalStartSash=t}set orthogonalEndSash(t){for(const s of this.sashItems)s.sash.orthogonalEndSash=t;this._orthogonalEndSash=t}set startSnappingEnabled(t){this._startSnappingEnabled!==t&&(this._startSnappingEnabled=t,this.updateSashEnablement())}set endSnappingEnabled(t){this._endSnappingEnabled!==t&&(this._endSnappingEnabled=t,this.updateSashEnablement())}style(t){t.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",t.separatorBorder.toString()))}addView(t,s,l=this.viewItems.length,u){this.doAddView(t,s,l,u)}layout(t,s){const l=Math.max(this.size,this.contentSize);if(this.size=t,this.layoutContext=s,this.proportions)for(let u=0;u<this.viewItems.length;u++){const h=this.viewItems[u];h.size=Io(Math.round(this.proportions[u]*t),h.minimumSize,h.maximumSize)}else{const u=Hr(this.viewItems.length),h=u.filter(m=>this.viewItems[m].priority===1),f=u.filter(m=>this.viewItems[m].priority===2);this.resize(this.viewItems.length-1,t-l,void 0,h,f)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(t=>t.size/this.contentSize))}onSashStart({sash:t,start:s,alt:l}){for(const m of this.viewItems)m.enabled=!1;const u=this.sashItems.findIndex(m=>m.sash===t),h=vc(ze(document.body,"keydown",m=>f(this.sashDragState.current,m.altKey)),ze(document.body,"keyup",()=>f(this.sashDragState.current,!1))),f=(m,A)=>{const C=this.viewItems.map(N=>N.size);let w=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(A=!A),A)if(u===this.sashItems.length-1){const R=this.viewItems[u];w=(R.minimumSize-R.size)/2,k=(R.maximumSize-R.size)/2}else{const R=this.viewItems[u+1];w=(R.size-R.maximumSize)/2,k=(R.size-R.minimumSize)/2}let D,I;if(!A){const N=Hr(u,-1),R=Hr(u+1,this.viewItems.length),O=N.reduce((J,ne)=>J+(this.viewItems[ne].minimumSize-C[ne]),0),W=N.reduce((J,ne)=>J+(this.viewItems[ne].viewMaximumSize-C[ne]),0),B=R.length===0?Number.POSITIVE_INFINITY:R.reduce((J,ne)=>J+(C[ne]-this.viewItems[ne].minimumSize),0),z=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((J,ne)=>J+(C[ne]-this.viewItems[ne].viewMaximumSize),0),G=Math.max(O,z),K=Math.min(B,W),q=this.findFirstSnapIndex(N),Y=this.findFirstSnapIndex(R);if(typeof q=="number"){const J=this.viewItems[q],ne=Math.floor(J.viewMinimumSize/2);D={index:q,limitDelta:J.visible?G-ne:G+ne,size:J.size}}if(typeof Y=="number"){const J=this.viewItems[Y],ne=Math.floor(J.viewMinimumSize/2);I={index:Y,limitDelta:J.visible?K+ne:K-ne,size:J.size}}}this.sashDragState={start:m,current:m,index:u,sizes:C,minDelta:w,maxDelta:k,alt:A,snapBefore:D,snapAfter:I,disposable:h}};f(s,l)}onSashChange({current:t}){const{index:s,start:l,sizes:u,alt:h,minDelta:f,maxDelta:m,snapBefore:A,snapAfter:C}=this.sashDragState;this.sashDragState.current=t;const w=t-l,k=this.resize(s,w,u,void 0,void 0,f,m,A,C);if(h){const D=s===this.sashItems.length-1,I=this.viewItems.map(z=>z.size),N=D?s:s+1,R=this.viewItems[N],O=R.size-R.maximumSize,W=R.size-R.minimumSize,B=D?s-1:s+1;this.resize(B,-k,I,void 0,void 0,O,W)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(t){this._onDidSashChange.fire(t),this.sashDragState.disposable.dispose(),this.saveProportions();for(const s of this.viewItems)s.enabled=!0}onViewChange(t,s){const l=this.viewItems.indexOf(t);l<0||l>=this.viewItems.length||(s=typeof s=="number"?s:t.size,s=Io(s,t.minimumSize,t.maximumSize),this.inverseAltBehavior&&l>0?(this.resize(l-1,Math.floor((t.size-s)/2)),this.distributeEmptySpace(),this.layoutViews()):(t.size=s,this.relayout([l],void 0)))}resizeView(t,s){if(this.state!==sc.Idle)throw new Error("Cant modify splitview");if(this.state=sc.Busy,t<0||t>=this.viewItems.length)return;const l=Hr(this.viewItems.length).filter(m=>m!==t),u=[...l.filter(m=>this.viewItems[m].priority===1),t],h=l.filter(m=>this.viewItems[m].priority===2),f=this.viewItems[t];s=Math.round(s),s=Io(s,f.minimumSize,Math.min(f.maximumSize,this.size)),f.size=s,this.relayout(u,h),this.state=sc.Idle}distributeViewSizes(){const t=[];let s=0;for(const m of this.viewItems)m.maximumSize-m.minimumSize>0&&(t.push(m),s+=m.size);const l=Math.floor(s/t.length);for(const m of t)m.size=Io(l,m.minimumSize,m.maximumSize);const u=Hr(this.viewItems.length),h=u.filter(m=>this.viewItems[m].priority===1),f=u.filter(m=>this.viewItems[m].priority===2);this.relayout(h,f)}getViewSize(t){return t<0||t>=this.viewItems.length?-1:this.viewItems[t].size}doAddView(t,s,l=this.viewItems.length,u){if(this.state!==sc.Idle)throw new Error("Cant modify splitview");this.state=sc.Busy;const h=Ue(".split-view-view");l===this.viewItems.length?this.viewContainer.appendChild(h):this.viewContainer.insertBefore(h,this.viewContainer.children.item(l));const f=t.onDidChange(D=>this.onViewChange(w,D)),m=$t(()=>this.viewContainer.removeChild(h)),A=vc(f,m);let C;typeof s=="number"?C=s:s.type==="split"?C=this.getViewSize(s.index)/2:s.type==="invisible"?C={cachedVisibleSize:s.cachedVisibleSize}:C=t.minimumSize;const w=this.orientation===0?new E4e(h,t,C,A):new N4e(h,t,C,A);if(this.viewItems.splice(l,0,w),this.viewItems.length>1){let D={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const I=this.orientation===0?new mr(this.sashContainer,{getHorizontalSashTop:J=>this.getSashPosition(J),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},D),{orientation:1})):new mr(this.sashContainer,{getVerticalSashLeft:J=>this.getSashPosition(J),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},D),{orientation:0})),N=this.orientation===0?J=>({sash:I,start:J.startY,current:J.currentY,alt:J.altKey}):J=>({sash:I,start:J.startX,current:J.currentX,alt:J.altKey}),O=ft.map(I.onDidStart,N)(this.onSashStart,this),B=ft.map(I.onDidChange,N)(this.onSashChange,this),G=ft.map(I.onDidEnd,()=>this.sashItems.findIndex(J=>J.sash===I))(this.onSashEnd,this),K=I.onDidReset(()=>{const J=this.sashItems.findIndex(Me=>Me.sash===I),ne=Hr(J,-1),Ae=Hr(J+1,this.viewItems.length),ge=this.findFirstSnapIndex(ne),Te=this.findFirstSnapIndex(Ae);typeof ge=="number"&&!this.viewItems[ge].visible||typeof Te=="number"&&!this.viewItems[Te].visible||this._onDidSashReset.fire(J)}),q=vc(O,B,G,K,I),Y={sash:I,disposable:q};this.sashItems.splice(l-1,0,Y)}h.appendChild(t.element);let k;typeof s!="number"&&s.type==="split"&&(k=[s.index]),u||this.relayout([l],k),this.state=sc.Idle,!u&&typeof s!="number"&&s.type==="distribute"&&this.distributeViewSizes()}relayout(t,s){const l=this.viewItems.reduce((u,h)=>u+h.size,0);this.resize(this.viewItems.length-1,this.size-l,void 0,t,s),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(t,s,l=this.viewItems.map(w=>w.size),u,h,f=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,A,C){if(t<0||t>=this.viewItems.length)return 0;const w=Hr(t,-1),k=Hr(t+1,this.viewItems.length);if(h)for(const Y of h)eb(w,Y),eb(k,Y);if(u)for(const Y of u)M8(w,Y),M8(k,Y);const D=w.map(Y=>this.viewItems[Y]),I=w.map(Y=>l[Y]),N=k.map(Y=>this.viewItems[Y]),R=k.map(Y=>l[Y]),O=w.reduce((Y,J)=>Y+(this.viewItems[J].minimumSize-l[J]),0),W=w.reduce((Y,J)=>Y+(this.viewItems[J].maximumSize-l[J]),0),B=k.length===0?Number.POSITIVE_INFINITY:k.reduce((Y,J)=>Y+(l[J]-this.viewItems[J].minimumSize),0),z=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((Y,J)=>Y+(l[J]-this.viewItems[J].maximumSize),0),G=Math.max(O,z,f),K=Math.min(B,W,m);let q=!1;if(A){const Y=this.viewItems[A.index],J=s>=A.limitDelta;q=J!==Y.visible,Y.setVisible(J,A.size)}if(!q&&C){const Y=this.viewItems[C.index],J=s<C.limitDelta;q=J!==Y.visible,Y.setVisible(J,C.size)}if(q)return this.resize(t,s,l,u,h,f,m);s=Io(s,G,K);for(let Y=0,J=s;Y<D.length;Y++){const ne=D[Y],Ae=Io(I[Y]+J,ne.minimumSize,ne.maximumSize);J-=Ae-I[Y],ne.size=Ae}for(let Y=0,J=s;Y<N.length;Y++){const ne=N[Y],Ae=Io(R[Y]-J,ne.minimumSize,ne.maximumSize);J+=Ae-R[Y],ne.size=Ae}return s}distributeEmptySpace(t){const s=this.viewItems.reduce((m,A)=>m+A.size,0);let l=this.size-s;const u=Hr(this.viewItems.length-1,-1),h=u.filter(m=>this.viewItems[m].priority===1),f=u.filter(m=>this.viewItems[m].priority===2);for(const m of f)eb(u,m);for(const m of h)M8(u,m);typeof t=="number"&&M8(u,t);for(let m=0;l!==0&&m<u.length;m++){const A=this.viewItems[u[m]],C=Io(A.size+l,A.minimumSize,A.maximumSize);l-=C-A.size,A.size=C}}layoutViews(){this.contentSize=this.viewItems.reduce((s,l)=>s+l.size,0);let t=0;for(const s of this.viewItems)s.layout(t,this.layoutContext),t+=s.size;this.sashItems.forEach(s=>s.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let t=!1;const s=this.viewItems.map(A=>t=A.size-A.minimumSize>0||t);t=!1;const l=this.viewItems.map(A=>t=A.maximumSize-A.size>0||t),u=[...this.viewItems].reverse();t=!1;const h=u.map(A=>t=A.size-A.minimumSize>0||t).reverse();t=!1;const f=u.map(A=>t=A.maximumSize-A.size>0||t).reverse();let m=0;for(let A=0;A<this.sashItems.length;A++){const{sash:C}=this.sashItems[A];m+=this.viewItems[A].size;const k=!(s[A]&&f[A+1]),D=!(l[A]&&h[A+1]);if(k&&D){const I=Hr(A,-1),N=Hr(A+1,this.viewItems.length),R=this.findFirstSnapIndex(I),O=this.findFirstSnapIndex(N),W=typeof R=="number"&&!this.viewItems[R].visible,B=typeof O=="number"&&!this.viewItems[O].visible;W&&h[A]&&(m>0||this.startSnappingEnabled)?C.state=1:B&&s[A]&&(m<this.contentSize||this.endSnappingEnabled)?C.state=2:C.state=0}else k&&!D?C.state=1:!k&&D?C.state=2:C.state=3}}getSashPosition(t){let s=0;for(let l=0;l<this.sashItems.length;l++)if(s+=this.viewItems[l].size,this.sashItems[l].sash===t)return s;return 0}findFirstSnapIndex(t){for(const s of t){const l=this.viewItems[s];if(!!l.visible&&l.snap)return s}for(const s of t){const l=this.viewItems[s];if(l.visible&&l.maximumSize-l.minimumSize>0)return;if(!l.visible&&l.snap)return s}}dispose(){super.dispose(),mi(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[]}}class y_{constructor(t,s,l){this.columns=t,this.getColumnSize=l,this.templateId=y_.TemplateId,this.renderedTemplates=new Set;const u=new Map(s.map(h=>[h.templateId,h]));this.renderers=[];for(const h of t){const f=u.get(h.templateId);if(!f)throw new Error(`Table cell renderer for template id ${h.templateId} not found.`);this.renderers.push(f)}}renderTemplate(t){const s=Re(t,Ue(".monaco-table-tr")),l=[],u=[];for(let f=0;f<this.columns.length;f++){const m=this.renderers[f],A=Re(s,Ue(".monaco-table-td",{"data-col-index":f}));A.style.width=`${this.getColumnSize(f)}px`,l.push(A),u.push(m.renderTemplate(A))}const h={container:t,cellContainers:l,cellTemplateData:u};return this.renderedTemplates.add(h),h}renderElement(t,s,l,u){for(let h=0;h<this.columns.length;h++){const m=this.columns[h].project(t);this.renderers[h].renderElement(m,s,l.cellTemplateData[h],u)}}disposeElement(t,s,l,u){for(let h=0;h<this.columns.length;h++){const f=this.renderers[h];if(f.disposeElement){const A=this.columns[h].project(t);f.disposeElement(A,s,l.cellTemplateData[h],u)}}}disposeTemplate(t){for(let s=0;s<this.columns.length;s++)this.renderers[s].disposeTemplate(t.cellTemplateData[s]);vs(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,s){for(const{cellContainers:l}of this.renderedTemplates)l[t].style.width=`${s}px`}}y_.TemplateId="row";function T4e(d){return{getHeight(t){return d.getHeight(t)},getTemplateId(){return y_.TemplateId}}}class R4e{constructor(t,s){this.column=t,this.index=s,this._onDidLayout=new he,this.onDidLayout=this._onDidLayout.event,this.element=Ue(".monaco-table-th",{"data-col-index":s,title:t.tooltip},t.label)}get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:ft.None}layout(t){this._onDidLayout.fire([this.index,t])}}class _v{constructor(t,s,l,u,h,f){this.virtualDelegate=l,this.domId=`table_id_${++_v.InstanceCount}`,this.disposables=new je,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Re(s,Ue(`.monaco-table.${this.domId}`));const m=u.map((w,k)=>new R4e(w,k)),A={size:m.reduce((w,k)=>w+k.column.weight,0),views:m.map(w=>({size:w.column.weight,view:w}))};this.splitview=this.disposables.add(new tz(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:A})),this.splitview.el.style.height=`${l.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${l.headerRowHeight}px`;const C=new y_(u,h,w=>this.splitview.getViewSize(w));this.list=this.disposables.add(new x0(t,this.domNode,T4e(l),[C],f)),ft.any(...m.map(w=>w.onDidLayout))(([w,k])=>C.layoutColumn(w,k),null,this.disposables),this.splitview.onDidSashReset(w=>{const k=u.reduce((I,N)=>I+N.weight,0),D=u[w].weight/k*this.cachedWidth;this.splitview.resizeView(w,D)},null,this.disposables),this.styleElement=Vl(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(t){this.list.updateOptions(t)}splice(t,s,l=[]){this.list.splice(t,s,l)}getHTMLElement(){return this.domNode}style(t){const s=[];s.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=s.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}_v.InstanceCount=0;var EA;(function(d){d[d.Unknown=0]="Unknown",d[d.Twistie=1]="Twistie",d[d.Element=2]="Element"})(EA||(EA={}));class Il extends Error{constructor(t,s){super(`TreeError [${t}] ${s}`)}}class Tx{constructor(t){this.fn=t,this._map=new WeakMap}map(t){let s=this._map.get(t);return s||(s=this.fn(t),this._map.set(t,s)),s}}function Rx(d){return typeof d=="object"&&"visibility"in d&&"data"in d}function L4(d){switch(d){case!0:return 1;case!1:return 0;default:return d}}function f9(d){return typeof d.collapsible=="boolean"}class M4e{constructor(t,s,l,u={}){this.user=t,this.list=s,this.rootRef=[],this.eventBufferer=new UD,this._onDidChangeCollapseState=new he,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new he,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new he,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new p0(eV),this.collapseByDefault=typeof u.collapseByDefault>"u"?!1:u.collapseByDefault,this.filter=u.filter,this.autoExpandSingleChildren=typeof u.autoExpandSingleChildren>"u"?!1:u.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,s,l=gi.empty(),u={}){if(t.length===0)throw new Il(this.user,"Invalid tree location");u.diffIdentityProvider?this.spliceSmart(u.diffIdentityProvider,t,s,l,u):this.spliceSimple(t,s,l,u)}spliceSmart(t,s,l,u,h,f){var m;u===void 0&&(u=gi.empty()),f===void 0&&(f=(m=h.diffDepth)!==null&&m!==void 0?m:0);const{parentNode:A}=this.getParentNodeWithListIndex(s);if(!A.lastDiffIds)return this.spliceSimple(s,l,u,h);const C=[...u],w=s[s.length-1],k=new e0({getElements:()=>A.lastDiffIds},{getElements:()=>[...A.children.slice(0,w),...C,...A.children.slice(w+l)].map(O=>t.getId(O.element).toString())}).ComputeDiff(!1);if(k.quitEarly)return A.lastDiffIds=void 0,this.spliceSimple(s,l,C,h);const D=s.slice(0,-1),I=(O,W,B)=>{if(f>0)for(let z=0;z<B;z++)O--,W--,this.spliceSmart(t,[...D,O,0],Number.MAX_SAFE_INTEGER,C[W].children,h,f-1)};let N=Math.min(A.children.length,w+l),R=C.length;for(const O of k.changes.sort((W,B)=>B.originalStart-W.originalStart))I(N,R,N-(O.originalStart+O.originalLength)),N=O.originalStart,R=O.modifiedStart-w,this.spliceSimple([...D,N],O.originalLength,gi.slice(C,R,R+O.modifiedLength),h);I(N,R,N)}spliceSimple(t,s,l=gi.empty(),{onDidCreateNode:u,onDidDeleteNode:h,diffIdentityProvider:f}){const{parentNode:m,listIndex:A,revealed:C,visible:w}=this.getParentNodeWithListIndex(t),k=[],D=gi.map(l,Y=>this.createTreeNode(Y,m,m.visible?1:0,C,k,u)),I=t[t.length-1],N=m.children.length>0;let R=0;for(let Y=I;Y>=0&&Y<m.children.length;Y--){const J=m.children[Y];if(J.visible){R=J.visibleChildIndex;break}}const O=[];let W=0,B=0;for(const Y of D)O.push(Y),B+=Y.renderNodeCount,Y.visible&&(Y.visibleChildIndex=R+W++);const z=uM(m.children,I,s,O);f?m.lastDiffIds?uM(m.lastDiffIds,I,s,O.map(Y=>f.getId(Y.element).toString())):m.lastDiffIds=m.children.map(Y=>f.getId(Y.element).toString()):m.lastDiffIds=void 0;let G=0;for(const Y of z)Y.visible&&G++;if(G!==0)for(let Y=I+O.length;Y<m.children.length;Y++){const J=m.children[Y];J.visible&&(J.visibleChildIndex-=G)}if(m.visibleChildrenCount+=W-G,C&&w){const Y=z.reduce((J,ne)=>J+(ne.visible?ne.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(m,B-Y),this.list.splice(A,Y,k)}if(z.length>0&&h){const Y=J=>{h(J),J.children.forEach(Y)};z.forEach(Y)}this._onDidSplice.fire({insertedNodes:O,deletedNodes:z});const K=m.children.length>0;N!==K&&this.setCollapsible(t.slice(0,-1),K);let q=m;for(;q;){if(q.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}q=q.parent}}rerender(t){if(t.length===0)throw new Il(this.user,"Invalid tree location");const{node:s,listIndex:l,revealed:u}=this.getTreeNodeWithListIndex(t);s.visible&&u&&this.list.splice(l,1,[s])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:s,visible:l,revealed:u}=this.getTreeNodeWithListIndex(t);return l&&u?s:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,s){const l=this.getTreeNode(t);typeof s>"u"&&(s=!l.collapsible);const u={collapsible:s};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,u))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,s,l){const u=this.getTreeNode(t);typeof s>"u"&&(s=!u.collapsed);const h={collapsed:s,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,h))}_setCollapseState(t,s){const{node:l,listIndex:u,revealed:h}=this.getTreeNodeWithListIndex(t),f=this._setListNodeCollapseState(l,u,h,s);if(l!==this.root&&this.autoExpandSingleChildren&&f&&!f9(s)&&l.collapsible&&!l.collapsed&&!s.recursive){let m=-1;for(let A=0;A<l.children.length;A++)if(l.children[A].visible)if(m>-1){m=-1;break}else m=A;m>-1&&this._setCollapseState([...t,m],s)}return f}_setListNodeCollapseState(t,s,l,u){const h=this._setNodeCollapseState(t,u,!1);if(!l||!t.visible||!h)return h;const f=t.renderNodeCount,m=this.updateNodeAfterCollapseChange(t),A=f-(s===-1?0:1);return this.list.splice(s+1,A,m.slice(1)),h}_setNodeCollapseState(t,s,l){let u;if(t===this.root?u=!1:(f9(s)?(u=t.collapsible!==s.collapsible,t.collapsible=s.collapsible):t.collapsible?(u=t.collapsed!==s.collapsed,t.collapsed=s.collapsed):u=!1,u&&this._onDidChangeCollapseState.fire({node:t,deep:l})),!f9(s)&&s.recursive)for(const h of t.children)u=this._setNodeCollapseState(h,s,!0)||u;return u}expandTo(t){this.eventBufferer.bufferEvents(()=>{let s=this.getTreeNode(t);for(;s.parent;)s=s.parent,t=t.slice(0,t.length-1),s.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,s=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,s),this.refilterDelayer.cancel()}createTreeNode(t,s,l,u,h,f){const m={parent:s,element:t.element,children:[],depth:s.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},A=this._filterNode(m,l);m.visibility=A,u&&h.push(m);const C=t.children||gi.empty(),w=u&&A!==0&&!m.collapsed,k=gi.map(C,N=>this.createTreeNode(N,m,A,w,h,f));let D=0,I=1;for(const N of k)m.children.push(N),I+=N.renderNodeCount,N.visible&&(N.visibleChildIndex=D++);return m.collapsible=m.collapsible||m.children.length>0,m.visibleChildrenCount=D,m.visible=A===2?D>0:A===1,m.visible?m.collapsed||(m.renderNodeCount=I):(m.renderNodeCount=0,u&&h.pop()),f&&f(m),m}updateNodeAfterCollapseChange(t){const s=t.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(t,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-s),l}_updateNodeAfterCollapseChange(t,s){if(t.visible===!1)return 0;if(s.push(t),t.renderNodeCount=1,!t.collapsed)for(const l of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(l,s);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const s=t.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-s),l}_updateNodeAfterFilterChange(t,s,l,u=!0){let h;if(t!==this.root){if(h=this._filterNode(t,s),h===0)return t.visible=!1,t.renderNodeCount=0,!1;u&&l.push(t)}const f=l.length;t.renderNodeCount=t===this.root?0:1;let m=!1;if(!t.collapsed||h!==0){let A=0;for(const C of t.children)m=this._updateNodeAfterFilterChange(C,h,l,u&&!t.collapsed)||m,C.visible&&(C.visibleChildIndex=A++);t.visibleChildrenCount=A}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=h===2?m:h===1,t.visibility=h),t.visible?t.collapsed||(t.renderNodeCount+=l.length-f):(t.renderNodeCount=0,u&&l.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,s){if(s!==0)for(;t;)t.renderNodeCount+=s,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,s){const l=this.filter?this.filter.filter(t.element,s):1;return typeof l=="boolean"?(t.filterData=void 0,l?1:0):Rx(l)?(t.filterData=l.data,L4(l.visibility)):(t.filterData=void 0,L4(l))}hasTreeNode(t,s=this.root){if(!t||t.length===0)return!0;const[l,...u]=t;return l<0||l>s.children.length?!1:this.hasTreeNode(u,s.children[l])}getTreeNode(t,s=this.root){if(!t||t.length===0)return s;const[l,...u]=t;if(l<0||l>s.children.length)throw new Il(this.user,"Invalid tree location");return this.getTreeNode(u,s.children[l])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:s,listIndex:l,revealed:u,visible:h}=this.getParentNodeWithListIndex(t),f=t[t.length-1];if(f<0||f>s.children.length)throw new Il(this.user,"Invalid tree location");const m=s.children[f];return{node:m,listIndex:l,revealed:u,visible:h&&m.visible}}getParentNodeWithListIndex(t,s=this.root,l=0,u=!0,h=!0){const[f,...m]=t;if(f<0||f>s.children.length)throw new Il(this.user,"Invalid tree location");for(let A=0;A<f;A++)l+=s.children[A].renderNodeCount;return u=u&&!s.collapsed,h=h&&s.visible,m.length===0?{parentNode:s,listIndex:l,revealed:u,visible:h}:this.getParentNodeWithListIndex(m,s.children[f],l+1,u,h)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const s=[];let l=t;for(;l.parent;)s.push(l.parent.children.indexOf(l)),l=l.parent;return s.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:joe(t)[0]}getFirstElementChild(t){const s=this.getTreeNode(t);if(s.children.length!==0)return s.children[0].element}}class P4e extends S_{constructor(t){super(t.elements.map(s=>s.element)),this.data=t}}function g9(d){return d instanceof S_?new P4e(d):d}class O4e{constructor(t,s){this.modelProvider=t,this.dnd=s,this.autoExpandDisposable=Se.None}getDragURI(t){return this.dnd.getDragURI(t.element)}getDragLabel(t,s){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t.map(l=>l.element),s)}onDragStart(t,s){this.dnd.onDragStart&&this.dnd.onDragStart(g9(t),s)}onDragOver(t,s,l,u,h=!0){const f=this.dnd.onDragOver(g9(t),s&&s.element,l,u),m=this.autoExpandNode!==s;if(m&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=s),typeof s>"u")return f;if(m&&typeof f!="boolean"&&f.autoExpand&&(this.autoExpandDisposable=Wd(()=>{const D=this.modelProvider(),I=D.getNodeLocation(s);D.isCollapsed(I)&&D.setCollapsed(I,!1),this.autoExpandNode=void 0},500)),typeof f=="boolean"||!f.accept||typeof f.bubble>"u"||f.feedback){if(!h){const D=typeof f=="boolean"?f:f.accept,I=typeof f=="boolean"?void 0:f.effect;return{accept:D,effect:I,feedback:[l]}}return f}if(f.bubble===1){const D=this.modelProvider(),I=D.getNodeLocation(s),N=D.getParentNodeLocation(I),R=D.getNode(N),O=N&&D.getListIndex(N);return this.onDragOver(t,R,O,u,!1)}const A=this.modelProvider(),C=A.getNodeLocation(s),w=A.getListIndex(C),k=A.getListRenderCount(C);return Object.assign(Object.assign({},f),{feedback:Hr(w,w+k)})}drop(t,s,l,u){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(g9(t),s&&s.element,l,u)}onDragEnd(t){this.dnd.onDragEnd&&this.dnd.onDragEnd(t)}}function F4e(d,t){return t&&Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(s){return t.identityProvider.getId(s.element)}},dnd:t.dnd&&new O4e(d,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent(s){return t.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},s),{element:s.element}))},isSelectionRangeChangeEvent(s){return t.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},s),{element:s.element}))}},accessibilityProvider:t.accessibilityProvider&&Object.assign(Object.assign({},t.accessibilityProvider),{getSetSize(s){const l=d(),u=l.getNodeLocation(s),h=l.getParentNodeLocation(u);return l.getNode(h).visibleChildrenCount},getPosInSet(s){return s.visibleChildIndex+1},isChecked:t.accessibilityProvider&&t.accessibilityProvider.isChecked?s=>t.accessibilityProvider.isChecked(s.element):void 0,getRole:t.accessibilityProvider&&t.accessibilityProvider.getRole?s=>t.accessibilityProvider.getRole(s.element):()=>"treeitem",getAriaLabel(s){return t.accessibilityProvider.getAriaLabel(s.element)},getWidgetAriaLabel(){return t.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:t.accessibilityProvider&&t.accessibilityProvider.getWidgetRole?()=>t.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:t.accessibilityProvider&&t.accessibilityProvider.getAriaLevel?s=>t.accessibilityProvider.getAriaLevel(s.element):s=>s.depth,getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&(s=>t.accessibilityProvider.getActiveDescendantId(s.element))}),keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(s){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(s.element)}}),enableKeyboardNavigation:t.simpleKeyboardNavigation})}class Mx{constructor(t){this.delegate=t}getHeight(t){return this.delegate.getHeight(t.element)}getTemplateId(t){return this.delegate.getTemplateId(t.element)}hasDynamicHeight(t){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(t.element)}setDynamicHeight(t,s){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(t.element,s)}}var D4;(function(d){d.None="none",d.OnHover="onHover",d.Always="always"})(D4||(D4={}));class B4e{constructor(t,s=[]){this._elements=s,this.onDidChange=ft.forEach(t,l=>this._elements=l)}get elements(){return this._elements}}class I4{constructor(t,s,l,u,h={}){this.renderer=t,this.modelProvider=s,this.activeNodes=u,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=I4.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Ece,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Se.None,this.disposables=new je,this.templateId=t.templateId,this.updateOptions(h),ft.map(l,f=>f.node)(this.onDidChangeNodeTwistieState,this,this.disposables),t.onDidChangeTwistieState&&t.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(t={}){if(typeof t.indent<"u"&&(this.indent=Io(t.indent,0,40)),typeof t.renderIndentGuides<"u"){const s=t.renderIndentGuides!==D4.None;if(s!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=s,this.indentGuidesDisposable.dispose(),s)){const l=new je;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,l),this.indentGuidesDisposable=l,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof t.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=t.hideTwistiesOfChildlessElements)}renderTemplate(t){const s=Re(t,Ue(".monaco-tl-row")),l=Re(s,Ue(".monaco-tl-indent")),u=Re(s,Ue(".monaco-tl-twistie")),h=Re(s,Ue(".monaco-tl-contents")),f=this.renderer.renderTemplate(h);return{container:t,indent:l,twistie:u,indentGuidesDisposable:Se.None,templateData:f}}renderElement(t,s,l,u){typeof u=="number"&&(this.renderedNodes.set(t,{templateData:l,height:u}),this.renderedElements.set(t.element,t));const h=I4.DefaultIndent+(t.depth-1)*this.indent;l.twistie.style.paddingLeft=`${h}px`,l.indent.style.width=`${h+this.indent-16}px`,this.renderTwistie(t,l),typeof u=="number"&&this.renderIndentGuides(t,l),this.renderer.renderElement(t,s,l.templateData,u)}disposeElement(t,s,l,u){l.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(t,s,l.templateData,u),typeof u=="number"&&(this.renderedNodes.delete(t),this.renderedElements.delete(t.element))}disposeTemplate(t){this.renderer.disposeTemplate(t.templateData)}onDidChangeTwistieState(t){const s=this.renderedElements.get(t);!s||this.onDidChangeNodeTwistieState(s)}onDidChangeNodeTwistieState(t){const s=this.renderedNodes.get(t);!s||(this.renderTwistie(t,s.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(t,s.templateData))}renderTwistie(t,s){s.twistie.classList.remove(...T.treeItemExpanded.classNamesArray);let l=!1;this.renderer.renderTwistie&&(l=this.renderer.renderTwistie(t.element,s.twistie)),t.collapsible&&(!this.hideTwistiesOfChildlessElements||t.visibleChildrenCount>0)?(l||s.twistie.classList.add(...T.treeItemExpanded.classNamesArray),s.twistie.classList.add("collapsible"),s.twistie.classList.toggle("collapsed",t.collapsed)):s.twistie.classList.remove("collapsible","collapsed"),t.collapsible?s.container.setAttribute("aria-expanded",String(!t.collapsed)):s.container.removeAttribute("aria-expanded")}renderIndentGuides(t,s){if(vs(s.indent),s.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const l=new je,u=this.modelProvider();let h=t;for(;;){const f=u.getNodeLocation(h),m=u.getParentNodeLocation(f);if(!m)break;const A=u.getNode(m),C=Ue(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(A)&&C.classList.add("active"),s.indent.childElementCount===0?s.indent.appendChild(C):s.indent.insertBefore(C,s.indent.firstElementChild),this.renderedIndentGuides.add(A,C),l.add($t(()=>this.renderedIndentGuides.delete(A,C))),h=A}s.indentGuidesDisposable=l}_onDidChangeActiveNodes(t){if(!this.shouldRenderIndentGuides)return;const s=new Set,l=this.modelProvider();t.forEach(u=>{const h=l.getNodeLocation(u);try{const f=l.getParentNodeLocation(h);u.collapsible&&u.children.length>0&&!u.collapsed?s.add(u):f&&s.add(l.getNode(f))}catch{}}),this.activeIndentNodes.forEach(u=>{s.has(u)||this.renderedIndentGuides.forEach(u,h=>h.classList.remove("active"))}),s.forEach(u=>{this.activeIndentNodes.has(u)||this.renderedIndentGuides.forEach(u,h=>h.classList.add("active"))}),this.activeIndentNodes=s}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),mi(this.disposables)}}I4.DefaultIndent=8;class W4e{constructor(t,s,l){this.tree=t,this.keyboardNavigationLabelProvider=s,this._filter=l,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new je,t.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(t){this._pattern=t,this._lowercasePattern=t.toLowerCase()}filter(t,s){if(this._filter){const h=this._filter.filter(t,s);if(this.tree.options.simpleKeyboardNavigation)return h;let f;if(typeof h=="boolean"?f=h?1:0:Rx(h)?f=L4(h.visibility):f=h,f===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:qa.Default,visibility:!0};const l=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t),u=Array.isArray(l)?l:[l];for(const h of u){const f=h&&h.toString();if(typeof f>"u")return{data:qa.Default,visibility:!0};const m=Kg(this._pattern,this._lowercasePattern,0,f,f.toLowerCase(),0,!0);if(m)return this._matchCount++,u.length===1?{data:m,visibility:!0}:{data:{label:f,score:m},visibility:!0}}return this.tree.options.filterOnType?2:{data:qa.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){mi(this.disposables)}}class V4e{constructor(t,s,l,u,h){this.tree=t,this.view=l,this.filter=u,this.keyboardNavigationDelegate=h,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new he,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new he,this.enabledDisposables=new je,this.disposables=new je,this.domNode=Ue(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(ze(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=Re(l.getHTMLElement(),Ue(".monaco-list-type-filter-message")),this.labelDomNode=Re(this.domNode,Ue("span.label"));const f=Re(this.domNode,Ue(".controls"));this._filterOnType=!!t.options.filterOnType,this.filterOnTypeDomNode=Re(f,Ue("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(ze(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=Re(f,Ue("button.clear"+T.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=E("clear","Clear"),this.keyboardNavigationEventFilter=t.options.keyboardNavigationEventFilter,s.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(t.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(t){t.simpleKeyboardNavigation?this.disable():this.enable(),typeof t.filterOnType<"u"&&(this._filterOnType=!!t.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof t.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=t.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const t=this.enabledDisposables.add(new Ui(this.view.getHTMLElement(),"keydown")),s=ft.chain(t.event).filter(u=>!th(u.target)||u.target===this.filterOnTypeDomNode).filter(u=>u.key!=="Dead"&&!/^Media/.test(u.key)).map(u=>new hn(u)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(u=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(u)&&!(u.keyCode===18||u.keyCode===16||u.keyCode===15||u.keyCode===17)||(this.pattern.length>0||this.triggered)&&(u.keyCode===9||u.keyCode===1)&&!u.altKey&&!u.ctrlKey&&!u.metaKey||u.keyCode===1&&(Jt?u.altKey&&!u.metaKey:u.ctrlKey)&&!u.shiftKey).forEach(u=>{u.stopPropagation(),u.preventDefault()}).event,l=this.enabledDisposables.add(new Ui(this.clearDomNode,"click"));ft.chain(ft.any(s,l.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(t){typeof t=="string"?this.onInput(t):t instanceof MouseEvent||t.keyCode===9||t.keyCode===1&&(Jt?t.altKey:t.ctrlKey)?this.onInput(""):t.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+t.browserEvent.key)}onInput(t){const s=this.view.getHTMLElement();t&&!this.domNode.parentElement?s.append(this.domNode):!t&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=t,this._onDidChangePattern.fire(t),this.filter.pattern=t,this.tree.refilter(),t&&this.tree.focusNext(0,!0,void 0,u=>!qa.isDefault(u.filterData));const l=this.tree.getFocus();if(l.length>0){const u=l[0];this.tree.getRelativeTop(u)===null&&this.tree.reveal(u,.5)}this.render(),t||(this.triggered=!1)}onDragStart(){const t=this.view.getHTMLElement(),{left:s}=Js(t),l=t.clientWidth,u=l/2,h=this.domNode.clientWidth,f=new je;let m=this.positionClassName;const A=()=>{switch(m){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${l-h-6}px`;break}},C=k=>{k.preventDefault();const D=k.clientX-s;k.dataTransfer&&(k.dataTransfer.dropEffect="none"),D<u?m="nw":m="ne",A()},w=()=>{this.positionClassName=m,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",mi(f)};A(),this.domNode.classList.remove(m),this.domNode.classList.add("dragging"),f.add($t(()=>this.domNode.classList.remove("dragging"))),f.add(ze(document,"dragover",k=>C(k))),f.add(ze(this.domNode,"dragend",()=>w())),nc.CurrentDragAndDropData=new lme("vscode-ui"),f.add($t(()=>nc.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...T.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...T.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=E("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...T.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...T.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=E("enable filter on type","Enable Filter on Type"))}render(){const t=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&t?(this.messageDomNode.textContent=E("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",t),this.domNode.title=E("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(t){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!qa.isDefault(t.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),mi(this.disposables)}}function lF(d){let t=EA.Unknown;return $M(d.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=EA.Twistie:$M(d.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=EA.Element),{browserEvent:d.browserEvent,element:d.element?d.element.element:null,target:t}}function f3(d,t){t(d),d.children.forEach(s=>f3(s,t))}class m9{constructor(t,s){this.getFirstViewElementWithTrait=t,this.identityProvider=s,this.nodes=[],this._onDidChange=new he,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(t,s){!s?.__forceEvent&&cl(this.nodes,t)||this._set(t,!1,s)}_set(t,s,l){if(this.nodes=[...t],this.elements=void 0,this._nodeSet=void 0,!s){const u=this;this._onDidChange.fire({get elements(){return u.get()},browserEvent:l})}}get(){return this.elements||(this.elements=this.nodes.map(t=>t.element)),[...this.elements]}getNodes(){return this.nodes}has(t){return this.nodeSet.has(t)}onDidModelSplice({insertedNodes:t,deletedNodes:s}){if(!this.identityProvider){const A=this.createNodeSet(),C=w=>A.delete(w);s.forEach(w=>f3(w,C)),this.set([...A.values()]);return}const l=new Set,u=A=>l.add(this.identityProvider.getId(A.element).toString());s.forEach(A=>f3(A,u));const h=new Map,f=A=>h.set(this.identityProvider.getId(A.element).toString(),A);t.forEach(A=>f3(A,f));const m=[];for(const A of this.nodes){const C=this.identityProvider.getId(A.element).toString();if(!l.has(C))m.push(A);else{const k=h.get(C);k&&m.push(k)}}if(this.nodes.length>0&&m.length===0){const A=this.getFirstViewElementWithTrait();A&&m.push(A)}this._set(m,!0)}createNodeSet(){const t=new Set;for(const s of this.nodes)t.add(s);return t}}class H4e extends JU{constructor(t,s){super(t),this.tree=s}onViewPointer(t){if(th(t.browserEvent.target)||ng(t.browserEvent.target))return;const s=t.element;if(!s)return super.onViewPointer(t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return super.onViewPointer(t);const l=t.browserEvent.target,u=l.classList.contains("monaco-tl-twistie")||l.classList.contains("monaco-icon-label")&&l.classList.contains("folder-icon")&&t.browserEvent.offsetX<16;let h=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?h=this.tree.expandOnlyOnTwistieClick(s.element):h=!!this.tree.expandOnlyOnTwistieClick,h&&!u&&t.browserEvent.detail!==2)return super.onViewPointer(t);if(!this.tree.expandOnDoubleClick&&t.browserEvent.detail===2)return super.onViewPointer(t);if(s.collapsible){const f=this.tree.model,m=f.getNodeLocation(s),A=t.browserEvent.altKey;if(this.tree.setFocus([m]),f.setCollapsed(m,void 0,A),h&&u)return}super.onViewPointer(t)}onDoubleClick(t){t.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(t)}}class U4e extends x0{constructor(t,s,l,u,h,f,m,A){super(t,s,l,u,A),this.focusTrait=h,this.selectionTrait=f,this.anchorTrait=m}createMouseController(t){return new H4e(this,t.tree)}splice(t,s,l=[]){if(super.splice(t,s,l),l.length===0)return;const u=[],h=[];let f;l.forEach((m,A)=>{this.focusTrait.has(m)&&u.push(t+A),this.selectionTrait.has(m)&&h.push(t+A),this.anchorTrait.has(m)&&(f=t+A)}),u.length>0&&super.setFocus(Hu([...super.getFocus(),...u])),h.length>0&&super.setSelection(Hu([...super.getSelection(),...h])),typeof f=="number"&&super.setAnchor(f)}setFocus(t,s,l=!1){super.setFocus(t,s),l||this.focusTrait.set(t.map(u=>this.element(u)),s)}setSelection(t,s,l=!1){super.setSelection(t,s),l||this.selectionTrait.set(t.map(u=>this.element(u)),s)}setAnchor(t,s=!1){super.setAnchor(t),s||(typeof t>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(t)]))}}class iz{constructor(t,s,l,u,h={}){this._user=t,this._options=h,this.eventBufferer=new UD,this.disposables=new je,this._onWillRefilter=new he,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new he;const f=new Mx(l),m=new gM,A=new gM,C=new B4e(A.event);this.renderers=u.map(D=>new I4(D,()=>this.model,m.event,C,h));for(let D of this.renderers)this.disposables.add(D);let w;h.keyboardNavigationLabelProvider&&(w=new W4e(this,h.keyboardNavigationLabelProvider,h.filter),h=Object.assign(Object.assign({},h),{filter:w}),this.disposables.add(w)),this.focus=new m9(()=>this.view.getFocusedElements()[0],h.identityProvider),this.selection=new m9(()=>this.view.getSelectedElements()[0],h.identityProvider),this.anchor=new m9(()=>this.view.getAnchorElement(),h.identityProvider),this.view=new U4e(t,s,f,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},F4e(()=>this.model,h)),{tree:this})),this.model=this.createModel(t,this.view,h),m.input=this.model.onDidChangeCollapseState;const k=ft.forEach(this.model.onDidSplice,D=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(D),this.selection.onDidModelSplice(D)})});if(k(()=>null,null,this.disposables),A.input=ft.chain(ft.any(k,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const D=new Set;for(const I of this.focus.getNodes())D.add(I);for(const I of this.selection.getNodes())D.add(I);return[...D.values()]}).event,h.keyboardSupport!==!1){const D=ft.chain(this.view.onKeyDown).filter(I=>!th(I.target)).map(I=>new hn(I));D.filter(I=>I.keyCode===15).on(this.onLeftArrow,this,this.disposables),D.filter(I=>I.keyCode===17).on(this.onRightArrow,this,this.disposables),D.filter(I=>I.keyCode===10).on(this.onSpace,this,this.disposables)}if(h.keyboardNavigationLabelProvider){const D=h.keyboardNavigationDelegate||$U;this.typeFilterController=new V4e(this,this.model,this.view,w,D),this.focusNavigationFilter=I=>this.typeFilterController.shouldAllowFocus(I),this.disposables.add(this.typeFilterController)}this.styleElement=Vl(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===D4.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return ft.map(this.view.onMouseDblClick,lF)}get onPointer(){return ft.map(this.view.onPointer,lF)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return ft.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(t={}){this._options=Object.assign(Object.assign({},this._options),t);for(const s of this.renderers)s.updateOptions(t);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===D4.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(t){this.view.scrollTop=t}domFocus(){this.view.domFocus()}layout(t,s){this.view.layout(t,s)}style(t){const s=`.${this.view.domId}`,l=[];t.treeIndentGuidesStroke&&(l.push(`.monaco-list${s}:hover .monaco-tl-indent > .indent-guide, .monaco-list${s}.always .monaco-tl-indent > .indent-guide  { border-color: ${t.treeIndentGuidesStroke.transparent(.4)}; }`),l.push(`.monaco-list${s} .monaco-tl-indent > .indent-guide.active { border-color: ${t.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=l.join(`
`),this.view.style(t)}getParentElement(t){const s=this.model.getParentNodeLocation(t);return this.model.getNode(s).element}getFirstElementChild(t){return this.model.getFirstElementChild(t)}getNode(t){return this.model.getNode(t)}collapse(t,s=!1){return this.model.setCollapsed(t,!0,s)}expand(t,s=!1){return this.model.setCollapsed(t,!1,s)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,s){return this.model.setCollapsible(t,s)}isCollapsed(t){return this.model.isCollapsed(t)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(t,s){const l=t.map(h=>this.model.getNode(h));this.selection.set(l,s);const u=t.map(h=>this.model.getListIndex(h)).filter(h=>h>-1);this.view.setSelection(u,s,!0)}getSelection(){return this.selection.get()}setFocus(t,s){const l=t.map(h=>this.model.getNode(h));this.focus.set(l,s);const u=t.map(h=>this.model.getListIndex(h)).filter(h=>h>-1);this.view.setFocus(u,s,!0)}focusNext(t=1,s=!1,l,u=this.focusNavigationFilter){this.view.focusNext(t,s,l,u)}getFocus(){return this.focus.get()}reveal(t,s){this.model.expandTo(t);const l=this.model.getListIndex(t);l!==-1&&this.view.reveal(l,s)}getRelativeTop(t){const s=this.model.getListIndex(t);return s===-1?null:this.view.getRelativeTop(s)}onLeftArrow(t){t.preventDefault(),t.stopPropagation();const s=this.view.getFocusedElements();if(s.length===0)return;const l=s[0],u=this.model.getNodeLocation(l);if(!this.model.setCollapsed(u,!0)){const f=this.model.getParentNodeLocation(u);if(!f)return;const m=this.model.getListIndex(f);this.view.reveal(m),this.view.setFocus([m])}}onRightArrow(t){t.preventDefault(),t.stopPropagation();const s=this.view.getFocusedElements();if(s.length===0)return;const l=s[0],u=this.model.getNodeLocation(l);if(!this.model.setCollapsed(u,!1)){if(!l.children.some(A=>A.visible))return;const[f]=this.view.getFocus(),m=f+1;this.view.reveal(m),this.view.setFocus([m])}}onSpace(t){t.preventDefault(),t.stopPropagation();const s=this.view.getFocusedElements();if(s.length===0)return;const l=s[0],u=this.model.getNodeLocation(l),h=t.browserEvent.altKey;this.model.setCollapsed(u,void 0,h)}dispose(){mi(this.disposables),this.view.dispose()}}class Px{constructor(t,s,l={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new M4e(t,s,null,l),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,l.sorter&&(this.sorter={compare(u,h){return l.sorter.compare(u.element,h.element)}}),this.identityProvider=l.identityProvider}setChildren(t,s=gi.empty(),l={}){const u=this.getElementLocation(t);this._setChildren(u,this.preserveCollapseState(s),l)}_setChildren(t,s=gi.empty(),l){const u=new Set,h=new Set,f=A=>{var C;if(A.element===null)return;const w=A;if(u.add(w.element),this.nodes.set(w.element,w),this.identityProvider){const k=this.identityProvider.getId(w.element).toString();h.add(k),this.nodesByIdentity.set(k,w)}(C=l.onDidCreateNode)===null||C===void 0||C.call(l,w)},m=A=>{var C;if(A.element===null)return;const w=A;if(u.has(w.element)||this.nodes.delete(w.element),this.identityProvider){const k=this.identityProvider.getId(w.element).toString();h.has(k)||this.nodesByIdentity.delete(k)}(C=l.onDidDeleteNode)===null||C===void 0||C.call(l,w)};this.model.splice([...t,0],Number.MAX_VALUE,s,Object.assign(Object.assign({},l),{onDidCreateNode:f,onDidDeleteNode:m}))}preserveCollapseState(t=gi.empty()){return this.sorter&&(t=[...t].sort(this.sorter.compare.bind(this.sorter))),gi.map(t,s=>{let l=this.nodes.get(s.element);if(!l&&this.identityProvider){const f=this.identityProvider.getId(s.element).toString();l=this.nodesByIdentity.get(f)}if(!l)return Object.assign(Object.assign({},s),{children:this.preserveCollapseState(s.children)});const u=typeof s.collapsible=="boolean"?s.collapsible:l.collapsible,h=typeof s.collapsed<"u"?s.collapsed:l.collapsed;return Object.assign(Object.assign({},s),{collapsible:u,collapsed:h,children:this.preserveCollapseState(s.children)})})}rerender(t){const s=this.getElementLocation(t);this.model.rerender(s)}getFirstElementChild(t=null){const s=this.getElementLocation(t);return this.model.getFirstElementChild(s)}has(t){return this.nodes.has(t)}getListIndex(t){const s=this.getElementLocation(t);return this.model.getListIndex(s)}getListRenderCount(t){const s=this.getElementLocation(t);return this.model.getListRenderCount(s)}isCollapsible(t){const s=this.getElementLocation(t);return this.model.isCollapsible(s)}setCollapsible(t,s){const l=this.getElementLocation(t);return this.model.setCollapsible(l,s)}isCollapsed(t){const s=this.getElementLocation(t);return this.model.isCollapsed(s)}setCollapsed(t,s,l){const u=this.getElementLocation(t);return this.model.setCollapsed(u,s,l)}expandTo(t){const s=this.getElementLocation(t);this.model.expandTo(s)}refilter(){this.model.refilter()}getNode(t=null){if(t===null)return this.model.getNode(this.model.rootRef);const s=this.nodes.get(t);if(!s)throw new Il(this.user,`Tree element not found: ${t}`);return s}getNodeLocation(t){return t.element}getParentNodeLocation(t){if(t===null)throw new Il(this.user,"Invalid getParentNodeLocation call");const s=this.nodes.get(t);if(!s)throw new Il(this.user,`Tree element not found: ${t}`);const l=this.model.getNodeLocation(s),u=this.model.getParentNodeLocation(l);return this.model.getNode(u).element}getElementLocation(t){if(t===null)return[];const s=this.nodes.get(t);if(!s)throw new Il(this.user,`Tree element not found: ${t}`);return this.model.getNodeLocation(s)}}function g3(d){const t=[d.element],s=d.incompressible||!1;return{element:{elements:t,incompressible:s},children:gi.map(gi.from(d.children),g3),collapsible:d.collapsible,collapsed:d.collapsed}}function m3(d){const t=[d.element],s=d.incompressible||!1;let l,u;for(;[u,l]=gi.consume(gi.from(d.children),2),!(u.length!==1||u[0].incompressible);)d=u[0],t.push(d.element);return{element:{elements:t,incompressible:s},children:gi.map(gi.concat(u,l),m3),collapsible:d.collapsible,collapsed:d.collapsed}}function F7(d,t=0){let s;return t<d.element.elements.length-1?s=[F7(d,t+1)]:s=gi.map(gi.from(d.children),l=>F7(l,0)),t===0&&d.element.incompressible?{element:d.element.elements[t],children:s,incompressible:!0,collapsible:d.collapsible,collapsed:d.collapsed}:{element:d.element.elements[t],children:s,collapsible:d.collapsible,collapsed:d.collapsed}}function aF(d){return F7(d,0)}function nz(d,t,s){return d.element===t?Object.assign(Object.assign({},d),{children:s}):Object.assign(Object.assign({},d),{children:gi.map(gi.from(d.children),l=>nz(l,t,s))})}const z4e=d=>({getId(t){return t.elements.map(s=>d.getId(s).toString()).join("\0")}});class G4e{constructor(t,s,l={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new Px(t,s,l),this.enabled=typeof l.compressionEnabled>"u"?!0:l.compressionEnabled,this.identityProvider=l.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,s=gi.empty(),l){const u=l.diffIdentityProvider&&z4e(l.diffIdentityProvider);if(t===null){const I=gi.map(s,this.enabled?m3:g3);this._setChildren(null,I,{diffIdentityProvider:u,diffDepth:1/0});return}const h=this.nodes.get(t);if(!h)throw new Error("Unknown compressed tree node");const f=this.model.getNode(h),m=this.model.getParentNodeLocation(h),A=this.model.getNode(m),C=aF(f),w=nz(C,t,s),k=(this.enabled?m3:g3)(w),D=A.children.map(I=>I===f?k:I);this._setChildren(A.element,D,{diffIdentityProvider:u,diffDepth:f.depth-A.depth})}setCompressionEnabled(t){if(t===this.enabled)return;this.enabled=t;const l=this.model.getNode().children,u=gi.map(l,aF),h=gi.map(u,t?m3:g3);this._setChildren(null,h,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(t,s,l){const u=new Set,h=m=>{for(const A of m.element.elements)u.add(A),this.nodes.set(A,m.element)},f=m=>{for(const A of m.element.elements)u.has(A)||this.nodes.delete(A)};this.model.setChildren(t,s,Object.assign(Object.assign({},l),{onDidCreateNode:h,onDidDeleteNode:f}))}has(t){return this.nodes.has(t)}getListIndex(t){const s=this.getCompressedNode(t);return this.model.getListIndex(s)}getListRenderCount(t){const s=this.getCompressedNode(t);return this.model.getListRenderCount(s)}getNode(t){if(typeof t>"u")return this.model.getNode();const s=this.getCompressedNode(t);return this.model.getNode(s)}getNodeLocation(t){const s=this.model.getNodeLocation(t);return s===null?null:s.elements[s.elements.length-1]}getParentNodeLocation(t){const s=this.getCompressedNode(t),l=this.model.getParentNodeLocation(s);return l===null?null:l.elements[l.elements.length-1]}getFirstElementChild(t){const s=this.getCompressedNode(t);return this.model.getFirstElementChild(s)}isCollapsible(t){const s=this.getCompressedNode(t);return this.model.isCollapsible(s)}setCollapsible(t,s){const l=this.getCompressedNode(t);return this.model.setCollapsible(l,s)}isCollapsed(t){const s=this.getCompressedNode(t);return this.model.isCollapsed(s)}setCollapsed(t,s,l){const u=this.getCompressedNode(t);return this.model.setCollapsed(u,s,l)}expandTo(t){const s=this.getCompressedNode(t);this.model.expandTo(s)}rerender(t){const s=this.getCompressedNode(t);this.model.rerender(s)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const s=this.nodes.get(t);if(!s)throw new Il(this.user,`Tree element not found: ${t}`);return s}}const j4e=d=>d[d.length-1];class Ox{constructor(t,s){this.unwrapper=t,this.node=s}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new Ox(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Z4e(d,t){return{splice(s,l,u){t.splice(s,l,u.map(h=>d.map(h)))},updateElementHeight(s,l){t.updateElementHeight(s,l)}}}function Q4e(d,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(s){return t.identityProvider.getId(d(s))}},sorter:t.sorter&&{compare(s,l){return t.sorter.compare(s.elements[0],l.elements[0])}},filter:t.filter&&{filter(s,l){return t.filter.filter(d(s),l)}}})}class Y4e{constructor(t,s,l={}){this.rootRef=null,this.elementMapper=l.elementMapper||j4e;const u=h=>this.elementMapper(h.elements);this.nodeMapper=new Tx(h=>new Ox(u,h)),this.model=new G4e(t,Z4e(this.nodeMapper,s),Q4e(u,l))}get onDidSplice(){return ft.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:s})=>({insertedNodes:t.map(l=>this.nodeMapper.map(l)),deletedNodes:s.map(l=>this.nodeMapper.map(l))}))}get onDidChangeCollapseState(){return ft.map(this.model.onDidChangeCollapseState,({node:t,deep:s})=>({node:this.nodeMapper.map(t),deep:s}))}get onDidChangeRenderNodeCount(){return ft.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,s=gi.empty(),l={}){this.model.setChildren(t,s,l)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}getFirstElementChild(t){const s=this.model.getFirstElementChild(t);return s===null||typeof s>"u"?s:this.elementMapper(s.elements)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,s){return this.model.setCollapsible(t,s)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,s,l){return this.model.setCollapsed(t,s,l)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}var $4e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h};class Fx extends iz{constructor(t,s,l,u,h={}){super(t,s,l,u,h),this.user=t}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(t,s=gi.empty(),l){this.model.setChildren(t,s,l)}rerender(t){if(t===void 0){this.view.rerender();return}this.model.rerender(t)}hasElement(t){return this.model.has(t)}createModel(t,s,l){return new Px(t,s,l)}}class sz{constructor(t,s){this._compressedTreeNodeProvider=t,this.renderer=s,this.templateId=s.templateId,s.onDidChangeTwistieState&&(this.onDidChangeTwistieState=s.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(t){const s=this.renderer.renderTemplate(t);return{compressedTreeNode:void 0,data:s}}renderElement(t,s,l,u){const h=this.compressedTreeNodeProvider.getCompressedTreeNode(t.element);h.element.elements.length===1?(l.compressedTreeNode=void 0,this.renderer.renderElement(t,s,l.data,u)):(l.compressedTreeNode=h,this.renderer.renderCompressedElements(h,s,l.data,u))}disposeElement(t,s,l,u){l.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(l.compressedTreeNode,s,l.data,u):this.renderer.disposeElement&&this.renderer.disposeElement(t,s,l.data,u)}disposeTemplate(t){this.renderer.disposeTemplate(t.data)}renderTwistie(t,s){return this.renderer.renderTwistie?this.renderer.renderTwistie(t,s):!1}}$4e([gs],sz.prototype,"compressedTreeNodeProvider",null);function K4e(d,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(s){let l;try{l=d().getCompressedTreeNode(s)}catch{return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(s)}return l.element.elements.length===1?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(s):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(l.element.elements)}}})}class rz extends Fx{constructor(t,s,l,u,h={}){const f=()=>this,m=u.map(A=>new sz(f,A));super(t,s,l,m,K4e(f,h))}setChildren(t,s=gi.empty(),l){this.model.setChildren(t,s,l)}createModel(t,s,l){return new Y4e(t,s,l)}updateOptions(t={}){super.updateOptions(t),typeof t.compressionEnabled<"u"&&this.model.setCompressionEnabled(t.compressionEnabled)}getCompressedTreeNode(t=null){return this.model.getCompressedTreeNode(t)}}var ru=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function p9(d){return Object.assign(Object.assign({},d),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function B7(d,t){return t.parent?t.parent===d?!0:B7(d,t.parent):!1}function X4e(d,t){return d===t||B7(d,t)||B7(t,d)}class Bx{constructor(t){this.node=t}get element(){return this.node.element.element}get children(){return this.node.children.map(t=>new Bx(t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class J4e{constructor(t,s,l){this.renderer=t,this.nodeMapper=s,this.onDidChangeTwistieState=l,this.renderedNodes=new Map,this.templateId=t.templateId}renderTemplate(t){return{templateData:this.renderer.renderTemplate(t)}}renderElement(t,s,l,u){this.renderer.renderElement(this.nodeMapper.map(t),s,l.templateData,u)}renderTwistie(t,s){return t.slow?(s.classList.add(...T.treeItemLoading.classNamesArray),!0):(s.classList.remove(...T.treeItemLoading.classNamesArray),!1)}disposeElement(t,s,l,u){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(t),s,l.templateData,u)}disposeTemplate(t){this.renderer.disposeTemplate(t.templateData)}dispose(){this.renderedNodes.clear()}}function cF(d){return{browserEvent:d.browserEvent,elements:d.elements.map(t=>t.element)}}function uF(d){return{browserEvent:d.browserEvent,element:d.element&&d.element.element,target:d.target}}class q4e extends S_{constructor(t){super(t.elements.map(s=>s.element)),this.data=t}}function A9(d){return d instanceof S_?new q4e(d):d}class e_e{constructor(t){this.dnd=t}getDragURI(t){return this.dnd.getDragURI(t.element)}getDragLabel(t,s){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(t.map(l=>l.element),s)}onDragStart(t,s){this.dnd.onDragStart&&this.dnd.onDragStart(A9(t),s)}onDragOver(t,s,l,u,h=!0){return this.dnd.onDragOver(A9(t),s&&s.element,l,u)}drop(t,s,l,u){this.dnd.drop(A9(t),s&&s.element,l,u)}onDragEnd(t){this.dnd.onDragEnd&&this.dnd.onDragEnd(t)}}function oz(d){return d&&Object.assign(Object.assign({},d),{collapseByDefault:!0,identityProvider:d.identityProvider&&{getId(t){return d.identityProvider.getId(t.element)}},dnd:d.dnd&&new e_e(d.dnd),multipleSelectionController:d.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return d.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return d.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:d.accessibilityProvider&&Object.assign(Object.assign({},d.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:d.accessibilityProvider.getRole?t=>d.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:d.accessibilityProvider.isChecked?t=>{var s;return!!(!((s=d.accessibilityProvider)===null||s===void 0)&&s.isChecked(t.element))}:void 0,getAriaLabel(t){return d.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return d.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:d.accessibilityProvider.getWidgetRole?()=>d.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:d.accessibilityProvider.getAriaLevel&&(t=>d.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:d.accessibilityProvider.getActiveDescendantId&&(t=>d.accessibilityProvider.getActiveDescendantId(t.element))}),filter:d.filter&&{filter(t,s){return d.filter.filter(t.element,s)}},keyboardNavigationLabelProvider:d.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},d.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return d.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof d.expandOnlyOnTwistieClick>"u"?void 0:typeof d.expandOnlyOnTwistieClick!="function"?d.expandOnlyOnTwistieClick:t=>d.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:d.additionalScrollHeight})}function W7(d,t){t(d),d.children.forEach(s=>W7(s,t))}class lz{constructor(t,s,l,u,h,f={}){this.user=t,this.dataSource=h,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new he,this._onDidChangeNodeSlowState=new he,this.nodeMapper=new Tx(m=>new Bx(m)),this.disposables=new je,this.identityProvider=f.identityProvider,this.autoExpandSingleChildren=typeof f.autoExpandSingleChildren>"u"?!1:f.autoExpandSingleChildren,this.sorter=f.sorter,this.collapseByDefault=f.collapseByDefault,this.tree=this.createTree(t,s,l,u,f),this.root=p9({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return ft.map(this.tree.onDidChangeFocus,cF)}get onDidChangeSelection(){return ft.map(this.tree.onDidChangeSelection,cF)}get onMouseDblClick(){return ft.map(this.tree.onMouseDblClick,uF)}get onPointer(){return ft.map(this.tree.onPointer,uF)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(t,s,l,u,h){const f=new Mx(l),m=u.map(C=>new J4e(C,this.nodeMapper,this._onDidChangeNodeSlowState.event)),A=oz(h)||{};return new Fx(t,s,f,m,A)}updateOptions(t={}){this.tree.updateOptions(t)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(t){this.tree.scrollTop=t}domFocus(){this.tree.domFocus()}layout(t,s){this.tree.layout(t,s)}style(t){this.tree.style(t)}getInput(){return this.root.element}setInput(t,s){return ru(this,void 0,void 0,function*(){this.refreshPromises.forEach(u=>u.cancel()),this.refreshPromises.clear(),this.root.element=t;const l=s&&{viewState:s,focus:[],selection:[]};yield this._updateChildren(t,!0,!1,l),l&&(this.tree.setFocus(l.focus),this.tree.setSelection(l.selection)),s&&typeof s.scrollTop=="number"&&(this.scrollTop=s.scrollTop)})}_updateChildren(t=this.root.element,s=!0,l=!1,u,h){return ru(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Il(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield ft.toPromise(this._onDidRender.event));const f=this.getDataNode(t);if(yield this.refreshAndRenderNode(f,s,u,h),l)try{this.tree.rerender(f)}catch{}})}rerender(t){if(t===void 0||t===this.root.element){this.tree.rerender();return}const s=this.getDataNode(t);this.tree.rerender(s)}getNode(t=this.root.element){const s=this.getDataNode(t),l=this.tree.getNode(s===this.root?null:s);return this.nodeMapper.map(l)}collapse(t,s=!1){const l=this.getDataNode(t);return this.tree.collapse(l===this.root?null:l,s)}expand(t,s=!1){return ru(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Il(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield ft.toPromise(this._onDidRender.event));const l=this.getDataNode(t);if(this.tree.hasElement(l)&&!this.tree.isCollapsible(l)||(l.refreshPromise&&(yield this.root.refreshPromise,yield ft.toPromise(this._onDidRender.event)),l!==this.root&&!l.refreshPromise&&!this.tree.isCollapsed(l)))return!1;const u=this.tree.expand(l===this.root?null:l,s);return l.refreshPromise&&(yield this.root.refreshPromise,yield ft.toPromise(this._onDidRender.event)),u})}setSelection(t,s){const l=t.map(u=>this.getDataNode(u));this.tree.setSelection(l,s)}getSelection(){return this.tree.getSelection().map(s=>s.element)}setFocus(t,s){const l=t.map(u=>this.getDataNode(u));this.tree.setFocus(l,s)}getFocus(){return this.tree.getFocus().map(s=>s.element)}reveal(t,s){this.tree.reveal(this.getDataNode(t),s)}getParentElement(t){const s=this.tree.getParentElement(this.getDataNode(t));return s&&s.element}getFirstElementChild(t=this.root.element){const s=this.getDataNode(t),l=this.tree.getFirstElementChild(s===this.root?null:s);return l&&l.element}getDataNode(t){const s=this.nodes.get(t===this.root.element?null:t);if(!s)throw new Il(this.user,`Data tree node not found: ${t}`);return s}refreshAndRenderNode(t,s,l,u){return ru(this,void 0,void 0,function*(){yield this.refreshNode(t,s,l),this.render(t,l,u)})}refreshNode(t,s,l){return ru(this,void 0,void 0,function*(){let u;return this.subTreeRefreshPromises.forEach((h,f)=>{!u&&X4e(f,t)&&(u=h.then(()=>this.refreshNode(t,s,l)))}),u||this.doRefreshSubTree(t,s,l)})}doRefreshSubTree(t,s,l){return ru(this,void 0,void 0,function*(){let u;t.refreshPromise=new Promise(h=>u=h),this.subTreeRefreshPromises.set(t,t.refreshPromise),t.refreshPromise.finally(()=>{t.refreshPromise=void 0,this.subTreeRefreshPromises.delete(t)});try{const h=yield this.doRefreshNode(t,s,l);t.stale=!1,yield my.settled(h.map(f=>this.doRefreshSubTree(f,s,l)))}finally{u()}})}doRefreshNode(t,s,l){return ru(this,void 0,void 0,function*(){t.hasChildren=!!this.dataSource.hasChildren(t.element);let u;if(!t.hasChildren)u=Promise.resolve(gi.empty());else{const h=this.doGetChildren(t);if(hM(h))u=Promise.resolve(h);else{const f=zu(800);f.then(()=>{t.slow=!0,this._onDidChangeNodeSlowState.fire(t)},m=>null),u=h.finally(()=>f.cancel())}}try{const h=yield u;return this.setChildren(t,h,s,l)}catch(h){if(t!==this.root&&this.tree.hasElement(t)&&this.tree.collapse(t),y0(h))return[];throw h}finally{t.slow&&(t.slow=!1,this._onDidChangeNodeSlowState.fire(t))}})}doGetChildren(t){let s=this.refreshPromises.get(t);if(s)return s;const l=this.dataSource.getChildren(t.element);return hM(l)?this.processChildren(l):(s=js(()=>ru(this,void 0,void 0,function*(){return this.processChildren(yield l)})),this.refreshPromises.set(t,s),s.finally(()=>{this.refreshPromises.delete(t)}))}_onDidChangeCollapseState({node:t,deep:s}){t.element!==null&&!t.collapsed&&t.element.stale&&(s?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(Bt))}setChildren(t,s,l,u){const h=[...s];if(t.children.length===0&&h.length===0)return[];const f=new Map,m=new Map;for(const w of t.children)if(f.set(w.element,w),this.identityProvider){const k=this.tree.isCollapsed(w);m.set(w.id,{node:w,collapsed:k})}const A=[],C=h.map(w=>{const k=!!this.dataSource.hasChildren(w);if(!this.identityProvider){const R=p9({element:w,parent:t,hasChildren:k});return k&&this.collapseByDefault&&!this.collapseByDefault(w)&&(R.collapsedByDefault=!1,A.push(R)),R}const D=this.identityProvider.getId(w).toString(),I=m.get(D);if(I){const R=I.node;return f.delete(R.element),this.nodes.delete(R.element),this.nodes.set(w,R),R.element=w,R.hasChildren=k,l?I.collapsed?(R.children.forEach(O=>W7(O,W=>this.nodes.delete(W.element))),R.children.splice(0,R.children.length),R.stale=!0):A.push(R):k&&this.collapseByDefault&&!this.collapseByDefault(w)&&(R.collapsedByDefault=!1,A.push(R)),R}const N=p9({element:w,parent:t,id:D,hasChildren:k});return u&&u.viewState.focus&&u.viewState.focus.indexOf(D)>-1&&u.focus.push(N),u&&u.viewState.selection&&u.viewState.selection.indexOf(D)>-1&&u.selection.push(N),u&&u.viewState.expanded&&u.viewState.expanded.indexOf(D)>-1?A.push(N):k&&this.collapseByDefault&&!this.collapseByDefault(w)&&(N.collapsedByDefault=!1,A.push(N)),N});for(const w of f.values())W7(w,k=>this.nodes.delete(k.element));for(const w of C)this.nodes.set(w.element,w);return t.children.splice(0,t.children.length,...C),t!==this.root&&this.autoExpandSingleChildren&&C.length===1&&A.length===0&&(C[0].collapsedByDefault=!1,A.push(C[0])),A}render(t,s,l){const u=t.children.map(f=>this.asTreeElement(f,s)),h=l&&Object.assign(Object.assign({},l),{diffIdentityProvider:l.diffIdentityProvider&&{getId(f){return l.diffIdentityProvider.getId(f.element)}}});this.tree.setChildren(t===this.root?null:t,u,h),t!==this.root&&this.tree.setCollapsible(t,t.hasChildren),this._onDidRender.fire()}asTreeElement(t,s){if(t.stale)return{element:t,collapsible:t.hasChildren,collapsed:!0};let l;return s&&s.viewState.expanded&&t.id&&s.viewState.expanded.indexOf(t.id)>-1?l=!1:l=t.collapsedByDefault,t.collapsedByDefault=void 0,{element:t,children:t.hasChildren?gi.map(t.children,u=>this.asTreeElement(u,s)):[],collapsible:t.hasChildren,collapsed:l}}processChildren(t){return this.sorter&&(t=[...t].sort(this.sorter.compare.bind(this.sorter))),t}dispose(){this.disposables.dispose()}}class Wx{constructor(t){this.node=t}get element(){return{elements:this.node.element.elements.map(t=>t.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(t=>new Wx(t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class t_e{constructor(t,s,l,u){this.renderer=t,this.nodeMapper=s,this.compressibleNodeMapperProvider=l,this.onDidChangeTwistieState=u,this.renderedNodes=new Map,this.disposables=[],this.templateId=t.templateId}renderTemplate(t){return{templateData:this.renderer.renderTemplate(t)}}renderElement(t,s,l,u){this.renderer.renderElement(this.nodeMapper.map(t),s,l.templateData,u)}renderCompressedElements(t,s,l,u){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(t),s,l.templateData,u)}renderTwistie(t,s){return t.slow?(s.classList.add(...T.treeItemLoading.classNamesArray),!0):(s.classList.remove(...T.treeItemLoading.classNamesArray),!1)}disposeElement(t,s,l,u){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(t),s,l.templateData,u)}disposeCompressedElements(t,s,l,u){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(t),s,l.templateData,u)}disposeTemplate(t){this.renderer.disposeTemplate(t.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=mi(this.disposables)}}function i_e(d){const t=d&&oz(d);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(s){return d.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.map(l=>l.element))}})})}class n_e extends lz{constructor(t,s,l,u,h,f,m={}){super(t,s,l,h,f,m),this.compressionDelegate=u,this.compressibleNodeMapper=new Tx(A=>new Wx(A)),this.filter=m.filter}createTree(t,s,l,u,h){const f=new Mx(l),m=u.map(C=>new t_e(C,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),A=i_e(h)||{};return new rz(t,s,f,m,A)}asTreeElement(t,s){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(t.element)},super.asTreeElement(t,s))}updateOptions(t={}){this.tree.updateOptions(t)}render(t,s){if(!this.identityProvider)return super.render(t,s);const l=D=>this.identityProvider.getId(D).toString(),u=D=>{const I=new Set;for(const N of D){const R=this.tree.getCompressedTreeNode(N===this.root?null:N);if(!!R.element)for(const O of R.element.elements)I.add(l(O.element))}return I},h=u(this.tree.getSelection()),f=u(this.tree.getFocus());super.render(t,s);const m=this.getSelection();let A=!1;const C=this.getFocus();let w=!1;const k=D=>{const I=D.element;if(I)for(let N=0;N<I.elements.length;N++){const R=l(I.elements[N].element),O=I.elements[I.elements.length-1].element;h.has(R)&&m.indexOf(O)===-1&&(m.push(O),A=!0),f.has(R)&&C.indexOf(O)===-1&&(C.push(O),w=!0)}D.children.forEach(k)};k(this.tree.getCompressedTreeNode(t===this.root?null:t)),A&&this.setSelection(m),w&&this.setFocus(C)}processChildren(t){return this.filter&&(t=gi.filter(t,s=>{const l=this.filter.filter(s,1),u=s_e(l);if(u===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return u===1})),super.processChildren(t)}}function s_e(d){return typeof d=="boolean"?d?1:0:Rx(d)?L4(d.visibility):L4(d)}class r_e extends iz{constructor(t,s,l,u,h,f={}){super(t,s,l,u,f),this.user=t,this.dataSource=h,this.identityProvider=f.identityProvider}createModel(t,s,l){return new Px(t,s,l)}}new rt("isMac",Jt,E("isMac","Whether the operating system is macOS"));new rt("isLinux",Cr,E("isLinux","Whether the operating system is Linux"));const Cv=new rt("isWindows",Gs,E("isWindows","Whether the operating system is Windows"));new rt("isWeb",ch,E("isWeb","Whether the platform is a web browser"));new rt("isMacNative",Jt&&!ch,E("isMacNative","Whether the operating system is macOS on a non-browser platform"));new rt("isIOS",t2,E("isIOS","Whether the operating system is iOS"));new rt("isDevelopment",!1,!0);const az="inputFocus";new rt(az,!1,E("inputFocus","Whether keyboard focus is inside an input box"));var E0=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},ei=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const Ql=hi("listService");let V7=class{constructor(t){this._themeService=t,this.disposables=new je,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(t){var s,l;t!==this._lastFocusedWidget&&((s=this._lastFocusedWidget)===null||s===void 0||s.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=t,(l=this._lastFocusedWidget)===null||l===void 0||l.getHTMLElement().classList.add("last-focused"))}register(t,s){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const u=new qU(Vl(),"");this.disposables.add(Xd(u,this._themeService))}if(this.lists.some(u=>u.widget===t))throw new Error("Cannot register the same widget multiple times");const l={widget:t,extraContextKeys:s};return this.lists.push(l),t.getHTMLElement()===document.activeElement&&this.setLastFocusedList(t),vc(t.onDidFocus(()=>this.setLastFocusedList(t)),$t(()=>this.lists.splice(this.lists.indexOf(l),1)),t.onDidDispose(()=>{this.lists=this.lists.filter(u=>u!==l),this._lastFocusedWidget===t&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};V7=E0([ei(0,dn)],V7);const cz=new rt("listFocus",!0),wv=new rt("listSupportsMultiselect",!0),uz=it.and(cz,it.not(az)),Vx=new rt("listHasSelectionOrFocus",!1),Hx=new rt("listDoubleSelection",!1),Ux=new rt("listMultiSelection",!1),vv=new rt("listSelectionNavigation",!1),zx=new rt("treeElementCanCollapse",!1),o_e=new rt("treeElementHasParent",!1),Gx=new rt("treeElementCanExpand",!1),l_e=new rt("treeElementHasChild",!1),hz="listAutomaticKeyboardNavigation";function kv(d,t){const s=d.createScoped(t.getHTMLElement());return cz.bindTo(s),s}const Of="workbench.list.multiSelectModifier",H7="workbench.list.openMode",Pl="workbench.list.horizontalScrolling",QC="workbench.list.keyboardNavigation",jx="workbench.list.automaticKeyboardNavigation",x4="workbench.tree.indent",YC="workbench.tree.renderIndentGuides",r2="workbench.list.smoothScrolling",v0="workbench.list.mouseWheelScrollSensitivity",k0="workbench.list.fastScrollSensitivity",$C="workbench.tree.expandMode";function b0(d){return d.getValue(Of)==="alt"}class a_e extends Se{constructor(t){super(),this.configurationService=t,this.useAltAsMultipleSelectionModifier=b0(t),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration(Of)&&(this.useAltAsMultipleSelectionModifier=b0(this.configurationService))}))}isSelectionSingleChangeEvent(t){return this.useAltAsMultipleSelectionModifier?t.browserEvent.altKey:KU(t)}isSelectionRangeChangeEvent(t){return XU(t)}}function bv(d,t,s){var l;const u=new je;return[Object.assign(Object.assign({},d),{keyboardNavigationDelegate:{mightProducePrintableCharacter(f){return s.mightProducePrintableCharacter(f)}},smoothScrolling:Boolean(t.getValue(r2)),mouseWheelScrollSensitivity:t.getValue(v0),fastScrollSensitivity:t.getValue(k0),multipleSelectionController:(l=d.multipleSelectionController)!==null&&l!==void 0?l:u.add(new a_e(t))}),u]}let U7=class extends x0{constructor(t,s,l,u,h,f,m,A,C,w){const k=typeof h.horizontalScrolling<"u"?h.horizontalScrolling:Boolean(C.getValue(Pl)),[D,I]=bv(h,C,w);super(t,s,l,u,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Ua(A.getColorTheme(),fv)),D),{horizontalScrolling:k})),this.disposables.add(I),this.contextKeyService=kv(f,this),this.themeService=A,this.listSupportsMultiSelect=wv.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(h.multipleSelectionSupport!==!1),vv.bindTo(this.contextKeyService).set(Boolean(h.selectionNavigation)),this.listHasSelectionOrFocus=Vx.bindTo(this.contextKeyService),this.listDoubleSelection=Hx.bindTo(this.contextKeyService),this.listMultiSelection=Ux.bindTo(this.contextKeyService),this.horizontalScrolling=h.horizontalScrolling,this._useAltAsMultipleSelectionModifier=b0(C),this.disposables.add(this.contextKeyService),this.disposables.add(m.register(this)),h.overrideStyles&&this.updateStyles(h.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const R=this.getSelection(),O=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(R.length>0||O.length>0),this.listMultiSelection.set(R.length>1),this.listDoubleSelection.set(R.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const R=this.getSelection(),O=this.getFocus();this.listHasSelectionOrFocus.set(R.length>0||O.length>0)})),this.disposables.add(C.onDidChangeConfiguration(R=>{R.affectsConfiguration(Of)&&(this._useAltAsMultipleSelectionModifier=b0(C));let O={};if(R.affectsConfiguration(Pl)&&this.horizontalScrolling===void 0){const W=Boolean(C.getValue(Pl));O=Object.assign(Object.assign({},O),{horizontalScrolling:W})}if(R.affectsConfiguration(r2)){const W=Boolean(C.getValue(r2));O=Object.assign(Object.assign({},O),{smoothScrolling:W})}if(R.affectsConfiguration(v0)){const W=C.getValue(v0);O=Object.assign(Object.assign({},O),{mouseWheelScrollSensitivity:W})}if(R.affectsConfiguration(k0)){const W=C.getValue(k0);O=Object.assign(Object.assign({},O),{fastScrollSensitivity:W})}Object.keys(O).length>0&&this.updateOptions(O)})),this.navigator=new dz(this,Object.assign({configurationService:C},h)),this.disposables.add(this.navigator)}updateOptions(t){super.updateOptions(t),t.overrideStyles&&this.updateStyles(t.overrideStyles),t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyles(t){var s;(s=this._styler)===null||s===void 0||s.dispose(),this._styler=Xd(this,this.themeService,t)}dispose(){var t;(t=this._styler)===null||t===void 0||t.dispose(),super.dispose()}};U7=E0([ei(5,Mt),ei(6,Ql),ei(7,dn),ei(8,Yi),ei(9,Hn)],U7);let hF=class extends I4e{constructor(t,s,l,u,h,f,m,A,C,w){const k=typeof h.horizontalScrolling<"u"?h.horizontalScrolling:Boolean(C.getValue(Pl)),[D,I]=bv(h,C,w);super(t,s,l,u,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Ua(A.getColorTheme(),fv)),D),{horizontalScrolling:k})),this.disposables=new je,this.disposables.add(I),this.contextKeyService=kv(f,this),this.themeService=A,this.horizontalScrolling=h.horizontalScrolling,this.listSupportsMultiSelect=wv.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(h.multipleSelectionSupport!==!1),vv.bindTo(this.contextKeyService).set(Boolean(h.selectionNavigation)),this._useAltAsMultipleSelectionModifier=b0(C),this.disposables.add(this.contextKeyService),this.disposables.add(m.register(this)),h.overrideStyles&&this.updateStyles(h.overrideStyles),h.overrideStyles&&this.disposables.add(Xd(this,A,h.overrideStyles)),this.disposables.add(C.onDidChangeConfiguration(R=>{R.affectsConfiguration(Of)&&(this._useAltAsMultipleSelectionModifier=b0(C));let O={};if(R.affectsConfiguration(Pl)&&this.horizontalScrolling===void 0){const W=Boolean(C.getValue(Pl));O=Object.assign(Object.assign({},O),{horizontalScrolling:W})}if(R.affectsConfiguration(r2)){const W=Boolean(C.getValue(r2));O=Object.assign(Object.assign({},O),{smoothScrolling:W})}if(R.affectsConfiguration(v0)){const W=C.getValue(v0);O=Object.assign(Object.assign({},O),{mouseWheelScrollSensitivity:W})}if(R.affectsConfiguration(k0)){const W=C.getValue(k0);O=Object.assign(Object.assign({},O),{fastScrollSensitivity:W})}Object.keys(O).length>0&&this.updateOptions(O)})),this.navigator=new dz(this,Object.assign({configurationService:C},h)),this.disposables.add(this.navigator)}updateOptions(t){super.updateOptions(t),t.overrideStyles&&this.updateStyles(t.overrideStyles),t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyles(t){var s;(s=this._styler)===null||s===void 0||s.dispose(),this._styler=Xd(this,this.themeService,t)}dispose(){var t;(t=this._styler)===null||t===void 0||t.dispose(),this.disposables.dispose(),super.dispose()}};hF=E0([ei(5,Mt),ei(6,Ql),ei(7,dn),ei(8,Yi),ei(9,Hn)],hF);let dF=class extends _v{constructor(t,s,l,u,h,f,m,A,C,w,k){const D=typeof f.horizontalScrolling<"u"?f.horizontalScrolling:Boolean(w.getValue(Pl)),[I,N]=bv(f,w,k);super(t,s,l,u,h,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Ua(C.getColorTheme(),fv)),I),{horizontalScrolling:D})),this.disposables.add(N),this.contextKeyService=kv(m,this),this.themeService=C,this.listSupportsMultiSelect=wv.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(f.multipleSelectionSupport!==!1),vv.bindTo(this.contextKeyService).set(Boolean(f.selectionNavigation)),this.listHasSelectionOrFocus=Vx.bindTo(this.contextKeyService),this.listDoubleSelection=Hx.bindTo(this.contextKeyService),this.listMultiSelection=Ux.bindTo(this.contextKeyService),this.horizontalScrolling=f.horizontalScrolling,this._useAltAsMultipleSelectionModifier=b0(w),this.disposables.add(this.contextKeyService),this.disposables.add(A.register(this)),f.overrideStyles&&this.updateStyles(f.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const O=this.getSelection(),W=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(O.length>0||W.length>0),this.listMultiSelection.set(O.length>1),this.listDoubleSelection.set(O.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const O=this.getSelection(),W=this.getFocus();this.listHasSelectionOrFocus.set(O.length>0||W.length>0)})),this.disposables.add(w.onDidChangeConfiguration(O=>{O.affectsConfiguration(Of)&&(this._useAltAsMultipleSelectionModifier=b0(w));let W={};if(O.affectsConfiguration(Pl)&&this.horizontalScrolling===void 0){const B=Boolean(w.getValue(Pl));W=Object.assign(Object.assign({},W),{horizontalScrolling:B})}if(O.affectsConfiguration(r2)){const B=Boolean(w.getValue(r2));W=Object.assign(Object.assign({},W),{smoothScrolling:B})}if(O.affectsConfiguration(v0)){const B=w.getValue(v0);W=Object.assign(Object.assign({},W),{mouseWheelScrollSensitivity:B})}if(O.affectsConfiguration(k0)){const B=w.getValue(k0);W=Object.assign(Object.assign({},W),{fastScrollSensitivity:B})}Object.keys(W).length>0&&this.updateOptions(W)})),this.navigator=new c_e(this,Object.assign({configurationService:w},f)),this.disposables.add(this.navigator)}updateOptions(t){super.updateOptions(t),t.overrideStyles&&this.updateStyles(t.overrideStyles),t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyles(t){var s;(s=this._styler)===null||s===void 0||s.dispose(),this._styler=Xd(this,this.themeService,t)}dispose(){var t;(t=this._styler)===null||t===void 0||t.dispose(),this.disposables.dispose(),super.dispose()}};dF=E0([ei(6,Mt),ei(7,Ql),ei(8,dn),ei(9,Yi),ei(10,Hn)],dF);class Zx extends Se{constructor(t,s){var l;super(),this.widget=t,this._onDidOpen=this._register(new he),this.onDidOpen=this._onDidOpen.event,this._register(ft.filter(this.widget.onDidChangeSelection,u=>u.browserEvent instanceof KeyboardEvent)(u=>this.onSelectionFromKeyboard(u))),this._register(this.widget.onPointer(u=>this.onPointer(u.element,u.browserEvent))),this._register(this.widget.onMouseDblClick(u=>this.onMouseDblClick(u.element,u.browserEvent))),typeof s?.openOnSingleClick!="boolean"&&s?.configurationService?(this.openOnSingleClick=s?.configurationService.getValue(H7)!=="doubleClick",this._register(s?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=s?.configurationService.getValue(H7)!=="doubleClick"}))):this.openOnSingleClick=(l=s?.openOnSingleClick)!==null&&l!==void 0?l:!0}onSelectionFromKeyboard(t){if(t.elements.length!==1)return;const s=t.browserEvent,l=typeof s.preserveFocus=="boolean"?s.preserveFocus:!0,u=typeof s.pinned=="boolean"?s.pinned:!l,h=!1;this._open(this.getSelectedElement(),l,u,h,t.browserEvent)}onPointer(t,s){if(!this.openOnSingleClick||s.detail===2)return;const u=s.button===1,h=!0,f=u,m=s.ctrlKey||s.metaKey||s.altKey;this._open(t,h,f,m,s)}onMouseDblClick(t,s){if(!s)return;const l=s.target;if(l.classList.contains("monaco-tl-twistie")||l.classList.contains("monaco-icon-label")&&l.classList.contains("folder-icon")&&s.offsetX<16)return;const h=!1,f=!0,m=s.ctrlKey||s.metaKey||s.altKey;this._open(t,h,f,m,s)}_open(t,s,l,u,h){!t||this._onDidOpen.fire({editorOptions:{preserveFocus:s,pinned:l,revealIfVisible:!0},sideBySide:u,element:t,browserEvent:h})}}class dz extends Zx{constructor(t,s){super(t,s),this.widget=t}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class c_e extends Zx{constructor(t,s){super(t,s)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class u_e extends Zx{constructor(t,s){super(t,s)}getSelectedElement(){var t;return(t=this.widget.getSelection()[0])!==null&&t!==void 0?t:void 0}}function h_e(d,t){let s=!1;return l=>{if(l.toKeybinding().isModifierKey())return!1;if(s)return s=!1,!1;const u=t.softDispatch(l,d);return u&&u.enterChord?(s=!0,!1):(s=!1,!0)}}let fF=class extends Fx{constructor(t,s,l,u,h,f,m,A,C,w,k){const{options:D,getAutomaticKeyboardNavigation:I,disposable:N}=L_(s,h,f,C,w,k);super(t,s,l,u,D),this.disposables.add(N),this.internals=new qd(this,h,I,h.overrideStyles,f,m,A,C,k),this.disposables.add(this.internals)}updateOptions(t){super.updateOptions(t),this.internals.updateOptions(t)}};fF=E0([ei(5,Mt),ei(6,Ql),ei(7,dn),ei(8,Yi),ei(9,Hn),ei(10,Vo)],fF);let gF=class extends rz{constructor(t,s,l,u,h,f,m,A,C,w,k){const{options:D,getAutomaticKeyboardNavigation:I,disposable:N}=L_(s,h,f,C,w,k);super(t,s,l,u,D),this.disposables.add(N),this.internals=new qd(this,h,I,h.overrideStyles,f,m,A,C,k),this.disposables.add(this.internals)}updateOptions(t={}){super.updateOptions(t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles),this.internals.updateOptions(t)}};gF=E0([ei(5,Mt),ei(6,Ql),ei(7,dn),ei(8,Yi),ei(9,Hn),ei(10,Vo)],gF);let mF=class extends r_e{constructor(t,s,l,u,h,f,m,A,C,w,k,D){const{options:I,getAutomaticKeyboardNavigation:N,disposable:R}=L_(s,f,m,w,k,D);super(t,s,l,u,h,I),this.disposables.add(R),this.internals=new qd(this,f,N,f.overrideStyles,m,A,C,w,D),this.disposables.add(this.internals)}updateOptions(t={}){super.updateOptions(t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles),this.internals.updateOptions(t)}};mF=E0([ei(6,Mt),ei(7,Ql),ei(8,dn),ei(9,Yi),ei(10,Hn),ei(11,Vo)],mF);let z7=class extends lz{constructor(t,s,l,u,h,f,m,A,C,w,k,D){const{options:I,getAutomaticKeyboardNavigation:N,disposable:R}=L_(s,f,m,w,k,D);super(t,s,l,u,h,I),this.disposables.add(R),this.internals=new qd(this,f,N,f.overrideStyles,m,A,C,w,D),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(t={}){super.updateOptions(t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles),this.internals.updateOptions(t)}};z7=E0([ei(6,Mt),ei(7,Ql),ei(8,dn),ei(9,Yi),ei(10,Hn),ei(11,Vo)],z7);let pF=class extends n_e{constructor(t,s,l,u,h,f,m,A,C,w,k,D,I){const{options:N,getAutomaticKeyboardNavigation:R,disposable:O}=L_(s,m,A,k,D,I);super(t,s,l,u,h,f,N),this.disposables.add(O),this.internals=new qd(this,m,R,m.overrideStyles,A,C,w,k,I),this.disposables.add(this.internals)}updateOptions(t){super.updateOptions(t),this.internals.updateOptions(t)}};pF=E0([ei(7,Mt),ei(8,Ql),ei(9,dn),ei(10,Yi),ei(11,Hn),ei(12,Vo)],pF);function L_(d,t,s,l,u,h){var f;const m=()=>{let N=Boolean(s.getContextKeyValue(hz));return N&&(N=Boolean(l.getValue(jx))),N},A=h.isScreenReaderOptimized(),C=t.simpleKeyboardNavigation||A?"simple":l.getValue(QC),w=t.horizontalScrolling!==void 0?t.horizontalScrolling:Boolean(l.getValue(Pl)),[k,D]=bv(t,l,u),I=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:m,disposable:D,options:Object.assign(Object.assign({keyboardSupport:!1},k),{indent:typeof l.getValue(x4)=="number"?l.getValue(x4):void 0,renderIndentGuides:l.getValue(YC),smoothScrolling:Boolean(l.getValue(r2)),automaticKeyboardNavigation:m(),simpleKeyboardNavigation:C==="simple",filterOnType:C==="filter",horizontalScrolling:w,keyboardNavigationEventFilter:h_e(d,u),additionalScrollHeight:I,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(f=t.expandOnlyOnTwistieClick)!==null&&f!==void 0?f:l.getValue($C)==="doubleClick"})}}let qd=class{constructor(t,s,l,u,h,f,m,A,C){this.tree=t,this.themeService=m,this.disposables=[],this.contextKeyService=kv(h,t),this.listSupportsMultiSelect=wv.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),vv.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.hasSelectionOrFocus=Vx.bindTo(this.contextKeyService),this.hasDoubleSelection=Hx.bindTo(this.contextKeyService),this.hasMultiSelection=Ux.bindTo(this.contextKeyService),this.treeElementCanCollapse=zx.bindTo(this.contextKeyService),this.treeElementHasParent=o_e.bindTo(this.contextKeyService),this.treeElementCanExpand=Gx.bindTo(this.contextKeyService),this.treeElementHasChild=l_e.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=b0(A);const k=new Set;k.add(hz);const D=()=>{const R=C.isScreenReaderOptimized()?"simple":A.getValue(QC);t.updateOptions({simpleKeyboardNavigation:R==="simple",filterOnType:R==="filter"})};this.updateStyleOverrides(u);const I=()=>{const N=t.getFocus()[0];if(!N)return;const R=t.getNode(N);this.treeElementCanCollapse.set(R.collapsible&&!R.collapsed),this.treeElementHasParent.set(!!t.getParentElement(N)),this.treeElementCanExpand.set(R.collapsible&&R.collapsed),this.treeElementHasChild.set(!!t.getFirstElementChild(N))};this.disposables.push(this.contextKeyService,f.register(t),t.onDidChangeSelection(()=>{const N=t.getSelection(),R=t.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(N.length>0||R.length>0),this.hasMultiSelection.set(N.length>1),this.hasDoubleSelection.set(N.length===2)})}),t.onDidChangeFocus(()=>{const N=t.getSelection(),R=t.getFocus();this.hasSelectionOrFocus.set(N.length>0||R.length>0),I()}),t.onDidChangeCollapseState(I),t.onDidChangeModel(I),A.onDidChangeConfiguration(N=>{let R={};if(N.affectsConfiguration(Of)&&(this._useAltAsMultipleSelectionModifier=b0(A)),N.affectsConfiguration(x4)){const O=A.getValue(x4);R=Object.assign(Object.assign({},R),{indent:O})}if(N.affectsConfiguration(YC)){const O=A.getValue(YC);R=Object.assign(Object.assign({},R),{renderIndentGuides:O})}if(N.affectsConfiguration(r2)){const O=Boolean(A.getValue(r2));R=Object.assign(Object.assign({},R),{smoothScrolling:O})}if(N.affectsConfiguration(QC)&&D(),N.affectsConfiguration(jx)&&(R=Object.assign(Object.assign({},R),{automaticKeyboardNavigation:l()})),N.affectsConfiguration(Pl)&&s.horizontalScrolling===void 0){const O=Boolean(A.getValue(Pl));R=Object.assign(Object.assign({},R),{horizontalScrolling:O})}if(N.affectsConfiguration($C)&&s.expandOnlyOnTwistieClick===void 0&&(R=Object.assign(Object.assign({},R),{expandOnlyOnTwistieClick:A.getValue($C)==="doubleClick"})),N.affectsConfiguration(v0)){const O=A.getValue(v0);R=Object.assign(Object.assign({},R),{mouseWheelScrollSensitivity:O})}if(N.affectsConfiguration(k0)){const O=A.getValue(k0);R=Object.assign(Object.assign({},R),{fastScrollSensitivity:O})}Object.keys(R).length>0&&t.updateOptions(R)}),this.contextKeyService.onDidChangeContext(N=>{N.affectsSome(k)&&t.updateOptions({automaticKeyboardNavigation:l()})}),C.onDidChangeScreenReaderOptimized(()=>D())),this.navigator=new u_e(t,Object.assign({configurationService:A},s)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(t){t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyleOverrides(t){mi(this.styler),this.styler=t?Xd(this.tree,this.themeService,t):Se.None}dispose(){this.disposables=mi(this.disposables),mi(this.styler),this.styler=void 0}};qd=E0([ei(4,Mt),ei(5,Ql),ei(6,dn),ei(7,Yi),ei(8,Vo)],qd);const d_e=ts.as(Ef.Configuration);d_e.registerConfiguration({id:"workbench",order:7,title:E("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Of]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[E("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:E({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[H7]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:E({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Pl]:{type:"boolean",default:!1,description:E("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[x4]:{type:"number",default:8,minimum:4,maximum:40,description:E("tree indent setting","Controls tree indentation in pixels.")},[YC]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:E("render tree indent guides","Controls whether the tree should render indent guides.")},[r2]:{type:"boolean",default:!1,description:E("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[v0]:{type:"number",default:1,description:E("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[k0]:{type:"number",default:5,description:E("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[QC]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[E("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),E("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),E("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:E("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[jx]:{type:"boolean",default:!0,markdownDescription:E("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[$C]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:E("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var G7;(function(d){d[d.PRESERVE=0]="PRESERVE",d[d.LAST=1]="LAST"})(G7||(G7={}));const Ff={Quickaccess:"workbench.contributions.quickaccess"};class f_e{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(t){return t.prefix.length===0?this.defaultProvider=t:this.providers.push(t),this.providers.sort((s,l)=>l.prefix.length-s.prefix.length),$t(()=>{this.providers.splice(this.providers.indexOf(t),1),this.defaultProvider===t&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return vf([this.defaultProvider,...this.providers])}getQuickAccessProvider(t){return t&&this.providers.find(l=>t.startsWith(l.prefix))||void 0||this.defaultProvider}}ts.add(Ff.Quickaccess,new f_e);const Oc=hi("quickInputService");var g_e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},AF=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let j7=class extends Se{constructor(t,s){super(),this.quickInputService=t,this.instantiationService=s,this.registry=ts.as(Ff.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",s){this.doShowOrPick(t,!1,s)}doShowOrPick(t,s,l){var u;const[h,f]=this.getOrInstantiateProvider(t),m=this.visibleQuickAccess,A=m?.descriptor;if(m&&f&&A===f){t!==f.prefix&&!l?.preserveValue&&(m.picker.value=t),this.adjustValueSelection(m.picker,f,l);return}if(f&&!l?.preserveValue){let I;if(m&&A&&A!==f){const N=m.value.substr(A.prefix.length);N&&(I=`${f.prefix}${N}`)}if(!I){const N=h?.defaultFilterValue;N===G7.LAST?I=this.lastAcceptedPickerValues.get(f):typeof N=="string"&&(I=`${f.prefix}${N}`)}typeof I=="string"&&(t=I)}const C=new je,w=C.add(this.quickInputService.createQuickPick());w.value=t,this.adjustValueSelection(w,f,l),w.placeholder=f?.placeholder,w.quickNavigate=l?.quickNavigateConfiguration,w.hideInput=!!w.quickNavigate&&!m,(typeof l?.itemActivation=="number"||l?.quickNavigateConfiguration)&&(w.itemActivation=(u=l?.itemActivation)!==null&&u!==void 0?u:Ha.SECOND),w.contextKey=f?.contextKey,w.filterValue=I=>I.substring(f?f.prefix.length:0),f?.placeholder&&(w.ariaLabel=f?.placeholder);let k;s&&(k=new uI,C.add(Ic(w.onWillAccept)(I=>{I.veto(),w.hide()}))),C.add(this.registerPickerListeners(w,h,f,t));const D=C.add(new tr);if(h&&C.add(h.provide(w,D.token)),Ic(w.onDidHide)(()=>{w.selectedItems.length===0&&D.cancel(),C.dispose(),k?.complete(w.selectedItems.slice(0))}),w.show(),s)return k?.p}adjustValueSelection(t,s,l){var u;let h;l?.preserveValue?h=[t.value.length,t.value.length]:h=[(u=s?.prefix.length)!==null&&u!==void 0?u:0,t.value.length],t.valueSelection=h}registerPickerListeners(t,s,l,u){const h=new je,f=this.visibleQuickAccess={picker:t,descriptor:l,value:u};return h.add($t(()=>{f===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),h.add(t.onDidChangeValue(m=>{const[A]=this.getOrInstantiateProvider(m);A!==s?this.show(m,{preserveValue:!0}):f.value=m})),l&&h.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(l,t.value)})),h}getOrInstantiateProvider(t){const s=this.registry.getQuickAccessProvider(t);if(!s)return[void 0,void 0];let l=this.mapProviderToDescriptor.get(s);return l||(l=this.instantiationService.createInstance(s.ctor),this.mapProviderToDescriptor.set(s,l)),[l,s]}};j7=g_e([AF(0,Oc),AF(1,ii)],j7);var m_e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Op=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let Z7=class extends wce{constructor(t,s,l,u,h){super(l),this.instantiationService=t,this.contextKeyService=s,this.accessibilityService=u,this.layoutService=h,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(j7))),this._quickAccess}createController(t=this.layoutService,s){var l,u;const h={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:m=>this.setContextKey(m),returnFocus:()=>t.focus(),createList:(m,A,C,w,k)=>this.instantiationService.createInstance(U7,m,A,C,w,k),styles:this.computeStyles()},f=this._register(new Av(Object.assign(Object.assign({},h),s)));return f.layout(t.dimension,(u=(l=t.offset)===null||l===void 0?void 0:l.top)!==null&&u!==void 0?u:0),this._register(t.onDidLayout(m=>{var A,C;return f.layout(m,(C=(A=t.offset)===null||A===void 0?void 0:A.top)!==null&&C!==void 0?C:0)})),this._register(f.onShow(()=>this.resetContextKeys())),this._register(f.onHide(()=>this.resetContextKeys())),f}setContextKey(t){let s;t&&(s=this.contexts.get(t),s||(s=new rt(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,s))),!(s&&s.get())&&(this.resetContextKeys(),s&&s.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,s={},l=ti.None){return this.controller.pick(t,s,l)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},Ua(this.theme,{quickInputBackground:nP,quickInputForeground:eue,quickInputTitleBackground:tue,contrastBorder:An,widgetShadow:Yu})),inputBox:Ua(this.theme,{inputForeground:EI,inputBackground:xI,inputBorder:NI,inputValidationInfoBackground:GV,inputValidationInfoForeground:jV,inputValidationInfoBorder:ZV,inputValidationWarningBackground:QV,inputValidationWarningForeground:YV,inputValidationWarningBorder:$V,inputValidationErrorBackground:KV,inputValidationErrorForeground:XV,inputValidationErrorBorder:JV}),countBadge:Ua(this.theme,{badgeBackground:dA,badgeForeground:fA,badgeBorder:An}),button:Ua(this.theme,{buttonForeground:jce,buttonBackground:Py,buttonHoverBackground:Zce,buttonBorder:An}),progressBar:Ua(this.theme,{progressBarBackground:Qce}),keybindingLabel:Ua(this.theme,{keybindingLabelBackground:sue,keybindingLabelForeground:rue,keybindingLabelBorder:oue,keybindingLabelBottomBorder:lue,keybindingLabelShadow:Yu}),list:Ua(this.theme,{listBackground:nP,listInactiveFocusForeground:i3,listInactiveSelectionIconForeground:n3,listInactiveFocusBackground:s3,listFocusOutline:Fr,listInactiveFocusOutline:Fr,pickerGroupBorder:nue,pickerGroupForeground:iue})}}};Z7=m_e([Op(0,ii),Op(1,Mt),Op(2,dn),Op(3,Vo),Op(4,w_)],Z7);var fz=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},ad=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let Q7=class extends Z7{constructor(t,s,l,u,h,f){super(s,l,u,h,new n7(t.getContainerDomNode(),f)),this.host=void 0;const m=Jg.get(t);if(m){const A=m.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return A.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};Q7=fz([ad(1,ii),ad(2,Mt),ad(3,dn),ad(4,Vo),ad(5,Mi)],Q7);let Y7=class{constructor(t,s){this.instantiationService=t,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(t);if(!s){const l=s=this.instantiationService.createInstance(Q7,t);this.mapEditorToService.set(t,s),Ic(t.onDidDispose)(()=>{l.dispose(),this.mapEditorToService.delete(t)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(t,s={},l=ti.None){return this.activeService.pick(t,s,l)}createQuickPick(){return this.activeService.createQuickPick()}};Y7=fz([ad(0,ii),ad(1,Mi)],Y7);class Jg{constructor(t){this.editor=t,this.widget=new Sv(this.editor)}static get(t){return t.getContribution(Jg.ID)}dispose(){this.widget.dispose()}}Jg.ID="editor.controller.quickInput";class Sv{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Sv.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Sv.ID="editor.contrib.quickInputWidget";Li(Jg.ID,Jg);class p_e{constructor(t,s,l,u,h){this._parsedThemeRuleBrand=void 0,this.token=t,this.index=s,this.fontStyle=l,this.foreground=u,this.background=h}}function A_e(d){if(!d||!Array.isArray(d))return[];const t=[];let s=0;for(let l=0,u=d.length;l<u;l++){const h=d[l];let f=-1;if(typeof h.fontStyle=="string"){f=0;const C=h.fontStyle.split(" ");for(let w=0,k=C.length;w<k;w++)switch(C[w]){case"italic":f=f|1;break;case"bold":f=f|2;break;case"underline":f=f|4;break;case"strikethrough":f=f|8;break}}let m=null;typeof h.foreground=="string"&&(m=h.foreground);let A=null;typeof h.background=="string"&&(A=h.background),t[s++]=new p_e(h.token||"",l,f,m,A)}return t}function __e(d,t){d.sort((w,k)=>{const D=b_e(w.token,k.token);return D!==0?D:w.index-k.index});let s=0,l="000000",u="ffffff";for(;d.length>=1&&d[0].token==="";){const w=d.shift();w.fontStyle!==-1&&(s=w.fontStyle),w.foreground!==null&&(l=w.foreground),w.background!==null&&(u=w.background)}const h=new w_e;for(let w of t)h.getId(w);const f=h.getId(l),m=h.getId(u),A=new Qx(s,f,m),C=new Yx(A);for(let w=0,k=d.length;w<k;w++){const D=d[w];C.insert(D.token,D.fontStyle,h.getId(D.foreground),h.getId(D.background))}return new gz(h,C)}const C_e=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class w_e{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(t){if(t===null)return 0;const s=t.match(C_e);if(!s)throw new Error("Illegal value for token color: "+t);t=s[1].toUpperCase();let l=this._color2id.get(t);return l||(l=++this._lastColorId,this._color2id.set(t,l),this._id2color[l]=ke.fromHex("#"+t),l)}getColorMap(){return this._id2color.slice(0)}}class gz{constructor(t,s){this._colorMap=t,this._root=s,this._cache=new Map}static createFromRawTokenTheme(t,s){return this.createFromParsedTokenTheme(A_e(t),s)}static createFromParsedTokenTheme(t,s){return __e(t,s)}getColorMap(){return this._colorMap.getColorMap()}_match(t){return this._root.match(t)}match(t,s){let l=this._cache.get(s);if(typeof l>"u"){const u=this._match(s),h=k_e(s);l=(u.metadata|h<<8)>>>0,this._cache.set(s,l)}return(l|t<<0)>>>0}}const v_e=/\b(comment|string|regex|regexp)\b/;function k_e(d){const t=d.match(v_e);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function b_e(d,t){return d<t?-1:d>t?1:0}class Qx{constructor(t,s,l){this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=s,this._background=l,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new Qx(this._fontStyle,this._foreground,this._background)}acceptOverwrite(t,s,l){t!==-1&&(this._fontStyle=t),s!==0&&(this._foreground=s),l!==0&&(this._background=l),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class Yx{constructor(t){this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}match(t){if(t==="")return this._mainRule;const s=t.indexOf(".");let l,u;s===-1?(l=t,u=""):(l=t.substring(0,s),u=t.substring(s+1));const h=this._children.get(l);return typeof h<"u"?h.match(u):this._mainRule}insert(t,s,l,u){if(t===""){this._mainRule.acceptOverwrite(s,l,u);return}const h=t.indexOf(".");let f,m;h===-1?(f=t,m=""):(f=t.substring(0,h),m=t.substring(h+1));let A=this._children.get(f);typeof A>"u"&&(A=new Yx(this._mainRule.clone()),this._children.set(f,A)),A.insert(m,s,l,u)}}function S_e(d){const t=[];for(let s=1,l=d.length;s<l;s++){const u=d[s];t[s]=`.mtk${s} { color: ${u}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join(`
`)}const y_e={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[go]:"#FFFFFE",[Nu]:"#000000",[RI]:"#E5EBF1",[Jw]:"#D3D3D3",[qw]:"#939393",[MI]:"#ADD6FF4D"}},L_e={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[go]:"#1E1E1E",[Nu]:"#D4D4D4",[RI]:"#3A3D41",[Jw]:"#404040",[qw]:"#707070",[MI]:"#ADD6FF26"}},D_e={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[go]:"#000000",[Nu]:"#FFFFFF",[Jw]:"#FFFFFF",[qw]:"#FFFFFF"}};function I_e(d){const t=new he,s=iU();return s.onDidChange(()=>t.fire()),d?.onDidProductIconThemeChange(()=>t.fire()),{onDidChange:t.event,getCSS(){const l=d?d.getProductIconTheme():new mz,u={},h=m=>{const A=l.getIcon(m);if(!A)return;const C=A.font;return C?(u[C.id]=C.definition,`.codicon-${m.id}:before { content: '${A.fontCharacter}'; font-family: ${JM(C.id)}; }`):`.codicon-${m.id}:before { content: '${A.fontCharacter}'; }`},f=[];for(let m of s.getIcons()){const A=h(m);A&&f.push(A)}for(let m in u){const A=u[m],C=A.weight?`font-weight: ${A.weight};`:"",w=A.style?`font-style: ${A.style};`:"",k=A.src.map(D=>`${Ud(D.location)} format('${D.format}')`).join(", ");f.push(`@font-face { src: ${k}; font-family: ${JM(m)};${C}${w} font-display: block; }`)}return f.join(`
`)}}}class mz{getIcon(t){const s=iU();let l=t.defaults;for(;Qi.isThemeIcon(l);){const u=s.getIcon(l.id);if(!u)return;l=u.defaults}return l}}const Cd="vs",KC="vs-dark",Lg="hc-black",pz=ts.as(UV.ColorContribution),x_e=ts.as(NV.ThemingContribution);class Az{constructor(t,s){this.semanticHighlighting=!1,this.themeData=s;const l=s.base;t.length>0?(p3(t)?this.id=t:this.id=l+" "+t,this.themeName=t):(this.id=l,this.themeName=l),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const t=new Map;for(let s in this.themeData.colors)t.set(s,ke.fromHex(this.themeData.colors[s]));if(this.themeData.inherit){const s=$7(this.themeData.base);for(let l in s.colors)t.has(l)||t.set(l,ke.fromHex(s.colors[l]))}this.colors=t}return this.colors}getColor(t,s){const l=this.getColors().get(t);if(l)return l;if(s!==!1)return this.getDefault(t)}getDefault(t){let s=this.defaultColors[t];return s||(s=pz.resolveDefaultColor(t,this),this.defaultColors[t]=s,s)}defines(t){return Object.prototype.hasOwnProperty.call(this.getColors(),t)}get type(){switch(this.base){case Cd:return pa.LIGHT;case Lg:return pa.HIGH_CONTRAST;default:return pa.DARK}}get tokenTheme(){if(!this._tokenTheme){let t=[],s=[];if(this.themeData.inherit){const h=$7(this.themeData.base);t=h.rules,h.encodedTokensColors&&(s=h.encodedTokensColors)}const l=this.themeData.colors["editor.foreground"],u=this.themeData.colors["editor.background"];if(l||u){const h={token:""};l&&(h.foreground=l),u&&(h.background=u),t.push(h)}t=t.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(s=this.themeData.encodedTokensColors),this._tokenTheme=gz.createFromRawTokenTheme(t,s)}return this._tokenTheme}getTokenStyleMetadata(t,s,l){const h=this.tokenTheme._match([t].concat(s).join(".")).metadata,f=Ar.getForeground(h),m=Ar.getFontStyle(h);return{foreground:f,italic:Boolean(m&1),bold:Boolean(m&2),underline:Boolean(m&4),strikethrough:Boolean(m&8)}}}function p3(d){return d===Cd||d===KC||d===Lg}function $7(d){switch(d){case Cd:return y_e;case KC:return L_e;case Lg:return D_e}}function _9(d){const t=$7(d);return new Az(d,t)}class E_e extends Se{constructor(){super(),this._onColorThemeChange=this._register(new he),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new he),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new mz,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Cd,_9(Cd)),this._knownThemes.set(KC,_9(KC)),this._knownThemes.set(Lg,_9(Lg));const t=I_e(this);this._codiconCSS=t.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Cd),t.onDidChange(()=>{this._codiconCSS=t.getCSS(),this._updateCSS()}),fce("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(t){return JA(t)?this._registerShadowDomContainer(t):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Vl(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Se.None}_registerShadowDomContainer(t){const s=Vl(t);return s.className="monaco-colors",s.textContent=this._allCSS,this._styleElements.push(s),{dispose:()=>{for(let l=0;l<this._styleElements.length;l++)if(this._styleElements[l]===s){this._styleElements.splice(l,1);return}}}}defineTheme(t,s){if(!/^[a-z0-9\-]+$/i.test(t))throw new Error("Illegal theme name!");if(!p3(s.base)&&!p3(t))throw new Error("Illegal theme base!");this._knownThemes.set(t,new Az(t,s)),p3(t)&&this._knownThemes.forEach(l=>{l.base===t&&l.notifyBaseUpdated()}),this._theme.themeName===t&&this.setTheme(t)}getColorTheme(){return this._theme}setColorMapOverride(t){this._colorMapOverride=t,this._updateThemeOrColorMap()}setTheme(t){let s;this._knownThemes.has(t)?s=this._knownThemes.get(t):s=this._knownThemes.get(Cd),this._desiredTheme=s,this._updateActualTheme()}_updateActualTheme(){const t=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Lg):this._desiredTheme;this._theme!==t&&(this._theme=t,this._updateThemeOrColorMap())}setAutoDetectHighContrast(t){this._autoDetectHighContrast=t,this._updateActualTheme()}_updateThemeOrColorMap(){const t=[],s={},l={addRule:f=>{s[f]||(t.push(f),s[f]=!0)}};x_e.getThemingParticipants().forEach(f=>f(this._theme,l,this._environment));const u=[];for(const f of pz.getColors()){const m=this._theme.getColor(f.id,!0);m&&u.push(`${HV(f.id)}: ${m.toString()};`)}l.addRule(`.monaco-editor { ${u.join(`
`)} }`);const h=this._colorMapOverride||this._theme.tokenTheme.getColorMap();l.addRule(S_e(h)),this._themeCSS=t.join(`
`),this._updateCSS(),bn.setColorMap(h),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(t=>t.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const pl=hi("themeService");var N_e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},_F=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let K7=class extends Se{constructor(t,s){super(),this._contextKeyService=t,this._configurationService=s,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new he,this._accessibilityModeEnabledContext=f_.bindTo(this._contextKeyService);const l=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(u=>{u.affectsConfiguration("editor.accessibilitySupport")&&(l(),this._onDidChangeScreenReaderOptimized.fire())})),l(),this.onDidChangeScreenReaderOptimized(()=>l())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};K7=N_e([_F(0,Mt),_F(1,Yi)],K7);var _z=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},A3=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let X7=class{constructor(t){this._commandService=t}createMenu(t,s,l){return new J7(t,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},l),this._commandService,s,this)}};X7=_z([A3(0,es)],X7);let J7=class U1{constructor(t,s,l,u,h){this._id=t,this._options=s,this._commandService=l,this._contextKeyService=u,this._menuService=h,this._disposables=new je,this._menuGroups=[],this._contextKeys=new Set,this._build();const f=new zi(()=>{this._build(),this._onDidChange.fire(this)},s.eventDebounceDelay);this._disposables.add(f),this._disposables.add(ul.onDidChangeMenu(C=>{C.has(t)&&f.schedule()}));const m=this._disposables.add(new je),A=()=>{const C=new zi(()=>this._onDidChange.fire(this),s.eventDebounceDelay);m.add(C),m.add(u.onDidChangeContext(w=>{w.affectsSome(this._contextKeys)&&C.schedule()}))};this._onDidChange=new he({onFirstListenerAdd:A,onLastListenerRemove:m.clear.bind(m)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=ul.getMenuItems(this._id);let s;t.sort(U1._compareMenuItems);for(const l of t){const u=l.group||"";(!s||s[0]!==u)&&(s=[u,[]],this._menuGroups.push(s)),s[1].push(l),this._collectContextKeys(l)}}_collectContextKeys(t){if(U1._fillInKbExprKeys(t.when,this._contextKeys),X1(t)){if(t.command.precondition&&U1._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const s=t.command.toggled.condition||t.command.toggled;U1._fillInKbExprKeys(s,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ul.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const s=[];for(let l of this._menuGroups){const[u,h]=l,f=[];for(const m of h)if(this._contextKeyService.contextMatchesRules(m.when)){const A=X1(m)?new Qu(m.command,m.alt,t,this._contextKeyService,this._commandService):new II(m,this._menuService,this._contextKeyService,t);f.push(A)}f.length>0&&s.push([u,f])}return s}static _fillInKbExprKeys(t,s){if(t)for(let l of t.keys())s.add(l)}static _compareMenuItems(t,s){let l=t.group,u=s.group;if(l!==u){if(l){if(!u)return-1}else return 1;if(l==="navigation")return-1;if(u==="navigation")return 1;let m=l.localeCompare(u);if(m!==0)return m}let h=t.order||0,f=s.order||0;return h<f?-1:h>f?1:U1._compareTitles(X1(t)?t.command.title:t.title,X1(s)?s.command.title:s.title)}static _compareTitles(t,s){const l=typeof t=="string"?t:t.original,u=typeof s=="string"?s:s.original;return l.localeCompare(u)}};J7=_z([A3(2,es),A3(3,Mt),A3(4,Df)],J7);var T_e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},CF=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Fp=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let q7=class extends Se{constructor(t,s){super(),this.layoutService=t,this.logService=s,this.mapTextToType=new Map,this.findText="",(va||nI)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const t=()=>{const s=new uI;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(l=>Fp(this,void 0,void 0,function*(){(!(l instanceof Error)||l.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(l)}))};this.layoutService.hasContainer&&(this._register(ze(this.layoutService.container,"click",t)),this._register(ze(this.layoutService.container,"keydown",t)))}writeText(t,s){return Fp(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return yield navigator.clipboard.writeText(t)}catch(h){console.error(h)}const l=document.activeElement,u=document.body.appendChild(Ue("textarea",{"aria-hidden":!0}));u.style.height="1px",u.style.width="1px",u.style.position="absolute",u.value=t,u.focus(),u.select(),document.execCommand("copy"),l instanceof HTMLElement&&l.focus(),document.body.removeChild(u)})}readText(t){return Fp(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return Fp(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return Fp(this,void 0,void 0,function*(){this.findText=t})}};q7=T_e([CF(0,w_),CF(1,ka)],q7);var R_e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},M_e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const NA="data-keybinding-context";class $x{constructor(t,s){this._id=t,this._parent=s,this._value=Object.create(null),this._value._contextId=t}setValue(t,s){return this._value[t]!==s?(this._value[t]=s,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const s=this._value[t];return typeof s>"u"&&this._parent?this._parent.getValue(t):s}}class qg extends $x{constructor(){super(-1,null)}setValue(t,s){return!1}removeValue(t){return!1}getValue(t){}}qg.INSTANCE=new qg;class E4 extends $x{constructor(t,s,l){super(t,null),this._configurationService=s,this._values=Sg.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(u=>{if(u.source===6){const h=Array.from(gi.map(this._values,([f])=>f));this._values.clear(),l.fire(new vF(h))}else{const h=[];for(const f of u.affectedKeys){const m=`config.${f}`,A=this._values.findSuperstr(m);A!==void 0&&(h.push(...gi.map(A,([C])=>C)),this._values.deleteSuperstr(m)),this._values.has(m)&&(h.push(m),this._values.delete(m))}l.fire(new vF(h))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(E4._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const s=t.substr(E4._keyPrefix.length),l=this._configurationService.getValue(s);let u;switch(typeof l){case"number":case"boolean":case"string":u=l;break;default:Array.isArray(l)?u=JSON.stringify(l):u=l}return this._values.set(t,u),u}setValue(t,s){return super.setValue(t,s)}removeValue(t){return super.removeValue(t)}}E4._keyPrefix="config.";class P_e{constructor(t,s,l){this._service=t,this._key=s,this._defaultValue=l,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class wF{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}}class vF{constructor(t){this.keys=t}affectsSome(t){for(const s of this.keys)if(t.has(s))return!0;return!1}}class O_e{constructor(t){this.events=t}affectsSome(t){for(const s of this.events)if(s.affectsSome(t))return!0;return!1}}class Cz{constructor(t){this._onDidChangeContext=new V3({merge:s=>new O_e(s)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new P_e(this,t,s)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new F_e(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const s=this.getContextValuesContainer(this._myContextId);return t?t.evaluate(s):!0}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,s){if(this._isDisposed)return;const l=this.getContextValuesContainer(this._myContextId);!l||l.setValue(t,s)&&this._onDidChangeContext.fire(new wF(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new wF(t))}getContext(t){return this._isDisposed?qg.INSTANCE:this.getContextValuesContainer(B_e(t))}}let eL=class extends Cz{constructor(t){super(0),this._contexts=new Map,this._toDispose=new je,this._lastContextId=0;const s=new E4(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,s),this._toDispose.add(s)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?qg.INSTANCE:this._contexts.get(t)||qg.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let s=++this._lastContextId;return this._contexts.set(s,new $x(s,this.getContextValuesContainer(t))),s}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};eL=R_e([M_e(0,Yi)],eL);class F_e extends Cz{constructor(t,s){if(super(t.createChildContext()),this._parentChangeListener=new Yr,this._parent=t,this._updateParentChangeListener(),this._domNode=s,this._domNode.hasAttribute(NA)){let l="";this._domNode.classList&&(l=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${l?": "+l:""}`)}this._domNode.setAttribute(NA,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(NA),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?qg.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function B_e(d){for(;d;){if(d.hasAttribute(NA)){const t=d.getAttribute(NA);return t?parseInt(t,10):NaN}d=d.parentElement}return 0}pi.registerCommand(Ace,function(d,t,s){d.get(Mt).createKey(String(t),s)});pi.registerCommand({id:"getContextKeyInfo",handler(){return[...rt.all()].sort((d,t)=>d.key.localeCompare(t.key))},description:{description:E("getContextKeyInfo","A command that returns information about context keys"),args:[]}});pi.registerCommand("_generateContextKeyInfo",function(){const d=[],t=new Set;for(let s of rt.all())t.has(s.key)||(t.add(s.key),d.push(s));d.sort((s,l)=>s.key.localeCompare(l.key)),console.log(JSON.stringify(d,void 0,2))});class W_e{constructor(t){this.incoming=new Map,this.outgoing=new Map,this.data=t}}class V_e{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(let s of this._nodes.values())s.outgoing.size===0&&t.push(s);return t}insertEdge(t,s){const l=this.lookupOrInsertNode(t),u=this.lookupOrInsertNode(s);l.outgoing.set(this._hashFn(s),u),u.incoming.set(this._hashFn(t),l)}removeNode(t){const s=this._hashFn(t);this._nodes.delete(s);for(let l of this._nodes.values())l.outgoing.delete(s),l.incoming.delete(s)}lookupOrInsertNode(t){const s=this._hashFn(t);let l=this._nodes.get(s);return l||(l=new W_e(t),this._nodes.set(s,l)),l}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[s,l]of this._nodes)t.push(`${s}, (incoming)[${[...l.incoming.keys()].join(", ")}], (outgoing)[${[...l.outgoing.keys()].join(",")}]`);return t.join(`
`)}findCycleSlow(){for(let[t,s]of this._nodes){const l=new Set([t]),u=this._findCycle(s,l);if(u)return u}}_findCycle(t,s){for(let[l,u]of t.outgoing){if(s.has(l))return[...s,l].join(" -> ");s.add(l);const h=this._findCycle(u,s);if(h)return h;s.delete(l)}}}class kF extends Error{constructor(t){var s;super("cyclic dependency between services"),this.message=(s=t.findCycleSlow())!==null&&s!==void 0?s:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class Kx{constructor(t=new ov,s=!1,l){this._activeInstantiations=new Set,this._services=t,this._strict=s,this._parent=l,this._services.set(ii,this)}createChild(t){return new Kx(t,this._strict,this)}invokeFunction(t,...s){let l=da.traceInvocation(t),u=!1;try{return t({get:f=>{if(u)throw Ule("service accessor is only valid during the invocation of its target method");const m=this._getOrCreateServiceInstance(f,l);if(!m)throw new Error(`[invokeFunction] unknown service '${f}'`);return m}},...s)}finally{u=!0,l.stop()}}createInstance(t,...s){let l,u;return t instanceof Q2?(l=da.traceCreation(t.ctor),u=this._createInstance(t.ctor,t.staticArguments.concat(s),l)):(l=da.traceCreation(t),u=this._createInstance(t,s,l)),l.stop(),u}_createInstance(t,s=[],l){let u=Ya.getServiceDependencies(t).sort((m,A)=>m.index-A.index),h=[];for(const m of u){let A=this._getOrCreateServiceInstance(m.id,l);A||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${m.id}.`,!1),h.push(A)}let f=u.length>0?u[0].index:s.length;if(s.length!==f){console.warn(`[createInstance] First service dependency of ${t.name} at position ${f+1} conflicts with ${s.length} static arguments`);let m=f-s.length;m>0?s=s.concat(new Array(m)):s=s.slice(0,f)}return new t(...[...s,...h])}_setServiceInstance(t,s){if(this._services.get(t)instanceof Q2)this._services.set(t,s);else if(this._parent)this._parent._setServiceInstance(t,s);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let s=this._services.get(t);return!s&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):s}_getOrCreateServiceInstance(t,s){let l=this._getServiceInstanceOrDescriptor(t);return l instanceof Q2?this._safeCreateAndCacheServiceInstance(t,l,s.branch(t,!0)):(s.branch(t,!1),l)}_safeCreateAndCacheServiceInstance(t,s,l){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,s,l)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,s,l){const u=new V_e(m=>m.id.toString());let h=0;const f=[{id:t,desc:s,_trace:l}];for(;f.length;){const m=f.pop();if(u.lookupOrInsertNode(m),h++>1e3)throw new kF(u);for(let A of Ya.getServiceDependencies(m.desc.ctor)){let C=this._getServiceInstanceOrDescriptor(A.id);if(C||this._throwIfStrict(`[createInstance] ${t} depends on ${A.id} which is NOT registered.`,!0),C instanceof Q2){const w={id:A.id,desc:C,_trace:m._trace.branch(A.id,!0)};u.insertEdge(m,w),f.push(w)}}}for(;;){const m=u.roots();if(m.length===0){if(!u.isEmpty())throw new kF(u);break}for(const{data:A}of m){if(this._getServiceInstanceOrDescriptor(A.id)instanceof Q2){const w=this._createServiceInstanceWithOwner(A.id,A.desc.ctor,A.desc.staticArguments,A.desc.supportsDelayedInstantiation,A._trace);this._setServiceInstance(A.id,w)}u.removeNode(A)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,s,l=[],u,h){if(this._services.get(t)instanceof Q2)return this._createServiceInstance(s,l,u,h);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,s,l,u,h);throw new Error(`illegalState - creating UNKNOWN service instance ${s.name}`)}_createServiceInstance(t,s=[],l,u){if(l){const h=new Du(()=>this._createInstance(t,s,u));return new Proxy(Object.create(null),{get(f,m){if(m in f)return f[m];let A=h.value,C=A[m];return typeof C!="function"||(C=C.bind(A),f[m]=C),C},set(f,m,A){return h.value[m]=A,!0}})}else return this._createInstance(t,s,u)}_throwIfStrict(t,s){if(s&&console.warn(s),this._strict)throw new Error(t)}}class da{constructor(t,s){this.type=t,this.name=s,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return da._None}static traceCreation(t){return da._None}branch(t,s){let l=new da(2,t.toString());return this._dep.push([t,s,l]),l}stop(){let t=Date.now()-this._start;da._totals+=t;let s=!1;function l(h,f){let m=[],A=new Array(h+1).join("	");for(const[C,w,k]of f._dep)if(w&&k){s=!0,m.push(`${A}CREATES -> ${C}`);let D=l(h+1,k);D&&m.push(D)}else m.push(`${A}uses -> ${C}`);return m.join(`
`)}let u=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${l(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${da._totals.toFixed(2)}ms)`];(t>2||s)&&console.log(u.join(`
`))}}da._None=new class extends da{constructor(){super(-1,null)}stop(){}branch(){return this}};da._totals=0;class H_e{constructor(){this._byResource=new jr,this._byOwner=new Map}set(t,s,l){let u=this._byResource.get(t);u||(u=new Map,this._byResource.set(t,u)),u.set(s,l);let h=this._byOwner.get(s);h||(h=new jr,this._byOwner.set(s,h)),h.set(t,l)}get(t,s){let l=this._byResource.get(t);return l?.get(s)}delete(t,s){let l=!1,u=!1,h=this._byResource.get(t);h&&(l=h.delete(s));let f=this._byOwner.get(s);if(f&&(u=f.delete(t)),l!==u)throw new Error("illegal state");return l&&u}values(t){var s,l,u,h;return typeof t=="string"?(l=(s=this._byOwner.get(t))===null||s===void 0?void 0:s.values())!==null&&l!==void 0?l:gi.empty():Lt.isUri(t)?(h=(u=this._byResource.get(t))===null||u===void 0?void 0:u.values())!==null&&h!==void 0?h:gi.empty():gi.map(gi.concat(...this._byOwner.values()),f=>f[1])}}class U_e{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new jr,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const s of t){const l=this._data.get(s);l&&this._substract(l);const u=this._resourceStats(s);this._add(u),this._data.set(s,u)}}_resourceStats(t){const s={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===zt.inMemory||t.scheme===zt.walkThrough||t.scheme===zt.walkThroughSnippet)return s;for(const{severity:l}of this._service.read({resource:t}))l===Sn.Error?s.errors+=1:l===Sn.Warning?s.warnings+=1:l===Sn.Info?s.infos+=1:s.unknowns+=1;return s}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class cd{constructor(){this._onMarkerChanged=new $le({delay:0,merge:cd._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new H_e,this._stats=new U_e(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,s){for(const l of s||[])this.changeOne(t,l,[])}changeOne(t,s,l){if(fW(l))this._data.delete(s,t)&&this._onMarkerChanged.fire([s]);else{const u=[];for(const h of l){const f=cd._toMarker(t,s,h);f&&u.push(f)}this._data.set(s,t,u),this._onMarkerChanged.fire([s])}}static _toMarker(t,s,l){let{code:u,severity:h,message:f,source:m,startLineNumber:A,startColumn:C,endLineNumber:w,endColumn:k,relatedInformation:D,tags:I}=l;if(!!f)return A=A>0?A:1,C=C>0?C:1,w=w>=A?w:A,k=k>0?k:C,{resource:s,owner:t,code:u,severity:h,message:f,source:m,startLineNumber:A,startColumn:C,endLineNumber:w,endColumn:k,relatedInformation:D,tags:I}}read(t=Object.create(null)){let{owner:s,resource:l,severities:u,take:h}=t;if((!h||h<0)&&(h=-1),s&&l){const f=this._data.get(l,s);if(f){const m=[];for(const A of f)if(cd._accept(A,u)){const C=m.push(A);if(h>0&&C===h)break}return m}else return[]}else if(!s&&!l){const f=[];for(let m of this._data.values())for(let A of m)if(cd._accept(A,u)){const C=f.push(A);if(h>0&&C===h)return f}return f}else{const f=this._data.values(l??s),m=[];for(const A of f)for(const C of A)if(cd._accept(C,u)){const w=m.push(C);if(h>0&&w===h)return m}return m}}static _accept(t,s){return s===void 0||(s&t.severity)===t.severity}static _merge(t){const s=new jr;for(let l of t)for(let u of l)s.set(u,!0);return Array.from(s.keys())}}var Jp=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},rg;(function(d){d[d.None=0]="None",d[d.Initialized=1]="Initialized",d[d.Closed=2]="Closed"})(rg||(rg={}));class N4 extends Se{constructor(t,s=Object.create(null)){super(),this.database=t,this.options=s,this._onDidChangeStorage=this._register(new he),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=rg.None,this.cache=new Map,this.flushDelayer=new S2e(N4.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(t=>this.onDidChangeItemsExternal(t)))}onDidChangeItemsExternal(t){var s,l;(s=t.changed)===null||s===void 0||s.forEach((u,h)=>this.accept(h,u)),(l=t.deleted)===null||l===void 0||l.forEach(u=>this.accept(u,void 0))}accept(t,s){if(this.state===rg.Closed)return;let l=!1;tl(s)?l=this.cache.delete(t):this.cache.get(t)!==s&&(this.cache.set(t,s),l=!0),l&&this._onDidChangeStorage.fire(t)}get(t,s){const l=this.cache.get(t);return tl(l)?s:l}getBoolean(t,s){const l=this.get(t);return tl(l)?s:l==="true"}getNumber(t,s){const l=this.get(t);return tl(l)?s:parseInt(l,10)}set(t,s){return Jp(this,void 0,void 0,function*(){if(this.state===rg.Closed)return;if(tl(s))return this.delete(t);const l=String(s);if(this.cache.get(t)!==l)return this.cache.set(t,l),this.pendingInserts.set(t,l),this.pendingDeletes.delete(t),this._onDidChangeStorage.fire(t),this.doFlush()})}delete(t){return Jp(this,void 0,void 0,function*(){if(!(this.state===rg.Closed||!this.cache.delete(t)))return this.pendingDeletes.has(t)||this.pendingDeletes.add(t),this.pendingInserts.delete(t),this._onDidChangeStorage.fire(t),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Jp(this,void 0,void 0,function*(){if(!this.hasPending)return;const t={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(t).finally(()=>{var s;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(s=this.whenFlushedCallbacks.pop())===null||s===void 0||s()})})}doFlush(t){return Jp(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),t)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}N4.DEFAULT_FLUSH_DELAY=100;class bF{constructor(){this.onDidChangeItemsExternal=ft.None,this.items=new Map}updateItems(t){return Jp(this,void 0,void 0,function*(){t.insert&&t.insert.forEach((s,l)=>this.items.set(l,s)),t.delete&&t.delete.forEach(s=>this.items.delete(s))})}}const p6="__$__targetStorageMarker",N0=hi("storageService");var XC;(function(d){d[d.NONE=0]="NONE",d[d.SHUTDOWN=1]="SHUTDOWN"})(XC||(XC={}));class yv extends Se{constructor(t={flushInterval:yv.DEFAULT_FLUSH_INTERVAL}){super(),this.options=t,this._onDidChangeValue=this._register(new V3),this._onDidChangeTarget=this._register(new V3),this._onWillSaveState=this._register(new he),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(t,s){s===p6?(t===0?this._globalKeyTargets=void 0:t===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:t})):this._onDidChangeValue.fire({scope:t,key:s,target:this.getKeyTargets(t)[s]})}get(t,s,l){var u;return(u=this.getStorage(s))===null||u===void 0?void 0:u.get(t,l)}getBoolean(t,s,l){var u;return(u=this.getStorage(s))===null||u===void 0?void 0:u.getBoolean(t,l)}getNumber(t,s,l){var u;return(u=this.getStorage(s))===null||u===void 0?void 0:u.getNumber(t,l)}store(t,s,l,u){if(tl(s)){this.remove(t,l);return}this.withPausedEmitters(()=>{var h;this.updateKeyTarget(t,l,u),(h=this.getStorage(l))===null||h===void 0||h.set(t,s)})}remove(t,s){this.withPausedEmitters(()=>{var l;this.updateKeyTarget(t,s,void 0),(l=this.getStorage(s))===null||l===void 0||l.delete(t)})}withPausedEmitters(t){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{t()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(t,s,l){var u,h;const f=this.getKeyTargets(s);typeof l=="number"?f[t]!==l&&(f[t]=l,(u=this.getStorage(s))===null||u===void 0||u.set(p6,JSON.stringify(f))):typeof f[t]=="number"&&(delete f[t],(h=this.getStorage(s))===null||h===void 0||h.set(p6,JSON.stringify(f)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(t){return t===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(t){const s=this.get(p6,t);if(s)try{return JSON.parse(s)}catch{}return Object.create(null)}}yv.DEFAULT_FLUSH_INTERVAL=60*1e3;class z_e extends yv{constructor(){super(),this.globalStorage=this._register(new N4(new bF)),this.workspaceStorage=this._register(new N4(new bF)),this._register(this.workspaceStorage.onDidChangeStorage(t=>this.emitDidChangeValue(1,t))),this._register(this.globalStorage.onDidChangeStorage(t=>this.emitDidChangeValue(0,t)))}getStorage(t){return t===0?this.globalStorage:this.workspaceStorage}}function wz(d,t,s,l,u){if(Array.isArray(d)){let h=0;for(const f of d){const m=wz(f,t,s,l,u);if(m===10)return m;m>h&&(h=m)}return h}else{if(typeof d=="string")return l?d==="*"?5:d===s?10:0:0;if(d){const{language:h,pattern:f,scheme:m,hasAccessToAllModels:A,notebookType:C}=d;if(!l&&!A)return 0;let w=0;if(m)if(m===t.scheme)w=10;else if(m==="*")w=5;else return 0;if(h)if(h===s)w=10;else if(h==="*")w=Math.max(w,5);else return 0;if(C)if(C===u)w=10;else if(C==="*")w=Math.max(w,5);else return 0;if(f){let k;if(typeof f=="string"?k=f:k=Object.assign(Object.assign({},f),{base:jD(f.base)}),k===t.fsPath||vpe(k,t.fsPath))w=10;else return 0}return w}else return 0}}function vz(d){return typeof d=="string"?!1:Array.isArray(d)?d.every(vz):!!d.exclusive}class Gn{constructor(t){this._notebookTypeResolver=t,this._clock=0,this._entries=[],this._onDidChange=new he,this.onDidChange=this._onDidChange.event}register(t,s){let l={selector:t,provider:s,_score:-1,_time:this._clock++};return this._entries.push(l),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),$t(()=>{if(l){const u=this._entries.indexOf(l);u>=0&&(this._entries.splice(u,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),l=void 0)}})}has(t){return this.all(t).length>0}all(t){if(!t)return[];this._updateScores(t);const s=[];for(let l of this._entries)l._score>0&&s.push(l.provider);return s}ordered(t){const s=[];return this._orderedForEach(t,l=>s.push(l.provider)),s}orderedGroups(t){const s=[];let l,u;return this._orderedForEach(t,h=>{l&&u===h._score?l.push(h.provider):(u=h._score,l=[h.provider],s.push(l))}),s}_orderedForEach(t,s){if(!!t){this._updateScores(t);for(const l of this._entries)l._score>0&&s(l)}}_updateScores(t){var s;const l=(s=this._notebookTypeResolver)===null||s===void 0?void 0:s.call(this,t.uri),u={uri:t.uri.toString(),language:t.getLanguageId(),notebookType:l};if(!(this._lastCandidate&&this._lastCandidate.language===u.language&&this._lastCandidate.uri===u.uri&&this._lastCandidate.notebookType===u.notebookType)){this._lastCandidate=u;for(let h of this._entries)if(h._score=wz(h.selector,t.uri,t.getLanguageId(),Kae(t),l),vz(h.selector)&&h._score>0){for(let f of this._entries)f._score=0;h._score=1e3;break}this._entries.sort(Gn._compareByScoreAndTime)}}static _compareByScoreAndTime(t,s){return t._score<s._score?1:t._score>s._score?-1:t._time<s._time?1:t._time>s._time?-1:0}}class G_e{constructor(){this.referenceProvider=new Gn(this._score.bind(this)),this.renameProvider=new Gn(this._score.bind(this)),this.codeActionProvider=new Gn(this._score.bind(this)),this.definitionProvider=new Gn(this._score.bind(this)),this.typeDefinitionProvider=new Gn(this._score.bind(this)),this.declarationProvider=new Gn(this._score.bind(this)),this.implementationProvider=new Gn(this._score.bind(this)),this.documentSymbolProvider=new Gn(this._score.bind(this)),this.inlayHintsProvider=new Gn(this._score.bind(this)),this.colorProvider=new Gn(this._score.bind(this)),this.codeLensProvider=new Gn(this._score.bind(this)),this.documentFormattingEditProvider=new Gn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Gn(this._score.bind(this)),this.onTypeFormattingEditProvider=new Gn(this._score.bind(this)),this.signatureHelpProvider=new Gn(this._score.bind(this)),this.hoverProvider=new Gn(this._score.bind(this)),this.documentHighlightProvider=new Gn(this._score.bind(this)),this.selectionRangeProvider=new Gn(this._score.bind(this)),this.foldingRangeProvider=new Gn(this._score.bind(this)),this.linkProvider=new Gn(this._score.bind(this)),this.inlineCompletionsProvider=new Gn(this._score.bind(this)),this.completionProvider=new Gn(this._score.bind(this)),this.linkedEditingRangeProvider=new Gn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Gn(this._score.bind(this)),this.documentSemanticTokensProvider=new Gn(this._score.bind(this))}_score(t){var s;return(s=this._notebookTypeResolver)===null||s===void 0?void 0:s.call(this,t)}}Ci(ut,G_e,!0);var fh=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Pr=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},kz=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class j_e{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new he}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let tL=class{constructor(t){this.modelService=t}createModelReference(t){const s=this.modelService.getModel(t);return s?Promise.resolve(new Zle(new j_e(s))):Promise.reject(new Error("Model not found"))}};tL=fh([Pr(0,Ln)],tL);class Lv{show(){return Lv.NULL_PROGRESS_RUNNER}showWhile(t,s){return kz(this,void 0,void 0,function*(){yield t})}}Lv.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Z_e{confirm(t){return this.doConfirm(t).then(s=>({confirmed:s,checkboxChecked:!1}))}doConfirm(t){let s=t.message;return t.detail&&(s=s+`

`+t.detail),Promise.resolve(window.confirm(s))}show(t,s,l,u){return Promise.resolve({choice:0})}}class Dv{info(t){return this.notify({severity:kn.Info,message:t})}warn(t){return this.notify({severity:kn.Warning,message:t})}error(t){return this.notify({severity:kn.Error,message:t})}notify(t){switch(t.severity){case kn.Error:console.error(t.message);break;case kn.Warning:console.warn(t.message);break;default:console.log(t.message);break}return Dv.NO_OP}status(t,s){return Se.None}}Dv.NO_OP=new Bge;let iL=class{constructor(t){this._onWillExecuteCommand=new he,this._onDidExecuteCommand=new he,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...s){const l=pi.getCommand(t);if(!l)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:s});const u=this._instantiationService.invokeFunction.apply(this._instantiationService,[l.handler,...s]);return this._onDidExecuteCommand.fire({commandId:t,args:s}),Promise.resolve(u)}catch(u){return Promise.reject(u)}}};iL=fh([Pr(0,ii)],iL);let JC=class extends tpe{constructor(t,s,l,u,h,f){super(t,s,l,u,h),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const m=I=>{const N=new je;N.add(ze(I,vt.KEY_DOWN,R=>{const O=new hn(R);this._dispatch(O,O.target)&&(O.preventDefault(),O.stopPropagation())})),N.add(ze(I,vt.KEY_UP,R=>{const O=new hn(R);this._singleModifierDispatch(O,O.target)&&O.preventDefault()})),this._domNodeListeners.push(new Q_e(I,N))},A=I=>{for(let N=0;N<this._domNodeListeners.length;N++){const R=this._domNodeListeners[N];R.domNode===I&&(this._domNodeListeners.splice(N,1),R.dispose())}},C=I=>{I.getOption(54)||m(I.getContainerDomNode())},w=I=>{I.getOption(54)||A(I.getContainerDomNode())};this._register(f.onCodeEditorAdd(C)),this._register(f.onCodeEditorRemove(w)),f.listCodeEditors().forEach(C);const k=I=>{m(I.getContainerDomNode())},D=I=>{A(I.getContainerDomNode())};this._register(f.onDiffEditorAdd(k)),this._register(f.onDiffEditorRemove(D)),f.listDiffEditors().forEach(k)}addDynamicKeybinding(t,s,l,u){const h=by(s,yl),f=new je;return h&&(this._dynamicKeybindings.push({keybinding:h.parts,command:t,when:u,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),f.add($t(()=>{for(let m=0;m<this._dynamicKeybindings.length;m++)if(this._dynamicKeybindings[m].command===t){this._dynamicKeybindings.splice(m,1),this.updateResolver({source:1});return}}))),f.add(pi.registerCommand(t,l)),this.updateResolver({source:1}),f}updateResolver(t){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(t)}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems($r.getDefaultKeybindings(),!0),s=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new DA(t,s,l=>this._log(l))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,s){const l=[];let u=0;for(const h of t){const f=h.when||void 0,m=h.keybinding;if(!m)l[u++]=new xO(void 0,h.command,h.commandArgs,f,s,null,!1);else{const A=C4.resolveUserBinding(m,yl);for(const C of A)l[u++]=new xO(C,h.command,h.commandArgs,f,s,null,!1)}}return l}resolveKeyboardEvent(t){const s=new Hd(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new C4(s,yl)}};JC=fh([Pr(0,Mt),Pr(1,es),Pr(2,L0),Pr(3,is),Pr(4,ka),Pr(5,Mi)],JC);class Q_e extends Se{constructor(t,s){super(),this.domNode=t,this._register(s)}}function SF(d){return d&&typeof d=="object"&&(!d.overrideIdentifier||typeof d.overrideIdentifier=="string")&&(!d.resource||d.resource instanceof Lt)}class bz{constructor(){this._onDidChangeConfiguration=new he,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new av(new Jme,new Sl)}getValue(t,s){const l=typeof t=="string"?t:void 0,u=SF(t)?t:SF(s)?s:{};return this._configuration.getValue(l,u,void 0)}updateValues(t){const s={data:this._configuration.toData()},l=[];for(const u of t){const[h,f]=u;this.getValue(h)!==f&&(this._configuration.updateValue(h,f),l.push(h))}if(l.length>0){const u=new qme({keys:l,overrides:[]},s,this._configuration);u.source=7,u.sourceConfig=null,this._onDidChangeConfiguration.fire(u)}return Promise.resolve()}updateValue(t,s,l,u){return this.updateValues([[t,s]])}inspect(t,s={}){return this._configuration.inspect(t,s,void 0)}}let nL=class{constructor(t){this.configurationService=t,this._onDidChangeConfiguration=new he,this.configurationService.onDidChangeConfiguration(s=>{this._onDidChangeConfiguration.fire({affectedKeys:s.affectedKeys,affectsConfiguration:(l,u)=>s.affectsConfiguration(u)})})}getValue(t,s,l){const h=(me.isIPosition(s)?s:null)?typeof l=="string"?l:void 0:typeof s=="string"?s:void 0;return typeof h>"u"?this.configurationService.getValue():this.configurationService.getValue(h)}};nL=fh([Pr(0,Yi)],nL);let sL=class{constructor(t){this.configurationService=t}getEOL(t,s){const l=this.configurationService.getValue("files.eol",{overrideIdentifier:s,resource:t});return l&&typeof l=="string"&&l!=="auto"?l:Cr||Jt?`
`:`\r
`}};sL=fh([Pr(0,Yi)],sL);class Y_e{publicLog(t,s){return Promise.resolve(void 0)}publicLog2(t,s){return this.publicLog(t,s)}}class Iv{constructor(){const t=Lt.from({scheme:Iv.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new lpe({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}}Iv.SCHEME="inmemory";function qC(d,t,s){if(!t||!(d instanceof bz))return;const l=[];Object.keys(t).forEach(u=>{$me(u)&&l.push([`editor.${u}`,t[u]]),s&&Kme(u)&&l.push([`diffEditor.${u}`,t[u]])}),l.length>0&&d.updateValues(l)}let rL=class{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,s){return kz(this,void 0,void 0,function*(){const l=new Map;for(let f of t){if(!(f instanceof pU))throw new Error("bad edit - only text edits are supported");const m=this._modelService.getModel(f.resource);if(!m)throw new Error("bad edit - model not found");if(typeof f.versionId=="number"&&m.getVersionId()!==f.versionId)throw new Error("bad state - model changed in the meantime");let A=l.get(m);A||(A=[],l.set(m,A)),A.push(Vn.replaceMove($.lift(f.textEdit.range),f.textEdit.text))}let u=0,h=0;for(const[f,m]of l)f.pushStackElement(),f.pushEditOperations([],m,()=>[]),f.pushStackElement(),h+=1,u+=m.length;return{ariaSummary:xl(h7.bulkEditServiceSummary,u,h)}})}};rL=fh([Pr(0,Ln)],rL);class $_e{getUriLabel(t,s){return t.scheme==="file"?t.fsPath:t.path}}let oL=class extends d7{constructor(t,s){super(t),this._codeEditorService=s}showContextView(t,s,l){if(!s){const u=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();u&&(s=u.getContainerDomNode())}return super.showContextView(t,s,l)}};oL=fh([Pr(0,w_),Pr(1,Mi)],oL);class K_e{constructor(){this._neverEmitter=new he,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class X_e extends k4{constructor(){super()}}class J_e extends h0e{constructor(){super(new u0e)}}let lL=class extends w7{constructor(t,s,l,u,h){super(t,s,l,u,h),this.configure({blockMouse:!1})}};lL=fh([Pr(0,L0),Pr(1,is),Pr(2,C_),Pr(3,Hn),Pr(4,dn)],lL);Ci(Yi,bz);Ci(gI,nL);Ci(lV,sL);Ci(_U,Iv);Ci(k_,$_e);Ci(L0,Y_e);Ci(v_,Z_e);Ci(is,Dv);Ci(Pc,cd);Ci(yn,X_e);Ci(pl,E_e);Ci(ka,J_e);Ci(Ln,zC);Ci(SI,L7);Ci(Mt,eL);Ci(hh,Lv);Ci(N0,z_e);Ci(Gl,vy);Ci(dx,rL);Ci(CU,K_e);Ci(Ao,tL);Ci(Vo,K7);Ci(Ql,V7);Ci(es,iL);Ci(Hn,JC);Ci(Oc,Y7);Ci(C_,oL);Ci(Zl,y7);Ci(Tf,q7);Ci(uh,lL);Ci(Df,X7);var Pt;(function(d){const t=new ov;for(const[f,m]of yM())t.set(f,m);const s=new Kx(t,!0);t.set(ii,s);function l(f){const m=t.get(f);if(!m)throw new Error("Missing service "+f);return m instanceof Q2?s.invokeFunction(A=>A.get(f)):m}d.get=l;let u=!1;function h(f){if(u)return s;u=!0;for(const[m,A]of yM())t.get(m)||t.set(m,A);for(const m in f)if(f.hasOwnProperty(m)){const A=hi(m);t.get(A)instanceof Q2&&t.set(A,f[m])}return s}d.initialize=h})(Pt||(Pt={}));var Xx=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},un=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let q_e=0,yF=!1;function e8e(d){if(!d){if(yF)return;yF=!0}gce(d||document.body)}let ew=class extends p4{constructor(t,s,l,u,h,f,m,A,C,w,k,D){const I=Object.assign({},s);I.ariaLabel=I.ariaLabel||OC.editorViewAccessibleLabel,I.ariaLabel=I.ariaLabel+";"+OC.accessibilityHelpMessage,super(t,I,{},l,u,h,f,A,C,w,k,D),m instanceof JC?this._standaloneKeybindingService=m:this._standaloneKeybindingService=null,e8e(I.ariaContainerElement)}addCommand(t,s,l){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const u="DYNAMIC_"+ ++q_e,h=it.deserialize(l);return this._standaloneKeybindingService.addDynamicKeybinding(u,t,s,h),u}createContextKey(t,s){return this._contextKeyService.createKey(t,s)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Se.None;const s=t.id,l=t.label,u=it.and(it.equals("editorId",this.getId()),it.deserialize(t.precondition)),h=t.keybindings,f=it.and(u,it.deserialize(t.keybindingContext)),m=t.contextMenuGroupId||null,A=t.contextMenuOrder||0,C=(I,...N)=>Promise.resolve(t.run(this,...N)),w=new je,k=this.getId()+":"+s;if(w.add(pi.registerCommand(k,C)),m){const I={command:{id:k,title:l},when:u,group:m,order:A};w.add(ul.appendMenuItem(ce.EditorContext,I))}if(Array.isArray(h))for(const I of h)w.add(this._standaloneKeybindingService.addDynamicKeybinding(k,I,C,f));const D=new EH(k,l,l,u,C,this._contextKeyService);return this._actions[s]=D,w.add($t(()=>{delete this._actions[s]})),w}_triggerCommand(t,s){if(this._codeEditorService instanceof EC)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,s)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,s)}};ew=Xx([un(2,ii),un(3,Mi),un(4,es),un(5,Mt),un(6,Hn),un(7,dn),un(8,is),un(9,Vo),un(10,vr),un(11,ut)],ew);let aL=class extends ew{constructor(t,s,l,u,h,f,m,A,C,w,k,D,I,N,R){const O=Object.assign({},s);qC(w,O,!1);const W=A.registerEditorContainer(t);typeof O.theme=="string"&&A.setTheme(O.theme),typeof O.autoDetectHighContrast<"u"&&A.setAutoDetectHighContrast(Boolean(O.autoDetectHighContrast));const B=O.model;delete O.model,super(t,O,l,u,h,f,m,A,C,k,N,R),this._configurationService=w,this._standaloneThemeService=A,this._register(W);let z;if(typeof B>"u"){const G=I.getLanguageIdByMimeType(O.language)||O.language||I0;z=Sz(D,I,O.value||"",G,void 0),this._ownsModel=!0}else z=B,this._ownsModel=!1;if(this._attachModel(z),z){const G={oldModelUrl:null,newModelUrl:z.uri};this._onDidChangeModel.fire(G)}}dispose(){super.dispose()}updateOptions(t){qC(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};aL=Xx([un(2,ii),un(3,Mi),un(4,es),un(5,Mt),un(6,Hn),un(7,pl),un(8,is),un(9,Yi),un(10,Vo),un(11,Ln),un(12,yn),un(13,vr),un(14,ut)],aL);let cL=class extends qu{constructor(t,s,l,u,h,f,m,A,C,w,k,D){const I=Object.assign({},s);qC(C,I,!0);const N=m.registerEditorContainer(t);typeof I.theme=="string"&&m.setTheme(I.theme),typeof I.autoDetectHighContrast<"u"&&m.setAutoDetectHighContrast(Boolean(I.autoDetectHighContrast)),super(t,I,{},D,h,u,l,f,m,A,w,k),this._configurationService=C,this._standaloneThemeService=m,this._register(N)}dispose(){super.dispose()}updateOptions(t){qC(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_createInnerEditor(t,s,l){return t.createInstance(ew,s,l)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,s,l){return this.getModifiedEditor().addCommand(t,s,l)}createContextKey(t,s){return this.getModifiedEditor().createContextKey(t,s)}addAction(t){return this.getModifiedEditor().addAction(t)}};cL=Xx([un(2,ii),un(3,Mt),un(4,Gl),un(5,Mi),un(6,pl),un(7,is),un(8,Yi),un(9,uh),un(10,hh),un(11,Tf)],cL);function Sz(d,t,s,l,u){if(s=s||"",!l){const h=s.indexOf(`
`);let f=s;return h!==-1&&(f=s.substring(0,h)),LF(d,s,t.createByFilepathOrFirstLine(u||null,f),u)}return LF(d,s,t.createById(l),u)}function LF(d,t,s,l){return d.createModel(t,s,l)}function t8e(d,t,s){return Pt.initialize(s||{}).createInstance(aL,d,t)}function i8e(d){return Pt.get(Mi).onCodeEditorAdd(s=>{d(s)})}function n8e(d,t,s){return Pt.initialize(s||{}).createInstance(cL,d,t)}function s8e(d,t){return new Qae(d,t)}function r8e(d,t,s){const l=Pt.get(yn),u=l.getLanguageIdByMimeType(t)||t;return Sz(Pt.get(Ln),l,d,u,s)}function o8e(d,t){const s=Pt.get(yn);Pt.get(Ln).setMode(d,s.createById(t))}function l8e(d,t,s){d&&Pt.get(Pc).changeOne(t,d.uri,s)}function a8e(d){return Pt.get(Pc).read(d)}function c8e(d){return Pt.get(Pc).onMarkerChanged(d)}function u8e(d){return Pt.get(Ln).getModel(d)}function h8e(){return Pt.get(Ln).getModels()}function d8e(d){return Pt.get(Ln).onModelAdded(d)}function f8e(d){return Pt.get(Ln).onModelRemoved(d)}function g8e(d){return Pt.get(Ln).onModelLanguageChanged(s=>{d({model:s.model,oldLanguage:s.oldLanguageId})})}function m8e(d){return p0e(Pt.get(Ln),Pt.get(vr),d)}function p8e(d,t){const s=Pt.get(yn),l=Pt.get(pl);return l.registerEditorContainer(d),_I.colorizeElement(l,s,d,t)}function A8e(d,t,s){const l=Pt.get(yn);return Pt.get(pl).registerEditorContainer(document.body),_I.colorize(l,d,t,s)}function _8e(d,t,s=4){return Pt.get(pl).registerEditorContainer(document.body),_I.colorizeModelLine(d,t,s)}function C8e(d){const t=bn.get(d);return t||{getInitialState:()=>Og,tokenize:(s,l,u)=>qW(d,u)}}function w8e(d,t){bn.getOrCreate(t);const s=C8e(t),l=m0(d),u=[];let h=s.getInitialState();for(let f=0,m=l.length;f<m;f++){const A=l[f],C=s.tokenize(A,!0,h);u[f]=C.tokens,h=C.endState}return u}function v8e(d,t){Pt.get(pl).defineTheme(d,t)}function k8e(d){Pt.get(pl).setTheme(d)}function b8e(){hy.clearAllFontInfos()}function S8e(d,t){return pi.registerCommand({id:d,handler:t})}function y8e(){return{create:t8e,onDidCreateEditor:i8e,createDiffEditor:n8e,createDiffNavigator:s8e,createModel:r8e,setModelLanguage:o8e,setModelMarkers:l8e,getModelMarkers:a8e,onDidChangeMarkers:c8e,getModels:h8e,getModel:u8e,onDidCreateModel:d8e,onWillDisposeModel:f8e,onDidChangeModelLanguage:g8e,createWebWorker:m8e,colorizeElement:p8e,colorize:A8e,colorizeModelLine:_8e,tokenize:w8e,defineTheme:v8e,setTheme:k8e,remeasureFonts:b8e,registerCommand:S8e,AccessibilitySupport:yS,ContentWidgetPositionPreference:ES,CursorChangeReason:NS,DefaultEndOfLine:TS,EditorAutoIndentStrategy:MS,EditorOption:PS,EndOfLinePreference:OS,EndOfLineSequence:FS,MinimapPosition:jS,MouseTargetType:ZS,OverlayWidgetPositionPreference:QS,OverviewRulerLane:YS,RenderLineNumbersType:KS,RenderMinimap:XS,ScrollbarVisibility:qS,ScrollType:JS,TextEditorCursorBlinkingStyle:sy,TextEditorCursorStyle:ry,TrackedRangeStickiness:oy,WrappingIndent:ly,InjectedTextCursorStops:WS,PositionAffinity:$S,ConfigurationChangedEvent:wW,BareFontInfo:vd,FontInfo:uy,TextModelResolvedOptions:J6,FindMatch:ZA,ApplyUpdateResult:oA,EditorType:c_,EditorOptions:a2}}function L8e(d,t){if(!t||!Array.isArray(t))return!1;for(const s of t)if(!d(s))return!1;return!0}function A6(d,t){return typeof d=="boolean"?d:t}function DF(d,t){return typeof d=="string"?d:t}function D8e(d){const t={};for(const s of d)t[s]=!0;return t}function IF(d,t=!1){t&&(d=d.map(function(l){return l.toLowerCase()}));const s=D8e(d);return t?function(l){return s[l.toLowerCase()]!==void 0&&s.hasOwnProperty(l.toLowerCase())}:function(l){return s[l]!==void 0&&s.hasOwnProperty(l)}}function uL(d,t){t=t.replace(/@@/g,"");let s=0,l;do l=!1,t=t.replace(/@(\w+)/g,function(h,f){l=!0;let m="";if(typeof d[f]=="string")m=d[f];else if(d[f]&&d[f]instanceof RegExp)m=d[f].source;else throw d[f]===void 0?en(d,"language definition does not contain attribute '"+f+"', used at: "+t):en(d,"attribute reference '"+f+"' must be a string, used at: "+t);return W1(m)?"":"(?:"+m+")"}),s++;while(l&&s<5);t=t.replace(/\x01/g,"@");const u=(d.ignoreCase?"i":"")+(d.unicode?"u":"");return new RegExp(t,u)}function I8e(d,t,s,l){if(l<0)return d;if(l<t.length)return t[l];if(l>=100){l=l-100;const u=s.split(".");if(u.unshift(s),l<u.length)return u[l]}return null}function x8e(d,t,s,l){let u=-1,h=s,f=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);f&&(f[3]&&(u=parseInt(f[3]),f[2]&&(u=u+100)),h=f[4]);let m="~",A=h;!h||h.length===0?(m="!=",A=""):/^\w*$/.test(A)?m="==":(f=h.match(/^(@|!@|~|!~|==|!=)(.*)$/),f&&(m=f[1],A=f[2]));let C;if((m==="~"||m==="!~")&&/^(\w|\|)*$/.test(A)){const w=IF(A.split("|"),d.ignoreCase);C=function(k){return m==="~"?w(k):!w(k)}}else if(m==="@"||m==="!@"){const w=d[A];if(!w)throw en(d,"the @ match target '"+A+"' is not defined, in rule: "+t);if(!L8e(function(D){return typeof D=="string"},w))throw en(d,"the @ match target '"+A+"' must be an array of strings, in rule: "+t);const k=IF(w,d.ignoreCase);C=function(D){return m==="@"?k(D):!k(D)}}else if(m==="~"||m==="!~")if(A.indexOf("$")<0){const w=uL(d,"^"+A+"$");C=function(k){return m==="~"?w.test(k):!w.test(k)}}else C=function(w,k,D,I){return uL(d,"^"+gu(d,A,k,D,I)+"$").test(w)};else if(A.indexOf("$")<0){const w=Iu(d,A);C=function(k){return m==="=="?k===w:k!==w}}else{const w=Iu(d,A);C=function(k,D,I,N,R){const O=gu(d,w,D,I,N);return m==="=="?k===O:k!==O}}return u===-1?{name:s,value:l,test:function(w,k,D,I){return C(w,w,k,D,I)}}:{name:s,value:l,test:function(w,k,D,I){const N=I8e(w,k,D,u);return C(N||"",w,k,D,I)}}}function hL(d,t,s){if(s){if(typeof s=="string")return s;if(s.token||s.token===""){if(typeof s.token!="string")throw en(d,"a 'token' attribute must be of type string, in rule: "+t);{const l={token:s.token};if(s.token.indexOf("$")>=0&&(l.tokenSubst=!0),typeof s.bracket=="string")if(s.bracket==="@open")l.bracket=1;else if(s.bracket==="@close")l.bracket=-1;else throw en(d,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(s.next){if(typeof s.next!="string")throw en(d,"the next state must be a string value in rule: "+t);{let u=s.next;if(!/^(@pop|@push|@popall)$/.test(u)&&(u[0]==="@"&&(u=u.substr(1)),u.indexOf("$")<0&&!P0e(d,gu(d,u,"",[],""))))throw en(d,"the next state '"+s.next+"' is not defined in rule: "+t);l.next=u}}return typeof s.goBack=="number"&&(l.goBack=s.goBack),typeof s.switchTo=="string"&&(l.switchTo=s.switchTo),typeof s.log=="string"&&(l.log=s.log),typeof s.nextEmbedded=="string"&&(l.nextEmbedded=s.nextEmbedded,d.usesEmbedded=!0),l}}else if(Array.isArray(s)){const l=[];for(let u=0,h=s.length;u<h;u++)l[u]=hL(d,t,s[u]);return{group:l}}else if(s.cases){const l=[];for(let h in s.cases)if(s.cases.hasOwnProperty(h)){const f=hL(d,t,s.cases[h]);h==="@default"||h==="@"||h===""?l.push({test:void 0,value:f,name:h}):h==="@eos"?l.push({test:function(m,A,C,w){return w},value:f,name:h}):l.push(x8e(d,t,h,f))}const u=d.defaultToken;return{test:function(h,f,m,A){for(const C of l)if(!C.test||C.test(h,f,m,A))return C.value;return u}}}else throw en(d,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class E8e{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,s){let l;if(typeof s=="string")l=s;else if(s instanceof RegExp)l=s.source;else throw en(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=l.length>0&&l[0]==="^",this.name=this.name+": "+l,this.regex=uL(t,"^(?:"+(this.matchOnlyAtLineStart?l.substr(1):l)+")")}setAction(t,s){this.action=hL(t,this.name,s)}}function yz(d,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");const s={};s.languageId=d,s.includeLF=A6(t.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start=typeof t.start=="string"?t.start:null,s.ignoreCase=A6(t.ignoreCase,!1),s.unicode=A6(t.unicode,!1),s.tokenPostfix=DF(t.tokenPostfix,"."+s.languageId),s.defaultToken=DF(t.defaultToken,"source"),s.usesEmbedded=!1;const l=t;l.languageId=d,l.includeLF=s.includeLF,l.ignoreCase=s.ignoreCase,l.unicode=s.unicode,l.noThrow=s.noThrow,l.usesEmbedded=s.usesEmbedded,l.stateNames=t.tokenizer,l.defaultToken=s.defaultToken;function u(f,m,A){for(const C of A){let w=C.include;if(w){if(typeof w!="string")throw en(s,"an 'include' attribute must be a string at: "+f);if(w[0]==="@"&&(w=w.substr(1)),!t.tokenizer[w])throw en(s,"include target '"+w+"' is not defined at: "+f);u(f+"."+w,m,t.tokenizer[w])}else{const k=new E8e(f);if(Array.isArray(C)&&C.length>=1&&C.length<=3)if(k.setRegex(l,C[0]),C.length>=3)if(typeof C[1]=="string")k.setAction(l,{token:C[1],next:C[2]});else if(typeof C[1]=="object"){const D=C[1];D.next=C[2],k.setAction(l,D)}else throw en(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+f);else k.setAction(l,C[1]);else{if(!C.regex)throw en(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+f);C.name&&typeof C.name=="string"&&(k.name=C.name),C.matchOnlyAtStart&&(k.matchOnlyAtLineStart=A6(C.matchOnlyAtLineStart,!1)),k.setRegex(l,C.regex),k.setAction(l,C.action)}m.push(k)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw en(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(let f in t.tokenizer)if(t.tokenizer.hasOwnProperty(f)){s.start||(s.start=f);const m=t.tokenizer[f];s.tokenizer[f]=new Array,u("tokenizer."+f,s.tokenizer[f],m)}if(s.usesEmbedded=l.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw en(s,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const h=[];for(let f of t.brackets){let m=f;if(m&&Array.isArray(m)&&m.length===3&&(m={token:m[2],open:m[0],close:m[1]}),m.open===m.close)throw en(s,"open and close brackets in a 'brackets' attribute must be different: "+m.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof m.open=="string"&&typeof m.token=="string"&&typeof m.close=="string")h.push({token:m.token+s.tokenPostfix,open:Iu(s,m.open),close:Iu(s,m.close)});else throw en(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return s.brackets=h,s.noThrow=!0,s}var N8e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function T8e(d){Zg.registerLanguage(d)}function R8e(){let d=[];return d=d.concat(Zg.getLanguages()),d}function M8e(d){return Pt.get(yn).languageIdCodec.encodeLanguageId(d)}function P8e(d,t){const l=Pt.get(yn).onDidEncounterLanguage(u=>{u===d&&(l.dispose(),t())});return l}function O8e(d,t){if(!Pt.get(yn).isRegisteredLanguageId(d))throw new Error(`Cannot set configuration for unknown language ${d}`);return cs.register(d,t,100)}class F8e{constructor(t,s){this._languageId=t,this._actual=s}getInitialState(){return this._actual.getInitialState()}tokenize(t,s,l){if(typeof this._actual.tokenize=="function")return T4.adaptTokenize(this._languageId,this._actual,t,l);throw new Error("Not supported!")}tokenizeEncoded(t,s,l){const u=this._actual.tokenizeEncoded(t,l);return new vw(u.tokens,u.endState)}}class T4{constructor(t,s,l,u){this._languageId=t,this._actual=s,this._languageService=l,this._standaloneThemeService=u}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,s){const l=[];let u=0;for(let h=0,f=t.length;h<f;h++){const m=t[h];let A=m.startIndex;h===0?A=0:A<u&&(A=u),l[h]=new UA(A,m.scopes,s),u=A}return l}static adaptTokenize(t,s,l,u){const h=s.tokenize(l,u),f=T4._toClassicTokens(h.tokens,t);let m;return h.endState.equals(u)?m=u:m=h.endState,new ZD(f,m)}tokenize(t,s,l){return T4.adaptTokenize(this._languageId,this._actual,t,l)}_toBinaryTokens(t,s){const l=t.encodeLanguageId(this._languageId),u=this._standaloneThemeService.getColorTheme().tokenTheme,h=[];let f=0,m=0;for(let C=0,w=s.length;C<w;C++){const k=s[C],D=u.match(l,k.scopes);if(f>0&&h[f-1]===D)continue;let I=k.startIndex;C===0?I=0:I<m&&(I=m),h[f++]=I,h[f++]=D,m=I}const A=new Uint32Array(f);for(let C=0;C<f;C++)A[C]=h[C];return A}tokenizeEncoded(t,s,l){const u=this._actual.tokenize(t,l),h=this._toBinaryTokens(this._languageService.languageIdCodec,u.tokens);let f;return u.endState.equals(l)?f=l:f=u.endState,new vw(h,f)}}function B8e(d){return typeof d.getInitialState=="function"}function W8e(d){return"tokenizeEncoded"in d}function Lz(d){return d&&typeof d.then=="function"}function V8e(d){const t=Pt.get(pl);if(d){const s=[null];for(let l=1,u=d.length;l<u;l++)s[l]=ke.fromHex(d[l]);t.setColorMapOverride(s)}else t.setColorMapOverride(null)}function Dz(d,t){return W8e(t)?new F8e(d,t):new T4(d,t,Pt.get(yn),Pt.get(pl))}function Jx(d,t){const s={createTokenizationSupport:()=>N8e(this,void 0,void 0,function*(){const l=yield Promise.resolve(t.create());return l?B8e(l)?Dz(d,l):new h_(Pt.get(yn),Pt.get(pl),d,yz(d,l)):null})};return bn.registerFactory(d,s)}function H8e(d,t){if(!Pt.get(yn).isRegisteredLanguageId(d))throw new Error(`Cannot set tokens provider for unknown language ${d}`);return Lz(t)?Jx(d,{create:()=>t}):bn.register(d,Dz(d,t))}function U8e(d,t){const s=l=>new h_(Pt.get(yn),Pt.get(pl),d,yz(d,l));return Lz(t)?Jx(d,{create:()=>t}):bn.register(d,s(t))}function z8e(d,t){return Pt.get(ut).referenceProvider.register(d,t)}function G8e(d,t){return Pt.get(ut).renameProvider.register(d,t)}function j8e(d,t){return Pt.get(ut).signatureHelpProvider.register(d,t)}function Z8e(d,t){return Pt.get(ut).hoverProvider.register(d,{provideHover:(l,u,h)=>{const f=l.getWordAtPosition(u);return Promise.resolve(t.provideHover(l,u,h)).then(m=>{if(!!m)return!m.range&&f&&(m.range=new $(u.lineNumber,f.startColumn,u.lineNumber,f.endColumn)),m.range||(m.range=new $(u.lineNumber,u.column,u.lineNumber,u.column)),m})}})}function Q8e(d,t){return Pt.get(ut).documentSymbolProvider.register(d,t)}function Y8e(d,t){return Pt.get(ut).documentHighlightProvider.register(d,t)}function $8e(d,t){return Pt.get(ut).linkedEditingRangeProvider.register(d,t)}function K8e(d,t){return Pt.get(ut).definitionProvider.register(d,t)}function X8e(d,t){return Pt.get(ut).implementationProvider.register(d,t)}function J8e(d,t){return Pt.get(ut).typeDefinitionProvider.register(d,t)}function q8e(d,t){return Pt.get(ut).codeLensProvider.register(d,t)}function e6e(d,t,s){return Pt.get(ut).codeActionProvider.register(d,{providedCodeActionKinds:s?.providedCodeActionKinds,provideCodeActions:(u,h,f,m)=>{const C=Pt.get(Pc).read({resource:u.uri}).filter(w=>$.areIntersectingOrTouching(w,h));return t.provideCodeActions(u,h,{markers:C,only:f.only},m)},resolveCodeAction:t.resolveCodeAction})}function t6e(d,t){return Pt.get(ut).documentFormattingEditProvider.register(d,t)}function i6e(d,t){return Pt.get(ut).documentRangeFormattingEditProvider.register(d,t)}function n6e(d,t){return Pt.get(ut).onTypeFormattingEditProvider.register(d,t)}function s6e(d,t){return Pt.get(ut).linkProvider.register(d,t)}function r6e(d,t){return Pt.get(ut).completionProvider.register(d,t)}function o6e(d,t){return Pt.get(ut).colorProvider.register(d,t)}function l6e(d,t){return Pt.get(ut).foldingRangeProvider.register(d,t)}function a6e(d,t){return Pt.get(ut).declarationProvider.register(d,t)}function c6e(d,t){return Pt.get(ut).selectionRangeProvider.register(d,t)}function u6e(d,t){return Pt.get(ut).documentSemanticTokensProvider.register(d,t)}function h6e(d,t){return Pt.get(ut).documentRangeSemanticTokensProvider.register(d,t)}function d6e(d,t){return Pt.get(ut).inlineCompletionsProvider.register(d,t)}function f6e(d,t){return Pt.get(ut).inlayHintsProvider.register(d,t)}function g6e(){return{register:T8e,getLanguages:R8e,onLanguage:P8e,getEncodedLanguageId:M8e,setLanguageConfiguration:O8e,setColorMap:V8e,registerTokensProviderFactory:Jx,setTokensProvider:H8e,setMonarchTokensProvider:U8e,registerReferenceProvider:z8e,registerRenameProvider:G8e,registerCompletionItemProvider:r6e,registerSignatureHelpProvider:j8e,registerHoverProvider:Z8e,registerDocumentSymbolProvider:Q8e,registerDocumentHighlightProvider:Y8e,registerLinkedEditingRangeProvider:$8e,registerDefinitionProvider:K8e,registerImplementationProvider:X8e,registerTypeDefinitionProvider:J8e,registerCodeLensProvider:q8e,registerCodeActionProvider:e6e,registerDocumentFormattingEditProvider:t6e,registerDocumentRangeFormattingEditProvider:i6e,registerOnTypeFormattingEditProvider:n6e,registerLinkProvider:s6e,registerColorProvider:o6e,registerFoldingRangeProvider:l6e,registerDeclarationProvider:a6e,registerSelectionRangeProvider:c6e,registerDocumentSemanticTokensProvider:u6e,registerDocumentRangeSemanticTokensProvider:h6e,registerInlineCompletionsProvider:d6e,registerInlayHintsProvider:f6e,DocumentHighlightKind:RS,CompletionItemKind:DS,CompletionItemTag:IS,CompletionItemInsertTextRule:LS,SymbolKind:iy,SymbolTag:ny,IndentAction:BS,CompletionTriggerKind:xS,SignatureHelpTriggerKind:ty,InlayHintKind:VS,InlineCompletionTriggerKind:HS,FoldingRangeKind:i2}}const qx=hi("IEditorCancelService"),Iz=new rt("cancellableOperation",!1,E("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Ci(qx,class{constructor(){this._tokens=new WeakMap}add(d,t){let s=this._tokens.get(d);s||(s=d.invokeWithinContext(u=>{const h=Iz.bindTo(u.get(Mt)),f=new ol;return{key:h,tokens:f}}),this._tokens.set(d,s));let l;return s.key.set(!0),l=s.tokens.push(t),()=>{l&&(l(),s.key.set(!s.tokens.isEmpty()),l=void 0)}}cancel(d){const t=this._tokens.get(d);if(!t)return;const s=t.tokens.pop();s&&(s.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class m6e extends tr{constructor(t,s){super(s),this.editor=t,this._unregister=t.invokeWithinContext(l=>l.get(qx).add(t,this))}dispose(){this._unregister(),super.dispose()}}Qe(new class extends nr{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Iz})}runEditorCommand(d,t){d.get(qx).cancel(t)}});class R4{constructor(t,s){if(this.flags=s,(this.flags&1)!==0){const l=t.getModel();this.modelVersionId=l?xl("{0}#{1}",l.uri.toString(),l.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=t.getPosition():this.position=null,(this.flags&2)!==0?this.selection=t.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(t){if(!(t instanceof R4))return!1;const s=t;return!(this.modelVersionId!==s.modelVersionId||this.scrollLeft!==s.scrollLeft||this.scrollTop!==s.scrollTop||!this.position&&s.position||this.position&&!s.position||this.position&&s.position&&!this.position.equals(s.position)||!this.selection&&s.selection||this.selection&&!s.selection||this.selection&&s.selection&&!this.selection.equalsRange(s.selection))}validate(t){return this._equals(new R4(t,this.flags))}}class M4 extends m6e{constructor(t,s,l,u){super(t,u),this._listener=new je,s&4&&this._listener.add(t.onDidChangeCursorPosition(h=>{(!l||!$.containsPosition(l,h.position))&&this.cancel()})),s&2&&this._listener.add(t.onDidChangeCursorSelection(h=>{(!l||!$.containsRange(l,h.selection))&&this.cancel()})),s&8&&this._listener.add(t.onDidScrollChange(h=>this.cancel())),s&1&&(this._listener.add(t.onDidChangeModel(h=>this.cancel())),this._listener.add(t.onDidChangeModelContent(h=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class eE extends tr{constructor(t,s){super(s),this._listener=t.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}function Nc(d){return d&&typeof d.getEditorType=="function"?d.getEditorType()===c_.ICodeEditor:!1}function xz(d){return d&&typeof d.getEditorType=="function"?d.getEditorType()===c_.IDiffEditor:!1}function Ez(d){return Nc(d)?d:xz(d)?d.getModifiedEditor():null}class em{static _handleEolEdits(t,s){let l,u=[];for(let h of s)typeof h.eol=="number"&&(l=h.eol),h.range&&typeof h.text=="string"&&u.push(h);return typeof l=="number"&&t.hasModel()&&t.getModel().pushEOL(l),u}static _isFullModelReplaceEdit(t,s){if(!t.hasModel())return!1;const l=t.getModel(),u=l.validateRange(s.range);return l.getFullModelRange().equalsRange(u)}static execute(t,s,l){l&&t.pushUndoStop();const u=em._handleEolEdits(t,s);u.length===1&&em._isFullModelReplaceEdit(t,u[0])?t.executeEdits("formatEditsCommand",u.map(h=>Vn.replace($.lift(h.range),h.text))):t.executeEdits("formatEditsCommand",u.map(h=>Vn.replaceMove($.lift(h.range),h.text))),l&&t.pushUndoStop()}}class C9{constructor(t){this.value=t,this._lower=t.toLowerCase()}static toKey(t){return typeof t=="string"?t.toLowerCase():t._lower}}var o2=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function tE(d){if(d=d.filter(u=>u.range),!d.length)return;let{range:t}=d[0];for(let u=1;u<d.length;u++)t=$.plusRange(t,d[u].range);const{startLineNumber:s,endLineNumber:l}=t;s===l?d.length===1?qs(E("hint11","Made 1 formatting edit on line {0}",s)):qs(E("hintn1","Made {0} formatting edits on line {1}",d.length,s)):d.length===1?qs(E("hint1n","Made 1 formatting edit between lines {0} and {1}",s,l)):qs(E("hintnn","Made {0} formatting edits between lines {1} and {2}",d.length,s,l))}function Nz(d,t,s){const l=[],u=new Set,h=d.ordered(s);for(const m of h)l.push(m),m.extensionId&&u.add(C9.toKey(m.extensionId));const f=t.ordered(s);for(const m of f){if(m.extensionId){if(u.has(C9.toKey(m.extensionId)))continue;u.add(C9.toKey(m.extensionId))}l.push({displayName:m.displayName,extensionId:m.extensionId,provideDocumentFormattingEdits(A,C,w){return m.provideDocumentRangeFormattingEdits(A,A.getFullModelRange(),C,w)}})}return l}class ef{static setFormatterSelector(t){return{dispose:ef._selectors.unshift(t)}}static select(t,s,l){return o2(this,void 0,void 0,function*(){if(t.length===0)return;const u=gi.first(ef._selectors);if(u)return yield u(t,s,l)})}}ef._selectors=new ol;function Tz(d,t,s,l,u,h){return o2(this,void 0,void 0,function*(){const f=d.get(ii),{documentRangeFormattingEditProvider:m}=d.get(ut),A=Nc(t)?t.getModel():t,C=m.ordered(A),w=yield ef.select(C,A,l);w&&(u.report(w),yield f.invokeFunction(p6e,w,t,s,h))})}function p6e(d,t,s,l,u){return o2(this,void 0,void 0,function*(){const h=d.get(Gl);let f,m;Nc(s)?(f=s.getModel(),m=new M4(s,5,void 0,u)):(f=s,m=new eE(s,u));let A=[],C=0;for(let N of OD(l).sort($.compareRangesUsingStarts))C>0&&$.areIntersectingOrTouching(A[C-1],N)?A[C-1]=$.fromPositions(A[C-1].getStartPosition(),N.getEndPosition()):C=A.push(N);const w=N=>o2(this,void 0,void 0,function*(){return(yield t.provideDocumentRangeFormattingEdits(f,N,f.getFormattingOptions(),m.token))||[]}),k=(N,R)=>{if(!N.length||!R.length)return!1;const O=N.reduce((W,B)=>$.plusRange(W,B.range),N[0].range);if(!R.some(W=>$.intersectRanges(O,W.range)))return!1;for(let W of N)for(let B of R)if($.intersectRanges(W.range,B.range))return!0;return!1},D=[],I=[];try{for(let N of A){if(m.token.isCancellationRequested)return!0;I.push(yield w(N))}for(let N=0;N<A.length;++N)for(let R=N+1;R<A.length;++R){if(m.token.isCancellationRequested)return!0;if(k(I[N],I[R])){const O=$.plusRange(A[N],A[R]),W=yield w(O);A.splice(R,1),A.splice(N,1),A.push(O),I.splice(R,1),I.splice(N,1),I.push(W),N=0,R=0}}for(let N of I){if(m.token.isCancellationRequested)return!0;const R=yield h.computeMoreMinimalEdits(f.uri,N);R&&D.push(...R)}}finally{m.dispose()}if(D.length===0)return!1;if(Nc(s))em.execute(s,D,!0),tE(D),s.revealPositionInCenterIfOutsideViewport(s.getPosition(),1);else{const[{range:N}]=D,R=new et(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn);f.pushEditOperations([R],D.map(O=>({text:O.text,range:$.lift(O.range),forceMoveMarkers:!0})),O=>{for(const{range:W}of O)if($.areIntersectingOrTouching(W,R))return[new et(W.startLineNumber,W.startColumn,W.endLineNumber,W.endColumn)];return null})}return!0})}function A6e(d,t,s,l,u){return o2(this,void 0,void 0,function*(){const h=d.get(ii),f=d.get(ut),m=Nc(t)?t.getModel():t,A=Nz(f.documentFormattingEditProvider,f.documentRangeFormattingEditProvider,m),C=yield ef.select(A,m,s);C&&(l.report(C),yield h.invokeFunction(_6e,C,t,s,u))})}function _6e(d,t,s,l,u){return o2(this,void 0,void 0,function*(){const h=d.get(Gl);let f,m;Nc(s)?(f=s.getModel(),m=new M4(s,5,void 0,u)):(f=s,m=new eE(s,u));let A;try{const C=yield t.provideDocumentFormattingEdits(f,f.getFormattingOptions(),m.token);if(A=yield h.computeMoreMinimalEdits(f.uri,C),m.token.isCancellationRequested)return!0}finally{m.dispose()}if(!A||A.length===0)return!1;if(Nc(s))em.execute(s,A,l!==2),l!==2&&(tE(A),s.revealPositionInCenterIfOutsideViewport(s.getPosition(),1));else{const[{range:C}]=A,w=new et(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn);f.pushEditOperations([w],A.map(k=>({text:k.text,range:$.lift(k.range),forceMoveMarkers:!0})),k=>{for(const{range:D}of k)if($.areIntersectingOrTouching(D,w))return[new et(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn)];return null})}return!0})}function C6e(d,t,s,l,u,h){return o2(this,void 0,void 0,function*(){const f=t.documentRangeFormattingEditProvider.ordered(s);for(const m of f){let A=yield Promise.resolve(m.provideDocumentRangeFormattingEdits(s,l,u,h)).catch(Ms);if(Mo(A))return yield d.computeMoreMinimalEdits(s.uri,A)}})}function w6e(d,t,s,l,u){return o2(this,void 0,void 0,function*(){const h=Nz(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,s);for(const f of h){let m=yield Promise.resolve(f.provideDocumentFormattingEdits(s,l,u)).catch(Ms);if(Mo(m))return yield d.computeMoreMinimalEdits(s.uri,m)}})}function Rz(d,t,s,l,u,h,f){const m=t.onTypeFormattingEditProvider.ordered(s);return m.length===0||m[0].autoFormatTriggerCharacters.indexOf(u)<0?Promise.resolve(void 0):Promise.resolve(m[0].provideOnTypeFormattingEdits(s,l,u,h,f)).catch(Ms).then(A=>d.computeMoreMinimalEdits(s.uri,A))}pi.registerCommand("_executeFormatRangeProvider",function(d,...t){return o2(this,void 0,void 0,function*(){const[s,l,u]=t;Zi(Lt.isUri(s)),Zi($.isIRange(l));const h=d.get(Ao),f=d.get(Gl),m=d.get(ut),A=yield h.createModelReference(s);try{return C6e(f,m,A.object.textEditorModel,$.lift(l),u,ti.None)}finally{A.dispose()}})});pi.registerCommand("_executeFormatDocumentProvider",function(d,...t){return o2(this,void 0,void 0,function*(){const[s,l]=t;Zi(Lt.isUri(s));const u=d.get(Ao),h=d.get(Gl),f=d.get(ut),m=yield u.createModelReference(s);try{return w6e(h,f,m.object.textEditorModel,l,ti.None)}finally{m.dispose()}})});pi.registerCommand("_executeFormatOnTypeProvider",function(d,...t){return o2(this,void 0,void 0,function*(){const[s,l,u,h]=t;Zi(Lt.isUri(s)),Zi(me.isIPosition(l)),Zi(typeof u=="string");const f=d.get(Ao),m=d.get(Gl),A=d.get(ut),C=yield f.createModelReference(s);try{return Rz(m,A,C.object.textEditorModel,me.lift(l),u,h,ti.None)}finally{C.dispose()}})});var w9;a2.wrappingIndent.defaultValue=0;a2.glyphMargin.defaultValue=!1;a2.autoIndent.defaultValue=3;a2.overviewRulerLanes.defaultValue=2;ef.setFormatterSelector((d,t,s)=>Promise.resolve(d[0]));const Kr=NW();Kr.editor=y8e();Kr.languages=g6e();const v6e=Kr.CancellationTokenSource,k6e=Kr.Emitter,b6e=Kr.KeyCode,S6e=Kr.KeyMod,y6e=Kr.Position,L6e=Kr.Range,D6e=Kr.Selection,I6e=Kr.SelectionDirection,x6e=Kr.MarkerSeverity,E6e=Kr.MarkerTag,N6e=Kr.Uri,T6e=Kr.Token,iE=Kr.editor,R6e=Kr.languages;(((w9=Zn.MonacoEnvironment)===null||w9===void 0?void 0:w9.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=Kr);typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var D_=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:v6e,Emitter:k6e,KeyCode:b6e,KeyMod:S6e,Position:y6e,Range:L6e,Selection:D6e,SelectionDirection:I6e,MarkerSeverity:x6e,MarkerTag:E6e,Uri:N6e,Token:T6e,editor:iE,languages:R6e},Symbol.toStringTag,{value:"Module"}));const M6e="modulepreload",xF={},P6e="/rain/",ht=function(t,s){return!s||s.length===0?t():Promise.all(s.map(l=>{if(l=`${P6e}${l}`,l in xF)return;xF[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":M6e,u||(f.as="script",f.crossOrigin=""),f.href=l,document.head.appendChild(f),u)return new Promise((m,A)=>{f.addEventListener("load",m),f.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t())};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var O6e=Object.defineProperty,F6e=Object.getOwnPropertyDescriptor,B6e=Object.getOwnPropertyNames,W6e=Object.prototype.hasOwnProperty,V6e=(d,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of B6e(t))!W6e.call(d,u)&&(s||u!=="default")&&O6e(d,u,{get:()=>t[u],enumerable:!(l=F6e(t,u))||l.enumerable});return d},qp={};V6e(qp,D_);var Mz={},v9={},Pz=class{static getOrCreate(d){return v9[d]||(v9[d]=new Pz(d)),v9[d]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(d){this._languageId=d,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,s)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=s})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,Mz[this._languageId].loader().then(d=>this._lazyLoadPromiseResolve(d),d=>this._lazyLoadPromiseReject(d))),this._lazyLoadPromise}};function mt(d){const t=d.id;Mz[t]=d,qp.languages.register(d);const s=Pz.getOrCreate(t);qp.languages.registerTokensProviderFactory(t,{create:async()=>(await s.load()).language}),qp.languages.onLanguage(t,async()=>{const l=await s.load();qp.languages.setLanguageConfiguration(t,l.conf)})}mt({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>ht(()=>import("./abap.bfbdc491.js"),[])});mt({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>ht(()=>import("./apex.3a0bbd36.js"),[])});mt({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>ht(()=>import("./azcli.2a21dcc8.js"),[])});mt({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>ht(()=>import("./bat.cfc9382a.js"),[])});mt({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>ht(()=>import("./bicep.1efc561e.js"),[])});mt({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>ht(()=>import("./cameligo.94bd5dcf.js"),[])});mt({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>ht(()=>import("./clojure.8543305e.js"),[])});mt({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>ht(()=>import("./coffee.de0bee73.js"),[])});mt({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>ht(()=>import("./cpp.2c1314ec.js"),[])});mt({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>ht(()=>import("./cpp.2c1314ec.js"),[])});mt({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>ht(()=>import("./csharp.3ef4312c.js"),[])});mt({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>ht(()=>import("./csp.078b1205.js"),[])});mt({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>ht(()=>import("./css.28b1e2dc.js"),[])});mt({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>ht(()=>import("./dart.72c9207c.js"),[])});mt({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>ht(()=>import("./dockerfile.eea0f5a9.js"),[])});mt({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>ht(()=>import("./ecl.5e0f116e.js"),[])});mt({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>ht(()=>import("./elixir.0c870cc0.js"),[])});mt({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>ht(()=>import("./flow9.ddcaa44f.js"),[])});mt({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>ht(()=>import("./fsharp.637308b5.js"),[])});mt({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagAutoInterpolationDollar)});mt({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagAngleInterpolationDollar)});mt({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagBracketInterpolationDollar)});mt({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagAngleInterpolationBracket)});mt({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagBracketInterpolationBracket)});mt({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagAutoInterpolationDollar)});mt({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>ht(()=>import("./freemarker2.52ee5220.js"),[]).then(d=>d.TagAutoInterpolationBracket)});mt({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>ht(()=>import("./go.a5321182.js"),[])});mt({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>ht(()=>import("./graphql.e74c3061.js"),[])});mt({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>ht(()=>import("./handlebars.da13bbec.js"),[])});mt({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>ht(()=>import("./hcl.980f5800.js"),[])});mt({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>ht(()=>import("./html.6dde6dad.js"),[])});mt({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>ht(()=>import("./ini.a565700d.js"),[])});mt({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>ht(()=>import("./java.b5b4e25c.js"),[])});mt({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>ht(()=>import("./javascript.2460c799.js"),["assets/javascript.2460c799.js","assets/typescript.795128e2.js"])});mt({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>ht(()=>import("./julia.4b9526f0.js"),[])});mt({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>ht(()=>import("./kotlin.16b1631b.js"),[])});mt({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>ht(()=>import("./less.dfb20244.js"),[])});mt({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>ht(()=>import("./lexon.2174f6b1.js"),[])});mt({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>ht(()=>import("./lua.1b53f8d4.js"),[])});mt({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>ht(()=>import("./liquid.ce423f22.js"),[])});mt({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>ht(()=>import("./m3.467f962e.js"),[])});mt({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>ht(()=>import("./markdown.559a7ab3.js"),[])});mt({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>ht(()=>import("./mips.d8754138.js"),[])});mt({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>ht(()=>import("./msdax.6f267d6f.js"),[])});mt({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>ht(()=>import("./mysql.af01dff1.js"),[])});mt({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>ht(()=>import("./objective-c.b75ffb36.js"),[])});mt({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>ht(()=>import("./pascal.44875784.js"),[])});mt({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>ht(()=>import("./pascaligo.0522f100.js"),[])});mt({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>ht(()=>import("./perl.a7f16129.js"),[])});mt({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>ht(()=>import("./pgsql.e49c480b.js"),[])});mt({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>ht(()=>import("./php.9456e17c.js"),[])});mt({id:"pla",extensions:[".pla"],loader:()=>ht(()=>import("./pla.e446910d.js"),[])});mt({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>ht(()=>import("./postiats.51572fcb.js"),[])});mt({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>ht(()=>import("./powerquery.c06fb3d4.js"),[])});mt({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>ht(()=>import("./powershell.edac1ff2.js"),[])});mt({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>ht(()=>import("./protobuf.9ea19330.js"),[])});mt({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>ht(()=>import("./pug.9be1efca.js"),[])});mt({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>ht(()=>import("./python.9677bc71.js"),[])});mt({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>ht(()=>import("./qsharp.e9c3e37c.js"),[])});mt({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>ht(()=>import("./r.000b11e3.js"),[])});mt({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>ht(()=>import("./razor.c021132a.js"),[])});mt({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>ht(()=>import("./redis.fb351a5f.js"),[])});mt({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>ht(()=>import("./redshift.facc4811.js"),[])});mt({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>ht(()=>import("./restructuredtext.03b9c8d7.js"),[])});mt({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>ht(()=>import("./ruby.ac07c398.js"),[])});mt({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>ht(()=>import("./rust.7956447c.js"),[])});mt({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>ht(()=>import("./sb.64f7ffe9.js"),[])});mt({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>ht(()=>import("./scala.ab6b2e4b.js"),[])});mt({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>ht(()=>import("./scheme.0a9f32af.js"),[])});mt({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>ht(()=>import("./scss.bb5a3a95.js"),[])});mt({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>ht(()=>import("./shell.11589447.js"),[])});mt({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>ht(()=>import("./solidity.731be3c2.js"),[])});mt({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>ht(()=>import("./sophia.96bd523a.js"),[])});mt({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>ht(()=>import("./sparql.f4d727b3.js"),[])});mt({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>ht(()=>import("./sql.ae52386d.js"),[])});mt({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>ht(()=>import("./st.b8efae94.js"),[])});mt({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>ht(()=>import("./swift.90f88698.js"),[])});mt({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>ht(()=>import("./systemverilog.95aaa20b.js"),[])});mt({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>ht(()=>import("./systemverilog.95aaa20b.js"),[])});mt({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>ht(()=>import("./tcl.66c7f2d0.js"),[])});mt({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>ht(()=>import("./twig.dc81619a.js"),[])});mt({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>ht(()=>import("./typescript.795128e2.js"),[])});mt({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>ht(()=>import("./vb.e859ab61.js"),[])});mt({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>ht(()=>import("./xml.a61584d6.js"),[])});mt({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>ht(()=>import("./yaml.3fb67a35.js"),[])});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var H6e=Object.defineProperty,U6e=Object.getOwnPropertyDescriptor,z6e=Object.getOwnPropertyNames,G6e=Object.prototype.hasOwnProperty,j6e=(d,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of z6e(t))!G6e.call(d,u)&&(s||u!=="default")&&H6e(d,u,{get:()=>t[u],enumerable:!(l=U6e(t,u))||l.enumerable});return d},Dm={};j6e(Dm,D_);var nE=class{_onDidChange=new Dm.Emitter;_options;_modeConfiguration;_languageId;constructor(d,t,s){this._languageId=d,this.setOptions(t),this.setModeConfiguration(s)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(d){this._options=d||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(d){this.setOptions(d)}setModeConfiguration(d){this._modeConfiguration=d||Object.create(null),this._onDidChange.fire(this)}},sE={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},rE={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Oz=new nE("css",sE,rE),Fz=new nE("scss",sE,rE),Bz=new nE("less",sE,rE);Dm.languages.css={cssDefaults:Oz,lessDefaults:Bz,scssDefaults:Fz};function oE(){return ht(()=>import("./cssMode.e1d2a629.js"),[])}Dm.languages.onLanguage("less",()=>{oE().then(d=>d.setupMode(Bz))});Dm.languages.onLanguage("scss",()=>{oE().then(d=>d.setupMode(Fz))});Dm.languages.onLanguage("css",()=>{oE().then(d=>d.setupMode(Oz))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Z6e=Object.defineProperty,Q6e=Object.getOwnPropertyDescriptor,Y6e=Object.getOwnPropertyNames,$6e=Object.prototype.hasOwnProperty,K6e=(d,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of Y6e(t))!$6e.call(d,u)&&(s||u!=="default")&&Z6e(d,u,{get:()=>t[u],enumerable:!(l=Q6e(t,u))||l.enumerable});return d},xv={};K6e(xv,D_);var X6e=class{_onDidChange=new xv.Emitter;_options;_modeConfiguration;_languageId;constructor(d,t,s){this._languageId=d,this.setOptions(t),this.setModeConfiguration(s)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(d){this._options=d||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(d){this._modeConfiguration=d||Object.create(null),this._onDidChange.fire(this)}},J6e={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},Ev={format:J6e,suggest:{},data:{useDefaultDataProvider:!0}};function Nv(d){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:d===TA,documentFormattingEdits:d===TA,documentRangeFormattingEdits:d===TA}}var TA="html",EF="handlebars",NF="razor",Wz=Tv(TA,Ev,Nv(TA)),q6e=Wz.defaults,Vz=Tv(EF,Ev,Nv(EF)),e3e=Vz.defaults,Hz=Tv(NF,Ev,Nv(NF)),t3e=Hz.defaults;xv.languages.html={htmlDefaults:q6e,razorDefaults:t3e,handlebarDefaults:e3e,htmlLanguageService:Wz,handlebarLanguageService:Vz,razorLanguageService:Hz,registerHTMLLanguageService:Tv};function i3e(){return ht(()=>import("./htmlMode.6ba25f64.js"),[])}function Tv(d,t=Ev,s=Nv(d)){const l=new X6e(d,t,s);let u;const h=xv.languages.onLanguage(d,async()=>{u=(await i3e()).setupMode(l)});return{defaults:l,dispose(){h.dispose(),u?.dispose(),u=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var n3e=Object.defineProperty,s3e=Object.getOwnPropertyDescriptor,r3e=Object.getOwnPropertyNames,o3e=Object.prototype.hasOwnProperty,l3e=(d,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of r3e(t))!o3e.call(d,u)&&(s||u!=="default")&&n3e(d,u,{get:()=>t[u],enumerable:!(l=s3e(t,u))||l.enumerable});return d},I_={};l3e(I_,D_);var a3e=class{_onDidChange=new I_.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(d,t,s){this._languageId=d,this.setDiagnosticsOptions(t),this.setModeConfiguration(s)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(d){this._diagnosticsOptions=d||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(d){this._modeConfiguration=d||Object.create(null),this._onDidChange.fire(this)}},c3e={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},u3e={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Uz=new a3e("json",c3e,u3e);I_.languages.json={jsonDefaults:Uz};function h3e(){return ht(()=>import("./jsonMode.0346909f.js"),[])}I_.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});I_.languages.onLanguage("json",()=>{h3e().then(d=>d.setupMode(Uz))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.33.0(4b1abad427e58dbedc1215d99a0902ffc885fcd4)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var d3e=Object.defineProperty,f3e=Object.getOwnPropertyDescriptor,g3e=Object.getOwnPropertyNames,m3e=Object.prototype.hasOwnProperty,p3e=(d,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of g3e(t))!m3e.call(d,u)&&(s||u!=="default")&&d3e(d,u,{get:()=>t[u],enumerable:!(l=f3e(t,u))||l.enumerable});return d},A3e="4.5.5",tm={};p3e(tm,D_);var zz=(d=>(d[d.None=0]="None",d[d.CommonJS=1]="CommonJS",d[d.AMD=2]="AMD",d[d.UMD=3]="UMD",d[d.System=4]="System",d[d.ES2015=5]="ES2015",d[d.ESNext=99]="ESNext",d))(zz||{}),Gz=(d=>(d[d.None=0]="None",d[d.Preserve=1]="Preserve",d[d.React=2]="React",d[d.ReactNative=3]="ReactNative",d[d.ReactJSX=4]="ReactJSX",d[d.ReactJSXDev=5]="ReactJSXDev",d))(Gz||{}),jz=(d=>(d[d.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",d[d.LineFeed=1]="LineFeed",d))(jz||{}),Zz=(d=>(d[d.ES3=0]="ES3",d[d.ES5=1]="ES5",d[d.ES2015=2]="ES2015",d[d.ES2016=3]="ES2016",d[d.ES2017=4]="ES2017",d[d.ES2018=5]="ES2018",d[d.ES2019=6]="ES2019",d[d.ES2020=7]="ES2020",d[d.ESNext=99]="ESNext",d[d.JSON=100]="JSON",d[d.Latest=99]="Latest",d))(Zz||{}),Qz=(d=>(d[d.Classic=1]="Classic",d[d.NodeJs=2]="NodeJs",d))(Qz||{}),Yz=class{_onDidChange=new tm.Emitter;_onDidExtraLibsChange=new tm.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(d,t,s,l){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(d),this.setDiagnosticsOptions(t),this.setWorkerOptions(s),this.setInlayHintsOptions(l),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(d,t){let s;if(typeof t>"u"?s=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:s=t,this._extraLibs[s]&&this._extraLibs[s].content===d)return{dispose:()=>{}};let l=1;return this._removedExtraLibs[s]&&(l=this._removedExtraLibs[s]+1),this._extraLibs[s]&&(l=this._extraLibs[s].version+1),this._extraLibs[s]={content:d,version:l},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let u=this._extraLibs[s];!u||u.version===l&&(delete this._extraLibs[s],this._removedExtraLibs[s]=l,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(d){for(const t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),d&&d.length>0)for(const t of d){const s=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,l=t.content;let u=1;this._removedExtraLibs[s]&&(u=this._removedExtraLibs[s]+1),this._extraLibs[s]={content:l,version:u}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(d){this._compilerOptions=d||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(d){this._diagnosticsOptions=d||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(d){this._workerOptions=d||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(d){this._inlayHintsOptions=d||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(d){}setEagerModelSync(d){this._eagerModelSync=d}getEagerModelSync(){return this._eagerModelSync}},_3e=A3e,$z=new Yz({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),Kz=new Yz({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),C3e=()=>Rv().then(d=>d.getTypeScriptWorker()),w3e=()=>Rv().then(d=>d.getJavaScriptWorker());tm.languages.typescript={ModuleKind:zz,JsxEmit:Gz,NewLineKind:jz,ScriptTarget:Zz,ModuleResolutionKind:Qz,typescriptVersion:_3e,typescriptDefaults:$z,javascriptDefaults:Kz,getTypeScriptWorker:C3e,getJavaScriptWorker:w3e};function Rv(){return ht(()=>import("./tsMode.e181bce5.js"),[])}tm.languages.onLanguage("typescript",()=>Rv().then(d=>d.setupTypeScript($z)));tm.languages.onLanguage("javascript",()=>Rv().then(d=>d.setupJavaScript(Kz)));var v3e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},k3e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Mv=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const Pv=new rt("selectionAnchorSet",!1);let Tc=class Xz{constructor(t,s){this.editor=t,this.selectionAnchorSetContextKey=Pv.bindTo(s),this.modelChangeListener=t.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(Xz.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const t=this.editor.getPosition(),s=this.decorationId?[this.decorationId]:[],l=this.editor.deltaDecorations(s,[{range:et.fromPositions(t,t),options:{description:"selection-anchor",stickiness:1,hoverMessage:new rl().appendText(E("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=l[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),qs(E("anchorSet","Anchor set at {0}:{1}",t.lineNumber,t.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);t&&this.editor.setPosition(t.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);if(t){const s=this.editor.getPosition();this.editor.setSelection(et.fromPositions(t.getStartPosition(),s)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Tc.ID="editor.contrib.selectionAnchorController";Tc=v3e([k3e(1,Mt)],Tc);class b3e extends lt{constructor(){super({id:"editor.action.setSelectionAnchor",label:E("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2080),weight:100}})}run(t,s){var l;return Mv(this,void 0,void 0,function*(){(l=Tc.get(s))===null||l===void 0||l.setSelectionAnchor()})}}class S3e extends lt{constructor(){super({id:"editor.action.goToSelectionAnchor",label:E("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Pv})}run(t,s){var l;return Mv(this,void 0,void 0,function*(){(l=Tc.get(s))===null||l===void 0||l.goToSelectionAnchor()})}}class y3e extends lt{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:E("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Pv,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2089),weight:100}})}run(t,s){var l;return Mv(this,void 0,void 0,function*(){(l=Tc.get(s))===null||l===void 0||l.selectFromAnchorToCursor()})}}class L3e extends lt{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:E("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Pv,kbOpts:{kbExpr:re.editorTextFocus,primary:9,weight:100}})}run(t,s){var l;return Mv(this,void 0,void 0,function*(){(l=Tc.get(s))===null||l===void 0||l.cancelSelectionAnchor()})}}Li(Tc.ID,Tc);$e(b3e);$e(S3e);$e(y3e);$e(L3e);const D3e=oe("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},E("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class I3e extends lt{constructor(){super({id:"editor.action.jumpToBracket",label:E("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:3160,weight:100}})}run(t,s){var l;(l=e2.get(s))===null||l===void 0||l.jumpToBracket()}}class x3e extends lt{constructor(){super({id:"editor.action.selectToBracket",label:E("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(t,s,l){var u;let h=!0;l&&l.selectBrackets===!1&&(h=!1),(u=e2.get(s))===null||u===void 0||u.selectToBracket(h)}}class E3e{constructor(t,s,l){this.position=t,this.brackets=s,this.options=l}}class e2 extends Se{constructor(t){super(),this._editor=t,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new zi(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(t.onDidChangeCursorPosition(s=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelContent(s=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModel(s=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelLanguageConfiguration(s=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeConfiguration(s=>{s.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(t.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(t){return t.getContribution(e2.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const t=this._editor.getModel(),s=this._editor.getSelections().map(l=>{const u=l.getStartPosition(),h=t.bracketPairs.matchBracket(u);let f=null;if(h)h[0].containsPosition(u)?f=h[1].getStartPosition():h[1].containsPosition(u)&&(f=h[0].getStartPosition());else{const m=t.bracketPairs.findEnclosingBrackets(u);if(m)f=m[0].getStartPosition();else{const A=t.bracketPairs.findNextBracket(u);A&&A.range&&(f=A.range.getStartPosition())}}return f?new et(f.lineNumber,f.column,f.lineNumber,f.column):new et(u.lineNumber,u.column,u.lineNumber,u.column)});this._editor.setSelections(s),this._editor.revealRange(s[0])}selectToBracket(t){if(!this._editor.hasModel())return;const s=this._editor.getModel(),l=[];this._editor.getSelections().forEach(u=>{const h=u.getStartPosition();let f=s.bracketPairs.matchBracket(h);if(!f&&(f=s.bracketPairs.findEnclosingBrackets(h),!f)){const C=s.bracketPairs.findNextBracket(h);C&&C.range&&(f=s.bracketPairs.matchBracket(C.range.getStartPosition()))}let m=null,A=null;if(f){f.sort($.compareRangesUsingStarts);const[C,w]=f;if(m=t?C.getStartPosition():C.getEndPosition(),A=t?w.getEndPosition():w.getStartPosition(),w.containsPosition(h)){const k=m;m=A,A=k}}m&&A&&l.push(new et(m.lineNumber,m.column,A.lineNumber,A.column))}),l.length>0&&(this._editor.setSelections(l),this._editor.revealRange(l[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let t=[],s=0;for(const l of this._lastBracketsData){let u=l.brackets;u&&(t[s++]={range:u[0],options:l.options},t[s++]={range:u[1],options:l.options})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getSelections();if(t.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const s=this._editor.getModel(),l=s.getVersionId();let u=[];this._lastVersionId===l&&(u=this._lastBracketsData);let h=[],f=0;for(let k=0,D=t.length;k<D;k++){let I=t[k];I.isEmpty()&&(h[f++]=I.getStartPosition())}h.length>1&&h.sort(me.compare);let m=[],A=0,C=0,w=u.length;for(let k=0,D=h.length;k<D;k++){let I=h[k];for(;C<w&&u[C].position.isBefore(I);)C++;if(C<w&&u[C].position.equals(I))m[A++]=u[C];else{let N=s.bracketPairs.matchBracket(I,20),R=e2._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!N&&this._matchBrackets==="always"&&(N=s.bracketPairs.findEnclosingBrackets(I,20),R=e2._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),m[A++]=new E3e(I,N,R)}}this._lastBracketsData=m,this._lastVersionId=l}}e2.ID="editor.contrib.bracketMatchingController";e2._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Qt.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Wn(D3e),position:Bl.Center}});e2._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Qt.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});Li(e2.ID,e2);$e(x3e);$e(I3e);rn((d,t)=>{const s=d.getColor(Yhe);s&&t.addRule(`.monaco-editor .bracket-match { background-color: ${s}; }`);const l=d.getColor(fH);l&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${l}; }`)});ul.appendMenuItem(ce.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:E({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class N3e{constructor(t,s){this._selection=t,this._isMovingLeft=s}getEditOperations(t,s){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const l=this._selection.startLineNumber,u=this._selection.startColumn,h=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&h===t.getLineMaxColumn(l)))if(this._isMovingLeft){const f=new $(l,u-1,l,u),m=t.getValueInRange(f);s.addEditOperation(f,null),s.addEditOperation(new $(l,h,l,h),m)}else{const f=new $(l,h,l,h+1),m=t.getValueInRange(f);s.addEditOperation(f,null),s.addEditOperation(new $(l,u,l,u),m)}}computeCursorState(t,s){return this._isMovingLeft?new et(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new et(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Jz extends lt{constructor(t,s){super(s),this.left=t}run(t,s){if(!s.hasModel())return;const l=[],u=s.getSelections();for(const h of u)l.push(new N3e(h,this.left));s.pushUndoStop(),s.executeCommands(this.id,l),s.pushUndoStop()}}class T3e extends Jz{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:E("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:re.writable})}}class R3e extends Jz{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:E("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:re.writable})}}$e(T3e);$e(R3e);class M3e extends lt{constructor(){super({id:"editor.action.transposeLetters",label:E("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(t,s){if(!s.hasModel())return;let l=s.getModel(),u=[],h=s.getSelections();for(let f of h){if(!f.isEmpty())continue;let m=f.startLineNumber,A=f.startColumn,C=l.getLineMaxColumn(m);if(m===1&&(A===1||A===2&&C===2))continue;let w=A===C?f.getPosition():vi.rightPosition(l,f.getPosition().lineNumber,f.getPosition().column),k=vi.leftPosition(l,w),D=vi.leftPosition(l,k),I=l.getValueInRange($.fromPositions(D,k)),N=l.getValueInRange($.fromPositions(k,w)),R=$.fromPositions(D,w);u.push(new $s(R,N+I))}u.length>0&&(s.pushUndoStop(),s.executeCommands(this.id,u),s.pushUndoStop())}}$e(M3e);var P3e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const tf="9_cutcopypaste",O3e=Xa||document.queryCommandSupported("cut"),qz=Xa||document.queryCommandSupported("copy"),F3e=typeof navigator.clipboard>"u"||dl?document.queryCommandSupported("paste"):!0;function lE(d){return d.register(),d}const B3e=O3e?lE(new wm({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Xa?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:ce.MenubarEditMenu,group:"2_ccp",title:E({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:ce.EditorContext,group:tf,title:E("actions.clipboard.cutLabel","Cut"),when:re.writable,order:1},{menuId:ce.CommandPalette,group:"",title:E("actions.clipboard.cutLabel","Cut"),order:1},{menuId:ce.SimpleEditorContext,group:tf,title:E("actions.clipboard.cutLabel","Cut"),when:re.writable,order:1}]})):void 0,W3e=qz?lE(new wm({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Xa?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:ce.MenubarEditMenu,group:"2_ccp",title:E({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:ce.EditorContext,group:tf,title:E("actions.clipboard.copyLabel","Copy"),order:2},{menuId:ce.CommandPalette,group:"",title:E("actions.clipboard.copyLabel","Copy"),order:1},{menuId:ce.SimpleEditorContext,group:tf,title:E("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;ul.appendMenuItem(ce.MenubarEditMenu,{submenu:ce.MenubarCopy,title:{value:E("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});ul.appendMenuItem(ce.EditorContext,{submenu:ce.EditorContextCopy,title:{value:E("copy as","Copy As"),original:"Copy As"},group:tf,order:3});const k9=F3e?lE(new wm({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Xa?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:ce.MenubarEditMenu,group:"2_ccp",title:E({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:ce.EditorContext,group:tf,title:E("actions.clipboard.pasteLabel","Paste"),when:re.writable,order:4},{menuId:ce.CommandPalette,group:"",title:E("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:ce.SimpleEditorContext,group:tf,title:E("actions.clipboard.pasteLabel","Paste"),when:re.writable,order:4}]})):void 0;class V3e extends lt{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:E("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:0,weight:100}})}run(t,s){!s.hasModel()||!s.getOption(32)&&s.getSelection().isEmpty()||(Vy.forceCopyWithSyntaxHighlighting=!0,s.focus(),document.execCommand("copy"),Vy.forceCopyWithSyntaxHighlighting=!1)}}function eG(d,t){!d||(d.addImplementation(1e4,"code-editor",(s,l)=>{const u=s.get(Mi).getFocusedCodeEditor();if(u&&u.hasTextFocus()){const h=u.getOption(32),f=u.getSelection();return f&&f.isEmpty()&&!h||document.execCommand(t),!0}return!1}),d.addImplementation(0,"generic-dom",(s,l)=>(document.execCommand(t),!0)))}eG(B3e,"cut");eG(W3e,"copy");k9&&(k9.addImplementation(1e4,"code-editor",(d,t)=>{const s=d.get(Mi),l=d.get(Tf),u=s.getFocusedCodeEditor();return u&&u.hasTextFocus()?!document.execCommand("paste")&&ch?(()=>P3e(void 0,void 0,void 0,function*(){const f=yield l.readText();if(f!==""){const m=n4.INSTANCE.get(f);let A=!1,C=null,w=null;m&&(A=u.getOption(32)&&!!m.isFromEmptySelection,C=typeof m.multicursorText<"u"?m.multicursorText:null,w=m.mode),u.trigger("keyboard","paste",{text:f,pasteOnNewLine:A,multicursorText:C,mode:w})}}))():!0:!1}),k9.addImplementation(0,"generic-dom",(d,t)=>(document.execCommand("paste"),!0)));qz&&$e(V3e);class ai{constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||this.value===""||t.value.startsWith(this.value+ai.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(t){return new ai(this.value+ai.sep+t)}}ai.sep=".";ai.None=new ai("@@none@@");ai.Empty=new ai("");ai.QuickFix=new ai("quickfix");ai.Refactor=new ai("refactor");ai.Source=new ai("source");ai.SourceOrganizeImports=ai.Source.append("organizeImports");ai.SourceFixAll=ai.Source.append("fixAll");function H3e(d,t){return!(d.include&&!d.include.intersects(t)||d.excludes&&d.excludes.some(s=>tG(t,s,d.include))||!d.includeSourceActions&&ai.Source.contains(t))}function U3e(d,t){const s=t.kind?new ai(t.kind):void 0;return!(d.include&&(!s||!d.include.contains(s))||d.excludes&&s&&d.excludes.some(l=>tG(s,l,d.include))||!d.includeSourceActions&&s&&ai.Source.contains(s)||d.onlyIncludePreferredActions&&!t.isPreferred)}function tG(d,t,s){return!(!t.contains(d)||s&&t.contains(s))}class n0{constructor(t,s,l){this.kind=t,this.apply=s,this.preferred=l}static fromUser(t,s){return!t||typeof t!="object"?new n0(s.kind,s.apply,!1):new n0(n0.getKindFromUser(t,s.kind),n0.getApplyFromUser(t,s.apply),n0.getPreferredUser(t))}static getApplyFromUser(t,s){switch(typeof t.apply=="string"?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return s}}static getKindFromUser(t,s){return typeof t.kind=="string"?new ai(t.kind):s}static getPreferredUser(t){return typeof t.preferred=="boolean"?t.preferred:!1}}var aE=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const iG="editor.action.codeAction",nG="editor.action.refactor",sG="editor.action.sourceAction",cE="editor.action.organizeImports",uE="editor.action.fixAll";class rG{constructor(t,s){this.action=t,this.provider=s}resolve(t){var s;return aE(this,void 0,void 0,function*(){if(((s=this.provider)===null||s===void 0?void 0:s.resolveCodeAction)&&!this.action.edit){let l;try{l=yield this.provider.resolveCodeAction(this.action,t)}catch(u){Ms(u)}l&&(this.action.edit=l.edit)}return this})}}class hE extends Se{constructor(t,s,l){super(),this.documentation=s,this._register(l),this.allActions=[...t].sort(hE.codeActionsComparator),this.validActions=this.allActions.filter(({action:u})=>!u.disabled)}static codeActionsComparator({action:t},{action:s}){return t.isPreferred&&!s.isPreferred?-1:!t.isPreferred&&s.isPreferred?1:Mo(t.diagnostics)?Mo(s.diagnostics)?t.diagnostics[0].message.localeCompare(s.diagnostics[0].message):-1:Mo(s.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:t})=>!!t.kind&&ai.QuickFix.contains(new ai(t.kind))&&!!t.isPreferred)}}const TF={actions:[],documentation:void 0};function dE(d,t,s,l,u,h){var f;const m=l.filter||{},A={only:(f=m.include)===null||f===void 0?void 0:f.value,trigger:l.type},C=new eE(t,h),w=z3e(d,t,m),k=new je,D=w.map(N=>aE(this,void 0,void 0,function*(){try{u.report(N);const R=yield N.provideCodeActions(t,s,A,C.token);if(R&&k.add(R),C.token.isCancellationRequested)return TF;const O=(R?.actions||[]).filter(B=>B&&U3e(m,B)),W=G3e(N,O,m.include);return{actions:O.map(B=>new rG(B,N)),documentation:W}}catch(R){if(y0(R))throw R;return Ms(R),TF}})),I=d.onDidChange(()=>{const N=d.all(t);cl(N,w)||C.cancel()});return Promise.all(D).then(N=>{const R=PD(N.map(W=>W.actions)),O=vf(N.map(W=>W.documentation));return new hE(R,O,k)}).finally(()=>{I.dispose(),C.dispose()})}function z3e(d,t,s){return d.all(t).filter(l=>l.providedCodeActionKinds?l.providedCodeActionKinds.some(u=>H3e(s,new ai(u))):!0)}function G3e(d,t,s){if(!d.documentation)return;const l=d.documentation.map(u=>({kind:new ai(u.kind),command:u.command}));if(s){let u;for(const h of l)h.kind.contains(s)&&(u?u.kind.contains(h.kind)&&(u=h):u=h);if(u)return u?.command}for(const u of t)if(!!u.kind){for(const h of l)if(h.kind.contains(new ai(u.kind)))return h.command}}pi.registerCommand("_executeCodeActionProvider",function(d,t,s,l,u){return aE(this,void 0,void 0,function*(){if(!(t instanceof Lt))throw Ja();const{codeActionProvider:h}=d.get(ut),f=d.get(Ln).getModel(t);if(!f)throw Ja();const m=et.isISelection(s)?et.liftSelection(s):$.isIRange(s)?f.validateRange(s):void 0;if(!m)throw Ja();const A=typeof l=="string"?new ai(l):void 0,C=yield dE(h,f,m,{type:1,filter:{includeSourceActions:!0,include:A}},Rf.None,ti.None),w=[],k=Math.min(C.validActions.length,typeof u=="number"?u:0);for(let D=0;D<k;D++)w.push(C.validActions[D].resolve(ti.None));try{return yield Promise.all(w),C.validActions.map(D=>D.action)}finally{setTimeout(()=>C.dispose(),100)}})});var j3e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Z3e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let ml=class dL{constructor(t,s){this._messageWidget=new Yr,this._messageListeners=new je,this._editor=t,this._visible=dL.MESSAGE_VISIBLE.bindTo(s),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(dL.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,s){qs(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new RF(this._editor,s,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Wo(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(u=>{!u.target.position||(l?l.containsPosition(u.target.position)||this.closeMessage():l=new $(s.lineNumber-3,1,u.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(RF.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(E("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};ml.ID="editor.contrib.messageController";ml.MESSAGE_VISIBLE=new rt("messageVisible",!1,E("messageVisible","Whether the editor is currently showing an inline message"));ml=j3e([Z3e(1,Mt)],ml);const Q3e=nr.bindToContribution(ml.get);Qe(new Q3e({id:"leaveEditorMessage",precondition:ml.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class RF{constructor(t,{lineNumber:s,column:l},u){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(s,s,0),this._position={lineNumber:s,column:l-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const h=document.createElement("div");h.classList.add("anchor","top"),this._domNode.appendChild(h);const f=document.createElement("div");f.classList.add("message"),f.textContent=u,this._domNode.appendChild(f);const m=document.createElement("div");m.classList.add("anchor","below"),this._domNode.appendChild(m),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){let s;const l=()=>{t.dispose(),clearTimeout(s),t.getDomNode().removeEventListener("animationend",l)};return s=setTimeout(l,110),t.getDomNode().addEventListener("animationend",l),t.getDomNode().classList.add("fadeOut"),{dispose:l}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(t){this._domNode.classList.toggle("below",t===2)}}Li(ml.ID,ml);var Y3e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},b9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},$3e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class MF extends Po{constructor(t,s){super(t.command?t.command.id:t.title,K3e(t.title),void 0,!t.disabled,s),this.action=t}}function K3e(d){return d.replace(/\r\n|\r|\n/g," ")}let fL=class extends Se{constructor(t,s,l,u,h){super(),this._editor=t,this._delegate=s,this._contextMenuService=l,this._languageFeaturesService=h,this._visible=!1,this._showingActions=this._register(new Yr),this._keybindingResolver=new Ov({getKeybindings:()=>u.getKeybindings()})}get isVisible(){return this._visible}show(t,s,l,u){return $3e(this,void 0,void 0,function*(){const h=u.includeDisabledActions?s.allActions:s.validActions;if(!h.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,WD();this._visible=!0,this._showingActions.value=s;const f=this.getMenuActions(t,h,s.documentation),m=me.isIPosition(l)?this._toCoords(l):l||{x:0,y:0},A=this._keybindingResolver.getResolver(),C=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:C?this._editor.getDomNode():void 0,getAnchor:()=>m,getActions:()=>f,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:w=>w instanceof MF?A(w.action):void 0})})}getMenuActions(t,s,l){var u,h;const f=w=>new MF(w.action,()=>this._delegate.onSelectCodeAction(w)),m=s.map(f),A=[...l],C=this._editor.getModel();if(C&&m.length)for(const w of this._languageFeaturesService.codeActionProvider.all(C))w._getAdditionalMenuItems&&A.push(...w._getAdditionalMenuItems({trigger:t.type,only:(h=(u=t.filter)===null||u===void 0?void 0:u.include)===null||h===void 0?void 0:h.value},s.map(k=>k.action)));return A.length&&m.push(new Ml,...A.map(w=>f(new rG({title:w.title,command:w},void 0)))),m}_toCoords(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(t),l=Js(this._editor.getDomNode()),u=l.left+s.left,h=l.top+s.top+s.height;return{x:u,y:h}}};fL=Y3e([b9(2,uh),b9(3,Hn),b9(4,ut)],fL);class Ov{constructor(t){this._keybindingProvider=t}getResolver(){const t=new Rg(()=>this._keybindingProvider.getKeybindings().filter(s=>Ov.codeActionCommands.indexOf(s.command)>=0).filter(s=>s.resolvedKeybinding).map(s=>{let l=s.commandArgs;return s.command===cE?l={kind:ai.SourceOrganizeImports.value}:s.command===uE&&(l={kind:ai.SourceFixAll.value}),Object.assign({resolvedKeybinding:s.resolvedKeybinding},n0.fromUser(l,{kind:ai.None,apply:"never"}))}));return s=>{if(s.kind){const l=this.bestKeybindingForCodeAction(s,t.getValue());return l?.resolvedKeybinding}}}bestKeybindingForCodeAction(t,s){if(!t.kind)return;const l=new ai(t.kind);return s.filter(u=>u.kind.contains(l)).filter(u=>u.preferred?t.isPreferred:!0).reduceRight((u,h)=>u?u.kind.contains(h.kind)?h:u:h,void 0)}}Ov.codeActionCommands=[nG,iG,sG,cE,uE];var X3e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},J3e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},RA;(function(d){d.Hidden={type:0};class t{constructor(l,u,h,f){this.actions=l,this.trigger=u,this.editorPosition=h,this.widgetPosition=f,this.type=1}}d.Showing=t})(RA||(RA={}));let tw=class oG extends Se{constructor(t,s,l,u){super(),this._editor=t,this._quickFixActionId=s,this._preferredFixActionId=l,this._keybindingService=u,this._onClick=this._register(new he),this.onClick=this._onClick.event,this._state=RA.Hidden,this._domNode=document.createElement("div"),this._domNode.className=T.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(h=>{const f=this._editor.getModel();(this.state.type!==1||!f||this.state.editorPosition.lineNumber>=f.getLineCount())&&this.hide()})),Wi.ignoreTarget(this._domNode),this._register(J0e(this._domNode,h=>{if(this.state.type!==1)return;this._editor.focus(),h.preventDefault();const{top:f,height:m}=Js(this._domNode),A=this._editor.getOption(59);let C=Math.floor(A/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(C+=A),this._onClick.fire({x:h.posx,y:f+m+C,actions:this.state.actions,trigger:this.state.trigger})})),this._register(ze(this._domNode,"mouseenter",h=>{if((h.buttons&1)!==1)return;this.hide();const f=new If;f.startMonitoring(h.target,h.buttons,vm,()=>{},()=>{f.dispose()})})),this._register(this._editor.onDidChangeConfiguration(h=>{h.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(t,s,l){if(t.validActions.length<=0)return this.hide();const u=this._editor.getOptions();if(!u.get(57).enabled)return this.hide();const h=this._editor.getModel();if(!h)return this.hide();const{lineNumber:f,column:m}=h.validatePosition(l),A=h.getOptions().tabSize,C=u.get(44),w=h.getLineContent(f),k=iv(w,A),D=C.spaceWidth*k>22,I=R=>R>2&&this._editor.getTopForLineNumber(R)===this._editor.getTopForLineNumber(R-1);let N=f;if(!D){if(f>1&&!I(f-1))N-=1;else if(!I(f+1))N+=1;else if(m*C.spaceWidth<22)return this.hide()}this.state=new RA.Showing(t,s,l,{position:{lineNumber:N,column:1},preference:oG._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=RA.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(t){this._state=t,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...T.lightBulb.classNamesArray),this._domNode.classList.add(...T.lightbulbAutofix.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(s){this.title=E("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",s.getLabel());return}}this._domNode.classList.remove(...T.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...T.lightBulb.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._quickFixActionId);t?this.title=E("codeActionWithKb","Show Code Actions ({0})",t.getLabel()):this.title=E("codeAction","Show Code Actions")}set title(t){this._domNode.title=t}};tw._posPref=[0];tw=X3e([J3e(3,Hn)],tw);rn((d,t)=>{var s;const l=(s=d.getColor(go))===null||s===void 0?void 0:s.transparent(.7),u=d.getColor(wue);u&&t.addRule(`
		.monaco-editor .contentWidgets ${T.lightBulb.cssSelector} {
			color: ${u};
			background-color: ${l};
		}`);const h=d.getColor(vue);h&&t.addRule(`
		.monaco-editor .contentWidgets ${T.lightbulbAutofix.cssSelector} {
			color: ${h};
			background-color: ${l};
		}`)});var q3e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},eCe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},S9=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},tCe=globalThis&&globalThis.__classPrivateFieldSet||function(d,t,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?d!==t||!u:!t.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(d,s):u?u.value=s:t.set(d,s),s},iCe=globalThis&&globalThis.__classPrivateFieldGet||function(d,t,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?d!==t||!l:!t.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(d):l?l.value:t.get(d)},_3;let gL=class extends Se{constructor(t,s,l,u,h){super(),this._editor=t,this.delegate=u,this._activeCodeActions=this._register(new Yr),_3.set(this,!1),this._codeActionWidget=new Rg(()=>this._register(h.createInstance(fL,this._editor,{onSelectCodeAction:f=>S9(this,void 0,void 0,function*(){this.delegate.applyCodeAction(f,!0)})}))),this._lightBulbWidget=new Rg(()=>{const f=this._register(h.createInstance(tw,this._editor,s,l));return this._register(f.onClick(m=>this.showCodeActionList(m.trigger,m.actions,m,{includeDisabledActions:!1}))),f})}dispose(){tCe(this,_3,!0,"f"),super.dispose()}update(t){var s,l,u,h,f;return S9(this,void 0,void 0,function*(){if(t.type!==1){(s=this._lightBulbWidget.rawValue)===null||s===void 0||s.hide();return}let m;try{m=yield t.actions}catch(A){Bt(A);return}if(!iCe(this,_3,"f"))if(this._lightBulbWidget.getValue().update(m,t.trigger,t.position),t.trigger.type===1){if(!((l=t.trigger.filter)===null||l===void 0)&&l.include){const C=this.tryGetValidActionToApply(t.trigger,m);if(C){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(C,!1)}finally{m.dispose()}return}if(t.trigger.context){const w=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,m);if(w&&w.action.disabled){(u=ml.get(this._editor))===null||u===void 0||u.showMessage(w.action.disabled,t.trigger.context.position),m.dispose();return}}}const A=!!(!((h=t.trigger.filter)===null||h===void 0)&&h.include);if(t.trigger.context&&(!m.allActions.length||!A&&!m.validActions.length)){(f=ml.get(this._editor))===null||f===void 0||f.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=m,m.dispose();return}this._activeCodeActions.value=m,this._codeActionWidget.getValue().show(t.trigger,m,t.position,{includeDisabledActions:A})}else this._codeActionWidget.getValue().isVisible?m.dispose():this._activeCodeActions.value=m})}getInvalidActionThatWouldHaveBeenApplied(t,s){if(!!s.allActions.length&&(t.autoApply==="first"&&s.validActions.length===0||t.autoApply==="ifSingle"&&s.allActions.length===1))return s.allActions.find(({action:l})=>l.disabled)}tryGetValidActionToApply(t,s){if(!!s.validActions.length&&(t.autoApply==="first"&&s.validActions.length>0||t.autoApply==="ifSingle"&&s.validActions.length===1))return s.validActions[0]}showCodeActionList(t,s,l,u){return S9(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(t,s,l,u)})}};_3=new WeakMap;gL=q3e([eCe(4,ii)],gL);var y9=globalThis&&globalThis.__classPrivateFieldGet||function(d,t,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?d!==t||!l:!t.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(d):l?l.value:t.get(d)},nCe=globalThis&&globalThis.__classPrivateFieldSet||function(d,t,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?d!==t||!u:!t.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(d,s):u?u.value=s:t.set(d,s),s},z1;const lG=new rt("supportedCodeAction","");class sCe extends Se{constructor(t,s,l,u=250){super(),this._editor=t,this._markerService=s,this._signalChange=l,this._delay=u,this._autoTriggerTimer=this._register(new Wo),this._register(this._markerService.onMarkerChanged(h=>this._onMarkerChanges(h))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(t){const s=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);return this._createEventAndSignalChange(t,s)}_onMarkerChanges(t){const s=this._editor.getModel();!s||t.some(l=>GH(l,s.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(t){const s=this._editor.getModel();if(!!s)for(const l of this._markerService.read({resource:s.uri})){const u=s.validateRange(l);if($.intersectRanges(u,t))return $.lift(u)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(t){if(!this._editor.hasModel())return;const s=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&t.type===2){const{lineNumber:u,column:h}=l.getPosition(),f=s.getLineContent(u);if(f.length===0)return;if(h===1){if(/\s/.test(f[0]))return}else if(h===s.getLineMaxColumn(u)){if(/\s/.test(f[f.length-1]))return}else if(/\s/.test(f[h-2])&&/\s/.test(f[h-1]))return}return l}_createEventAndSignalChange(t,s){const l=this._editor.getModel();if(!s||!l){this._signalChange(void 0);return}const u=this._getRangeOfMarker(s),h=u?u.getStartPosition():s.getStartPosition(),f={trigger:t,selection:s,position:h};return this._signalChange(f),f}}var ud;(function(d){d.Empty={type:0};class t{constructor(l,u,h,f){this.trigger=l,this.rangeOrSelection=u,this.position=h,this._cancellablePromise=f,this.type=1,this.actions=f.catch(m=>{if(y0(m))return rCe;throw m})}cancel(){this._cancellablePromise.cancel()}}d.Triggered=t})(ud||(ud={}));const rCe={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class oCe extends Se{constructor(t,s,l,u,h){super(),this._editor=t,this._registry=s,this._markerService=l,this._progressService=h,this._codeActionOracle=this._register(new Yr),this._state=ud.Empty,this._onDidChangeState=this._register(new he),this.onDidChangeState=this._onDidChangeState.event,z1.set(this,!1),this._supportedCodeActions=lG.bindTo(u),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){y9(this,z1,"f")||(nCe(this,z1,!0,"f"),super.dispose(),this.setState(ud.Empty,!0))}_update(){if(y9(this,z1,"f"))return;this._codeActionOracle.value=void 0,this.setState(ud.Empty);const t=this._editor.getModel();if(t&&this._registry.has(t)&&!this._editor.getOption(81)){const s=[];for(const l of this._registry.all(t))Array.isArray(l.providedCodeActionKinds)&&s.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(s.join(" ")),this._codeActionOracle.value=new sCe(this._editor,this._markerService,l=>{var u;if(!l){this.setState(ud.Empty);return}const h=js(f=>dE(this._registry,t,l.selection,l.trigger,Rf.None,f));l.trigger.type===1&&((u=this._progressService)===null||u===void 0||u.showWhile(h,250)),this.setState(new ud.Triggered(l.trigger,l.selection,l.position,h))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(t){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(t)}setState(t,s){t!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=t,!s&&!y9(this,z1,"f")&&this._onDidChangeState.fire(t))}}z1=new WeakMap;var lCe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Bp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},aG=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function x_(d){return it.regex(lG.keys()[0],new RegExp("(\\s|^)"+Fl(d.value)+"\\b"))}const fE={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:E("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:E("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[E("args.schema.apply.first","Always apply the first returned code action."),E("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),E("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:E("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let nf=class cG extends Se{constructor(t,s,l,u,h,f){super(),this._instantiationService=h,this._editor=t,this._model=this._register(new oCe(this._editor,f.codeActionProvider,s,l,u)),this._register(this._model.onDidChangeState(m=>this.update(m))),this._ui=new Rg(()=>this._register(new gL(t,Im.Id,E_.Id,{applyCodeAction:(m,A)=>aG(this,void 0,void 0,function*(){try{yield this._applyCodeAction(m)}finally{A&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(t){return t.getContribution(cG.ID)}update(t){this._ui.getValue().update(t)}showCodeActions(t,s,l){return this._ui.getValue().showCodeActionList(t,s,l,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(t,s,l){var u;if(!this._editor.hasModel())return;(u=ml.get(this._editor))===null||u===void 0||u.closeMessage();const h=this._editor.getPosition();this._trigger({type:1,filter:s,autoApply:l,context:{notAvailableMessage:t,position:h}})}_trigger(t){return this._model.trigger(t)}_applyCodeAction(t){return this._instantiationService.invokeFunction(aCe,t,this._editor)}};nf.ID="editor.contrib.quickFixController";nf=lCe([Bp(1,Pc),Bp(2,Mt),Bp(3,hh),Bp(4,ii),Bp(5,ut)],nf);function aCe(d,t,s){return aG(this,void 0,void 0,function*(){const l=d.get(dx),u=d.get(es),h=d.get(L0),f=d.get(is);if(h.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(ti.None),t.action.edit&&(yield l.apply(lv.convert(t.action.edit),{editor:s,label:t.action.title})),t.action.command)try{yield u.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(m){const A=cCe(m);f.error(typeof A=="string"?A:E("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function cCe(d){return typeof d=="string"?d:d instanceof Error&&typeof d.message=="string"?d.message:void 0}function Bf(d,t,s,l){if(d.hasModel()){const u=nf.get(d);u&&u.manualTriggerAtCurrentPosition(t,s,l)}}class Im extends lt{constructor(){super({id:Im.Id,label:E("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:it.and(re.writable,re.hasCodeActionsProvider),kbOpts:{kbExpr:re.editorTextFocus,primary:2132,weight:100}})}run(t,s){return Bf(s,E("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}Im.Id="editor.action.quickFix";class uCe extends nr{constructor(){super({id:iG,precondition:it.and(re.writable,re.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:fE}]}})}runEditorCommand(t,s,l){const u=n0.fromUser(l,{kind:ai.Empty,apply:"ifSingle"});return Bf(s,typeof l?.kind=="string"?u.preferred?E("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",l.kind):E("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",l.kind):u.preferred?E("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):E("editor.action.codeAction.noneMessage","No code actions available"),{include:u.kind,includeSourceActions:!0,onlyIncludePreferredActions:u.preferred},u.apply)}}class hCe extends lt{constructor(){super({id:nG,label:E("refactor.label","Refactor..."),alias:"Refactor...",precondition:it.and(re.writable,re.hasCodeActionsProvider),kbOpts:{kbExpr:re.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:it.and(re.writable,x_(ai.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:fE}]}})}run(t,s,l){const u=n0.fromUser(l,{kind:ai.Refactor,apply:"never"});return Bf(s,typeof l?.kind=="string"?u.preferred?E("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",l.kind):E("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",l.kind):u.preferred?E("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):E("editor.action.refactor.noneMessage","No refactorings available"),{include:ai.Refactor.contains(u.kind)?u.kind:ai.None,onlyIncludePreferredActions:u.preferred},u.apply)}}class dCe extends lt{constructor(){super({id:sG,label:E("source.label","Source Action..."),alias:"Source Action...",precondition:it.and(re.writable,re.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:it.and(re.writable,x_(ai.Source))},description:{description:"Source Action...",args:[{name:"args",schema:fE}]}})}run(t,s,l){const u=n0.fromUser(l,{kind:ai.Source,apply:"never"});return Bf(s,typeof l?.kind=="string"?u.preferred?E("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",l.kind):E("editor.action.source.noneMessage.kind","No source actions for '{0}' available",l.kind):u.preferred?E("editor.action.source.noneMessage.preferred","No preferred source actions available"):E("editor.action.source.noneMessage","No source actions available"),{include:ai.Source.contains(u.kind)?u.kind:ai.None,includeSourceActions:!0,onlyIncludePreferredActions:u.preferred},u.apply)}}class fCe extends lt{constructor(){super({id:cE,label:E("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:it.and(re.writable,x_(ai.SourceOrganizeImports)),kbOpts:{kbExpr:re.editorTextFocus,primary:1581,weight:100}})}run(t,s){return Bf(s,E("editor.action.organize.noneMessage","No organize imports action available"),{include:ai.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class gCe extends lt{constructor(){super({id:uE,label:E("fixAll.label","Fix All"),alias:"Fix All",precondition:it.and(re.writable,x_(ai.SourceFixAll))})}run(t,s){return Bf(s,E("fixAll.noneMessage","No fix all action available"),{include:ai.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class E_ extends lt{constructor(){super({id:E_.Id,label:E("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:it.and(re.writable,x_(ai.QuickFix)),kbOpts:{kbExpr:re.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(t,s){return Bf(s,E("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ai.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}E_.Id="editor.action.autoFix";Li(nf.ID,nf);$e(Im);$e(hCe);$e(dCe);$e(fCe);$e(E_);$e(gCe);Qe(new uCe);var PF=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class mL{constructor(){this.lenses=[],this._disposables=new je}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,s){this._disposables.add(t);for(const l of t.lenses)this.lenses.push({symbol:l,provider:s})}}function uG(d,t,s){return PF(this,void 0,void 0,function*(){const l=d.ordered(t),u=new Map,h=new mL,f=l.map((m,A)=>PF(this,void 0,void 0,function*(){u.set(m,A);try{const C=yield Promise.resolve(m.provideCodeLenses(t,s));C&&h.add(C,m)}catch(C){Ms(C)}}));return yield Promise.all(f),h.lenses=h.lenses.sort((m,A)=>m.symbol.range.startLineNumber<A.symbol.range.startLineNumber?-1:m.symbol.range.startLineNumber>A.symbol.range.startLineNumber?1:u.get(m.provider)<u.get(A.provider)?-1:u.get(m.provider)>u.get(A.provider)?1:m.symbol.range.startColumn<A.symbol.range.startColumn?-1:m.symbol.range.startColumn>A.symbol.range.startColumn?1:0),h})}pi.registerCommand("_executeCodeLensProvider",function(d,...t){let[s,l]=t;Zi(Lt.isUri(s)),Zi(typeof l=="number"||!l);const{codeLensProvider:u}=d.get(ut),h=d.get(Ln).getModel(s);if(!h)throw Ja();const f=[],m=new je;return uG(u,h,ti.None).then(A=>{m.add(A);let C=[];for(const w of A.lenses)l==null||Boolean(w.symbol.command)?f.push(w.symbol):l-- >0&&w.provider.resolveCodeLens&&C.push(Promise.resolve(w.provider.resolveCodeLens(h,w.symbol,ti.None)).then(k=>f.push(k||w.symbol)));return Promise.all(C)}).then(()=>f).finally(()=>{setTimeout(()=>m.dispose(),100)})});var mCe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},pCe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const hG=hi("ICodeLensCache");class OF{constructor(t,s){this.lineCount=t,this.data=s}}let pL=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new dh(20,.75);const s="codelens/cache";YA(()=>t.remove(s,1));const l="codelens/cache2",u=t.get(l,1,"{}");this._deserialize(u),Ic(t.onWillSaveState)(h=>{h.reason===XC.SHUTDOWN&&t.store(l,this._serialize(),1,1)})}put(t,s){const l=s.lenses.map(f=>{var m;return{range:f.symbol.range,command:f.symbol.command&&{id:"",title:(m=f.symbol.command)===null||m===void 0?void 0:m.title}}}),u=new mL;u.add({lenses:l,dispose:()=>{}},this._fakeProvider);const h=new OF(t.getLineCount(),u);this._cache.set(t.uri.toString(),h)}get(t){const s=this._cache.get(t.uri.toString());return s&&s.lineCount===t.getLineCount()?s.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[s,l]of this._cache){const u=new Set;for(const h of l.data.lenses)u.add(h.symbol.range.startLineNumber);t[s]={lineCount:l.lineCount,lines:[...u.values()]}}return JSON.stringify(t)}_deserialize(t){try{const s=JSON.parse(t);for(const l in s){const u=s[l],h=[];for(const m of u.lines)h.push({range:new $(m,1,m,11)});const f=new mL;f.add({lenses:h,dispose(){}},this._fakeProvider),this._cache.set(l,new OF(u.lineCount,f))}}catch{}}};pL=mCe([pCe(0,N0)],pL);Ci(hG,pL);class ACe{constructor(t,s,l){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=s,this._onHeight=l,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class Fv{constructor(t,s,l){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id=`codelens.widget-${Fv._idPool++}`,this.updatePosition(l),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${s}`}withCommands(t,s){this._commands.clear();let l=[],u=!1;for(let h=0;h<t.length;h++){const f=t[h];if(!!f&&(u=!0,f.command)){const m=Nd(f.command.title.trim());f.command.id?(l.push(Ue("a",{id:String(h),title:f.command.tooltip},...m)),this._commands.set(String(h),f.command)):l.push(Ue("span",{title:f.command.tooltip},...m)),h+1<t.length&&l.push(Ue("span",void 0,"\xA0|\xA0"))}}u?(ju(this._domNode,...l),this._isEmpty&&s&&this._domNode.classList.add("fadein"),this._isEmpty=!1):ju(this._domNode,Ue("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const s=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:s},preference:[1]}}getPosition(){return this._widgetPosition||null}}Fv._idPool=0;class L9{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,s){this._addDecorations.push(t),this._addDecorationsCallbacks.push(s)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let s=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let l=0,u=s.length;l<u;l++)this._addDecorationsCallbacks[l](s[l])}}class FF{constructor(t,s,l,u,h,f,m){this._isDisposed=!1,this._editor=s,this._className=l,this._data=t,this._decorationIds=[];let A,C=[];this._data.forEach((w,k)=>{w.symbol.command&&C.push(w.symbol),u.addDecoration({range:w.symbol.range,options:Qt.EMPTY},D=>this._decorationIds[k]=D),A?A=$.plusRange(A,w.symbol.range):A=$.lift(w.symbol.range)}),this._viewZone=new ACe(A.startLineNumber-1,f,m),this._viewZoneId=h.addZone(this._viewZone),C.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(C,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Fv(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,s){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],s&&s.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,s)=>{const l=this._editor.getModel().getDecorationRange(t),u=this._data[s].symbol;return!!(l&&$.isEmpty(u.range)===l.isEmpty())})}updateCodeLensSymbols(t,s){this._decorationIds.forEach(s.removeDecoration,s),this._decorationIds=[],this._data=t,this._data.forEach((l,u)=>{s.addDecoration({range:l.symbol.range,options:Qt.EMPTY},h=>this._decorationIds[u]=h)})}updateHeight(t,s){this._viewZone.heightInPx=t,s.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let s=0;s<this._decorationIds.length;s++){const l=t.getDecorationRange(this._decorationIds[s]);l&&(this._data[s].symbol.range=l)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let s=0;s<this._data.length;s++){const l=t[s];if(l){const{symbol:u}=this._data[s];u.command=l.command||u.command}}}getCommand(t){var s;return(s=this._contentWidget)===null||s===void 0?void 0:s.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const s=this._editor.getModel().getDecorationRange(this._decorationIds[0]);s&&(this._viewZone.afterLineNumber=s.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(s.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var _Ce=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Wp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},CCe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let im=class{constructor(t,s,l,u,h,f){this._editor=t,this._languageFeaturesService=s,this._commandService=u,this._notificationService=h,this._codeLensCache=f,this._disposables=new je,this._localToDispose=new je,this._lenses=[],this._oldCodeLensModels=new je,this._provideCodeLensDebounce=l.for(s.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=l.for(s.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new zi(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(m=>{(m.hasChanged(44)||m.hasChanged(16)||m.hasChanged(15))&&this._updateLensStyle(),m.hasChanged(14)&&this._onModelChange()})),this._disposables.add(s.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+sV(this._editor.getId()).toString(16),this._styleElement=Vl(JA(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var t;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(t=this._currentCodeLensModel)===null||t===void 0||t.dispose(),this._styleElement.remove()}_getLayoutInfo(){let t=this._editor.getOption(16),s;return!t||t<5?(t=this._editor.getOption(46)*.9|0,s=this._editor.getOption(59)):s=t*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:s,fontSize:t}}_updateLensStyle(){const{codeLensHeight:t,fontSize:s}=this._getLayoutInfo(),l=this._editor.getOption(15),u=this._editor.getOption(44),h=`--codelens-font-family${this._styleClassName}`,f=`--codelens-font-features${this._styleClassName}`;let m=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${t}px; font-size: ${s}px; padding-right: ${Math.round(s*.5)}px; font-feature-settings: var(${f}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${t}px; font-size: ${s}px; }
		`;l&&(m+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${h}), ${Or.fontFamily}}`),this._styleElement.textContent=m,this._editor.getContainerDomNode().style.setProperty(h,l??"inherit"),this._editor.getContainerDomNode().style.setProperty(f,u.fontFeatureSettings),this._editor.changeViewZones(A=>{for(let C of this._lenses)C.updateHeight(t,A)})}_localDispose(){var t,s,l;(t=this._getCodeLensModelPromise)===null||t===void 0||t.cancel(),this._getCodeLensModelPromise=void 0,(s=this._resolveCodeLensesPromise)===null||s===void 0||s.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(l=this._currentCodeLensModel)===null||l===void 0||l.dispose()}_onModelChange(){this._localDispose();const t=this._editor.getModel();if(!t||!this._editor.getOption(14))return;const s=this._codeLensCache.get(t);if(s&&this._renderCodeLensSymbols(s),!this._languageFeaturesService.codeLensProvider.has(t)){s&&this._localToDispose.add(Wd(()=>{const u=this._codeLensCache.get(t);s===u&&(this._codeLensCache.delete(t),this._onModelChange())},30*1e3));return}for(const u of this._languageFeaturesService.codeLensProvider.all(t))if(typeof u.onDidChange=="function"){let h=u.onDidChange(()=>l.schedule());this._localToDispose.add(h)}const l=new zi(()=>{var u;const h=Date.now();(u=this._getCodeLensModelPromise)===null||u===void 0||u.cancel(),this._getCodeLensModelPromise=js(f=>uG(this._languageFeaturesService.codeLensProvider,t,f)),this._getCodeLensModelPromise.then(f=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=f,this._codeLensCache.put(t,f);const m=this._provideCodeLensDebounce.update(t,Date.now()-h);l.delay=m,this._renderCodeLensSymbols(f),this._resolveCodeLensesInViewportSoon()},Bt)},this._provideCodeLensDebounce.get(t));this._localToDispose.add(l),this._localToDispose.add($t(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(u=>{this._editor.changeViewZones(h=>{let f=[],m=-1;this._lenses.forEach(C=>{!C.isValid()||m===C.getLineNumber()?f.push(C):(C.update(h),m=C.getLineNumber())});let A=new L9;f.forEach(C=>{C.dispose(A,h),this._lenses.splice(this._lenses.indexOf(C),1)}),A.commit(u)})}),l.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{l.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(u=>{u.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add($t(()=>{if(this._editor.getModel()){const u=Ju.capture(this._editor);this._editor.changeDecorations(h=>{this._editor.changeViewZones(f=>{this._disposeAllLenses(h,f)})}),u.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(u=>{if(u.target.type!==9)return;let h=u.target.element;if(h?.tagName==="SPAN"&&(h=h.parentElement),h?.tagName==="A")for(const f of this._lenses){let m=f.getCommand(h);if(m){this._commandService.executeCommand(m.id,...m.arguments||[]).catch(A=>this._notificationService.error(A));break}}})),l.schedule()}_disposeAllLenses(t,s){const l=new L9;for(const u of this._lenses)u.dispose(l,s);t&&l.commit(t),this._lenses.length=0}_renderCodeLensSymbols(t){if(!this._editor.hasModel())return;let s=this._editor.getModel().getLineCount(),l=[],u;for(let m of t.lenses){let A=m.symbol.range.startLineNumber;A<1||A>s||(u&&u[u.length-1].symbol.range.startLineNumber===A?u.push(m):(u=[m],l.push(u)))}const h=Ju.capture(this._editor),f=this._getLayoutInfo();this._editor.changeDecorations(m=>{this._editor.changeViewZones(A=>{const C=new L9;let w=0,k=0;for(;k<l.length&&w<this._lenses.length;){let D=l[k][0].symbol.range.startLineNumber,I=this._lenses[w].getLineNumber();I<D?(this._lenses[w].dispose(C,A),this._lenses.splice(w,1)):I===D?(this._lenses[w].updateCodeLensSymbols(l[k],C),k++,w++):(this._lenses.splice(w,0,new FF(l[k],this._editor,this._styleClassName,C,A,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),w++,k++)}for(;w<this._lenses.length;)this._lenses[w].dispose(C,A),this._lenses.splice(w,1);for(;k<l.length;)this._lenses.push(new FF(l[k],this._editor,this._styleClassName,C,A,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),k++;C.commit(m)})}),h.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var t;(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0;const s=this._editor.getModel();if(!s)return;const l=[],u=[];if(this._lenses.forEach(m=>{const A=m.computeIfNecessary(s);A&&(l.push(A),u.push(m))}),l.length===0)return;const h=Date.now(),f=js(m=>{const A=l.map((C,w)=>{const k=new Array(C.length),D=C.map((I,N)=>!I.symbol.command&&typeof I.provider.resolveCodeLens=="function"?Promise.resolve(I.provider.resolveCodeLens(s,I.symbol,m)).then(R=>{k[N]=R},Ms):(k[N]=I.symbol,Promise.resolve(void 0)));return Promise.all(D).then(()=>{!m.isCancellationRequested&&!u[w].isDisposed()&&u[w].updateCommands(k)})});return Promise.all(A)});this._resolveCodeLensesPromise=f,this._resolveCodeLensesPromise.then(()=>{const m=this._resolveCodeLensesDebounce.update(s,Date.now()-h);this._resolveCodeLensesScheduler.delay=m,this._currentCodeLensModel&&this._codeLensCache.put(s,this._currentCodeLensModel),this._oldCodeLensModels.clear(),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},m=>{Bt(m),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};im.ID="css.editor.codeLens";im=_Ce([Wp(1,ut),Wp(2,jl),Wp(3,es),Wp(4,is),Wp(5,hG)],im);Li(im.ID,im);$e(class extends lt{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:re.hasCodeLensProvider,label:E("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(t,s){return CCe(this,void 0,void 0,function*(){if(!s.hasModel())return;const l=t.get(Oc),u=t.get(es),h=t.get(is),f=s.getSelection().positionLineNumber,m=s.getContribution(im.ID);if(!m)return;const A=m.getModel();if(!A)return;const C=[];for(const k of A.lenses)k.symbol.command&&k.symbol.range.startLineNumber===f&&C.push({label:k.symbol.command.title,command:k.symbol.command});if(C.length===0)return;const w=yield l.pick(C,{canPickMany:!1});if(!!w){if(A.isDisposed)return yield u.executeCommand(this.id);try{yield u.executeCommand(w.command.id,...w.command.arguments||[])}catch(k){h.error(k)}}})}});function wCe(d,t,s){const l=[],h=d.ordered(t).reverse().map(f=>Promise.resolve(f.provideDocumentColors(t,s)).then(m=>{if(Array.isArray(m))for(let A of m)l.push({colorInfo:A,provider:f})}));return Promise.all(h).then(()=>l)}function BF(d,t,s,l){return Promise.resolve(s.provideColorPresentations(d,t,l))}pi.registerCommand("_executeDocumentColorProvider",function(d,...t){const[s]=t;if(!(s instanceof Lt))throw Ja();const{colorProvider:l}=d.get(ut),u=d.get(Ln).getModel(s);if(!u)throw Ja();const h=[],m=l.ordered(u).reverse().map(A=>Promise.resolve(A.provideDocumentColors(u,ti.None)).then(C=>{if(Array.isArray(C))for(let w of C)h.push({range:w.range,color:[w.color.red,w.color.green,w.color.blue,w.color.alpha]})}));return Promise.all(m).then(()=>h)});pi.registerCommand("_executeColorPresentationProvider",function(d,...t){const[s,l]=t,{uri:u,range:h}=l;if(!(u instanceof Lt)||!Array.isArray(s)||s.length!==4||!$.isIRange(h))throw Ja();const[f,m,A,C]=s,{colorProvider:w}=d.get(ut),k=d.get(Ln).getModel(u);if(!k)throw Ja();const D={range:h,color:{red:f,green:m,blue:A,alpha:C}},I=[],R=w.ordered(k).reverse().map(O=>Promise.resolve(O.provideColorPresentations(k,D,ti.None)).then(W=>{Array.isArray(W)&&I.push(...W)}));return Promise.all(R).then(()=>I)});var vCe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},D9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},kCe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const dG=Object.create({}),bCe=500;let sf=class fG extends Se{constructor(t,s,l,u){super(),this._editor=t,this._configurationService=s,this._languageFeaturesService=l,this._localToDispose=this._register(new je),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new g_(this._editor),this._colorDecorationClassRefs=this._register(new je),this._debounceInformation=u.for(l.colorProvider,"Document Colors",{min:fG.RECOMPUTE_TIME}),this._register(t.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(t.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(l.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(t.onDidChangeConfiguration(()=>{let h=this._isEnabled;this._isEnabled=this.isEnabled(),h!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const t=this._editor.getModel();if(!t)return!1;const s=t.getLanguageId(),l=this._configurationService.getValue(s);if(l&&typeof l=="object"){const u=l.colorDecorators;if(u&&u.enable!==void 0&&!u.enable)return u.enable}return this._editor.getOption(17)}static get(t){return t.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();!t||!this._languageFeaturesService.colorProvider.has(t)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Wo,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(t)))})),this.beginCompute())}beginCompute(){this._computePromise=js(t=>kCe(this,void 0,void 0,function*(){const s=this._editor.getModel();if(!s)return Promise.resolve([]);const l=new mo(!1),u=yield wCe(this._languageFeaturesService.colorProvider,s,t);return this._debounceInformation.update(s,l.elapsed()),u})),this._computePromise.then(t=>{this.updateDecorations(t),this.updateColorDecorators(t),this._computePromise=null},Bt)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(t){const s=t.map(l=>({range:{startLineNumber:l.colorInfo.range.startLineNumber,startColumn:l.colorInfo.range.startColumn,endLineNumber:l.colorInfo.range.endLineNumber,endColumn:l.colorInfo.range.endColumn},options:Qt.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,s),this._colorDatas=new Map,this._decorationsIds.forEach((l,u)=>this._colorDatas.set(l,t[u]))}updateColorDecorators(t){this._colorDecorationClassRefs.clear();let s=[];for(let l=0;l<t.length&&s.length<bCe;l++){const{red:u,green:h,blue:f,alpha:m}=t[l].colorInfo.color,A=new li(Math.round(u*255),Math.round(h*255),Math.round(f*255),m);let C=`rgba(${A.r}, ${A.g}, ${A.b}, ${A.a})`;const w=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:C}));s.push({range:{startLineNumber:t[l].colorInfo.range.startLineNumber,startColumn:t[l].colorInfo.range.startColumn,endLineNumber:t[l].colorInfo.range.endLineNumber,endColumn:t[l].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Mae,inlineClassName:`${w.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:dG}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],s))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(t){const s=this._editor.getModel();if(!s)return null;const l=s.getDecorationsInRange($.fromPositions(t,t)).filter(u=>this._colorDatas.has(u.id));return l.length===0?null:this._colorDatas.get(l[0].id)}isColorDecorationId(t){return this._colorDecoratorIds.has(t)}};sf.ID="editor.contrib.colorDetector";sf.RECOMPUTE_TIME=1e3;sf=vCe([D9(1,Yi),D9(2,ut),D9(3,jl)],sf);Li(sf.ID,sf);class SCe{constructor(t,s,l){this.presentationIndex=l,this._onColorFlushed=new he,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new he,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new he,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=s}get color(){return this._color}set color(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(t,s){for(let l=0;l<this.colorPresentations.length;l++)if(s.toLowerCase()===this.colorPresentations[l].label){this.presentationIndex=l,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const Ka=Ue;class yCe extends Se{constructor(t,s,l){super(),this.model=s,this.domNode=Ka(".colorpicker-header"),Re(t,this.domNode),this.pickedColorNode=Re(this.domNode,Ka(".picked-color"));const u=E("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",u);const h=Re(this.domNode,Ka(".original-color"));h.style.backgroundColor=ke.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=l.getColorTheme().getColor(Gd)||ke.white,this._register(rn((f,m)=>{this.backgroundColor=f.getColor(Gd)||ke.white})),this._register(ze(this.pickedColorNode,vt.CLICK,()=>this.model.selectNextColorPresentation())),this._register(ze(h,vt.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(s.onDidChangeColor(this.onDidChangeColor,this)),this._register(s.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=ke.Format.CSS.format(s.color)||"",this.pickedColorNode.classList.toggle("light",s.color.rgba.a<.5?this.backgroundColor.isLighter():s.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){this.pickedColorNode.style.backgroundColor=ke.Format.CSS.format(t)||"",this.pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Ka(".codicon.codicon-color-mode"))}}class LCe extends Se{constructor(t,s,l){super(),this.model=s,this.pixelRatio=l,this.domNode=Ka(".colorpicker-body"),Re(t,this.domNode),this.saturationBox=new DCe(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new ICe(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new xCe(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:t,v:s}){const l=this.model.color.hsva;this.model.color=new ke(new o0(l.h,t,s,l.a))}onDidOpacityChange(t){const s=this.model.color.hsva;this.model.color=new ke(new o0(s.h,s.s,s.v,t))}onDidHueChange(t){const s=this.model.color.hsva,l=(1-t)*360;this.model.color=new ke(new o0(l===360?0:l,s.s,s.v,s.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class DCe extends Se{constructor(t,s,l){super(),this.model=s,this.pixelRatio=l,this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new he,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ka(".saturation-wrap"),Re(t,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",Re(this.domNode,this.canvas),this.selection=Ka(".saturation-selection"),Re(this.domNode,this.selection),this.layout(),this._register(wI(this.domNode,u=>this.onMouseDown(u))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(t){this.monitor=this._register(new If);const s=Js(this.domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.buttons,vm,u=>this.onDidChangePosition(u.posx-s.left,u.posy-s.top),()=>null);const l=CV(document,()=>{this._onColorFlushed.fire(),l.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(t,s){const l=Math.max(0,Math.min(1,t/this.width)),u=Math.max(0,Math.min(1,1-s/this.height));this.paintSelection(l,u),this._onDidChange.fire({s:l,v:u})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const t=this.model.color.hsva;this.paintSelection(t.s,t.v)}paint(){const t=this.model.color.hsva,s=new ke(new o0(t.h,1,1,1)),l=this.canvas.getContext("2d"),u=l.createLinearGradient(0,0,this.canvas.width,0);u.addColorStop(0,"rgba(255, 255, 255, 1)"),u.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),u.addColorStop(1,"rgba(255, 255, 255, 0)");const h=l.createLinearGradient(0,0,0,this.canvas.height);h.addColorStop(0,"rgba(0, 0, 0, 0)"),h.addColorStop(1,"rgba(0, 0, 0, 1)"),l.rect(0,0,this.canvas.width,this.canvas.height),l.fillStyle=ke.Format.CSS.format(s),l.fill(),l.fillStyle=u,l.fill(),l.fillStyle=h,l.fill()}paintSelection(t,s){this.selection.style.left=`${t*this.width}px`,this.selection.style.top=`${this.height-s*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class gG extends Se{constructor(t,s){super(),this.model=s,this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new he,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Re(t,Ka(".strip")),this.overlay=Re(this.domNode,Ka(".overlay")),this.slider=Re(this.domNode,Ka(".slider")),this.slider.style.top="0px",this._register(wI(this.domNode,l=>this.onMouseDown(l))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const t=this.getValue(this.model.color);this.updateSliderPosition(t)}onMouseDown(t){const s=this._register(new If),l=Js(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),s.startMonitoring(t.target,t.buttons,vm,h=>this.onDidChangeTop(h.posy-l.top),()=>null);const u=CV(document,()=>{this._onColorFlushed.fire(),u.dispose(),s.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(t){const s=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(s),this._onDidChange.fire(s)}updateSliderPosition(t){this.slider.style.top=`${(1-t)*this.height}px`}}class ICe extends gG{constructor(t,s){super(t,s),this.domNode.classList.add("opacity-strip"),this._register(s.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){const{r:s,g:l,b:u}=t.rgba,h=new ke(new li(s,l,u,1)),f=new ke(new li(s,l,u,0));this.overlay.style.background=`linear-gradient(to bottom, ${h} 0%, ${f} 100%)`}getValue(t){return t.hsva.a}}class xCe extends gG{constructor(t,s){super(t,s),this.domNode.classList.add("hue-strip")}getValue(t){return 1-t.hsva.h/360}}class ECe extends ba{constructor(t,s,l,u){super(),this.model=s,this.pixelRatio=l,this._register(Pg.onDidChange(()=>this.layout()));const h=Ka(".colorpicker-widget");t.appendChild(h);const f=new yCe(h,this.model,u);this.body=new LCe(h,this.model,this.pixelRatio),this._register(f),this._register(this.body)}layout(){this.body.layout()}}var NCe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},TCe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},WF=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class RCe{constructor(t,s,l,u){this.owner=t,this.range=s,this.model=l,this.provider=u,this.forceShowAtRange=!0}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}let AL=class{constructor(t,s){this._editor=t,this._themeService=s,this.hoverOrdinal=1}computeSync(t,s){return[]}computeAsync(t,s,l){return Jn.fromPromise(this._computeAsync(t,s,l))}_computeAsync(t,s,l){return WF(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const u=sf.get(this._editor);if(!u)return[];for(const h of s){if(!u.isColorDecorationId(h.id))continue;const f=u.getColorData(h.range.getStartPosition());if(f)return[yield this._createColorHover(this._editor.getModel(),f.colorInfo,f.provider)]}return[]})}_createColorHover(t,s,l){return WF(this,void 0,void 0,function*(){const u=t.getValueInRange(s.range),{red:h,green:f,blue:m,alpha:A}=s.color,C=new li(Math.round(h*255),Math.round(f*255),Math.round(m*255),A),w=new ke(C),k=yield BF(t,s,l,ti.None),D=new SCe(w,[],0);return D.colorPresentations=k||[],D.guessColorPresentation(w,u),new RCe(this,$.lift(s.range),D,l)})}renderHoverParts(t,s){if(s.length===0||!this._editor.hasModel())return Se.None;const l=new je,u=s[0],h=this._editor.getModel(),f=u.model,m=l.add(new ECe(t.fragment,f,this._editor.getOption(129),this._themeService));t.setColorPicker(m);let A=new $(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn);const C=()=>{let k,D;if(f.presentation.textEdit){k=[f.presentation.textEdit],D=new $(f.presentation.textEdit.range.startLineNumber,f.presentation.textEdit.range.startColumn,f.presentation.textEdit.range.endLineNumber,f.presentation.textEdit.range.endColumn);const I=this._editor.getModel()._setTrackedRange(null,D,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",k),D=this._editor.getModel()._getTrackedRange(I)||D}else k=[{range:A,text:f.presentation.label,forceMoveMarkers:!1}],D=A.setEndPosition(A.endLineNumber,A.startColumn+f.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",k);f.presentation.additionalTextEdits&&(k=[...f.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",k),t.hide()),this._editor.pushUndoStop(),A=D},w=k=>BF(h,{range:A,color:{red:k.rgba.r/255,green:k.rgba.g/255,blue:k.rgba.b/255,alpha:k.rgba.a}},u.provider,ti.None).then(D=>{f.colorPresentations=D||[]});return l.add(f.onColorFlushed(k=>{w(k).then(C)})),l.add(f.onDidChangeColor(w)),l}};AL=NCe([TCe(1,dn)],AL);function _L(d,t){return!!d[t]}class I9{constructor(t,s){this.target=t.target,this.hasTriggerModifier=_L(t.event,s.triggerModifier),this.hasSideBySideModifier=_L(t.event,s.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}class VF{constructor(t,s){this.keyCodeIsTriggerKey=t.keyCode===s.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===s.triggerSideBySideKey,this.hasTriggerModifier=_L(t,s.triggerModifier)}}class _6{constructor(t,s,l,u){this.triggerKey=t,this.triggerModifier=s,this.triggerSideBySideKey=l,this.triggerSideBySideModifier=u}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}function HF(d){return d==="altKey"?Jt?new _6(57,"metaKey",6,"altKey"):new _6(5,"ctrlKey",6,"altKey"):Jt?new _6(6,"altKey",57,"metaKey"):new _6(6,"altKey",5,"ctrlKey")}class gE extends Se{constructor(t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new he),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new he),this.onExecute=this._onExecute.event,this._onCancel=this._register(new he),this.onCancel=this._onCancel.event,this._editor=t,this._opts=HF(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(s=>{if(s.hasChanged(70)){const l=HF(this._editor.getOption(70));if(this._opts.equals(l))return;this._opts=l,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(s=>this._onEditorMouseMove(new I9(s,this._opts)))),this._register(this._editor.onMouseDown(s=>this._onEditorMouseDown(new I9(s,this._opts)))),this._register(this._editor.onMouseUp(s=>this._onEditorMouseUp(new I9(s,this._opts)))),this._register(this._editor.onKeyDown(s=>this._onEditorKeyDown(new VF(s,this._opts)))),this._register(this._editor.onKeyUp(s=>this._onEditorKeyUp(new VF(s,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(s=>this._onDidChangeCursorSelection(s))),this._register(this._editor.onDidChangeModel(s=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(s=>{(s.scrollTopChanged||s.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}_onEditorMouseUp(t){const s=t.target.position?t.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===s&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var MCe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},K0=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let rf=class extends p4{constructor(t,s,l,u,h,f,m,A,C,w,k,D){super(t,Object.assign(Object.assign({},l.getRawOptions()),{overflowWidgetsDomNode:l.getOverflowWidgetsDomNode()}),{},u,h,f,m,A,C,w,k,D),this._parentEditor=l,this._overwriteOptions=s,super.updateOptions(this._overwriteOptions),this._register(l.onDidChangeConfiguration(I=>this._onParentConfigurationChanged(I)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(t){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(t){S0(this._overwriteOptions,t,!0),super.updateOptions(this._overwriteOptions)}};rf=MCe([K0(3,ii),K0(4,Mi),K0(5,es),K0(6,Mt),K0(7,dn),K0(8,is),K0(9,Vo),K0(10,vr),K0(11,ut)],rf);const UF=new ke(new li(0,122,204)),PCe={showArrow:!0,showFrame:!0,className:"",frameColor:UF,arrowColor:UF,keepEditorSelection:!1},OCe="vs.editor.contrib.zoneWidget";class FCe{constructor(t,s,l,u,h,f){this.id="",this.domNode=t,this.afterLineNumber=s,this.afterColumn=l,this.heightInLines=u,this._onDomNodeTop=h,this._onComputedHeight=f}onDomNodeTop(t){this._onDomNodeTop(t)}onComputedHeight(t){this._onComputedHeight(t)}}class BCe{constructor(t,s){this._id=t,this._domNode=s}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Bv{constructor(t){this._editor=t,this._ruleName=Bv._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),KM(this._ruleName)}set color(t){this._color!==t&&(this._color=t,this._updateStyle())}set height(t){this._height!==t&&(this._height=t,this._updateStyle())}_updateStyle(){KM(this._ruleName),Dy(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(t){t.column===1&&(t={lineNumber:t.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:$.fromPositions(t),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}Bv._IdGenerator=new Ix(".arrow-decoration-");class WCe{constructor(t,s={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new je,this.container=null,this._isShowing=!1,this.editor=t,this.options=oc(s),S0(this.options,PCe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const u=this._getWidth(l);this.domNode.style.width=u+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(u)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Bv(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){let t=this.options.arrowColor.toString();this._arrow.color=t}}_getWidth(t){return t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}_getLeft(t){return t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?t.minimap.minimapWidth:0}_onViewZoneTop(t){this.domNode.style.top=t+"px"}_onViewZoneHeight(t){if(this.domNode.style.height=`${t}px`,this.container){let s=t-this._decoratingElementsHeight();this.container.style.height=`${s}px`;const l=this.editor.getLayoutInfo();this._doLayout(s,this._getWidth(l))}this._resizeSash&&this._resizeSash.layout()}get position(){const[t]=this._positionMarkerId;if(!t)return;const s=this.editor.getModel();if(!s)return;const l=s.getDecorationRange(t);if(!!l)return l.getStartPosition()}show(t,s){const l=$.isIRange(t)?$.lift(t):$.fromPositions(t);this._isShowing=!0,this._showImpl(l,s),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:l,options:Qt.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let t=this.editor.getOption(59),s=0;if(this.options.showArrow){let l=Math.round(t/3);s+=2*l}if(this.options.showFrame){let l=Math.round(t/9);s+=2*l}return s}_showImpl(t,s){const l=t.getStartPosition(),u=this.editor.getLayoutInfo(),h=this._getWidth(u);this.domNode.style.width=`${h}px`,this.domNode.style.left=this._getLeft(u)+"px";const f=document.createElement("div");f.style.overflow="hidden";const m=this.editor.getOption(59),A=Math.max(12,this.editor.getLayoutInfo().height/m*.8);s=Math.min(s,A);let C=0,w=0;if(this._arrow&&this.options.showArrow&&(C=Math.round(m/3),this._arrow.height=C,this._arrow.show(l)),this.options.showFrame&&(w=Math.round(m/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new FCe(f,l.lineNumber,l.column,s,N=>this._onViewZoneTop(N),N=>this._onViewZoneHeight(N)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new BCe(OCe+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:w;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}let k=s*m-this._decoratingElementsHeight();this.container&&(this.container.style.top=C+"px",this.container.style.height=k+"px",this.container.style.overflow="hidden"),this._doLayout(k,h),this.options.keepEditorSelection||this.editor.setSelection(t);const D=this.editor.getModel();if(D){const I=t.endLineNumber+1;I<=D.getLineCount()?this.revealLine(I,!1):this.revealLine(D.getLineCount(),!0)}}revealLine(t,s){s?this.editor.revealLineInCenter(t,0):this.editor.revealLine(t,0)}setCssClass(t,s){!this.container||(s&&this.container.classList.remove(s),this.container.classList.add(t))}_onWidth(t){}_doLayout(t,s){}_relayout(t){this._viewZone&&this._viewZone.heightInLines!==t&&this.editor.changeViewZones(s=>{this._viewZone&&(this._viewZone.heightInLines=t,s.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new mr(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let t;this._disposables.add(this._resizeSash.onDidStart(s=>{this._viewZone&&(t={startY:s.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{t=void 0})),this._disposables.add(this._resizeSash.onDidChange(s=>{if(t){let l=(s.currentY-t.startY)/this.editor.getOption(59),u=l<0?Math.ceil(l):Math.floor(l),h=t.heightInLines+u;h>5&&h<35&&this._relayout(h)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const t=this.editor.getLayoutInfo();return t.width-t.minimap.minimapWidth}}class VCe extends Wg{constructor(t,s){super(),this._onDidChangeVisibility=this._register(new he),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Re(t,Ue(".monaco-dropdown")),this._label=Re(this._element,Ue(".dropdown-label"));let l=s.labelRenderer;l||(l=h=>(h.textContent=s.label||"",null));for(const h of[vt.CLICK,vt.MOUSE_DOWN,nn.Tap])this._register(ze(this.element,h,f=>Ri.stop(f,!0)));for(const h of[vt.MOUSE_DOWN,nn.Tap])this._register(ze(this._label,h,f=>{f instanceof MouseEvent&&f.detail>1||(this.visible?this.hide():this.show())}));this._register(ze(this._label,vt.KEY_UP,h=>{const f=new hn(h);(f.equals(3)||f.equals(10))&&(Ri.stop(h,!0),this.visible?this.hide():this.show())}));const u=l(this._label);u&&this._register(u),this._register(Wi.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class HCe extends VCe{constructor(t,s){super(t,s),this._actions=[],this._contextMenuProvider=s.contextMenuProvider,this.actions=s.actions||[],this.actionProvider=s.actionProvider,this.menuClassName=s.menuClassName||"",this.menuAsChild=!!s.menuAsChild}set menuOptions(t){this._menuOptions=t}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(t){this._actions=t}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:t=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(t):void 0,getKeyBinding:t=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(t):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class mG extends $2{constructor(t,s,l,u=Object.create(null)){super(null,t,u),this.actionItem=null,this._onDidChangeVisibility=this._register(new he),this.menuActionsOrProvider=s,this.contextMenuProvider=l,this.options=u,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(t){this.actionItem=t;const s=h=>{this.element=Re(h,Ue("a.action-label"));let f=[];return typeof this.options.classNames=="string"?f=this.options.classNames.split(/\s+/g).filter(m=>!!m):this.options.classNames&&(f=this.options.classNames),f.find(m=>m==="icon")||f.push("codicon"),this.element.classList.add(...f),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},l=Array.isArray(this.menuActionsOrProvider),u={contextMenuProvider:this.contextMenuProvider,labelRenderer:s,menuAsChild:this.options.menuAsChild,actions:l?this.menuActionsOrProvider:void 0,actionProvider:l?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new HCe(t,u)),this._register(this.dropdownMenu.onDidChangeVisibility(h=>{var f;(f=this.element)===null||f===void 0||f.setAttribute("aria-expanded",`${h}`),this._onDidChangeVisibility.fire(h)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const h=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return h.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(t){super.setActionContext(t),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=t:this.dropdownMenu.menuOptions={context:t})}updateEnabled(){var t,s;const l=!this.getAction().enabled;(t=this.actionItem)===null||t===void 0||t.classList.toggle("disabled",l),(s=this.element)===null||s===void 0||s.classList.toggle("disabled",l)}}var mE=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},K2=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},pG=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function UCe(d,t,s,l,u,h,f){const m=d.getActions(t);return GCe(m,s,!1,typeof l=="string"?C=>C===l:l,u,h,f),zCe(m)}function zCe(d){const t=new je;for(const[,s]of d)for(const l of s)t.add(l);return t}function GCe(d,t,s,l=m=>m==="navigation",u=Number.MAX_SAFE_INTEGER,h=()=>!1,f=!1){let m,A;Array.isArray(t)?(m=t,A=t):(m=t.primary,A=t.secondary);const C=new Set;for(const[w,k]of d){let D;l(w)?(D=m,D.length>0&&f&&D.push(new Ml)):(D=A,D.length>0&&D.push(new Ml));for(let I of k){s&&(I=I instanceof Qu&&I.alt?I.alt:I);const N=D.push(I);I instanceof Pw&&C.add({group:w,action:I,index:N-1})}}for(const{group:w,action:k,index:D}of C){const I=l(w)?m:A,N=k.actions;(N.length<=1||I.length+N.length-2<=u)&&h(k,w,I.length)&&I.splice(D,1,...N)}if(m!==A&&m.length>u){const w=m.splice(u,m.length-u);A.unshift(...w,new Ml)}}let nm=class extends A4{constructor(t,s,l,u,h){super(void 0,t,{icon:!!(t.class||t.item.icon),label:!t.class&&!t.item.icon,draggable:s?.draggable}),this._keybindingService=l,this._notificationService=u,this._contextKeyService=h,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Yr),this._altKey=gd.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(t){return pG(this,void 0,void 0,function*(){t.preventDefault(),t.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(s){this._notificationService.error(s)}})}render(t){super.render(t),t.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let s=!1,l=this._altKey.keyStatus.altKey||(Gs||Cr)&&this._altKey.keyStatus.shiftKey;const u=()=>{const h=s&&l;h!==this._wantsAltCommand&&(this._wantsAltCommand=h,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(h=>{l=h.altKey||(Gs||Cr)&&h.shiftKey,u()})),this._register(ze(t,"mouseleave",h=>{s=!1,u()})),this._register(ze(t,"mouseenter",h=>{s=!0,u()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),s=t&&t.getLabel(),l=this._commandAction.tooltip||this._commandAction.label;let u=s?E("titleAndKb","{0} ({1})",l,s):l;if(!this._wantsAltCommand&&this._menuItemAction.alt){const h=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,f=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),m=f&&f.getLabel(),A=m?E("titleAndKb","{0} ({1})",h,m):h;u+=`
[${fx.modifierLabels[yl].altKey}] ${A}`}this.label.title=u}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(t){var s;this._itemClassDispose.value=void 0;const{element:l,label:u}=this;if(!l||!u)return;const h=this._commandAction.checked&&((s=t.toggled)===null||s===void 0?void 0:s.icon)?t.toggled.icon:t.icon;if(!!h)if(Qi.isThemeIcon(h)){const f=Qi.asClassNameArray(h);u.classList.add(...f),this._itemClassDispose.value=$t(()=>{u.classList.remove(...f)})}else h.light&&u.style.setProperty("--menu-entry-icon-light",Ud(h.light)),h.dark&&u.style.setProperty("--menu-entry-icon-dark",Ud(h.dark)),u.classList.add("icon"),this._itemClassDispose.value=$t(()=>{u.classList.remove("icon"),u.style.removeProperty("--menu-entry-icon-light"),u.style.removeProperty("--menu-entry-icon-dark")})}};nm=mE([K2(2,Hn),K2(3,is),K2(4,Mt)],nm);let CL=class extends mG{constructor(t,s,l){var u,h;const f=Object.assign({},s??Object.create(null),{menuAsChild:(u=s?.menuAsChild)!==null&&u!==void 0?u:!1,classNames:(h=s?.classNames)!==null&&h!==void 0?h:Qi.isThemeIcon(t.item.icon)?Qi.asClassName(t.item.icon):void 0});super(t,{getActions:()=>t.actions},l,f)}render(t){if(super.render(t),this.element){t.classList.add("menu-entry");const{icon:s}=this._action.item;s&&!Qi.isThemeIcon(s)&&(this.element.classList.add("icon"),s.light&&this.element.style.setProperty("--menu-entry-icon-light",Ud(s.light)),s.dark&&this.element.style.setProperty("--menu-entry-icon-dark",Ud(s.dark)))}}};CL=mE([K2(2,uh)],CL);let wL=class extends $2{constructor(t,s,l,u,h,f,m,A){var C,w,k;super(null,t),this._keybindingService=l,this._notificationService=u,this._contextMenuService=h,this._menuService=f,this._instaService=m,this._storageService=A,this._container=null,this._storageKey=`${t.item.submenu._debugName}_lastActionId`;let D,I=A.get(this._storageKey,1);I&&(D=t.actions.find(R=>I===R.id)),D||(D=t.actions[0]),this._defaultAction=this._instaService.createInstance(nm,D,void 0);const N=Object.assign({},s??Object.create(null),{menuAsChild:(C=s?.menuAsChild)!==null&&C!==void 0?C:!0,classNames:(w=s?.classNames)!==null&&w!==void 0?w:["codicon","codicon-chevron-down"],actionRunner:(k=s?.actionRunner)!==null&&k!==void 0?k:new Wg});this._dropdown=new mG(t,t.actions,this._contextMenuService,N),this._dropdown.actionRunner.onDidRun(R=>{R.action instanceof Qu&&this.update(R.action)})}update(t){this._storageService.store(this._storageKey,t.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(nm,t,void 0),this._defaultAction.actionRunner=new class extends Wg{runAction(s,l){return pG(this,void 0,void 0,function*(){yield s.run(void 0)})}},this._container&&this._defaultAction.render(cce(this._container,Ue(".action-container")))}setActionContext(t){super.setActionContext(t),this._defaultAction.setActionContext(t),this._dropdown.setActionContext(t)}render(t){this._container=t,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const s=Ue(".action-container");this._defaultAction.render(Re(this._container,s)),this._register(ze(s,vt.KEY_DOWN,u=>{const h=new hn(u);h.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),h.stopPropagation())}));const l=Ue(".dropdown-action-container");this._dropdown.render(Re(this._container,l)),this._register(ze(l,vt.KEY_DOWN,u=>{var h;const f=new hn(u);f.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(h=this._defaultAction.element)===null||h===void 0||h.focus(),f.stopPropagation())}))}focus(t){t?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(t){t?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};wL=mE([K2(2,Hn),K2(3,is),K2(4,uh),K2(5,Df),K2(6,ii),K2(7,N0)],wL);function jCe(d,t,s){return t instanceof Qu?d.createInstance(nm,t,void 0):t instanceof II?t.item.rememberDefaultAction?d.createInstance(wL,t,s):d.createInstance(CL,t,s):void 0}var AG=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},_G=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const CG=hi("IPeekViewService");Ci(CG,class{constructor(){this._widgets=new Map}addExclusiveWidget(d,t){const s=this._widgets.get(d);s&&(s.listener.dispose(),s.widget.dispose());const l=()=>{const u=this._widgets.get(d);u&&u.widget===t&&(u.listener.dispose(),this._widgets.delete(d))};this._widgets.set(d,{widget:t,listener:t.onDidClose(l)})}});var po;(function(d){d.inPeekEditor=new rt("inReferenceSearchEditor",!0,E("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),d.notInPeekEditor=d.inPeekEditor.toNegated()})(po||(po={}));let P4=class{constructor(t,s){t instanceof rf&&po.inPeekEditor.bindTo(s)}dispose(){}};P4.ID="editor.contrib.referenceController";P4=AG([_G(1,Mt)],P4);Li(P4.ID,P4);function ZCe(d){let t=d.get(Mi).getFocusedCodeEditor();return t instanceof rf?t.getParentEditor():t}const QCe={headerBackgroundColor:ke.white,primaryHeadingColor:ke.fromHex("#333333"),secondaryHeadingColor:ke.fromHex("#6c6c6cb3")};let iw=class extends WCe{constructor(t,s,l){super(t,s),this.instantiationService=l,this._onDidClose=new he,this.onDidClose=this._onDidClose.event,S0(this.options,QCe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(t){let s=this.options;t.headerBackgroundColor&&(s.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(s.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(s.secondaryHeadingColor=t.secondaryHeadingColor),super.style(t)}_applyStyles(){super._applyStyles();let t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}_fillContainer(t){this.setCssClass("peekview-widget"),this._headElement=Ue(".head"),this._bodyElement=Ue(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}_fillHead(t,s){const l=Ue(".peekview-title");this.options.supportOnTitleClick&&(l.classList.add("clickable"),zs(l,"click",f=>this._onTitleClick(f))),Re(this._headElement,l),this._fillTitleIcon(l),this._primaryHeading=Ue("span.filename"),this._secondaryHeading=Ue("span.dirname"),this._metaHeading=Ue("span.meta"),Re(l,this._primaryHeading,this._secondaryHeading,this._metaHeading);const u=Ue(".peekview-actions");Re(this._headElement,u);const h=this._getActionBarOptions();this._actionbarWidget=new w0(u,h),this._disposables.add(this._actionbarWidget),s||this._actionbarWidget.push(new Po("peekview.close",E("label.close","Close"),T.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(t){}_getActionBarOptions(){return{actionViewItemProvider:jCe.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(t){}setTitle(t,s){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),s?this._secondaryHeading.innerText=s:vs(this._secondaryHeading))}setMetaTitle(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,nl(this._metaHeading)):uo(this._metaHeading))}_doLayout(t,s){if(!this._isShowing&&t<0){this.dispose();return}const l=Math.ceil(this.editor.getOption(59)*1.2),u=Math.round(t-(l+2));this._doLayoutHead(l,s),this._doLayoutBody(u,s)}_doLayoutHead(t,s){this._headElement&&(this._headElement.style.height=`${t}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(t,s){this._bodyElement&&(this._bodyElement.style.height=`${t}px`)}};iw=AG([_G(2,ii)],iw);const YCe=oe("peekViewTitle.background",{dark:Tt(hl,.1),light:Tt(hl,.1),hc:null},E("peekViewTitleBackground","Background color of the peek view title area.")),wG=oe("peekViewTitleLabel.foreground",{dark:ke.white,light:ke.black,hc:ke.white},E("peekViewTitleForeground","Color of the peek view title.")),vG=oe("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},E("peekViewTitleInfoForeground","Color of the peek view title info.")),$Ce=oe("peekView.border",{dark:hl,light:hl,hc:An},E("peekViewBorder","Color of the peek view borders and arrow.")),KCe=oe("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:ke.black},E("peekViewResultsBackground","Background color of the peek view result list."));oe("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:ke.white},E("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));oe("peekViewResult.fileForeground",{dark:ke.white,light:"#1E1E1E",hc:ke.white},E("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));oe("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},E("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));oe("peekViewResult.selectionForeground",{dark:ke.white,light:"#6C6C6C",hc:ke.white},E("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const x9=oe("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:ke.black},E("peekViewEditorBackground","Background color of the peek view editor."));oe("peekViewEditorGutter.background",{dark:x9,light:x9,hc:x9},E("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));oe("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},E("peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));oe("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},E("peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));oe("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Fr},E("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var XCe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class ih{constructor(t,s,l,u){this.isProviderFirst=t,this.parent=s,this.link=l,this._rangeCallback=u,this.id=HU.nextId()}get uri(){return this.link.uri}get range(){var t,s;return(s=(t=this._range)!==null&&t!==void 0?t:this.link.targetSelectionRange)!==null&&s!==void 0?s:this.link.range}set range(t){this._range=t,this._rangeCallback(this)}get ariaMessage(){var t;const s=(t=this.parent.getPreview(this))===null||t===void 0?void 0:t.preview(this.range);return s?E({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Ul(this.uri),this.range.startLineNumber,this.range.startColumn,s.value):E("aria.oneReference","symbol in {0} on line {1} at column {2}",Ul(this.uri),this.range.startLineNumber,this.range.startColumn)}}class JCe{constructor(t){this._modelReference=t}dispose(){this._modelReference.dispose()}preview(t,s=8){const l=this._modelReference.object.textEditorModel;if(!l)return;const{startLineNumber:u,startColumn:h,endLineNumber:f,endColumn:m}=t,A=l.getWordUntilPosition({lineNumber:u,column:h-s}),C=new $(u,A.startColumn,u,h),w=new $(f,m,f,1073741824),k=l.getValueInRange(C).replace(/^\s+/,""),D=l.getValueInRange(t),I=l.getValueInRange(w).replace(/\s+$/,"");return{value:k+D+I,highlight:{start:k.length,end:k.length+D.length}}}}class O4{constructor(t,s){this.parent=t,this.uri=s,this.children=[],this._previews=new jr}dispose(){mi(this._previews.values()),this._previews.clear()}getPreview(t){return this._previews.get(t.uri)}get ariaMessage(){const t=this.children.length;return t===1?E("aria.fileReferences.1","1 symbol in {0}, full path {1}",Ul(this.uri),this.uri.fsPath):E("aria.fileReferences.N","{0} symbols in {1}, full path {2}",t,Ul(this.uri),this.uri.fsPath)}resolve(t){return XCe(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let s of this.children)if(!this._previews.has(s.uri))try{const l=yield t.createModelReference(s.uri);this._previews.set(s.uri,new JCe(l))}catch(l){Bt(l)}return this})}}class Oo{constructor(t,s){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new he,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=s;const[l]=t;t.sort(Oo._compareReferences);let u;for(let h of t)if((!u||!sn.isEqual(u.uri,h.uri,!0))&&(u=new O4(this,h.uri),this.groups.push(u)),u.children.length===0||Oo._compareReferences(h,u.children[u.children.length-1])!==0){const f=new ih(l===h,u,h,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(f),u.children.push(f)}}dispose(){mi(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Oo(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?E("aria.result.0","No results found"):this.references.length===1?E("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?E("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):E("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(t,s){let{parent:l}=t,u=l.children.indexOf(t),h=l.children.length,f=l.parent.groups.length;return f===1||s&&u+1<h||!s&&u>0?(s?u=(u+1)%h:u=(u+h-1)%h,l.children[u]):(u=l.parent.groups.indexOf(l),s?(u=(u+1)%f,l.parent.groups[u].children[0]):(u=(u+f-1)%f,l.parent.groups[u].children[l.parent.groups[u].children.length-1]))}nearestReference(t,s){const l=this.references.map((u,h)=>({idx:h,prefixLen:Mg(u.uri.toString(),t.toString()),offsetDist:Math.abs(u.range.startLineNumber-s.lineNumber)*100+Math.abs(u.range.startColumn-s.column)})).sort((u,h)=>u.prefixLen>h.prefixLen?-1:u.prefixLen<h.prefixLen?1:u.offsetDist<h.offsetDist?-1:u.offsetDist>h.offsetDist?1:0)[0];if(l)return this.references[l.idx]}referenceAt(t,s){for(const l of this.references)if(l.uri.toString()===t.toString()&&$.containsPosition(l.range,s))return l}firstReference(){for(const t of this.references)if(t.isProviderFirst)return t;return this.references[0]}static _compareReferences(t,s){return sn.compare(t.uri,s.uri)||$.compareRangesUsingStarts(t.range,s.range)}}function kG(d){if(!d)return;typeof d=="string"&&(d=Lt.file(d));const t=Ul(d)||(d.scheme===zt.file?d.fsPath:d.path);return Gs&&V1e(t)?vL(t):t}function vL(d,t){return zH(d,t)?d.charAt(0).toUpperCase()+d.slice(1):d}var Wv=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},F4=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let kL=class{constructor(t){this._resolverService=t}hasChildren(t){return t instanceof Oo||t instanceof O4}getChildren(t){if(t instanceof Oo)return t.groups;if(t instanceof O4)return t.resolve(this._resolverService).then(s=>s.children);throw new Error("bad tree")}};kL=Wv([F4(0,Ao)],kL);class qCe{getHeight(){return 23}getTemplateId(t){return t instanceof O4?B4.id:N_.id}}let bL=class{constructor(t){this._keybindingService=t}getKeyboardNavigationLabel(t){var s;if(t instanceof ih){const l=(s=t.parent.getPreview(t))===null||s===void 0?void 0:s.preview(t.range);if(l)return l.value}return Ul(t.uri)}};bL=Wv([F4(0,Hn)],bL);class ewe{getId(t){return t instanceof ih?t.id:t.uri}}let SL=class extends Se{constructor(t,s,l){super(),this._uriLabel=s;const u=document.createElement("div");u.classList.add("reference-file"),this.file=this._register(new GC(u,{supportHighlights:!0})),this.badge=new E7(Re(u,Ue(".count"))),this._register(iAe(this.badge,l)),t.appendChild(u)}set(t,s){let l=sv(t.uri);this.file.setLabel(kG(t.uri),this._uriLabel.getUriLabel(l,{relative:!0}),{title:this._uriLabel.getUriLabel(t.uri),matches:s});const u=t.children.length;this.badge.setCount(u),u>1?this.badge.setTitleFormat(E("referencesCount","{0} references",u)):this.badge.setTitleFormat(E("referenceCount","{0} reference",u))}};SL=Wv([F4(1,k_),F4(2,dn)],SL);let B4=class bG{constructor(t){this._instantiationService=t,this.templateId=bG.id}renderTemplate(t){return this._instantiationService.createInstance(SL,t)}renderElement(t,s,l){l.set(t.element,dv(t.filterData))}disposeTemplate(t){t.dispose()}};B4.id="FileReferencesRenderer";B4=Wv([F4(0,ii)],B4);class twe{constructor(t){this.label=new Jd(t)}set(t,s){var l;const u=(l=t.parent.getPreview(t))===null||l===void 0?void 0:l.preview(t.range);if(!u||!u.value)this.label.set(`${Ul(t.uri)}:${t.range.startLineNumber+1}:${t.range.startColumn+1}`);else{const{value:h,highlight:f}=u;s&&!qa.isDefault(s)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(h,dv(s))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(h,[f]))}}}class N_{constructor(){this.templateId=N_.id}renderTemplate(t){return new twe(t)}renderElement(t,s,l){l.set(t.element,t.filterData)}disposeTemplate(){}}N_.id="OneReferenceRenderer";class iwe{getWidgetAriaLabel(){return E("treeAriaLabel","References")}getAriaLabel(t){return t.ariaMessage}}var nwe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},X0=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},zF=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class Vv{constructor(t,s){this._editor=t,this._model=s,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new je,this._callOnModelChange=new je,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const t=this._editor.getModel();if(!!t){for(let s of this._model.references)if(s.uri.toString()===t.uri.toString()){this._addDecorations(s.parent);return}}}_addDecorations(t){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const s=[],l=[];for(let h=0,f=t.children.length;h<f;h++){let m=t.children[h];this._decorationIgnoreSet.has(m.id)||m.uri.toString()===this._editor.getModel().uri.toString()&&(s.push({range:m.range,options:Vv.DecorationOptions}),l.push(h))}const u=this._editor.deltaDecorations([],s);for(let h=0;h<u.length;h++)this._decorations.set(u[h],t.children[l[h]])}_onDecorationChanged(){const t=[],s=this._editor.getModel();if(!!s){for(let[l,u]of this._decorations){const h=s.getDecorationRange(l);if(!h)continue;let f=!1;if(!$.equalsRange(h,u.range)){if($.spansMultipleLines(h))f=!0;else{const m=u.range.endColumn-u.range.startColumn,A=h.endColumn-h.startColumn;m!==A&&(f=!0)}f?(this._decorationIgnoreSet.add(u.id),t.push(l)):u.range=h}}for(let l=0,u=t.length;l<u;l++)this._decorations.delete(t[l]);this._editor.deltaDecorations(t,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Vv.DecorationOptions=Qt.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class swe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(t){let s,l;try{const u=JSON.parse(t);s=u.ratio,l=u.heightInLines}catch{}return{ratio:s||.7,heightInLines:l||18}}}class rwe extends z7{}let yL=class extends iw{constructor(t,s,l,u,h,f,m,A,C,w,k,D){super(t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},f),this._defaultTreeKeyboardSupport=s,this.layoutData=l,this._textModelResolverService=h,this._instantiationService=f,this._peekViewService=m,this._uriLabel=A,this._undoRedoService=C,this._keybindingService=w,this._languageService=k,this._languageConfigurationService=D,this._disposeOnNewModel=new je,this._callOnDispose=new je,this._onDidSelectReference=new he,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ji(0,0),this._applyTheme(u.getColorTheme()),this._callOnDispose.add(u.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(t,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),mi(this._preview),mi(this._previewNotAvailableMessage),mi(this._tree),mi(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(t){const s=t.getColor($Ce)||ke.transparent;this.style({arrowColor:s,frameColor:s,headerBackgroundColor:t.getColor(YCe)||ke.transparent,primaryHeadingColor:t.getColor(wG),secondaryHeadingColor:t.getColor(vG)})}show(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),super.show(t,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}_fillBody(t){this.setCssClass("reference-zone-widget"),this._messageContainer=Re(t,Ue("div.messages")),uo(this._messageContainer),this._splitView=new tz(t,{orientation:1}),this._previewContainer=Re(t,Ue("div.preview.inline"));let s={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(rf,this._previewContainer,s,this.editor),uo(this._previewContainer),this._previewNotAvailableMessage=new Ec(E("missingPreviewMessage","no preview available"),I0,Ec.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=Re(t,Ue("div.ref-tree.inline"));const l={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new iwe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(bL),identityProvider:new ewe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:KCe}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(zs(this._treeContainer,"keydown",h=>{h.equals(9)&&(this._keybindingService.dispatchEvent(h,h.target),h.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(rwe,"ReferencesWidget",this._treeContainer,new qCe,[this._instantiationService.createInstance(B4),this._instantiationService.createInstance(N_)],this._instantiationService.createInstance(kL),l),this._splitView.addView({onDidChange:ft.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:h=>{this._preview.layout({height:this._dim.height,width:h})}},ZC.Distribute),this._splitView.addView({onDidChange:ft.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:h=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${h}px`,this._tree.layout(this._dim.height,h)}},ZC.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let u=(h,f)=>{h instanceof ih&&(f==="show"&&this._revealReference(h,!1),this._onDidSelectReference.fire({element:h,kind:f,source:"tree"}))};this._tree.onDidOpen(h=>{h.sideBySide?u(h.element,"side"):h.editorOptions.pinned?u(h.element,"goto"):u(h.element,"show")}),uo(this._treeContainer)}_onWidth(t){this._dim&&this._doLayoutBody(this._dim.height,t)}_doLayoutBody(t,s){super._doLayoutBody(t,s),this._dim=new ji(s,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(s),this._splitView.resizeView(0,s*this.layoutData.ratio)}setSelection(t){return this._revealReference(t,!0).then(()=>{!this._model||(this._tree.setSelection([t]),this._tree.setFocus([t]))})}setModel(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=E("noResults","No results"),nl(this._messageContainer),Promise.resolve(void 0)):(uo(this._messageContainer),this._decorationsManager=new Vv(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(t=>this._tree.rerender(t))),this._disposeOnNewModel.add(this._preview.onMouseDown(t=>{const{event:s,target:l}=t;if(s.detail!==2)return;const u=this._getFocusedReference();!u||this._onDidSelectReference.fire({element:{uri:u.uri,range:l.range},kind:s.ctrlKey||s.metaKey||s.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),nl(this._treeContainer),nl(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[t]=this._tree.getFocus();if(t instanceof ih)return t;if(t instanceof O4&&t.children.length>0)return t.children[0]}revealReference(t){return zF(this,void 0,void 0,function*(){yield this._revealReference(t,!1),this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})}_revealReference(t,s){return zF(this,void 0,void 0,function*(){if(this._revealedReference===t)return;this._revealedReference=t,t.uri.scheme!==zt.inMemory?this.setTitle(H1e(t.uri),this._uriLabel.getUriLabel(sv(t.uri))):this.setTitle(E("peekView.alternateTitle","References"));const l=this._textModelResolverService.createModelReference(t.uri);this._tree.getInput()===t.parent?this._tree.reveal(t):(s&&this._tree.reveal(t.parent),yield this._tree.expand(t.parent),this._tree.reveal(t));const u=yield l;if(!this._model){u.dispose();return}mi(this._previewModelReference);const h=u.object;if(h){const f=this._preview.getModel()===h.textEditorModel?0:1,m=$.lift(t.range).collapseToStart();this._previewModelReference=u,this._preview.setModel(h.textEditorModel),this._preview.setSelection(m),this._preview.revealRangeInCenter(m,f)}else this._preview.setModel(this._previewNotAvailableMessage),u.dispose()})}};yL=nwe([X0(3,dn),X0(4,Ao),X0(5,ii),X0(6,CG),X0(7,k_),X0(8,rv),X0(9,Hn),X0(10,yn),X0(11,vr)],yL);var owe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},I1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},GF=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const Wf=new rt("referenceSearchVisible",!1,E("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let nh=class LL{constructor(t,s,l,u,h,f,m,A){this._defaultTreeKeyboardSupport=t,this._editor=s,this._editorService=u,this._notificationService=h,this._instantiationService=f,this._storageService=m,this._configurationService=A,this._disposables=new je,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Wf.bindTo(l)}static get(t){return t.getContribution(LL.ID)}dispose(){var t,s;this._referenceSearchVisible.reset(),this._disposables.dispose(),(t=this._widget)===null||t===void 0||t.dispose(),(s=this._model)===null||s===void 0||s.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(t,s,l){let u;if(this._widget&&(u=this._widget.position),this.closeWidget(),!!u&&t.containsPosition(u))return;this._peekMode=l,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const h="peekViewLayout",f=swe.fromJSON(this._storageService.get(h,0,"{}"));this._widget=this._instantiationService.createInstance(yL,this._editor,this._defaultTreeKeyboardSupport,f),this._widget.setTitle(E("labelLoading","Loading...")),this._widget.show(t),this._disposables.add(this._widget.onDidClose(()=>{s.cancel(),this._widget&&(this._storageService.store(h,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(A=>{let{element:C,kind:w}=A;if(!!C)switch(w){case"open":(A.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(C,!1,!1);break;case"side":this.openReference(C,!0,!1);break;case"goto":l?this._gotoReference(C):this.openReference(C,!1,!0);break}}));const m=++this._requestIdPool;s.then(A=>{var C;if(m!==this._requestIdPool||!this._widget){A.dispose();return}return(C=this._model)===null||C===void 0||C.dispose(),this._model=A,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(E("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let w=this._editor.getModel().uri,k=new me(t.startLineNumber,t.startColumn),D=this._model.nearestReference(w,k);if(D)return this._widget.setSelection(D).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},A=>{this._notificationService.error(A)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(t){return GF(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const s=this._widget.position;if(!s)return;const l=this._model.nearestReference(this._editor.getModel().uri,s);if(!l)return;const u=this._model.nextOrPreviousReference(l,t),h=this._editor.hasTextFocus(),f=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(u),yield this._gotoReference(u),h?this._editor.focus():this._widget&&f&&this._widget.focusOnPreviewEditor()})}revealReference(t){return GF(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(t))})}closeWidget(t=!0){var s,l;(s=this._widget)===null||s===void 0||s.dispose(),(l=this._model)===null||l===void 0||l.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,t&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const s=$.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:s,selectionSource:"code.jump"}},this._editor).then(l=>{var u;if(this._ignoreModelChangeEvent=!1,!l||!this._widget){this.closeWidget();return}if(this._editor===l)this._widget.show(s),this._widget.focusOnReferenceTree();else{const h=LL.get(l),f=this._model.clone();this.closeWidget(),l.focus(),h?.toggleWidget(s,js(m=>Promise.resolve(f)),(u=this._peekMode)!==null&&u!==void 0?u:!1)}},l=>{this._ignoreModelChangeEvent=!1,Bt(l)})}openReference(t,s,l){s||this.closeWidget();const{uri:u,range:h}=t;this._editorService.openCodeEditor({resource:u,options:{selection:h,selectionSource:"code.jump",pinned:l}},this._editor,s)}};nh.ID="editor.contrib.referencesController";nh=owe([I1(2,Mt),I1(3,Mi),I1(4,is),I1(5,ii),I1(6,N0),I1(7,Yi)],nh);function Vf(d,t){const s=ZCe(d);if(!s)return;const l=nh.get(s);l&&t(l)}$r.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Ps(2089,60),when:it.or(Wf,po.inPeekEditor),handler(d){Vf(d,t=>{t.changeFocusBetweenPreviewAndReferences()})}});$r.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:it.or(Wf,po.inPeekEditor),handler(d){Vf(d,t=>{t.goToNextOrPreviousReference(!0)})}});$r.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:it.or(Wf,po.inPeekEditor),handler(d){Vf(d,t=>{t.goToNextOrPreviousReference(!1)})}});pi.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");pi.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");pi.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");pi.registerCommand("closeReferenceSearch",d=>Vf(d,t=>t.closeWidget()));$r.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:it.and(po.inPeekEditor,it.not("config.editor.stablePeek"))});$r.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:it.and(Wf,it.not("config.editor.stablePeek"))});$r.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:it.and(Wf,uz,zx.negate(),Gx.negate()),handler(d){var t;const l=(t=d.get(Ql).lastFocusedList)===null||t===void 0?void 0:t.getFocus();Array.isArray(l)&&l[0]instanceof ih&&Vf(d,u=>u.revealReference(l[0]))}});$r.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:it.and(Wf,uz,zx.negate(),Gx.negate()),handler(d){var t;const l=(t=d.get(Ql).lastFocusedList)===null||t===void 0?void 0:t.getFocus();Array.isArray(l)&&l[0]instanceof ih&&Vf(d,u=>u.openReference(l[0],!0,!0))}});pi.registerCommand("openReference",d=>{var t;const l=(t=d.get(Ql).lastFocusedList)===null||t===void 0?void 0:t.getFocus();Array.isArray(l)&&l[0]instanceof ih&&Vf(d,u=>u.openReference(l[0],!1,!0))});var SG=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},eA=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const pE=new rt("hasSymbols",!1,E("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Hv=hi("ISymbolNavigationService");let DL=class{constructor(t,s,l,u){this._editorService=s,this._notificationService=l,this._keybindingService=u,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=pE.bindTo(t)}reset(){var t,s;this._ctxHasSymbols.reset(),(t=this._currentState)===null||t===void 0||t.dispose(),(s=this._currentMessage)===null||s===void 0||s.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(t){const s=t.parent.parent;if(s.references.length<=1){this.reset();return}this._currentModel=s,this._currentIdx=s.references.indexOf(t),this._ctxHasSymbols.set(!0),this._showMessage();const l=new IL(this._editorService),u=l.onDidChange(h=>{if(this._ignoreEditorChange)return;const f=this._editorService.getActiveCodeEditor();if(!f)return;const m=f.getModel(),A=f.getPosition();if(!m||!A)return;let C=!1,w=!1;for(const k of s.references)if(GH(k.uri,m.uri))C=!0,w=w||$.containsPosition(k.range,A);else if(C)break;(!C||!w)&&this.reset()});this._currentState=vc(l,u)}revealNext(t){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const s=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:s.uri,options:{selection:$.collapseToStart(s.range),selectionRevealType:3}},t).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var t;(t=this._currentMessage)===null||t===void 0||t.dispose();const s=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=s?E("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,s.getLabel()):E("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};DL=SG([eA(0,Mt),eA(1,Mi),eA(2,is),eA(3,Hn)],DL);Ci(Hv,DL,!0);Qe(new class extends nr{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:pE,kbOpts:{weight:100,primary:70}})}runEditorCommand(d,t){return d.get(Hv).revealNext(t)}});$r.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:pE,primary:9,handler(d){d.get(Hv).reset()}});let IL=class{constructor(t){this._listener=new Map,this._disposables=new je,this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),mi(this._listener.values())}_onDidAddEditor(t){this._listener.set(t,vc(t.onDidChangeCursorPosition(s=>this._onDidChange.fire({editor:t})),t.onDidChangeModelContent(s=>this._onDidChange.fire({editor:t}))))}_onDidRemoveEditor(t){var s;(s=this._listener.get(t))===null||s===void 0||s.dispose(),this._listener.delete(t)}};IL=SG([eA(0,Mi)],IL);var yG=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function T_(d,t,s,l){const h=s.ordered(d).map(f=>Promise.resolve(l(f,d,t)).then(void 0,m=>{Ms(m)}));return Promise.all(h).then(f=>{const m=[];for(let A of f)Array.isArray(A)?m.push(...A):A&&m.push(A);return m})}function AE(d,t,s,l){return T_(t,s,d,(u,h,f)=>u.provideDefinition(h,f,l))}function LG(d,t,s,l){return T_(t,s,d,(u,h,f)=>u.provideDeclaration(h,f,l))}function DG(d,t,s,l){return T_(t,s,d,(u,h,f)=>u.provideImplementation(h,f,l))}function IG(d,t,s,l){return T_(t,s,d,(u,h,f)=>u.provideTypeDefinition(h,f,l))}function Uv(d,t,s,l,u){return T_(t,s,d,(h,f,m)=>yG(this,void 0,void 0,function*(){const A=yield h.provideReferences(f,m,{includeDeclaration:!0},u);if(!l||!A||A.length!==2)return A;const C=yield h.provideReferences(f,m,{includeDeclaration:!1},u);return C&&C.length===1?C:A}))}function R_(d){return yG(this,void 0,void 0,function*(){const t=yield d(),s=new Oo(t,""),l=s.references.map(u=>u.link);return s.dispose(),l})}D0("_executeDefinitionProvider",(d,t,s)=>{const l=d.get(ut),u=AE(l.definitionProvider,t,s,ti.None);return R_(()=>u)});D0("_executeTypeDefinitionProvider",(d,t,s)=>{const l=d.get(ut),u=IG(l.typeDefinitionProvider,t,s,ti.None);return R_(()=>u)});D0("_executeDeclarationProvider",(d,t,s)=>{const l=d.get(ut),u=LG(l.declarationProvider,t,s,ti.None);return R_(()=>u)});D0("_executeReferenceProvider",(d,t,s)=>{const l=d.get(ut),u=Uv(l.referenceProvider,t,s,!1,ti.None);return R_(()=>u)});D0("_executeImplementationProvider",(d,t,s)=>{const l=d.get(ut),u=DG(l.implementationProvider,t,s,ti.None);return R_(()=>u)});var _a=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},E9,N9,T9,R9,M9,P9,O9,F9;ul.appendMenuItem(ce.EditorContext,{submenu:ce.EditorContextPeek,title:E("peek.submenu","Peek"),group:"navigation",order:100});const xG=new Set;function u2(d){const t=new d;return FV(t),xG.add(t.id),t}class W4{constructor(t,s){this.model=t,this.position=s}static is(t){return!t||typeof t!="object"?!1:!!(t instanceof W4||me.isIPosition(t.position)&&t.model)}}class Hf extends lt{constructor(t,s){super(s),this.configuration=t}run(t,s,l){if(!s.hasModel())return Promise.resolve(void 0);const u=t.get(is),h=t.get(Mi),f=t.get(hh),m=t.get(Hv),A=t.get(ut),C=s.getModel(),w=s.getPosition(),k=W4.is(l)?l:new W4(C,w),D=new M4(s,5),I=cI(this._getLocationModel(A,k.model,k.position,D.token),D.token).then(N=>_a(this,void 0,void 0,function*(){var R;if(!N||D.token.isCancellationRequested)return;qs(N.ariaMessage);let O;if(N.referenceAt(C.uri,w)){const B=this._getAlternativeCommand(s);B!==this.id&&xG.has(B)&&(O=s.getAction(B))}const W=N.references.length;if(W===0){if(!this.configuration.muteMessage){const B=C.getWordAtPosition(w);(R=ml.get(s))===null||R===void 0||R.showMessage(this._getNoResultFoundMessage(B),w)}}else if(W===1&&O)O.run();else return this._onResult(h,m,s,N)}),N=>{u.error(N)}).finally(()=>{D.dispose()});return f.showWhile(I,250),I}_onResult(t,s,l,u){return _a(this,void 0,void 0,function*(){const h=this._getGoToPreference(l);if(!(l instanceof rf)&&(this.configuration.openInPeek||h==="peek"&&u.references.length>1))this._openInPeek(l,u);else{const f=u.firstReference(),m=u.references.length>1&&h==="gotoAndPeek",A=yield this._openReference(l,t,f,this.configuration.openToSide,!m);m&&A?this._openInPeek(A,u):u.dispose(),h==="goto"&&s.put(f)}})}_openReference(t,s,l,u,h){return _a(this,void 0,void 0,function*(){let f;if(Aae(l)&&(f=l.targetSelectionRange),f||(f=l.range),!f)return;const m=yield s.openCodeEditor({resource:l.uri,options:{selection:$.collapseToStart(f),selectionRevealType:3,selectionSource:"code.jump"}},t,u);if(!!m){if(h){const A=m.getModel(),C=m.deltaDecorations([],[{range:f,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{m.getModel()===A&&m.deltaDecorations(C,[])},350)}return m}})}_openInPeek(t,s){const l=nh.get(t);l&&t.hasModel()?l.toggleWidget(t.getSelection(),js(u=>Promise.resolve(s)),this.configuration.openInPeek):s.dispose()}}class M_ extends Hf{_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(yield AE(t.definitionProvider,s,l,u),E("def.title","Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?E("noResultWord","No definition found for '{0}'",t.word):E("generic.noResults","No definition found")}_getAlternativeCommand(t){return t.getOption(51).alternativeDefinitionCommand}_getGoToPreference(t){return t.getOption(51).multipleDefinitions}}const EG=ch&&!sI?2118:70;u2((E9=class xL extends M_{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:xL.id,label:E("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:it.and(re.hasDefinitionProvider,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:EG,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),pi.registerCommandAlias("editor.action.goToDeclaration",xL.id)}},E9.id="editor.action.revealDefinition",E9));u2((N9=class EL extends M_{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:EL.id,label:E("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:it.and(re.hasDefinitionProvider,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,EG),weight:100}}),pi.registerCommandAlias("editor.action.openDeclarationToTheSide",EL.id)}},N9.id="editor.action.revealDefinitionAside",N9));u2((T9=class NL extends M_{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:NL.id,label:E("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:it.and(re.hasDefinitionProvider,po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:ce.EditorContextPeek,group:"peek",order:2}}),pi.registerCommandAlias("editor.action.previewDeclaration",NL.id)}},T9.id="editor.action.peekDefinition",T9));class NG extends Hf{_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(yield LG(t.declarationProvider,s,l,u),E("decl.title","Declarations"))})}_getNoResultFoundMessage(t){return t&&t.word?E("decl.noResultWord","No declaration found for '{0}'",t.word):E("decl.generic.noResults","No declaration found")}_getAlternativeCommand(t){return t.getOption(51).alternativeDeclarationCommand}_getGoToPreference(t){return t.getOption(51).multipleDeclarations}}u2((R9=class TG extends NG{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:TG.id,label:E("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:it.and(re.hasDeclarationProvider,re.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(t){return t&&t.word?E("decl.noResultWord","No declaration found for '{0}'",t.word):E("decl.generic.noResults","No declaration found")}},R9.id="editor.action.revealDeclaration",R9));u2(class extends NG{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:E("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:it.and(re.hasDeclarationProvider,po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:ce.EditorContextPeek,group:"peek",order:3}})}});class RG extends Hf{_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(yield IG(t.typeDefinitionProvider,s,l,u),E("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?E("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):E("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(t){return t.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(t){return t.getOption(51).multipleTypeDefinitions}}u2((M9=class MG extends RG{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:MG.ID,label:E("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:it.and(re.hasTypeDefinitionProvider,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},M9.ID="editor.action.goToTypeDefinition",M9));u2((P9=class PG extends RG{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PG.ID,label:E("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:it.and(re.hasTypeDefinitionProvider,po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:ce.EditorContextPeek,group:"peek",order:4}})}},P9.ID="editor.action.peekTypeDefinition",P9));class OG extends Hf{_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(yield DG(t.implementationProvider,s,l,u),E("impl.title","Implementations"))})}_getNoResultFoundMessage(t){return t&&t.word?E("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):E("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(t){return t.getOption(51).alternativeImplementationCommand}_getGoToPreference(t){return t.getOption(51).multipleImplementations}}u2((O9=class FG extends OG{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:FG.ID,label:E("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:it.and(re.hasImplementationProvider,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},O9.ID="editor.action.goToImplementation",O9));u2((F9=class BG extends OG{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:BG.ID,label:E("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:it.and(re.hasImplementationProvider,po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:ce.EditorContextPeek,group:"peek",order:5}})}},F9.ID="editor.action.peekImplementation",F9));class WG extends Hf{_getNoResultFoundMessage(t){return t?E("references.no","No references found for '{0}'",t.word):E("references.noGeneric","No references found")}_getAlternativeCommand(t){return t.getOption(51).alternativeReferenceCommand}_getGoToPreference(t){return t.getOption(51).multipleReferences}}u2(class extends WG{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:E("goToReferences.label","Go to References"),alias:"Go to References",precondition:it.and(re.hasReferenceProvider,po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:re.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(yield Uv(t.referenceProvider,s,l,!0,u),E("ref.title","References"))})}});u2(class extends WG{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:E("references.action.label","Peek References"),alias:"Peek References",precondition:it.and(re.hasReferenceProvider,po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:ce.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(yield Uv(t.referenceProvider,s,l,!1,u),E("ref.title","References"))})}});class lwe extends Hf{constructor(t,s,l){super(t,{id:"editor.action.goToLocation",label:E("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:it.and(po.notInPeekEditor,re.isInWalkThroughSnippet.toNegated())}),this._references=s,this._gotoMultipleBehaviour=l}_getLocationModel(t,s,l,u){return _a(this,void 0,void 0,function*(){return new Oo(this._references,E("generic.title","Locations"))})}_getNoResultFoundMessage(t){return t&&E("generic.noResult","No results for '{0}'",t.word)||""}_getGoToPreference(t){var s;return(s=this._gotoMultipleBehaviour)!==null&&s!==void 0?s:t.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}pi.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Lt},{name:"position",description:"The position at which to start",constraint:me.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(d,t,s,l,u,h,f)=>_a(void 0,void 0,void 0,function*(){Zi(Lt.isUri(t)),Zi(me.isIPosition(s)),Zi(Array.isArray(l)),Zi(typeof u>"u"||typeof u=="string"),Zi(typeof f>"u"||typeof f=="boolean");const m=d.get(Mi),A=yield m.openCodeEditor({resource:t},m.getFocusedCodeEditor());if(Nc(A))return A.setPosition(s),A.revealPositionInCenterIfOutsideViewport(s,0),A.invokeWithinContext(C=>{const w=new class extends lwe{_getNoResultFoundMessage(k){return h||super._getNoResultFoundMessage(k)}}({muteMessage:!Boolean(h),openInPeek:Boolean(f),openToSide:!1},l,u);C.get(ii).invokeFunction(w.run.bind(w),A)})})});pi.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Lt},{name:"position",description:"The position at which to start",constraint:me.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(d,t,s,l,u)=>_a(void 0,void 0,void 0,function*(){d.get(es).executeCommand("editor.action.goToLocations",t,s,l,u,void 0,!0)})});pi.registerCommand({id:"editor.action.findReferences",handler:(d,t,s)=>{Zi(Lt.isUri(t)),Zi(me.isIPosition(s));const l=d.get(ut),u=d.get(Mi);return u.openCodeEditor({resource:t},u.getFocusedCodeEditor()).then(h=>{if(!Nc(h)||!h.hasModel())return;const f=nh.get(h);if(!f)return;const m=js(C=>Uv(l.referenceProvider,h.getModel(),me.lift(s),!1,C).then(w=>new Oo(w,E("ref.title","References")))),A=new $(s.lineNumber,s.column,s.lineNumber,s.column);return Promise.resolve(f.toggleWidget(A,m,!1))})}});pi.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");ul.appendMenuItems([{id:ce.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:E({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:ce.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:E({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:ce.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:E({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:ce.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:E({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:ce.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:E({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var awe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},B9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let of=class tA{constructor(t,s,l,u){this.textModelResolverService=s,this.languageService=l,this.languageFeaturesService=u,this.toUnhook=new je,this.toUnhookForKeyboard=new je,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=t;let h=new gE(t);this.toUnhook.add(h),this.toUnhook.add(h.onMouseMoveOrRelevantKeyDown(([f,m])=>{this.startFindDefinitionFromMouse(f,To(m))})),this.toUnhook.add(h.onExecute(f=>{this.isEnabled(f)&&this.gotoDefinition(f.target.position,f.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},m=>{this.removeLinkDecorations(),Bt(m)})})),this.toUnhook.add(h.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(t){return t.getContribution(tA.ID)}startFindDefinitionFromCursor(t){return this.startFindDefinition(t).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(s=>{s&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(t,s){if(t.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(t,s)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const l=t.target.position;this.startFindDefinition(l)}startFindDefinition(t){var s;this.toUnhookForKeyboard.clear();const l=t?(s=this.editor.getModel())===null||s===void 0?void 0:s.getWordAtPosition(t):null;if(!l)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===l.startColumn&&this.currentWordAtPosition.endColumn===l.endColumn&&this.currentWordAtPosition.word===l.word)return Promise.resolve(0);this.currentWordAtPosition=l;let u=new R4(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=js(h=>this.findDefinition(t,h)),this.previousPromise.then(h=>{if(!h||!h.length||!u.validate(this.editor)){this.removeLinkDecorations();return}if(h.length>1)this.addDecoration(new $(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn),new rl().appendText(E("multipleResults","Click to show {0} definitions.",h.length)));else{let f=h[0];if(!f.uri)return;this.textModelResolverService.createModelReference(f.uri).then(m=>{if(!m.object||!m.object.textEditorModel){m.dispose();return}const{object:{textEditorModel:A}}=m,{startLineNumber:C}=f.range;if(C<1||C>A.getLineCount()){m.dispose();return}const w=this.getPreviewValue(A,C,f);let k;f.originSelectionRange?k=$.lift(f.originSelectionRange):k=new $(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn);const D=this.languageService.guessLanguageIdByFilepathOrFirstLine(A.uri);this.addDecoration(k,new rl().appendCodeblock(D||"",w)),m.dispose()})}}).then(void 0,Bt)}getPreviewValue(t,s,l){let u=l.targetSelectionRange?l.range:this.getPreviewRangeBasedOnBrackets(t,s);return u.endLineNumber-u.startLineNumber>=tA.MAX_SOURCE_PREVIEW_LINES&&(u=this.getPreviewRangeBasedOnIndentation(t,s)),this.stripIndentationFromPreviewRange(t,s,u)}stripIndentationFromPreviewRange(t,s,l){let h=t.getLineFirstNonWhitespaceColumn(s);for(let m=s+1;m<l.endLineNumber;m++){const A=t.getLineFirstNonWhitespaceColumn(m);h=Math.min(h,A)}return t.getValueInRange(l).replace(new RegExp(`^\\s{${h-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,s){const l=t.getLineFirstNonWhitespaceColumn(s),u=Math.min(t.getLineCount(),s+tA.MAX_SOURCE_PREVIEW_LINES);let h=s+1;for(;h<u;h++){let f=t.getLineFirstNonWhitespaceColumn(h);if(l===f)break}return new $(s,1,h+1,1)}getPreviewRangeBasedOnBrackets(t,s){const l=Math.min(t.getLineCount(),s+tA.MAX_SOURCE_PREVIEW_LINES),u=[];let h=!0,f=t.bracketPairs.findNextBracket(new me(s,1));for(;f!==null;){if(u.length===0)u.push(f);else{const w=u[u.length-1];if(w.open[0]===f.open[0]&&w.isOpen&&!f.isOpen?u.pop():u.push(f),u.length===0)if(h)h=!1;else return new $(s,1,f.range.endLineNumber+1,1)}const m=t.getLineMaxColumn(s);let A=f.range.endLineNumber,C=f.range.endColumn;if(m===f.range.endColumn&&(A++,C=1),A>l)return new $(s,1,l+1,1);f=t.bracketPairs.findNextBracket(new me(A,C))}return new $(s,1,l+1,1)}addDecoration(t,s){const l={range:t,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:s}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[l])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(t,s){return this.editor.hasModel()&&t.isNoneOrSingleMouseDown&&t.target.type===6&&(t.hasTriggerModifier||(s?s.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(t,s){const l=this.editor.getModel();return l?AE(this.languageFeaturesService.definitionProvider,l,t,s):Promise.resolve(null)}gotoDefinition(t,s){return this.editor.setPosition(t),this.editor.invokeWithinContext(l=>{const u=!s&&this.editor.getOption(78)&&!this.isInPeekEditor(l);return new M_({openToSide:s,openInPeek:u,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(l,this.editor)})}isInPeekEditor(t){const s=t.get(Mt);return po.inPeekEditor.getValue(s)}dispose(){this.toUnhook.dispose()}};of.ID="editor.contrib.gotodefinitionatposition";of.MAX_SOURCE_PREVIEW_LINES=8;of=awe([B9(1,Ao),B9(2,yn),B9(3,ut)],of);Li(of.ID,of);rn((d,t)=>{const s=d.getColor(FI);s&&t.addRule(`.monaco-editor .goto-definition-link { color: ${s} !important; }`)});const C6=Ue;class VG extends Se{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new A_(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class _E extends Se{constructor(t,s,l){super(),this.actionContainer=Re(t,C6("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Re(this.actionContainer,C6("a.action")),this.action.setAttribute("role","button"),s.iconClass&&Re(this.action,C6(`span.icon.${s.iconClass}`));const u=Re(this.action,C6("span"));u.textContent=l?`${s.label} (${l})`:s.label,this._register(ze(this.actionContainer,vt.CLICK,h=>{h.stopPropagation(),h.preventDefault(),s.run(this.actionContainer)})),this._register(ze(this.actionContainer,vt.KEY_UP,h=>{new hn(h).equals(3)&&(h.stopPropagation(),h.preventDefault(),s.run(this.actionContainer))})),this.setEnabled(!0)}static render(t,s,l){return new _E(t,s,l)}setEnabled(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var cwe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},uwe=globalThis&&globalThis.__asyncValues||function(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=d[Symbol.asyncIterator],s;return t?t.call(d):(d=typeof __values=="function"?__values(d):d[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(h){s[h]=d[h]&&function(f){return new Promise(function(m,A){f=d[h](f),u(m,A,f.done,f.value)})}}function u(h,f,m,A){Promise.resolve(A).then(function(C){h({value:C,done:m})},f)}};class hwe{constructor(t,s,l){this.value=t,this.isComplete=s,this.hasLoadingMessage=l}}class HG extends Se{constructor(t,s){super(),this._editor=t,this._computer=s,this._onResult=this._register(new he),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new zi(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new zi(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new zi(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(t,s=!0){this._state=t,s&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=L2e(t=>this._computer.computeAsync(t)),cwe(this,void 0,void 0,function*(){var t,s;try{try{for(var l=uwe(this._asyncIterable),u;u=yield l.next(),!u.done;){const h=u.value;h&&(this._result.push(h),this._fireResult())}}catch(h){t={error:h}}finally{try{u&&!u.done&&(s=l.return)&&(yield s.call(l))}finally{if(t)throw t.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(h){Bt(h)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const t=this._state===0,s=this._state===4;this._onResult.fire(new hwe(this._result.slice(0),t,s))}start(t){if(t===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class W9{constructor(t,s){this.priority=t,this.range=s,this.type=1}equals(t){return t.type===1&&this.range.equalsRange(t.range)}canAdoptVisibleHover(t,s){return t.type===1&&s.lineNumber===this.range.startLineNumber}}class C3{constructor(t,s,l){this.priority=t,this.owner=s,this.range=l,this.type=2}equals(t){return t.type===2&&this.owner===t.owner}canAdoptVisibleHover(t,s){return t.type===2&&this.owner===t.owner}}const Uf=new class{constructor(){this._participants=[]}register(t){this._participants.push(t)}getAll(){return this._participants}};class ua{constructor(){this.value="",this.pos=0}static isDigitCharacter(t){return t>=48&&t<=57}static isVariableCharacter(t){return t===95||t>=97&&t<=122||t>=65&&t<=90}text(t){this.value=t,this.pos=0}tokenText(t){return this.value.substr(t.pos,t.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let t=this.pos,s=0,l=this.value.charCodeAt(t),u;if(u=ua._table[l],typeof u=="number")return this.pos+=1,{type:u,pos:t,len:1};if(ua.isDigitCharacter(l)){u=8;do s+=1,l=this.value.charCodeAt(t+s);while(ua.isDigitCharacter(l));return this.pos+=s,{type:u,pos:t,len:s}}if(ua.isVariableCharacter(l)){u=9;do l=this.value.charCodeAt(t+ ++s);while(ua.isVariableCharacter(l)||ua.isDigitCharacter(l));return this.pos+=s,{type:u,pos:t,len:s}}u=10;do s+=1,l=this.value.charCodeAt(t+s);while(!isNaN(l)&&typeof ua._table[l]>"u"&&!ua.isDigitCharacter(l)&&!ua.isVariableCharacter(l));return this.pos+=s,{type:u,pos:t,len:s}}}ua._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class xm{constructor(){this._children=[]}appendChild(t){return t instanceof Eo&&this._children[this._children.length-1]instanceof Eo?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this}replace(t,s){const{parent:l}=t,u=l.children.indexOf(t),h=l.children.slice(0);h.splice(u,1,...s),l._children=h,function f(m,A){for(const C of m)C.parent=A,f(C.children,C)}(s,l)}get children(){return this._children}get snippet(){let t=this;for(;;){if(!t)return;if(t instanceof zv)return t;t=t.parent}}toString(){return this.children.reduce((t,s)=>t+s.toString(),"")}len(){return 0}}class Eo extends xm{constructor(t){super(),this.value=t}toString(){return this.value}len(){return this.value.length}clone(){return new Eo(this.value)}}class UG extends xm{}class fa extends UG{constructor(t){super(),this.index=t}static compareByIndex(t,s){return t.index===s.index?0:t.isFinalTabstop?1:s.isFinalTabstop||t.index<s.index?-1:t.index>s.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof P_?this._children[0]:void 0}clone(){let t=new fa(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(s=>s.clone()),t}}class P_ extends xm{constructor(){super(...arguments),this.options=[]}appendChild(t){return t instanceof Eo&&(t.parent=this,this.options.push(t)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let t=new P_;return this.options.forEach(t.appendChild,t),t}}class CE extends xm{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(t){const s=this;let l=!1,u=t.replace(this.regexp,function(){return l=!0,s._replace(Array.prototype.slice.call(arguments,0,-2))});return!l&&this._children.some(h=>h instanceof za&&Boolean(h.elseValue))&&(u=this._replace([])),u}_replace(t){let s="";for(const l of this._children)if(l instanceof za){let u=t[l.index]||"";u=l.resolve(u),s+=u}else s+=l.toString();return s}toString(){return""}clone(){let t=new CE;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(s=>s.clone()),t}}class za extends xm{constructor(t,s,l,u){super(),this.index=t,this.shorthandName=s,this.ifValue=l,this.elseValue=u}resolve(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":Boolean(t)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(t)&&typeof this.elseValue=="string"?this.elseValue:t||""}_toPascalCase(t){const s=t.match(/[a-z0-9]+/gi);return s?s.map(l=>l.charAt(0).toUpperCase()+l.substr(1).toLowerCase()).join(""):t}_toCamelCase(t){const s=t.match(/[a-z0-9]+/gi);return s?s.map((l,u)=>u===0?l.toLowerCase():l.charAt(0).toUpperCase()+l.substr(1).toLowerCase()).join(""):t}clone(){return new za(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class V4 extends UG{constructor(t){super(),this.name=t}resolve(t){let s=t.resolve(this);return this.transform&&(s=this.transform.resolve(s||"")),s!==void 0?(this._children=[new Eo(s)],!0):!1}clone(){const t=new V4(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(s=>s.clone()),t}}function jF(d,t){const s=[...d];for(;s.length>0;){const l=s.shift();if(!t(l))break;s.unshift(...l.children)}}class zv extends xm{get placeholderInfo(){if(!this._placeholders){let t=[],s;this.walk(function(l){return l instanceof fa&&(t.push(l),s=!s||s.index<l.index?l:s),!0}),this._placeholders={all:t,last:s}}return this._placeholders}get placeholders(){const{all:t}=this.placeholderInfo;return t}offset(t){let s=0,l=!1;return this.walk(u=>u===t?(l=!0,!1):(s+=u.len(),!0)),l?s:-1}fullLen(t){let s=0;return jF([t],l=>(s+=l.len(),!0)),s}enclosingPlaceholders(t){let s=[],{parent:l}=t;for(;l;)l instanceof fa&&s.push(l),l=l.parent;return s}resolveVariables(t){return this.walk(s=>(s instanceof V4&&s.resolve(t)&&(this._placeholders=void 0),!0)),this}appendChild(t){return this._placeholders=void 0,super.appendChild(t)}replace(t,s){return this._placeholders=void 0,super.replace(t,s)}clone(){let t=new zv;return this._children=this.children.map(s=>s.clone()),t}walk(t){jF(this.children,t)}}class Gv{constructor(){this._scanner=new ua,this._token={type:14,pos:0,len:0}}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(t){return/\${?CLIPBOARD/.test(t)}parse(t,s,l){this._scanner.text(t),this._token=this._scanner.next();const u=new zv;for(;this._parse(u););const h=new Map,f=[];let m=0;u.walk(A=>(A instanceof fa&&(m+=1,A.isFinalTabstop?h.set(0,void 0):!h.has(A.index)&&A.children.length>0?h.set(A.index,A.children):f.push(A)),!0));for(const A of f){const C=h.get(A.index);if(C){const w=new fa(A.index);w.transform=A.transform;for(const k of C)w.appendChild(k.clone());u.replace(A,[w])}}return l||(l=m>0&&s),!h.has(0)&&l&&u.appendChild(new fa(0)),u}_accept(t,s){if(t===void 0||this._token.type===t){let l=s?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),l}return!1}_backTo(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1}_until(t){const s=this._token;for(;this._token.type!==t;){if(this._token.type===14)return!1;if(this._token.type===5){const u=this._scanner.next();if(u.type!==0&&u.type!==4&&u.type!==5)return!1}this._token=this._scanner.next()}const l=this._scanner.value.substring(s.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),l}_parse(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)}_parseEscaped(t){let s;return(s=this._accept(5,!0))?(s=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||s,t.appendChild(new Eo(s)),!0):!1}_parseTabstopOrVariableName(t){let s;const l=this._token;return this._accept(0)&&(s=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(s)?new fa(Number(s)):new V4(s)),!0):this._backTo(l)}_parseComplexPlaceholder(t){let s;const l=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(8,!0))))return this._backTo(l);const h=new fa(Number(s));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(h),!0;if(!this._parse(h))return t.appendChild(new Eo("${"+s+":")),h.children.forEach(t.appendChild,t),!0}else if(h.index>0&&this._accept(7)){const f=new P_;for(;;){if(this._parseChoiceElement(f)){if(this._accept(2))continue;if(this._accept(7)&&(h.appendChild(f),this._accept(4)))return t.appendChild(h),!0}return this._backTo(l),!1}}else return this._accept(6)?this._parseTransform(h)?(t.appendChild(h),!0):(this._backTo(l),!1):this._accept(4)?(t.appendChild(h),!0):this._backTo(l)}_parseChoiceElement(t){const s=this._token,l=[];for(;!(this._token.type===2||this._token.type===7);){let u;if((u=this._accept(5,!0))?u=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:u=this._accept(void 0,!0),!u)return this._backTo(s),!1;l.push(u)}return l.length===0?(this._backTo(s),!1):(t.appendChild(new Eo(l.join(""))),!0)}_parseComplexVariable(t){let s;const l=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(9,!0))))return this._backTo(l);const h=new V4(s);if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(h),!0;if(!this._parse(h))return t.appendChild(new Eo("${"+s+":")),h.children.forEach(t.appendChild,t),!0}else return this._accept(6)?this._parseTransform(h)?(t.appendChild(h),!0):(this._backTo(l),!1):this._accept(4)?(t.appendChild(h),!0):this._backTo(l)}_parseTransform(t){let s=new CE,l="",u="";for(;!this._accept(6);){let h;if(h=this._accept(5,!0)){h=this._accept(6,!0)||h,l+=h;continue}if(this._token.type!==14){l+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let h;if(h=this._accept(5,!0)){h=this._accept(5,!0)||this._accept(6,!0)||h,s.appendChild(new Eo(h));continue}if(!(this._parseFormatString(s)||this._parseAnything(s)))return!1}for(;!this._accept(4);){if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}try{s.regexp=new RegExp(l,u)}catch{return!1}return t.transform=s,!0}_parseFormatString(t){const s=this._token;if(!this._accept(0))return!1;let l=!1;this._accept(3)&&(l=!0);let u=this._accept(8,!0);if(u)if(l){if(this._accept(4))return t.appendChild(new za(Number(u))),!0;if(!this._accept(1))return this._backTo(s),!1}else return t.appendChild(new za(Number(u))),!0;else return this._backTo(s),!1;if(this._accept(6)){let h=this._accept(9,!0);return!h||!this._accept(4)?(this._backTo(s),!1):(t.appendChild(new za(Number(u),h)),!0)}else if(this._accept(11)){let h=this._until(4);if(h)return t.appendChild(new za(Number(u),void 0,h,void 0)),!0}else if(this._accept(12)){let h=this._until(4);if(h)return t.appendChild(new za(Number(u),void 0,void 0,h)),!0}else if(this._accept(13)){let h=this._until(1);if(h){let f=this._until(4);if(f)return t.appendChild(new za(Number(u),void 0,h,f)),!0}}else{let h=this._until(4);if(h)return t.appendChild(new za(Number(u),void 0,void 0,h)),!0}return this._backTo(s),!1}_parseAnything(t){return this._token.type!==14?(t.appendChild(new Eo(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}const dwe={inputActiveOptionBorder:ke.fromHex("#007ACC00"),inputActiveOptionForeground:ke.fromHex("#FFFFFF"),inputActiveOptionBackground:ke.fromHex("#0E639C50")};class O_ extends ba{constructor(t){super(),this._onChange=this._register(new he),this.onChange=this._onChange.event,this._onKeyDown=this._register(new he),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},dwe),t),this._checked=this._opts.isChecked;const s=["monaco-custom-checkbox"];this._opts.icon&&s.push(...Gr.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&s.push(...this._opts.actionClassName.split(" ")),this._checked&&s.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...s),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,l=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),l.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,l=>{if(l.keyCode===10||l.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),l.preventDefault();return}this._onKeyDown.fire(l)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=t.inputActiveOptionForeground),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const fwe=E("caseDescription","Match Case"),gwe=E("wordsDescription","Match Whole Word"),mwe=E("regexDescription","Use Regular Expression");class zG extends O_{constructor(t){super({icon:T.caseSensitive,title:fwe+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class GG extends O_{constructor(t){super({icon:T.wholeWord,title:gwe+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class jG extends O_{constructor(t){super({icon:T.regex,title:mwe+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}const pwe=E("defaultLabel","input");class Awe extends ba{constructor(t,s,l,u){super(),this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new he),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new he),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new he),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new he),this._onKeyUp=this._register(new he),this._onCaseSensitiveKeyDown=this._register(new he),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new he),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=s,this.placeholder=u.placeholder||"",this.validation=u.validation,this.label=u.label||pwe,this.inputActiveOptionBorder=u.inputActiveOptionBorder,this.inputActiveOptionForeground=u.inputActiveOptionForeground,this.inputActiveOptionBackground=u.inputActiveOptionBackground,this.inputBackground=u.inputBackground,this.inputForeground=u.inputForeground,this.inputBorder=u.inputBorder,this.inputValidationInfoBorder=u.inputValidationInfoBorder,this.inputValidationInfoBackground=u.inputValidationInfoBackground,this.inputValidationInfoForeground=u.inputValidationInfoForeground,this.inputValidationWarningBorder=u.inputValidationWarningBorder,this.inputValidationWarningBackground=u.inputValidationWarningBackground,this.inputValidationWarningForeground=u.inputValidationWarningForeground,this.inputValidationErrorBorder=u.inputValidationErrorBorder,this.inputValidationErrorBackground=u.inputValidationErrorBackground,this.inputValidationErrorForeground=u.inputValidationErrorForeground;const h=u.appendCaseSensitiveLabel||"",f=u.appendWholeWordsLabel||"",m=u.appendRegexLabel||"",A=u.history||[],C=!!u.flexibleHeight,w=!!u.flexibleWidth,k=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new jU(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:A,showHistoryHint:u.showHistoryHint,flexibleHeight:C,flexibleWidth:w,flexibleMaxHeight:k})),this.regex=this._register(new jG({appendTitle:m,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(I=>{this._onDidOptionChange.fire(I),!I&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(I=>{this._onRegexKeyDown.fire(I)})),this.wholeWords=this._register(new GG({appendTitle:f,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(I=>{this._onDidOptionChange.fire(I),!I&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new zG({appendTitle:h,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(I=>{this._onDidOptionChange.fire(I),!I&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(I=>{this._onCaseSensitiveKeyDown.fire(I)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let D=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,I=>{if(I.equals(15)||I.equals(17)||I.equals(9)){let N=D.indexOf(document.activeElement);if(N>=0){let R=-1;I.equals(17)?R=(N+1)%D.length:I.equals(15)&&(N===0?R=D.length-1:R=N-1),I.equals(9)?(D[N].blur(),this.inputBox.focus()):R>=0&&D[R].focus(),Ri.stop(I,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),t&&t.appendChild(this.domNode),this._register(ze(this.inputBox.inputElement,"compositionstart",I=>{this.imeSessionInProgress=!0})),this._register(ze(this.inputBox.inputElement,"compositionend",I=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,I=>this._onKeyDown.fire(I)),this.onkeyup(this.inputBox.inputElement,I=>this._onKeyUp.fire(I)),this.oninput(this.inputBox.inputElement,I=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,I=>this._onMouseDown.fire(I))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);const s={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(s)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(t){this.caseSensitive.checked=t}getWholeWords(){return this.wholeWords.checked}setWholeWords(t){this.wholeWords.checked=t}getRegex(){return this.regex.checked}setRegex(t){this.regex.checked=t,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const _we=E("defaultLabel","input"),Cwe=E("label.preserveCaseCheckbox","Preserve Case");class wwe extends O_{constructor(t){super({icon:T.preserveCase,title:Cwe+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class vwe extends ba{constructor(t,s,l,u){super(),this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new he),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new he),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new he),this._onInput=this._register(new he),this._onKeyUp=this._register(new he),this._onPreserveCaseKeyDown=this._register(new he),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=s,this.placeholder=u.placeholder||"",this.validation=u.validation,this.label=u.label||_we,this.inputActiveOptionBorder=u.inputActiveOptionBorder,this.inputActiveOptionForeground=u.inputActiveOptionForeground,this.inputActiveOptionBackground=u.inputActiveOptionBackground,this.inputBackground=u.inputBackground,this.inputForeground=u.inputForeground,this.inputBorder=u.inputBorder,this.inputValidationInfoBorder=u.inputValidationInfoBorder,this.inputValidationInfoBackground=u.inputValidationInfoBackground,this.inputValidationInfoForeground=u.inputValidationInfoForeground,this.inputValidationWarningBorder=u.inputValidationWarningBorder,this.inputValidationWarningBackground=u.inputValidationWarningBackground,this.inputValidationWarningForeground=u.inputValidationWarningForeground,this.inputValidationErrorBorder=u.inputValidationErrorBorder,this.inputValidationErrorBackground=u.inputValidationErrorBackground,this.inputValidationErrorForeground=u.inputValidationErrorForeground;const h=u.appendPreserveCaseLabel||"",f=u.history||[],m=!!u.flexibleHeight,A=!!u.flexibleWidth,C=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new jU(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:f,showHistoryHint:u.showHistoryHint,flexibleHeight:m,flexibleWidth:A,flexibleMaxHeight:C})),this.preserveCase=this._register(new wwe({appendTitle:h,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(D=>{this._onDidOptionChange.fire(D),!D&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(D=>{this._onPreserveCaseKeyDown.fire(D)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let w=[this.preserveCase.domNode];this.onkeydown(this.domNode,D=>{if(D.equals(15)||D.equals(17)||D.equals(9)){let I=w.indexOf(document.activeElement);if(I>=0){let N=-1;D.equals(17)?N=(I+1)%w.length:D.equals(15)&&(I===0?N=w.length-1:N=I-1),D.equals(9)?(w[I].blur(),this.inputBox.focus()):N>=0&&w[N].focus(),Ri.stop(D,!0)}}});let k=document.createElement("div");k.className="controls",k.style.display=this._showOptionButtons?"block":"none",k.appendChild(this.preserveCase.domNode),this.domNode.appendChild(k),t&&t.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,D=>this._onKeyDown.fire(D)),this.onkeyup(this.inputBox.inputElement,D=>this._onKeyUp.fire(D)),this.oninput(this.inputBox.inputElement,D=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,D=>this._onMouseDown.fire(D))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(t);const s={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(s)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=t,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}var ZG=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},QG=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const wE=new rt("suggestWidgetVisible",!1,E("suggestWidgetVisible","Whether suggestion are visible")),H4="historyNavigationWidget",YG="historyNavigationForwardsEnabled",$G="historyNavigationBackwardsEnabled";function kwe(d,t,s){new rt(s,t).bindTo(d)}function bwe(d,t){return d.createScoped(t.target)}function KG(d,t){return d.getContext(document.activeElement).getValue(t)}function XG(d,t){const s=bwe(d,t);kwe(s,t,H4);const l=new rt(YG,!0).bindTo(s),u=new rt($G,!0).bindTo(s);return{scopedContextKeyService:s,historyNavigationForwardsEnablement:l,historyNavigationBackwardsEnablement:u}}let TL=class extends Awe{constructor(t,s,l,u,h=!1){super(t,s,h,l),this._register(XG(u,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};TL=ZG([QG(3,Mt)],TL);let RL=class extends vwe{constructor(t,s,l,u,h=!1){super(t,s,h,l),this._register(XG(u,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};RL=ZG([QG(3,Mt)],RL);$r.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:it.and(it.has(H4),it.equals($G,!0),wE.isEqualTo(!1)),primary:16,secondary:[528],handler:d=>{const t=KG(d.get(Mt),H4);t&&t.historyNavigator.showPreviousValue()}});$r.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:it.and(it.has(H4),it.equals(YG,!0),wE.isEqualTo(!1)),primary:18,secondary:[530],handler:d=>{const t=KG(d.get(Mt),H4);t&&t.historyNavigator.showNextValue()}});var MA=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const fi={Visible:wE,DetailsVisible:new rt("suggestWidgetDetailsVisible",!1,E("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new rt("suggestWidgetMultipleSuggestions",!1,E("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new rt("suggestionMakesTextEdit",!0,E("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new rt("acceptSuggestionOnEnter",!0,E("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new rt("suggestionHasInsertAndReplaceRange",!1,E("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new rt("suggestionInsertMode",void 0,{type:"string",description:E("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new rt("suggestionCanResolve",!1,E("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},sh=new ce("suggestWidgetStatusBar");class Swe{constructor(t,s,l,u){this.position=t,this.completion=s,this.container=l,this.provider=u,this.isInvalid=!1,this.score=qa.Default,this.distance=0,this.textLabel=typeof s.label=="string"?s.label:s.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=s.sortText&&s.sortText.toLowerCase(),this.filterTextLow=s.filterText&&s.filterText.toLowerCase(),$.isIRange(s.range)?(this.editStart=new me(s.range.startLineNumber,s.range.startColumn),this.editInsertEnd=new me(s.range.endLineNumber,s.range.endColumn),this.editReplaceEnd=new me(s.range.endLineNumber,s.range.endColumn),this.isInvalid=this.isInvalid||$.spansMultipleLines(s.range)||s.range.startLineNumber!==t.lineNumber):(this.editStart=new me(s.range.insert.startLineNumber,s.range.insert.startColumn),this.editInsertEnd=new me(s.range.insert.endLineNumber,s.range.insert.endColumn),this.editReplaceEnd=new me(s.range.replace.endLineNumber,s.range.replace.endColumn),this.isInvalid=this.isInvalid||$.spansMultipleLines(s.range.insert)||$.spansMultipleLines(s.range.replace)||s.range.insert.startLineNumber!==t.lineNumber||s.range.replace.startLineNumber!==t.lineNumber||s.range.insert.startColumn!==s.range.replace.startColumn),typeof u.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(t){return MA(this,void 0,void 0,function*(){if(!this._resolveCache){const s=t.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,t)).then(l=>{Object.assign(this.completion,l),this._isResolved=!0,s.dispose()},l=>{y0(l)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class nw{constructor(t=2,s=new Set,l=new Set,u=!0){this.snippetSortOrder=t,this.kindFilter=s,this.providerFilter=l,this.showDeprecated=u}}nw.default=new nw;let ywe;function Lwe(){return ywe}class Dwe{constructor(t,s,l,u){this.items=t,this.needsClipboard=s,this.durations=l,this.disposable=u}}function JG(d,t,s,l=nw.default,u={triggerKind:0},h=ti.None){return MA(this,void 0,void 0,function*(){const f=new mo(!0);s=s.clone();const m=t.getWordAtPosition(s),A=m?new $(s.lineNumber,m.startColumn,s.lineNumber,m.endColumn):$.fromPositions(s),C={replace:A,insert:A.setEndPosition(s.lineNumber,s.column)},w=[],k=new je,D=[];let I=!1;const N=(O,W,B)=>{var z,G,K;let q=!1;if(!W)return q;for(let Y of W.suggestions)if(!l.kindFilter.has(Y.kind)){if(!l.showDeprecated&&((z=Y?.tags)===null||z===void 0?void 0:z.includes(1)))continue;Y.range||(Y.range=C),Y.sortText||(Y.sortText=typeof Y.label=="string"?Y.label:Y.label.label),!I&&Y.insertTextRules&&Y.insertTextRules&4&&(I=Gv.guessNeedsClipboard(Y.insertText)),w.push(new Swe(s,Y,W,O)),q=!0}return VD(W)&&k.add(W),D.push({providerName:(G=O._debugDisplayName)!==null&&G!==void 0?G:"unknown_provider",elapsedProvider:(K=W.duration)!==null&&K!==void 0?K:-1,elapsedOverall:B.elapsed()}),q},R=(()=>MA(this,void 0,void 0,function*(){}))();for(let O of d.orderedGroups(t)){let W=!1;if(yield Promise.all(O.map(B=>MA(this,void 0,void 0,function*(){if(!(l.providerFilter.size>0&&!l.providerFilter.has(B)))try{const z=new mo(!0),G=yield B.provideCompletionItems(t,s,u,h);W=N(B,G,z)||W}catch(z){Ms(z)}}))),W||h.isCancellationRequested)break}return yield R,h.isCancellationRequested?(k.dispose(),Promise.reject(WD())):new Dwe(w.sort(qG(l.snippetSortOrder)),I,{entries:D,elapsed:f.elapsed()},k)})}function vE(d,t){if(d.sortTextLow&&t.sortTextLow){if(d.sortTextLow<t.sortTextLow)return-1;if(d.sortTextLow>t.sortTextLow)return 1}return d.completion.label<t.completion.label?-1:d.completion.label>t.completion.label?1:d.completion.kind-t.completion.kind}function Iwe(d,t){if(d.completion.kind!==t.completion.kind){if(d.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return vE(d,t)}function xwe(d,t){if(d.completion.kind!==t.completion.kind){if(d.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return vE(d,t)}const jv=new Map;jv.set(0,Iwe);jv.set(2,xwe);jv.set(1,vE);function qG(d){return jv.get(d)}pi.registerCommand("_executeCompletionItemProvider",(d,...t)=>MA(void 0,void 0,void 0,function*(){const[s,l,u,h]=t;Zi(Lt.isUri(s)),Zi(me.isIPosition(l)),Zi(typeof u=="string"||!u),Zi(typeof h=="number"||!h);const{completionProvider:f}=d.get(ut),m=yield d.get(Ao).createModelReference(s);try{const A={incomplete:!1,suggestions:[]},C=[],w=yield JG(f,m.object.textEditorModel,me.lift(l),void 0,{triggerCharacter:u,triggerKind:u?1:0});for(const k of w.items)C.length<(h??0)&&C.push(k.resolve(ti.None)),A.incomplete=A.incomplete||k.container.incomplete,A.suggestions.push(k.completion);try{return yield Promise.all(C),A}finally{setTimeout(()=>w.disposable.dispose(),100)}}finally{m.dispose()}}));let w6,V9=[];function Ewe(d,t,s){const{completionProvider:l}=d.get(ut);w6||(w6=new class{provideCompletionItems(){let h={suggestions:V9.slice(0)};return V9.length=0,h}},l.register("*",w6)),setTimeout(()=>{var u;V9.push(...s),(u=t.getContribution("editor.contrib.suggestController"))===null||u===void 0||u.triggerSuggest(new Set().add(w6))},0)}var kE=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},sw=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const ZF=Ue;let rw=class ej extends Se{constructor(t,s,l){super(),this._editor=t,this._instantiationService=s,this._keybindingService=l,this._widget=this._register(this._instantiationService.createInstance(Td,this._editor)),this._decorationsChangerListener=this._register(new Nwe(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const u of Uf.getAll())this._participants.push(this._instantiationService.createInstance(u,this._editor));this._participants.sort((u,h)=>u.hoverOrdinal-h.hoverOrdinal),this._computer=new ow(this._editor,this._participants),this._hoverOperation=this._register(new HG(this._editor,this._computer)),this._register(this._hoverOperation.onResult(u=>{this._withResult(u.value,u.isComplete,u.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(zs(this._widget.getDomNode(),"keydown",u=>{u.equals(9)&&this.hide()})),this._register(bn.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(t){const s=[];for(const u of this._participants)if(u.suggestHoverAnchor){const h=u.suggestHoverAnchor(t);h&&s.push(h)}const l=t.target;if(l.type===6&&s.push(new W9(0,l.range)),l.type===7){const u=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!l.detail.isAfterLines&&typeof l.detail.horizontalDistanceToText=="number"&&l.detail.horizontalDistanceToText<u&&s.push(new W9(0,l.range))}return s.length===0?!1:(s.sort((u,h)=>h.priority-u.priority),this._startShowingAt(s[0],0,!1),!0)}startShowingAtRange(t,s,l){this._startShowingAt(new W9(0,t),s,l)}_startShowingAt(t,s,l){if(!(this._computer.anchor&&this._computer.anchor.equals(t))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!t.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const u=this._messages.filter(h=>h.isValidForHoverAnchor(t));if(u.length===0)this.hide();else{if(u.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(t,u)}}this._computer.anchor=t,this._computer.shouldFocus=l,this._hoverOperation.start(s)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}_addLoadingMessage(t){if(this._computer.anchor){for(const s of this._participants)if(s.createLoadingMessage){const l=s.createLoadingMessage(this._computer.anchor);if(l)return t.slice(0).concat([l])}}return t}_withResult(t,s,l){this._messages=l?this._addLoadingMessage(t):t,this._messagesAreComplete=s,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):s&&this.hide()}_renderMessages(t,s){let l=1073741824,u=s[0].range,h=null;for(const k of s)l=Math.min(l,k.range.startColumn),u=$.plusRange(u,k.range),k.forceShowAtRange&&(h=k.range);const f=new je,m=f.add(new ML(this._keybindingService)),A=document.createDocumentFragment();let C=null;const w={fragment:A,statusBar:m,setColorPicker:k=>C=k,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const k of this._participants){const D=s.filter(I=>I.owner===k);D.length>0&&f.add(k.renderHoverParts(w,D))}if(m.hasContent&&A.appendChild(m.hoverElement),A.hasChildNodes()){if(u){const k=this._decorationsChangerListener.deltaDecorations([],[{range:u,options:ej._DECORATION_OPTIONS}]);f.add($t(()=>{this._decorationsChangerListener.deltaDecorations(k,[])}))}this._widget.showAt(A,new Twe(C,h?h.getStartPosition():new me(t.range.startLineNumber,l),h||u,this._editor.getOption(53).above,this._computer.shouldFocus,f))}else f.dispose()}};rw._DECORATION_OPTIONS=Qt.register({description:"content-hover-highlight",className:"hoverHighlight"});rw=kE([sw(1,ii),sw(2,Hn)],rw);class Nwe extends Se{constructor(t){super(),this._editor=t,this._onDidChangeModelDecorations=this._register(new he),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(s=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(s)}))}deltaDecorations(t,s){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(t,s)}finally{this._isChangingDecorations=!1}}}class Twe{constructor(t,s,l,u,h,f){this.colorPicker=t,this.showAtPosition=s,this.showAtRange=l,this.preferAbove=u,this.stoleFocus=h,this.disposables=f}}let Td=class tj extends Se{constructor(t,s){super(),this._editor=t,this._contextKeyService=s,this.allowEditorOverflow=!0,this._hoverVisibleKey=re.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new VG),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var t,s;return(s=(t=this._visibleData)===null||t===void 0?void 0:t.showAtPosition)!==null&&s!==void 0?s:null}get isColorPickerVisible(){var t;return Boolean((t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return tj.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let t=this._visibleData.preferAbove;return!t&&this._contextKeyService.getContextKeyValue(fi.Visible.key)&&(t=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:t?[1,2]:[2,1]}}_setVisibleData(t){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=t,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const t=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:s,lineHeight:l}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${s}px`,this._hover.contentsDomNode.style.lineHeight=`${l/s}`,this._hover.contentsDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(s=>this._editor.applyFontInfo(s))}showAt(t,s){this._setVisibleData(s),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),s.stoleFocus&&this._hover.containerDomNode.focus(),s.colorPicker&&s.colorPicker.layout()}hide(){if(this._visibleData){const t=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),t&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const t=this._hover.scrollbar.getScrollDimensions();if(t.scrollWidth>t.width){const l=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==l&&(this._hover.contentsDomNode.style.paddingBottom=l,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Td.ID="editor.contrib.contentHoverWidget";Td=kE([sw(1,Mt)],Td);let ML=class extends Se{constructor(t){super(),this._keybindingService=t,this._hasContent=!1,this.hoverElement=ZF("div.hover-row.status-bar"),this.actionsElement=Re(this.hoverElement,ZF("div.actions"))}get hasContent(){return this._hasContent}addAction(t){const s=this._keybindingService.lookupKeybinding(t.commandId),l=s?s.getLabel():null;return this._hasContent=!0,this._register(_E.render(this.actionsElement,t,l))}append(t){const s=Re(this.actionsElement,t);return this._hasContent=!0,s}};ML=kE([sw(0,Hn)],ML);class ow{constructor(t,s){this._editor=t,this._participants=s,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(t){this._anchor=t}get shouldFocus(){return this._shouldFocus}set shouldFocus(t){this._shouldFocus=t}static _getLineDecorations(t,s){if(s.type!==1)return[];const l=t.getModel(),u=s.range.startLineNumber,h=l.getLineMaxColumn(u);return t.getLineDecorations(u).filter(f=>{if(f.options.isWholeLine)return!0;const m=f.range.startLineNumber===u?f.range.startColumn:1,A=f.range.endLineNumber===u?f.range.endColumn:h;if(f.options.showIfCollapsed){if(m>s.range.startColumn+1||s.range.endColumn-1>A)return!1}else if(m>s.range.startColumn||s.range.endColumn>A)return!1;return!0})}computeAsync(t){const s=this._anchor;if(!this._editor.hasModel()||!s)return Jn.EMPTY;const l=ow._getLineDecorations(this._editor,s);return Jn.merge(this._participants.map(u=>u.computeAsync?u.computeAsync(s,l,t):Jn.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const t=ow._getLineDecorations(this._editor,this._anchor);let s=[];for(const l of this._participants)s=s.concat(l.computeSync(this._anchor,t));return vf(s)}}/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function Rwe(d){if(Array.isArray(d)){for(var t=0,s=Array(d.length);t<d.length;t++)s[t]=d[t];return s}else return Array.from(d)}var Mwe=Object.hasOwnProperty,QF=Object.setPrototypeOf,Pwe=Object.isFrozen,Owe=Object.getPrototypeOf,Fwe=Object.getOwnPropertyDescriptor,Fo=Object.freeze,Rc=Object.seal,Bwe=Object.create,ij=typeof Reflect<"u"&&Reflect,lw=ij.apply,PL=ij.construct;lw||(lw=function(t,s,l){return t.apply(s,l)});Fo||(Fo=function(t){return t});Rc||(Rc=function(t){return t});PL||(PL=function(t,s){return new(Function.prototype.bind.apply(t,[null].concat(Rwe(s))))});var Wwe=l2(Array.prototype.forEach),YF=l2(Array.prototype.pop),Vp=l2(Array.prototype.push),ed=l2(String.prototype.toLowerCase),$F=l2(String.prototype.match),ou=l2(String.prototype.replace),Vwe=l2(String.prototype.indexOf),Hwe=l2(String.prototype.trim),J0=l2(RegExp.prototype.test),KF=Uwe(TypeError);function l2(d){return function(t){for(var s=arguments.length,l=Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return lw(d,t,l)}}function Uwe(d){return function(){for(var t=arguments.length,s=Array(t),l=0;l<t;l++)s[l]=arguments[l];return PL(d,s)}}function Bi(d,t){QF&&QF(d,null);for(var s=t.length;s--;){var l=t[s];if(typeof l=="string"){var u=ed(l);u!==l&&(Pwe(t)||(t[s]=u),l=u)}d[l]=!0}return d}function Qh(d){var t=Bwe(null),s=void 0;for(s in d)lw(Mwe,d,[s])&&(t[s]=d[s]);return t}function v6(d,t){for(;d!==null;){var s=Fwe(d,t);if(s){if(s.get)return l2(s.get);if(typeof s.value=="function")return l2(s.value)}d=Owe(d)}function l(u){return console.warn("fallback value for",u),null}return l}var XF=Fo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H9=Fo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U9=Fo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zwe=Fo(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z9=Fo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Gwe=Fo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JF=Fo(["#text"]),qF=Fo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G9=Fo(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eB=Fo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),k6=Fo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jwe=Rc(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Zwe=Rc(/<%[\s\S]*|[\s\S]*%>/gm),Qwe=Rc(/^data-[\-\w.\u00B7-\uFFFF]/),Ywe=Rc(/^aria-[\-\w]+$/),$we=Rc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kwe=Rc(/^(?:\w+script|data):/i),Xwe=Rc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function O2(d){if(Array.isArray(d)){for(var t=0,s=Array(d.length);t<d.length;t++)s[t]=d[t];return s}else return Array.from(d)}var Jwe=function(){return typeof window>"u"?null:window},qwe=function(t,s){if((typeof t>"u"?"undefined":iA(t))!=="object"||typeof t.createPolicy!="function")return null;var l=null,u="data-tt-policy-suffix";s.currentScript&&s.currentScript.hasAttribute(u)&&(l=s.currentScript.getAttribute(u));var h="dompurify"+(l?"#"+l:"");try{return t.createPolicy(h,{createHTML:function(m){return m}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function nj(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jwe(),t=function(Pe){return nj(Pe)};if(t.version="2.3.1",t.removed=[],!d||!d.document||d.document.nodeType!==9)return t.isSupported=!1,t;var s=d.document,l=d.document,u=d.DocumentFragment,h=d.HTMLTemplateElement,f=d.Node,m=d.Element,A=d.NodeFilter,C=d.NamedNodeMap,w=C===void 0?d.NamedNodeMap||d.MozNamedAttrMap:C,k=d.Text,D=d.Comment,I=d.DOMParser,N=d.trustedTypes,R=m.prototype,O=v6(R,"cloneNode"),W=v6(R,"nextSibling"),B=v6(R,"childNodes"),z=v6(R,"parentNode");if(typeof h=="function"){var G=l.createElement("template");G.content&&G.content.ownerDocument&&(l=G.content.ownerDocument)}var K=qwe(N,s),q=K&&f2?K.createHTML(""):"",Y=l,J=Y.implementation,ne=Y.createNodeIterator,Ae=Y.createDocumentFragment,ge=Y.getElementsByTagName,Te=s.importNode,Me={};try{Me=Qh(l).documentMode?l.documentMode:{}}catch{}var ct={};t.isSupported=typeof z=="function"&&J&&typeof J.createHTMLDocument<"u"&&Me!==9;var st=jwe,kt=Zwe,Et=Qwe,Dt=Ywe,Vt=Kwe,fn=Xwe,Vi=$we,pt=null,gt=Bi({},[].concat(O2(XF),O2(H9),O2(U9),O2(z9),O2(JF))),xi=null,kr=Bi({},[].concat(O2(qF),O2(G9),O2(eB),O2(k6))),br=null,Al=null,$l=!0,R0=!0,Kl=!1,Ht=!1,Jr=!1,Sa=!1,_h=!1,d2=!1,ya=!1,Ch=!0,f2=!1,wh=!0,Ee=!0,ye=!1,Le={},ie=null,le=Bi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_e=null,de=Bi({},["audio","video","img","source","image","track"]),We=null,Ke=Bi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),It="http://www.w3.org/1998/Math/MathML",_t="http://www.w3.org/2000/svg",jt="http://www.w3.org/1999/xhtml",Wt=jt,$i=!1,wi=null,Nt=l.createElement("form"),Qn=function(Pe){wi&&wi===Pe||((!Pe||(typeof Pe>"u"?"undefined":iA(Pe))!=="object")&&(Pe={}),Pe=Qh(Pe),pt="ALLOWED_TAGS"in Pe?Bi({},Pe.ALLOWED_TAGS):gt,xi="ALLOWED_ATTR"in Pe?Bi({},Pe.ALLOWED_ATTR):kr,We="ADD_URI_SAFE_ATTR"in Pe?Bi(Qh(Ke),Pe.ADD_URI_SAFE_ATTR):Ke,_e="ADD_DATA_URI_TAGS"in Pe?Bi(Qh(de),Pe.ADD_DATA_URI_TAGS):de,ie="FORBID_CONTENTS"in Pe?Bi({},Pe.FORBID_CONTENTS):le,br="FORBID_TAGS"in Pe?Bi({},Pe.FORBID_TAGS):{},Al="FORBID_ATTR"in Pe?Bi({},Pe.FORBID_ATTR):{},Le="USE_PROFILES"in Pe?Pe.USE_PROFILES:!1,$l=Pe.ALLOW_ARIA_ATTR!==!1,R0=Pe.ALLOW_DATA_ATTR!==!1,Kl=Pe.ALLOW_UNKNOWN_PROTOCOLS||!1,Ht=Pe.SAFE_FOR_TEMPLATES||!1,Jr=Pe.WHOLE_DOCUMENT||!1,d2=Pe.RETURN_DOM||!1,ya=Pe.RETURN_DOM_FRAGMENT||!1,Ch=Pe.RETURN_DOM_IMPORT!==!1,f2=Pe.RETURN_TRUSTED_TYPE||!1,_h=Pe.FORCE_BODY||!1,wh=Pe.SANITIZE_DOM!==!1,Ee=Pe.KEEP_CONTENT!==!1,ye=Pe.IN_PLACE||!1,Vi=Pe.ALLOWED_URI_REGEXP||Vi,Wt=Pe.NAMESPACE||jt,Ht&&(R0=!1),ya&&(d2=!0),Le&&(pt=Bi({},[].concat(O2(JF))),xi=[],Le.html===!0&&(Bi(pt,XF),Bi(xi,qF)),Le.svg===!0&&(Bi(pt,H9),Bi(xi,G9),Bi(xi,k6)),Le.svgFilters===!0&&(Bi(pt,U9),Bi(xi,G9),Bi(xi,k6)),Le.mathMl===!0&&(Bi(pt,z9),Bi(xi,eB),Bi(xi,k6))),Pe.ADD_TAGS&&(pt===gt&&(pt=Qh(pt)),Bi(pt,Pe.ADD_TAGS)),Pe.ADD_ATTR&&(xi===kr&&(xi=Qh(xi)),Bi(xi,Pe.ADD_ATTR)),Pe.ADD_URI_SAFE_ATTR&&Bi(We,Pe.ADD_URI_SAFE_ATTR),Pe.FORBID_CONTENTS&&(ie===le&&(ie=Qh(ie)),Bi(ie,Pe.FORBID_CONTENTS)),Ee&&(pt["#text"]=!0),Jr&&Bi(pt,["html","head","body"]),pt.table&&(Bi(pt,["tbody"]),delete br.tbody),Fo&&Fo(Pe),wi=Pe)},Dn=Bi({},["mi","mo","mn","ms","mtext"]),Co=Bi({},["foreignobject","desc","title","annotation-xml"]),_n=Bi({},H9);Bi(_n,U9),Bi(_n,zwe);var ms=Bi({},z9);Bi(ms,Gwe);var M0=function(Pe){var dt=z(Pe);(!dt||!dt.tagName)&&(dt={namespaceURI:jt,tagName:"template"});var Ot=ed(Pe.tagName),Pi=ed(dt.tagName);if(Pe.namespaceURI===_t)return dt.namespaceURI===jt?Ot==="svg":dt.namespaceURI===It?Ot==="svg"&&(Pi==="annotation-xml"||Dn[Pi]):Boolean(_n[Ot]);if(Pe.namespaceURI===It)return dt.namespaceURI===jt?Ot==="math":dt.namespaceURI===_t?Ot==="math"&&Co[Pi]:Boolean(ms[Ot]);if(Pe.namespaceURI===jt){if(dt.namespaceURI===_t&&!Co[Pi]||dt.namespaceURI===It&&!Dn[Pi])return!1;var Ss=Bi({},["title","style","font","a","script"]);return!ms[Ot]&&(Ss[Ot]||!_n[Ot])}return!1},qr=function(Pe){Vp(t.removed,{element:Pe});try{Pe.parentNode.removeChild(Pe)}catch{try{Pe.outerHTML=q}catch{Pe.remove()}}},Sr=function(Pe,dt){try{Vp(t.removed,{attribute:dt.getAttributeNode(Pe),from:dt})}catch{Vp(t.removed,{attribute:null,from:dt})}if(dt.removeAttribute(Pe),Pe==="is"&&!xi[Pe])if(d2||ya)try{qr(dt)}catch{}else try{dt.setAttribute(Pe,"")}catch{}},La=function(Pe){var dt=void 0,Ot=void 0;if(_h)Pe="<remove></remove>"+Pe;else{var Pi=$F(Pe,/^[\r\n\t ]+/);Ot=Pi&&Pi[0]}var Ss=K?K.createHTML(Pe):Pe;if(Wt===jt)try{dt=new I().parseFromString(Ss,"text/html")}catch{}if(!dt||!dt.documentElement){dt=J.createDocument(Wt,"template",null);try{dt.documentElement.innerHTML=$i?"":Ss}catch{}}var yr=dt.body||dt.documentElement;return Pe&&Ot&&yr.insertBefore(l.createTextNode(Ot),yr.childNodes[0]||null),Wt===jt?ge.call(dt,Jr?"html":"body")[0]:Jr?dt.documentElement:yr},Uo=function(Pe){return ne.call(Pe.ownerDocument||Pe,Pe,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},Fc=function(Pe){return Pe instanceof k||Pe instanceof D?!1:typeof Pe.nodeName!="string"||typeof Pe.textContent!="string"||typeof Pe.removeChild!="function"||!(Pe.attributes instanceof w)||typeof Pe.removeAttribute!="function"||typeof Pe.setAttribute!="function"||typeof Pe.namespaceURI!="string"||typeof Pe.insertBefore!="function"},Xl=function(Pe){return(typeof f>"u"?"undefined":iA(f))==="object"?Pe instanceof f:Pe&&(typeof Pe>"u"?"undefined":iA(Pe))==="object"&&typeof Pe.nodeType=="number"&&typeof Pe.nodeName=="string"},sr=function(Pe,dt,Ot){!ct[Pe]||Wwe(ct[Pe],function(Pi){Pi.call(t,dt,Ot,wi)})},P0=function(Pe){var dt=void 0;if(sr("beforeSanitizeElements",Pe,null),Fc(Pe)||$F(Pe.nodeName,/[\u0080-\uFFFF]/))return qr(Pe),!0;var Ot=ed(Pe.nodeName);if(sr("uponSanitizeElement",Pe,{tagName:Ot,allowedTags:pt}),!Xl(Pe.firstElementChild)&&(!Xl(Pe.content)||!Xl(Pe.content.firstElementChild))&&J0(/<[/\w]/g,Pe.innerHTML)&&J0(/<[/\w]/g,Pe.textContent)||Ot==="select"&&J0(/<template/i,Pe.innerHTML))return qr(Pe),!0;if(!pt[Ot]||br[Ot]){if(Ee&&!ie[Ot]){var Pi=z(Pe)||Pe.parentNode,Ss=B(Pe)||Pe.childNodes;if(Ss&&Pi)for(var yr=Ss.length,Lr=yr-1;Lr>=0;--Lr)Pi.insertBefore(O(Ss[Lr],!0),W(Pe))}return qr(Pe),!0}return Pe instanceof m&&!M0(Pe)||(Ot==="noscript"||Ot==="noembed")&&J0(/<\/no(script|embed)/i,Pe.innerHTML)?(qr(Pe),!0):(Ht&&Pe.nodeType===3&&(dt=Pe.textContent,dt=ou(dt,st," "),dt=ou(dt,kt," "),Pe.textContent!==dt&&(Vp(t.removed,{element:Pe.cloneNode()}),Pe.textContent=dt)),sr("afterSanitizeElements",Pe,null),!1)},zf=function(Pe,dt,Ot){if(wh&&(dt==="id"||dt==="name")&&(Ot in l||Ot in Nt))return!1;if(!(R0&&!Al[dt]&&J0(Et,dt))){if(!($l&&J0(Dt,dt))){if(!xi[dt]||Al[dt])return!1;if(!We[dt]){if(!J0(Vi,ou(Ot,fn,""))){if(!((dt==="src"||dt==="xlink:href"||dt==="href")&&Pe!=="script"&&Vwe(Ot,"data:")===0&&_e[Pe])){if(!(Kl&&!J0(Vt,ou(Ot,fn,"")))){if(Ot)return!1}}}}}}return!0},g2=function(Pe){var dt=void 0,Ot=void 0,Pi=void 0,Ss=void 0;sr("beforeSanitizeAttributes",Pe,null);var yr=Pe.attributes;if(!!yr){var Lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xi};for(Ss=yr.length;Ss--;){dt=yr[Ss];var Zs=dt,ve=Zs.name,Fe=Zs.namespaceURI;if(Ot=Hwe(dt.value),Pi=ed(ve),Lr.attrName=Pi,Lr.attrValue=Ot,Lr.keepAttr=!0,Lr.forceKeepAttr=void 0,sr("uponSanitizeAttribute",Pe,Lr),Ot=Lr.attrValue,!Lr.forceKeepAttr&&(Sr(ve,Pe),!!Lr.keepAttr)){if(J0(/\/>/i,Ot)){Sr(ve,Pe);continue}Ht&&(Ot=ou(Ot,st," "),Ot=ou(Ot,kt," "));var tt=Pe.nodeName.toLowerCase();if(!!zf(tt,Pi,Ot))try{Fe?Pe.setAttributeNS(Fe,ve,Ot):Pe.setAttribute(ve,Ot),YF(t.removed)}catch{}}}sr("afterSanitizeAttributes",Pe,null)}},Gf=function Zt(Pe){var dt=void 0,Ot=Uo(Pe);for(sr("beforeSanitizeShadowDOM",Pe,null);dt=Ot.nextNode();)sr("uponSanitizeShadowNode",dt,null),!P0(dt)&&(dt.content instanceof u&&Zt(dt.content),g2(dt));sr("afterSanitizeShadowDOM",Pe,null)};return t.sanitize=function(Zt,Pe){var dt=void 0,Ot=void 0,Pi=void 0,Ss=void 0,yr=void 0;if($i=!Zt,$i&&(Zt="<!-->"),typeof Zt!="string"&&!Xl(Zt)){if(typeof Zt.toString!="function")throw KF("toString is not a function");if(Zt=Zt.toString(),typeof Zt!="string")throw KF("dirty is not a string, aborting")}if(!t.isSupported){if(iA(d.toStaticHTML)==="object"||typeof d.toStaticHTML=="function"){if(typeof Zt=="string")return d.toStaticHTML(Zt);if(Xl(Zt))return d.toStaticHTML(Zt.outerHTML)}return Zt}if(Sa||Qn(Pe),t.removed=[],typeof Zt=="string"&&(ye=!1),!ye)if(Zt instanceof f)dt=La("<!---->"),Ot=dt.ownerDocument.importNode(Zt,!0),Ot.nodeType===1&&Ot.nodeName==="BODY"||Ot.nodeName==="HTML"?dt=Ot:dt.appendChild(Ot);else{if(!d2&&!Ht&&!Jr&&Zt.indexOf("<")===-1)return K&&f2?K.createHTML(Zt):Zt;if(dt=La(Zt),!dt)return d2?null:q}dt&&_h&&qr(dt.firstChild);for(var Lr=Uo(ye?Zt:dt);Pi=Lr.nextNode();)Pi.nodeType===3&&Pi===Ss||P0(Pi)||(Pi.content instanceof u&&Gf(Pi.content),g2(Pi),Ss=Pi);if(Ss=null,ye)return Zt;if(d2){if(ya)for(yr=Ae.call(dt.ownerDocument);dt.firstChild;)yr.appendChild(dt.firstChild);else yr=dt;return Ch&&(yr=Te.call(s,yr,!0)),yr}var Zs=Jr?dt.outerHTML:dt.innerHTML;return Ht&&(Zs=ou(Zs,st," "),Zs=ou(Zs,kt," ")),K&&f2?K.createHTML(Zs):Zs},t.setConfig=function(Zt){Qn(Zt),Sa=!0},t.clearConfig=function(){wi=null,Sa=!1},t.isValidAttribute=function(Zt,Pe,dt){wi||Qn({});var Ot=ed(Zt),Pi=ed(Pe);return zf(Ot,Pi,dt)},t.addHook=function(Zt,Pe){typeof Pe=="function"&&(ct[Zt]=ct[Zt]||[],Vp(ct[Zt],Pe))},t.removeHook=function(Zt){ct[Zt]&&YF(ct[Zt])},t.removeHooks=function(Zt){ct[Zt]&&(ct[Zt]=[])},t.removeAllHooks=function(){ct={}},t}var T0=nj();T0.version;T0.isSupported;const eve=T0.sanitize;T0.setConfig;T0.clearConfig;T0.isValidAttribute;const tB=T0.addHook,iB=T0.removeHook;T0.removeHooks;T0.removeAllHooks;let sj={};(function(){function d(t,s){s(sj)}d.amd=!0,function(t,s){typeof exports=="object"&&typeof module<"u"?s(exports):typeof d=="function"&&d.amd?d(["exports"],s):(t=typeof globalThis<"u"?globalThis:t||self,s(t.marked={}))}(this,function(t){function s(Ee,ye){for(var Le=0;Le<ye.length;Le++){var ie=ye[Le];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(Ee,ie.key,ie)}}function l(Ee,ye,Le){return ye&&s(Ee.prototype,ye),Le&&s(Ee,Le),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}function u(Ee,ye){if(!!Ee){if(typeof Ee=="string")return h(Ee,ye);var Le=Object.prototype.toString.call(Ee).slice(8,-1);if(Le==="Object"&&Ee.constructor&&(Le=Ee.constructor.name),Le==="Map"||Le==="Set")return Array.from(Ee);if(Le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return h(Ee,ye)}}function h(Ee,ye){(ye==null||ye>Ee.length)&&(ye=Ee.length);for(var Le=0,ie=new Array(ye);Le<ye;Le++)ie[Le]=Ee[Le];return ie}function f(Ee,ye){var Le=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(Le)return(Le=Le.call(Ee)).next.bind(Le);if(Array.isArray(Ee)||(Le=u(Ee))||ye&&Ee&&typeof Ee.length=="number"){Le&&(Ee=Le);var ie=0;return function(){return ie>=Ee.length?{done:!0}:{done:!1,value:Ee[ie++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults=m();function A(Ee){t.defaults=Ee}var C=/[&<>"']/,w=/[&<>"']/g,k=/[<>"']|&(?!#?\w+;)/,D=/[<>"']|&(?!#?\w+;)/g,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},N=function(ye){return I[ye]};function R(Ee,ye){if(ye){if(C.test(Ee))return Ee.replace(w,N)}else if(k.test(Ee))return Ee.replace(D,N);return Ee}var O=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function W(Ee){return Ee.replace(O,function(ye,Le){return Le=Le.toLowerCase(),Le==="colon"?":":Le.charAt(0)==="#"?Le.charAt(1)==="x"?String.fromCharCode(parseInt(Le.substring(2),16)):String.fromCharCode(+Le.substring(1)):""})}var B=/(^|[^\[])\^/g;function z(Ee,ye){Ee=Ee.source||Ee,ye=ye||"";var Le={replace:function(le,_e){return _e=_e.source||_e,_e=_e.replace(B,"$1"),Ee=Ee.replace(le,_e),Le},getRegex:function(){return new RegExp(Ee,ye)}};return Le}var G=/[^\w:]/g,K=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function q(Ee,ye,Le){if(Ee){var ie;try{ie=decodeURIComponent(W(Le)).replace(G,"").toLowerCase()}catch{return null}if(ie.indexOf("javascript:")===0||ie.indexOf("vbscript:")===0||ie.indexOf("data:")===0)return null}ye&&!K.test(Le)&&(Le=ge(ye,Le));try{Le=encodeURI(Le).replace(/%25/g,"%")}catch{return null}return Le}var Y={},J=/^[^:]+:\/*[^/]*$/,ne=/^([^:]+:)[\s\S]*$/,Ae=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ge(Ee,ye){Y[" "+Ee]||(J.test(Ee)?Y[" "+Ee]=Ee+"/":Y[" "+Ee]=st(Ee,"/",!0)),Ee=Y[" "+Ee];var Le=Ee.indexOf(":")===-1;return ye.substring(0,2)==="//"?Le?ye:Ee.replace(ne,"$1")+ye:ye.charAt(0)==="/"?Le?ye:Ee.replace(Ae,"$1")+ye:Ee+ye}var Te={exec:function(){}};function Me(Ee){for(var ye=1,Le,ie;ye<arguments.length;ye++){Le=arguments[ye];for(ie in Le)Object.prototype.hasOwnProperty.call(Le,ie)&&(Ee[ie]=Le[ie])}return Ee}function ct(Ee,ye){var Le=Ee.replace(/\|/g,function(_e,de,We){for(var Ke=!1,It=de;--It>=0&&We[It]==="\\";)Ke=!Ke;return Ke?"|":" |"}),ie=Le.split(/ \|/),le=0;if(ie[0].trim()||ie.shift(),ie[ie.length-1].trim()||ie.pop(),ie.length>ye)ie.splice(ye);else for(;ie.length<ye;)ie.push("");for(;le<ie.length;le++)ie[le]=ie[le].trim().replace(/\\\|/g,"|");return ie}function st(Ee,ye,Le){var ie=Ee.length;if(ie===0)return"";for(var le=0;le<ie;){var _e=Ee.charAt(ie-le-1);if(_e===ye&&!Le)le++;else if(_e!==ye&&Le)le++;else break}return Ee.substr(0,ie-le)}function kt(Ee,ye){if(Ee.indexOf(ye[1])===-1)return-1;for(var Le=Ee.length,ie=0,le=0;le<Le;le++)if(Ee[le]==="\\")le++;else if(Ee[le]===ye[0])ie++;else if(Ee[le]===ye[1]&&(ie--,ie<0))return le;return-1}function Et(Ee){Ee&&Ee.sanitize&&!Ee.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Dt(Ee,ye){if(ye<1)return"";for(var Le="";ye>1;)ye&1&&(Le+=Ee),ye>>=1,Ee+=Ee;return Le+Ee}function Vt(Ee,ye,Le,ie){var le=ye.href,_e=ye.title?R(ye.title):null,de=Ee[1].replace(/\\([\[\]])/g,"$1");if(Ee[0].charAt(0)!=="!"){ie.state.inLink=!0;var We={type:"link",raw:Le,href:le,title:_e,text:de,tokens:ie.inlineTokens(de,[])};return ie.state.inLink=!1,We}else return{type:"image",raw:Le,href:le,title:_e,text:R(de)}}function fn(Ee,ye){var Le=Ee.match(/^(\s+)(?:```)/);if(Le===null)return ye;var ie=Le[1];return ye.split(`
`).map(function(le){var _e=le.match(/^\s+/);if(_e===null)return le;var de=_e[0];return de.length>=ie.length?le.slice(ie.length):le}).join(`
`)}var Vi=function(){function Ee(Le){this.options=Le||t.defaults}var ye=Ee.prototype;return ye.space=function(ie){var le=this.rules.block.newline.exec(ie);if(le&&le[0].length>0)return{type:"space",raw:le[0]}},ye.code=function(ie){var le=this.rules.block.code.exec(ie);if(le){var _e=le[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:le[0],codeBlockStyle:"indented",text:this.options.pedantic?_e:st(_e,`
`)}}},ye.fences=function(ie){var le=this.rules.block.fences.exec(ie);if(le){var _e=le[0],de=fn(_e,le[3]||"");return{type:"code",raw:_e,lang:le[2]?le[2].trim():le[2],text:de}}},ye.heading=function(ie){var le=this.rules.block.heading.exec(ie);if(le){var _e=le[2].trim();if(/#$/.test(_e)){var de=st(_e,"#");(this.options.pedantic||!de||/ $/.test(de))&&(_e=de.trim())}var We={type:"heading",raw:le[0],depth:le[1].length,text:_e,tokens:[]};return this.lexer.inline(We.text,We.tokens),We}},ye.hr=function(ie){var le=this.rules.block.hr.exec(ie);if(le)return{type:"hr",raw:le[0]}},ye.blockquote=function(ie){var le=this.rules.block.blockquote.exec(ie);if(le){var _e=le[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:le[0],tokens:this.lexer.blockTokens(_e,[]),text:_e}}},ye.list=function(ie){var le=this.rules.block.list.exec(ie);if(le){var _e,de,We,Ke,It,_t,jt,Wt,$i,wi,Nt,Qn,Dn=le[1].trim(),Co=Dn.length>1,_n={type:"list",raw:"",ordered:Co,start:Co?+Dn.slice(0,-1):"",loose:!1,items:[]};Dn=Co?"\\d{1,9}\\"+Dn.slice(-1):"\\"+Dn,this.options.pedantic&&(Dn=Co?Dn:"[*+-]");for(var ms=new RegExp("^( {0,3}"+Dn+")((?: [^\\n]*)?(?:\\n|$))");ie&&(Qn=!1,!(!(le=ms.exec(ie))||this.rules.block.hr.test(ie)));){if(_e=le[0],ie=ie.substring(_e.length),Wt=le[2].split(`
`,1)[0],$i=ie.split(`
`,1)[0],this.options.pedantic?(Ke=2,Nt=Wt.trimLeft()):(Ke=le[2].search(/[^ ]/),Ke=Ke>4?1:Ke,Nt=Wt.slice(Ke),Ke+=le[1].length),_t=!1,!Wt&&/^ *$/.test($i)&&(_e+=$i+`
`,ie=ie.substring($i.length+1),Qn=!0),!Qn)for(var M0=new RegExp("^ {0,"+Math.min(3,Ke-1)+"}(?:[*+-]|\\d{1,9}[.)])");ie&&(wi=ie.split(`
`,1)[0],Wt=wi,this.options.pedantic&&(Wt=Wt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!M0.test(Wt));){if(Wt.search(/[^ ]/)>=Ke||!Wt.trim())Nt+=`
`+Wt.slice(Ke);else if(!_t)Nt+=`
`+Wt;else break;!_t&&!Wt.trim()&&(_t=!0),_e+=wi+`
`,ie=ie.substring(wi.length+1)}_n.loose||(jt?_n.loose=!0:/\n *\n *$/.test(_e)&&(jt=!0)),this.options.gfm&&(de=/^\[[ xX]\] /.exec(Nt),de&&(We=de[0]!=="[ ] ",Nt=Nt.replace(/^\[[ xX]\] +/,""))),_n.items.push({type:"list_item",raw:_e,task:!!de,checked:We,loose:!1,text:Nt}),_n.raw+=_e}_n.items[_n.items.length-1].raw=_e.trimRight(),_n.items[_n.items.length-1].text=Nt.trimRight(),_n.raw=_n.raw.trimRight();var qr=_n.items.length;for(It=0;It<qr;It++){this.lexer.state.top=!1,_n.items[It].tokens=this.lexer.blockTokens(_n.items[It].text,[]);var Sr=_n.items[It].tokens.filter(function(Uo){return Uo.type==="space"}),La=Sr.every(function(Uo){for(var Fc=Uo.raw.split(""),Xl=0,sr=f(Fc),P0;!(P0=sr()).done;){var zf=P0.value;if(zf===`
`&&(Xl+=1),Xl>1)return!0}return!1});!_n.loose&&Sr.length&&La&&(_n.loose=!0,_n.items[It].loose=!0)}return _n}},ye.html=function(ie){var le=this.rules.block.html.exec(ie);if(le){var _e={type:"html",raw:le[0],pre:!this.options.sanitizer&&(le[1]==="pre"||le[1]==="script"||le[1]==="style"),text:le[0]};return this.options.sanitize&&(_e.type="paragraph",_e.text=this.options.sanitizer?this.options.sanitizer(le[0]):R(le[0]),_e.tokens=[],this.lexer.inline(_e.text,_e.tokens)),_e}},ye.def=function(ie){var le=this.rules.block.def.exec(ie);if(le){le[3]&&(le[3]=le[3].substring(1,le[3].length-1));var _e=le[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:_e,raw:le[0],href:le[2],title:le[3]}}},ye.table=function(ie){var le=this.rules.block.table.exec(ie);if(le){var _e={type:"table",header:ct(le[1]).map(function(jt){return{text:jt}}),align:le[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:le[3]?le[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(_e.header.length===_e.align.length){_e.raw=le[0];var de=_e.align.length,We,Ke,It,_t;for(We=0;We<de;We++)/^ *-+: *$/.test(_e.align[We])?_e.align[We]="right":/^ *:-+: *$/.test(_e.align[We])?_e.align[We]="center":/^ *:-+ *$/.test(_e.align[We])?_e.align[We]="left":_e.align[We]=null;for(de=_e.rows.length,We=0;We<de;We++)_e.rows[We]=ct(_e.rows[We],_e.header.length).map(function(jt){return{text:jt}});for(de=_e.header.length,Ke=0;Ke<de;Ke++)_e.header[Ke].tokens=[],this.lexer.inlineTokens(_e.header[Ke].text,_e.header[Ke].tokens);for(de=_e.rows.length,Ke=0;Ke<de;Ke++)for(_t=_e.rows[Ke],It=0;It<_t.length;It++)_t[It].tokens=[],this.lexer.inlineTokens(_t[It].text,_t[It].tokens);return _e}}},ye.lheading=function(ie){var le=this.rules.block.lheading.exec(ie);if(le){var _e={type:"heading",raw:le[0],depth:le[2].charAt(0)==="="?1:2,text:le[1],tokens:[]};return this.lexer.inline(_e.text,_e.tokens),_e}},ye.paragraph=function(ie){var le=this.rules.block.paragraph.exec(ie);if(le){var _e={type:"paragraph",raw:le[0],text:le[1].charAt(le[1].length-1)===`
`?le[1].slice(0,-1):le[1],tokens:[]};return this.lexer.inline(_e.text,_e.tokens),_e}},ye.text=function(ie){var le=this.rules.block.text.exec(ie);if(le){var _e={type:"text",raw:le[0],text:le[0],tokens:[]};return this.lexer.inline(_e.text,_e.tokens),_e}},ye.escape=function(ie){var le=this.rules.inline.escape.exec(ie);if(le)return{type:"escape",raw:le[0],text:R(le[1])}},ye.tag=function(ie){var le=this.rules.inline.tag.exec(ie);if(le)return!this.lexer.state.inLink&&/^<a /i.test(le[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(le[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(le[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(le[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:le[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(le[0]):R(le[0]):le[0]}},ye.link=function(ie){var le=this.rules.inline.link.exec(ie);if(le){var _e=le[2].trim();if(!this.options.pedantic&&/^</.test(_e)){if(!/>$/.test(_e))return;var de=st(_e.slice(0,-1),"\\");if((_e.length-de.length)%2===0)return}else{var We=kt(le[2],"()");if(We>-1){var Ke=le[0].indexOf("!")===0?5:4,It=Ke+le[1].length+We;le[2]=le[2].substring(0,We),le[0]=le[0].substring(0,It).trim(),le[3]=""}}var _t=le[2],jt="";if(this.options.pedantic){var Wt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(_t);Wt&&(_t=Wt[1],jt=Wt[3])}else jt=le[3]?le[3].slice(1,-1):"";return _t=_t.trim(),/^</.test(_t)&&(this.options.pedantic&&!/>$/.test(_e)?_t=_t.slice(1):_t=_t.slice(1,-1)),Vt(le,{href:_t&&_t.replace(this.rules.inline._escapes,"$1"),title:jt&&jt.replace(this.rules.inline._escapes,"$1")},le[0],this.lexer)}},ye.reflink=function(ie,le){var _e;if((_e=this.rules.inline.reflink.exec(ie))||(_e=this.rules.inline.nolink.exec(ie))){var de=(_e[2]||_e[1]).replace(/\s+/g," ");if(de=le[de.toLowerCase()],!de||!de.href){var We=_e[0].charAt(0);return{type:"text",raw:We,text:We}}return Vt(_e,de,_e[0],this.lexer)}},ye.emStrong=function(ie,le,_e){_e===void 0&&(_e="");var de=this.rules.inline.emStrong.lDelim.exec(ie);if(!!de&&!(de[3]&&_e.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var We=de[1]||de[2]||"";if(!We||We&&(_e===""||this.rules.inline.punctuation.exec(_e))){var Ke=de[0].length-1,It,_t,jt=Ke,Wt=0,$i=de[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for($i.lastIndex=0,le=le.slice(-1*ie.length+Ke);(de=$i.exec(le))!=null;)if(It=de[1]||de[2]||de[3]||de[4]||de[5]||de[6],!!It){if(_t=It.length,de[3]||de[4]){jt+=_t;continue}else if((de[5]||de[6])&&Ke%3&&!((Ke+_t)%3)){Wt+=_t;continue}if(jt-=_t,!(jt>0)){if(_t=Math.min(_t,_t+jt+Wt),Math.min(Ke,_t)%2){var wi=ie.slice(1,Ke+de.index+_t);return{type:"em",raw:ie.slice(0,Ke+de.index+_t+1),text:wi,tokens:this.lexer.inlineTokens(wi,[])}}var Nt=ie.slice(2,Ke+de.index+_t-1);return{type:"strong",raw:ie.slice(0,Ke+de.index+_t+1),text:Nt,tokens:this.lexer.inlineTokens(Nt,[])}}}}}},ye.codespan=function(ie){var le=this.rules.inline.code.exec(ie);if(le){var _e=le[2].replace(/\n/g," "),de=/[^ ]/.test(_e),We=/^ /.test(_e)&&/ $/.test(_e);return de&&We&&(_e=_e.substring(1,_e.length-1)),_e=R(_e,!0),{type:"codespan",raw:le[0],text:_e}}},ye.br=function(ie){var le=this.rules.inline.br.exec(ie);if(le)return{type:"br",raw:le[0]}},ye.del=function(ie){var le=this.rules.inline.del.exec(ie);if(le)return{type:"del",raw:le[0],text:le[2],tokens:this.lexer.inlineTokens(le[2],[])}},ye.autolink=function(ie,le){var _e=this.rules.inline.autolink.exec(ie);if(_e){var de,We;return _e[2]==="@"?(de=R(this.options.mangle?le(_e[1]):_e[1]),We="mailto:"+de):(de=R(_e[1]),We=de),{type:"link",raw:_e[0],text:de,href:We,tokens:[{type:"text",raw:de,text:de}]}}},ye.url=function(ie,le){var _e;if(_e=this.rules.inline.url.exec(ie)){var de,We;if(_e[2]==="@")de=R(this.options.mangle?le(_e[0]):_e[0]),We="mailto:"+de;else{var Ke;do Ke=_e[0],_e[0]=this.rules.inline._backpedal.exec(_e[0])[0];while(Ke!==_e[0]);de=R(_e[0]),_e[1]==="www."?We="http://"+de:We=de}return{type:"link",raw:_e[0],text:de,href:We,tokens:[{type:"text",raw:de,text:de}]}}},ye.inlineText=function(ie,le){var _e=this.rules.inline.text.exec(ie);if(_e){var de;return this.lexer.state.inRawBlock?de=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(_e[0]):R(_e[0]):_e[0]:de=R(this.options.smartypants?le(_e[0]):_e[0]),{type:"text",raw:_e[0],text:de}}},Ee}(),pt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Te,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};pt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,pt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,pt.def=z(pt.def).replace("label",pt._label).replace("title",pt._title).getRegex(),pt.bullet=/(?:[*+-]|\d{1,9}[.)])/,pt.listItemStart=z(/^( *)(bull) */).replace("bull",pt.bullet).getRegex(),pt.list=z(pt.list).replace(/bull/g,pt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+pt.def.source+")").getRegex(),pt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,pt.html=z(pt.html,"i").replace("comment",pt._comment).replace("tag",pt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pt.paragraph=z(pt._paragraph).replace("hr",pt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pt._tag).getRegex(),pt.blockquote=z(pt.blockquote).replace("paragraph",pt.paragraph).getRegex(),pt.normal=Me({},pt),pt.gfm=Me({},pt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),pt.gfm.table=z(pt.gfm.table).replace("hr",pt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pt._tag).getRegex(),pt.gfm.paragraph=z(pt._paragraph).replace("hr",pt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",pt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pt._tag).getRegex(),pt.pedantic=Me({},pt.normal,{html:z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Te,paragraph:z(pt.normal._paragraph).replace("hr",pt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var gt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Te,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Te,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};gt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",gt.punctuation=z(gt.punctuation).replace(/punctuation/g,gt._punctuation).getRegex(),gt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,gt.escapedEmSt=/\\\*|\\_/g,gt._comment=z(pt._comment).replace("(?:-->|$)","-->").getRegex(),gt.emStrong.lDelim=z(gt.emStrong.lDelim).replace(/punct/g,gt._punctuation).getRegex(),gt.emStrong.rDelimAst=z(gt.emStrong.rDelimAst,"g").replace(/punct/g,gt._punctuation).getRegex(),gt.emStrong.rDelimUnd=z(gt.emStrong.rDelimUnd,"g").replace(/punct/g,gt._punctuation).getRegex(),gt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,gt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,gt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,gt.autolink=z(gt.autolink).replace("scheme",gt._scheme).replace("email",gt._email).getRegex(),gt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,gt.tag=z(gt.tag).replace("comment",gt._comment).replace("attribute",gt._attribute).getRegex(),gt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,gt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,gt.link=z(gt.link).replace("label",gt._label).replace("href",gt._href).replace("title",gt._title).getRegex(),gt.reflink=z(gt.reflink).replace("label",gt._label).replace("ref",pt._label).getRegex(),gt.nolink=z(gt.nolink).replace("ref",pt._label).getRegex(),gt.reflinkSearch=z(gt.reflinkSearch,"g").replace("reflink",gt.reflink).replace("nolink",gt.nolink).getRegex(),gt.normal=Me({},gt),gt.pedantic=Me({},gt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:z(/^!?\[(label)\]\((.*?)\)/).replace("label",gt._label).getRegex(),reflink:z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",gt._label).getRegex()}),gt.gfm=Me({},gt.normal,{escape:z(gt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),gt.gfm.url=z(gt.gfm.url,"i").replace("email",gt.gfm._extended_email).getRegex(),gt.breaks=Me({},gt.gfm,{br:z(gt.br).replace("{2,}","*").getRegex(),text:z(gt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function xi(Ee){return Ee.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function kr(Ee){var ye="",Le,ie,le=Ee.length;for(Le=0;Le<le;Le++)ie=Ee.charCodeAt(Le),Math.random()>.5&&(ie="x"+ie.toString(16)),ye+="&#"+ie+";";return ye}var br=function(){function Ee(Le){this.tokens=[],this.tokens.links=Object.create(null),this.options=Le||t.defaults,this.options.tokenizer=this.options.tokenizer||new Vi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var ie={block:pt.normal,inline:gt.normal};this.options.pedantic?(ie.block=pt.pedantic,ie.inline=gt.pedantic):this.options.gfm&&(ie.block=pt.gfm,this.options.breaks?ie.inline=gt.breaks:ie.inline=gt.gfm),this.tokenizer.rules=ie}Ee.lex=function(ie,le){var _e=new Ee(le);return _e.lex(ie)},Ee.lexInline=function(ie,le){var _e=new Ee(le);return _e.inlineTokens(ie)};var ye=Ee.prototype;return ye.lex=function(ie){ie=ie.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(ie,this.tokens);for(var le;le=this.inlineQueue.shift();)this.inlineTokens(le.src,le.tokens);return this.tokens},ye.blockTokens=function(ie,le){var _e=this;le===void 0&&(le=[]),this.options.pedantic&&(ie=ie.replace(/^ +$/gm,""));for(var de,We,Ke,It;ie;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(jt){return(de=jt.call({lexer:_e},ie,le))?(ie=ie.substring(de.raw.length),le.push(de),!0):!1}))){if(de=this.tokenizer.space(ie)){ie=ie.substring(de.raw.length),de.raw.length===1&&le.length>0?le[le.length-1].raw+=`
`:le.push(de);continue}if(de=this.tokenizer.code(ie)){ie=ie.substring(de.raw.length),We=le[le.length-1],We&&(We.type==="paragraph"||We.type==="text")?(We.raw+=`
`+de.raw,We.text+=`
`+de.text,this.inlineQueue[this.inlineQueue.length-1].src=We.text):le.push(de);continue}if(de=this.tokenizer.fences(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.heading(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.hr(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.blockquote(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.list(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.html(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.def(ie)){ie=ie.substring(de.raw.length),We=le[le.length-1],We&&(We.type==="paragraph"||We.type==="text")?(We.raw+=`
`+de.raw,We.text+=`
`+de.raw,this.inlineQueue[this.inlineQueue.length-1].src=We.text):this.tokens.links[de.tag]||(this.tokens.links[de.tag]={href:de.href,title:de.title});continue}if(de=this.tokenizer.table(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.lheading(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(Ke=ie,this.options.extensions&&this.options.extensions.startBlock&&function(){var jt=1/0,Wt=ie.slice(1),$i=void 0;_e.options.extensions.startBlock.forEach(function(wi){$i=wi.call({lexer:this},Wt),typeof $i=="number"&&$i>=0&&(jt=Math.min(jt,$i))}),jt<1/0&&jt>=0&&(Ke=ie.substring(0,jt+1))}(),this.state.top&&(de=this.tokenizer.paragraph(Ke))){We=le[le.length-1],It&&We.type==="paragraph"?(We.raw+=`
`+de.raw,We.text+=`
`+de.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=We.text):le.push(de),It=Ke.length!==ie.length,ie=ie.substring(de.raw.length);continue}if(de=this.tokenizer.text(ie)){ie=ie.substring(de.raw.length),We=le[le.length-1],We&&We.type==="text"?(We.raw+=`
`+de.raw,We.text+=`
`+de.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=We.text):le.push(de);continue}if(ie){var _t="Infinite loop on byte: "+ie.charCodeAt(0);if(this.options.silent){console.error(_t);break}else throw new Error(_t)}}return this.state.top=!0,le},ye.inline=function(ie,le){this.inlineQueue.push({src:ie,tokens:le})},ye.inlineTokens=function(ie,le){var _e=this;le===void 0&&(le=[]);var de,We,Ke,It=ie,_t,jt,Wt;if(this.tokens.links){var $i=Object.keys(this.tokens.links);if($i.length>0)for(;(_t=this.tokenizer.rules.inline.reflinkSearch.exec(It))!=null;)$i.includes(_t[0].slice(_t[0].lastIndexOf("[")+1,-1))&&(It=It.slice(0,_t.index)+"["+Dt("a",_t[0].length-2)+"]"+It.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(_t=this.tokenizer.rules.inline.blockSkip.exec(It))!=null;)It=It.slice(0,_t.index)+"["+Dt("a",_t[0].length-2)+"]"+It.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(_t=this.tokenizer.rules.inline.escapedEmSt.exec(It))!=null;)It=It.slice(0,_t.index)+"++"+It.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ie;)if(jt||(Wt=""),jt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Nt){return(de=Nt.call({lexer:_e},ie,le))?(ie=ie.substring(de.raw.length),le.push(de),!0):!1}))){if(de=this.tokenizer.escape(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.tag(ie)){ie=ie.substring(de.raw.length),We=le[le.length-1],We&&de.type==="text"&&We.type==="text"?(We.raw+=de.raw,We.text+=de.text):le.push(de);continue}if(de=this.tokenizer.link(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.reflink(ie,this.tokens.links)){ie=ie.substring(de.raw.length),We=le[le.length-1],We&&de.type==="text"&&We.type==="text"?(We.raw+=de.raw,We.text+=de.text):le.push(de);continue}if(de=this.tokenizer.emStrong(ie,It,Wt)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.codespan(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.br(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.del(ie)){ie=ie.substring(de.raw.length),le.push(de);continue}if(de=this.tokenizer.autolink(ie,kr)){ie=ie.substring(de.raw.length),le.push(de);continue}if(!this.state.inLink&&(de=this.tokenizer.url(ie,kr))){ie=ie.substring(de.raw.length),le.push(de);continue}if(Ke=ie,this.options.extensions&&this.options.extensions.startInline&&function(){var Nt=1/0,Qn=ie.slice(1),Dn=void 0;_e.options.extensions.startInline.forEach(function(Co){Dn=Co.call({lexer:this},Qn),typeof Dn=="number"&&Dn>=0&&(Nt=Math.min(Nt,Dn))}),Nt<1/0&&Nt>=0&&(Ke=ie.substring(0,Nt+1))}(),de=this.tokenizer.inlineText(Ke,xi)){ie=ie.substring(de.raw.length),de.raw.slice(-1)!=="_"&&(Wt=de.raw.slice(-1)),jt=!0,We=le[le.length-1],We&&We.type==="text"?(We.raw+=de.raw,We.text+=de.text):le.push(de);continue}if(ie){var wi="Infinite loop on byte: "+ie.charCodeAt(0);if(this.options.silent){console.error(wi);break}else throw new Error(wi)}}return le},l(Ee,null,[{key:"rules",get:function(){return{block:pt,inline:gt}}}]),Ee}(),Al=function(){function Ee(Le){this.options=Le||t.defaults}var ye=Ee.prototype;return ye.code=function(ie,le,_e){var de=(le||"").match(/\S*/)[0];if(this.options.highlight){var We=this.options.highlight(ie,de);We!=null&&We!==ie&&(_e=!0,ie=We)}return ie=ie.replace(/\n$/,"")+`
`,de?'<pre><code class="'+this.options.langPrefix+R(de,!0)+'">'+(_e?ie:R(ie,!0))+`</code></pre>
`:"<pre><code>"+(_e?ie:R(ie,!0))+`</code></pre>
`},ye.blockquote=function(ie){return`<blockquote>
`+ie+`</blockquote>
`},ye.html=function(ie){return ie},ye.heading=function(ie,le,_e,de){return this.options.headerIds?"<h"+le+' id="'+this.options.headerPrefix+de.slug(_e)+'">'+ie+"</h"+le+`>
`:"<h"+le+">"+ie+"</h"+le+`>
`},ye.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ye.list=function(ie,le,_e){var de=le?"ol":"ul",We=le&&_e!==1?' start="'+_e+'"':"";return"<"+de+We+`>
`+ie+"</"+de+`>
`},ye.listitem=function(ie){return"<li>"+ie+`</li>
`},ye.checkbox=function(ie){return"<input "+(ie?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ye.paragraph=function(ie){return"<p>"+ie+`</p>
`},ye.table=function(ie,le){return le&&(le="<tbody>"+le+"</tbody>"),`<table>
<thead>
`+ie+`</thead>
`+le+`</table>
`},ye.tablerow=function(ie){return`<tr>
`+ie+`</tr>
`},ye.tablecell=function(ie,le){var _e=le.header?"th":"td",de=le.align?"<"+_e+' align="'+le.align+'">':"<"+_e+">";return de+ie+"</"+_e+`>
`},ye.strong=function(ie){return"<strong>"+ie+"</strong>"},ye.em=function(ie){return"<em>"+ie+"</em>"},ye.codespan=function(ie){return"<code>"+ie+"</code>"},ye.br=function(){return this.options.xhtml?"<br/>":"<br>"},ye.del=function(ie){return"<del>"+ie+"</del>"},ye.link=function(ie,le,_e){if(ie=q(this.options.sanitize,this.options.baseUrl,ie),ie===null)return _e;var de='<a href="'+R(ie)+'"';return le&&(de+=' title="'+le+'"'),de+=">"+_e+"</a>",de},ye.image=function(ie,le,_e){if(ie=q(this.options.sanitize,this.options.baseUrl,ie),ie===null)return _e;var de='<img src="'+ie+'" alt="'+_e+'"';return le&&(de+=' title="'+le+'"'),de+=this.options.xhtml?"/>":">",de},ye.text=function(ie){return ie},Ee}(),$l=function(){function Ee(){}var ye=Ee.prototype;return ye.strong=function(ie){return ie},ye.em=function(ie){return ie},ye.codespan=function(ie){return ie},ye.del=function(ie){return ie},ye.html=function(ie){return ie},ye.text=function(ie){return ie},ye.link=function(ie,le,_e){return""+_e},ye.image=function(ie,le,_e){return""+_e},ye.br=function(){return""},Ee}(),R0=function(){function Ee(){this.seen={}}var ye=Ee.prototype;return ye.serialize=function(ie){return ie.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ye.getNextSafeSlug=function(ie,le){var _e=ie,de=0;if(this.seen.hasOwnProperty(_e)){de=this.seen[ie];do de++,_e=ie+"-"+de;while(this.seen.hasOwnProperty(_e))}return le||(this.seen[ie]=de,this.seen[_e]=0),_e},ye.slug=function(ie,le){le===void 0&&(le={});var _e=this.serialize(ie);return this.getNextSafeSlug(_e,le.dryrun)},Ee}(),Kl=function(){function Ee(Le){this.options=Le||t.defaults,this.options.renderer=this.options.renderer||new Al,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $l,this.slugger=new R0}Ee.parse=function(ie,le){var _e=new Ee(le);return _e.parse(ie)},Ee.parseInline=function(ie,le){var _e=new Ee(le);return _e.parseInline(ie)};var ye=Ee.prototype;return ye.parse=function(ie,le){le===void 0&&(le=!0);var _e="",de,We,Ke,It,_t,jt,Wt,$i,wi,Nt,Qn,Dn,Co,_n,ms,M0,qr,Sr,La,Uo=ie.length;for(de=0;de<Uo;de++){if(Nt=ie[de],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Nt.type]&&(La=this.options.extensions.renderers[Nt.type].call({parser:this},Nt),La!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Nt.type))){_e+=La||"";continue}switch(Nt.type){case"space":continue;case"hr":{_e+=this.renderer.hr();continue}case"heading":{_e+=this.renderer.heading(this.parseInline(Nt.tokens),Nt.depth,W(this.parseInline(Nt.tokens,this.textRenderer)),this.slugger);continue}case"code":{_e+=this.renderer.code(Nt.text,Nt.lang,Nt.escaped);continue}case"table":{for($i="",Wt="",It=Nt.header.length,We=0;We<It;We++)Wt+=this.renderer.tablecell(this.parseInline(Nt.header[We].tokens),{header:!0,align:Nt.align[We]});for($i+=this.renderer.tablerow(Wt),wi="",It=Nt.rows.length,We=0;We<It;We++){for(jt=Nt.rows[We],Wt="",_t=jt.length,Ke=0;Ke<_t;Ke++)Wt+=this.renderer.tablecell(this.parseInline(jt[Ke].tokens),{header:!1,align:Nt.align[Ke]});wi+=this.renderer.tablerow(Wt)}_e+=this.renderer.table($i,wi);continue}case"blockquote":{wi=this.parse(Nt.tokens),_e+=this.renderer.blockquote(wi);continue}case"list":{for(Qn=Nt.ordered,Dn=Nt.start,Co=Nt.loose,It=Nt.items.length,wi="",We=0;We<It;We++)ms=Nt.items[We],M0=ms.checked,qr=ms.task,_n="",ms.task&&(Sr=this.renderer.checkbox(M0),Co?ms.tokens.length>0&&ms.tokens[0].type==="paragraph"?(ms.tokens[0].text=Sr+" "+ms.tokens[0].text,ms.tokens[0].tokens&&ms.tokens[0].tokens.length>0&&ms.tokens[0].tokens[0].type==="text"&&(ms.tokens[0].tokens[0].text=Sr+" "+ms.tokens[0].tokens[0].text)):ms.tokens.unshift({type:"text",text:Sr}):_n+=Sr),_n+=this.parse(ms.tokens,Co),wi+=this.renderer.listitem(_n,qr,M0);_e+=this.renderer.list(wi,Qn,Dn);continue}case"html":{_e+=this.renderer.html(Nt.text);continue}case"paragraph":{_e+=this.renderer.paragraph(this.parseInline(Nt.tokens));continue}case"text":{for(wi=Nt.tokens?this.parseInline(Nt.tokens):Nt.text;de+1<Uo&&ie[de+1].type==="text";)Nt=ie[++de],wi+=`
`+(Nt.tokens?this.parseInline(Nt.tokens):Nt.text);_e+=le?this.renderer.paragraph(wi):wi;continue}default:{var Fc='Token with "'+Nt.type+'" type was not found.';if(this.options.silent){console.error(Fc);return}else throw new Error(Fc)}}}return _e},ye.parseInline=function(ie,le){le=le||this.renderer;var _e="",de,We,Ke,It=ie.length;for(de=0;de<It;de++){if(We=ie[de],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[We.type]&&(Ke=this.options.extensions.renderers[We.type].call({parser:this},We),Ke!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(We.type))){_e+=Ke||"";continue}switch(We.type){case"escape":{_e+=le.text(We.text);break}case"html":{_e+=le.html(We.text);break}case"link":{_e+=le.link(We.href,We.title,this.parseInline(We.tokens,le));break}case"image":{_e+=le.image(We.href,We.title,We.text);break}case"strong":{_e+=le.strong(this.parseInline(We.tokens,le));break}case"em":{_e+=le.em(this.parseInline(We.tokens,le));break}case"codespan":{_e+=le.codespan(We.text);break}case"br":{_e+=le.br();break}case"del":{_e+=le.del(this.parseInline(We.tokens,le));break}case"text":{_e+=le.text(We.text);break}default:{var _t='Token with "'+We.type+'" type was not found.';if(this.options.silent){console.error(_t);return}else throw new Error(_t)}}}return _e},Ee}();function Ht(Ee,ye,Le){if(typeof Ee>"u"||Ee===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ee!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ee)+", string expected");if(typeof ye=="function"&&(Le=ye,ye=null),ye=Me({},Ht.defaults,ye||{}),Et(ye),Le){var ie=ye.highlight,le;try{le=br.lex(Ee,ye)}catch(Ke){return Le(Ke)}var _e=function(It){var _t;if(!It)try{ye.walkTokens&&Ht.walkTokens(le,ye.walkTokens),_t=Kl.parse(le,ye)}catch(jt){It=jt}return ye.highlight=ie,It?Le(It):Le(null,_t)};if(!ie||ie.length<3||(delete ye.highlight,!le.length))return _e();var de=0;Ht.walkTokens(le,function(Ke){Ke.type==="code"&&(de++,setTimeout(function(){ie(Ke.text,Ke.lang,function(It,_t){if(It)return _e(It);_t!=null&&_t!==Ke.text&&(Ke.text=_t,Ke.escaped=!0),de--,de===0&&_e()})},0))}),de===0&&_e();return}try{var We=br.lex(Ee,ye);return ye.walkTokens&&Ht.walkTokens(We,ye.walkTokens),Kl.parse(We,ye)}catch(Ke){if(Ke.message+=`
Please report this to https://github.com/markedjs/marked.`,ye.silent)return"<p>An error occurred:</p><pre>"+R(Ke.message+"",!0)+"</pre>";throw Ke}}Ht.options=Ht.setOptions=function(Ee){return Me(Ht.defaults,Ee),A(Ht.defaults),Ht},Ht.getDefaults=m,Ht.defaults=t.defaults,Ht.use=function(){for(var Ee=arguments.length,ye=new Array(Ee),Le=0;Le<Ee;Le++)ye[Le]=arguments[Le];var ie=Me.apply(void 0,[{}].concat(ye)),le=Ht.defaults.extensions||{renderers:{},childTokens:{}},_e;ye.forEach(function(de){if(de.extensions&&(_e=!0,de.extensions.forEach(function(Ke){if(!Ke.name)throw new Error("extension name required");if(Ke.renderer){var It=le.renderers?le.renderers[Ke.name]:null;It?le.renderers[Ke.name]=function(){for(var _t=arguments.length,jt=new Array(_t),Wt=0;Wt<_t;Wt++)jt[Wt]=arguments[Wt];var $i=Ke.renderer.apply(this,jt);return $i===!1&&($i=It.apply(this,jt)),$i}:le.renderers[Ke.name]=Ke.renderer}if(Ke.tokenizer){if(!Ke.level||Ke.level!=="block"&&Ke.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");le[Ke.level]?le[Ke.level].unshift(Ke.tokenizer):le[Ke.level]=[Ke.tokenizer],Ke.start&&(Ke.level==="block"?le.startBlock?le.startBlock.push(Ke.start):le.startBlock=[Ke.start]:Ke.level==="inline"&&(le.startInline?le.startInline.push(Ke.start):le.startInline=[Ke.start]))}Ke.childTokens&&(le.childTokens[Ke.name]=Ke.childTokens)})),de.renderer&&function(){var Ke=Ht.defaults.renderer||new Al,It=function(Wt){var $i=Ke[Wt];Ke[Wt]=function(){for(var wi=arguments.length,Nt=new Array(wi),Qn=0;Qn<wi;Qn++)Nt[Qn]=arguments[Qn];var Dn=de.renderer[Wt].apply(Ke,Nt);return Dn===!1&&(Dn=$i.apply(Ke,Nt)),Dn}};for(var _t in de.renderer)It(_t);ie.renderer=Ke}(),de.tokenizer&&function(){var Ke=Ht.defaults.tokenizer||new Vi,It=function(Wt){var $i=Ke[Wt];Ke[Wt]=function(){for(var wi=arguments.length,Nt=new Array(wi),Qn=0;Qn<wi;Qn++)Nt[Qn]=arguments[Qn];var Dn=de.tokenizer[Wt].apply(Ke,Nt);return Dn===!1&&(Dn=$i.apply(Ke,Nt)),Dn}};for(var _t in de.tokenizer)It(_t);ie.tokenizer=Ke}(),de.walkTokens){var We=Ht.defaults.walkTokens;ie.walkTokens=function(Ke){de.walkTokens.call(this,Ke),We&&We.call(this,Ke)}}_e&&(ie.extensions=le),Ht.setOptions(ie)})},Ht.walkTokens=function(Ee,ye){for(var Le=function(){var de=le.value;switch(ye.call(Ht,de),de.type){case"table":{for(var We=f(de.header),Ke;!(Ke=We()).done;){var It=Ke.value;Ht.walkTokens(It.tokens,ye)}for(var _t=f(de.rows),jt;!(jt=_t()).done;)for(var Wt=jt.value,$i=f(Wt),wi;!(wi=$i()).done;){var Nt=wi.value;Ht.walkTokens(Nt.tokens,ye)}break}case"list":{Ht.walkTokens(de.items,ye);break}default:Ht.defaults.extensions&&Ht.defaults.extensions.childTokens&&Ht.defaults.extensions.childTokens[de.type]?Ht.defaults.extensions.childTokens[de.type].forEach(function(Qn){Ht.walkTokens(de[Qn],ye)}):de.tokens&&Ht.walkTokens(de.tokens,ye)}},ie=f(Ee),le;!(le=ie()).done;)Le()},Ht.parseInline=function(Ee,ye){if(typeof Ee>"u"||Ee===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ee!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ee)+", string expected");ye=Me({},Ht.defaults,ye||{}),Et(ye);try{var Le=br.lexInline(Ee,ye);return ye.walkTokens&&Ht.walkTokens(Le,ye.walkTokens),Kl.parseInline(Le,ye)}catch(ie){if(ie.message+=`
Please report this to https://github.com/markedjs/marked.`,ye.silent)return"<p>An error occurred:</p><pre>"+R(ie.message+"",!0)+"</pre>";throw ie}},Ht.Parser=Kl,Ht.parser=Kl.parse,Ht.Renderer=Al,Ht.TextRenderer=$l,Ht.Lexer=br,Ht.lexer=br.lex,Ht.Tokenizer=Vi,Ht.Slugger=R0,Ht.parse=Ht;var Jr=Ht.options,Sa=Ht.setOptions,_h=Ht.use,d2=Ht.walkTokens,ya=Ht.parseInline,Ch=Ht,f2=Kl.parse,wh=br.lex;t.Lexer=br,t.Parser=Kl,t.Renderer=Al,t.Slugger=R0,t.TextRenderer=$l,t.Tokenizer=Vi,t.getDefaults=m,t.lexer=wh,t.marked=Ht,t.options=Jr,t.parse=Ch,t.parseInline=ya,t.parser=f2,t.setOptions=Sa,t.use=_h,t.walkTokens=d2,Object.defineProperty(t,"__esModule",{value:!0})})})();var nB=sj||exports;function tve(d,t={},s={}){var l;const u=new je;let h=!1;const f=u.add(new tr),m=xx(t),A=function(W){let B;try{B=v7(decodeURIComponent(W))}catch{}return B?(B=sle(B,z=>{if(d.uris&&d.uris[z])return Lt.revive(d.uris[z])}),encodeURIComponent(JSON.stringify(B))):W},C=function(W,B){const z=d.uris&&d.uris[W];let G=Lt.revive(z);return B?W.startsWith(zt.data+":")?W:(G||(G=Lt.parse(W)),pV.asBrowserUri(G).toString(!0)):!G||Lt.parse(W).toString()===G.toString()?W:(G.query&&(G=G.with({query:A(G.query)})),G.toString())};let w;const k=new Promise(W=>w=W),D=new nB.Renderer;if(D.image=(W,B,z)=>{let G=[],K=[];return W&&({href:W,dimensions:G}=zAe(W),K.push(`src="${W}"`)),z&&K.push(`alt="${z}"`),B&&K.push(`title="${B}"`),G.length&&(K=K.concat(G)),"<img "+K.join(" ")+">"},D.link=(W,B,z)=>typeof W!="string"?"":(W===z&&(z=u9(z)),W=C(W,!1),d.baseUri&&(W=j9(Lt.from(d.baseUri),W)),B=typeof B=="string"?u9(B):"",W=u9(W),!W||/^data:|javascript:/i.test(W)||/^command:/i.test(W)&&!d.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(W)?z:(W=W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${W}" title="${B||W}">${z}</a>`)),D.paragraph=W=>`<p>${W}</p>`,t.codeBlockRenderer&&(D.code=(W,B)=>{const z=t.codeBlockRenderer(B??"",W),G=HU.nextId();return cI(Promise.all([z,k]),f.token).then(K=>{var q;if(!h&&K){const Y=m.querySelector(`div[data-code="${G}"]`);Y&&ju(Y,K[0]),(q=t.asyncRenderCallback)===null||q===void 0||q.call(t)}}).catch(()=>{}),`<div class="code" data-code="${G}">${QD(W)}</div>`}),t.actionHandler){const W=t.actionHandler.disposables.add(new Ui(m,"click")),B=t.actionHandler.disposables.add(new Ui(m,"auxclick"));t.actionHandler.disposables.add(ft.any(W.event,B.event)(z=>{const G=new El(z);if(!G.leftButton&&!G.middleButton)return;let K=G.target;if(!(K.tagName!=="A"&&(K=K.parentElement,!K||K.tagName!=="A")))try{let q=K.dataset.href;q&&(d.baseUri&&(q=j9(Lt.from(d.baseUri),q)),t.actionHandler.callback(q,G))}catch(q){Bt(q)}finally{G.preventDefault()}}))}d.supportHtml||(s.sanitizer=W=>(d.isTrusted?W.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?W:"",s.sanitize=!0,s.silent=!0),s.renderer=D;let I=(l=d.value)!==null&&l!==void 0?l:"";I.length>1e5&&(I=`${I.substr(0,1e5)}\u2026`),d.supportThemeIcons&&(I=Xpe(I));let N=nB.parse(I,s);d.supportThemeIcons&&(N=Nd(N).map(B=>typeof B=="string"?B:B.outerHTML).join(""));const O=new DOMParser().parseFromString(sB(d,N),"text/html");if(O.body.querySelectorAll("img").forEach(W=>{const B=W.getAttribute("src");if(B){let z=B;try{d.baseUri&&(z=j9(Lt.from(d.baseUri),z))}catch{}W.src=C(z,!0)}}),m.innerHTML=sB(d,O.body.innerHTML),w(),t.asyncRenderCallback)for(const W of m.getElementsByTagName("img")){const B=u.add(ze(W,"load",()=>{B.dispose(),t.asyncRenderCallback()}))}return{element:m,dispose:()=>{h=!0,f.cancel(),u.dispose()}}}function j9(d,t){return/^\w[\w\d+.-]*:/.test(t)?t:d.path.endsWith("/")?zP(d,t).toString():zP(sv(d),t).toString()}function sB(d,t){const{config:s,allowedSchemes:l}=ive(d);tB("uponSanitizeAttribute",(h,f)=>{if(f.attrName==="style"||f.attrName==="class"){if(h.tagName==="SPAN"){if(f.attrName==="style"){f.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(f.attrValue);return}else if(f.attrName==="class"){f.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(f.attrValue);return}}f.keepAttr=!1;return}});const u=document.createElement("a");tB("afterSanitizeAttributes",h=>{for(const f of["href","src"])h.hasAttribute(f)&&(u.href=h.getAttribute(f),l.includes(u.protocol.replace(/:$/,""))||h.removeAttribute(f))});try{return eve(t,Object.assign(Object.assign({},s),{RETURN_TRUSTED_TYPE:!0}))}finally{iB("uponSanitizeAttribute"),iB("afterSanitizeAttributes")}}function ive(d){const t=[zt.http,zt.https,zt.mailto,zt.data,zt.file,zt.vscodeFileResource,zt.vscodeRemote,zt.vscodeRemoteResource];return d.isTrusted&&t.push(zt.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}var nve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},rB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},sve=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},Z9;let Mc=class rj{constructor(t,s,l){this._options=t,this._languageService=s,this._openerService=l,this._onDidRenderAsync=new he,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(t,s,l){if(!t)return{element:document.createElement("span"),dispose:()=>{}};const u=new je;return{element:u.add(tve(t,Object.assign(Object.assign({},this._getRenderOptions(t,u)),s),l)).element,dispose:()=>u.dispose()}}_getRenderOptions(t,s){return{codeBlockRenderer:(l,u)=>sve(this,void 0,void 0,function*(){var h,f,m;let A;l?A=this._languageService.getLanguageIdByLanguageName(l):this._options.editor&&(A=(h=this._options.editor.getModel())===null||h===void 0?void 0:h.getLanguageId()),A||(A=I0);const C=yield r1e(this._languageService,u,A),w=document.createElement("span");if(w.innerHTML=(m=(f=rj._ttpTokenizer)===null||f===void 0?void 0:f.createHTML(C))!==null&&m!==void 0?m:C,this._options.editor){const k=this._options.editor.getOption(44);_r(w,k)}else this._options.codeBlockFontFamily&&(w.style.fontFamily=this._options.codeBlockFontFamily);return w}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:l=>this._openerService.open(l,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(Bt),disposables:s}}}};Mc._ttpTokenizer=(Z9=window.trustedTypes)===null||Z9===void 0?void 0:Z9.createPolicy("tokenizeToString",{createHTML(d){return d}});Mc=nve([rB(1,yn),rB(2,Zl)],Mc);const oB=Ue;class Dg extends Se{constructor(t,s,l=lAe){super(),this._renderDisposeables=this._register(new je),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new VG),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Mc({editor:this._editor},s,l)),this._computer=new rve(this._editor),this._hoverOperation=this._register(new HG(this._editor,this._computer)),this._register(this._hoverOperation.onResult(u=>{this._withResult(u.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Dg.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(s=>this._editor.applyFontInfo(s))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t){this._computer.lineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,s){this._renderDisposeables.clear();const l=document.createDocumentFragment();for(const u of s){const h=oB("div.hover-row.markdown-hover"),f=Re(h,oB("div.hover-contents")),m=this._renderDisposeables.add(this._markdownRenderer.render(u.value));f.appendChild(m.element),l.appendChild(h)}this._updateContents(l),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const s=this._editor.getLayoutInfo(),l=this._editor.getTopForLineNumber(t),u=this._editor.getScrollTop(),h=this._editor.getOption(59),f=this._hover.containerDomNode.clientHeight,m=l-u-(f-h)/2;this._hover.containerDomNode.style.left=`${s.glyphMarginLeft+s.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(m),0)}px`}}Dg.ID="editor.contrib.modesGlyphHoverWidget";class rve{constructor(t){this._editor=t,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}computeSync(){const t=u=>({value:u}),s=this._editor.getLineDecorations(this._lineNumber),l=[];if(!s)return l;for(const u of s){if(!u.options.glyphMarginClassName)continue;const h=u.options.glyphMarginHoverMessage;!h||Xg(h)||l.push(...OD(h).map(t))}return l}}var ove=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class lve{constructor(t,s,l){this.provider=t,this.hover=s,this.ordinal=l}}function ave(d,t,s,l,u){return ove(this,void 0,void 0,function*(){try{const h=yield Promise.resolve(d.provideHover(s,l,u));if(h&&uve(h))return new lve(d,h,t)}catch(h){Ms(h)}})}function bE(d,t,s,l){const h=d.ordered(t).map((f,m)=>ave(f,m,t,s,l));return Jn.fromPromises(h).coalesce()}function cve(d,t,s,l){return bE(d,t,s,l).map(u=>u.hover).toPromise()}D0("_executeHoverProvider",(d,t,s)=>{const l=d.get(ut);return cve(l.hoverProvider,t,s,ti.None)});function uve(d){const t=typeof d.range<"u",s=typeof d.contents<"u"&&d.contents&&d.contents.length>0;return t&&s}var hve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},b6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const lB=Ue;class Cc{constructor(t,s,l,u){this.owner=t,this.range=s,this.contents=l,this.ordinal=u}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}let aw=class{constructor(t,s,l,u,h){this._editor=t,this._languageService=s,this._openerService=l,this._configurationService=u,this._languageFeaturesService=h,this.hoverOrdinal=2}createLoadingMessage(t){return new Cc(this,t.range,[new rl().appendText(E("modesContentHover.loading","Loading..."))],2e3)}computeSync(t,s){if(!this._editor.hasModel()||t.type!==1)return[];const l=this._editor.getModel(),u=t.range.startLineNumber,h=l.getLineMaxColumn(u),f=[];let m=1e3;const A=l.getLineLength(u),C=l.getLanguageIdAtPosition(t.range.startLineNumber,t.range.startColumn),w=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:C});typeof w=="number"&&A>=w&&f.push(new Cc(this,t.range,[{value:E("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],m++));for(const k of s){const D=k.range.startLineNumber===u?k.range.startColumn:1,I=k.range.endLineNumber===u?k.range.endColumn:h,N=k.options.hoverMessage;if(!N||Xg(N))continue;const R=new $(t.range.startLineNumber,D,t.range.startLineNumber,I);f.push(new Cc(this,R,OD(N),m++))}return f}computeAsync(t,s,l){if(!this._editor.hasModel()||t.type!==1)return Jn.EMPTY;const u=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(u))return Jn.EMPTY;const h=new me(t.range.startLineNumber,t.range.startColumn);return bE(this._languageFeaturesService.hoverProvider,u,h,l).filter(f=>!Xg(f.hover.contents)).map(f=>{const m=f.hover.range?$.lift(f.hover.range):t.range;return new Cc(this,m,f.hover.contents,f.ordinal)})}renderHoverParts(t,s){return oj(t,s,this._editor,this._languageService,this._openerService)}};aw=hve([b6(1,yn),b6(2,Zl),b6(3,Yi),b6(4,ut)],aw);function oj(d,t,s,l,u){t.sort((f,m)=>f.ordinal-m.ordinal);const h=new je;for(const f of t)for(const m of f.contents){if(Xg(m))continue;const A=lB("div.hover-row.markdown-hover"),C=Re(A,lB("div.hover-contents")),w=h.add(new Mc({editor:s},l,u));h.add(w.onDidRenderAsync(()=>{C.className="hover-contents code-hover-contents",d.onContentsChanged()}));const k=h.add(w.render(m));C.appendChild(k.element),d.fragment.appendChild(A)}return h}var lj=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},cw=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class aB{constructor(t,s,l){this.marker=t,this.index=s,this.total=l}}let OL=class{constructor(t,s,l){this._markerService=s,this._configService=l,this._onDidChange=new he,this.onDidChange=this._onDidChange.event,this._dispoables=new je,this._markers=[],this._nextIdx=-1,Lt.isUri(t)?this._resourceFilter=m=>m.toString()===t.toString():t&&(this._resourceFilter=t);const u=this._configService.getValue("problems.sortOrder"),h=(m,A)=>{let C=jA(m.resource.toString(),A.resource.toString());return C===0&&(u==="position"?C=$.compareRangesUsingStarts(m,A)||Sn.compare(m.severity,A.severity):C=Sn.compare(m.severity,A.severity)||$.compareRangesUsingStarts(m,A)),C},f=()=>{this._markers=this._markerService.read({resource:Lt.isUri(t)?t:void 0,severities:Sn.Error|Sn.Warning|Sn.Info}),typeof t=="function"&&(this._markers=this._markers.filter(m=>this._resourceFilter(m.resource))),this._markers.sort(h)};f(),this._dispoables.add(s.onMarkerChanged(m=>{(!this._resourceFilter||m.some(A=>this._resourceFilter(A)))&&(f(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(t){return!this._resourceFilter&&!t?!0:!this._resourceFilter||!t?!1:this._resourceFilter(t)}get selected(){const t=this._markers[this._nextIdx];return t&&new aB(t,this._nextIdx+1,this._markers.length)}_initIdx(t,s,l){let u=!1,h=this._markers.findIndex(f=>f.resource.toString()===t.uri.toString());h<0&&(h=MD(this._markers,{resource:t.uri},(f,m)=>jA(f.resource.toString(),m.resource.toString())),h<0&&(h=~h));for(let f=h;f<this._markers.length;f++){let m=$.lift(this._markers[f]);if(m.isEmpty()){const A=t.getWordAtPosition(m.getStartPosition());A&&(m=new $(m.startLineNumber,A.startColumn,m.startLineNumber,A.endColumn))}if(s&&(m.containsPosition(s)||s.isBeforeOrEqual(m.getStartPosition()))){this._nextIdx=f,u=!0;break}if(this._markers[f].resource.toString()!==t.uri.toString())break}u||(this._nextIdx=l?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(t,s,l){if(this._markers.length===0)return!1;let u=this._nextIdx;return this._nextIdx===-1?this._initIdx(s,l,t):t?this._nextIdx=(this._nextIdx+1)%this._markers.length:t||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),u!==this._nextIdx}find(t,s){let l=this._markers.findIndex(u=>u.resource.toString()===t.toString());if(!(l<0)){for(;l<this._markers.length;l++)if($.containsPosition(this._markers[l],s))return new aB(this._markers[l],l+1,this._markers.length)}}};OL=lj([cw(1,Pc),cw(2,Yi)],OL);const aj=hi("IMarkerNavigationService");let FL=class{constructor(t,s){this._markerService=t,this._configService=s,this._provider=new ol}getMarkerList(t){for(let s of this._provider){const l=s.getMarkerList(t);if(l)return l}return new OL(t,this._markerService,this._configService)}};FL=lj([cw(0,Pc),cw(1,Yi)],FL);Ci(aj,FL,!0);var BL;(function(d){function t(s){switch(s){case kn.Ignore:return"severity-ignore "+T.info.classNames;case kn.Info:return T.info.classNames;case kn.Warning:return T.warning.classNames;case kn.Error:return T.error.classNames;default:return""}}d.className=t})(BL||(BL={}));rn((d,t)=>{const s=d.getColor(che);if(s){const h=T.error.cssSelector;t.addRule(`
			.monaco-editor .zone-widget ${h},
			.markers-panel .marker-icon${h},
			.text-search-provider-messages .providerMessage ${h},
			.extensions-viewlet > .extensions ${h} {
				color: ${s};
			}
		`)}const l=d.getColor(uhe);if(l){const h=T.warning.cssSelector;t.addRule(`
			.monaco-editor .zone-widget ${h},
			.markers-panel .marker-icon${h},
			.extensions-viewlet > .extensions ${h},
			.extension-editor ${h},
			.text-search-provider-messages .providerMessage ${h},
			.preferences-editor ${h} {
				color: ${l};
			}
		`)}const u=d.getColor(hhe);if(u){const h=T.info.cssSelector;t.addRule(`
			.monaco-editor .zone-widget ${h},
			.markers-panel .marker-icon${h},
			.extensions-viewlet > .extensions ${h},
			.text-search-provider-messages .providerMessage ${h},
			.extension-editor ${h} {
				color: ${u};
			}
		`)}});var dve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},x1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class fve{constructor(t,s,l,u,h){this._openerService=u,this._labelService=h,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new je,this._editor=s;const f=document.createElement("div");f.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),f.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),f.appendChild(this._relatedBlock),this._disposables.add(zs(this._relatedBlock,"click",m=>{m.preventDefault();const A=this._relatedDiagnostics.get(m.target);A&&l(A)})),this._scrollable=new LH(f,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(m=>{f.style.left=`-${m.scrollLeft}px`,f.style.top=`-${m.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){mi(this._disposables)}update(t){const{source:s,message:l,relatedInformation:u,code:h}=t;let f=(s?.length||0)+2;h&&(typeof h=="string"?f+=h.length:f+=h.value.length);const m=m0(l);this._lines=m.length,this._longestLineLength=0;for(const D of m)this._longestLineLength=Math.max(D.length+f,this._longestLineLength);vs(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(t)),this._editor.applyFontInfo(this._messageBlock);let A=this._messageBlock;for(const D of m)A=document.createElement("div"),A.innerText=D,D===""&&(A.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(A);if(s||h){const D=document.createElement("span");if(D.classList.add("details"),A.appendChild(D),s){const I=document.createElement("span");I.innerText=s,I.classList.add("source"),D.appendChild(I)}if(h)if(typeof h=="string"){const I=document.createElement("span");I.innerText=`(${h})`,I.classList.add("code"),D.appendChild(I)}else{this._codeLink=Ue("a.code-link"),this._codeLink.setAttribute("href",`${h.target.toString()}`),this._codeLink.onclick=N=>{this._openerService.open(h.target,{allowCommands:!0}),N.preventDefault(),N.stopPropagation()};const I=Re(this._codeLink,Ue("span"));I.innerText=h.value,D.appendChild(this._codeLink)}}if(vs(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Mo(u)){const D=this._relatedBlock.appendChild(document.createElement("div"));D.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(const I of u){let N=document.createElement("div"),R=document.createElement("a");R.classList.add("filename"),R.innerText=`${kG(I.resource)}(${I.startLineNumber}, ${I.startColumn}): `,R.title=this._labelService.getUriLabel(I.resource),this._relatedDiagnostics.set(R,I);let O=document.createElement("span");O.innerText=I.message,N.appendChild(R),N.appendChild(O),this._lines+=1,D.appendChild(N)}}const C=this._editor.getOption(44),w=Math.ceil(C.typicalFullwidthCharacterWidth*this._longestLineLength*.75),k=C.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:w,scrollHeight:k})}layout(t,s){this._scrollable.getDomNode().style.height=`${t}px`,this._scrollable.getDomNode().style.width=`${s}px`,this._scrollable.setScrollDimensions({width:s,height:t})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(t){let s="";switch(t.severity){case Sn.Error:s=E("Error","Error");break;case Sn.Warning:s=E("Warning","Warning");break;case Sn.Info:s=E("Info","Info");break;case Sn.Hint:s=E("Hint","Hint");break}let l=E("marker aria","{0} at {1}. ",s,t.startLineNumber+":"+t.startColumn);const u=this._editor.getModel();return u&&t.startLineNumber<=u.getLineCount()&&t.startLineNumber>=1&&(l=`${u.getLineContent(t.startLineNumber)}, ${l}`),l}}let sm=class cj extends iw{constructor(t,s,l,u,h,f,m){super(t,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},h),this._themeService=s,this._openerService=l,this._menuService=u,this._contextKeyService=f,this._labelService=m,this._callOnDispose=new je,this._onDidSelectRelatedInformation=new he,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Sn.Warning,this._backgroundColor=ke.white,this._applyTheme(s.getColorTheme()),this._callOnDispose.add(s.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(t){this._backgroundColor=t.getColor(Ave);let s=WL,l=gve;this._severity===Sn.Warning?(s=VL,l=mve):this._severity===Sn.Info&&(s=HL,l=pve);const u=t.getColor(s),h=t.getColor(l);this.style({arrowColor:u,frameColor:u,headerBackgroundColor:h,primaryHeadingColor:t.getColor(wG),secondaryHeadingColor:t.getColor(vG)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(u=>this.editor.focus()));const s=[],l=this._menuService.createMenu(cj.TitleMenu,this._contextKeyService);UCe(l,void 0,s),this._actionbarWidget.push(s,{label:!1,icon:!0,index:0}),l.dispose()}_fillTitleIcon(t){this._icon=Re(t,Ue(""))}_fillBody(t){this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new fve(this._container,this.editor,s=>this._onDidSelectRelatedInformation.fire(s),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(t,s,l){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());let u=$.lift(t);const h=this.editor.getPosition();let f=h&&u.containsPosition(h)?h:u.getStartPosition();super.show(f,this.computeRequiredHeight());const m=this.editor.getModel();if(m){const A=l>1?E("problems","{0} of {1} problems",s,l):E("change","{0} of {1} problem",s,l);this.setTitle(Ul(m.uri),A)}this._icon.className=`codicon ${BL.className(Sn.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(f,0),this.editor.focus()}updateMarker(t){this._container.classList.remove("stale"),this._message.update(t)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(t,s){super._doLayoutBody(t,s),this._heightInPixel=t,this._message.layout(t,s),this._container.style.height=`${t}px`}_onWidth(t){this._message.layout(this._heightInPixel,t)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};sm.TitleMenu=new ce("gotoErrorTitleMenu");sm=dve([x1(1,dn),x1(2,Zl),x1(3,Df),x1(4,ii),x1(5,Mt),x1(6,k_)],sm);let cB=t4(Eu,qV),uB=t4(Aa,Yw),hB=t4(hl,TI);const WL=oe("editorMarkerNavigationError.background",{dark:cB,light:cB,hc:An},E("editorMarkerNavigationError","Editor marker navigation widget error color.")),gve=oe("editorMarkerNavigationError.headerBackground",{dark:Tt(WL,.1),light:Tt(WL,.1),hc:null},E("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),VL=oe("editorMarkerNavigationWarning.background",{dark:uB,light:uB,hc:An},E("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),mve=oe("editorMarkerNavigationWarning.headerBackground",{dark:Tt(VL,.1),light:Tt(VL,.1),hc:"#0C141F"},E("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),HL=oe("editorMarkerNavigationInfo.background",{dark:hB,light:hB,hc:An},E("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),pve=oe("editorMarkerNavigationInfo.headerBackground",{dark:Tt(HL,.1),light:Tt(HL,.1),hc:null},E("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Ave=oe("editorMarkerNavigation.background",{dark:go,light:go,hc:go},E("editorMarkerNavigationBackground","Editor marker navigation widget background."));var _ve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},S6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},uj=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let rh=class w3{constructor(t,s,l,u,h){this._markerNavigationService=s,this._contextKeyService=l,this._editorService=u,this._instantiationService=h,this._sessionDispoables=new je,this._editor=t,this._widgetVisible=hj.bindTo(this._contextKeyService)}static get(t){return t.getContribution(w3.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(t){if(this._model&&this._model.matches(t))return this._model;let s=!1;return this._model&&(s=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(t),s&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(sm,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(l=>{var u,h,f;(!(!((u=this._model)===null||u===void 0)&&u.selected)||!$.containsPosition((h=this._model)===null||h===void 0?void 0:h.selected.marker,l.position))&&((f=this._model)===null||f===void 0||f.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const l=this._model.find(this._editor.getModel().uri,this._widget.position);l?this._widget.updateMarker(l.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(l=>{this._editorService.openCodeEditor({resource:l.resource,options:{pinned:!0,revealIfOpened:!0,selection:$.lift(l).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(t=!0){this._cleanUp(),t&&this._editor.focus()}showAtMarker(t){if(this._editor.hasModel()){const s=this._getOrCreateModel(this._editor.getModel().uri);s.resetIndex(),s.move(!0,this._editor.getModel(),new me(t.startLineNumber,t.startColumn)),s.selected&&this._widget.showAtMarker(s.selected.marker,s.selected.index,s.selected.total)}}nagivate(t,s){var l,u;return uj(this,void 0,void 0,function*(){if(this._editor.hasModel()){const h=this._getOrCreateModel(s?void 0:this._editor.getModel().uri);if(h.move(t,this._editor.getModel(),this._editor.getPosition()),!h.selected)return;if(h.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const f=yield this._editorService.openCodeEditor({resource:h.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:h.selected.marker}},this._editor);f&&((l=w3.get(f))===null||l===void 0||l.close(),(u=w3.get(f))===null||u===void 0||u.nagivate(t,s))}else this._widget.showAtMarker(h.selected.marker,h.selected.index,h.selected.total)}})}};rh.ID="editor.contrib.markerController";rh=_ve([S6(1,aj),S6(2,Mt),S6(3,Mi),S6(4,ii)],rh);class Zv extends lt{constructor(t,s,l){super(l),this._next=t,this._multiFile=s}run(t,s){var l;return uj(this,void 0,void 0,function*(){s.hasModel()&&((l=rh.get(s))===null||l===void 0||l.nagivate(this._next,this._multiFile))})}}class Fu extends Zv{constructor(){super(!0,!1,{id:Fu.ID,label:Fu.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:578,weight:100},menuOpts:{menuId:sm.TitleMenu,title:Fu.LABEL,icon:bs("marker-navigation-next",T.arrowDown,E("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Fu.ID="editor.action.marker.next";Fu.LABEL=E("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Rd extends Zv{constructor(){super(!1,!1,{id:Rd.ID,label:Rd.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:1602,weight:100},menuOpts:{menuId:sm.TitleMenu,title:Rd.LABEL,icon:bs("marker-navigation-previous",T.arrowUp,E("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Rd.ID="editor.action.marker.prev";Rd.LABEL=E("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Cve extends Zv{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:E("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:66,weight:100},menuOpts:{menuId:ce.MenubarGoMenu,title:E({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class wve extends Zv{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:E("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:1090,weight:100},menuOpts:{menuId:ce.MenubarGoMenu,title:E({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}Li(rh.ID,rh);$e(Fu);$e(Rd);$e(Cve);$e(wve);const hj=new rt("markersNavigationVisible",!1),vve=nr.bindToContribution(rh.get);Qe(new vve({id:"closeMarkersNavigation",precondition:hj,handler:d=>d.close(),kbOpts:{weight:100+50,kbExpr:re.focus,primary:9,secondary:[1033]}}));var kve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Q9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const la=Ue;class bve{constructor(t,s,l){this.owner=t,this.range=s,this.marker=l}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}const dB={type:1,filter:{include:ai.QuickFix}};let UL=class{constructor(t,s,l,u){this._editor=t,this._markerDecorationsService=s,this._openerService=l,this._languageFeaturesService=u,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(t,s){if(!this._editor.hasModel()||t.type!==1)return[];const l=this._editor.getModel(),u=t.range.startLineNumber,h=l.getLineMaxColumn(u),f=[];for(const m of s){const A=m.range.startLineNumber===u?m.range.startColumn:1,C=m.range.endLineNumber===u?m.range.endColumn:h,w=this._markerDecorationsService.getMarker(l.uri,m);if(!w)continue;const k=new $(t.range.startLineNumber,A,t.range.startLineNumber,C);f.push(new bve(this,k,w))}return f}renderHoverParts(t,s){if(!s.length)return Se.None;const l=new je;s.forEach(h=>t.fragment.appendChild(this.renderMarkerHover(h,l)));const u=s.length===1?s[0]:s.sort((h,f)=>Sn.compare(h.marker.severity,f.marker.severity))[0];return this.renderMarkerStatusbar(t,u,l),l}renderMarkerHover(t,s){const l=la("div.hover-row"),u=Re(l,la("div.marker.hover-contents")),{source:h,message:f,code:m,relatedInformation:A}=t.marker;this._editor.applyFontInfo(u);const C=Re(u,la("span"));if(C.style.whiteSpace="pre-wrap",C.innerText=f,h||m)if(m&&typeof m!="string"){const w=la("span");if(h){const N=Re(w,la("span"));N.innerText=h}const k=Re(w,la("a.code-link"));k.setAttribute("href",m.target.toString()),s.add(ze(k,"click",N=>{this._openerService.open(m.target,{allowCommands:!0}),N.preventDefault(),N.stopPropagation()}));const D=Re(k,la("span"));D.innerText=m.value;const I=Re(u,w);I.style.opacity="0.6",I.style.paddingLeft="6px"}else{const w=Re(u,la("span"));w.style.opacity="0.6",w.style.paddingLeft="6px",w.innerText=h&&m?`${h}(${m})`:h||`(${m})`}if(Mo(A))for(const{message:w,resource:k,startLineNumber:D,startColumn:I}of A){const N=Re(u,la("div"));N.style.marginTop="8px";const R=Re(N,la("a"));R.innerText=`${Ul(k)}(${D}, ${I}): `,R.style.cursor="pointer",s.add(ze(R,"click",W=>{W.stopPropagation(),W.preventDefault(),this._openerService&&this._openerService.open(k,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:D,startColumn:I}}}).catch(Bt)}));const O=Re(N,la("span"));O.innerText=w,this._editor.applyFontInfo(O)}return l}renderMarkerStatusbar(t,s,l){if((s.marker.severity===Sn.Error||s.marker.severity===Sn.Warning||s.marker.severity===Sn.Info)&&t.statusBar.addAction({label:E("view problem","View Problem"),commandId:Fu.ID,run:()=>{var u;t.hide(),(u=rh.get(this._editor))===null||u===void 0||u.showAtMarker(s.marker),this._editor.focus()}}),!this._editor.getOption(81)){const u=t.statusBar.append(la("div"));this.recentMarkerCodeActionsInfo&&(HC.makeKey(this.recentMarkerCodeActionsInfo.marker)===HC.makeKey(s.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(u.textContent=E("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const h=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Se.None:l.add(Wd(()=>u.textContent=E("checkingForQuickFixes","Checking for quick fixes..."),200));u.textContent||(u.textContent=String.fromCharCode(160));const f=this.getCodeActions(s.marker);l.add($t(()=>f.cancel())),f.then(m=>{if(h.dispose(),this.recentMarkerCodeActionsInfo={marker:s.marker,hasCodeActions:m.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){m.dispose(),u.textContent=E("noQuickFixes","No quick fixes available");return}u.style.display="none";let A=!1;l.add($t(()=>{A||m.dispose()})),t.statusBar.addAction({label:E("quick fixes","Quick Fix..."),commandId:Im.Id,run:C=>{A=!0;const w=nf.get(this._editor),k=Js(C);t.hide(),w?.showCodeActions(dB,m,{x:k.left+6,y:k.top+k.height+6})}})},Bt)}}getCodeActions(t){return js(s=>dE(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new $(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),dB,Rf.None,s))}};UL=kve([Q9(1,SI),Q9(2,Zl),Q9(3,ut)],UL);rn((d,t)=>{const s=d.getColor(Zw);s&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${s}; }`);const l=d.getColor(Qw);l&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${l}; }`)});var Sve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},y6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let oh=class dj{constructor(t,s,l,u,h){this._editor=t,this._instantiationService=s,this._openerService=l,this._languageService=u,this._toUnhook=new je,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(f=>{f.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(t){return t.getContribution(dj.ID)}_hookEvents(){const t=()=>this._hideWidgets(),s=this._editor.getOption(53);this._isHoverEnabled=s.enabled,this._isHoverSticky=s.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(l=>this._onEditorMouseDown(l))),this._toUnhook.add(this._editor.onMouseUp(l=>this._onEditorMouseUp(l))),this._toUnhook.add(this._editor.onMouseMove(l=>this._onEditorMouseMove(l))),this._toUnhook.add(this._editor.onKeyDown(l=>this._onKeyDown(l)))):(this._toUnhook.add(this._editor.onMouseMove(l=>this._onEditorMouseMove(l))),this._toUnhook.add(this._editor.onKeyDown(l=>this._onKeyDown(l)))),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange(l=>this._onEditorScrollChanged(l)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(t){this._isMouseDown=!0;const s=t.target;if(s.type===9&&s.detail===Td.ID){this._hoverClicked=!0;return}s.type===12&&s.detail===Dg.ID||(s.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(t){this._isMouseDown=!1}_onEditorMouseMove(t){var s,l,u,h,f;const m=t.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&m.type===9&&m.detail===Td.ID||this._isHoverSticky&&!(!((l=(s=t.event.browserEvent.view)===null||s===void 0?void 0:s.getSelection())===null||l===void 0)&&l.isCollapsed)||!this._isHoverSticky&&m.type===9&&m.detail===Td.ID&&((u=this._contentWidget)===null||u===void 0?void 0:u.isColorPickerVisible())||this._isHoverSticky&&m.type===12&&m.detail===Dg.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(t)){(h=this._glyphWidget)===null||h===void 0||h.hide();return}if(m.type===2&&m.position){(f=this._contentWidget)===null||f===void 0||f.hide(),this._glyphWidget||(this._glyphWidget=new Dg(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(m.position.lineNumber);return}this._hideWidgets()}_onKeyDown(t){t.keyCode!==5&&t.keyCode!==6&&t.keyCode!==57&&t.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var t,s,l;this._isMouseDown&&this._hoverClicked&&((t=this._contentWidget)===null||t===void 0?void 0:t.isColorPickerVisible())||(this._hoverClicked=!1,(s=this._glyphWidget)===null||s===void 0||s.hide(),(l=this._contentWidget)===null||l===void 0||l.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(rw,this._editor)),this._contentWidget}isColorPickerVisible(){var t;return((t=this._contentWidget)===null||t===void 0?void 0:t.isColorPickerVisible())||!1}showContentHover(t,s,l){this._getOrCreateContentWidget().startShowingAtRange(t,s,l)}dispose(){var t,s;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(t=this._glyphWidget)===null||t===void 0||t.dispose(),(s=this._contentWidget)===null||s===void 0||s.dispose()}};oh.ID="editor.contrib.hover";oh=Sve([y6(1,ii),y6(2,Zl),y6(3,yn),y6(4,Mt)],oh);class yve extends lt{constructor(){super({id:"editor.action.showHover",label:E({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2087),weight:100}})}run(t,s){if(!s.hasModel())return;let l=oh.get(s);if(!l)return;const u=s.getPosition(),h=new $(u.lineNumber,u.column,u.lineNumber,u.column),f=s.getOption(2)===2;l.showContentHover(h,1,f)}}class Lve extends lt{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:E({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(t,s){const l=oh.get(s);if(!l)return;const u=s.getPosition();if(!u)return;const h=new $(u.lineNumber,u.column,u.lineNumber,u.column),f=of.get(s);if(!f)return;f.startFindDefinitionFromCursor(u).then(()=>{l.showContentHover(h,1,!0)})}}Li(oh.ID,oh);$e(yve);$e(Lve);Uf.register(aw);Uf.register(UL);rn((d,t)=>{const s=d.getColor(gue);s&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${s}; }`);const l=d.getColor(Gd);l&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${l}; }`);const u=d.getColor(OI);u&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${u}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${u.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${u.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${u.transparent(.5)}; }`));const h=d.getColor(Zw);h&&t.addRule(`.monaco-editor .monaco-hover a { color: ${h}; }`);const f=d.getColor(Qw);f&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${f}; }`);const m=d.getColor(PI);m&&t.addRule(`.monaco-editor .monaco-hover { color: ${m}; }`);const A=d.getColor(mue);A&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${A}; }`);const C=d.getColor(zV);C&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${C}; }`)});class zL extends Se{constructor(t){super(),this._editor=t,this._register(t.onMouseDown(s=>this.onMouseDown(s)))}dispose(){super.dispose()}onMouseDown(t){const s=t.target;if(s.type!==6||!s.detail.injectedText||s.detail.injectedText.options.attachedData!==dG||!s.range)return;const l=this._editor.getContribution(oh.ID);if(!!l&&!l.isColorPickerVisible()){const u=new $(s.range.startLineNumber,s.range.startColumn+1,s.range.endLineNumber,s.range.endColumn+1);l.showContentHover(u,1,!1)}}}zL.ID="editor.contrib.colorContribution";Li(zL.ID,zL);Uf.register(AL);class bu{constructor(t,s,l){this.languageConfigurationService=l,this._selection=t,this._insertSpace=s,this._usedEndToken=null}static _haystackHasNeedleAtOffset(t,s,l){if(l<0)return!1;const u=s.length,h=t.length;if(l+u>h)return!1;for(let f=0;f<u;f++){const m=t.charCodeAt(l+f),A=s.charCodeAt(f);if(m!==A&&!(m>=65&&m<=90&&m+32===A)&&!(A>=65&&A<=90&&A+32===m))return!1}return!0}_createOperationsForBlockComment(t,s,l,u,h,f){const m=t.startLineNumber,A=t.startColumn,C=t.endLineNumber,w=t.endColumn,k=h.getLineContent(m),D=h.getLineContent(C);let I=k.lastIndexOf(s,A-1+s.length),N=D.indexOf(l,w-1-l.length);if(I!==-1&&N!==-1)if(m===C)k.substring(I+s.length,N).indexOf(l)>=0&&(I=-1,N=-1);else{const O=k.substring(I+s.length),W=D.substring(0,N);(O.indexOf(l)>=0||W.indexOf(l)>=0)&&(I=-1,N=-1)}let R;I!==-1&&N!==-1?(u&&I+s.length<k.length&&k.charCodeAt(I+s.length)===32&&(s=s+" "),u&&N>0&&D.charCodeAt(N-1)===32&&(l=" "+l,N-=1),R=bu._createRemoveBlockCommentOperations(new $(m,I+s.length+1,C,N+1),s,l)):(R=bu._createAddBlockCommentOperations(t,s,l,this._insertSpace),this._usedEndToken=R.length===1?l:null);for(const O of R)f.addTrackedEditOperation(O.range,O.text)}static _createRemoveBlockCommentOperations(t,s,l){let u=[];return $.isEmpty(t)?u.push(Vn.delete(new $(t.startLineNumber,t.startColumn-s.length,t.endLineNumber,t.endColumn+l.length))):(u.push(Vn.delete(new $(t.startLineNumber,t.startColumn-s.length,t.startLineNumber,t.startColumn))),u.push(Vn.delete(new $(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+l.length)))),u}static _createAddBlockCommentOperations(t,s,l,u){let h=[];return $.isEmpty(t)?h.push(Vn.replace(new $(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),s+"  "+l)):(h.push(Vn.insert(new me(t.startLineNumber,t.startColumn),s+(u?" ":""))),h.push(Vn.insert(new me(t.endLineNumber,t.endColumn),(u?" ":"")+l))),h}getEditOperations(t,s){const l=this._selection.startLineNumber,u=this._selection.startColumn;t.tokenizeIfCheap(l);const h=t.getLanguageIdAtPosition(l,u),f=this.languageConfigurationService.getLanguageConfiguration(h).comments;!f||!f.blockCommentStartToken||!f.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,f.blockCommentStartToken,f.blockCommentEndToken,this._insertSpace,t,s)}computeCursorState(t,s){const l=s.getInverseEditOperations();if(l.length===2){const u=l[0],h=l[1];return new et(u.range.endLineNumber,u.range.endColumn,h.range.startLineNumber,h.range.startColumn)}else{const u=l[0].range,h=this._usedEndToken?-this._usedEndToken.length-1:0;return new et(u.endLineNumber,u.endColumn+h,u.endLineNumber,u.endColumn+h)}}}class rc{constructor(t,s,l,u,h,f,m){this.languageConfigurationService=t,this._selection=s,this._tabSize=l,this._type=u,this._insertSpace=h,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=f,this._ignoreFirstLine=m||!1}static _gatherPreflightCommentStrings(t,s,l,u){t.tokenizeIfCheap(s);const h=t.getLanguageIdAtPosition(s,1),f=u.getLanguageConfiguration(h).comments,m=f?f.lineCommentToken:null;if(!m)return null;let A=[];for(let C=0,w=l-s+1;C<w;C++)A[C]={ignore:!1,commentStr:m,commentStrOffset:0,commentStrLength:m.length};return A}static _analyzeLines(t,s,l,u,h,f,m,A){let C=!0,w;t===0?w=!0:t===1?w=!1:w=!0;for(let k=0,D=u.length;k<D;k++){const I=u[k],N=h+k;if(N===h&&m){I.ignore=!0;continue}const R=l.getLineContent(N),O=Zr(R);if(O===-1){I.ignore=f,I.commentStrOffset=R.length;continue}if(C=!1,I.ignore=!1,I.commentStrOffset=O,w&&!bu._haystackHasNeedleAtOffset(R,I.commentStr,O)&&(t===0?w=!1:t===1||(I.ignore=!0)),w&&s){const W=O+I.commentStrLength;W<R.length&&R.charCodeAt(W)===32&&(I.commentStrLength+=1)}}if(t===0&&C){w=!1;for(let k=0,D=u.length;k<D;k++)u[k].ignore=!1}return{supported:!0,shouldRemoveComments:w,lines:u}}static _gatherPreflightData(t,s,l,u,h,f,m,A){const C=rc._gatherPreflightCommentStrings(l,u,h,A);return C===null?{supported:!1}:rc._analyzeLines(t,s,l,C,u,f,m,A)}_executeLineComments(t,s,l,u){let h;l.shouldRemoveComments?h=rc._createRemoveLineCommentsOperations(l.lines,u.startLineNumber):(rc._normalizeInsertionPoint(t,l.lines,u.startLineNumber,this._tabSize),h=this._createAddLineCommentsOperations(l.lines,u.startLineNumber));const f=new me(u.positionLineNumber,u.positionColumn);for(let m=0,A=h.length;m<A;m++)s.addEditOperation(h[m].range,h[m].text),$.isEmpty(h[m].range)&&$.getStartPosition(h[m].range).equals(f)&&t.getLineContent(f.lineNumber).length+1===f.column&&(this._deltaColumn=(h[m].text||"").length);this._selectionId=s.trackSelection(u)}_attemptRemoveBlockComment(t,s,l,u){let h=s.startLineNumber,f=s.endLineNumber,m=u.length+Math.max(t.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.startColumn),A=t.getLineContent(h).lastIndexOf(l,m-1),C=t.getLineContent(f).indexOf(u,s.endColumn-1-l.length);return A!==-1&&C===-1&&(C=t.getLineContent(h).indexOf(u,A+l.length),f=h),A===-1&&C!==-1&&(A=t.getLineContent(f).lastIndexOf(l,C),h=f),s.isEmpty()&&(A===-1||C===-1)&&(A=t.getLineContent(h).indexOf(l),A!==-1&&(C=t.getLineContent(h).indexOf(u,A+l.length))),A!==-1&&t.getLineContent(h).charCodeAt(A+l.length)===32&&(l+=" "),C!==-1&&t.getLineContent(f).charCodeAt(C-1)===32&&(u=" "+u,C-=1),A!==-1&&C!==-1?bu._createRemoveBlockCommentOperations(new $(h,A+l.length+1,f,C+1),l,u):null}_executeBlockComment(t,s,l){t.tokenizeIfCheap(l.startLineNumber);let u=t.getLanguageIdAtPosition(l.startLineNumber,1),h=cs.getComments(u);if(!h||!h.blockCommentStartToken||!h.blockCommentEndToken)return;const f=h.blockCommentStartToken,m=h.blockCommentEndToken;let A=this._attemptRemoveBlockComment(t,l,f,m);if(!A){if(l.isEmpty()){const C=t.getLineContent(l.startLineNumber);let w=Zr(C);w===-1&&(w=C.length),A=bu._createAddBlockCommentOperations(new $(l.startLineNumber,w+1,l.startLineNumber,C.length+1),f,m,this._insertSpace)}else A=bu._createAddBlockCommentOperations(new $(l.startLineNumber,t.getLineFirstNonWhitespaceColumn(l.startLineNumber),l.endLineNumber,t.getLineMaxColumn(l.endLineNumber)),f,m,this._insertSpace);A.length===1&&(this._deltaColumn=f.length+1)}this._selectionId=s.trackSelection(l);for(const C of A)s.addEditOperation(C.range,C.text)}getEditOperations(t,s){let l=this._selection;if(this._moveEndPositionDown=!1,l.startLineNumber===l.endLineNumber&&this._ignoreFirstLine){s.addEditOperation(new $(l.startLineNumber,t.getLineMaxColumn(l.startLineNumber),l.startLineNumber+1,1),l.startLineNumber===t.getLineCount()?"":`
`),this._selectionId=s.trackSelection(l);return}l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,t.getLineMaxColumn(l.endLineNumber-1)));const u=rc._gatherPreflightData(this._type,this._insertSpace,t,l.startLineNumber,l.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return u.supported?this._executeLineComments(t,s,u,l):this._executeBlockComment(t,s,l)}computeCursorState(t,s){let l=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),new et(l.selectionStartLineNumber,l.selectionStartColumn+this._deltaColumn,l.positionLineNumber,l.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,s){let l=[];for(let u=0,h=t.length;u<h;u++){const f=t[u];f.ignore||l.push(Vn.delete(new $(s+u,f.commentStrOffset+1,s+u,f.commentStrOffset+f.commentStrLength+1)))}return l}_createAddLineCommentsOperations(t,s){let l=[];const u=this._insertSpace?" ":"";for(let h=0,f=t.length;h<f;h++){const m=t[h];m.ignore||l.push(Vn.insert(new me(s+h,m.commentStrOffset+1),m.commentStr+u))}return l}static nextVisibleColumn(t,s,l,u){return l?t+(s-t%s):t+u}static _normalizeInsertionPoint(t,s,l,u){let h=1073741824,f,m;for(let A=0,C=s.length;A<C;A++){if(s[A].ignore)continue;const w=t.getLineContent(l+A);let k=0;for(let D=0,I=s[A].commentStrOffset;k<h&&D<I;D++)k=rc.nextVisibleColumn(k,u,w.charCodeAt(D)===9,1);k<h&&(h=k)}h=Math.floor(h/u)*u;for(let A=0,C=s.length;A<C;A++){if(s[A].ignore)continue;const w=t.getLineContent(l+A);let k=0;for(f=0,m=s[A].commentStrOffset;k<h&&f<m;f++)k=rc.nextVisibleColumn(k,u,w.charCodeAt(f)===9,1);k>h?s[A].commentStrOffset=f-1:s[A].commentStrOffset=f}}}class SE extends lt{constructor(t,s){super(s),this._type=t}run(t,s){const l=t.get(vr);if(!s.hasModel())return;const u=s.getModel(),h=[],f=u.getOptions(),m=s.getOption(19),A=s.getSelections().map((w,k)=>({selection:w,index:k,ignoreFirstLine:!1}));A.sort((w,k)=>$.compareRangesUsingStarts(w.selection,k.selection));let C=A[0];for(let w=1;w<A.length;w++){const k=A[w];C.selection.endLineNumber===k.selection.startLineNumber&&(C.index<k.index?k.ignoreFirstLine=!0:(C.ignoreFirstLine=!0,C=k))}for(const w of A)h.push(new rc(l,w.selection,f.tabSize,this._type,m.insertSpace,m.ignoreEmptyLines,w.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,h),s.pushUndoStop()}}class Dve extends SE{constructor(){super(0,{id:"editor.action.commentLine",label:E("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:ce.MenubarEditMenu,group:"5_insert",title:E({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class Ive extends SE{constructor(){super(1,{id:"editor.action.addCommentLine",label:E("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2081),weight:100}})}}class xve extends SE{constructor(){super(2,{id:"editor.action.removeCommentLine",label:E("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2099),weight:100}})}}class Eve extends lt{constructor(){super({id:"editor.action.blockComment",label:E("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:ce.MenubarEditMenu,group:"5_insert",title:E({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(t,s){const l=t.get(vr);if(!s.hasModel())return;const u=s.getOption(19),h=[],f=s.getSelections();for(const m of f)h.push(new bu(m,u.insertSpace,l));s.pushUndoStop(),s.executeCommands(this.id,h),s.pushUndoStop()}}$e(Dve);$e(Ive);$e(xve);$e(Eve);var Nve=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Hp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let rm=class fj{constructor(t,s,l,u,h,f){this._contextMenuService=s,this._contextViewService=l,this._contextKeyService=u,this._keybindingService=h,this._menuService=f,this._toDispose=new je,this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.add(this._editor.onContextMenu(m=>this._onContextMenu(m))),this._toDispose.add(this._editor.onMouseWheel(m=>{if(this._contextMenuIsBeingShownCount>0){const A=this._contextViewService.getContextViewElement(),C=m.srcElement;C.shadowRoot&&Gu(A)===C.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(m=>{m.keyCode===58&&(m.preventDefault(),m.stopPropagation(),this.showContextMenu())}))}static get(t){return t.getContribution(fj.ID)}_onContextMenu(t){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position);return}if(t.target.type===12||t.target.type===6&&t.target.detail.injectedText||(t.event.preventDefault(),t.event.stopPropagation(),t.target.type!==6&&t.target.type!==7&&t.target.type!==1))return;if(this._editor.focus(),t.target.position){let l=!1;for(const u of this._editor.getSelections())if(u.containsPosition(t.target.position)){l=!0;break}l||this._editor.setPosition(t.target.position)}let s=null;t.target.type!==1&&(s={x:t.event.posx-1,width:2,y:t.event.posy-1,height:2}),this.showContextMenu(s)}showContextMenu(t){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const s=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?ce.SimpleEditorContext:ce.EditorContext);s.length>0&&this._doShowContextMenu(s,t)}_getMenuActions(t,s){const l=[],u=this._menuService.createMenu(s,this._contextKeyService),h=u.getActions({arg:t.uri});u.dispose();for(let f of h){const[,m]=f;let A=0;for(const C of m)if(C instanceof II){const w=this._getMenuActions(t,C.item.submenu);w.length>0&&(l.push(new Pw(C.id,C.label,w)),A++)}else l.push(C),A++;A&&l.push(new Ml)}return l.length&&l.pop(),l}_doShowContextMenu(t,s=null){if(!this._editor.hasModel())return;const l=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!s){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const h=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),f=Js(this._editor.getDomNode()),m=f.left+h.left,A=f.top+h.top+h.height;s={x:m,y:A}}const u=this._editor.getOption(115)&&!t2;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>t,getActionViewItem:h=>{const f=this._keybindingFor(h);if(f)return new A4(h,h,{label:!0,keybinding:f.getLabel(),isMenu:!0});const m=h;return typeof m.getActionViewItem=="function"?m.getActionViewItem():new A4(h,h,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:h=>this._keybindingFor(h),onHide:h=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:l})}})}_keybindingFor(t){return this._keybindingService.lookupKeybinding(t.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};rm.ID="editor.contrib.contextmenu";rm=Nve([Hp(1,uh),Hp(2,C_),Hp(3,Mt),Hp(4,Hn),Hp(5,Df)],rm);class Tve extends lt{constructor(){super({id:"editor.action.showContextMenu",label:E("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:1092,weight:100}})}run(t,s){var l;(l=rm.get(s))===null||l===void 0||l.showContextMenu()}}Li(rm.ID,rm);$e(Tve);class Y9{constructor(t){this.selections=t}equals(t){const s=this.selections.length,l=t.selections.length;if(s!==l)return!1;for(let u=0;u<s;u++)if(!this.selections[u].equalsSelection(t.selections[u]))return!1;return!0}}class $9{constructor(t,s,l){this.cursorState=t,this.scrollTop=s,this.scrollLeft=l}}class lf extends Se{constructor(t){super(),this._editor=t,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(t.onDidChangeModel(s=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeModelContent(s=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeCursorSelection(s=>{if(this._isCursorUndoRedo||!s.oldSelections||s.oldModelVersionId!==s.modelVersionId)return;const l=new Y9(s.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(l)||(this._undoStack.push(new $9(l,t.getScrollTop(),t.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(t){return t.getContribution(lf.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new $9(new Y9(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new $9(new Y9(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}lf.ID="editor.contrib.cursorUndoRedoController";class Rve extends lt{constructor(){super({id:"cursorUndo",label:E("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:2099,weight:100}})}run(t,s,l){var u;(u=lf.get(s))===null||u===void 0||u.cursorUndo()}}class Mve extends lt{constructor(){super({id:"cursorRedo",label:E("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(t,s,l){var u;(u=lf.get(s))===null||u===void 0||u.cursorRedo()}}Li(lf.ID,lf);$e(Rve);$e(Mve);class Pve{constructor(t,s,l){this.selection=t,this.targetPosition=s,this.copy=l,this.targetSelection=null}getEditOperations(t,s){let l=t.getValueInRange(this.selection);if(this.copy||s.addEditOperation(this.selection,null),s.addEditOperation(new $(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),l),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new et(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new et(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new et(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new et(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new et(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(t,s){return this.targetSelection}}function E1(d){return Jt?d.altKey:d.ctrlKey}class Dc extends Se{constructor(t){super(),this._editor=t,this._register(this._editor.onMouseDown(s=>this._onEditorMouseDown(s))),this._register(this._editor.onMouseUp(s=>this._onEditorMouseUp(s))),this._register(this._editor.onMouseDrag(s=>this._onEditorMouseDrag(s))),this._register(this._editor.onMouseDrop(s=>this._onEditorMouseDrop(s))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(s=>this.onEditorKeyDown(s))),this._register(this._editor.onKeyUp(s=>this.onEditorKeyUp(s))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(E1(t)&&(this._modifierPressed=!0),this._mouseDown&&E1(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(E1(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===Dc.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let s=t.target;if(this._dragSelection===null){let u=(this._editor.getSelections()||[]).filter(h=>s.position&&h.containsPosition(s.position));if(u.length===1)this._dragSelection=u[0];else return}E1(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),s.position&&(this._dragSelection.containsPosition(s.position)?this._removeDecoration():this.showAt(s.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let s=new me(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let l=null;if(t.event.shiftKey){let u=this._editor.getSelection();if(u){const{selectionStartLineNumber:h,selectionStartColumn:f}=u;l=[new et(h,f,s.lineNumber,s.column)]}}else l=(this._editor.getSelections()||[]).map(u=>u.containsPosition(s)?new et(s.lineNumber,s.column,s.lineNumber,s.column):u);this._editor.setSelections(l||[],"mouse",3)}else(!this._dragSelection.containsPosition(s)||(E1(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(s)||this._dragSelection.getStartPosition().equals(s)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Dc.ID,new Pve(this._dragSelection,s,E1(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){let s=[{range:new $(t.lineNumber,t.column,t.lineNumber,t.column),options:Dc._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,s),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Dc.ID="editor.contrib.dragAndDrop";Dc.TRIGGER_KEY_VALUE=Jt?6:5;Dc._DECORATION_OPTIONS=Qt.register({description:"dnd-target",className:"dnd-target"});Li(Dc.ID,Dc);class Rr{constructor(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const t=this._findScopeDecorationIds.map(s=>this._editor.getModel().getDecorationRange(s)).filter(s=>!!s);if(t.length)return t}return null}getStartPosition(){return this._startPosition}setStartPosition(t){this._startPosition=t,this.setCurrentFindMatch(null)}_getDecorationIndex(t){const s=this._decorations.indexOf(t);return s>=0?s+1:1}getCurrentMatchesPosition(t){let s=this._editor.getModel().getDecorationsInRange(t);for(const l of s){const u=l.options;if(u===Rr._FIND_MATCH_DECORATION||u===Rr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(l.id)}return 0}setCurrentFindMatch(t){let s=null,l=0;if(t)for(let u=0,h=this._decorations.length;u<h;u++){let f=this._editor.getModel().getDecorationRange(this._decorations[u]);if(t.equalsRange(f)){s=this._decorations[u],l=u+1;break}}return(this._highlightedDecorationId!==null||s!==null)&&this._editor.changeDecorations(u=>{if(this._highlightedDecorationId!==null&&(u.changeDecorationOptions(this._highlightedDecorationId,Rr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),s!==null&&(this._highlightedDecorationId=s,u.changeDecorationOptions(this._highlightedDecorationId,Rr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(u.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),s!==null){let h=this._editor.getModel().getDecorationRange(s);if(h.startLineNumber!==h.endLineNumber&&h.endColumn===1){let f=h.endLineNumber-1,m=this._editor.getModel().getLineMaxColumn(f);h=new $(h.startLineNumber,h.startColumn,f,m)}this._rangeHighlightDecorationId=u.addDecoration(h,Rr._RANGE_HIGHLIGHT_DECORATION)}}),l}set(t,s){this._editor.changeDecorations(l=>{let u=Rr._FIND_MATCH_DECORATION,h=[];if(t.length>1e3){u=Rr._FIND_MATCH_NO_OVERVIEW_DECORATION;const m=this._editor.getModel().getLineCount(),C=this._editor.getLayoutInfo().height/m,w=Math.max(2,Math.ceil(3/C));let k=t[0].range.startLineNumber,D=t[0].range.endLineNumber;for(let I=1,N=t.length;I<N;I++){const R=t[I].range;D+w>=R.startLineNumber?R.endLineNumber>D&&(D=R.endLineNumber):(h.push({range:new $(k,1,D,1),options:Rr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),k=R.startLineNumber,D=R.endLineNumber)}h.push({range:new $(k,1,D,1),options:Rr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let f=new Array(t.length);for(let m=0,A=t.length;m<A;m++)f[m]={range:t[m].range,options:u};this._decorations=l.deltaDecorations(this._decorations,f),this._overviewRulerApproximateDecorations=l.deltaDecorations(this._overviewRulerApproximateDecorations,h),this._rangeHighlightDecorationId&&(l.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(m=>l.removeDecoration(m)),this._findScopeDecorationIds=[]),s?.length&&(this._findScopeDecorationIds=s.map(m=>l.addDecoration(m,Rr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(t){if(this._decorations.length===0)return null;for(let s=this._decorations.length-1;s>=0;s--){let l=this._decorations[s],u=this._editor.getModel().getDecorationRange(l);if(!(!u||u.endLineNumber>t.lineNumber)){if(u.endLineNumber<t.lineNumber)return u;if(!(u.endColumn>t.column))return u}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(t){if(this._decorations.length===0)return null;for(let s=0,l=this._decorations.length;s<l;s++){let u=this._decorations[s],h=this._editor.getModel().getDecorationRange(u);if(!(!h||h.startLineNumber<t.lineNumber)){if(h.startLineNumber>t.lineNumber)return h;if(!(h.startColumn<t.column))return h}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let t=[];return t=t.concat(this._decorations),t=t.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&t.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t}}Rr._CURRENT_FIND_MATCH_DECORATION=Qt.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Wn(WI),position:Bl.Center},minimap:{color:Wn(AA),position:Rl.Inline}});Rr._FIND_MATCH_DECORATION=Qt.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Wn(WI),position:Bl.Center},minimap:{color:Wn(AA),position:Rl.Inline}});Rr._FIND_MATCH_NO_OVERVIEW_DECORATION=Qt.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});Rr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Qt.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Wn(WI),position:Bl.Center}});Rr._RANGE_HIGHLIGHT_DECORATION=Qt.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});Rr._FIND_SCOPE_DECORATION=Qt.register({description:"find-scope",className:"findScope",isWholeLine:!0});class Ove{constructor(t,s,l){this._editorSelection=t,this._ranges=s,this._replaceStrings=l,this._trackedEditorSelectionId=null}getEditOperations(t,s){if(this._ranges.length>0){let l=[];for(let f=0;f<this._ranges.length;f++)l.push({range:this._ranges[f],text:this._replaceStrings[f]});l.sort((f,m)=>$.compareRangesUsingStarts(f.range,m.range));let u=[],h=l[0];for(let f=1;f<l.length;f++)h.range.endLineNumber===l[f].range.startLineNumber&&h.range.endColumn===l[f].range.startColumn?(h.range=h.range.plusRange(l[f].range),h.text=h.text+l[f].text):(u.push(h),h=l[f]);u.push(h);for(const f of u)s.addEditOperation(f.range,f.text)}this._trackedEditorSelectionId=s.trackSelection(this._editorSelection)}computeCursorState(t,s){return s.getTrackedSelection(this._trackedEditorSelectionId)}}function gj(d,t){if(d&&d[0]!==""){const s=fB(d,t,"-"),l=fB(d,t,"_");return s&&!l?gB(d,t,"-"):!s&&l?gB(d,t,"_"):d[0].toUpperCase()===d[0]?t.toUpperCase():d[0].toLowerCase()===d[0]?t.toLowerCase():xae(d[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):d[0][0].toUpperCase()!==d[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}else return t}function fB(d,t,s){return d[0].indexOf(s)!==-1&&t.indexOf(s)!==-1&&d[0].split(s).length===t.split(s).length}function gB(d,t,s){const l=t.split(s),u=d[0].split(s);let h="";return l.forEach((f,m)=>{h+=gj([u[m]],f)+s}),h.slice(0,-1)}class mB{constructor(t){this.staticValue=t,this.kind=0}}class Fve{constructor(t){this.pieces=t,this.kind=1}}class om{constructor(t){!t||t.length===0?this._state=new mB(""):t.length===1&&t[0].staticValue!==null?this._state=new mB(t[0].staticValue):this._state=new Fve(t)}static fromStaticValue(t){return new om([Md.staticValue(t)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(t,s){if(this._state.kind===0)return s?gj(t,this._state.staticValue):this._state.staticValue;let l="";for(let u=0,h=this._state.pieces.length;u<h;u++){let f=this._state.pieces[u];if(f.staticValue!==null){l+=f.staticValue;continue}let m=om._substitute(f.matchIndex,t);if(f.caseOps!==null&&f.caseOps.length>0){let A=[],C=f.caseOps.length,w=0;for(let k=0,D=m.length;k<D;k++){if(w>=C){A.push(m.slice(k));break}switch(f.caseOps[w]){case"U":A.push(m[k].toUpperCase());break;case"u":A.push(m[k].toUpperCase()),w++;break;case"L":A.push(m[k].toLowerCase());break;case"l":A.push(m[k].toLowerCase()),w++;break;default:A.push(m[k])}}m=A.join("")}l+=m}return l}static _substitute(t,s){if(s===null)return"";if(t===0)return s[0];let l="";for(;t>0;){if(t<s.length)return(s[t]||"")+l;l=String(t%10)+l,t=Math.floor(t/10)}return"$"+l}}class Md{constructor(t,s,l){this.staticValue=t,this.matchIndex=s,!l||l.length===0?this.caseOps=null:this.caseOps=l.slice(0)}static staticValue(t){return new Md(t,-1,null)}static caseOps(t,s){return new Md(null,t,s)}}class Bve{constructor(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t}emitStatic(t,s){this._emitStatic(t),this._lastCharIndex=s}_emitStatic(t){t.length!==0&&(this._currentStaticPiece+=t)}emitMatchIndex(t,s,l){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Md.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Md.caseOps(t,l),this._lastCharIndex=s}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Md.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new om(this._result)}}function Wve(d){if(!d||d.length===0)return new om(null);let t=[],s=new Bve(d);for(let l=0,u=d.length;l<u;l++){let h=d.charCodeAt(l);if(h===92){if(l++,l>=u)break;let f=d.charCodeAt(l);switch(f){case 92:s.emitUnchanged(l-1),s.emitStatic("\\",l+1);break;case 110:s.emitUnchanged(l-1),s.emitStatic(`
`,l+1);break;case 116:s.emitUnchanged(l-1),s.emitStatic("	",l+1);break;case 117:case 85:case 108:case 76:s.emitUnchanged(l-1),s.emitStatic("",l+1),t.push(String.fromCharCode(f));break}continue}if(h===36){if(l++,l>=u)break;let f=d.charCodeAt(l);if(f===36){s.emitUnchanged(l-1),s.emitStatic("$",l+1);continue}if(f===48||f===38){s.emitUnchanged(l-1),s.emitMatchIndex(0,l+1,t),t.length=0;continue}if(49<=f&&f<=57){let m=f-48;if(l+1<u){let A=d.charCodeAt(l+1);if(48<=A&&A<=57){l++,m=m*10+(A-48),s.emitUnchanged(l-2),s.emitMatchIndex(m,l+1,t),t.length=0;continue}}s.emitUnchanged(l-1),s.emitMatchIndex(m,l+1,t),t.length=0;continue}}}return s.finalize()}const gh=new rt("findWidgetVisible",!1);gh.toNegated();const Qv=new rt("findInputFocussed",!1),yE=new rt("replaceInputFocussed",!1),L6={primary:545,mac:{primary:2593}},D6={primary:565,mac:{primary:2613}},I6={primary:560,mac:{primary:2608}},x6={primary:554,mac:{primary:2602}},E6={primary:558,mac:{primary:2606}},tn={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Su=19999,Vve=240;class PA{constructor(t,s){this._toDispose=new je,this._editor=t,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new Wo,this._decorations=new Rr(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new zi(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(l=>{(l.reason===3||l.reason===5||l.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(l=>{this._ignoreModelContentChanged||(l.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(l=>this._onStateChanged(l))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,mi(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(t){this._isDisposed||!this._editor.hasModel()||(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor)},Vve)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))}static _getSearchRange(t,s){return s||t.getFullModelRange()}research(t,s){let l=null;typeof s<"u"?s!==null&&(Array.isArray(s)?l=s:l=[s]):l=this._decorations.getFindScopes(),l!==null&&(l=l.map(m=>{if(m.startLineNumber!==m.endLineNumber){let A=m.endLineNumber;return m.endColumn===1&&(A=A-1),new $(m.startLineNumber,1,A,this._editor.getModel().getLineMaxColumn(A))}return m}));let u=this._findMatches(l,!1,Su);this._decorations.set(u,l);const h=this._editor.getSelection();let f=this._decorations.getCurrentMatchesPosition(h);if(f===0&&u.length>0){const m=dW(u.map(A=>A.range),A=>$.compareRangesUsingStarts(A,h)>=0);f=m>0?m-1+1:f}this._state.changeMatchInfo(f,this._decorations.getCount(),void 0),t&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1}_setCurrentFindMatch(t){let s=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(s,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)}_prevSearchPosition(t){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:l,column:u}=t,h=this._editor.getModel();return s||u===1?(l===1?l=h.getLineCount():l--,u=h.getLineMaxColumn(l)):u--,new me(l,u)}_moveToPrevMatch(t,s=!1){if(!this._state.canNavigateBack()){const w=this._decorations.matchAfterPosition(t);w&&this._setCurrentFindMatch(w);return}if(this._decorations.getCount()<Su){let w=this._decorations.matchBeforePosition(t);w&&w.isEmpty()&&w.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),w=this._decorations.matchBeforePosition(t)),w&&this._setCurrentFindMatch(w);return}if(this._cannotFind())return;let l=this._decorations.getFindScope(),u=PA._getSearchRange(this._editor.getModel(),l);u.getEndPosition().isBefore(t)&&(t=u.getEndPosition()),t.isBefore(u.getStartPosition())&&(t=u.getEndPosition());let{lineNumber:h,column:f}=t,m=this._editor.getModel(),A=new me(h,f),C=m.findPreviousMatch(this._state.searchString,A,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(C&&C.range.isEmpty()&&C.range.getStartPosition().equals(A)&&(A=this._prevSearchPosition(A),C=m.findPreviousMatch(this._state.searchString,A,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!C){if(!s&&!u.containsRange(C.range))return this._moveToPrevMatch(C.range.getStartPosition(),!0);this._setCurrentFindMatch(C.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(t){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:l,column:u}=t,h=this._editor.getModel();return s||u===h.getLineMaxColumn(l)?(l===h.getLineCount()?l=1:l++,u=1):u++,new me(l,u)}_moveToNextMatch(t){if(!this._state.canNavigateForward()){const l=this._decorations.matchBeforePosition(t);l&&this._setCurrentFindMatch(l);return}if(this._decorations.getCount()<Su){let l=this._decorations.matchAfterPosition(t);l&&l.isEmpty()&&l.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),l=this._decorations.matchAfterPosition(t)),l&&this._setCurrentFindMatch(l);return}let s=this._getNextMatch(t,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(t,s,l,u=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),f=PA._getSearchRange(this._editor.getModel(),h);f.getEndPosition().isBefore(t)&&(t=f.getStartPosition()),t.isBefore(f.getStartPosition())&&(t=f.getStartPosition());let{lineNumber:m,column:A}=t,C=this._editor.getModel(),w=new me(m,A),k=C.findNextMatch(this._state.searchString,w,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s);return l&&k&&k.range.isEmpty()&&k.range.getStartPosition().equals(w)&&(w=this._nextSearchPosition(w),k=C.findNextMatch(this._state.searchString,w,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s)),k?!u&&!f.containsRange(k.range)?this._getNextMatch(k.range.getEndPosition(),s,l,!0):k:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?Wve(this._state.replaceString):om.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let t=this._getReplacePattern(),s=this._editor.getSelection(),l=this._getNextMatch(s.getStartPosition(),!0,!1);if(l)if(s.equalsRange(l.range)){let u=t.buildReplaceString(l.matches,this._state.preserveCase),h=new $s(s,u);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new me(s.startLineNumber,s.startColumn+u.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(l.range)}_findMatches(t,s,l){const u=(t||[null]).map(h=>PA._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s,l)}replaceAll(){if(!this._hasMatches())return;const t=this._decorations.getFindScopes();t===null&&this._state.matchesCount>=Su?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}_largeReplaceAll(){const s=new Kh(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!s)return;let l=s.regex;if(!l.multiline){let k="mu";l.ignoreCase&&(k+="i"),l.global&&(k+="g"),l=new RegExp(l.source,k)}const u=this._editor.getModel(),h=u.getValue(1),f=u.getFullModelRange(),m=this._getReplacePattern();let A;const C=this._state.preserveCase;m.hasReplacementPatterns||C?A=h.replace(l,function(){return m.buildReplaceString(arguments,C)}):A=h.replace(l,m.buildReplaceString(null,C));let w=new UI(f,A,this._editor.getSelection());this._executeEditorCommand("replaceAll",w)}_regularReplaceAll(t){const s=this._getReplacePattern();let l=this._findMatches(t,s.hasReplacementPatterns||this._state.preserveCase,1073741824),u=[];for(let f=0,m=l.length;f<m;f++)u[f]=s.buildReplaceString(l[f].matches,this._state.preserveCase);let h=new Ove(this._editor.getSelection(),l.map(f=>f.range),u);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes(),l=this._findMatches(t,!1,1073741824).map(h=>new et(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),u=this._editor.getSelection();for(let h=0,f=l.length;h<f;h++)if(l[h].equalsRange(u)){l=[u].concat(l.slice(0,h)).concat(l.slice(h+1));break}this._editor.setSelections(l)}_executeEditorCommand(t,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}class Yv extends ba{constructor(t,s,l,u){super(),this._hideSoon=this._register(new zi(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=t,this._state=s,this._keybindingService=l,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const h=u.getColorTheme().getColor(Ty),f=u.getColorTheme().getColor(My),m=u.getColorTheme().getColor(Ry);this.caseSensitive=this._register(new zG({appendTitle:this._keybindingLabelFor(tn.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:h,inputActiveOptionForeground:f,inputActiveOptionBackground:m})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new GG({appendTitle:this._keybindingLabelFor(tn.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:h,inputActiveOptionForeground:f,inputActiveOptionBackground:m})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new jG({appendTitle:this._keybindingLabelFor(tn.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:h,inputActiveOptionForeground:f,inputActiveOptionBackground:m})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(A=>{let C=!1;A.isRegex&&(this.regex.checked=this._state.isRegex,C=!0),A.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,C=!0),A.matchCase&&(this.caseSensitive.checked=this._state.matchCase,C=!0),!this._state.isRevealed&&C&&this._revealTemporarily()})),this._register(vI(this._domNode,A=>this._onMouseOut())),this._register(ze(this._domNode,"mouseover",A=>this._onMouseOver())),this._applyTheme(u.getColorTheme()),this._register(u.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(t){let s=this._keybindingService.lookupKeybinding(t);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Yv.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(t){let s={inputActiveOptionBorder:t.getColor(Ty),inputActiveOptionForeground:t.getColor(My),inputActiveOptionBackground:t.getColor(Ry)};this.caseSensitive.style(s),this.wholeWords.style(s),this.regex.style(s)}}Yv.ID="editor.contrib.findOptionsWidget";rn((d,t)=>{const s=d.getColor(Qr);s&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${s}; }`);const l=d.getColor(Sc);l&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${l}; }`);const u=d.getColor(Yu);u&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${u}; }`);const h=d.getColor(An);h&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${h}; }`)});function N6(d,t){return d===1?!0:d===2?!1:t}class Hve extends Se{constructor(){super(),this._onFindReplaceStateChange=this._register(new he),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return N6(this._isRegexOverride,this._isRegex)}get wholeWord(){return N6(this._wholeWordOverride,this._wholeWord)}get matchCase(){return N6(this._matchCaseOverride,this._matchCase)}get preserveCase(){return N6(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(t,s,l){let u={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},h=!1;s===0&&(t=0),t>s&&(t=s),this._matchesPosition!==t&&(this._matchesPosition=t,u.matchesPosition=!0,h=!0),this._matchesCount!==s&&(this._matchesCount=s,u.matchesCount=!0,h=!0),typeof l<"u"&&($.equalsRange(this._currentMatch,l)||(this._currentMatch=l,u.currentMatch=!0,h=!0)),h&&this._onFindReplaceStateChange.fire(u)}change(t,s,l=!0){var u;let h={moveCursor:s,updateHistory:l,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},f=!1;const m=this.isRegex,A=this.wholeWord,C=this.matchCase,w=this.preserveCase;typeof t.searchString<"u"&&this._searchString!==t.searchString&&(this._searchString=t.searchString,h.searchString=!0,f=!0),typeof t.replaceString<"u"&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,h.replaceString=!0,f=!0),typeof t.isRevealed<"u"&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,h.isRevealed=!0,f=!0),typeof t.isReplaceRevealed<"u"&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,h.isReplaceRevealed=!0,f=!0),typeof t.isRegex<"u"&&(this._isRegex=t.isRegex),typeof t.wholeWord<"u"&&(this._wholeWord=t.wholeWord),typeof t.matchCase<"u"&&(this._matchCase=t.matchCase),typeof t.preserveCase<"u"&&(this._preserveCase=t.preserveCase),typeof t.searchScope<"u"&&(!((u=t.searchScope)===null||u===void 0)&&u.every(k=>{var D;return(D=this._searchScope)===null||D===void 0?void 0:D.some(I=>!$.equalsRange(I,k))})||(this._searchScope=t.searchScope,h.searchScope=!0,f=!0)),typeof t.loop<"u"&&this._loop!==t.loop&&(this._loop=t.loop,h.loop=!0,f=!0),typeof t.isSearching<"u"&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,h.isSearching=!0,f=!0),typeof t.filters<"u"&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,h.filters=!0,f=!0),this._isRegexOverride=typeof t.isRegexOverride<"u"?t.isRegexOverride:0,this._wholeWordOverride=typeof t.wholeWordOverride<"u"?t.wholeWordOverride:0,this._matchCaseOverride=typeof t.matchCaseOverride<"u"?t.matchCaseOverride:0,this._preserveCaseOverride=typeof t.preserveCaseOverride<"u"?t.preserveCaseOverride:0,m!==this.isRegex&&(f=!0,h.isRegex=!0),A!==this.wholeWord&&(f=!0,h.wholeWord=!0),C!==this.matchCase&&(f=!0,h.matchCase=!0),w!==this.preserveCase&&(f=!0,h.preserveCase=!0),f&&this._onFindReplaceStateChange.fire(h)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Su}}function pB(d){var t,s;return((t=d.lookupKeybinding("history.showPrevious"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Up"&&((s=d.lookupKeybinding("history.showNext"))===null||s===void 0?void 0:s.getElectronAccelerator())==="Down"}var Uve=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const zve=bs("find-selection",T.selection,E("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),AB=bs("find-collapsed",T.chevronRight,E("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),_B=bs("find-expanded",T.chevronDown,E("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Gve=bs("find-replace",T.replace,E("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),jve=bs("find-replace-all",T.replaceAll,E("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Zve=bs("find-previous-match",T.arrowUp,E("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Qve=bs("find-next-match",T.arrowDown,E("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Yve=E("label.find","Find"),$ve=E("placeholder.find","Find"),Kve=E("label.previousMatchButton","Previous Match"),Xve=E("label.nextMatchButton","Next Match"),Jve=E("label.toggleSelectionFind","Find in Selection"),qve=E("label.closeButton","Close"),eke=E("label.replace","Replace"),tke=E("placeholder.replace","Replace"),ike=E("label.replaceButton","Replace"),nke=E("label.replaceAllButton","Replace All"),ske=E("label.toggleReplaceButton","Toggle Replace"),rke=E("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Su),oke=E("label.matchesLocation","{0} of {1}"),CB=E("label.noResults","No results"),F2=419,lke=275,ake=lke-54;let Up=69;const cke=33,wB="ctrlEnterReplaceAll.windows.donotask",vB=Jt?256:2048;class K9{constructor(t){this.afterLineNumber=t,this.heightInPx=cke,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function kB(d,t,s){const l=!!t.match(/\n/);if(s&&l&&s.selectionStart>0){d.stopPropagation();return}}function bB(d,t,s){const l=!!t.match(/\n/);if(s&&l&&s.selectionEnd<s.value.length){d.stopPropagation();return}}class $v extends ba{constructor(t,s,l,u,h,f,m,A,C){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=t,this._controller=s,this._state=l,this._contextViewProvider=u,this._keybindingService=h,this._contextKeyService=f,this._storageService=A,this._notificationService=C,this._ctrlEnterReplaceAllWarningPrompted=!!A.getBoolean(wB,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new p0(500),this._register($t(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(w=>this._onStateChanged(w))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(w=>{if(w.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),w.hasChanged(131)&&this._tryUpdateWidgetWidth(),w.hasChanged(2)&&this.updateAccessibilitySupport(),w.hasChanged(35)){const k=this._codeEditor.getOption(35).addExtraSpaceOnTop;k&&!this._viewZone&&(this._viewZone=new K9(0),this._showViewZone()),!k&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Uve(this,void 0,void 0,function*(){if(this._isVisible){let w=yield this._controller.getGlobalBufferTerm();w&&w!==this._state.searchString&&(this._state.change({searchString:w},!1),this._findInput.select())}}))),this._findInputFocused=Qv.bindTo(f),this._findFocusTracker=this._register(Bg(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=yE.bindTo(f),this._replaceFocusTracker=this._register(Bg(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new K9(0)),this._applyTheme(m.getColorTheme()),this._register(m.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(w=>{if(w.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return $v.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=ca(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){let s=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",s),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory(),t.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Bt)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Up+"px",this._state.matchesCount>=Su?this._matchesCount.title=rke:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let t;if(this._state.matchesCount>0){let s=String(this._state.matchesCount);this._state.matchesCount>=Su&&(s+="+");let l=String(this._state.matchesPosition);l==="0"&&(l="?"),t=xl(oke,l,s)}else t=CB;this._matchesCount.appendChild(document.createTextNode(t)),qs(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),Up=Math.max(Up,this._matchesCount.clientWidth)}_getAriaLabel(t,s,l){if(t===CB)return l===""?E("ariaSearchNoResultEmpty","{0} found",t):E("ariaSearchNoResult","{0} found for '{1}'",t,l);if(s){const u=E("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",t,l,s.startLineNumber+":"+s.startColumn),h=this._codeEditor.getModel();return h&&s.startLineNumber<=h.getLineCount()&&s.startLineNumber>=1?`${h.getLineContent(s.startLineNumber)}, ${u}`:u}return E("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",t,l)}_updateToggleSelectionFindButton(){let t=this._codeEditor.getSelection(),s=t?t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn:!1,l=this._toggleSelectionFind.checked;this._isVisible&&(l||s)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let t=this._state.searchString.length>0,s=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&s&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&t&&s&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let l=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&l)}_reveal(){if(this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const l=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=l;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let s=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&t){const l=this._codeEditor.getDomNode();if(l){const u=Js(l),h=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),f=u.left+(h?h.left:0),m=h?h.top:0;if(this._viewZone&&m<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(s=!1);const A=vV(this._domNode).left;f>A&&(s=!1);const C=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());u.left+(C?C.left:0)>A&&(s=!1)}}}this._showViewZone(s)}}_hide(t){this._revealTimeouts.forEach(s=>{clearTimeout(s)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(t){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const l=this._viewZone;this._viewZoneId!==void 0||!l||this._codeEditor.changeViewZones(u=>{l.heightInPx=this._getHeight(),this._viewZoneId=u.addZone(l),this._codeEditor.setScrollTop(t||this._codeEditor.getScrollTop()+l.heightInPx)})}_showViewZone(t=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new K9(0));const l=this._viewZone;this._codeEditor.changeViewZones(u=>{if(this._viewZoneId!==void 0){const h=this._getHeight();if(h===l.heightInPx)return;let f=h-l.heightInPx;l.heightInPx=h,u.layoutZone(this._viewZoneId),t&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+f);return}else{let h=this._getHeight();if(h-=this._codeEditor.getOption(75).top,h<=0)return;l.heightInPx=h,this._viewZoneId=u.addZone(l),t&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+h)}})}_removeViewZone(){this._codeEditor.changeViewZones(t=>{this._viewZoneId!==void 0&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(t){let s={inputActiveOptionBorder:t.getColor(Ty),inputActiveOptionBackground:t.getColor(Ry),inputActiveOptionForeground:t.getColor(My),inputBackground:t.getColor(xI),inputForeground:t.getColor(EI),inputBorder:t.getColor(NI),inputValidationInfoBackground:t.getColor(GV),inputValidationInfoForeground:t.getColor(jV),inputValidationInfoBorder:t.getColor(ZV),inputValidationWarningBackground:t.getColor(QV),inputValidationWarningForeground:t.getColor(YV),inputValidationWarningBorder:t.getColor($V),inputValidationErrorBackground:t.getColor(KV),inputValidationErrorForeground:t.getColor(XV),inputValidationErrorBorder:t.getColor(JV)};this._findInput.style(s),this._replaceInput.style(s),this._toggleSelectionFind.style(s)}_tryUpdateWidgetWidth(){if(!this._isVisible||!CI(this._domNode))return;const t=this._codeEditor.getLayoutInfo();if(t.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const l=t.width,u=t.minimap.minimapWidth;let h=!1,f=!1,m=!1;if(this._resized&&ca(this._domNode)>F2){this._domNode.style.maxWidth=`${l-28-u-15}px`,this._replaceInput.width=ca(this._findInput.domNode);return}if(F2+28+u>=l&&(f=!0),F2+28+u-Up>=l&&(m=!0),F2+28+u-Up>=l+50&&(h=!0),this._domNode.classList.toggle("collapsed-find-widget",h),this._domNode.classList.toggle("narrow-find-widget",m),this._domNode.classList.toggle("reduced-find-widget",f),!m&&!h&&(this._domNode.style.maxWidth=`${l-28-u-15}px`),this._resized){this._findInput.inputBox.layout();let A=this._findInput.inputBox.element.clientWidth;A>0&&(this._replaceInput.width=A)}else this._isReplaceVisible&&(this._replaceInput.width=ca(this._findInput.domNode))}_getHeight(){let t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t}_tryUpdateHeight(){const t=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===t?!1:(this._cachedHeight=t,this._domNode.style.height=`${t}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let t=this._codeEditor.getSelections();t.map(s=>{s.endColumn===1&&s.endLineNumber>s.startLineNumber&&(s=s.setEndPosition(s.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(s.endLineNumber-1)));const l=this._state.currentMatch;return s.startLineNumber!==s.endLineNumber&&!$.equalsRange(s,l)?s:null}).filter(s=>!!s),t.length&&this._state.change({searchScope:t},!0)}}_onFindInputMouseDown(t){t.middleButton&&t.stopPropagation()}_onFindInputKeyDown(t){if(t.equals(vB|3))if(this._keybindingService.dispatchEvent(t,t.target)){t.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),t.preventDefault();return}if(t.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(2066)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return kB(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(t.equals(18))return bB(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(t){if(t.equals(vB|3))if(this._keybindingService.dispatchEvent(t,t.target)){t.preventDefault();return}else{Gs&&Xa&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(E("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(wB,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),t.preventDefault();return}if(t.equals(2)){this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(1026)){this._findInput.focus(),t.preventDefault();return}if(t.equals(2066)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return kB(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(t.equals(18))return bB(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(t){return 0}_keybindingLabelFor(t){let s=this._keybindingService.lookupKeybinding(t);return s?` (${s.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new TL(null,this._contextViewProvider,{width:ake,label:Yve,placeholder:$ve,appendCaseSensitiveLabel:this._keybindingLabelFor(tn.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(tn.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(tn.ToggleRegexCommand),validation:A=>{if(A.length===0||!this._findInput.getRegex())return null;try{return new RegExp(A,"gu"),null}catch(C){return{content:C.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>pB(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(A=>this._onFindInputKeyDown(A))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(A=>{A.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),A.preventDefault())})),this._register(this._findInput.onRegexKeyDown(A=>{A.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),A.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(A=>{this._tryUpdateHeight()&&this._showViewZone()})),Cr&&this._register(this._findInput.onMouseDown(A=>this._onFindInputMouseDown(A))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new N1({label:Kve+this._keybindingLabelFor(tn.PreviousMatchFindAction),icon:Zve,onTrigger:()=>{this._codeEditor.getAction(tn.PreviousMatchFindAction).run().then(void 0,Bt)}})),this._nextBtn=this._register(new N1({label:Xve+this._keybindingLabelFor(tn.NextMatchFindAction),icon:Qve,onTrigger:()=>{this._codeEditor.getAction(tn.NextMatchFindAction).run().then(void 0,Bt)}}));let l=document.createElement("div");l.className="find-part",l.appendChild(this._findInput.domNode);const u=document.createElement("div");u.className="find-actions",l.appendChild(u),u.appendChild(this._matchesCount),u.appendChild(this._prevBtn.domNode),u.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new O_({icon:zve,title:Jve+this._keybindingLabelFor(tn.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let A=this._codeEditor.getSelections();A.map(C=>(C.endColumn===1&&C.endLineNumber>C.startLineNumber&&(C=C.setEndPosition(C.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(C.endLineNumber-1))),C.isEmpty()?null:C)).filter(C=>!!C),A.length&&this._state.change({searchScope:A},!0)}}else this._state.change({searchScope:null},!0)})),u.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new N1({label:qve+this._keybindingLabelFor(tn.CloseFindWidgetCommand),icon:rU,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:A=>{A.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),A.preventDefault())}})),u.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new RL(null,void 0,{label:eke,placeholder:tke,appendPreserveCaseLabel:this._keybindingLabelFor(tn.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>pB(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(A=>this._onReplaceInputKeyDown(A))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(A=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(A=>{A.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),A.preventDefault())})),this._replaceBtn=this._register(new N1({label:ike+this._keybindingLabelFor(tn.ReplaceOneAction),icon:Gve,onTrigger:()=>{this._controller.replace()},onKeyDown:A=>{A.equals(1026)&&(this._closeBtn.focus(),A.preventDefault())}})),this._replaceAllBtn=this._register(new N1({label:nke+this._keybindingLabelFor(tn.ReplaceAllAction),icon:jve,onTrigger:()=>{this._controller.replaceAll()}}));let h=document.createElement("div");h.className="replace-part",h.appendChild(this._replaceInput.domNode);const f=document.createElement("div");f.className="replace-actions",h.appendChild(f),f.appendChild(this._replaceBtn.domNode),f.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new N1({label:ske,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=ca(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${F2}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(l),this._domNode.appendChild(h),this._resizeSash=new mr(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let m=F2;this._register(this._resizeSash.onDidStart(()=>{m=ca(this._domNode)})),this._register(this._resizeSash.onDidChange(A=>{this._resized=!0;let C=m+A.startX-A.currentX;if(C<F2)return;const w=parseFloat(bI(this._domNode).maxWidth)||0;C>w||(this._domNode.style.width=`${C}px`,this._isReplaceVisible&&(this._replaceInput.width=ca(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const A=ca(this._domNode);if(A<F2)return;let C=F2;if(!this._resized||A===F2){const w=this._codeEditor.getLayoutInfo();C=w.width-28-w.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${C}px`,this._isReplaceVisible&&(this._replaceInput.width=ca(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const t=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(t!==2)}}$v.ID="editor.contrib.findWidget";class N1 extends ba{constructor(t){super(),this._opts=t;let s="button";this._opts.className&&(s=s+" "+this._opts.className),this._opts.icon&&(s=s+" "+Qi.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=s,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,l=>{this._opts.onTrigger(),l.preventDefault()}),this.onkeydown(this._domNode,l=>{if(l.equals(10)||l.equals(3)){this._opts.onTrigger(),l.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(l)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}setExpanded(t){this._domNode.setAttribute("aria-expanded",String(!!t)),t?(this._domNode.classList.remove(...Qi.asClassNameArray(AB)),this._domNode.classList.add(...Qi.asClassNameArray(_B))):(this._domNode.classList.remove(...Qi.asClassNameArray(_B)),this._domNode.classList.add(...Qi.asClassNameArray(AB)))}}rn((d,t)=>{const s=(N,R)=>{R&&t.addRule(`.monaco-editor ${N} { background-color: ${R}; }`)};s(".findMatch",d.getColor(Ru)),s(".currentFindMatch",d.getColor(uue)),s(".findScope",d.getColor(hue));const l=d.getColor(Qr);s(".find-widget",l);const u=d.getColor(Yu);u&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${u}; }`);const h=d.getColor(Ag);h&&t.addRule(`.monaco-editor .findMatch { border: 1px ${d.type==="hc"?"dotted":"solid"} ${h}; box-sizing: border-box; }`);const f=d.getColor(due);f&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${f}; padding: 1px; box-sizing: border-box; }`);const m=d.getColor(fue);m&&t.addRule(`.monaco-editor .findScope { border: 1px ${d.type==="hc"?"dashed":"solid"} ${m}; }`);const A=d.getColor(An);A&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${A}; }`);const C=d.getColor(Sc);C&&t.addRule(`.monaco-editor .find-widget { color: ${C}; }`);const w=d.getColor(Gce);w&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${w}; }`);const k=d.getColor(qce);if(k)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${k}; }`);else{const N=d.getColor(Sd);N&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${N}; }`)}const D=d.getColor(By);D&&t.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${D} !important;
		}
	`);const I=d.getColor(d0);I&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${I}; }`)});var mj=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},G2=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},af=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const uke=524288;function GL(d,t="single",s=!1){if(!d.hasModel())return null;const l=d.getSelection();if(t==="single"&&l.startLineNumber===l.endLineNumber||t==="multiple"){if(l.isEmpty()){const u=d.getConfiguredWordAtPosition(l.getStartPosition());if(u&&s===!1)return u.word}else if(d.getModel().getValueLengthInRange(l)<uke)return d.getModel().getValueInRange(l)}return null}let Bo=class pj extends Se{constructor(t,s,l,u){super(),this._editor=t,this._findWidgetVisible=gh.bindTo(s),this._contextKeyService=s,this._storageService=l,this._clipboardService=u,this._updateHistoryDelayer=new p0(500),this._state=this._register(new Hve),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(h=>this._onStateChanged(h))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let h=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),h&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(t){return t.getContribution(pj.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Qv.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let t=this._editor.getSelections();t.map(s=>(s.endColumn===1&&s.endLineNumber>s.startLineNumber&&(s=s.setEndPosition(s.endLineNumber-1,this._editor.getModel().getLineMaxColumn(s.endLineNumber-1))),s.isEmpty()?null:s)).filter(s=>!!s),t.length&&this._state.change({searchScope:t},!0)}}setSearchString(t){this._state.isRegex&&(t=Fl(t)),this._state.change({searchString:t},!1)}highlightFindOptions(t=!1){}_start(t,s){return af(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let l=Object.assign(Object.assign({},s),{isRevealed:!0});if(t.seedSearchStringFromSelection==="single"){let u=GL(this._editor,t.seedSearchStringFromSelection,t.seedSearchStringFromNonEmptySelection);u&&(this._state.isRegex?l.searchString=Fl(u):l.searchString=u)}else if(t.seedSearchStringFromSelection==="multiple"&&!t.updateSearchScope){let u=GL(this._editor,t.seedSearchStringFromSelection);u&&(l.searchString=u)}if(!l.searchString&&t.seedSearchStringFromGlobalClipboard){let u=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;u&&(l.searchString=u)}if(t.forceRevealReplace||l.isReplaceRevealed?l.isReplaceRevealed=!0:this._findWidgetVisible.get()||(l.isReplaceRevealed=!1),t.updateSearchScope){let u=this._editor.getSelections();u.some(h=>!h.isEmpty())&&(l.searchScope=u)}l.loop=t.loop,this._state.change(l,!1),this._model||(this._model=new PA(this._editor,this._state))})}start(t,s){return this._start(t,s)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return af(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(t){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)}};Bo.ID="editor.contrib.findController";Bo=mj([G2(1,Mt),G2(2,N0),G2(3,Tf)],Bo);let jL=class extends Bo{constructor(t,s,l,u,h,f,m,A){super(t,l,m,A),this._contextViewService=s,this._keybindingService=u,this._themeService=h,this._notificationService=f,this._widget=null,this._findOptionsWidget=null}_start(t,s){const l=Object.create(null,{_start:{get:()=>super._start}});return af(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const u=this._editor.getSelection();let h=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":h=!0;break;case"never":h=!1;break;case"multiline":{h=!!u&&u.startLineNumber!==u.endLineNumber;break}}t.updateSearchScope=t.updateSearchScope||h,yield l._start.call(this,t,s),this._widget&&(t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(t=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new $v(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Yv(this._editor,this._state,this._keybindingService,this._themeService))}};jL=mj([G2(1,C_),G2(2,Mt),G2(3,Hn),G2(4,dn),G2(5,is),G2(6,N0),G2(7,Tf)],jL);const hke=OV(new PV({id:tn.StartFindAction,label:E("startFindAction","Find"),alias:"Find",precondition:it.or(re.focus,it.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:ce.MenubarEditMenu,group:"3_find",title:E({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));hke.addImplementation(0,(d,t,s)=>{const l=Bo.get(t);return l?l.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}):!1});const dke={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:E("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:E("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:E("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:E("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class fke extends lt{constructor(){super({id:tn.StartFindWithArgs,label:E("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:dke})}run(t,s,l){return af(this,void 0,void 0,function*(){const u=Bo.get(s);if(u){const h=l?{searchString:l.searchString,replaceString:l.replaceString,isReplaceRevealed:l.replaceString!==void 0,isRegex:l.isRegex,wholeWord:l.matchWholeWord,matchCase:l.isCaseSensitive,preserveCase:l.preserveCase}:{};yield u.start({forceRevealReplace:!1,seedSearchStringFromSelection:u.getState().searchString.length===0&&s.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:s.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:l?.findInSelection||!1,loop:s.getOption(35).loop},h),u.setGlobalBufferTerm(u.getState().searchString)}})}}class gke extends lt{constructor(){super({id:tn.StartFindWithSelection,label:E("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(t,s){return af(this,void 0,void 0,function*(){const l=Bo.get(s);l&&(yield l.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:s.getOption(35).loop}),l.setGlobalBufferTerm(l.getState().searchString))})}}class Aj extends lt{run(t,s){return af(this,void 0,void 0,function*(){const l=Bo.get(s);l&&!this._run(l)&&(yield l.start({forceRevealReplace:!1,seedSearchStringFromSelection:l.getState().searchString.length===0&&s.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:s.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:s.getOption(35).loop}),this._run(l))})}}class mke extends Aj{constructor(){super({id:tn.NextMatchFindAction,label:E("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:re.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:it.and(re.focus,Qv),primary:3,weight:100}]})}_run(t){return t.moveToNextMatch()?(t.editor.pushUndoStop(),!0):!1}}class pke extends Aj{constructor(){super({id:tn.PreviousMatchFindAction,label:E("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:re.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:it.and(re.focus,Qv),primary:1027,weight:100}]})}_run(t){return t.moveToPrevMatch()}}class _j extends lt{run(t,s){return af(this,void 0,void 0,function*(){const l=Bo.get(s);if(!l)return;const u=s.getOption(35).seedSearchStringFromSelection==="selection";let h=null;s.getOption(35).seedSearchStringFromSelection!=="never"&&(h=GL(s,"single",u)),h&&l.setSearchString(h),this._run(l)||(yield l.start({forceRevealReplace:!1,seedSearchStringFromSelection:s.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:u,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:s.getOption(35).loop}),this._run(l))})}}class Ake extends _j{constructor(){super({id:tn.NextSelectionMatchFindAction,label:E("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:2109,weight:100}})}_run(t){return t.moveToNextMatch()}}class _ke extends _j{constructor(){super({id:tn.PreviousSelectionMatchFindAction,label:E("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:3133,weight:100}})}_run(t){return t.moveToPrevMatch()}}const Cke=OV(new PV({id:tn.StartFindReplaceAction,label:E("startReplace","Replace"),alias:"Replace",precondition:it.or(re.focus,it.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:ce.MenubarEditMenu,group:"3_find",title:E({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Cke.addImplementation(0,(d,t,s)=>{if(!t.hasModel()||t.getOption(81))return!1;const l=Bo.get(t);if(!l)return!1;const u=t.getSelection(),h=l.isFindInputFocused(),f=!u.isEmpty()&&u.startLineNumber===u.endLineNumber&&t.getOption(35).seedSearchStringFromSelection!=="never"&&!h,m=h||f?2:1;return l.start({forceRevealReplace:!0,seedSearchStringFromSelection:f?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:m,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})});Li(Bo.ID,jL);$e(fke);$e(gke);$e(mke);$e(pke);$e(Ake);$e(_ke);const h2=nr.bindToContribution(Bo.get);Qe(new h2({id:tn.CloseFindWidgetCommand,precondition:gh,handler:d=>d.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:it.and(re.focus,it.not("isComposing")),primary:9,secondary:[1033]}}));Qe(new h2({id:tn.ToggleCaseSensitiveCommand,precondition:void 0,handler:d=>d.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:L6.primary,mac:L6.mac,win:L6.win,linux:L6.linux}}));Qe(new h2({id:tn.ToggleWholeWordCommand,precondition:void 0,handler:d=>d.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:D6.primary,mac:D6.mac,win:D6.win,linux:D6.linux}}));Qe(new h2({id:tn.ToggleRegexCommand,precondition:void 0,handler:d=>d.toggleRegex(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:I6.primary,mac:I6.mac,win:I6.win,linux:I6.linux}}));Qe(new h2({id:tn.ToggleSearchScopeCommand,precondition:void 0,handler:d=>d.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:x6.primary,mac:x6.mac,win:x6.win,linux:x6.linux}}));Qe(new h2({id:tn.TogglePreserveCaseCommand,precondition:void 0,handler:d=>d.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:E6.primary,mac:E6.mac,win:E6.win,linux:E6.linux}}));Qe(new h2({id:tn.ReplaceOneAction,precondition:gh,handler:d=>d.replace(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:3094}}));Qe(new h2({id:tn.ReplaceOneAction,precondition:gh,handler:d=>d.replace(),kbOpts:{weight:100+5,kbExpr:it.and(re.focus,yE),primary:3}}));Qe(new h2({id:tn.ReplaceAllAction,precondition:gh,handler:d=>d.replaceAll(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:2563}}));Qe(new h2({id:tn.ReplaceAllAction,precondition:gh,handler:d=>d.replaceAll(),kbOpts:{weight:100+5,kbExpr:it.and(re.focus,yE),primary:void 0,mac:{primary:2051}}}));Qe(new h2({id:tn.SelectAllMatchesAction,precondition:gh,handler:d=>d.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:re.focus,primary:515}}));const SB=65535,mc=16777215,yB=4278190080;class U4{constructor(t,s,l){if(t.length!==s.length||t.length>SB)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=s,this._collapseStates=new Uint32Array(Math.ceil(t.length/32)),this._types=l,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],s=(l,u)=>{let h=t[t.length-1];return this.getStartLineNumber(h)<=l&&this.getEndLineNumber(h)>=u};for(let l=0,u=this._startIndexes.length;l<u;l++){let h=this._startIndexes[l],f=this._endIndexes[l];if(h>mc||f>mc)throw new Error("startLineNumber or endLineNumber must not exceed "+mc);for(;t.length>0&&!s(h,f);)t.pop();let m=t.length>0?t[t.length-1]:-1;t.push(l),this._startIndexes[l]=h+((m&255)<<24),this._endIndexes[l]=f+((m&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&mc}getEndLineNumber(t){return this._endIndexes[t]&mc}getType(t){return this._types?this._types[t]:void 0}hasTypes(){return!!this._types}isCollapsed(t){let s=t/32|0,l=t%32;return(this._collapseStates[s]&1<<l)!==0}setCollapsed(t,s){let l=t/32|0,u=t%32,h=this._collapseStates[l];s?this._collapseStates[l]=h|1<<u:this._collapseStates[l]=h&~(1<<u)}setCollapsedAllOfType(t,s){let l=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===t&&(this.setCollapsed(u,s),l=!0);return l}toRegion(t){return new wke(this,t)}getParentIndex(t){this.ensureParentIndices();let s=((this._startIndexes[t]&yB)>>>24)+((this._endIndexes[t]&yB)>>>16);return s===SB?-1:s}contains(t,s){return this.getStartLineNumber(t)<=s&&this.getEndLineNumber(t)>=s}findIndex(t){let s=0,l=this._startIndexes.length;if(l===0)return-1;for(;s<l;){let u=Math.floor((s+l)/2);t<this.getStartLineNumber(u)?l=u:s=u+1}return s-1}findRange(t){let s=this.findIndex(t);if(s>=0){if(this.getEndLineNumber(s)>=t)return s;for(s=this.getParentIndex(s);s!==-1;){if(this.contains(s,t))return s;s=this.getParentIndex(s)}}return-1}toString(){let t=[];for(let s=0;s<this.length;s++)t[s]=`[${this.isCollapsed(s)?"+":"-"}] ${this.getStartLineNumber(s)}/${this.getEndLineNumber(s)}`;return t.join(", ")}}class wke{constructor(t,s){this.ranges=t,this.index=s}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber}containsLine(t){return this.startLineNumber<=t&&t<=this.endLineNumber}}class vke{constructor(t,s){this._updateEventEmitter=new he,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=s,this._regions=new U4(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(t){if(!t.length)return;t=t.sort((l,u)=>l.regionIndex-u.regionIndex);const s={};this._decorationProvider.changeDecorations(l=>{let u=0,h=-1,f=-1;const m=A=>{for(;u<A;){const C=this._regions.getEndLineNumber(u),w=this._regions.isCollapsed(u);C<=h&&l.changeDecorationOptions(this._editorDecorationIds[u],this._decorationProvider.getDecorationOption(w,C<=f)),w&&C>f&&(f=C),u++}};for(let A of t){let C=A.regionIndex,w=this._editorDecorationIds[C];if(w&&!s[w]){s[w]=!0,m(C);let k=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,k),h=Math.max(h,this._regions.getEndLineNumber(C))}}m(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:t})}update(t,s=[]){let l=[],u=(k,D)=>{for(let I of s)if(k<I&&I<=D)return!0;return!1},h=-1,f=(k,D)=>{const I=t.getStartLineNumber(k),N=t.getEndLineNumber(k);D||(D=t.isCollapsed(k)),D&&u(I,N)&&(D=!1),t.setCollapsed(k,D);const R=this._textModel.getLineMaxColumn(I),O={startLineNumber:I,startColumn:Math.max(R-1,1),endLineNumber:I,endColumn:R};l.push({range:O,options:this._decorationProvider.getDecorationOption(D,N<=h)}),D&&N>h&&(h=N)},m=0,A=()=>{for(;m<this._regions.length;){let k=this._regions.isCollapsed(m);if(m++,k)return m-1}return-1},C=0,w=A();for(;w!==-1&&C<t.length;){let k=this._textModel.getDecorationRange(this._editorDecorationIds[w]);if(k){let D=k.startLineNumber;if(k.startColumn===Math.max(k.endColumn-1,1)&&this._textModel.getLineMaxColumn(D)===k.endColumn)for(;C<t.length;){let I=t.getStartLineNumber(C);if(D>=I)f(C,D===I),C++;else break}}w=A()}for(;C<t.length;)f(C,!1),C++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,l),this._regions=t,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let t=[];for(let s=0;s<this._regions.length;s++)if(this._regions.isCollapsed(s)){let l=this._textModel.getDecorationRange(this._editorDecorationIds[s]);if(l){let u=l.startLineNumber,h=l.endLineNumber+this._regions.getEndLineNumber(s)-this._regions.getStartLineNumber(s);t.push({startLineNumber:u,endLineNumber:h})}}if(t.length>0)return t}applyMemento(t){if(!Array.isArray(t))return;let s=[];for(let l of t){let u=this.getRegionAtLine(l.startLineNumber);u&&!u.isCollapsed&&s.push(u)}this.toggleCollapseState(s)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(t,s){let l=[];if(this._regions){let u=this._regions.findRange(t),h=1;for(;u>=0;){let f=this._regions.toRegion(u);(!s||s(f,h))&&l.push(f),h++,u=f.parentIndex}}return l}getRegionAtLine(t){if(this._regions){let s=this._regions.findRange(t);if(s>=0)return this._regions.toRegion(s)}return null}getRegionsInside(t,s){let l=[],u=t?t.regionIndex+1:0,h=t?t.endLineNumber:Number.MAX_VALUE;if(s&&s.length===2){const f=[];for(let m=u,A=this._regions.length;m<A;m++){let C=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<h){for(;f.length>0&&!C.containedBy(f[f.length-1]);)f.pop();f.push(C),s(C,f.length)&&l.push(C)}else break}}else for(let f=u,m=this._regions.length;f<m;f++){let A=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<h)(!s||s(A))&&l.push(A);else break}return l}}function kke(d,t,s){let l=[];for(let u of s){let h=d.getRegionAtLine(u);if(h){const f=!h.isCollapsed;if(l.push(h),t>1){let m=d.getRegionsInside(h,(A,C)=>A.isCollapsed!==f&&C<t);l.push(...m)}}}d.toggleCollapseState(l)}function Em(d,t,s=Number.MAX_VALUE,l){let u=[];if(l&&l.length>0)for(let h of l){let f=d.getRegionAtLine(h);if(f&&(f.isCollapsed!==t&&u.push(f),s>1)){let m=d.getRegionsInside(f,(A,C)=>A.isCollapsed!==t&&C<s);u.push(...m)}}else{let h=d.getRegionsInside(null,(f,m)=>f.isCollapsed!==t&&m<s);u.push(...h)}d.toggleCollapseState(u)}function Cj(d,t,s,l){let u=[];for(let h of l){let f=d.getAllRegionsAtLine(h,(m,A)=>m.isCollapsed!==t&&A<=s);u.push(...f)}d.toggleCollapseState(u)}function bke(d,t,s){let l=[];for(let u of s){let h=d.getAllRegionsAtLine(u,f=>f.isCollapsed!==t);h.length>0&&l.push(h[0])}d.toggleCollapseState(l)}function Ske(d,t,s,l){let u=(f,m)=>m===t&&f.isCollapsed!==s&&!l.some(A=>f.containsLine(A)),h=d.getRegionsInside(null,u);d.toggleCollapseState(h)}function wj(d,t,s){let l=[];for(let f of s){const m=d.getAllRegionsAtLine(f,void 0);m.length>0&&l.push(m[0])}let u=f=>l.every(m=>!m.containedBy(f)&&!f.containedBy(m))&&f.isCollapsed!==t,h=d.getRegionsInside(null,u);d.toggleCollapseState(h)}function LE(d,t,s){let l=d.textModel,u=d.regions,h=[];for(let f=u.length-1;f>=0;f--)if(s!==u.isCollapsed(f)){let m=u.getStartLineNumber(f);t.test(l.getLineContent(m))&&h.push(u.toRegion(f))}d.toggleCollapseState(h)}function DE(d,t,s){let l=d.regions,u=[];for(let h=l.length-1;h>=0;h--)s!==l.isCollapsed(h)&&t===l.getType(h)&&u.push(l.toRegion(h));d.toggleCollapseState(u)}function yke(d,t){let s=null,l=t.getRegionAtLine(d);if(l!==null&&(s=l.startLineNumber,d===s)){let u=l.parentIndex;u!==-1?s=t.regions.getStartLineNumber(u):s=null}return s}function Lke(d,t){let s=t.getRegionAtLine(d);if(s!==null&&s.startLineNumber===d){if(d!==s.startLineNumber)return s.startLineNumber;{let l=s.parentIndex,u=0;for(l!==-1&&(u=t.regions.getStartLineNumber(s.parentIndex));s!==null;)if(s.regionIndex>0){if(s=t.regions.toRegion(s.regionIndex-1),s.startLineNumber<=u)return null;if(s.parentIndex===l)return s.startLineNumber}else return null}}else if(t.regions.length>0)for(s=t.regions.toRegion(t.regions.length-1);s!==null;){if(s.startLineNumber<d)return s.startLineNumber;s.regionIndex>0?s=t.regions.toRegion(s.regionIndex-1):s=null}return null}function Dke(d,t){let s=t.getRegionAtLine(d);if(s!==null&&s.startLineNumber===d){let l=s.parentIndex,u=0;if(l!==-1)u=t.regions.getEndLineNumber(s.parentIndex);else{if(t.regions.length===0)return null;u=t.regions.getEndLineNumber(t.regions.length-1)}for(;s!==null;)if(s.regionIndex<t.regions.length){if(s=t.regions.toRegion(s.regionIndex+1),s.startLineNumber>=u)return null;if(s.parentIndex===l)return s.startLineNumber}else return null}else if(t.regions.length>0)for(s=t.regions.toRegion(0);s!==null;){if(s.startLineNumber>d)return s.startLineNumber;s.regionIndex<t.regions.length?s=t.regions.toRegion(s.regionIndex+1):s=null}return null}class Ike{constructor(t){this._updateEventEmitter=new he,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange(s=>this.updateHiddenRanges()),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(t){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=t.changes.some(s=>s.range.endLineNumber!==s.range.startLineNumber||$d(s.text)[0]!==0))}updateHiddenRanges(){let t=!1,s=[],l=0,u=0,h=Number.MAX_VALUE,f=-1,m=this._foldingModel.regions;for(;l<m.length;l++){if(!m.isCollapsed(l))continue;let A=m.getStartLineNumber(l)+1,C=m.getEndLineNumber(l);h<=A&&C<=f||(!t&&u<this._hiddenRanges.length&&this._hiddenRanges[u].startLineNumber===A&&this._hiddenRanges[u].endLineNumber===C?(s.push(this._hiddenRanges[u]),u++):(t=!0,s.push(new $(A,1,C,1))),h=A,f=C)}(this._hasLineChanges||t||u<this._hiddenRanges.length)&&this.applyHiddenRanges(s)}applyMemento(t){if(!Array.isArray(t)||t.length===0)return!1;let s=[];for(let l of t){if(!l.startLineNumber||!l.endLineNumber)return!1;s.push(new $(l.startLineNumber+1,1,l.endLineNumber,1))}return this.applyHiddenRanges(s),!0}getMemento(){return this._hiddenRanges.map(t=>({startLineNumber:t.startLineNumber-1,endLineNumber:t.endLineNumber}))}applyHiddenRanges(t){this._hiddenRanges=t,this._hasLineChanges=!1,this._updateEventEmitter.fire(t)}hasRanges(){return this._hiddenRanges.length>0}isHidden(t){return LB(this._hiddenRanges,t)!==null}adjustSelections(t){let s=!1,l=this._foldingModel.textModel,u=null,h=f=>((!u||!xke(f,u))&&(u=LB(this._hiddenRanges,f)),u?u.startLineNumber-1:null);for(let f=0,m=t.length;f<m;f++){let A=t[f],C=h(A.startLineNumber);C&&(A=A.setStartPosition(C,l.getLineMaxColumn(C)),s=!0);let w=h(A.endLineNumber);w&&(A=A.setEndPosition(w,l.getLineMaxColumn(w)),s=!0),t[f]=A}return s}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function xke(d,t){return d>=t.startLineNumber&&d<=t.endLineNumber}function LB(d,t){let s=dW(d,l=>t<l.startLineNumber)-1;return s>=0&&d[s].endLineNumber>=t?d[s]:null}const Eke=5e3,Nke="indent";class Tke{constructor(t,s,l){this.editorModel=t,this.languageConfigurationService=s,this.maxFoldingRegions=l,this.id=Nke}dispose(){}compute(t,s){let l=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,u=l&&!!l.offSide,h=l&&l.markers;return Promise.resolve(Mke(this.editorModel,u,h,this.maxFoldingRegions,s))}}class Rke{constructor(t,s){this._notifyTooManyRegions=s,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}insertFirst(t,s,l){if(t>mc||s>mc)return;let u=this._length;this._startIndexes[u]=t,this._endIndexes[u]=s,this._length++,l<1e3&&(this._indentOccurrences[l]=(this._indentOccurrences[l]||0)+1)}toIndentRanges(t){if(this._length<=this._foldingRangesLimit){let s=new Uint32Array(this._length),l=new Uint32Array(this._length);for(let u=this._length-1,h=0;u>=0;u--,h++)s[h]=this._startIndexes[u],l[h]=this._endIndexes[u];return new U4(s,l)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let s=0,l=this._indentOccurrences.length;for(let m=0;m<this._indentOccurrences.length;m++){let A=this._indentOccurrences[m];if(A){if(A+s>this._foldingRangesLimit){l=m;break}s+=A}}const u=t.getOptions().tabSize;let h=new Uint32Array(this._foldingRangesLimit),f=new Uint32Array(this._foldingRangesLimit);for(let m=this._length-1,A=0;m>=0;m--){let C=this._startIndexes[m],w=t.getLineContent(C),k=iv(w,u);(k<l||k===l&&s++<this._foldingRangesLimit)&&(h[A]=C,f[A]=this._endIndexes[m],A++)}return new U4(h,f)}}}function Mke(d,t,s,l,u){const h=d.getOptions().tabSize;l=l??Eke;let f=new Rke(l,u),m;s&&(m=new RegExp(`(${s.start.source})|(?:${s.end.source})`));let A=[],C=d.getLineCount()+1;A.push({indent:-1,endAbove:C,line:C});for(let w=d.getLineCount();w>0;w--){let k=d.getLineContent(w),D=iv(k,h),I=A[A.length-1];if(D===-1){t&&(I.endAbove=w);continue}let N;if(m&&(N=k.match(m)))if(N[1]){let R=A.length-1;for(;R>0&&A[R].indent!==-2;)R--;if(R>0){A.length=R+1,I=A[R],f.insertFirst(w,I.line,D),I.line=w,I.indent=D,I.endAbove=w;continue}}else{A.push({indent:-2,endAbove:w,line:w});continue}if(I.indent>D){do A.pop(),I=A[A.length-1];while(I.indent>D);let R=I.endAbove-1;R-w>=1&&f.insertFirst(w,R,D)}I.indent===D?I.endAbove=w:A.push({indent:D,endAbove:w,line:w})}return f.toIndentRanges(d)}const Pke={},vj="syntax";class Oke{constructor(t,s,l,u){this.editorModel=t,this.providers=s,this.limit=u,this.id=vj;for(const h of s)typeof h.onDidChange=="function"&&(this.disposables||(this.disposables=new je),this.disposables.add(h.onDidChange(l)))}compute(t,s){return Fke(this.providers,this.editorModel,t).then(l=>l?kj(l,this.limit,s):null)}dispose(){var t;(t=this.disposables)===null||t===void 0||t.dispose()}}function Fke(d,t,s){let l=null,u=d.map((h,f)=>Promise.resolve(h.provideFoldingRanges(t,Pke,s)).then(m=>{if(!s.isCancellationRequested&&Array.isArray(m)){Array.isArray(l)||(l=[]);let A=t.getLineCount();for(let C of m)C.start>0&&C.end>C.start&&C.end<=A&&l.push({start:C.start,end:C.end,rank:f,kind:C.kind})}},Ms));return Promise.all(u).then(h=>l)}class Bke{constructor(t,s){this._notifyTooManyRegions=s,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,s,l,u){if(t>mc||s>mc)return;let h=this._length;this._startIndexes[h]=t,this._endIndexes[h]=s,this._nestingLevels[h]=u,this._types[h]=l,this._length++,u<30&&(this._nestingLevelCounts[u]=(this._nestingLevelCounts[u]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),s=new Uint32Array(this._length);for(let l=0;l<this._length;l++)t[l]=this._startIndexes[l],s[l]=this._endIndexes[l];return new U4(t,s,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,s=this._nestingLevelCounts.length;for(let f=0;f<this._nestingLevelCounts.length;f++){let m=this._nestingLevelCounts[f];if(m){if(m+t>this._foldingRangesLimit){s=f;break}t+=m}}let l=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit),h=[];for(let f=0,m=0;f<this._length;f++){let A=this._nestingLevels[f];(A<s||A===s&&t++<this._foldingRangesLimit)&&(l[m]=this._startIndexes[f],u[m]=this._endIndexes[f],h[m]=this._types[f],m++)}return new U4(l,u,h)}}}function kj(d,t,s){let l=d.sort((m,A)=>{let C=m.start-A.start;return C===0&&(C=m.rank-A.rank),C}),u=new Bke(t,s),h,f=[];for(let m of l)if(!h)h=m,u.add(m.start,m.end,m.kind&&m.kind.value,f.length);else if(m.start>h.start)if(m.end<=h.end)f.push(h),h=m,u.add(m.start,m.end,m.kind&&m.kind.value,f.length);else{if(m.start>h.end){do h=f.pop();while(h&&m.start>h.end);h&&f.push(h),h=m}u.add(m.start,m.end,m.kind&&m.kind.value,f.length)}return u.toIndentRanges()}const bj="init";class Wke{constructor(t,s,l,u){if(this.editorModel=t,this.id=bj,s.length){let h=f=>({range:{startLineNumber:f.startLineNumber,startColumn:0,endLineNumber:f.endLineNumber,endColumn:t.getLineLength(f.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=t.deltaDecorations([],s.map(h)),this.timeout=setTimeout(l,u)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(t){let s=[];if(this.decorationIds)for(let l of this.decorationIds){let u=this.editorModel.getDecorationRange(l);u&&s.push({start:u.startLineNumber,end:u.endLineNumber,rank:1})}return Promise.resolve(kj(s,Number.MAX_VALUE))}}const IE=bs("folding-expanded",T.chevronDown,E("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),xE=bs("folding-collapsed",T.chevronRight,E("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class ga{constructor(t){this.editor=t,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(t,s){return s?ga.HIDDEN_RANGE_DECORATION:t?this.showFoldingHighlights?ga.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ga.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?ga.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:ga.EXPANDED_VISUAL_DECORATION}deltaDecorations(t,s){return this.editor.deltaDecorations(t,s)}changeDecorations(t){return this.editor.changeDecorations(t)}}ga.COLLAPSED_VISUAL_DECORATION=Qt.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Qi.asClassName(xE)});ga.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Qt.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Qi.asClassName(xE)});ga.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Qt.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Qi.asClassName(IE)});ga.EXPANDED_VISUAL_DECORATION=Qt.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Qi.asClassName(IE)});ga.HIDDEN_RANGE_DECORATION=Qt.register({description:"folding-hidden-range-decoration",stickiness:1});var Vke=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},zp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const Xr=new rt("foldingEnabled",!1);let lm=class Sj extends Se{constructor(t,s,l,u,h,f){super(),this.contextKeyService=s,this.languageConfigurationService=l,this.languageFeaturesService=f,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new je),this.editor=t;const m=this.editor.getOptions();this._isEnabled=m.get(37),this._useFoldingProviders=m.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=m.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=m.get(40),this._maxFoldingRegions=m.get(41),this.updateDebounceInfo=h.for(f.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ga(t),this.foldingDecorationProvider.autoHideFoldingControls=m.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=m.get(39),this.foldingEnabled=Xr.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=A=>{this._tooManyRegionsNotified||(u.notify({severity:kn.Warning,sticky:!0,message:E("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,A)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(A=>{if(A.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),A.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),A.hasChanged(99)||A.hasChanged(39)){const C=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=C.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=C.get(39),this.triggerFoldingModelChanged()}A.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),A.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),A.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(t){return t.getContribution(Sj.ID)}saveViewState(){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){let s=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),l=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:s,lineCount:t.getLineCount(),provider:l,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(t){let s=this.editor.getModel();if(!s||!this._isEnabled||s.isTooLargeForTokenization()||!this.hiddenRangeModel||!t||t.lineCount!==s.getLineCount()||(this._currentModelHasFoldedImports=!!t.foldedImports,!t.collapsedRegions))return;(t.provider===vj||t.provider===bj)&&(this.foldingStateMemento=t);const l=t.collapsedRegions;if(this.hiddenRangeModel.applyMemento(l)){const u=this.getFoldingModel();u&&u.then(h=>{if(h){this._restoringViewState=!0;try{h.applyMemento(l)}finally{this._restoringViewState=!1}}}).then(void 0,Bt)}}onModelChanged(){this.localToDispose.clear();let t=this.editor.getModel();!this._isEnabled||!t||t.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new vke(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Ike(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(s=>this.onHiddenRangesChanges(s))),this.updateScheduler=new p0(this.updateDebounceInfo.get(t)),this.cursorChangedScheduler=new zi(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(s=>this.onDidChangeModelContent(s))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(s=>this.onEditorMouseDown(s))),this.localToDispose.add(this.editor.onMouseUp(s=>this.onEditorMouseUp(s))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(t){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Tke(t,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let s=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(s.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new Wke(t,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);s.length>0&&(this.rangeProvider=new Oke(t,s,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(t){var s;(s=this.hiddenRangeModel)===null||s===void 0||s.notifyChangeModelContent(t),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const t=this.foldingModel;if(!t)return null;const s=new mo(!0),l=this.getRangeProvider(t.textModel);let u=this.foldingRegionPromise=js(h=>l.compute(h,this._notifyTooManyRegions));return u.then(h=>{if(h&&u===this.foldingRegionPromise){let f;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const w=h.setCollapsedAllOfType(i2.Imports.value,!0);w&&(f=Ju.capture(this.editor),this._currentModelHasFoldedImports=w)}let m=this.editor.getSelections(),A=m?m.map(w=>w.startLineNumber):[];t.update(h,A),f&&f.restore(this.editor);const C=this.updateDebounceInfo.update(t.textModel,s.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=C)}return t})}).then(void 0,t=>(Bt(t),null)))}onHiddenRangesChanges(t){if(this.hiddenRangeModel&&t.length&&!this._restoringViewState){let s=this.editor.getSelections();s&&this.hiddenRangeModel.adjustSelections(s)&&this.editor.setSelections(s)}this.editor.setHiddenAreas(t)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const t=this.getFoldingModel();!t||t.then(s=>{if(s){let l=this.editor.getSelections();if(l&&l.length>0){let u=[];for(let h of l){let f=h.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(f)&&u.push(...s.getAllRegionsAtLine(f,m=>m.isCollapsed&&f>m.startLineNumber))}u.length&&(s.toggleCollapseState(u),this.reveal(l[0].getPosition()))}}}).then(void 0,Bt)}onEditorMouseDown(t){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!t.target||!t.target.range||!t.event.leftButton&&!t.event.middleButton)return;const s=t.target.range;let l=!1;switch(t.target.type){case 4:{const u=t.target.detail,h=t.target.element.offsetLeft;if(u.offsetX-h<5)return;l=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!t.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let u=this.editor.getModel();if(u&&s.startColumn===u.getLineMaxColumn(s.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:s.startLineNumber,iconClicked:l}}onEditorMouseUp(t){const s=this.getFoldingModel();if(!s||!this.mouseDownInfo||!t.target)return;let l=this.mouseDownInfo.lineNumber,u=this.mouseDownInfo.iconClicked,h=t.target.range;if(!(!h||h.startLineNumber!==l)){if(u){if(t.target.type!==4)return}else{let f=this.editor.getModel();if(!f||h.startColumn!==f.getLineMaxColumn(l))return}s.then(f=>{if(f){let m=f.getRegionAtLine(l);if(m&&m.startLineNumber===l){let A=m.isCollapsed;if(u||A){let C=t.event.altKey,w=[];if(C){let k=I=>!I.containedBy(m)&&!m.containedBy(I),D=f.getRegionsInside(null,k);for(const I of D)I.isCollapsed&&w.push(I);w.length===0&&(w=D)}else{let k=t.event.middleButton||t.event.shiftKey;if(k)for(const D of f.getRegionsInside(m))D.isCollapsed===A&&w.push(D);(A||!k||w.length===0)&&w.push(m)}f.toggleCollapseState(w),this.reveal({lineNumber:l,column:1})}}}}).then(void 0,Bt)}}reveal(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)}};lm.ID="editor.contrib.folding";lm=Vke([zp(1,Mt),zp(2,vr),zp(3,is),zp(4,jl),zp(5,ut)],lm);class _o extends lt{runEditorCommand(t,s,l){const u=t.get(vr),h=lm.get(s);if(!h)return;const f=h.getFoldingModel();if(f)return this.reportTelemetry(t,s),f.then(m=>{if(m){this.invoke(h,m,s,l,u);const A=s.getSelection();A&&h.reveal(A.getStartPosition())}})}getSelectedLines(t){let s=t.getSelections();return s?s.map(l=>l.startLineNumber):[]}getLineNumbers(t,s){return t&&t.selectionLines?t.selectionLines.map(l=>l+1):this.getSelectedLines(s)}run(t,s){}}function yj(d){if(!No(d)){if(!ho(d))return!1;const t=d;if(!No(t.levels)&&!Od(t.levels)||!No(t.direction)&&!Ol(t.direction)||!No(t.selectionLines)&&(!AW(t.selectionLines)||!t.selectionLines.every(Od)))return!1}return!0}class Hke extends _o{constructor(){super({id:"editor.unfold",label:E("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:yj,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,s,l,u){let h=u&&u.levels||1,f=this.getLineNumbers(u,l);u&&u.direction==="up"?Cj(s,!1,h,f):Em(s,!1,h,f)}}class Uke extends _o{constructor(){super({id:"editor.unfoldRecursively",label:E("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2137),weight:100}})}invoke(t,s,l,u){Em(s,!1,Number.MAX_VALUE,this.getSelectedLines(l))}}class zke extends _o{constructor(){super({id:"editor.fold",label:E("foldAction.label","Fold"),alias:"Fold",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:yj,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,s,l,u){let h=this.getLineNumbers(u,l);const f=u&&u.levels,m=u&&u.direction;typeof f!="number"&&typeof m!="string"?bke(s,!0,h):m==="up"?Cj(s,!0,f||1,h):Em(s,!0,f||1,h)}}class Gke extends _o{constructor(){super({id:"editor.toggleFold",label:E("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2090),weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);kke(s,1,u)}}class jke extends _o{constructor(){super({id:"editor.foldRecursively",label:E("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2135),weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);Em(s,!0,Number.MAX_VALUE,u)}}class Zke extends _o{constructor(){super({id:"editor.foldAllBlockComments",label:E("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2133),weight:100}})}invoke(t,s,l,u,h){if(s.regions.hasTypes())DE(s,i2.Comment.value,!0);else{const f=l.getModel();if(!f)return;const m=h.getLanguageConfiguration(f.getLanguageId()).comments;if(m&&m.blockCommentStartToken){let A=new RegExp("^\\s*"+Fl(m.blockCommentStartToken));LE(s,A,!0)}}}}class Qke extends _o{constructor(){super({id:"editor.foldAllMarkerRegions",label:E("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2077),weight:100}})}invoke(t,s,l,u,h){if(s.regions.hasTypes())DE(s,i2.Region.value,!0);else{const f=l.getModel();if(!f)return;const m=h.getLanguageConfiguration(f.getLanguageId()).foldingRules;if(m&&m.markers&&m.markers.start){let A=new RegExp(m.markers.start);LE(s,A,!0)}}}}class Yke extends _o{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:E("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2078),weight:100}})}invoke(t,s,l,u,h){if(s.regions.hasTypes())DE(s,i2.Region.value,!1);else{const f=l.getModel();if(!f)return;const m=h.getLanguageConfiguration(f.getLanguageId()).foldingRules;if(m&&m.markers&&m.markers.start){let A=new RegExp(m.markers.start);LE(s,A,!1)}}}}class $ke extends _o{constructor(){super({id:"editor.foldAllExcept",label:E("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2131),weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);wj(s,!0,u)}}class Kke extends _o{constructor(){super({id:"editor.unfoldAllExcept",label:E("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2129),weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);wj(s,!1,u)}}class Xke extends _o{constructor(){super({id:"editor.foldAll",label:E("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2069),weight:100}})}invoke(t,s,l){Em(s,!0)}}class Jke extends _o{constructor(){super({id:"editor.unfoldAll",label:E("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2088),weight:100}})}invoke(t,s,l){Em(s,!1)}}class cf extends _o{getFoldingLevel(){return parseInt(this.id.substr(cf.ID_PREFIX.length))}invoke(t,s,l){Ske(s,this.getFoldingLevel(),!0,this.getSelectedLines(l))}}cf.ID_PREFIX="editor.foldLevel";cf.ID=d=>cf.ID_PREFIX+d;class qke extends _o{constructor(){super({id:"editor.gotoParentFold",label:E("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);if(u.length>0){let h=yke(u[0],s);h!==null&&l.setSelection({startLineNumber:h,startColumn:1,endLineNumber:h,endColumn:1})}}}class e5e extends _o{constructor(){super({id:"editor.gotoPreviousFold",label:E("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);if(u.length>0){let h=Lke(u[0],s);h!==null&&l.setSelection({startLineNumber:h,startColumn:1,endLineNumber:h,endColumn:1})}}}class t5e extends _o{constructor(){super({id:"editor.gotoNextFold",label:E("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,weight:100}})}invoke(t,s,l){let u=this.getSelectedLines(l);if(u.length>0){let h=Dke(u[0],s);h!==null&&l.setSelection({startLineNumber:h,startColumn:1,endLineNumber:h,endColumn:1})}}}Li(lm.ID,lm);$e(Hke);$e(Uke);$e(zke);$e(jke);$e(Xke);$e(Jke);$e(Zke);$e(Qke);$e(Yke);$e($ke);$e(Kke);$e(Gke);$e(qke);$e(e5e);$e(t5e);for(let d=1;d<=7;d++)FV(new cf({id:cf.ID(d),label:E("foldLevelAction.label","Fold Level {0}",d),alias:`Fold Level ${d}`,precondition:Xr,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2048|21+d),weight:100}}));const i5e=oe("editor.foldBackground",{light:Tt(Tu,.3),dark:Tt(Tu,.3),hc:null},E("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),n5e=oe("editorGutter.foldingControlForeground",{dark:vb,light:vb,hc:vb},E("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));rn((d,t)=>{const s=d.getColor(i5e);s&&t.addRule(`.monaco-editor .folded-background { background-color: ${s}; }`);const l=d.getColor(n5e);l&&t.addRule(`
		.monaco-editor .cldr${Qi.asCSSSelector(IE)},
		.monaco-editor .cldr${Qi.asCSSSelector(xE)} {
			color: ${l} !important;
		}
		`)});class s5e extends lt{constructor(){super({id:"editor.action.fontZoomIn",label:E("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(t,s){xc.setZoomLevel(xc.getZoomLevel()+1)}}class r5e extends lt{constructor(){super({id:"editor.action.fontZoomOut",label:E("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(t,s){xc.setZoomLevel(xc.getZoomLevel()-1)}}class o5e extends lt{constructor(){super({id:"editor.action.fontZoomReset",label:E("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(t,s){xc.setZoomLevel(0)}}$e(s5e);$e(r5e);$e(o5e);var Lj=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},uw=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},EE=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let z4=class{constructor(t,s,l){this._editor=t,this._languageFeaturesService=s,this._workerService=l,this._disposables=new je,this._sessionDisposables=new je,this._disposables.add(s.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(u=>{u.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const t=this._editor.getModel(),[s]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(t);if(!s||!s.autoFormatTriggerCharacters)return;let l=new Y1;for(let u of s.autoFormatTriggerCharacters)l.add(u.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(u=>{let h=u.charCodeAt(u.length-1);l.has(h)&&this._trigger(String.fromCharCode(h))}))}_trigger(t){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const s=this._editor.getModel(),l=this._editor.getPosition(),u=new tr,h=this._editor.onDidChangeModelContent(f=>{if(f.isFlush){u.cancel(),h.dispose();return}for(let m=0,A=f.changes.length;m<A;m++)if(f.changes[m].range.endLineNumber<=l.lineNumber){u.cancel(),h.dispose();return}});Rz(this._workerService,this._languageFeaturesService,s,l,t,s.getFormattingOptions(),u.token).then(f=>{u.token.isCancellationRequested||Mo(f)&&(em.execute(this._editor,f,!0),tE(f))}).finally(()=>{h.dispose()})}};z4.ID="editor.contrib.autoFormat";z4=Lj([uw(1,ut),uw(2,Gl)],z4);let G4=class{constructor(t,s,l){this.editor=t,this._languageFeaturesService=s,this._instantiationService=l,this._callOnDispose=new je,this._callOnModel=new je,this._callOnDispose.add(t.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(t.onDidChangeModel(()=>this._update())),this._callOnDispose.add(t.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(s.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:t})=>this._trigger(t))))}_trigger(t){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Tz,this.editor,t,2,Rf.None,ti.None).catch(Bt)}};G4.ID="editor.contrib.formatOnPaste";G4=Lj([uw(1,ut),uw(2,ii)],G4);class l5e extends lt{constructor(){super({id:"editor.action.formatDocument",label:E("formatDocument.label","Format Document"),alias:"Format Document",precondition:it.and(re.notInCompositeEditor,re.writable,re.hasDocumentFormattingProvider),kbOpts:{kbExpr:re.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(t,s){return EE(this,void 0,void 0,function*(){if(s.hasModel()){const l=t.get(ii);yield t.get(hh).showWhile(l.invokeFunction(A6e,s,1,Rf.None,ti.None),250)}})}}class a5e extends lt{constructor(){super({id:"editor.action.formatSelection",label:E("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:it.and(re.writable,re.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2084),weight:100},contextMenuOpts:{when:re.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(t,s){return EE(this,void 0,void 0,function*(){if(!s.hasModel())return;const l=t.get(ii),u=s.getModel(),h=s.getSelections().map(m=>m.isEmpty()?new $(m.startLineNumber,1,m.startLineNumber,u.getLineMaxColumn(m.startLineNumber)):m);yield t.get(hh).showWhile(l.invokeFunction(Tz,s,h,1,Rf.None,ti.None),250)})}}Li(z4.ID,z4);Li(G4.ID,G4);$e(l5e);$e(a5e);pi.registerCommand("editor.action.format",d=>EE(void 0,void 0,void 0,function*(){const t=d.get(Mi).getFocusedCodeEditor();if(!t||!t.hasModel())return;const s=d.get(es);t.getSelection().isEmpty()?yield s.executeCommand("editor.action.formatDocument"):yield s.executeCommand("editor.action.formatSelection")}));var c5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},X9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},u5e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class og{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(t,s){let l;typeof t=="string"?l=`${s.id}/${t}`:(l=`${s.id}/${t.name}`,s.children.get(l)!==void 0&&(l=`${s.id}/${t.name}_${t.range.startLineNumber}_${t.range.startColumn}`));let u=l;for(let h=0;s.children.get(u)!==void 0;h++)u=`${l}_${h}`;return u}static empty(t){return t.children.size===0}}class DB extends og{constructor(t,s,l){super(),this.id=t,this.parent=s,this.symbol=l,this.children=new Map}}class h5e extends og{constructor(t,s,l,u){super(),this.id=t,this.parent=s,this.label=l,this.order=u,this.children=new Map}}class du extends og{constructor(t){super(),this.uri=t,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(t,s,l){const u=new tr(l),h=new du(s.uri),f=t.ordered(s),m=f.map((C,w)=>{var k;let D=og.findId(`provider_${w}`,h),I=new h5e(D,h,(k=C.displayName)!==null&&k!==void 0?k:"Unknown Outline Provider",w);return Promise.resolve(C.provideDocumentSymbols(s,u.token)).then(N=>{for(const R of N||[])du._makeOutlineElement(R,I);return I},N=>(Ms(N),I)).then(N=>{og.empty(N)?N.remove():h._groups.set(D,N)})}),A=t.onDidChange(()=>{const C=t.ordered(s);cl(C,f)||u.cancel()});return Promise.all(m).then(()=>u.token.isCancellationRequested&&!l.isCancellationRequested?du.create(t,s,l):h._compact()).finally(()=>{A.dispose()})}static _makeOutlineElement(t,s){let l=og.findId(t,s),u=new DB(l,s,t);if(t.children)for(const h of t.children)du._makeOutlineElement(h,u);s.children.set(u.id,u)}_compact(){let t=0;for(const[s,l]of this._groups)l.children.size===0?this._groups.delete(s):t+=1;if(t!==1)this.children=this._groups;else{let s=gi.first(this._groups.values());for(let[,l]of s.children)l.parent=this,this.children.set(l.id,l)}return this}getTopLevelSymbols(){const t=[];for(const s of this.children.values())s instanceof DB?t.push(s.symbol):t.push(...gi.map(s.children.values(),l=>l.symbol));return t.sort((s,l)=>$.compareRangesUsingStarts(s.range,l.range))}asListOfDocumentSymbols(){const t=this.getTopLevelSymbols(),s=[];return du._flattenDocumentSymbols(s,t,""),s.sort((l,u)=>me.compare($.getStartPosition(l.range),$.getStartPosition(u.range))||me.compare($.getEndPosition(u.range),$.getEndPosition(l.range)))}static _flattenDocumentSymbols(t,s,l){for(const u of s)t.push({kind:u.kind,tags:u.tags,name:u.name,detail:u.detail,containerName:u.containerName||l,range:u.range,selectionRange:u.selectionRange,children:void 0}),u.children&&du._flattenDocumentSymbols(t,u.children,u.name)}}const Kv=hi("IOutlineModelService");let ZL=class{constructor(t,s,l){this._languageFeaturesService=t,this._disposables=new je,this._cache=new dh(10,.7),this._debounceInformation=s.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(l.onModelRemoved(u=>{this._cache.delete(u.id)}))}dispose(){this._disposables.dispose()}getOrCreate(t,s){return u5e(this,void 0,void 0,function*(){const l=this._languageFeaturesService.documentSymbolProvider,u=l.ordered(t);let h=this._cache.get(t.id);if(!h||h.versionId!==t.getVersionId()||!cl(h.provider,u)){let m=new tr;h={versionId:t.getVersionId(),provider:u,promiseCnt:0,source:m,promise:du.create(l,t,m.token),model:void 0},this._cache.set(t.id,h);const A=Date.now();h.promise.then(C=>{h.model=C,this._debounceInformation.update(t,Date.now()-A)}).catch(C=>{this._cache.delete(t.id)})}if(h.model)return h.model;h.promiseCnt+=1;const f=s.onCancellationRequested(()=>{--h.promiseCnt===0&&(h.source.cancel(),this._cache.delete(t.id))});try{return yield h.promise}finally{f.dispose()}})}};ZL=c5e([X9(0,ut),X9(1,jl),X9(2,Ln)],ZL);Ci(Kv,ZL,!0);var d5e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};pi.registerCommand("_executeDocumentSymbolProvider",function(d,...t){return d5e(this,void 0,void 0,function*(){const[s]=t;Zi(Lt.isUri(s));const l=d.get(Kv),h=yield d.get(Ao).createModelReference(s);try{return(yield l.getOrCreate(h.object.textEditorModel,ti.None)).getTopLevelSymbols()}finally{h.dispose()}})});const Dj="editor.action.inlineSuggest.commit";class Ij{constructor(t,s,l=0){this.lineNumber=t,this.parts=s,this.additionalReservedLineCount=l}renderForScreenReader(t){if(this.parts.length===0)return"";const s=this.parts[this.parts.length-1],l=t.substr(0,s.column-1);return g5e(l,this.parts.map(h=>({range:{startLineNumber:1,endLineNumber:1,startColumn:h.column,endColumn:h.column},text:h.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class f5e{constructor(t){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let s=0;s<t.length;s++)t.charAt(s)===`
`&&this.lineStartOffsetByLineIdx.push(s+1)}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}}function g5e(d,t){const s=new f5e(d),l=t.map(u=>{const h=$.lift(u.range);return{startOffset:s.getOffset(h.getStartPosition()),endOffset:s.getOffset(h.getEndPosition()),text:u.text}});l.sort((u,h)=>h.startOffset-u.startOffset);for(const u of l)d=d.substring(0,u.startOffset)+u.text+d.substring(u.endOffset);return d}class IB{constructor(t,s,l){this.column=t,this.lines=s,this.preview=l}}class xj extends Se{constructor(t){super(),this.editor=t,this._expanded=void 0,this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this._register(t.onDidChangeConfiguration(s=>{s.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(t){this._expanded=!0,this.onDidChangeEmitter.fire()}}function m5e(d,t){return d===t?!0:!d||!t?!1:d.range.equalsRange(t.range)&&d.text===t.text&&d.command===t.command}function Ej(d,t,s,l,u=0){if(d.range.startLineNumber!==d.range.endLineNumber)return;const h=t.getLineContent(d.range.startLineNumber),f=Hi(h).length;if(d.range.startColumn-1<=f){const I=Hi(d.text).length,N=h.substring(d.range.startColumn-1,f),R=$.fromPositions(d.range.getStartPosition().delta(0,N.length),d.range.getEndPosition()),O=d.text.startsWith(N)?d.text.substring(N.length):d.text.substring(I);d={range:R,text:O,command:d.command}}const A=t.getValueInRange(d.range),C=p5e(A,d.text);if(!C)return;const w=d.range.startLineNumber,k=new Array;if(s==="prefix"){const I=C.filter(N=>N.originalLength===0);if(I.length>1||I.length===1&&I[0].originalStart!==A.length)return}const D=d.text.length-u;for(const I of C){const N=d.range.startColumn+I.originalStart+I.originalLength;if(s==="subwordSmart"&&l&&l.lineNumber===d.range.startLineNumber&&N<l.column||I.originalLength>0)return;if(I.modifiedLength===0)continue;const R=I.modifiedStart+I.modifiedLength,O=Math.max(I.modifiedStart,Math.min(R,D)),W=d.text.substring(I.modifiedStart,O),B=d.text.substring(O,Math.max(I.modifiedStart,R));if(W.length>0){const z=m0(W);k.push(new IB(N,z,!1))}if(B.length>0){const z=m0(B);k.push(new IB(N,z,!0))}}return new Ij(w,k,0)}let B2;function p5e(d,t){if(B2?.originalValue===d&&B2?.newValue===t)return B2?.changes;{const s=A5e(d,t);return B2={originalValue:d,newValue:t,changes:s},s}}function A5e(d,t){if(d.length>5e3||t.length>5e3)return;function s(A){let C=0;for(let w=0,k=A.length;w<k;w++){const D=A.charCodeAt(w);D>C&&(C=D)}return C}const l=Math.max(s(d),s(t));function u(A){if(A<0)throw new Error("unexpected");return l+A+1}function h(A){let C=0,w=0;const k=new Int32Array(A.length);for(let D=0,I=A.length;D<I;D++){const N=w*100+C;A[D]==="("?(k[D]=u(2*N),C++):A[D]===")"?(k[D]=u(2*N+1),C===1&&w++,C=Math.max(C-1,0)):k[D]=A.charCodeAt(D)}return k}const f=h(d),m=h(t);return new e0({getElements:()=>f},{getElements:()=>m}).ComputeDiff(!1).changes}function _5e(d,t){const s=new PH,l=new FH(s,C=>t.getLanguageConfiguration(C)),u=new OH(new C5e([d]),l),h=Qy(u,[],void 0,!0);let f="";const m=d.getLineContent();function A(C,w){if(C.kind===2)A(C.openingBracket,w),w=hs(w,C.openingBracket.length),C.child&&(A(C.child,w),w=hs(w,C.child.length)),C.closingBracket?(A(C.closingBracket,w),w=hs(w,C.closingBracket.length)):f+=l.getSingleLanguageBracketTokens(C.openingBracket.languageId).findClosingTokenText(C.openingBracket.bracketIds);else if(C.kind!==3){if(C.kind===0||C.kind===1)f+=m.substring(w,hs(w,C.length));else if(C.kind===4)for(const k of C.children)A(k,w),w=hs(w,k.length)}}return A(h,_0),f}class C5e{constructor(t){this.lines=t}getLineCount(){return this.lines.length}getLineLength(t){return this.lines[t-1].getLineContent().length}getLineTokens(t){return this.lines[t-1]}}var w5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},T6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},hc=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let QL=class extends Se{constructor(t,s,l,u,h,f){super(),this.editor=t,this.cache=s,this.commandService=l,this.languageConfigurationService=u,this.languageFeaturesService=h,this.debounceService=f,this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Yr),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(l.onDidExecuteCommand(m=>{new Set([wg.Tab.id,wg.DeleteLeft.id,wg.DeleteRight.id,Dj,"acceptSelectedSuggestion"]).has(m.commandId)&&t.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(m=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(m=>{this.session&&!this.session.isValid&&this.hide()})),this._register($t(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var t;return(t=this.session)===null||t===void 0?void 0:t.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(t){var s;(s=this.session)===null||s===void 0||s.setExpanded(t)}setActive(t){var s;this.active=t,t&&((s=this.session)===null||s===void 0||s.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(Ll.Automatic)}trigger(t){if(this.completionSession.value){t===Ll.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new v5e(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,t,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var t;(t=this.session)===null||t===void 0||t.commitCurrentCompletion()}showNext(){var t;(t=this.session)===null||t===void 0||t.showNextInlineCompletion()}showPrevious(){var t;(t=this.session)===null||t===void 0||t.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var t;return hc(this,void 0,void 0,function*(){const s=yield(t=this.session)===null||t===void 0?void 0:t.hasMultipleInlineCompletions();return s!==void 0?s:!1})}};QL=w5e([T6(2,es),T6(3,vr),T6(4,ut),T6(5,jl)],QL);class v5e extends xj{constructor(t,s,l,u,h,f,m,A,C){super(t),this.triggerPosition=s,this.shouldUpdate=l,this.commandService=u,this.cache=h,this.initialTriggerKind=f,this.languageConfigurationService=m,this.registry=A,this.debounce=C,this.minReservedLineCount=0,this.updateOperation=this._register(new Yr),this.updateSoon=this._register(new zi(()=>{let k=this.initialTriggerKind;return this.initialTriggerKind=Ll.Automatic,this.update(k)},50)),this.currentlySelectedCompletionId=void 0;let w;this._register(this.onDidChange(()=>{const k=this.currentCompletion;if(k&&k.sourceInlineCompletion!==w){w=k.sourceInlineCompletion;const D=k.sourceProvider;D.handleItemDidShow&&D.handleItemDidShow(k.sourceInlineCompletions,w)}})),this._register($t(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(k=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(k=>{this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const t=this.cache.value.completions.findIndex(s=>s.semanticId===this.currentlySelectedCompletionId);return t===-1?(this.currentlySelectedCompletionId=void 0,0):t}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var t;return hc(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const s=((t=this.cache.value)===null||t===void 0?void 0:t.completions)||[];if(s.length>0){const l=(this.fixAndGetIndexOfCurrentSelection()+1)%s.length;this.currentlySelectedCompletionId=s[l].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var t;return hc(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const s=((t=this.cache.value)===null||t===void 0?void 0:t.completions)||[];if(s.length>0){const l=(this.fixAndGetIndexOfCurrentSelection()+s.length-1)%s.length;this.currentlySelectedCompletionId=s[l].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var t;return hc(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Ll.Explicit?yield this.updateOperation.value.promise:yield this.update(Ll.Explicit):((t=this.cache.value)===null||t===void 0?void 0:t.triggerKind)!==Ll.Explicit&&(yield this.update(Ll.Explicit))})}hasMultipleInlineCompletions(){var t;return hc(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((t=this.cache.value)===null||t===void 0?void 0:t.completions.length)||0)>1})}get ghostText(){const t=this.currentCompletion,s=this.editor.getOptions().get(55).mode;return t?Ej(t,this.editor.getModel(),s,this.editor.getPosition()):void 0}get currentCompletion(){const t=this.currentCachedCompletion;if(!!t)return t.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(t){return hc(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const s=this.editor.getPosition(),l=new Date,u=js(f=>hc(this,void 0,void 0,function*(){let m;try{m=yield Tj(this.registry,s,this.editor.getModel(),{triggerKind:t,selectedSuggestionInfo:void 0},f,this.languageConfigurationService);const A=new Date;this.debounce.update(this.editor.getModel(),A.getTime()-l.getTime())}catch(A){Bt(A);return}f.isCancellationRequested||(this.cache.setValue(this.editor,m,t),this.onDidChangeEmitter.fire())})),h=new Nj(u,t);this.updateOperation.value=h,yield u,this.updateOperation.value===h&&this.updateOperation.clear()})}takeOwnership(t){this._register(t)}commitCurrentCompletion(){if(!this.ghostText)return;const t=this.currentCompletion;t&&this.commit(t)}commit(t){const s=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[Vn.replaceMove(t.range,t.text)]),t.command?this.commandService.executeCommand(t.command.id,...t.command.arguments||[]).finally(()=>{s?.dispose()}).then(void 0,Ms):s?.dispose(),this.onDidChangeEmitter.fire()}}class Nj{constructor(t,s){this.promise=t,this.triggerKind=s}dispose(){this.promise.cancel()}}class k5e extends Se{constructor(t,s,l,u){super(),this.triggerKind=u;const h=t.deltaDecorations([],s.items.map(f=>({range:f.range,options:{description:"inline-completion-tracking-range"}})));this._register($t(()=>{t.deltaDecorations(h,[])})),this.completions=s.items.map((f,m)=>new b5e(f,h[m])),this._register(t.onDidChangeModelContent(()=>{let f=!1;const m=t.getModel();for(const A of this.completions){const C=m.getDecorationRange(A.decorationId);if(!C){Bt(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(C)||(f=!0,A.synchronizedRange=C)}f&&l()})),this._register(s)}}class b5e{constructor(t,s){this.inlineCompletion=t,this.decorationId=s,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=t.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function S5e(d,t){const s=t.getWordAtPosition(d),l=t.getLineMaxColumn(d.lineNumber);return s?new $(d.lineNumber,s.startColumn,d.lineNumber,l):$.fromPositions(d,d.with(void 0,l))}function Tj(d,t,s,l,u=ti.None,h){return hc(this,void 0,void 0,function*(){const f=S5e(t,s),m=d.all(s),A=yield Promise.all(m.map(w=>hc(this,void 0,void 0,function*(){const k=yield Promise.resolve(w.provideInlineCompletions(s,t,l,u)).catch(Ms);return{completions:k,provider:w,dispose:()=>{k&&w.freeInlineCompletions(k)}}}))),C=new Map;for(const w of A){const k=w.completions;if(k)for(const D of k.items){const I=D.range?$.lift(D.range):f;if(I.startLineNumber!==I.endLineNumber)continue;const N=h&&D.completeBracketPairs?y5e(D.text,I.getStartPosition(),s,h):D.text,R={text:N,range:I,command:D.command,sourceProvider:w.provider,sourceInlineCompletions:k,sourceInlineCompletion:D};C.set(JSON.stringify({text:N,range:D.range}),R)}}return{items:[...C.values()],dispose:()=>{for(const w of A)w.dispose()}}})}function y5e(d,t,s,l){const h=s.getLineContent(t.lineNumber).substring(0,t.column-1)+d,f=s.tokenizeLineWithEdit(t,h.length-(t.column-1),d),m=f?.sliceAndInflate(t.column-1,h.length,0);return m?(console.log(m),_5e(m,l)):d}function hw(d,t){if(!t)return t;const s=d.getValueInRange(t.range),l=Mg(s,t.text),u=d.getOffsetAt(t.range.getStartPosition())+l,h=d.getPositionAt(u),f=s.substr(l),m=G3(f,t.text),A=d.getPositionAt(Math.max(u,d.getOffsetAt(t.range.getEndPosition())-m));return{range:$.fromPositions(h,A),text:t.text.substr(l,t.text.length-l-m)}}const Ws=new Uint8Array(16),Vr=[];for(let d=0;d<256;d++)Vr.push(d.toString(16).padStart(2,"0"));let YL;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?YL=crypto.getRandomValues.bind(crypto):YL=function(d){for(let t=0;t<d.length;t++)d[t]=Math.floor(Math.random()*256);return d};function L5e(){YL(Ws),Ws[6]=Ws[6]&15|64,Ws[8]=Ws[8]&63|128;let d=0,t="";return t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+="-",t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+="-",t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+="-",t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+="-",t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t+=Vr[Ws[d++]],t}Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class D5e{constructor(t){this._delegates=t}resolve(t){for(const s of this._delegates){let l=s.resolve(t);if(l!==void 0)return l}}}class I5e{constructor(t,s,l,u){this._model=t,this._selection=s,this._selectionIdx=l,this._overtypingCapturer=u}resolve(t){const{name:s}=t;if(s==="SELECTION"||s==="TM_SELECTED_TEXT"){let l=this._model.getValueInRange(this._selection)||void 0,u=this._selection.startLineNumber!==this._selection.endLineNumber;if(!l&&this._overtypingCapturer){const h=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);h&&(l=h.value,u=h.multiline)}if(l&&u&&t.snippet){const h=this._model.getLineContent(this._selection.startLineNumber),f=Hi(h,0,this._selection.startColumn-1);let m=f;t.snippet.walk(C=>C===t?!1:(C instanceof Eo&&(m=Hi(m0(C.value).pop())),!0));const A=Mg(m,f);l=l.replace(/(\r\n|\r|\n)(.*)/g,(C,w,k)=>`${w}${m.substr(A)}${k}`)}return l}else{if(s==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(s==="TM_CURRENT_WORD"){const l=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return l&&l.word||void 0}else{if(s==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(s==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class x5e{constructor(t,s){this._labelService=t,this._model=s}resolve(t){const{name:s}=t;if(s==="TM_FILENAME")return wd(this._model.uri.fsPath);if(s==="TM_FILENAME_BASE"){const l=wd(this._model.uri.fsPath),u=l.lastIndexOf(".");return u<=0?l:l.slice(0,u)}else{if(s==="TM_DIRECTORY")return DW(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(sv(this._model.uri));if(s==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(s==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class E5e{constructor(t,s,l,u){this._readClipboardText=t,this._selectionIdx=s,this._selectionCount=l,this._spread=u}resolve(t){if(t.name!=="CLIPBOARD")return;const s=this._readClipboardText();if(!!s){if(this._spread){const l=s.split(/\r\n|\n|\r/).filter(u=>!RW(u));if(l.length===this._selectionCount)return l[this._selectionIdx]}return s}}}class N5e{constructor(t,s){this._model=t,this._selection=s}resolve(t){const{name:s}=t,l=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),u=cs.getComments(l);if(!!u){if(s==="LINE_COMMENT")return u.lineCommentToken||void 0;if(s==="BLOCK_COMMENT_START")return u.blockCommentStartToken||void 0;if(s==="BLOCK_COMMENT_END")return u.blockCommentEndToken||void 0}}}class l0{constructor(){this._date=new Date}resolve(t){const{name:s}=t;if(s==="CURRENT_YEAR")return String(this._date.getFullYear());if(s==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(s==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(s==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(s==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(s==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(s==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(s==="CURRENT_DAY_NAME")return l0.dayNames[this._date.getDay()];if(s==="CURRENT_DAY_NAME_SHORT")return l0.dayNamesShort[this._date.getDay()];if(s==="CURRENT_MONTH_NAME")return l0.monthNames[this._date.getMonth()];if(s==="CURRENT_MONTH_NAME_SHORT")return l0.monthNamesShort[this._date.getMonth()];if(s==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}l0.dayNames=[E("Sunday","Sunday"),E("Monday","Monday"),E("Tuesday","Tuesday"),E("Wednesday","Wednesday"),E("Thursday","Thursday"),E("Friday","Friday"),E("Saturday","Saturday")];l0.dayNamesShort=[E("SundayShort","Sun"),E("MondayShort","Mon"),E("TuesdayShort","Tue"),E("WednesdayShort","Wed"),E("ThursdayShort","Thu"),E("FridayShort","Fri"),E("SaturdayShort","Sat")];l0.monthNames=[E("January","January"),E("February","February"),E("March","March"),E("April","April"),E("May","May"),E("June","June"),E("July","July"),E("August","August"),E("September","September"),E("October","October"),E("November","November"),E("December","December")];l0.monthNamesShort=[E("JanuaryShort","Jan"),E("FebruaryShort","Feb"),E("MarchShort","Mar"),E("AprilShort","Apr"),E("MayShort","May"),E("JuneShort","Jun"),E("JulyShort","Jul"),E("AugustShort","Aug"),E("SeptemberShort","Sep"),E("OctoberShort","Oct"),E("NovemberShort","Nov"),E("DecemberShort","Dec")];class T5e{constructor(t){this._workspaceService=t}resolve(t){if(!this._workspaceService)return;const s=ope(this._workspaceService.getWorkspace());if(!!s){if(t.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(s);if(t.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(s)}}_resolveWorkspaceName(t){if(EO(t))return wd(t.uri.path);let s=wd(t.configPath.path);return s.endsWith(l7)&&(s=s.substr(0,s.length-l7.length-1)),s}_resoveWorkspacePath(t){if(EO(t))return vL(t.uri.fsPath);let s=wd(t.configPath.path),l=t.configPath.fsPath;return l.endsWith(s)&&(l=l.substr(0,l.length-s.length-1)),l?vL(l):"/"}}class R5e{resolve(t){const{name:s}=t;if(s==="RANDOM")return Math.random().toString().slice(-6);if(s==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(s==="UUID")return L5e()}}class ha{constructor(t,s,l,u){this._editor=t,this._snippet=s,this._offset=l,this._snippetLineLeadingWhitespace=u,this._nestingLevel=1,this._placeholderGroups=cM(s.placeholders,fa.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const t=this._editor.getModel();this._editor.changeDecorations(s=>{for(const l of this._snippet.placeholders){const u=this._snippet.offset(l),h=this._snippet.fullLen(l),f=$.fromPositions(t.getPositionAt(this._offset+u),t.getPositionAt(this._offset+u+h)),m=l.isFinalTabstop?ha._decor.inactiveFinal:ha._decor.inactive,A=s.addDecoration(f,m);this._placeholderDecorations.set(l,A)}})}move(t){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let u=[];for(const h of this._placeholderGroups[this._placeholderGroupsIdx])if(h.transform){const f=this._placeholderDecorations.get(h),m=this._editor.getModel().getDecorationRange(f),A=this._editor.getModel().getValueInRange(m),C=h.transform.resolve(A).split(/\r\n|\r|\n/);for(let w=1;w<C.length;w++)C[w]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+C[w]);u.push(Vn.replace(m,C.join(this._editor.getModel().getEOL())))}u.length>0&&this._editor.executeEdits("snippet.placeholderTransform",u)}let s=!1;t===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,s=!0):t===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,s=!0);const l=this._editor.getModel().changeDecorations(u=>{const h=new Set,f=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const A=this._placeholderDecorations.get(m),C=this._editor.getModel().getDecorationRange(A);f.push(new et(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn)),s=s&&this._hasPlaceholderBeenCollapsed(m),u.changeDecorationOptions(A,m.isFinalTabstop?ha._decor.activeFinal:ha._decor.active),h.add(m);for(const w of this._snippet.enclosingPlaceholders(m)){const k=this._placeholderDecorations.get(w);u.changeDecorationOptions(k,w.isFinalTabstop?ha._decor.activeFinal:ha._decor.active),h.add(w)}}for(const[m,A]of this._placeholderDecorations)h.has(m)||u.changeDecorationOptions(A,m.isFinalTabstop?ha._decor.inactiveFinal:ha._decor.inactive);return f});return s?this.move(t):l??[]}_hasPlaceholderBeenCollapsed(t){let s=t;for(;s;){if(s instanceof fa){const l=this._placeholderDecorations.get(s);if(this._editor.getModel().getDecorationRange(l).isEmpty()&&s.toString().length>0)return!0}s=s.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const t=new Map;for(const s of this._placeholderGroups){let l;for(const u of s){if(u.isFinalTabstop)break;l||(l=[],t.set(u.index,l));const h=this._placeholderDecorations.get(u),f=this._editor.getModel().getDecorationRange(h);if(!f){t.delete(u.index);break}l.push(f)}}return t}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(t){const s=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(l=>{for(const u of this._placeholderGroups[this._placeholderGroupsIdx]){const h=t.shift();console.assert(!h._placeholderDecorations);const f=h._snippet.placeholderInfo.last.index;for(const A of h._snippet.placeholderInfo.all)A.isFinalTabstop?A.index=u.index+(f+1)/this._nestingLevel:A.index=u.index+A.index/this._nestingLevel;this._snippet.replace(u,h._snippet.children);const m=this._placeholderDecorations.get(u);l.removeDecoration(m),this._placeholderDecorations.delete(u);for(const A of h._snippet.placeholders){const C=h._snippet.offset(A),w=h._snippet.fullLen(A),k=$.fromPositions(s.getPositionAt(h._offset+C),s.getPositionAt(h._offset+C+w)),D=l.addDecoration(k,ha._decor.inactive);this._placeholderDecorations.set(A,D)}}this._placeholderGroups=cM(this._snippet.placeholders,fa.compareByIndex)})}}ha._decor={active:Qt.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Qt.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Qt.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Qt.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const xB={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class j2{constructor(t,s,l=xB){this._templateMerges=[],this._snippets=[],this._editor=t,this._template=s,this._options=l}static adjustWhitespace(t,s,l,u,h){const f=t.getLineContent(s.lineNumber),m=Hi(f,0,s.column-1);let A;return l.walk(C=>{if(!(C instanceof Eo)||C.parent instanceof P_)return!0;const w=C.value.split(/\r\n|\r|\n/);if(u){const D=l.offset(C);if(D===0)w[0]=t.normalizeIndentation(w[0]);else{A=A??l.toString();let I=A.charCodeAt(D-1);(I===10||I===13)&&(w[0]=t.normalizeIndentation(m+w[0]))}for(let I=1;I<w.length;I++)w[I]=t.normalizeIndentation(m+w[I])}const k=w.join(t.getEOL());return k!==C.value&&(C.parent.replace(C,[new Eo(k)]),A=void 0),!0}),m}static adjustSelection(t,s,l,u){if(l!==0||u!==0){const{positionLineNumber:h,positionColumn:f}=s,m=f-l,A=f+u,C=t.validateRange({startLineNumber:h,startColumn:m,endLineNumber:h,endColumn:A});s=et.createWithDirection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn,s.getDirection())}return s}static createEditsAndSnippets(t,s,l,u,h,f,m,A){const C=[],w=[];if(!t.hasModel())return{edits:C,snippets:w};const k=t.getModel(),D=t.invokeWithinContext(G=>G.get(_U)),I=t.invokeWithinContext(G=>new x5e(G.get(k_),k)),N=()=>m;let R=0,O=k.getValueInRange(j2.adjustSelection(k,t.getSelection(),l,0)),W=k.getValueInRange(j2.adjustSelection(k,t.getSelection(),0,u)),B=k.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber);const z=t.getSelections().map((G,K)=>({selection:G,idx:K})).sort((G,K)=>$.compareRangesUsingStarts(G.selection,K.selection));for(const{selection:G,idx:K}of z){let q=j2.adjustSelection(k,G,l,0),Y=j2.adjustSelection(k,G,0,u);O!==k.getValueInRange(q)&&(q=G),W!==k.getValueInRange(Y)&&(Y=G);const J=G.setStartPosition(q.startLineNumber,q.startColumn).setEndPosition(Y.endLineNumber,Y.endColumn),ne=new Gv().parse(s,!0,h),Ae=J.getStartPosition(),ge=j2.adjustWhitespace(k,Ae,ne,f||K>0&&B!==k.getLineFirstNonWhitespaceColumn(G.positionLineNumber),!0);ne.resolveVariables(new D5e([I,new E5e(N,K,z.length,t.getOption(71)==="spread"),new I5e(k,G,K,A),new N5e(k,G),new l0,new T5e(D),new R5e]));const Te=k.getOffsetAt(Ae)+R;R+=ne.toString().length-k.getValueLengthInRange(J),C[K]=Vn.replace(J,ne.toString()),C[K].identifier={major:K,minor:0},w[K]=new ha(t,ne,Te,ge)}return{edits:C,snippets:w}}dispose(){mi(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:t,snippets:s}=j2.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=s,this._editor.executeEdits("snippet",t,l=>this._snippets[0].hasPlaceholder?this._move(!0):l.filter(u=>!!u.identifier).map(u=>et.fromPositions(u.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,s=xB){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);const{edits:l,snippets:u}=j2.createEditsAndSnippets(this._editor,t,s.overwriteBefore,s.overwriteAfter,!0,s.adjustWhitespace,s.clipboardText,s.overtypingCapturer);this._editor.executeEdits("snippet",l,h=>{for(const f of this._snippets)f.merge(u);return console.assert(u.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):h.filter(f=>!!f.identifier).map(f=>et.fromPositions(f.range.getEndPosition()))})}next(){const t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}prev(){const t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}_move(t){const s=[];for(const l of this._snippets){const u=l.move(t);s.push(...u)}return s}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;let s=new Map;for(const l of this._snippets){const u=l.computePossibleSelections();if(s.size===0)for(const[h,f]of u){f.sort($.compareRangesUsingStarts);for(const m of t)if(f[0].containsRange(m)){s.set(h,[]);break}}if(s.size===0)return!1;s.forEach((h,f)=>{h.push(...u.get(f))})}t.sort($.compareRangesUsingStarts);for(let[l,u]of s){if(u.length!==t.length){s.delete(l);continue}u.sort($.compareRangesUsingStarts);for(let h=0;h<u.length;h++)if(!u[h].containsRange(t[h])){s.delete(l);continue}}return s.size>0}}var M5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},J9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const EB={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let ir=class nA{constructor(t,s,l,u){this._editor=t,this._instantiationService=s,this._logService=l,this._snippetListener=new je,this._modelVersionId=-1,this._inSnippet=nA.InSnippetMode.bindTo(u),this._hasNextTabstop=nA.HasNextTabstop.bindTo(u),this._hasPrevTabstop=nA.HasPrevTabstop.bindTo(u)}static get(t){return t.getContribution(nA.ID)}dispose(){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(t=this._session)===null||t===void 0||t.dispose(),this._snippetListener.dispose()}insert(t,s){try{this._doInsert(t,typeof s>"u"?EB:Object.assign(Object.assign({},EB),s))}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",t),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(t,s){!this._editor.hasModel()||(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(t,s):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new j2(this._editor,t,s),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(l=>l.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:t}=this._session;if(!t){this._currentChoice=void 0;return}if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map(l=>et.fromPositions(l.getStartPosition())));const[s]=t.options;this._instantiationService.invokeFunction(Ewe,this._editor,t.options.map((l,u)=>({kind:13,label:l.value,insertText:l.value,sortText:"a".repeat(u+1),range:$.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,s.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(t=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};ir.ID="snippetController2";ir.InSnippetMode=new rt("inSnippetMode",!1,E("inSnippetMode","Whether the editor in current in snippet mode"));ir.HasNextTabstop=new rt("hasNextTabstop",!1,E("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));ir.HasPrevTabstop=new rt("hasPrevTabstop",!1,E("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));ir=M5e([J9(1,ii),J9(2,ka),J9(3,Mt)],ir);Li(ir.ID,ir);const Xv=nr.bindToContribution(ir.get);Qe(new Xv({id:"jumpToNextSnippetPlaceholder",precondition:it.and(ir.InSnippetMode,ir.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:re.editorTextFocus,primary:2}}));Qe(new Xv({id:"jumpToPrevSnippetPlaceholder",precondition:it.and(ir.InSnippetMode,ir.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:re.editorTextFocus,primary:1026}}));Qe(new Xv({id:"leaveSnippet",precondition:ir.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:re.editorTextFocus,primary:9,secondary:[1033]}}));Qe(new Xv({id:"acceptSnippet",precondition:ir.InSnippetMode,handler:d=>d.finish()}));var P5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},NB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class NE{constructor(t){this.name=t}select(t,s,l){if(l.length===0)return 0;let u=l[0].score[0];for(let h=0;h<l.length;h++){const{score:f,completion:m}=l[h];if(f[0]!==u)break;if(m.preselect)return h}return 0}}class Rj extends NE{constructor(){super("first")}memorize(t,s,l){}toJSON(){}fromJSON(){}}class O5e extends NE{constructor(){super("recentlyUsed"),this._cache=new dh(300,.66),this._seq=0}memorize(t,s,l){const u=`${t.getLanguageId()}/${l.textLabel}`;this._cache.set(u,{touch:this._seq++,type:l.completion.kind,insertText:l.completion.insertText})}select(t,s,l){if(l.length===0)return 0;const u=t.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(u))return super.select(t,s,l);let h=l[0].score[0],f=-1,m=-1,A=-1;for(let C=0;C<l.length&&l[C].score[0]===h;C++){const w=`${t.getLanguageId()}/${l[C].textLabel}`,k=this._cache.peek(w);if(k&&k.touch>A&&k.type===l[C].completion.kind&&k.insertText===l[C].completion.insertText&&(A=k.touch,m=C),l[C].completion.preselect&&f===-1)return f=C}return m!==-1?m:f!==-1?f:0}toJSON(){return this._cache.toJSON()}fromJSON(t){this._cache.clear();let s=0;for(const[l,u]of t)u.touch=s,u.type=typeof u.type=="number"?u.type:zA.fromString(u.type),this._cache.set(l,u);this._seq=this._cache.size}}class F5e extends NE{constructor(){super("recentlyUsedByPrefix"),this._trie=Sg.forStrings(),this._seq=0}memorize(t,s,l){const{word:u}=t.getWordUntilPosition(s),h=`${t.getLanguageId()}/${u}`;this._trie.set(h,{type:l.completion.kind,insertText:l.completion.insertText,touch:this._seq++})}select(t,s,l){let{word:u}=t.getWordUntilPosition(s);if(!u)return super.select(t,s,l);let h=`${t.getLanguageId()}/${u}`,f=this._trie.get(h);if(f||(f=this._trie.findSubstr(h)),f)for(let m=0;m<l.length;m++){let{kind:A,insertText:C}=l[m].completion;if(A===f.type&&C===f.insertText)return m}return super.select(t,s,l)}toJSON(){let t=[];return this._trie.forEach((s,l)=>t.push([l,s])),t.sort((s,l)=>-(s[1].touch-l[1].touch)).forEach((s,l)=>s[1].touch=l),t.slice(0,200)}fromJSON(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(const[s,l]of t)l.type=typeof l.type=="number"?l.type:zA.fromString(l.type),this._trie.set(s,l)}}}let j4=class v3{constructor(t,s){this._storageService=t,this._configService=s,this._disposables=new je,this._persistSoon=new zi(()=>this._saveState(),500),this._disposables.add(t.onWillSaveState(l=>{l.reason===XC.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(t,s,l){this._withStrategy(t,s).memorize(t,s,l),this._persistSoon.schedule()}select(t,s,l){return this._withStrategy(t,s).select(t,s,l)}_withStrategy(t,s){var l;const u=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(s.lineNumber,s.column),resource:t.uri});if(((l=this._strategy)===null||l===void 0?void 0:l.name)!==u){this._saveState();const h=v3._strategyCtors.get(u)||Rj;this._strategy=new h;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,A=this._storageService.get(`${v3._storagePrefix}/${u}`,m);A&&this._strategy.fromJSON(JSON.parse(A))}catch{}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=JSON.stringify(this._strategy);this._storageService.store(`${v3._storagePrefix}/${this._strategy.name}`,l,s,1)}}};j4._strategyCtors=new Map([["recentlyUsedByPrefix",F5e],["recentlyUsed",O5e],["first",Rj]]);j4._storagePrefix="suggest/memories";j4=P5e([NB(0,N0),NB(1,Yi)],j4);const Mj=hi("ISuggestMemories");Ci(Mj,j4,!0);var B5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},W5e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let Z4=class Pj{constructor(t,s){this._editor=t,this._enabled=!1,this._ckAtEnd=Pj.AtEnd.bindTo(s),this._configListener=this._editor.onDidChangeConfiguration(l=>l.hasChanged(111)&&this._update()),this._update()}dispose(){var t;this._configListener.dispose(),(t=this._selectionListener)===null||t===void 0||t.dispose(),this._ckAtEnd.reset()}_update(){const t=this._editor.getOption(111)==="on";if(this._enabled!==t)if(this._enabled=t,this._enabled){const s=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const l=this._editor.getModel(),u=this._editor.getSelection(),h=l.getWordAtPosition(u.getStartPosition());if(!h){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(h.endColumn===u.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(s),s()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Z4.AtEnd=new rt("atEndOfWord",!1);Z4=B5e([W5e(1,Mt)],Z4);var V5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},H5e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let uf=class k3{constructor(t,s){this._editor=t,this._index=0,this._ckOtherSuggestions=k3.OtherSuggestions.bindTo(s)}dispose(){this.reset()}reset(){var t;this._ckOtherSuggestions.reset(),(t=this._listener)===null||t===void 0||t.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:s},l){if(t.items.length===0){this.reset();return}if(k3._moveIndex(!0,t,s)===s){this.reset();return}this._acceptNext=l,this._model=t,this._index=s,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(t,s,l){let u=l;for(;u=(u+s.items.length+(t?1:-1))%s.items.length,!(u===l||!s.items[u].completion.additionalTextEdits););return u}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(!!this._model)try{this._ignore=!0,this._index=k3._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};uf.OtherSuggestions=new rt("hasOtherSuggestions",!1);uf=V5e([H5e(1,Mt)],uf);class U5e{constructor(t,s,l){this._disposables=new je,this._disposables.add(s.onDidShow(()=>this._onItem(s.getFocusedItem()))),this._disposables.add(s.onDidFocus(this._onItem,this)),this._disposables.add(s.onDidHide(this.reset,this)),this._disposables.add(t.onWillType(u=>{if(this._active&&!s.isFrozen()){const h=u.charCodeAt(u.length-1);this._active.acceptCharacters.has(h)&&t.getOption(0)&&l(this._active.item)}}))}_onItem(t){if(!t||!Mo(t.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===t.item)return;const s=new Y1;for(const l of t.item.completion.commitCharacters)l.length>0&&s.add(l.charCodeAt(0));this._active={acceptCharacters:s,item:t}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var z5e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class el{provideSelectionRanges(t,s){return z5e(this,void 0,void 0,function*(){const l=[];for(const u of s){const h=[];l.push(h);const f=new Map;yield new Promise(m=>el._bracketsRightYield(m,0,t,u,f)),yield new Promise(m=>el._bracketsLeftYield(m,0,t,u,f,h))}return l})}static _bracketsRightYield(t,s,l,u,h){const f=new Map,m=Date.now();for(;;){if(s>=el._maxRounds){t();break}if(!u){t();break}let A=l.bracketPairs.findNextBracket(u);if(!A){t();break}if(Date.now()-m>el._maxDuration){setTimeout(()=>el._bracketsRightYield(t,s+1,l,u,h));break}const w=A.close[0];if(A.isOpen){let k=f.has(w)?f.get(w):0;f.set(w,k+1)}else{let k=f.has(w)?f.get(w):0;if(k-=1,f.set(w,Math.max(0,k)),k<0){let D=h.get(w);D||(D=new ol,h.set(w,D)),D.push(A.range)}}u=A.range.getEndPosition()}}static _bracketsLeftYield(t,s,l,u,h,f){const m=new Map,A=Date.now();for(;;){if(s>=el._maxRounds&&h.size===0){t();break}if(!u){t();break}let C=l.bracketPairs.findPrevBracket(u);if(!C){t();break}if(Date.now()-A>el._maxDuration){setTimeout(()=>el._bracketsLeftYield(t,s+1,l,u,h,f));break}const k=C.close[0];if(C.isOpen){let D=m.has(k)?m.get(k):0;if(D-=1,m.set(k,Math.max(0,D)),D<0){let I=h.get(k);if(I){let N=I.shift();I.size===0&&h.delete(k);const R=$.fromPositions(C.range.getEndPosition(),N.getStartPosition()),O=$.fromPositions(C.range.getStartPosition(),N.getEndPosition());f.push({range:R}),f.push({range:O}),el._addBracketLeading(l,O,f)}}}else{let D=m.has(k)?m.get(k):0;m.set(k,D+1)}u=C.range.getStartPosition()}}static _addBracketLeading(t,s,l){if(s.startLineNumber===s.endLineNumber)return;const u=s.startLineNumber,h=t.getLineFirstNonWhitespaceColumn(u);h!==0&&h!==s.startColumn&&(l.push({range:$.fromPositions(new me(u,h),s.getEndPosition())}),l.push({range:$.fromPositions(new me(u,1),s.getEndPosition())}));const f=u-1;if(f>0){const m=t.getLineFirstNonWhitespaceColumn(f);m===s.startColumn&&m!==t.getLineLastNonWhitespaceColumn(f)&&(l.push({range:$.fromPositions(new me(f,m),s.getEndPosition())}),l.push({range:$.fromPositions(new me(f,1),s.getEndPosition())}))}}}el._maxDuration=30;el._maxRounds=2;var G5e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class X2{static create(t,s){return G5e(this,void 0,void 0,function*(){if(!s.getOption(106).localityBonus||!s.hasModel())return X2.None;const l=s.getModel(),u=s.getPosition();if(!t.canComputeWordRanges(l.uri))return X2.None;const[h]=yield new el().provideSelectionRanges(l,[u]);if(h.length===0)return X2.None;const f=yield t.computeWordRanges(l.uri,h[0].range);if(!f)return X2.None;const m=l.getWordUntilPosition(u);return delete f[m.word],new class extends X2{distance(A,C){if(!u.equals(s.getPosition()))return 0;if(C.kind===17)return 2<<20;let w=typeof C.label=="string"?C.label:C.label.label,k=f[w];if(fW(k))return 2<<20;let D=MD(k,$.fromPositions(A),$.compareRangesUsingStarts),I=D>=0?k[D]:k[Math.max(0,~D-1)],N=h.length;for(const R of h){if(!$.containsRange(R.range,I))break;N-=1}return N}}})}}X2.None=new class extends X2{distance(){return 0}};class hd{constructor(t,s,l,u,h,f,m){this.clipboardText=m,this._snippetCompareFn=hd._compareCompletionItems,this._items=t,this._column=s,this._wordDistance=u,this._options=h,this._refilterKind=1,this._lineContext=l,f==="top"?this._snippetCompareFn=hd._compareCompletionItemsSnippetsUp:f==="bottom"&&(this._snippetCompareFn=hd._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(t){(this._lineContext.leadingLineContent!==t.leadingLineContent||this._lineContext.characterCountDelta!==t.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const t=new Set;for(let[s,l]of this._providerInfo)l&&t.add(s);return t}adopt(t){let s=[];for(let l=0;l<this._items.length;)t.has(this._items[l].provider)?l++:(s.push(this._items[l]),this._items[l]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,s}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const t=[],{leadingLineContent:s,characterCountDelta:l}=this._lineContext;let u="",h="";const f=this._refilterKind===1?this._items:this._filteredItems,m=[],A=!this._options.filterGraceful||f.length>2e3?Kg:Gpe;for(let C=0;C<f.length;C++){const w=f[C];if(w.isInvalid)continue;this._providerInfo.set(w.provider,Boolean(w.container.incomplete));const k=w.position.column-w.editStart.column,D=k+l-(w.position.column-this._column);if(u.length!==D&&(u=D===0?"":s.slice(-D),h=u.toLowerCase()),w.word=u,D===0)w.score=qa.Default;else{let I=0;for(;I<k;){const N=u.charCodeAt(I);if(N===32||N===9)I+=1;else break}if(I>=D)w.score=qa.Default;else if(typeof w.completion.filterText=="string"){let N=A(u,h,I,w.completion.filterText,w.filterTextLow,0,!1);if(!N)continue;ay(w.completion.filterText,w.textLabel)===0?w.score=N:(w.score=Vpe(u,h,I,w.textLabel,w.labelLow,0),w.score[0]=N[0])}else{let N=A(u,h,I,w.textLabel,w.labelLow,0,!1);if(!N)continue;w.score=N}}w.idx=C,w.distance=this._wordDistance.distance(w.position,w.completion),m.push(w),t.push(w.textLabel.length)}this._filteredItems=m.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:t.length?gS(t.length-.85,t,(C,w)=>C-w):0}}static _compareCompletionItems(t,s){return t.score[0]>s.score[0]?-1:t.score[0]<s.score[0]?1:t.distance<s.distance?-1:t.distance>s.distance?1:t.idx<s.idx?-1:t.idx>s.idx?1:0}static _compareCompletionItemsSnippetsDown(t,s){if(t.completion.kind!==s.completion.kind){if(t.completion.kind===27)return 1;if(s.completion.kind===27)return-1}return hd._compareCompletionItems(t,s)}static _compareCompletionItemsSnippetsUp(t,s){if(t.completion.kind!==s.completion.kind){if(t.completion.kind===27)return-1;if(s.completion.kind===27)return 1}return hd._compareCompletionItems(t,s)}}var j5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Yh=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Z5e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class T1{constructor(t,s,l,u){this.leadingLineContent=t.getLineContent(s.lineNumber).substr(0,s.column-1),this.leadingWord=t.getWordUntilPosition(s),this.lineNumber=s.lineNumber,this.column=s.column,this.auto=l,this.shy=u}static shouldAutoTrigger(t){if(!t.hasModel())return!1;const s=t.getModel(),l=t.getPosition();s.tokenizeIfCheap(l.lineNumber);const u=s.getWordAtPosition(l);return!(!u||u.endColumn!==l.column||!isNaN(Number(u.word)))}}function Q5e(d,t,s){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const l=s.getValue("editor.inlineSuggest.allowQuickSuggestions");return l!==void 0?Boolean(l):!1}function Y5e(d,t,s){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const l=s.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return l!==void 0?Boolean(l):!1}let $L=class Oj{constructor(t,s,l,u,h,f,m,A){this._editor=t,this._editorWorkerService=s,this._clipboardService=l,this._telemetryService=u,this._logService=h,this._contextKeyService=f,this._configurationService=m,this._languageFeaturesService=A,this._toDispose=new je,this._quickSuggestDelay=10,this._triggerCharacterListener=new je,this._triggerQuickSuggest=new Wo,this._state=0,this._completionDisposables=new je,this._onDidCancel=new he,this._onDidTrigger=new he,this._onDidSuggest=new he,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new et(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let C=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{C=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{C=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(w=>{C||this._onCursorChange(w)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{C||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){mi(this._triggerCharacterListener),mi([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const t=new Map;for(const l of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const u of l.triggerCharacters||[]){let h=t.get(u);h||(h=new Set,h.add(Lwe()),t.set(u,h)),h.add(l)}const s=l=>{if(!Y5e(this._editor,this._contextKeyService,this._configurationService)||T1.shouldAutoTrigger(this._editor))return;if(!l){const f=this._editor.getPosition();l=this._editor.getModel().getLineContent(f.lineNumber).substr(0,f.column-1)}let u="";Fd(l.charCodeAt(l.length-1))?Cs(l.charCodeAt(l.length-2))&&(u=l.substr(l.length-2)):u=l.charAt(l.length-1);const h=t.get(u);if(h){const f=this._completionModel?{items:this._completionModel.adopt(h),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:u},Boolean(this._completionModel),h,f)}};this._triggerCharacterListener.add(this._editor.onDidType(s)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>s()))}get state(){return this._state}cancel(t=!1){var s;this._state!==0&&(this._triggerQuickSuggest.cancel(),(s=this._requestToken)===null||s===void 0||s.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(t){if(!this._editor.hasModel())return;const s=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||t.reason!==0&&t.reason!==3||t.source!=="keyboard"&&t.source!=="deleteLeft"){this.cancel();return}this._state===0&&t.reason===0?(s.containsRange(this._currentSelection)||s.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&t.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var t;this._editor.getOption(79)!==!1&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&((t=ir.get(this._editor))===null||t===void 0?void 0:t.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!T1.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const s=this._editor.getModel(),l=this._editor.getPosition(),u=this._editor.getOption(79);if(u!==!1){if(u!==!0){s.tokenizeIfCheap(l.lineNumber);const h=s.getLineTokens(l.lineNumber),f=h.getStandardTokenType(h.findTokenIndexAtOffset(Math.max(l.column-1-1,0)));if(!(u.other&&f===0||u.comments&&f===1||u.strings&&f===2))return}!Q5e(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(s)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const t=this._editor.getModel(),s=this._editor.getPosition(),l=new T1(t,s,this._state===2,!1);this._onNewContext(l)})}trigger(t,s=!1,l,u){var h;if(!this._editor.hasModel())return;const f=this._editor.getModel(),m=t.auto,A=new T1(f,this._editor.getPosition(),m,t.shy);this.cancel(s),this._state=m?2:1,this._onDidTrigger.fire({auto:m,shy:t.shy,position:this._editor.getPosition()}),this._context=A;let C={triggerKind:(h=t.triggerKind)!==null&&h!==void 0?h:0};t.triggerCharacter&&(C={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new tr;const w=this._editor.getOption(101);let k=1;switch(w){case"top":k=0;break;case"bottom":k=2;break}const{itemKind:D,showDeprecated:I}=Oj._createSuggestFilter(this._editor),N=X2.create(this._editorWorkerService,this._editor),R=JG(this._languageFeaturesService.completionProvider,f,this._editor.getPosition(),new nw(k,D,l,I),C,this._requestToken.token);Promise.all([R,N]).then(([O,W])=>Z5e(this,void 0,void 0,function*(){var B;if((B=this._requestToken)===null||B===void 0||B.dispose(),!this._editor.hasModel())return;let z=u?.clipboardText;if(!z&&O.needsClipboard&&(z=yield this._clipboardService.readText()),this._state===0)return;const G=this._editor.getModel();let K=O.items;if(u){const Y=qG(k);K=K.concat(u.items).sort(Y)}const q=new T1(G,this._editor.getPosition(),m,t.shy);this._completionModel=new hd(K,this._context.column,{leadingLineContent:q.leadingLineContent,characterCountDelta:q.column-this._context.column},W,this._editor.getOption(106),this._editor.getOption(101),z),this._completionDisposables.add(O.disposable),this._onNewContext(q),this._reportDurationsTelemetry(O.durations)})).catch(Bt)}_reportDurationsTelemetry(t){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(t)}),this._logService.debug("suggest.durations.json",t)})}static _createSuggestFilter(t){const s=new Set;t.getOption(101)==="none"&&s.add(27);const u=t.getOption(106);return u.showMethods||s.add(0),u.showFunctions||s.add(1),u.showConstructors||s.add(2),u.showFields||s.add(3),u.showVariables||s.add(4),u.showClasses||s.add(5),u.showStructs||s.add(6),u.showInterfaces||s.add(7),u.showModules||s.add(8),u.showProperties||s.add(9),u.showEvents||s.add(10),u.showOperators||s.add(11),u.showUnits||s.add(12),u.showValues||s.add(13),u.showConstants||s.add(14),u.showEnums||s.add(15),u.showEnumMembers||s.add(16),u.showKeywords||s.add(17),u.showWords||s.add(18),u.showColors||s.add(19),u.showFiles||s.add(20),u.showReferences||s.add(21),u.showColors||s.add(22),u.showFolders||s.add(23),u.showTypeParameters||s.add(24),u.showSnippets||s.add(27),u.showUsers||s.add(25),u.showIssues||s.add(26),{itemKind:s,showDeprecated:u.showDeprecated}}_onNewContext(t){if(!!this._context){if(t.lineNumber!==this._context.lineNumber){this.cancel();return}if(Hi(t.leadingLineContent)!==Hi(this._context.leadingLineContent)){this.cancel();return}if(t.column<this._context.column){t.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(t.leadingWord.word.length!==0&&t.leadingWord.startColumn>this._context.leadingWord.startColumn){const s=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let u of this._completionModel.allProvider)s.delete(u);const l=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,s,{items:l,clipboardText:this._completionModel.clipboardText});return}if(t.column>this._context.column&&this._completionModel.incomplete.size>0&&t.leadingWord.word.length!==0){const{incomplete:s}=this._completionModel,l=this._completionModel.adopt(s);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,s,{items:l,clipboardText:this._completionModel.clipboardText})}else{let s=this._completionModel.lineContext,l=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},this._completionModel.items.length===0){if(T1.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<t.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=s,l=this._completionModel.items.length>0,l&&t.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:l})}}}}};$L=j5e([Yh(1,Gl),Yh(2,Tf),Yh(3,L0),Yh(4,ka),Yh(5,Mt),Yh(6,Yi),Yh(7,ut)],$L);class Jv{constructor(t,s){this._disposables=new je,this._lastOvertyped=[],this._empty=!0,this._disposables.add(t.onWillType(()=>{if(!this._empty||!t.hasModel())return;const l=t.getSelections(),u=l.length;let h=!1;for(let m=0;m<u;m++)if(!l[m].isEmpty()){h=!0;break}if(!h)return;this._lastOvertyped=[];const f=t.getModel();for(let m=0;m<u;m++){const A=l[m];if(f.getValueLengthInRange(A)>Jv._maxSelectionLength)return;this._lastOvertyped[m]={value:f.getValueInRange(A),multiline:A.startLineNumber!==A.endLineNumber}}this._empty=!1})),this._disposables.add(s.onDidCancel(l=>{!this._empty&&!l.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(t){if(!this._empty&&t>=0&&t<this._lastOvertyped.length)return this._lastOvertyped[t]}dispose(){this._disposables.dispose()}}Jv._maxSelectionLength=51200;var $5e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},q9=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class TE extends nm{updateLabel(){const t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();this.label&&(this.label.textContent=E("ddd","{0} ({1})",this._action.label,TE.symbolPrintEnter(t)))}static symbolPrintEnter(t){var s;return(s=t.getLabel())===null||s===void 0?void 0:s.replace(/\benter\b/gi,"\u23CE")}}let KL=class{constructor(t,s,l,u){this._menuService=l,this._contextKeyService=u,this._menuDisposables=new je,this.element=Re(t,Ue(".suggest-status-bar"));const h=f=>f instanceof Qu?s.createInstance(TE,f,void 0):void 0;this._leftActions=new w0(this.element,{actionViewItemProvider:h}),this._rightActions=new w0(this.element,{actionViewItemProvider:h}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const t=this._menuService.createMenu(sh,this._contextKeyService),s=()=>{const l=[],u=[];for(let[h,f]of t.getActions())h==="left"?l.push(...f):u.push(...f);this._leftActions.clear(),this._leftActions.push(l),this._rightActions.clear(),this._rightActions.push(u)};this._menuDisposables.add(t.onDidChange(()=>s())),this._menuDisposables.add(t)}hide(){this._menuDisposables.clear()}};KL=$5e([q9(1,ii),q9(2,Df),q9(3,Mt)],KL);const K5e=oe("symbolIcon.arrayForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X5e=oe("symbolIcon.booleanForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J5e=oe("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},E("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q5e=oe("symbolIcon.colorForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ebe=oe("symbolIcon.constantForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tbe=oe("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},E("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ibe=oe("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},E("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nbe=oe("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sbe=oe("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},E("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rbe=oe("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),obe=oe("symbolIcon.fileForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lbe=oe("symbolIcon.folderForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),abe=oe("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},E("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cbe=oe("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ube=oe("symbolIcon.keyForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hbe=oe("symbolIcon.keywordForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dbe=oe("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},E("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fbe=oe("symbolIcon.moduleForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gbe=oe("symbolIcon.namespaceForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mbe=oe("symbolIcon.nullForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pbe=oe("symbolIcon.numberForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Abe=oe("symbolIcon.objectForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_be=oe("symbolIcon.operatorForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cbe=oe("symbolIcon.packageForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wbe=oe("symbolIcon.propertyForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vbe=oe("symbolIcon.referenceForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kbe=oe("symbolIcon.snippetForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bbe=oe("symbolIcon.stringForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sbe=oe("symbolIcon.structForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ybe=oe("symbolIcon.textForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lbe=oe("symbolIcon.typeParameterForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dbe=oe("symbolIcon.unitForeground",{dark:ot,light:ot,hc:ot},E("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ibe=oe("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));rn((d,t)=>{const s=d.getColor(K5e);s&&t.addRule(`${T.symbolArray.cssSelector} { color: ${s}; }`);const l=d.getColor(X5e);l&&t.addRule(`${T.symbolBoolean.cssSelector} { color: ${l}; }`);const u=d.getColor(J5e);u&&t.addRule(`${T.symbolClass.cssSelector} { color: ${u}; }`);const h=d.getColor(dbe);h&&t.addRule(`${T.symbolMethod.cssSelector} { color: ${h}; }`);const f=d.getColor(q5e);f&&t.addRule(`${T.symbolColor.cssSelector} { color: ${f}; }`);const m=d.getColor(ebe);m&&t.addRule(`${T.symbolConstant.cssSelector} { color: ${m}; }`);const A=d.getColor(tbe);A&&t.addRule(`${T.symbolConstructor.cssSelector} { color: ${A}; }`);const C=d.getColor(ibe);C&&t.addRule(`
			${T.symbolValue.cssSelector},${T.symbolEnum.cssSelector} { color: ${C}; }`);const w=d.getColor(nbe);w&&t.addRule(`${T.symbolEnumMember.cssSelector} { color: ${w}; }`);const k=d.getColor(sbe);k&&t.addRule(`${T.symbolEvent.cssSelector} { color: ${k}; }`);const D=d.getColor(rbe);D&&t.addRule(`${T.symbolField.cssSelector} { color: ${D}; }`);const I=d.getColor(obe);I&&t.addRule(`${T.symbolFile.cssSelector} { color: ${I}; }`);const N=d.getColor(lbe);N&&t.addRule(`${T.symbolFolder.cssSelector} { color: ${N}; }`);const R=d.getColor(abe);R&&t.addRule(`${T.symbolFunction.cssSelector} { color: ${R}; }`);const O=d.getColor(cbe);O&&t.addRule(`${T.symbolInterface.cssSelector} { color: ${O}; }`);const W=d.getColor(ube);W&&t.addRule(`${T.symbolKey.cssSelector} { color: ${W}; }`);const B=d.getColor(hbe);B&&t.addRule(`${T.symbolKeyword.cssSelector} { color: ${B}; }`);const z=d.getColor(fbe);z&&t.addRule(`${T.symbolModule.cssSelector} { color: ${z}; }`);const G=d.getColor(gbe);G&&t.addRule(`${T.symbolNamespace.cssSelector} { color: ${G}; }`);const K=d.getColor(mbe);K&&t.addRule(`${T.symbolNull.cssSelector} { color: ${K}; }`);const q=d.getColor(pbe);q&&t.addRule(`${T.symbolNumber.cssSelector} { color: ${q}; }`);const Y=d.getColor(Abe);Y&&t.addRule(`${T.symbolObject.cssSelector} { color: ${Y}; }`);const J=d.getColor(_be);J&&t.addRule(`${T.symbolOperator.cssSelector} { color: ${J}; }`);const ne=d.getColor(Cbe);ne&&t.addRule(`${T.symbolPackage.cssSelector} { color: ${ne}; }`);const Ae=d.getColor(wbe);Ae&&t.addRule(`${T.symbolProperty.cssSelector} { color: ${Ae}; }`);const ge=d.getColor(vbe);ge&&t.addRule(`${T.symbolReference.cssSelector} { color: ${ge}; }`);const Te=d.getColor(kbe);Te&&t.addRule(`${T.symbolSnippet.cssSelector} { color: ${Te}; }`);const Me=d.getColor(bbe);Me&&t.addRule(`${T.symbolString.cssSelector} { color: ${Me}; }`);const ct=d.getColor(Sbe);ct&&t.addRule(`${T.symbolStruct.cssSelector} { color: ${ct}; }`);const st=d.getColor(ybe);st&&t.addRule(`${T.symbolText.cssSelector} { color: ${st}; }`);const kt=d.getColor(Lbe);kt&&t.addRule(`${T.symbolTypeParameter.cssSelector} { color: ${kt}; }`);const Et=d.getColor(Dbe);Et&&t.addRule(`${T.symbolUnit.cssSelector} { color: ${Et}; }`);const Dt=d.getColor(Ibe);Dt&&t.addRule(`${T.symbolVariable.cssSelector} { color: ${Dt}; }`)});class Fj{constructor(){this._onDidWillResize=new he,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new he,this.onDidResize=this._onDidResize.event,this._sashListener=new je,this._size=new ji(0,0),this._minSize=new ji(0,0),this._maxSize=new ji(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new mr(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new mr(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new mr(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:DC.North}),this._southSash=new mr(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:DC.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t,s=0,l=0;this._sashListener.add(ft.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{t===void 0&&(this._onDidWillResize.fire(),t=this._size,s=0,l=0)})),this._sashListener.add(ft.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{t!==void 0&&(t=void 0,s=0,l=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(u=>{t&&(l=u.currentX-u.startX,this.layout(t.height+s,t.width+l),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(u=>{t&&(l=-(u.currentX-u.startX),this.layout(t.height+s,t.width+l),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(u=>{t&&(s=-(u.currentY-u.startY),this.layout(t.height+s,t.width+l),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(u=>{t&&(s=u.currentY-u.startY,this.layout(t.height+s,t.width+l),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(ft.any(this._eastSash.onDidReset,this._westSash.onDidReset)(u=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(ft.any(this._northSash.onDidReset,this._southSash.onDidReset)(u=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(t,s,l,u){this._northSash.state=t?3:0,this._eastSash.state=s?3:0,this._southSash.state=l?3:0,this._westSash.state=u?3:0}layout(t=this.size.height,s=this.size.width){const{height:l,width:u}=this._minSize,{height:h,width:f}=this._maxSize;t=Math.max(l,Math.min(h,t)),s=Math.max(u,Math.min(f,s));const m=new ji(s,t);ji.equals(m,this._size)||(this.domNode.style.height=t+"px",this.domNode.style.width=s+"px",this._size=m,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(t){this._maxSize=t}get maxSize(){return this._maxSize}set minSize(t){this._minSize=t}get minSize(){return this._minSize}set preferredSize(t){this._preferredSize=t}get preferredSize(){return this._preferredSize}}var xbe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Ebe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};function RE(d){return!!d&&Boolean(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}let XL=class{constructor(t,s){this._editor=t,this._onDidClose=new he,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new he,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new je,this._renderDisposeable=new je,this._borderWidth=1,this._size=new ji(330,0),this.domNode=Ue(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=s.createInstance(Mc,{editor:t}),this._body=Ue(".body"),this._scrollbar=new A_(this._body,{}),Re(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Re(this._body,Ue(".header")),this._close=Re(this._header,Ue("span"+T.close.cssSelector)),this._close.title=E("details.close","Close"),this._type=Re(this._header,Ue("p.type")),this._docs=Re(this._body,Ue("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const t=this._editor.getOptions(),s=t.get(44),l=s.getMassagedFontFamily(va?Or.fontFamily:null),u=t.get(107)||s.fontSize,h=t.get(108)||s.lineHeight,f=s.fontWeight,m=`${u}px`,A=`${h}px`;this.domNode.style.fontSize=m,this.domNode.style.lineHeight=`${h/u}`,this.domNode.style.fontWeight=f,this.domNode.style.fontFeatureSettings=s.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=A,this._close.style.width=A}getLayoutInfo(){const t=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,s=this._borderWidth,l=s*2;return{lineHeight:t,borderWidth:s,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=E("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(t,s){var l,u;this._renderDisposeable.clear();let{detail:h,documentation:f}=t.completion;if(s){let m="";m+=`score: ${t.score[0]}
`,m+=`prefix: ${(l=t.word)!==null&&l!==void 0?l:"(no prefix)"}
`,m+=`word: ${t.completion.filterText?t.completion.filterText+" (filterText)":t.textLabel}
`,m+=`distance: ${t.distance} (localityBonus-setting)
`,m+=`index: ${t.idx}, based on ${t.completion.sortText&&`sortText: "${t.completion.sortText}"`||"label"}
`,m+=`commit_chars: ${(u=t.completion.commitCharacters)===null||u===void 0?void 0:u.join("")}
`,f=new rl().appendCodeblock("empty",m),h=`Provider: ${t.provider._debugDisplayName}`}if(!s&&!RE(t)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),h){const m=h.length>1e5?`${h.substr(0,1e5)}\u2026`:h;this._type.textContent=m,this._type.title=m,nl(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(m))}else vs(this._type),this._type.title="",uo(this._type),this.domNode.classList.add("no-type");if(vs(this._docs),typeof f=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=f;else if(f){this._docs.classList.add("markdown-docs"),vs(this._docs);const m=this._markdownRenderer.render(f);this._docs.appendChild(m.element),this._renderDisposeable.add(m),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=m=>{m.preventDefault(),m.stopPropagation()},this._close.onclick=m=>{m.preventDefault(),m.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(t,s){const l=new ji(t,s);ji.equals(l,this._size)||(this._size=l,sce(this.domNode,t,s)),this._scrollbar.scanDomNode()}scrollDown(t=8){this._body.scrollTop+=t}scrollUp(t=8){this._body.scrollTop-=t}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(t){this._borderWidth=t}get borderWidth(){return this._borderWidth}};XL=xbe([Ebe(1,ii)],XL);class Nbe{constructor(t,s){this.widget=t,this._editor=s,this._disposables=new je,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Fj,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,u,h=0,f=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,u=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(m=>{if(l&&u){this.widget.layout(m.dimension.width,m.dimension.height);let A=!1;m.west&&(f=u.width-m.dimension.width,A=!0),m.north&&(h=u.height-m.dimension.height,A=!0),A&&this._applyTopLeft({top:l.top+h,left:l.left+f})}m.done&&(l=void 0,u=void 0,h=0,f=0,this._userSize=m.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var m;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(m=this._userSize)!==null&&m!==void 0?m:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(t=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),t&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(t,s){var l;const u=t.getBoundingClientRect();this._anchorBox=u,this._preferAlignAtTop=s,this._placeAtAnchor(this._anchorBox,(l=this._userSize)!==null&&l!==void 0?l:this.widget.size,s)}_placeAtAnchor(t,s,l){var u;const h=Mw(document.body),f=this.widget.getLayoutInfo(),m=new ji(220,2*f.lineHeight),A=t.top,C=function(){const z=h.width-(t.left+t.width+f.borderWidth+f.horizontalPadding),G=-f.borderWidth+t.left+t.width,K=new ji(z,h.height-t.top-f.borderHeight-f.verticalPadding),q=K.with(void 0,t.top+t.height-f.borderHeight-f.verticalPadding);return{top:A,left:G,fit:z-s.width,maxSizeTop:K,maxSizeBottom:q,minSize:m.with(Math.min(z,m.width))}}(),w=function(){const z=t.left-f.borderWidth-f.horizontalPadding,G=Math.max(f.horizontalPadding,t.left-s.width-f.borderWidth),K=new ji(z,h.height-t.top-f.borderHeight-f.verticalPadding),q=K.with(void 0,t.top+t.height-f.borderHeight-f.verticalPadding);return{top:A,left:G,fit:z-s.width,maxSizeTop:K,maxSizeBottom:q,minSize:m.with(Math.min(z,m.width))}}(),k=function(){const z=t.left,G=-f.borderWidth+t.top+t.height,K=new ji(t.width-f.borderHeight,h.height-t.top-t.height-f.verticalPadding);return{top:G,left:z,fit:K.height-s.height,maxSizeBottom:K,maxSizeTop:K,minSize:m.with(K.width)}}(),D=[C,w,k],I=(u=D.find(z=>z.fit>=0))!==null&&u!==void 0?u:D.sort((z,G)=>G.fit-z.fit)[0],N=t.top+t.height-f.borderHeight;let R,O=s.height;const W=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);O>W&&(O=W);let B;l?O<=I.maxSizeTop.height?(R=!0,B=I.maxSizeTop):(R=!1,B=I.maxSizeBottom):O<=I.maxSizeBottom.height?(R=!1,B=I.maxSizeBottom):(R=!0,B=I.maxSizeTop),this._applyTopLeft({left:I.left,top:R?I.top:N-O}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!R,I===C,R,I!==C),this._resizable.minSize=I.minSize,this._resizable.maxSize=B,this._resizable.layout(O,Math.min(B.width,s.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(t){this._topLeft=t,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var wc;(function(d){d[d.FILE=0]="FILE",d[d.FOLDER=1]="FOLDER",d[d.ROOT_FOLDER=2]="ROOT_FOLDER"})(wc||(wc={}));const Tbe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function R6(d,t,s,l){const u=l===wc.ROOT_FOLDER?["rootfolder-icon"]:l===wc.FOLDER?["folder-icon"]:["file-icon"];if(s){let h;if(s.scheme===zt.data)h=Ku.parseMetaData(s).get(Ku.META_DATA_LABEL);else{const f=s.path.match(Tbe);f?(h=M6(f[2].toLowerCase()),f[1]&&u.push(`${M6(f[1].toLowerCase())}-name-dir-icon`)):h=M6(s.authority.toLowerCase())}if(l===wc.FOLDER)u.push(`${h}-name-folder-icon`);else{if(h){if(u.push(`${h}-name-file-icon`),u.push("name-file-icon"),h.length<=255){const m=h.split(".");for(let A=1;A<m.length;A++)u.push(`${m.slice(A).join(".")}-ext-file-icon`)}u.push("ext-file-icon")}const f=Rbe(d,t,s);f&&u.push(`${M6(f)}-lang-file-icon`)}}return u}function Rbe(d,t,s){if(!s)return null;let l=null;if(s.scheme===zt.data){const h=Ku.parseMetaData(s).get(Ku.META_DATA_MIME);h&&(l=t.getLanguageIdByMimeType(h))}else{const u=d.getModel(s);u&&(l=u.getLanguageId())}return l&&l!==I0?l:t.guessLanguageIdByFilepathOrFirstLine(s)}function M6(d){return d.replace(/[\11\12\14\15\40]/g,"/")}var Mbe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},eS=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Gp;function Bj(d){return`suggest-aria-id:${d}`}const Pbe=bs("suggest-more-info",T.chevronRight,E("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Obe=new(Gp=class b3{extract(t,s){if(t.textLabel.match(b3._regexStrict))return s[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(b3._regexStrict))return s[0]=t.completion.detail,!0;if(typeof t.completion.documentation=="string"){const l=b3._regexRelaxed.exec(t.completion.documentation);if(l&&(l.index===0||l.index+l[0].length===t.completion.documentation.length))return s[0]=l[0],!0}return!1}},Gp._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Gp._regexStrict=new RegExp(`^${Gp._regexRelaxed.source}$`,"i"),Gp);let JL=class{constructor(t,s,l,u){this._editor=t,this._modelService=s,this._languageService=l,this._themeService=u,this._onDidToggleDetails=new he,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(t){const s=Object.create(null);s.disposables=new je,s.root=t,s.root.classList.add("show-file-icons"),s.icon=Re(t,Ue(".icon")),s.colorspan=Re(s.icon,Ue("span.colorspan"));const l=Re(t,Ue(".contents")),u=Re(l,Ue(".main"));s.iconContainer=Re(u,Ue(".icon-label.codicon")),s.left=Re(u,Ue("span.left")),s.right=Re(u,Ue("span.right")),s.iconLabel=new GC(s.left,{supportHighlights:!0,supportIcons:!0}),s.disposables.add(s.iconLabel),s.parametersLabel=Re(s.left,Ue("span.signature-label")),s.qualifierLabel=Re(s.left,Ue("span.qualifier-label")),s.detailsLabel=Re(s.right,Ue("span.details-label")),s.readMore=Re(s.right,Ue("span.readMore"+Qi.asCSSSelector(Pbe))),s.readMore.title=E("readMore","Read More");const h=()=>{const f=this._editor.getOptions(),m=f.get(44),A=m.getMassagedFontFamily(va?Or.fontFamily:null),C=m.fontFeatureSettings,w=f.get(107)||m.fontSize,k=f.get(108)||m.lineHeight,D=m.fontWeight,I=`${w}px`,N=`${k}px`;s.root.style.fontSize=I,s.root.style.fontWeight=D,u.style.fontFamily=A,u.style.fontFeatureSettings=C,u.style.lineHeight=N,s.icon.style.height=N,s.icon.style.width=N,s.readMore.style.height=N,s.readMore.style.width=N};return h(),s.disposables.add(this._editor.onDidChangeConfiguration(f=>{(f.hasChanged(44)||f.hasChanged(107)||f.hasChanged(108))&&h()})),s}renderElement(t,s,l){const{completion:u}=t;l.root.id=Bj(s),l.colorspan.style.backgroundColor="";const h={labelEscapeNewLines:!0,matches:dv(t.score)};let f=[];if(u.kind===19&&Obe.extract(t,f))l.icon.className="icon customcolor",l.iconContainer.className="icon hide",l.colorspan.style.backgroundColor=f[0];else if(u.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){l.icon.className="icon hide",l.iconContainer.className="icon hide";const m=R6(this._modelService,this._languageService,Lt.from({scheme:"fake",path:t.textLabel}),wc.FILE),A=R6(this._modelService,this._languageService,Lt.from({scheme:"fake",path:u.detail}),wc.FILE);h.extraClasses=m.length>A.length?m:A}else u.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(l.icon.className="icon hide",l.iconContainer.className="icon hide",h.extraClasses=PD([R6(this._modelService,this._languageService,Lt.from({scheme:"fake",path:t.textLabel}),wc.FOLDER),R6(this._modelService,this._languageService,Lt.from({scheme:"fake",path:u.detail}),wc.FOLDER)])):(l.icon.className="icon hide",l.iconContainer.className="",l.iconContainer.classList.add("suggest-icon",...Gr.asClassNameArray(zA.toIcon(u.kind))));u.tags&&u.tags.indexOf(1)>=0&&(h.extraClasses=(h.extraClasses||[]).concat(["deprecated"]),h.matches=[]),l.iconLabel.setLabel(t.textLabel,void 0,h),typeof u.label=="string"?(l.parametersLabel.textContent="",l.detailsLabel.textContent=tS(u.detail||""),l.root.classList.add("string-label")):(l.parametersLabel.textContent=tS(u.label.detail||""),l.detailsLabel.textContent=tS(u.label.description||""),l.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?nl(l.detailsLabel):uo(l.detailsLabel),RE(t)?(l.right.classList.add("can-expand-details"),nl(l.readMore),l.readMore.onmousedown=m=>{m.stopPropagation(),m.preventDefault()},l.readMore.onclick=m=>{m.stopPropagation(),m.preventDefault(),this._onDidToggleDetails.fire()}):(l.right.classList.remove("can-expand-details"),uo(l.readMore),l.readMore.onmousedown=null,l.readMore.onclick=null)}disposeTemplate(t){t.disposables.dispose()}};JL=Mbe([eS(1,Ln),eS(2,yn),eS(3,dn)],JL);function tS(d){return d.replace(/\r\n|\r|\n/g,"")}var Fbe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},P6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Bbe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};oe("editorSuggestWidget.background",{dark:Qr,light:Qr,hc:Qr},E("editorSuggestWidgetBackground","Background color of the suggest widget."));oe("editorSuggestWidget.border",{dark:Sd,light:Sd,hc:Sd},E("editorSuggestWidgetBorder","Border color of the suggest widget."));const iS=oe("editorSuggestWidget.foreground",{dark:Nu,light:Nu,hc:Nu},E("editorSuggestWidgetForeground","Foreground color of the suggest widget."));oe("editorSuggestWidget.selectedForeground",{dark:i3,light:i3,hc:i3},E("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));oe("editorSuggestWidget.selectedIconForeground",{dark:n3,light:n3,hc:n3},E("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Wbe=oe("editorSuggestWidget.selectedBackground",{dark:s3,light:s3,hc:s3},E("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));oe("editorSuggestWidget.highlightForeground",{dark:yc,light:yc,hc:yc},E("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));oe("editorSuggestWidget.focusHighlightForeground",{dark:bb,light:bb,hc:bb},E("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));oe("editorSuggestWidgetStatus.foreground",{dark:Tt(iS,.5),light:Tt(iS,.5),hc:Tt(iS,.5)},E("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Vbe{constructor(t,s){this._service=t,this._key=`suggestWidget.size/${s.getEditorType()}/${s instanceof rf}`}restore(){var t;const s=(t=this._service.get(this._key,0))!==null&&t!==void 0?t:"";try{const l=JSON.parse(s);if(ji.is(l))return ji.lift(l)}catch{}}store(t){this._service.store(this._key,JSON.stringify(t),0,1)}reset(){this._service.remove(this._key,0)}}let Q4=class qL{constructor(t,s,l,u,h){this.editor=t,this._storageService=s,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Wo,this._disposables=new je,this._onDidSelect=new he,this._onDidFocus=new he,this._onDidHide=new he,this._onDidShow=new he,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new he,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Fj,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Hbe(this,t),this._persistedSize=new Vbe(s,t);class f{constructor(I,N,R=!1,O=!1){this.persistedSize=I,this.currentSize=N,this.persistHeight=R,this.persistWidth=O}}let m;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),m=new f(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(D=>{var I,N,R,O;if(this._resize(D.dimension.width,D.dimension.height),m&&(m.persistHeight=m.persistHeight||!!D.north||!!D.south,m.persistWidth=m.persistWidth||!!D.east||!!D.west),!!D.done){if(m){const{itemHeight:W,defaultSize:B}=this.getLayoutInfo(),z=Math.round(W/2);let{width:G,height:K}=this.element.size;(!m.persistHeight||Math.abs(m.currentSize.height-K)<=z)&&(K=(N=(I=m.persistedSize)===null||I===void 0?void 0:I.height)!==null&&N!==void 0?N:B.height),(!m.persistWidth||Math.abs(m.currentSize.width-G)<=z)&&(G=(O=(R=m.persistedSize)===null||R===void 0?void 0:R.width)!==null&&O!==void 0?O:B.width),this._persistedSize.store(new ji(G,K))}this._contentWidget.unlockPreference(),m=void 0}})),this._messageElement=Re(this.element.domNode,Ue(".message")),this._listElement=Re(this.element.domNode,Ue(".tree"));const A=h.createInstance(XL,this.editor);A.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Nbe(A,this.editor);const C=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);C();const w=h.createInstance(JL,this.editor);this._disposables.add(w),this._disposables.add(w.onDidToggleDetails(()=>this.toggleDetails())),this._list=new x0("SuggestWidget",this._listElement,{getHeight:D=>this.getLayoutInfo().itemHeight,getTemplateId:D=>"suggestion"},[w],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>E("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:D=>{let I=D.textLabel;if(typeof D.completion.label!="string"){const{detail:W,description:B}=D.completion.label;W&&B?I=E("label.full","{0}{1}, {2}",I,W,B):W?I=E("label.detail","{0}{1}",I,W):B&&(I=E("label.desc","{0}, {1}",I,B))}if(!D.isResolved||!this._isDetailsVisible())return I;const{documentation:N,detail:R}=D.completion,O=xl("{0}{1}",R||"",N?typeof N=="string"?N:N.value:"");return E("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",I,O)}}}),this._status=h.createInstance(KL,this.element.domNode);const k=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);k(),this._disposables.add(Xd(this._list,u,{listInactiveFocusBackground:Wbe,listInactiveFocusOutline:Fr})),this._disposables.add(u.onDidColorThemeChange(D=>this._onThemeChange(D))),this._onThemeChange(u.getColorTheme()),this._disposables.add(this._list.onMouseDown(D=>this._onListMouseDownOrTap(D))),this._disposables.add(this._list.onTap(D=>this._onListMouseDownOrTap(D))),this._disposables.add(this._list.onDidChangeSelection(D=>this._onListSelection(D))),this._disposables.add(this._list.onDidChangeFocus(D=>this._onListFocus(D))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(D=>{D.hasChanged(106)&&(k(),C())})),this._ctxSuggestWidgetVisible=fi.Visible.bindTo(l),this._ctxSuggestWidgetDetailsVisible=fi.DetailsVisible.bindTo(l),this._ctxSuggestWidgetMultipleSuggestions=fi.MultipleSuggestions.bindTo(l),this._disposables.add(zs(this._details.widget.domNode,"keydown",D=>{this._onDetailsKeydown.fire(D)})),this._disposables.add(this.editor.onMouseDown(D=>this._onEditorMouseDown(D)))}dispose(){var t;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(t=this._loadingTimeout)===null||t===void 0||t.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(t){this._details.widget.domNode.contains(t.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(t.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(t){typeof t.element>"u"||typeof t.index>"u"||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this._select(t.element,t.index))}_onListSelection(t){t.elements.length&&this._select(t.elements[0],t.indexes[0])}_select(t,s){const l=this._completionModel;l&&(this._onDidSelect.fire({item:t,index:s,model:l}),this.editor.focus())}_onThemeChange(t){this._details.widget.borderWidth=t.type==="hc"?2:1}_onListFocus(t){var s;if(this._ignoreFocusEvents)return;if(!t.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const l=t.elements[0],u=t.indexes[0];l!==this._focusedItem&&((s=this._currentSuggestionDetails)===null||s===void 0||s.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=l,this._list.reveal(u),this._currentSuggestionDetails=js(h=>Bbe(this,void 0,void 0,function*(){const f=Wd(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),m=h.onCancellationRequested(()=>f.dispose()),A=yield l.resolve(h);return f.dispose(),m.dispose(),A})),this._currentSuggestionDetails.then(()=>{u>=this._list.length||l!==this._list.element(u)||(this._ignoreFocusEvents=!0,this._list.splice(u,1,[l]),this._list.setFocus([u]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Bj(u)}))}).catch(Bt)),this._onDidFocus.fire({item:l,index:u,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",t===4),this.element.domNode.classList.remove("message"),t){case 0:uo(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=qL.LOADING_MESSAGE,uo(this._listElement,this._status.element),nl(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=qL.NO_SUGGESTIONS_MESSAGE,uo(this._listElement,this._status.element),nl(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:uo(this._messageElement),nl(this._listElement,this._status.element),this._show();break;case 4:uo(this._messageElement),nl(this._listElement,this._status.element),this._show();break;case 5:uo(this._messageElement),nl(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(t,s){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!t,this._isAuto||(this._loadingTimeout=Wd(()=>this._setState(1),s)))}showSuggestions(t,s,l,u){var h,f;if(this._contentWidget.setPosition(this.editor.getPosition()),(h=this._loadingTimeout)===null||h===void 0||h.dispose(),(f=this._currentSuggestionDetails)===null||f===void 0||f.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==t&&(this._completionModel=t),l&&this._state!==2&&this._state!==0){this._setState(4);return}const m=this._completionModel.items.length,A=m===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(m>1),A){this._setState(u?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(l?4:3),this._list.reveal(s,0),this._list.setFocus([s]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(RE(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(t){this._details.show(),t?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var t;(t=this._loadingTimeout)===null||t===void 0||t.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const s=this._persistedSize.restore(),l=Math.ceil(this.getLayoutInfo().itemHeight*4.3);s&&s.height<l&&this._persistedSize.store(s.with(void 0,l))}isFrozen(){return this._state===4}_afterRender(t){if(t===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(t){var s,l,u;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const h=Mw(document.body),f=this.getLayoutInfo();t||(t=f.defaultSize);let m=t.height,A=t.width;if(this._status.element.style.lineHeight=`${f.itemHeight}px`,this._state===2||this._state===1)m=f.itemHeight+f.borderHeight,A=f.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ji(A,m),this._contentWidget.setPreference(2);else{const C=h.width-f.borderHeight-2*f.horizontalPadding;A>C&&(A=C);const w=this._completionModel?this._completionModel.stats.pLabelLen*f.typicalHalfwidthCharacterWidth:A,k=f.statusBarHeight+this._list.contentHeight+f.borderHeight,D=f.itemHeight+f.statusBarHeight,I=Js(this.editor.getDomNode()),N=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),R=I.top+N.top+N.height,O=Math.min(h.height-R-f.verticalPadding,k),W=I.top+N.top-f.verticalPadding,B=Math.min(W,k);let z=Math.min(Math.max(B,O)+f.borderHeight,k);m===((s=this._cappedHeight)===null||s===void 0?void 0:s.capped)&&(m=this._cappedHeight.wanted),m<D&&(m=D),m>z&&(m=z);const G=150;m>O||this._forceRenderingAbove&&W>G?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),z=B):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),z=O),this.element.preferredSize=new ji(w,f.defaultSize.height),this.element.maxSize=new ji(C,z),this.element.minSize=new ji(220,D),this._cappedHeight=m===k?{wanted:(u=(l=this._cappedHeight)===null||l===void 0?void 0:l.wanted)!==null&&u!==void 0?u:t.height,capped:m}:void 0}this._resize(A,m)}_resize(t,s){const{width:l,height:u}=this.element.maxSize;t=Math.min(l,t),s=Math.min(u,s);const{statusBarHeight:h}=this.getLayoutInfo();this._list.layout(s-h,t),this._listElement.style.height=`${s-h}px`,this.element.layout(s,t),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var t;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((t=this._contentWidget.getPosition())===null||t===void 0?void 0:t.preference[0])===2)}getLayoutInfo(){const t=this.editor.getOption(44),s=Io(this.editor.getOption(108)||t.lineHeight,8,1e3),l=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:s,u=this._details.widget.borderWidth,h=2*u;return{itemHeight:s,statusBarHeight:l,borderWidth:u,borderHeight:h,typicalHalfwidthCharacterWidth:t.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ji(430,l+12*s+h)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(t){this._storageService.store("expandSuggestionDocs",t,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Q4.LOADING_MESSAGE=E("suggestWidget.loading","Loading...");Q4.NO_SUGGESTIONS_MESSAGE=E("suggestWidget.noSuggestions","No suggestions.");Q4=Fbe([P6(1,N0),P6(2,Mt),P6(3,dn),P6(4,ii)],Q4);class Hbe{constructor(t,s){this._widget=t,this._editor=s,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:t,width:s}=this._widget.element.size,{borderWidth:l,horizontalPadding:u}=this._widget.getLayoutInfo();return new ji(s+2*l+u,t+2*l)}afterRender(t){this._widget._afterRender(t)}setPreference(t){this._preferenceLocked||(this._preference=t)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(t){this._position=t}}var Ube=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},R1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class zbe{constructor(t,s){if(this._model=t,this._position=s,t.getLineMaxColumn(s.lineNumber)!==s.column){const u=t.getOffsetAt(s),h=t.getPositionAt(u+1);this._marker=t.deltaDecorations([],[{range:$.fromPositions(s,h),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){const s=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(s.getStartPosition())-this._model.getOffsetAt(t)}else return this._model.getLineMaxColumn(t.lineNumber)-t.column}}let ma=class Wj{constructor(t,s,l,u,h,f,m){this._memoryService=s,this._commandService=l,this._contextKeyService=u,this._instantiationService=h,this._logService=f,this._telemetryService=m,this._lineSuffix=new Yr,this._toDispose=new je,this._selectors=new Gbe(k=>k.priority),this._telemetryGate=0,this.editor=t,this.model=h.createInstance($L,this.editor);const A=fi.InsertMode.bindTo(u);A.set(t.getOption(106).insertMode),this.model.onDidTrigger(()=>A.set(t.getOption(106).insertMode)),this.widget=this._toDispose.add(new Du(()=>{const k=this._instantiationService.createInstance(Q4,this.editor);this._toDispose.add(k),this._toDispose.add(k.onDidSelect(O=>this._insertSuggestion(O,0),this));const D=new U5e(this.editor,k,O=>this._insertSuggestion(O,2));this._toDispose.add(D),this._toDispose.add(this.model.onDidSuggest(O=>{O.completionModel.items.length===0&&D.reset()}));const I=fi.MakesTextEdit.bindTo(this._contextKeyService),N=fi.HasInsertAndReplaceRange.bindTo(this._contextKeyService),R=fi.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add($t(()=>{I.reset(),N.reset(),R.reset()})),this._toDispose.add(k.onDidFocus(({item:O})=>{const W=this.editor.getPosition(),B=O.editStart.column,z=W.column;let G=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!O.completion.additionalTextEdits&&!(O.completion.insertTextRules&4)&&z-B===O.completion.insertText.length&&(G=this.editor.getModel().getValueInRange({startLineNumber:W.lineNumber,startColumn:B,endLineNumber:W.lineNumber,endColumn:z})!==O.completion.insertText),I.set(G),N.set(!me.equals(O.editInsertEnd,O.editReplaceEnd)),R.set(Boolean(O.provider.resolveCompletionItem)||Boolean(O.completion.documentation)||O.completion.detail!==O.completion.label)})),this._toDispose.add(k.onDetailsKeyDown(O=>{if(O.toKeybinding().equals(new Hd(!0,!1,!1,!1,33))||Jt&&O.toKeybinding().equals(new Hd(!1,!1,!1,!0,33))){O.stopPropagation();return}O.toKeybinding().isModifierKey()||this.editor.focus()})),k})),this._overtypingCapturer=this._toDispose.add(new Du(()=>this._toDispose.add(new Jv(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Du(()=>this._toDispose.add(new uf(this.editor,this._contextKeyService)))),this._toDispose.add(h.createInstance(Z4,t)),this._toDispose.add(this.model.onDidTrigger(k=>{this.widget.value.showTriggered(k.auto,k.shy?250:50),this._lineSuffix.value=new zbe(this.editor.getModel(),k.position)})),this._toDispose.add(this.model.onDidSuggest(k=>{if(!k.shy){let D=-1;for(const I of this._selectors.itemsOrderedByPriorityDesc)if(D=I.select(this.editor.getModel(),this.editor.getPosition(),k.completionModel.items),D!==-1)break;D===-1&&(D=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),k.completionModel.items)),this.widget.value.showSuggestions(k.completionModel,D,k.isFrozen,k.auto)}})),this._toDispose.add(this.model.onDidCancel(k=>{k.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let C=fi.AcceptSuggestionsOnEnter.bindTo(u),w=()=>{const k=this.editor.getOption(1);C.set(k==="on"||k==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>w())),w()}static get(t){return t.getContribution(Wj.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(t,s){if(!t||!t.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const l=ir.get(this.editor);if(!l)return;const u=this.editor.getModel(),h=u.getAlternativeVersionId(),{item:f}=t,m=[],A=new tr;s&1||this.editor.pushUndoStop();const C=this.getOverwriteInfo(f,Boolean(s&8));if(this._memoryService.memorize(u,this.editor.getPosition(),f),Array.isArray(f.completion.additionalTextEdits)){const k=Ju.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",f.completion.additionalTextEdits.map(D=>Vn.replace($.lift(D.range),D.text))),k.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!f.isResolved){const k=new mo(!0);let D;const I=u.onDidChangeContent(W=>{if(W.isFlush){A.cancel(),I.dispose();return}for(let B of W.changes){const z=$.getEndPosition(B.range);(!D||me.isBefore(z,D))&&(D=z)}});let N=s;s|=2;let R=!1,O=this.editor.onWillType(()=>{O.dispose(),R=!0,N&2||this.editor.pushUndoStop()});m.push(f.resolve(A.token).then(()=>{if(!f.completion.additionalTextEdits||A.token.isCancellationRequested||D&&f.completion.additionalTextEdits.some(B=>me.isBefore(D,$.getStartPosition(B.range))))return!1;R&&this.editor.pushUndoStop();const W=Ju.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",f.completion.additionalTextEdits.map(B=>Vn.replace($.lift(B.range),B.text))),W.restoreRelativeVerticalPositionOfCursor(this.editor),(R||!(N&2))&&this.editor.pushUndoStop(),!0}).then(W=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",k.elapsed(),W),I.dispose(),O.dispose()}))}let{insertText:w}=f.completion;f.completion.insertTextRules&4||(w=Gv.escape(w)),l.insert(w,{overwriteBefore:C.overwriteBefore,overwriteAfter:C.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(f.completion.insertTextRules&1),clipboardText:t.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),s&2||this.editor.pushUndoStop(),f.completion.command?f.completion.command.id===F_.id?this.model.trigger({auto:!0,shy:!1},!0):(m.push(this._commandService.executeCommand(f.completion.command.id,...f.completion.command.arguments?[...f.completion.command.arguments]:[]).catch(Bt)),this.model.cancel()):this.model.cancel(),s&4&&this._alternatives.value.set(t,k=>{for(A.cancel();u.canUndo();){h!==u.getAlternativeVersionId()&&u.undo(),this._insertSuggestion(k,3|(s&8?8:0));break}}),this._alertCompletionItem(f),Promise.all(m).finally(()=>{this._reportSuggestionAcceptedTelemetry(u,t),this.model.clear(),A.dispose()})}_reportSuggestionAcceptedTelemetry(t,s){var l;if(this._telemetryGate++%100!==0)return;const u=((l=s.item.provider._debugDisplayName)!==null&&l!==void 0?l:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:u,basenameHash:sV(Ul(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:U1e(t.uri)})}getOverwriteInfo(t,s){Zi(this.editor.hasModel());let l=this.editor.getOption(106).insertMode==="replace";s&&(l=!l);const u=t.position.column-t.editStart.column,h=(l?t.editReplaceEnd.column:t.editInsertEnd.column)-t.position.column,f=this.editor.getPosition().column-t.position.column,m=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:u+f,overwriteAfter:h+m}}_alertCompletionItem(t){if(Mo(t.completion.additionalTextEdits)){let s=E("aria.alert.snippet","Accepting '{0}' made {1} additional edits",t.textLabel,t.completion.additionalTextEdits.length);qs(s)}}triggerSuggest(t,s){this.editor.hasModel()&&(this.model.trigger({auto:s??!1,shy:!1},!1,t),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(t){if(!this.editor.hasModel())return;const s=this.editor.getPosition(),l=()=>{s.equals(this.editor.getPosition())&&this._commandService.executeCommand(t.fallback)},u=h=>{if(h.completion.insertTextRules&4||h.completion.additionalTextEdits)return!0;const f=this.editor.getPosition(),m=h.editStart.column,A=f.column;return A-m!==h.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:f.lineNumber,startColumn:m,endLineNumber:f.lineNumber,endColumn:A})!==h.completion.insertText};ft.once(this.model.onDidTrigger)(h=>{let f=[];ft.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{mi(f),l()},void 0,f),this.model.onDidSuggest(({completionModel:m})=>{if(mi(f),m.items.length===0){l();return}const A=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),m.items),C=m.items[A];if(!u(C)){l();return}this.editor.pushUndoStop(),this._insertSuggestion({index:A,item:C,model:m},7)},void 0,f)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(s,0),this.editor.focus()}acceptSelectedSuggestion(t,s){const l=this.widget.value.getFocusedItem();let u=0;t&&(u|=4),s&&(u|=8),this._insertSuggestion(l,u)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(t){return this._selectors.register(t)}};ma.ID="editor.contrib.suggestController";ma=Ube([R1(1,Mj),R1(2,es),R1(3,Mt),R1(4,ii),R1(5,ka),R1(6,L0)],ma);class Gbe{constructor(t){this.prioritySelector=t,this._items=new Array}register(t){if(this._items.indexOf(t)!==-1)throw new Error("Value is already registered");return this._items.push(t),this._items.sort((s,l)=>this.prioritySelector(l)-this.prioritySelector(s)),{dispose:()=>{const s=this._items.indexOf(t);s>=0&&this._items.splice(s,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class F_ extends lt{constructor(){super({id:F_.id,label:E("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:it.and(re.writable,re.hasCompletionItemProvider),kbOpts:{kbExpr:re.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(t,s,l){const u=ma.get(s);if(!u)return;let h;l&&typeof l=="object"&&l.auto===!0&&(h=!0),u.triggerSuggest(void 0,h)}}F_.id="editor.action.triggerSuggest";Li(ma.ID,ma);$e(F_);const Yl=100+90,Ho=nr.bindToContribution(ma.get);Qe(new Ho({id:"acceptSelectedSuggestion",precondition:fi.Visible,handler(d){d.acceptSelectedSuggestion(!0,!1)}}));$r.registerKeybindingRule({id:"acceptSelectedSuggestion",when:it.and(fi.Visible,re.textInputFocus),primary:2,weight:Yl});$r.registerKeybindingRule({id:"acceptSelectedSuggestion",when:it.and(fi.Visible,re.textInputFocus,fi.AcceptSuggestionsOnEnter,fi.MakesTextEdit),primary:3,weight:Yl});ul.appendMenuItem(sh,{command:{id:"acceptSelectedSuggestion",title:E("accept.insert","Insert")},group:"left",order:1,when:fi.HasInsertAndReplaceRange.toNegated()});ul.appendMenuItem(sh,{command:{id:"acceptSelectedSuggestion",title:E("accept.insert","Insert")},group:"left",order:1,when:it.and(fi.HasInsertAndReplaceRange,fi.InsertMode.isEqualTo("insert"))});ul.appendMenuItem(sh,{command:{id:"acceptSelectedSuggestion",title:E("accept.replace","Replace")},group:"left",order:1,when:it.and(fi.HasInsertAndReplaceRange,fi.InsertMode.isEqualTo("replace"))});Qe(new Ho({id:"acceptAlternativeSelectedSuggestion",precondition:it.and(fi.Visible,re.textInputFocus),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:1027,secondary:[1026]},handler(d){d.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:sh,group:"left",order:2,when:it.and(fi.HasInsertAndReplaceRange,fi.InsertMode.isEqualTo("insert")),title:E("accept.replace","Replace")},{menuId:sh,group:"left",order:2,when:it.and(fi.HasInsertAndReplaceRange,fi.InsertMode.isEqualTo("replace")),title:E("accept.insert","Insert")}]}));pi.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");Qe(new Ho({id:"hideSuggestWidget",precondition:fi.Visible,handler:d=>d.cancelSuggestWidget(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:9,secondary:[1033]}}));Qe(new Ho({id:"selectNextSuggestion",precondition:it.and(fi.Visible,fi.MultipleSuggestions),handler:d=>d.selectNextSuggestion(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));Qe(new Ho({id:"selectNextPageSuggestion",precondition:it.and(fi.Visible,fi.MultipleSuggestions),handler:d=>d.selectNextPageSuggestion(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:12,secondary:[2060]}}));Qe(new Ho({id:"selectLastSuggestion",precondition:it.and(fi.Visible,fi.MultipleSuggestions),handler:d=>d.selectLastSuggestion()}));Qe(new Ho({id:"selectPrevSuggestion",precondition:it.and(fi.Visible,fi.MultipleSuggestions),handler:d=>d.selectPrevSuggestion(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));Qe(new Ho({id:"selectPrevPageSuggestion",precondition:it.and(fi.Visible,fi.MultipleSuggestions),handler:d=>d.selectPrevPageSuggestion(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:11,secondary:[2059]}}));Qe(new Ho({id:"selectFirstSuggestion",precondition:it.and(fi.Visible,fi.MultipleSuggestions),handler:d=>d.selectFirstSuggestion()}));Qe(new Ho({id:"toggleSuggestionDetails",precondition:fi.Visible,handler:d=>d.toggleSuggestionDetails(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:sh,group:"right",order:1,when:it.and(fi.DetailsVisible,fi.CanResolve),title:E("detail.more","show less")},{menuId:sh,group:"right",order:1,when:it.and(fi.DetailsVisible.toNegated(),fi.CanResolve),title:E("detail.less","show more")}]}));Qe(new Ho({id:"toggleExplainMode",precondition:fi.Visible,handler:d=>d.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));Qe(new Ho({id:"toggleSuggestionFocus",precondition:fi.Visible,handler:d=>d.toggleSuggestionFocus(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:2570,mac:{primary:778}}}));Qe(new Ho({id:"insertBestCompletion",precondition:it.and(re.textInputFocus,it.equals("config.editor.tabCompletion","on"),Z4.AtEnd,fi.Visible.toNegated(),uf.OtherSuggestions.toNegated(),ir.InSnippetMode.toNegated()),handler:(d,t)=>{d.triggerSuggestAndAcceptBest(ho(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:Yl,primary:2}}));Qe(new Ho({id:"insertNextSuggestion",precondition:it.and(re.textInputFocus,it.equals("config.editor.tabCompletion","on"),uf.OtherSuggestions,fi.Visible.toNegated(),ir.InSnippetMode.toNegated()),handler:d=>d.acceptNextSuggestion(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:2}}));Qe(new Ho({id:"insertPrevSuggestion",precondition:it.and(re.textInputFocus,it.equals("config.editor.tabCompletion","on"),uf.OtherSuggestions,fi.Visible.toNegated(),ir.InSnippetMode.toNegated()),handler:d=>d.acceptPrevSuggestion(),kbOpts:{weight:Yl,kbExpr:re.textInputFocus,primary:1026}}));$e(class extends lt{constructor(){super({id:"editor.action.resetSuggestSize",label:E("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(d,t){var s;(s=ma.get(t))===null||s===void 0||s.resetWidgetSize()}});class jbe extends Se{constructor(t,s){super(),this.editor=t,this.suggestControllerPreselector=s,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new zi(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(t.onKeyDown(u=>{u.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(t.onKeyUp(u=>{u.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const l=ma.get(this.editor);if(l){this._register(l.registerSelector({priority:100,select:(f,m,A)=>{const C=this.editor.getModel(),w=hw(C,this.suggestControllerPreselector());if(!w)return-1;const k=me.lift(m),D=A.map((N,R)=>{const O=TB(l,k,N,this.isShiftKeyPressed),W=hw(C,O?.normalizedInlineCompletion);if(!W)return;const B=Zbe(w.range,W.range)&&w.text.startsWith(W.text);return{index:R,valid:B,prefixLength:W.text.length,suggestItem:N}}).filter(N=>N&&N.valid),I=pW(D,Y6(N=>N.prefixLength,$oe));return I?I.index:-1}}));let u=!1;const h=()=>{u||(u=!0,this._register(l.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(l.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(l.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(ft.once(l.model.onDidTrigger)(f=>{h()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(t){const s=this.getSuggestItemInfo();let l=!1;Qbe(this._currentSuggestItemInfo,s)||(this._currentSuggestItemInfo=s,l=!0),this._isActive!==t&&(this._isActive=t,l=!0),l&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const t=ma.get(this.editor);if(!t||!this.isSuggestWidgetVisible)return;const s=t.widget.value.getFocusedItem();if(!!s)return TB(t,this.editor.getPosition(),s.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const t=ma.get(this.editor);t&&t.stopForceRenderingAbove()}forceRenderingAbove(){const t=ma.get(this.editor);t&&t.forceRenderingAbove()}}function Zbe(d,t){return t.startLineNumber===d.startLineNumber&&t.startColumn===d.startColumn&&(t.endLineNumber<d.endLineNumber||t.endLineNumber===d.endLineNumber&&t.endColumn<=d.endColumn)}function Qbe(d,t){return d===t?!0:!d||!t?!1:d.completionItemKind===t.completionItemKind&&d.isSnippetText===t.isSnippetText&&m5e(d.normalizedInlineCompletion,t.normalizedInlineCompletion)}function TB(d,t,s,l){if(Array.isArray(s.completion.additionalTextEdits)&&s.completion.additionalTextEdits.length>0)return{completionItemKind:s.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:$.fromPositions(t,t),text:""}};let{insertText:u}=s.completion,h=!1;if(s.completion.insertTextRules&4){const m=new Gv().parse(u),A=d.editor.getModel();if(m.children.length>100)return;j2.adjustWhitespace(A,t,m,!0,!0),u=m.toString(),h=!0}const f=d.getOverwriteInfo(s,l);return{isSnippetText:h,completionItemKind:s.completion.kind,normalizedInlineCompletion:{text:u,range:$.fromPositions(t.delta(0,-f.overwriteBefore),t.delta(0,Math.max(f.overwriteAfter,0)))}}}var Ybe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},$be=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},RB=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let eD=class extends xj{constructor(t,s,l){super(t),this.cache=s,this.languageFeaturesService=l,this.suggestionInlineCompletionSource=this._register(new jbe(this.editor,()=>{var u,h;return(h=(u=this.cache.value)===null||u===void 0?void 0:u.completions[0])===null||h===void 0?void 0:h.toLiveInlineCompletion()})),this.updateOperation=this._register(new Yr),this.updateCacheSoon=this._register(new zi(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const h=this.ghostText;h&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Kbe(h.parts.map(f=>f.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(u=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register($t(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return RB(this,void 0,void 0,function*(){const t=this.suggestionInlineCompletionSource.state;if(!t||!t.selectedItem)return;const s={text:t.selectedItem.normalizedInlineCompletion.text,range:t.selectedItem.normalizedInlineCompletion.range,isSnippetText:t.selectedItem.isSnippetText,completionKind:t.selectedItem.completionItemKind},l=this.editor.getPosition(),u=js(f=>RB(this,void 0,void 0,function*(){let m;try{m=yield Tj(this.languageFeaturesService.inlineCompletionsProvider,l,this.editor.getModel(),{triggerKind:Ll.Automatic,selectedSuggestionInfo:s},f)}catch(A){Bt(A);return}f.isCancellationRequested||(this.cache.setValue(this.editor,m,Ll.Automatic),this.onDidChangeEmitter.fire())})),h=new Nj(u,Ll.Automatic);this.updateOperation.value=h,yield u,this.updateOperation.value===h&&this.updateOperation.clear()})}get ghostText(){var t,s,l;const u=this.isSuggestionPreviewEnabled(),h=hw(this.editor.getModel(),(s=(t=this.cache.value)===null||t===void 0?void 0:t.completions[0])===null||s===void 0?void 0:s.toLiveInlineCompletion()),f=this.suggestionInlineCompletionSource.state,m=hw(this.editor.getModel(),(l=f?.selectedItem)===null||l===void 0?void 0:l.normalizedInlineCompletion),A=h&&m&&h.text.startsWith(m.text)&&h.range.equalsRange(m.range);if(!u&&!A)return;const C=A?h:m||h,w=A?C.text.length-m.text.length:0;return this.toGhostText(C,w)}toGhostText(t,s){const l=this.editor.getOptions().get(106).previewMode;return t?Ej(t,this.editor.getModel(),l,this.editor.getPosition(),s)||new Ij(t.range.endLineNumber,[],this.minReservedLineCount):void 0}};eD=Ybe([$be(2,ut)],eD);function Kbe(d){return d.reduce((t,s)=>t+s,0)}function Xbe(d,t){return{object:d,dispose:()=>t?.dispose()}}var Jbe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},qbe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},e9e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class t9e extends Se{constructor(){super(...arguments),this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Yr)}get targetModel(){var t;return(t=this.currentModelRef.value)===null||t===void 0?void 0:t.object}setTargetModel(t){var s;((s=this.currentModelRef.value)===null||s===void 0?void 0:s.object)!==t&&(this.currentModelRef.clear(),this.currentModelRef.value=t?Xbe(t,t.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var t,s;return this.hasCachedGhostText||(this.cachedGhostText=(s=(t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)===null||s===void 0?void 0:s.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(t){var s;(s=this.targetModel)===null||s===void 0||s.setExpanded(t)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let tD=class extends t9e{constructor(t,s){super(),this.editor=t,this.instantiationService=s,this.sharedCache=this._register(new i9e),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(eD,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(QL,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(t){var s;const l=(s=this.activeInlineCompletionsModel)===null||s===void 0?void 0:s.ghostText;return l?l.parts.some(u=>t.containsPosition(new me(l.lineNumber,u.column))):!1}triggerInlineCompletion(){var t;(t=this.activeInlineCompletionsModel)===null||t===void 0||t.trigger(Ll.Explicit)}commitInlineCompletion(){var t;(t=this.activeInlineCompletionsModel)===null||t===void 0||t.commitCurrentSuggestion()}hideInlineCompletion(){var t;(t=this.activeInlineCompletionsModel)===null||t===void 0||t.hide()}showNextInlineCompletion(){var t;(t=this.activeInlineCompletionsModel)===null||t===void 0||t.showNext()}showPreviousInlineCompletion(){var t;(t=this.activeInlineCompletionsModel)===null||t===void 0||t.showPrevious()}hasMultipleInlineCompletions(){var t;return e9e(this,void 0,void 0,function*(){const s=yield(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.hasMultipleInlineCompletions();return s!==void 0?s:!1})}};tD=Jbe([qbe(1,ii)],tD);class i9e extends Se{constructor(){super(...arguments),this.onDidChangeEmitter=new he,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Yr)}get value(){return this.cache.value}setValue(t,s,l){this.cache.value=new k5e(t,s,()=>this.onDidChangeEmitter.fire(),l)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var n9e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},MB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},nS;const PB=(nS=window.trustedTypes)===null||nS===void 0?void 0:nS.createPolicy("editorGhostText",{createHTML:d=>d});let iD=class extends Se{constructor(t,s,l,u){super(),this.editor=t,this.model=s,this.instantiationService=l,this.languageService=u,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(s9e,this.editor)),this.additionalLinesWidget=this._register(new r9e(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(h=>{(h.hasChanged(29)||h.hasChanged(105)||h.hasChanged(88)||h.hasChanged(83)||h.hasChanged(45)||h.hasChanged(44)||h.hasChanged(59))&&this.update()})),this._register($t(()=>{var h;this.disposed=!0,this.update(),(h=this.viewMoreContentWidget)===null||h===void 0||h.dispose(),this.viewMoreContentWidget=void 0})),this._register(s.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(t){return this.additionalLinesWidget.viewZoneId===t}update(){var t;const s=this.model.ghostText;if(!this.editor.hasModel()||!s||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const l=new Array,u=new Array;function h(C,w){if(u.length>0){const k=u[u.length-1];w&&k.decorations.push(new ll(k.content.length+1,k.content.length+1+C[0].length,w,0)),k.content+=C[0],C=C.slice(1)}for(const k of C)u.push({content:k,decorations:w?[new ll(1,k.length+1,w,0)]:[]})}const f=this.editor.getModel().getLineContent(s.lineNumber);this.editor.getModel().getLineTokens(s.lineNumber);let m,A=0;for(const C of s.parts){let w=C.lines;m===void 0?(l.push({column:C.column,text:w[0],preview:C.preview}),w=w.slice(1)):h([f.substring(A,C.column-1)],void 0),w.length>0&&(h(w,"ghost-text"),m===void 0&&C.column<=f.length&&(m=C.column)),A=C.column-1}m!==void 0&&h([f.substring(A)],void 0),this.partsWidget.setParts(s.lineNumber,l,m!==void 0?{column:m,length:f.length+1-m}:void 0),this.additionalLinesWidget.updateLines(s.lineNumber,u,s.additionalReservedLineCount),s.parts.some(C=>C.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new me(s.lineNumber,this.editor.getModel().getLineMaxColumn(s.lineNumber)),"",0):((t=this.viewMoreContentWidget)===null||t===void 0||t.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(t,s,l){const u=this.editor.getOption(44),h=document.createElement("div");h.className="suggest-preview-additional-widget",_r(h,u);const f=document.createElement("span");f.className="content-spacer",f.append(s),h.append(f);const m=document.createElement("span");m.className="content-newline suggest-preview-text",m.append("\u23CE  "),h.append(m);const A=new je,C=document.createElement("div");return C.className="button suggest-preview-text",C.append(`+${l} lines\u2026`),A.add(zs(C,"mousedown",w=>{var k;(k=this.model)===null||k===void 0||k.setExpanded(!0),w.preventDefault(),this.editor.focus()})),h.append(C),new l9e(this.editor,t,h,A)}};iD=n9e([MB(2,ii),MB(3,yn)],iD);class s9e{constructor(t){this.editor=t,this.decorationIds=[],this.disposableStore=new je}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(t,s,l){if(this.disposableStore.clear(),!this.editor.getModel())return;const h=new Array;l&&h.push({range:$.fromPositions(new me(t,l.column),new me(t,l.column+l.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,s.map(f=>({range:$.fromPositions(new me(t,f.column)),options:{description:"ghost-text",after:{content:f.text,inlineClassName:f.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(h))}}class r9e{constructor(t,s){this.editor=t,this.languageIdCodec=s,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(t=>{this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(t,s,l){const u=this.editor.getModel();if(!u)return;const{tabSize:h}=u.getOptions();this.editor.changeViewZones(f=>{this._viewZoneId&&(f.removeZone(this._viewZoneId),this._viewZoneId=void 0);const m=Math.max(s.length,l);if(m>0){const A=document.createElement("div");o9e(A,h,s,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=f.addZone({afterLineNumber:t,heightInLines:m,domNode:A,afterColumnAffinity:1})}})}}function o9e(d,t,s,l,u){const h=l.get(29),f=l.get(105),m="none",A=l.get(83),C=l.get(45),w=l.get(44),k=l.get(59),D=Bd(1e4);D.appendASCIIString('<div class="suggest-preview-text">');for(let R=0,O=s.length;R<O;R++){const W=s[R],B=W.content;D.appendASCIIString('<div class="view-line'),D.appendASCIIString('" style="top:'),D.appendASCIIString(String(R*k)),D.appendASCIIString('px;width:1000000px;">');const z=bw(B),G=kw(B),K=ws.createEmpty(B,u);Nw(new yf(w.isMonospace&&!h,w.canUseHalfwidthRightwardsArrow,B,!1,z,G,0,K,W.decorations,t,0,w.spaceWidth,w.middotWidth,w.wsmiddotWidth,f,m,A,C!==il.OFF,null),D),D.appendASCIIString("</div>")}D.appendASCIIString("</div>"),_r(d,w);const I=D.build(),N=PB?PB.createHTML(I):I;d.innerHTML=N}class l9e extends Se{constructor(t,s,l,u){super(),this.editor=t,this.position=s,this.domNode=l,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(u),this._register($t(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}rn((d,t)=>{const s=d.getColor(tde);s&&(t.addRule(`.monaco-editor .ghost-text-decoration { color: ${s.toString()} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${s.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${s.toString()} !important; }`));const l=d.getColor(ide);l&&(t.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${l.toString()}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${l.toString()}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${l.toString()}; }`));const u=d.getColor(ede);u&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${u}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${u}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${u}; }`))});var Vj=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},nD=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},qv=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let Rs=class Hj extends Se{constructor(t,s){super(),this.editor=t,this.instantiationService=s,this.triggeredExplicitly=!1,this.activeController=this._register(new Yr),this.activeModelDidChangeEmitter=this._register(new he),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(l=>{l.hasChanged(106)&&this.updateModelController(),l.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(Hj.ID)}get activeModel(){var t;return(t=this.activeController.value)===null||t===void 0?void 0:t.model}updateModelController(){const t=this.editor.getOption(106),s=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(t.preview||s.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(sD,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(t){var s;return((s=this.activeModel)===null||s===void 0?void 0:s.shouldShowHoverAt(t))||!1}shouldShowHoverAtViewZone(t){var s,l;return((l=(s=this.activeController.value)===null||s===void 0?void 0:s.widget)===null||l===void 0?void 0:l.shouldShowHoverAtViewZone(t))||!1}trigger(){var t;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(t=this.activeModel)===null||t===void 0||t.triggerInlineCompletion()}commit(){var t;(t=this.activeModel)===null||t===void 0||t.commitInlineCompletion()}hide(){var t;(t=this.activeModel)===null||t===void 0||t.hideInlineCompletion()}showNextInlineCompletion(){var t;(t=this.activeModel)===null||t===void 0||t.showNextInlineCompletion()}showPreviousInlineCompletion(){var t;(t=this.activeModel)===null||t===void 0||t.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var t;return qv(this,void 0,void 0,function*(){const s=yield(t=this.activeModel)===null||t===void 0?void 0:t.hasMultipleInlineCompletions();return s!==void 0?s:!1})}};Rs.inlineSuggestionVisible=new rt("inlineSuggestionVisible",!1,E("inlineSuggestionVisible","Whether an inline suggestion is visible"));Rs.inlineSuggestionHasIndentation=new rt("inlineSuggestionHasIndentation",!1,E("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));Rs.inlineSuggestionHasIndentationLessThanTabSize=new rt("inlineSuggestionHasIndentationLessThanTabSize",!0,E("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));Rs.ID="editor.contrib.ghostTextController";Rs=Vj([nD(1,ii)],Rs);class a9e{constructor(t){this.contextKeyService=t,this.inlineCompletionVisible=Rs.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Rs.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Rs.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let sD=class extends Se{constructor(t,s,l){super(),this.editor=t,this.instantiationService=s,this.contextKeyService=l,this.contextKeys=new a9e(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(tD,this.editor)),this.widget=this._register(this.instantiationService.createInstance(iD,this.editor,this.model)),this._register($t(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var t;this.contextKeys.inlineCompletionVisible.set(((t=this.model.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText)!==void 0);let s=!1,l=!0;const u=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&u&&u.parts.length>0){const{column:h,lines:f}=u.parts[0],m=f[0],A=this.editor.getModel().getLineIndentColumn(u.lineNumber);if(h<=A){let w=Zr(m);w===-1&&(w=m.length-1),s=w>0;const k=this.editor.getModel().getOptions().tabSize;l=_s.visibleColumnFromColumn(m,w+1,k)<k}}this.contextKeys.inlineCompletionSuggestsIndentation.set(s),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(l)}};sD=Vj([nD(1,ii),nD(2,Mt)],sD);const Uj=nr.bindToContribution(Rs.get),Y4=new Uj({id:Dj,precondition:Rs.inlineSuggestionVisible,handler(d){d.commit(),d.editor.focus()}});Qe(Y4);$r.registerKeybindingRule({primary:2,weight:200,id:Y4.id,when:it.and(Y4.precondition,re.tabMovesFocus.toNegated(),Rs.inlineSuggestionHasIndentationLessThanTabSize)});Qe(new Uj({id:"editor.action.inlineSuggest.hide",precondition:Rs.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(d){d.hide()}}));class am extends lt{constructor(){super({id:am.ID,label:E("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:it.and(re.writable,Rs.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(t,s){return qv(this,void 0,void 0,function*(){const l=Rs.get(s);l&&(l.showNextInlineCompletion(),s.focus())})}}am.ID="editor.action.inlineSuggest.showNext";class cm extends lt{constructor(){super({id:cm.ID,label:E("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:it.and(re.writable,Rs.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(t,s){return qv(this,void 0,void 0,function*(){const l=Rs.get(s);l&&(l.showPreviousInlineCompletion(),s.focus())})}}cm.ID="editor.action.inlineSuggest.showPrevious";class c9e extends lt{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:E("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:re.writable})}run(t,s){return qv(this,void 0,void 0,function*(){const l=Rs.get(s);l&&l.trigger()})}}var u9e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},M1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};class h9e{constructor(t,s,l){this.owner=t,this.range=s,this.controller=l}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let rD=class{constructor(t,s,l,u,h,f,m){this._editor=t,this._commandService=s,this._menuService=l,this._contextKeyService=u,this._languageService=h,this._openerService=f,this.accessibilityService=m,this.hoverOrdinal=3}suggestHoverAnchor(t){const s=Rs.get(this._editor);if(!s)return null;const l=t.target;if(l.type===8){const u=l.detail;if(s.shouldShowHoverAtViewZone(u.viewZoneId))return new C3(1e3,this,$.fromPositions(u.positionBefore||u.position,u.positionBefore||u.position))}return l.type===7&&s.shouldShowHoverAt(l.range)?new C3(1e3,this,l.range):l.type===6&&l.detail.mightBeForeignElement&&s.shouldShowHoverAt(l.range)?new C3(1e3,this,l.range):null}computeSync(t,s){const l=Rs.get(this._editor);return l&&l.shouldShowHoverAt(t.range)?[new h9e(this,t.range,l)]:[]}renderHoverParts(t,s){const l=new je,u=s[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(t,u,l);const h=l.add(this._menuService.createMenu(ce.InlineCompletionsActions,this._contextKeyService)),f=t.statusBar.addAction({label:E("showNextInlineSuggestion","Next"),commandId:am.ID,run:()=>this._commandService.executeCommand(am.ID)}),m=t.statusBar.addAction({label:E("showPreviousInlineSuggestion","Previous"),commandId:cm.ID,run:()=>this._commandService.executeCommand(cm.ID)});t.statusBar.addAction({label:E("acceptInlineSuggestion","Accept"),commandId:Y4.id,run:()=>this._commandService.executeCommand(Y4.id)});const A=[f,m];for(const C of A)C.setEnabled(!1);u.hasMultipleSuggestions().then(C=>{for(const w of A)w.setEnabled(C)});for(const[C,w]of h.getActions())for(const k of w)k instanceof Qu&&t.statusBar.addAction({label:k.label,commandId:k.item.id,run:()=>this._commandService.executeCommand(k.item.id)});return l}renderScreenReaderText(t,s,l){var u,h;const f=Ue,m=f("div.hover-row.markdown-hover"),A=Re(m,f("div.hover-contents")),C=l.add(new Mc({editor:this._editor},this._languageService,this._openerService)),w=D=>{l.add(C.onDidRenderAsync(()=>{A.className="hover-contents code-hover-contents",t.onContentsChanged()}));const I=E("inlineSuggestionFollows","Suggestion:"),N=l.add(C.render(new rl().appendText(I).appendCodeblock("text",D)));A.replaceChildren(N.element)},k=(h=(u=s.controller.activeModel)===null||u===void 0?void 0:u.inlineCompletionsModel)===null||h===void 0?void 0:h.ghostText;if(k){const D=this._editor.getModel().getLineContent(k.lineNumber);w(k.renderForScreenReader(D))}t.fragment.appendChild(m)}};rD=u9e([M1(1,es),M1(2,Df),M1(3,Mt),M1(4,yn),M1(5,Zl),M1(6,Vo)],rD);Li(Rs.ID,Rs);$e(c9e);$e(am);$e(cm);Uf.register(rD);function Do(d,t){let s=0;for(let l=0;l<d.length;l++)d.charAt(l)==="	"?s+=t:s++;return s}function OA(d,t,s){d=d<0?0:d;let l="";if(!s){let u=Math.floor(d/t);d=d%t;for(let h=0;h<u;h++)l+="	"}for(let u=0;u<d;u++)l+=" ";return l}function zj(d,t,s,l,u){if(d.getLineCount()===1&&d.getLineMaxColumn(1)===1)return[];const h=t.getLanguageConfiguration(d.getLanguageId()).indentationRules;if(!h)return[];for(l=Math.min(l,d.getLineCount());s<=l&&h.unIndentedLinePattern;){let O=d.getLineContent(s);if(!h.unIndentedLinePattern.test(O))break;s++}if(s>l-1)return[];const{tabSize:f,indentSize:m,insertSpaces:A}=d.getOptions(),C=(O,W)=>(W=W||1,sl.shiftIndent(O,O.length+W,f,m,A)),w=(O,W)=>(W=W||1,sl.unshiftIndent(O,O.length+W,f,m,A));let k=[],D,I=d.getLineContent(s),N=I;if(u!=null){D=u;let O=Hi(I);N=D+I.substring(O.length),h.decreaseIndentPattern&&h.decreaseIndentPattern.test(N)&&(D=w(D),N=D+I.substring(O.length)),I!==N&&k.push(Vn.replaceMove(new et(s,1,s,O.length+1),hC(D,m,A)))}else D=Hi(I);let R=D;h.increaseIndentPattern&&h.increaseIndentPattern.test(N)?(R=C(R),D=C(D)):h.indentNextLinePattern&&h.indentNextLinePattern.test(N)&&(R=C(R)),s++;for(let O=s;O<=l;O++){let W=d.getLineContent(O),B=Hi(W),z=R+W.substring(B.length);h.decreaseIndentPattern&&h.decreaseIndentPattern.test(z)&&(R=w(R),D=w(D)),B!==R&&k.push(Vn.replaceMove(new et(O,1,O,B.length+1),hC(R,m,A))),!(h.unIndentedLinePattern&&h.unIndentedLinePattern.test(W))&&(h.increaseIndentPattern&&h.increaseIndentPattern.test(z)?(D=C(D),R=D):h.indentNextLinePattern&&h.indentNextLinePattern.test(z)?R=C(R):R=D)}return k}class ek extends lt{constructor(){super({id:ek.ID,label:E("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:re.writable})}run(t,s){let l=s.getModel();if(!l)return;let u=l.getOptions(),h=s.getSelection();if(!h)return;const f=new m9e(h,u.tabSize);s.pushUndoStop(),s.executeCommands(this.id,[f]),s.pushUndoStop(),l.updateOptions({insertSpaces:!0})}}ek.ID="editor.action.indentationToSpaces";class tk extends lt{constructor(){super({id:tk.ID,label:E("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:re.writable})}run(t,s){let l=s.getModel();if(!l)return;let u=l.getOptions(),h=s.getSelection();if(!h)return;const f=new p9e(h,u.tabSize);s.pushUndoStop(),s.executeCommands(this.id,[f]),s.pushUndoStop(),l.updateOptions({insertSpaces:!1})}}tk.ID="editor.action.indentationToTabs";class Gj extends lt{constructor(t,s){super(s),this.insertSpaces=t}run(t,s){const l=t.get(Oc),u=t.get(Ln);let h=s.getModel();if(!h)return;const f=u.getCreationOptions(h.getLanguageId(),h.uri,h.isForSimpleWidget),m=[1,2,3,4,5,6,7,8].map(C=>({id:C.toString(),label:C.toString(),description:C===f.tabSize?E("configuredTabSize","Configured Tab Size"):void 0})),A=Math.min(h.getOptions().tabSize-1,7);setTimeout(()=>{l.pick(m,{placeHolder:E({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:m[A]}).then(C=>{C&&h&&!h.isDisposed()&&h.updateOptions({tabSize:parseInt(C.label,10),insertSpaces:this.insertSpaces})})},50)}}class ik extends Gj{constructor(){super(!1,{id:ik.ID,label:E("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}ik.ID="editor.action.indentUsingTabs";class nk extends Gj{constructor(){super(!0,{id:nk.ID,label:E("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}nk.ID="editor.action.indentUsingSpaces";class sk extends lt{constructor(){super({id:sk.ID,label:E("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(t,s){const l=t.get(Ln);let u=s.getModel();if(!u)return;const h=l.getCreationOptions(u.getLanguageId(),u.uri,u.isForSimpleWidget);u.detectIndentation(h.insertSpaces,h.tabSize)}}sk.ID="editor.action.detectIndentation";class d9e extends lt{constructor(){super({id:"editor.action.reindentlines",label:E("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:re.writable})}run(t,s){const l=t.get(vr);let u=s.getModel();if(!u)return;let h=zj(u,l,1,u.getLineCount());h.length>0&&(s.pushUndoStop(),s.executeEdits(this.id,h),s.pushUndoStop())}}class f9e extends lt{constructor(){super({id:"editor.action.reindentselectedlines",label:E("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:re.writable})}run(t,s){const l=t.get(vr);let u=s.getModel();if(!u)return;let h=s.getSelections();if(h===null)return;let f=[];for(let m of h){let A=m.startLineNumber,C=m.endLineNumber;if(A!==C&&m.endColumn===1&&C--,A===1){if(A===C)continue}else A--;let w=zj(u,l,A,C);f.push(...w)}f.length>0&&(s.pushUndoStop(),s.executeEdits(this.id,f),s.pushUndoStop())}}class g9e{constructor(t,s){this._initialSelection=s,this._edits=[],this._selectionId=null;for(let l of t)l.range&&typeof l.text=="string"&&this._edits.push(l)}getEditOperations(t,s){for(let u of this._edits)s.addEditOperation($.lift(u.range),u.text);let l=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(l=!0,this._selectionId=s.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(l=!0,this._selectionId=s.trackSelection(this._initialSelection,!1))),l||(this._selectionId=s.trackSelection(this._initialSelection))}computeCursorState(t,s){return s.getTrackedSelection(this._selectionId)}}class oD{constructor(t){this.callOnDispose=new je,this.callOnModel=new je,this.editor=t,this.callOnDispose.add(t.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(t.onDidChangeModel(()=>this.update())),this.callOnDispose.add(t.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:t})=>{this.trigger(t)})))}trigger(t){let s=this.editor.getSelections();if(s===null||s.length>1)return;const l=this.editor.getModel();if(!l||!l.isCheapToTokenize(t.getStartPosition().lineNumber))return;const u=this.editor.getOption(9),{tabSize:h,indentSize:f,insertSpaces:m}=l.getOptions();let A=[],C={shiftIndent:I=>sl.shiftIndent(I,I.length+1,h,f,m),unshiftIndent:I=>sl.unshiftIndent(I,I.length+1,h,f,m)},w=t.startLineNumber;for(;w<=t.endLineNumber;){if(this.shouldIgnoreLine(l,w)){w++;continue}break}if(w>t.endLineNumber)return;let k=l.getLineContent(w);if(!/\S/.test(k.substring(0,t.startColumn-1))){const I=cs.getGoodIndentForLine(u,l,l.getLanguageId(),w,C);if(I!==null){let N=Hi(k),R=Do(I,h),O=Do(N,h);if(R!==O){let W=OA(R,h,m);A.push({range:new $(w,1,w,N.length+1),text:W}),k=W+k.substr(N.length)}else{let W=cs.getIndentMetadata(l,w);if(W===0||W===8)return}}}const D=w;for(;w<t.endLineNumber;){if(!/\S/.test(l.getLineContent(w+1))){w++;continue}break}if(w!==t.endLineNumber){let I={getLineTokens:R=>l.getLineTokens(R),getLanguageId:()=>l.getLanguageId(),getLanguageIdAtPosition:(R,O)=>l.getLanguageIdAtPosition(R,O),getLineContent:R=>R===D?k:l.getLineContent(R)},N=cs.getGoodIndentForLine(u,I,l.getLanguageId(),w+1,C);if(N!==null){let R=Do(N,h),O=Do(Hi(l.getLineContent(w+1)),h);if(R!==O){let W=R-O;for(let B=w+1;B<=t.endLineNumber;B++){let z=l.getLineContent(B),G=Hi(z),q=Do(G,h)+W,Y=OA(q,h,m);Y!==G&&A.push({range:new $(B,1,B,G.length+1),text:Y})}}}}if(A.length>0){this.editor.pushUndoStop();let I=new g9e(A,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",I),this.editor.pushUndoStop()}}shouldIgnoreLine(t,s){t.forceTokenization(s);let l=t.getLineFirstNonWhitespaceColumn(s);if(l===0)return!0;let u=t.getLineTokens(s);if(u.getCount()>0){let h=u.findTokenIndexAtOffset(l);if(h>=0&&u.getStandardTokenType(h)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}oD.ID="editor.contrib.autoIndentOnPaste";function jj(d,t,s,l){if(d.getLineCount()===1&&d.getLineMaxColumn(1)===1)return;let u="";for(let f=0;f<s;f++)u+=" ";let h=new RegExp(u,"gi");for(let f=1,m=d.getLineCount();f<=m;f++){let A=d.getLineFirstNonWhitespaceColumn(f);if(A===0&&(A=d.getLineMaxColumn(f)),A===1)continue;const C=new $(f,1,f,A),w=d.getValueInRange(C),k=l?w.replace(/\t/ig,u):w.replace(h,"	");t.addEditOperation(C,k)}}class m9e{constructor(t,s){this.selection=t,this.tabSize=s,this.selectionId=null}getEditOperations(t,s){this.selectionId=s.trackSelection(this.selection),jj(t,s,this.tabSize,!0)}computeCursorState(t,s){return s.getTrackedSelection(this.selectionId)}}class p9e{constructor(t,s){this.selection=t,this.tabSize=s,this.selectionId=null}getEditOperations(t,s){this.selectionId=s.trackSelection(this.selection),jj(t,s,this.tabSize,!1)}computeCursorState(t,s){return s.getTrackedSelection(this.selectionId)}}Li(oD.ID,oD);$e(ek);$e(tk);$e(ik);$e(nk);$e(sk);$e(d9e);$e(f9e);var dw=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class Zj{constructor(t,s){this.range=t,this.direction=s}}class ME{constructor(t,s,l){this.hint=t,this.anchor=s,this.provider=l,this._isResolved=!1}with(t){const s=new ME(this.hint,t.anchor,this.provider);return s._isResolved=this._isResolved,s._currentResolve=this._currentResolve,s}resolve(t){return dw(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var s,l;return dw(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(s=u?.tooltip)!==null&&s!==void 0?s:this.hint.tooltip,this.hint.label=(l=u?.label)!==null&&l!==void 0?l:this.hint.label,this._isResolved=!0}catch(u){Ms(u),this._isResolved=!1}})}}class $4{constructor(t,s,l){this._disposables=new je,this.ranges=t,this.provider=new Set;const u=[];for(const[h,f]of s){this._disposables.add(h),this.provider.add(f);for(const m of h.hints){let A=l.validatePosition(m.position),C="before";const w=$4._getRangeAtPosition(l,A);let k;w.getStartPosition().isBefore(A)?(k=$.fromPositions(w.getStartPosition(),A),C="after"):(k=$.fromPositions(A,w.getEndPosition()),C="before"),u.push(new ME(m,new Zj(k,C),f))}}this.items=u.sort((h,f)=>me.compare(h.hint.position,f.hint.position))}static create(t,s,l,u){return dw(this,void 0,void 0,function*(){const h=[],f=t.ordered(s).reverse().map(m=>l.map(A=>dw(this,void 0,void 0,function*(){try{const C=yield m.provideInlayHints(s,A,u);C?.hints.length&&h.push([C,m])}catch(C){Ms(C)}})));if(yield Promise.all(f.flat()),u.isCancellationRequested||s.isDisposed())throw new bf;return new $4(l,h,s)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,s){const l=s.lineNumber,u=t.getWordAtPosition(s);if(u)return new $(l,u.startColumn,l,u.endColumn);t.tokenizeIfCheap(l);const h=t.getLineTokens(l),f=s.column-1,m=h.findTokenIndexAtOffset(f);let A=h.getStartOffset(m),C=h.getEndOffset(m);return C-A===1&&(A===f&&m>1?(A=h.getStartOffset(m-1),C=h.getEndOffset(m-1)):C===f&&m<h.getCount()-1&&(A=h.getStartOffset(m+1),C=h.getEndOffset(m+1))),new $(l,A+1,l,C+1)}}function A9e(d){return Lt.from({scheme:zt.command,path:d.id,query:d.arguments&&encodeURIComponent(JSON.stringify(d.arguments))}).toString()}var FA=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};function _9e(d,t,s,l){var u;return FA(this,void 0,void 0,function*(){const h=d.get(Ao),f=d.get(uh),m=d.get(es),A=d.get(ii),C=d.get(is);if(yield l.item.resolve(ti.None),!l.part.location)return;const w=l.part.location,k=[],D=new Set(ul.getMenuItems(ce.EditorContext).map(N=>X1(N)?N.command.id:""));for(const N of kd.getEditorActions())N instanceof Hf&&D.has(N.id)&&k.push(new Po(N.id,N.label,void 0,!0,()=>FA(this,void 0,void 0,function*(){const R=yield h.createModelReference(w.uri);try{yield A.invokeFunction(N.run.bind(N),t,new W4(R.object.textEditorModel,$.getStartPosition(w.range)))}finally{R.dispose()}})));if(l.part.command){const{command:N}=l.part;k.push(new Ml),k.push(new Po(N.id,N.title,void 0,!0,()=>FA(this,void 0,void 0,function*(){var R;try{yield m.executeCommand(N.id,...(R=N.arguments)!==null&&R!==void 0?R:[])}catch(O){C.notify({severity:qH.Error,source:l.item.provider.displayName,message:O})}})))}const I=t.getOption(115);f.showContextMenu({domForShadowRoot:I&&(u=t.getDomNode())!==null&&u!==void 0?u:void 0,getAnchor:()=>{const N=Js(s);return{x:N.left,y:N.top+N.height+8}},getActions:()=>k,onHide:()=>{t.focus()},autoSelectFirstItem:!0})})}function C9e(d,t,s,l){return FA(this,void 0,void 0,function*(){const h=yield d.get(Ao).createModelReference(l.uri);yield s.invokeWithinContext(f=>FA(this,void 0,void 0,function*(){const m=t.hasSideBySideModifier,A=f.get(Mt),C=po.inPeekEditor.getValue(A),w=!m&&s.getOption(78)&&!C;return new M_({openToSide:m,openInPeek:w,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(f,s,{model:h.object.textEditorModel,position:$.getStartPosition(l.range)})})),h.dispose()})}var w9e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},P1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},G1=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class fw{constructor(){this._entries=new dh(50)}get(t){const s=fw._key(t);return this._entries.get(s)}set(t,s){const l=fw._key(t);this._entries.set(l,s)}static _key(t){return`${t.uri.toString()}/${t.getVersionId()}`}}const Qj=hi("IInlayHintsCache");Ci(Qj,fw,!0);class lD{constructor(t,s){this.item=t,this.index=s}get part(){const t=this.item.hint.label;return typeof t=="string"?{label:t}:t[this.index]}}class v9e{constructor(t,s){this.part=t,this.hasTriggerModifier=s}}let hf=class aD{constructor(t,s,l,u,h,f,m){this._editor=t,this._languageFeaturesService=s,this._inlayHintsCache=u,this._commandService=h,this._notificationService=f,this._instaService=m,this._disposables=new je,this._sessionDisposables=new je,this._decorationsMetadata=new Map,this._ruleFactory=new g_(this._editor),this._debounceInfo=l.for(s.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(s.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(A=>{A.hasChanged(127)&&this._update()})),this._update()}static get(t){var s;return(s=t.getContribution(aD.ID))!==null&&s!==void 0?s:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const s=this._inlayHintsCache.get(t);s&&this._updateHintsDecorators([t.getFullModelRange()],s),this._sessionDisposables.add($t(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let l,u=new Set;const h=new zi(()=>G1(this,void 0,void 0,function*(){const f=Date.now();l?.dispose(!0),l=new tr;const m=t.onWillDispose(()=>l?.cancel());try{const A=l.token,C=yield $4.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),A);if(h.delay=this._debounceInfo.update(t,Date.now()-f),A.isCancellationRequested){C.dispose();return}for(const w of C.provider)typeof w.onDidChangeInlayHints=="function"&&!u.has(w)&&(u.add(w),this._sessionDisposables.add(w.onDidChangeInlayHints(()=>{h.isScheduled()||h.schedule()})));this._sessionDisposables.add(C),this._updateHintsDecorators(C.ranges,C.items),this._cacheHintsForFastRestore(t)}catch(A){Bt(A)}finally{l.dispose(),m.dispose()}}),this._debounceInfo.get(t));this._sessionDisposables.add(h),this._sessionDisposables.add($t(()=>l?.dispose(!0))),h.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(f=>{(f.scrollTopChanged||!h.isScheduled())&&h.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(f=>{const m=Math.max(h.delay,1250);h.schedule(m)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installDblClickGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const t=new je,s=t.add(new gE(this._editor)),l=new je;return t.add(l),t.add(s.onMouseMoveOrRelevantKeyDown(u=>{const[h]=u,f=this._getInlayHintLabelPart(h),m=this._editor.getModel();if(!f||!m){l.clear();return}const A=new tr;l.add($t(()=>A.dispose(!0))),f.item.resolve(A.token),this._activeInlayHintPart=f.part.command||f.part.location?new v9e(f,h.hasTriggerModifier):void 0;const C=f.item.hint.position.lineNumber,w=new $(C,1,C,m.getLineMaxColumn(C)),k=new Set;for(const D of this._decorationsMetadata.values())w.containsRange(D.item.anchor.range)&&k.add(D.item);this._updateHintsDecorators([w],Array.from(k)),l.add($t(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([w],Array.from(k))}))})),t.add(s.onCancel(()=>l.clear())),t.add(s.onExecute(u=>G1(this,void 0,void 0,function*(){const h=this._getInlayHintLabelPart(u);if(h){const f=h.part;f.location?this._instaService.invokeFunction(C9e,u,this._editor,f.location):SS.is(f.command)&&(yield this._invokeCommand(f.command,h.item))}}))),t}_installDblClickGesture(){return this._editor.onMouseUp(t=>G1(this,void 0,void 0,function*(){if(t.event.detail!==2)return;const s=this._getInlayHintLabelPart(t);!s||(t.event.preventDefault(),yield s.item.resolve(ti.None),s.item.hint.command&&(yield this._invokeCommand(s.item.hint.command,s.item)))}))}_installContextMenu(){return this._editor.onContextMenu(t=>G1(this,void 0,void 0,function*(){if(!(t.event.target instanceof HTMLElement))return;const s=this._getInlayHintLabelPart(t);s&&(yield this._instaService.invokeFunction(_9e,this._editor,t.event.target,s))}))}_getInlayHintLabelPart(t){var s;if(t.target.type!==6)return;const l=(s=t.target.detail.injectedText)===null||s===void 0?void 0:s.options;if(l instanceof Kd&&l?.attachedData instanceof lD)return l.attachedData}_invokeCommand(t,s){var l;return G1(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(t.id,...(l=t.arguments)!==null&&l!==void 0?l:[])}catch(u){this._notificationService.notify({severity:qH.Error,source:s.provider.displayName,message:u})}})}_cacheHintsForFastRestore(t){const s=new Map;for(const[l,u]of this._decorationsMetadata){if(s.has(u.item))continue;let h=u.item;const f=t.getDecorationRange(l);if(f){const m=new Zj(f,u.item.anchor.direction);h=u.item.with({anchor:m})}s.set(u.item,h)}this._inlayHintsCache.set(t,Array.from(s.values()))}_getHintsRanges(){const s=this._editor.getModel(),l=this._editor.getVisibleRangesPlusViewportAboveBelow(),u=[];for(const h of l.sort($.compareRangesUsingStarts)){const f=s.validateRange(new $(h.startLineNumber-30,h.startColumn,h.endLineNumber+30,h.endColumn));u.length===0||!$.areIntersectingOrTouching(u[u.length-1],f)?u.push(f):u[u.length-1]=$.plusRange(u[u.length-1],f)}return u}_updateHintsDecorators(t,s){var l,u;const h=[],f=(I,N,R,O,W)=>{h.push({item:I,classNameRef:N,decoration:{range:I.anchor.range,options:{description:"InlayHint",showIfCollapsed:I.anchor.range.isEmpty(),collapseOnReplaceEdit:!I.anchor.range.isEmpty(),stickiness:0,[I.anchor.direction]:{content:R,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:N.className,cursorStops:O,attachedData:W}}}})},m=(I,N)=>{const R=this._ruleFactory.createClassNameRef({width:`${A/3|0}px`,display:"inline-block"});f(I,R,"\u200A",N?r0.Right:r0.None)},{fontSize:A,fontFamily:C}=this._getLayoutInfo(),w="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(w,C);for(const I of s){I.hint.paddingLeft&&m(I,!1);const N=typeof I.hint.label=="string"?[{label:I.hint.label}]:I.hint.label;for(let R=0;R<N.length;R++){const O=N[R],W=R===0,B=R===N.length-1,z={fontSize:`${A}px`,fontFamily:`var(${w}), ${Or.fontFamily}`,verticalAlign:"middle"};I.hint.command&&(z.cursor="pointer"),this._fillInColors(z,I.hint),(O.command||O.location)&&((l=this._activeInlayHintPart)===null||l===void 0?void 0:l.part.item)===I&&this._activeInlayHintPart.part.index===R&&(z.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(z.color=Wn(FI),z.cursor="pointer")),W&&B?(z.padding=`1px ${Math.max(1,A/4)|0}px`,z.borderRadius=`${A/4|0}px`):W?(z.padding=`1px 0 1px ${Math.max(1,A/4)|0}px`,z.borderRadius=`${A/4|0}px 0 0 ${A/4|0}px`):B?(z.padding=`1px ${Math.max(1,A/4)|0}px 1px 0`,z.borderRadius=`0 ${A/4|0}px ${A/4|0}px 0`):z.padding="1px 0 1px 0",f(I,this._ruleFactory.createClassNameRef(z),k9e(O.label),B&&!I.hint.paddingRight?r0.Right:r0.None,new lD(I,R))}if(I.hint.paddingRight&&m(I,!0),h.length>aD._MAX_DECORATORS)break}const k=[];for(const I of t)for(const{id:N}of(u=this._editor.getDecorationsInRange(I))!==null&&u!==void 0?u:[]){const R=this._decorationsMetadata.get(N);R&&(k.push(N),R.classNameRef.dispose(),this._decorationsMetadata.delete(N))}const D=this._editor.deltaDecorations(k,h.map(I=>I.decoration));for(let I=0;I<D.length;I++){const N=h[I];this._decorationsMetadata.set(D[I],{item:N.item,classNameRef:N.classNameRef})}}_fillInColors(t,s){s.kind===z3.Parameter?(t.backgroundColor=Wn(Cue),t.color=Wn(_ue)):s.kind===z3.Type?(t.backgroundColor=Wn(Aue),t.color=Wn(pue)):(t.backgroundColor=Wn(Ld),t.color=Wn(yd))}_getLayoutInfo(){const t=this._editor.getOption(127),s=this._editor.getOption(46);let l=t.fontSize;(!l||l<5||l>s)&&(l=s*.9|0);const u=t.fontFamily||this._editor.getOption(43);return{fontSize:l,fontFamily:u}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let t of this._decorationsMetadata.values())t.classNameRef.dispose();this._decorationsMetadata.clear()}};hf.ID="editor.contrib.InlayHints";hf._MAX_DECORATORS=1500;hf=w9e([P1(1,ut),P1(2,jl),P1(3,Qj),P1(4,es),P1(5,is),P1(6,ii)],hf);function k9e(d){const t="\xA0";return d.replace(/[ \t]/g,t)}pi.registerCommand("_executeInlayHintProvider",(d,...t)=>G1(void 0,void 0,void 0,function*(){const[s,l]=t;Zi(Lt.isUri(s)),Zi($.isIRange(l));const{inlayHintsProvider:u}=d.get(ut),h=yield d.get(Ao).createModelReference(s);try{const f=yield $4.create(u,h.object.textEditorModel,[$.lift(l)],ti.None),m=f.items.map(A=>A.hint);return setTimeout(()=>f.dispose(),0),m}finally{h.dispose()}}));var b9e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},jp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},OB=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},S9e=globalThis&&globalThis.__asyncValues||function(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=d[Symbol.asyncIterator],s;return t?t.call(d):(d=typeof __values=="function"?__values(d):d[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(h){s[h]=d[h]&&function(f){return new Promise(function(m,A){f=d[h](f),u(m,A,f.done,f.value)})}}function u(h,f,m,A){Promise.resolve(A).then(function(C){h({value:C,done:m})},f)}};class FB extends C3{constructor(t,s){super(10,s,t.item.anchor.range),this.part=t}}let cD=class extends aw{constructor(t,s,l,u,h,f){super(t,s,l,u,f),this._resolverService=h,this.hoverOrdinal=6}suggestHoverAnchor(t){var s;if(!hf.get(this._editor)||t.target.type!==6)return null;const u=(s=t.target.detail.injectedText)===null||s===void 0?void 0:s.options;return u instanceof Kd&&u.attachedData instanceof lD?new FB(u.attachedData,this):null}computeSync(){return[]}computeAsync(t,s,l){return t instanceof FB?new Jn(u=>OB(this,void 0,void 0,function*(){var h,f;const{part:m}=t;if(yield m.item.resolve(l),l.isCancellationRequested)return;let A;typeof m.item.hint.tooltip=="string"?A=new rl().appendText(m.item.hint.tooltip):m.item.hint.tooltip&&(A=m.item.hint.tooltip),A&&u.emitOne(new Cc(this,t.range,[A],0));let C;if(typeof m.part.tooltip=="string"?C=new rl().appendText(m.part.tooltip):m.part.tooltip&&(C=m.part.tooltip),C&&u.emitOne(new Cc(this,t.range,[C],1)),m.part.location||m.part.command){let I;const R=this._editor.getOption(70)==="altKey"?Jt?E("links.navigate.kb.meta.mac","cmd + click"):E("links.navigate.kb.meta","ctrl + click"):Jt?E("links.navigate.kb.alt.mac","option + click"):E("links.navigate.kb.alt","alt + click");m.part.location&&m.part.command?I=new rl().appendText(E("hint.defAndCommand","Go to Definition ({0}), right click for more",R)):m.part.location?I=new rl().appendText(E("hint.def","Go to Definition ({0})",R)):m.part.command&&(I=new rl(`[${E("hint.cmd","Execute Command")}](${A9e(m.part.command)} "${m.part.command.title}") (${R})`,{isTrusted:!0})),I&&u.emitOne(new Cc(this,t.range,[I],1e4))}const w=yield this._resolveInlayHintLabelPartHover(m,l);try{for(var k=S9e(w),D;D=yield k.next(),!D.done;){let I=D.value;u.emitOne(I)}}catch(I){h={error:I}}finally{try{D&&!D.done&&(f=k.return)&&(yield f.call(k))}finally{if(h)throw h.error}}})):Jn.EMPTY}_resolveInlayHintLabelPartHover(t,s){return OB(this,void 0,void 0,function*(){if(!t.part.location)return Jn.EMPTY;const{uri:l,range:u}=t.part.location,h=yield this._resolverService.createModelReference(l);try{const f=h.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(f)?bE(this._languageFeaturesService.hoverProvider,f,new me(u.startLineNumber,u.startColumn),s).filter(m=>!Xg(m.hover.contents)).map(m=>new Cc(this,t.item.anchor.range,m.hover.contents,2+m.ordinal)):Jn.EMPTY}finally{h.dispose()}})}};cD=b9e([jp(1,yn),jp(2,Zl),jp(3,Yi),jp(4,Ao),jp(5,ut)],cD);Li(hf.ID,hf);Uf.register(cD);class y9e{constructor(t,s,l){this._editRange=t,this._originalSelection=s,this._text=l}getEditOperations(t,s){s.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(t,s){const u=s.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new et(u.endLineNumber,Math.min(this._originalSelection.positionColumn,u.endColumn),u.endLineNumber,Math.min(this._originalSelection.positionColumn,u.endColumn)):new et(u.endLineNumber,u.endColumn-this._text.length,u.endLineNumber,u.endColumn)}}var L9e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},D9e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let lh=class uD{constructor(t,s){this.decorationIds=[],this.editor=t,this.editorWorkerService=s}static get(t){return t.getContribution(uD.ID)}dispose(){}run(t,s){this.currentRequest&&this.currentRequest.cancel();const l=this.editor.getSelection(),u=this.editor.getModel();if(!u||!l)return;let h=l;if(h.startLineNumber!==h.endLineNumber)return;const f=new R4(this.editor,5),m=u.uri;return this.editorWorkerService.canNavigateValueSet(m)?(this.currentRequest=js(A=>this.editorWorkerService.navigateValueSet(m,h,s)),this.currentRequest.then(A=>{if(!A||!A.range||!A.value||!f.validate(this.editor))return;let C=$.lift(A.range),w=A.range,k=A.value.length-(h.endColumn-h.startColumn);w={startLineNumber:w.startLineNumber,startColumn:w.startColumn,endLineNumber:w.endLineNumber,endColumn:w.startColumn+A.value.length},k>1&&(h=new et(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+k-1));const D=new y9e(C,h,A.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,D),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:w,options:uD.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=zu(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Bt)}).catch(Bt)):Promise.resolve(void 0)}};lh.ID="editor.contrib.inPlaceReplaceController";lh.DECORATION=Qt.register({description:"in-place-replace",className:"valueSetReplacement"});lh=L9e([D9e(1,Gl)],lh);class I9e extends lt{constructor(){super({id:"editor.action.inPlaceReplace.up",label:E("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:3154,weight:100}})}run(t,s){const l=lh.get(s);return l?l.run(this.id,!0):Promise.resolve(void 0)}}class x9e extends lt{constructor(){super({id:"editor.action.inPlaceReplace.down",label:E("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:3156,weight:100}})}run(t,s){const l=lh.get(s);return l?l.run(this.id,!1):Promise.resolve(void 0)}}Li(lh.ID,lh);$e(I9e);$e(x9e);rn((d,t)=>{const s=d.getColor(fH);s&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${s}; }`)});class E9e extends lt{constructor(){super({id:"expandLineSelection",label:E("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:re.textInputFocus,primary:2090}})}run(t,s,l){if(l=l||{},!s.hasModel())return;const u=s._getViewModel();u.model.pushStackElement(),u.setCursorStates(l.source,3,Vs.expandLineSelection(u,u.getCursorStates())),u.revealPrimaryCursor(l.source,!0)}}$e(E9e);class N9e{constructor(t,s){this._selection=t,this._cursors=s,this._selectionId=null}getEditOperations(t,s){const l=T9e(t,this._cursors);for(let u=0,h=l.length;u<h;u++){const f=l[u];s.addEditOperation(f.range,f.text)}this._selectionId=s.trackSelection(this._selection)}computeCursorState(t,s){return s.getTrackedSelection(this._selectionId)}}function T9e(d,t){t.sort((f,m)=>f.lineNumber===m.lineNumber?f.column-m.column:f.lineNumber-m.lineNumber);for(let f=t.length-2;f>=0;f--)t[f].lineNumber===t[f+1].lineNumber&&t.splice(f,1);const s=[];let l=0,u=0;const h=t.length;for(let f=1,m=d.getLineCount();f<=m;f++){const A=d.getLineContent(f),C=A.length+1;let w=0;if(u<h&&t[u].lineNumber===f&&(w=t[u].column,u++,w===C)||A.length===0)continue;const k=u0(A);let D=0;if(k===-1)D=1;else if(k!==A.length-1)D=k+2;else continue;D=Math.max(w,D),s[l++]=Vn.delete(new $(f,D,f,C))}return s}class Yj{constructor(t,s,l){this._selection=t,this._isCopyingDown=s,this._noop=l||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(t,s){let l=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._endLineNumberDelta=1,l=l.setEndPosition(l.endLineNumber-1,t.getLineMaxColumn(l.endLineNumber-1)));let u=[];for(let f=l.startLineNumber;f<=l.endLineNumber;f++)u.push(t.getLineContent(f));const h=u.join(`
`);h===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?s.addEditOperation(new $(l.endLineNumber,t.getLineMaxColumn(l.endLineNumber),l.endLineNumber+1,1),l.endLineNumber===t.getLineCount()?"":`
`):this._isCopyingDown?s.addEditOperation(new $(l.startLineNumber,1,l.startLineNumber,1),h+`
`):s.addEditOperation(new $(l.endLineNumber,t.getLineMaxColumn(l.endLineNumber),l.endLineNumber,t.getLineMaxColumn(l.endLineNumber)),`
`+h),this._selectionId=s.trackSelection(l),this._selectionDirection=this._selection.getDirection()}computeCursorState(t,s){let l=s.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=l.startLineNumber,h=l.startColumn,f=l.endLineNumber,m=l.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,h=1),this._endLineNumberDelta!==0&&(f=f+this._endLineNumberDelta,m=1),l=et.createWithDirection(u,h,f,m,this._selectionDirection)}return l}}class R9e{constructor(t,s,l){this._selection=t,this._isMovingDown=s,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,s){let l=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=s.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=s.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let u=this._selection;u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,t.getLineMaxColumn(u.endLineNumber-1)));const{tabSize:h,indentSize:f,insertSpaces:m}=t.getOptions();let A=this.buildIndentConverter(h,f,m),C={getLineTokens:w=>t.getLineTokens(w),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(w,k)=>t.getLanguageIdAtPosition(w,k),getLineContent:null};if(u.startLineNumber===u.endLineNumber&&t.getLineMaxColumn(u.startLineNumber)===1){let w=u.startLineNumber,k=this._isMovingDown?w+1:w-1;t.getLineMaxColumn(k)===1?s.addEditOperation(new $(1,1,1,1),null):(s.addEditOperation(new $(w,1,w,1),t.getLineContent(k)),s.addEditOperation(new $(k,1,k,t.getLineMaxColumn(k)),null)),u=new et(k,1,k,1)}else{let w,k;if(this._isMovingDown){w=u.endLineNumber+1,k=t.getLineContent(w),s.addEditOperation(new $(w-1,t.getLineMaxColumn(w-1),w,t.getLineMaxColumn(w)),null);let D=k;if(this.shouldAutoIndent(t,u)){let I=this.matchEnterRule(t,A,h,w,u.startLineNumber-1);if(I!==null){let R=Hi(t.getLineContent(w)),O=I+Do(R,h);D=OA(O,h,m)+this.trimLeft(k)}else{C.getLineContent=O=>O===u.startLineNumber?t.getLineContent(w):t.getLineContent(O);let R=cs.getGoodIndentForLine(this._autoIndent,C,t.getLanguageIdAtPosition(w,1),u.startLineNumber,A);if(R!==null){let O=Hi(t.getLineContent(w)),W=Do(R,h),B=Do(O,h);W!==B&&(D=OA(W,h,m)+this.trimLeft(k))}}s.addEditOperation(new $(u.startLineNumber,1,u.startLineNumber,1),D+`
`);let N=this.matchEnterRuleMovingDown(t,A,h,u.startLineNumber,w,D);if(N!==null)N!==0&&this.getIndentEditsOfMovingBlock(t,s,u,h,m,N);else{C.getLineContent=O=>O===u.startLineNumber?D:O>=u.startLineNumber+1&&O<=u.endLineNumber+1?t.getLineContent(O-1):t.getLineContent(O);let R=cs.getGoodIndentForLine(this._autoIndent,C,t.getLanguageIdAtPosition(w,1),u.startLineNumber+1,A);if(R!==null){const O=Hi(t.getLineContent(u.startLineNumber)),W=Do(R,h),B=Do(O,h);if(W!==B){const z=W-B;this.getIndentEditsOfMovingBlock(t,s,u,h,m,z)}}}}else s.addEditOperation(new $(u.startLineNumber,1,u.startLineNumber,1),D+`
`)}else if(w=u.startLineNumber-1,k=t.getLineContent(w),s.addEditOperation(new $(w,1,w+1,1),null),s.addEditOperation(new $(u.endLineNumber,t.getLineMaxColumn(u.endLineNumber),u.endLineNumber,t.getLineMaxColumn(u.endLineNumber)),`
`+k),this.shouldAutoIndent(t,u)){C.getLineContent=I=>I===w?t.getLineContent(u.startLineNumber):t.getLineContent(I);let D=this.matchEnterRule(t,A,h,u.startLineNumber,u.startLineNumber-2);if(D!==null)D!==0&&this.getIndentEditsOfMovingBlock(t,s,u,h,m,D);else{let I=cs.getGoodIndentForLine(this._autoIndent,C,t.getLanguageIdAtPosition(u.startLineNumber,1),w,A);if(I!==null){let N=Hi(t.getLineContent(u.startLineNumber)),R=Do(I,h),O=Do(N,h);if(R!==O){let W=R-O;this.getIndentEditsOfMovingBlock(t,s,u,h,m,W)}}}}}this._selectionId=s.trackSelection(u)}buildIndentConverter(t,s,l){return{shiftIndent:u=>sl.shiftIndent(u,u.length+1,t,s,l),unshiftIndent:u=>sl.unshiftIndent(u,u.length+1,t,s,l)}}parseEnterResult(t,s,l,u,h){if(h){let f=h.indentation;h.indentAction===Xn.None||h.indentAction===Xn.Indent?f=h.indentation+h.appendText:h.indentAction===Xn.IndentOutdent?f=h.indentation:h.indentAction===Xn.Outdent&&(f=s.unshiftIndent(h.indentation)+h.appendText);let m=t.getLineContent(u);if(this.trimLeft(m).indexOf(this.trimLeft(f))>=0){let A=Hi(t.getLineContent(u)),C=Hi(f),w=cs.getIndentMetadata(t,u);w!==null&&w&2&&(C=s.unshiftIndent(C));let k=Do(C,l),D=Do(A,l);return k-D}}return null}matchEnterRuleMovingDown(t,s,l,u,h,f){if(u0(f)>=0){let m=t.getLineMaxColumn(h),A=cs.getEnterAction(this._autoIndent,t,new $(h,m,h,m));return this.parseEnterResult(t,s,l,u,A)}else{let m=u-1;for(;m>=1;){let w=t.getLineContent(m);if(u0(w)>=0)break;m--}if(m<1||u>t.getLineCount())return null;let A=t.getLineMaxColumn(m),C=cs.getEnterAction(this._autoIndent,t,new $(m,A,m,A));return this.parseEnterResult(t,s,l,u,C)}}matchEnterRule(t,s,l,u,h,f){let m=h;for(;m>=1;){let w;if(m===h&&f!==void 0?w=f:w=t.getLineContent(m),u0(w)>=0)break;m--}if(m<1||u>t.getLineCount())return null;let A=t.getLineMaxColumn(m),C=cs.getEnterAction(this._autoIndent,t,new $(m,A,m,A));return this.parseEnterResult(t,s,l,u,C)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,s){if(this._autoIndent<4||!t.isCheapToTokenize(s.startLineNumber))return!1;let l=t.getLanguageIdAtPosition(s.startLineNumber,1),u=t.getLanguageIdAtPosition(s.endLineNumber,1);return!(l!==u||cs.getIndentRulesSupport(l)===null)}getIndentEditsOfMovingBlock(t,s,l,u,h,f){for(let m=l.startLineNumber;m<=l.endLineNumber;m++){let A=t.getLineContent(m),C=Hi(A),k=Do(C,u)+f,D=OA(k,u,h);D!==C&&(s.addEditOperation(new $(m,1,m,C.length+1),D),m===l.endLineNumber&&l.endColumn<=C.length+1&&D===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,s){let l=s.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}}class Bu{constructor(t,s){this.selection=t,this.descending=s,this.selectionId=null}static getCollator(){return Bu._COLLATOR||(Bu._COLLATOR=new Intl.Collator),Bu._COLLATOR}getEditOperations(t,s){let l=M9e(t,this.selection,this.descending);l&&s.addEditOperation(l.range,l.text),this.selectionId=s.trackSelection(this.selection)}computeCursorState(t,s){return s.getTrackedSelection(this.selectionId)}static canRun(t,s,l){if(t===null)return!1;let u=$j(t,s,l);if(!u)return!1;for(let h=0,f=u.before.length;h<f;h++)if(u.before[h]!==u.after[h])return!0;return!1}}Bu._COLLATOR=null;function $j(d,t,s){let l=t.startLineNumber,u=t.endLineNumber;if(t.endColumn===1&&u--,l>=u)return null;let h=[];for(let m=l;m<=u;m++)h.push(d.getLineContent(m));let f=h.slice(0);return f.sort(Bu.getCollator().compare),s===!0&&(f=f.reverse()),{startLineNumber:l,endLineNumber:u,before:h,after:f}}function M9e(d,t,s){let l=$j(d,t,s);return l?Vn.replace(new $(l.startLineNumber,1,l.endLineNumber,d.getLineMaxColumn(l.endLineNumber)),l.after.join(`
`)):null}class Kj extends lt{constructor(t,s){super(s),this.down=t}run(t,s){if(!s.hasModel())return;const l=s.getSelections().map((f,m)=>({selection:f,index:m,ignore:!1}));l.sort((f,m)=>$.compareRangesUsingStarts(f.selection,m.selection));let u=l[0];for(let f=1;f<l.length;f++){const m=l[f];u.selection.endLineNumber===m.selection.startLineNumber&&(u.index<m.index?m.ignore=!0:(u.ignore=!0,u=m))}const h=[];for(const f of l)h.push(new Yj(f.selection,this.down,f.ignore));s.pushUndoStop(),s.executeCommands(this.id,h),s.pushUndoStop()}}class P9e extends Kj{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:E("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"2_line",title:E({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class O9e extends Kj{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:E("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"2_line",title:E({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class F9e extends lt{constructor(){super({id:"editor.action.duplicateSelection",label:E("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:re.writable,menuOpts:{menuId:ce.MenubarSelectionMenu,group:"2_line",title:E({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(t,s,l){if(!s.hasModel())return;const u=[],h=s.getSelections(),f=s.getModel();for(const m of h)if(m.isEmpty())u.push(new Yj(m,!0));else{const A=new et(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn);u.push(new xde(A,f.getValueInRange(m)))}s.pushUndoStop(),s.executeCommands(this.id,u),s.pushUndoStop()}}class Xj extends lt{constructor(t,s){super(s),this.down=t}run(t,s){let l=[],u=s.getSelections()||[];const h=s.getOption(9);for(const f of u)l.push(new R9e(f,this.down,h));s.pushUndoStop(),s.executeCommands(this.id,l),s.pushUndoStop()}}class B9e extends Xj{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:E("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"2_line",title:E({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class W9e extends Xj{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:E("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"2_line",title:E({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class Jj extends lt{constructor(t,s){super(s),this.descending=t}run(t,s){const l=s.getSelections()||[];for(const h of l)if(!Bu.canRun(s.getModel(),h,this.descending))return;let u=[];for(let h=0,f=l.length;h<f;h++)u[h]=new Bu(l[h],this.descending);s.pushUndoStop(),s.executeCommands(this.id,u),s.pushUndoStop()}}class V9e extends Jj{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:E("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:re.writable})}}class H9e extends Jj{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:E("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:re.writable})}}class U9e extends lt{constructor(){super({id:"editor.action.removeDuplicateLines",label:E("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:re.writable})}run(t,s){if(!s.hasModel())return;let l=s.getModel();if(l.getLineCount()===1&&l.getLineMaxColumn(1)===1)return;let u=[],h=[],f=0;for(let m of s.getSelections()){let A=new Set,C=[];for(let I=m.startLineNumber;I<=m.endLineNumber;I++){let N=l.getLineContent(I);A.has(N)||(C.push(N),A.add(N))}let w=new et(m.startLineNumber,1,m.endLineNumber,l.getLineMaxColumn(m.endLineNumber)),k=m.startLineNumber-f,D=new et(k,1,k+C.length-1,C[C.length-1].length);u.push(Vn.replace(w,C.join(`
`))),h.push(D),f+=m.endLineNumber-m.startLineNumber+1-C.length}s.pushUndoStop(),s.executeEdits(this.id,u,h),s.pushUndoStop()}}class rk extends lt{constructor(){super({id:rk.ID,label:E("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:Ps(2089,2102),weight:100}})}run(t,s,l){let u=[];l.reason==="auto-save"&&(u=(s.getSelections()||[]).map(m=>new me(m.positionLineNumber,m.positionColumn)));let h=s.getSelection();if(h===null)return;let f=new N9e(h,u);s.pushUndoStop(),s.executeCommands(this.id,[f]),s.pushUndoStop()}}rk.ID="editor.action.trimTrailingWhitespace";class z9e extends lt{constructor(){super({id:"editor.action.deleteLines",label:E("lines.delete","Delete Line"),alias:"Delete Line",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:3113,weight:100}})}run(t,s){if(!s.hasModel())return;let l=this._getLinesToRemove(s),u=s.getModel();if(u.getLineCount()===1&&u.getLineMaxColumn(1)===1)return;let h=0,f=[],m=[];for(let A=0,C=l.length;A<C;A++){const w=l[A];let k=w.startLineNumber,D=w.endLineNumber,I=1,N=u.getLineMaxColumn(D);D<u.getLineCount()?(D+=1,N=1):k>1&&(k-=1,I=u.getLineMaxColumn(k)),f.push(Vn.replace(new et(k,I,D,N),"")),m.push(new et(k-h,w.positionColumn,k-h,w.positionColumn)),h+=w.endLineNumber-w.startLineNumber+1}s.pushUndoStop(),s.executeEdits(this.id,f,m),s.pushUndoStop()}_getLinesToRemove(t){let s=t.getSelections().map(h=>{let f=h.endLineNumber;return h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(f-=1),{startLineNumber:h.startLineNumber,selectionStartColumn:h.selectionStartColumn,endLineNumber:f,positionColumn:h.positionColumn}});s.sort((h,f)=>h.startLineNumber===f.startLineNumber?h.endLineNumber-f.endLineNumber:h.startLineNumber-f.startLineNumber);let l=[],u=s[0];for(let h=1;h<s.length;h++)u.endLineNumber+1>=s[h].startLineNumber?u.endLineNumber=s[h].endLineNumber:(l.push(u),u=s[h]);return l.push(u),l}}class G9e extends lt{constructor(){super({id:"editor.action.indentLines",label:E("lines.indent","Indent Line"),alias:"Indent Line",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:2137,weight:100}})}run(t,s){const l=s._getViewModel();!l||(s.pushUndoStop(),s.executeCommands(this.id,vn.indent(l.cursorConfig,s.getModel(),s.getSelections())),s.pushUndoStop())}}class j9e extends lt{constructor(){super({id:"editor.action.outdentLines",label:E("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:2135,weight:100}})}run(t,s){wg.Outdent.runEditorCommand(t,s,null)}}class Z9e extends lt{constructor(){super({id:"editor.action.insertLineBefore",label:E("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:3075,weight:100}})}run(t,s){const l=s._getViewModel();!l||(s.pushUndoStop(),s.executeCommands(this.id,vn.lineInsertBefore(l.cursorConfig,s.getModel(),s.getSelections())))}}class Q9e extends lt{constructor(){super({id:"editor.action.insertLineAfter",label:E("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:2051,weight:100}})}run(t,s){const l=s._getViewModel();!l||(s.pushUndoStop(),s.executeCommands(this.id,vn.lineInsertAfter(l.cursorConfig,s.getModel(),s.getSelections())))}}class qj extends lt{run(t,s){if(!s.hasModel())return;const l=s.getSelection();let u=this._getRangesToDelete(s),h=[];for(let A=0,C=u.length-1;A<C;A++){let w=u[A],k=u[A+1];$.intersectRanges(w,k)===null?h.push(w):u[A+1]=$.plusRange(w,k)}h.push(u[u.length-1]);let f=this._getEndCursorState(l,h),m=h.map(A=>Vn.replace(A,""));s.pushUndoStop(),s.executeEdits(this.id,m,f),s.pushUndoStop()}}class Y9e extends qj{constructor(){super({id:"deleteAllLeft",label:E("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(t,s){let l=null,u=[],h=0;return s.forEach(f=>{let m;if(f.endColumn===1&&h>0){let A=f.startLineNumber-h;m=new et(A,f.startColumn,A,f.startColumn)}else m=new et(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn);h+=f.endLineNumber-f.startLineNumber,f.intersectRanges(t)?l=m:u.push(m)}),l&&u.unshift(l),u}_getRangesToDelete(t){let s=t.getSelections();if(s===null)return[];let l=s,u=t.getModel();return u===null?[]:(l.sort($.compareRangesUsingStarts),l=l.map(h=>{if(h.isEmpty())if(h.startColumn===1){let f=Math.max(1,h.startLineNumber-1),m=h.startLineNumber===1?1:u.getLineContent(f).length+1;return new $(f,m,h.startLineNumber,1)}else return new $(h.startLineNumber,1,h.startLineNumber,h.startColumn);else return new $(h.startLineNumber,1,h.endLineNumber,h.endColumn)}),l)}}class $9e extends qj{constructor(){super({id:"deleteAllRight",label:E("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(t,s){let l=null,u=[];for(let h=0,f=s.length,m=0;h<f;h++){let A=s[h],C=new et(A.startLineNumber-m,A.startColumn,A.startLineNumber-m,A.startColumn);A.intersectRanges(t)?l=C:u.push(C)}return l&&u.unshift(l),u}_getRangesToDelete(t){let s=t.getModel();if(s===null)return[];let l=t.getSelections();if(l===null)return[];let u=l.map(h=>{if(h.isEmpty()){const f=s.getLineMaxColumn(h.startLineNumber);return h.startColumn===f?new $(h.startLineNumber,h.startColumn,h.startLineNumber+1,1):new $(h.startLineNumber,h.startColumn,h.startLineNumber,f)}return h});return u.sort($.compareRangesUsingStarts),u}}class K9e extends lt{constructor(){super({id:"editor.action.joinLines",label:E("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:re.writable,kbOpts:{kbExpr:re.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(t,s){let l=s.getSelections();if(l===null)return;let u=s.getSelection();if(u===null)return;l.sort($.compareRangesUsingStarts);let h=[],f=l.reduce((D,I)=>D.isEmpty()?D.endLineNumber===I.startLineNumber?(u.equalsSelection(D)&&(u=I),I):I.startLineNumber>D.endLineNumber+1?(h.push(D),I):new et(D.startLineNumber,D.startColumn,I.endLineNumber,I.endColumn):I.startLineNumber>D.endLineNumber?(h.push(D),I):new et(D.startLineNumber,D.startColumn,I.endLineNumber,I.endColumn));h.push(f);let m=s.getModel();if(m===null)return;let A=[],C=[],w=u,k=0;for(let D=0,I=h.length;D<I;D++){let N=h[D],R=N.startLineNumber,O=1,W=0,B,z,G=m.getLineContent(N.endLineNumber).length-N.endColumn;if(N.isEmpty()||N.startLineNumber===N.endLineNumber){let Y=N.getStartPosition();Y.lineNumber<m.getLineCount()?(B=R+1,z=m.getLineMaxColumn(B)):(B=Y.lineNumber,z=m.getLineMaxColumn(Y.lineNumber))}else B=N.endLineNumber,z=m.getLineMaxColumn(B);let K=m.getLineContent(R);for(let Y=R+1;Y<=B;Y++){let J=m.getLineContent(Y),ne=m.getLineFirstNonWhitespaceColumn(Y);if(ne>=1){let Ae=!0;K===""&&(Ae=!1),Ae&&(K.charAt(K.length-1)===" "||K.charAt(K.length-1)==="	")&&(Ae=!1,K=K.replace(/[\s\uFEFF\xA0]+$/g," "));let ge=J.substr(ne-1);K+=(Ae?" ":"")+ge,Ae?W=ge.length+1:W=ge.length}else W=0}let q=new $(R,O,B,z);if(!q.isEmpty()){let Y;N.isEmpty()?(A.push(Vn.replace(q,K)),Y=new et(q.startLineNumber-k,K.length-W+1,R-k,K.length-W+1)):N.startLineNumber===N.endLineNumber?(A.push(Vn.replace(q,K)),Y=new et(N.startLineNumber-k,N.startColumn,N.endLineNumber-k,N.endColumn)):(A.push(Vn.replace(q,K)),Y=new et(N.startLineNumber-k,N.startColumn,N.startLineNumber-k,K.length-G)),$.intersectRanges(q,u)!==null?w=Y:C.push(Y)}k+=q.endLineNumber-q.startLineNumber}C.unshift(w),s.pushUndoStop(),s.executeEdits(this.id,A,C),s.pushUndoStop()}}class X9e extends lt{constructor(){super({id:"editor.action.transpose",label:E("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:re.writable})}run(t,s){let l=s.getSelections();if(l===null)return;let u=s.getModel();if(u===null)return;let h=[];for(let f=0,m=l.length;f<m;f++){let A=l[f];if(!A.isEmpty())continue;let C=A.getStartPosition(),w=u.getLineMaxColumn(C.lineNumber);if(C.column>=w){if(C.lineNumber===u.getLineCount())continue;let k=new $(C.lineNumber,Math.max(1,C.column-1),C.lineNumber+1,1),D=u.getValueInRange(k).split("").reverse().join("");h.push(new $s(new et(C.lineNumber,Math.max(1,C.column-1),C.lineNumber+1,1),D))}else{let k=new $(C.lineNumber,Math.max(1,C.column-1),C.lineNumber,C.column+1),D=u.getValueInRange(k).split("").reverse().join("");h.push(new UI(k,D,new et(C.lineNumber,C.column+1,C.lineNumber,C.column+1)))}}s.pushUndoStop(),s.executeCommands(this.id,h),s.pushUndoStop()}}class ok extends lt{run(t,s){const l=s.getSelections();if(l===null)return;const u=s.getModel();if(u===null)return;const h=s.getOption(117),f=[];for(const m of l)if(m.isEmpty()){const A=m.getStartPosition(),C=s.getConfiguredWordAtPosition(A);if(!C)continue;const w=new $(A.lineNumber,C.startColumn,A.lineNumber,C.endColumn),k=u.getValueInRange(w);f.push(Vn.replace(w,this._modifyText(k,h)))}else{const A=u.getValueInRange(m);f.push(Vn.replace(m,this._modifyText(A,h)))}s.pushUndoStop(),s.executeEdits(this.id,f),s.pushUndoStop()}}class J9e extends ok{constructor(){super({id:"editor.action.transformToUppercase",label:E("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:re.writable})}_modifyText(t,s){return t.toLocaleUpperCase()}}class q9e extends ok{constructor(){super({id:"editor.action.transformToLowercase",label:E("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:re.writable})}_modifyText(t,s){return t.toLocaleLowerCase()}}class PE{constructor(t,s){this._pattern=t,this._flags=s,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class K4 extends ok{constructor(){super({id:"editor.action.transformToTitlecase",label:E("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:re.writable})}_modifyText(t,s){const l=K4.titleBoundary.get();return l?t.toLocaleLowerCase().replace(l,u=>u.toLocaleUpperCase()):t}}K4.titleBoundary=new PE("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Wu extends ok{constructor(){super({id:"editor.action.transformToSnakecase",label:E("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:re.writable})}_modifyText(t,s){const l=Wu.caseBoundary.get(),u=Wu.singleLetters.get();return!l||!u?t:t.replace(l,"$1_$2").replace(u,"$1_$2$3").toLocaleLowerCase()}}Wu.caseBoundary=new PE("(\\p{Ll})(\\p{Lu})","gmu");Wu.singleLetters=new PE("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");$e(P9e);$e(O9e);$e(F9e);$e(B9e);$e(W9e);$e(V9e);$e(H9e);$e(U9e);$e(rk);$e(z9e);$e(G9e);$e(j9e);$e(Z9e);$e(Q9e);$e(Y9e);$e($9e);$e(K9e);$e(X9e);$e(J9e);$e(q9e);Wu.caseBoundary.isSupported()&&Wu.singleLetters.isSupported()&&$e(Wu);K4.titleBoundary.isSupported()&&$e(K4);var eSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},O6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},hD=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const eZ=new rt("LinkedEditingInputVisible",!1),tZ="linked-editing-decoration";let ah=class dD extends Se{constructor(t,s,l,u,h){super(),this.languageConfigurationService=u,this._localToDispose=this._register(new je),this._editor=t,this._providers=l.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=eZ.bindTo(s),this._debounceInformation=h.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new je),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(f=>{(f.hasChanged(62)||f.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(dD.ID)}reinitialize(t){const s=this._editor.getModel(),l=s!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(s);if(l===this._enabled&&!t||(this._enabled=l,this.clearRanges(),this._localToDispose.clear(),!l||s===null))return;this._localToDispose.add(ft.runAndSubscribe(s.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId()).getWordDefinition()}));const u=new p0(this._debounceInformation.get(s)),h=()=>{var A;this._rangeUpdateTriggerPromise=u.trigger(()=>this.updateRanges(),(A=this._debounceDuration)!==null&&A!==void 0?A:this._debounceInformation.get(s))},f=new p0(0),m=A=>{this._rangeSyncTriggerPromise=f.trigger(()=>this._syncRanges(A))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{h()})),this._localToDispose.add(this._editor.onDidChangeModelContent(A=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const C=s.getDecorationRange(this._currentDecorations[0]);if(C&&A.changes.every(w=>C.intersectRanges(w.range))){m(this._currentDecorations);return}}h()})),this._localToDispose.add({dispose:()=>{u.dispose(),f.dispose()}}),this.updateRanges()}_syncRanges(t){if(!this._editor.hasModel()||t!==this._currentDecorations||t.length===0)return;const s=this._editor.getModel(),l=s.getDecorationRange(t[0]);if(!l||l.startLineNumber!==l.endLineNumber)return this.clearRanges();const u=s.getValueInRange(l);if(this._currentWordPattern){const f=u.match(this._currentWordPattern);if((f?f[0].length:0)!==u.length)return this.clearRanges()}let h=[];for(let f=1,m=t.length;f<m;f++){const A=s.getDecorationRange(t[f]);if(!!A)if(A.startLineNumber!==A.endLineNumber)h.push({range:A,text:u});else{let C=s.getValueInRange(A),w=u,k=A.startColumn,D=A.endColumn;const I=Mg(C,w);k+=I,C=C.substr(I),w=w.substr(I);const N=G3(C,w);D-=N,C=C.substr(0,C.length-N),w=w.substr(0,w.length-N),(k!==D||w.length!==0)&&h.push({range:new $(A.startLineNumber,k,A.endLineNumber,D),text:w})}}if(h.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const f=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",h),this._editor._getViewModel().setPrevEditOperationType(f)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return hD(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const s=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1){this.clearRanges();return}const l=this._editor.getModel(),u=l.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===u){if(s.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const f=l.getDecorationRange(this._currentDecorations[0]);if(f&&f.containsPosition(s))return}}this._currentRequestPosition=s,this._currentRequestModelVersion=u;const h=js(f=>hD(this,void 0,void 0,function*(){try{const m=new mo(!1),A=yield iZ(this._providers,l,s,f);if(this._debounceInformation.update(l,m.elapsed()),h!==this._currentRequest||(this._currentRequest=null,u!==l.getVersionId()))return;let C=[];A?.ranges&&(C=A.ranges),this._currentWordPattern=A?.wordPattern||this._languageWordPattern;let w=!1;for(let D=0,I=C.length;D<I;D++)if($.containsPosition(C[D],s)){if(w=!0,D!==0){const N=C[D];C.splice(D,1),C.unshift(N)}break}if(!w){this.clearRanges();return}const k=C.map(D=>({range:D,options:dD.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,k)}catch(m){y0(m)||Bt(m),(this._currentRequest===h||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=h,h})}};ah.ID="editor.contrib.linkedEditing";ah.DECORATION=Qt.register({description:"linked-editing",stickiness:0,className:tZ});ah=eSe([O6(1,Mt),O6(2,ut),O6(3,vr),O6(4,jl)],ah);class tSe extends lt{constructor(){super({id:"editor.action.linkedEditing",label:E("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:it.and(re.writable,re.hasRenameProvider),kbOpts:{kbExpr:re.editorTextFocus,primary:3132,weight:100}})}runCommand(t,s){const l=t.get(Mi),[u,h]=Array.isArray(s)&&s||[void 0,void 0];return Lt.isUri(u)&&me.isIPosition(h)?l.openCodeEditor({resource:u},l.getActiveCodeEditor()).then(f=>{!f||(f.setPosition(h),f.invokeWithinContext(m=>(this.reportTelemetry(m,f),this.run(m,f))))},Bt):super.runCommand(t,s)}run(t,s){const l=ah.get(s);return l?Promise.resolve(l.updateRanges(!0)):Promise.resolve()}}const iSe=nr.bindToContribution(ah.get);Qe(new iSe({id:"cancelLinkedEditingInput",precondition:eZ,handler:d=>d.clearRanges(),kbOpts:{kbExpr:re.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function iZ(d,t,s,l){const u=d.ordered(t);return tV(u.map(h=>()=>hD(this,void 0,void 0,function*(){try{return yield h.provideLinkedEditingRanges(t,s,l)}catch(f){Ms(f);return}})),h=>!!h&&Mo(h?.ranges))}const nSe=oe("editor.linkedEditingBackground",{dark:ke.fromHex("#f00").transparent(.3),light:ke.fromHex("#f00").transparent(.3),hc:ke.fromHex("#f00").transparent(.3)},E("editorLinkedEditingBackground","Background color when the editor auto renames on type."));rn((d,t)=>{const s=d.getColor(nSe);s&&t.addRule(`.monaco-editor .${tZ} { background: ${s}; border-left-color: ${s}; }`)});D0("_executeLinkedEditingProvider",(d,t,s)=>{const{linkedEditingRangeProvider:l}=d.get(ut);return iZ(l,t,s,ti.None)});Li(ah.ID,ah);$e(tSe);var nZ=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class sSe{constructor(t,s){this._link=t,this._provider=s}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(t){return nZ(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,t)).then(s=>(this._link=s||this._link,this._link.url?this.resolve(t):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class gw{constructor(t){this._disposables=new je;let s=[];for(const[l,u]of t){const h=l.links.map(f=>new sSe(f,u));s=gw._union(s,h),VD(l)&&this._disposables.add(l)}this.links=s}dispose(){this._disposables.dispose(),this.links.length=0}static _union(t,s){let l=[],u,h,f,m;for(u=0,f=0,h=t.length,m=s.length;u<h&&f<m;){const A=t[u],C=s[f];if($.areIntersectingOrTouching(A.range,C.range)){u++;continue}$.compareRangesUsingStarts(A.range,C.range)<0?(l.push(A),u++):(l.push(C),f++)}for(;u<h;u++)l.push(t[u]);for(;f<m;f++)l.push(s[f]);return l}}function sZ(d,t,s){const l=[],u=d.ordered(t).reverse().map((h,f)=>Promise.resolve(h.provideLinks(t,s)).then(m=>{m&&(l[f]=[m,h])},Ms));return Promise.all(u).then(()=>{const h=new gw(vf(l));return s.isCancellationRequested?(h.dispose(),new gw([])):h})}pi.registerCommand("_executeLinkProvider",(d,...t)=>nZ(void 0,void 0,void 0,function*(){let[s,l]=t;Zi(s instanceof Lt),typeof l!="number"&&(l=0);const{linkProvider:u}=d.get(ut),h=d.get(Ln).getModel(s);if(!h)return[];const f=yield sZ(u,h,ti.None);if(!f)return[];for(let A=0;A<Math.min(l,f.links.length);A++)yield f.links[A].resolve(ti.None);const m=f.links.slice(0);return f.dispose(),m}));var rSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},F6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},oSe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let um=class rZ extends Se{constructor(t,s,l,u,h){super(),this.editor=t,this.openerService=s,this.notificationService=l,this.languageFeaturesService=u,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=h.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new zi(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const f=this._register(new gE(t));this._register(f.onMouseMoveOrRelevantKeyDown(([m,A])=>{this._onEditorMouseMove(m,A)})),this._register(f.onExecute(m=>{this.onEditorMouseUp(m)})),this._register(f.onCancel(m=>{this.cleanUpActiveLinkDecoration()})),this._register(t.onDidChangeConfiguration(m=>{!m.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(t.onDidChangeModelContent(m=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(t.onDidChangeModel(m=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(t.onDidChangeModelLanguage(m=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(m=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(t){return t.getContribution(rZ.ID)}computeLinksNow(){return oSe(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const t=this.editor.getModel();if(!!this.providers.has(t)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=js(s=>sZ(this.providers,t,s));try{const s=new mo(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(t,s.elapsed()),t.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(s){Bt(s)}finally{this.computePromise=null}}})}updateDecorations(t){const s=this.editor.getOption(70)==="altKey",l=[],u=Object.keys(this.currentOccurrences);for(const m of u){const A=this.currentOccurrences[m];l.push(A.decorationId)}const h=[];if(t)for(const m of t)h.push(Ig.decoration(m,s));const f=this.editor.deltaDecorations(l,h);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let m=0,A=f.length;m<A;m++){const C=new Ig(t[m],f[m]);this.currentOccurrences[C.decorationId]=C}}_onEditorMouseMove(t,s){const l=this.editor.getOption(70)==="altKey";if(this.isEnabled(t,s)){this.cleanUpActiveLinkDecoration();const u=this.getLinkOccurrence(t.target.position);u&&this.editor.changeDecorations(h=>{u.activate(h,l),this.activeLinkDecorationId=u.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const t=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){const s=this.currentOccurrences[this.activeLinkDecorationId];s&&this.editor.changeDecorations(l=>{s.deactivate(l,t)}),this.activeLinkDecorationId=null}}onEditorMouseUp(t){if(!this.isEnabled(t))return;const s=this.getLinkOccurrence(t.target.position);!s||this.openLinkOccurrence(s,t.hasSideBySideModifier,!0)}openLinkOccurrence(t,s,l=!1){if(!this.openerService)return;const{link:u}=t;u.resolve(ti.None).then(h=>{if(typeof h=="string"&&this.editor.hasModel()){const f=this.editor.getModel().uri;if(f.scheme===zt.file&&h.startsWith(`${zt.file}:`)){const m=Lt.parse(h);if(m.scheme===zt.file){const A=V2(m);let C=null;A.startsWith("/./")?C=`.${A.substr(1)}`:A.startsWith("//./")&&(C=`.${A.substr(2)}`),C&&(h=z1e(f,C))}}}return this.openerService.open(h,{openToSide:s,fromUserGesture:l,allowContributedOpeners:!0,allowCommands:!0})},h=>{const f=h instanceof Error?h.message:h;f==="invalid"?this.notificationService.warn(E("invalid.url","Failed to open this link because it is not well-formed: {0}",u.url.toString())):f==="missing"?this.notificationService.warn(E("missing.url","Failed to open this link because its target is missing.")):Bt(h)})}getLinkOccurrence(t){if(!this.editor.hasModel()||!t)return null;const s=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0);for(const l of s){const u=this.currentOccurrences[l.id];if(u)return u}return null}isEnabled(t,s){return Boolean(t.target.type===6&&(t.hasTriggerModifier||s&&s.keyCodeIsTriggerKey))}stop(){var t;this.computeLinks.cancel(),this.activeLinksList&&((t=this.activeLinksList)===null||t===void 0||t.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};um.ID="editor.linkDetector";um=rSe([F6(1,Zl),F6(2,is),F6(3,ut),F6(4,jl)],um);const BB={general:Qt.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Qt.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Ig{constructor(t,s){this.link=t,this.decorationId=s}static decoration(t,s){return{range:t.range,options:Ig._getOptions(t,s,!1)}}static _getOptions(t,s,l){const u=Object.assign({},l?BB.active:BB.general);return u.hoverMessage=lSe(t,s),u}activate(t,s){t.changeDecorationOptions(this.decorationId,Ig._getOptions(this.link,s,!0))}deactivate(t,s){t.changeDecorationOptions(this.decorationId,Ig._getOptions(this.link,s,!1))}}function lSe(d,t){const s=d.url&&/^command:/i.test(d.url.toString()),l=d.tooltip?d.tooltip:s?E("links.navigate.executeCmd","Execute command"):E("links.navigate.follow","Follow link"),u=t?Jt?E("links.navigate.kb.meta.mac","cmd + click"):E("links.navigate.kb.meta","ctrl + click"):Jt?E("links.navigate.kb.alt.mac","option + click"):E("links.navigate.kb.alt","alt + click");if(d.url){let h="";if(/^command:/i.test(d.url.toString())){const m=d.url.toString().match(/^command:([^?#]+)/);if(m){const A=m[1];h=` "${E("tooltip.explanation","Execute command {0}",A)}"`}}return new rl("",!0).appendMarkdown(`[${l}](${d.url.toString(!0).replace(/ /g,"%20")}${h}) (${u})`)}else return new rl().appendText(`${l} (${u})`)}class aSe extends lt{constructor(){super({id:"editor.action.openLink",label:E("label","Open Link"),alias:"Open Link",precondition:void 0})}run(t,s){const l=um.get(s);if(!l||!s.hasModel())return;const u=s.getSelections();for(const h of u){const f=l.getLinkOccurrence(h.getEndPosition());f&&l.openLinkOccurrence(f,!1)}}}Li(um.ID,um);$e(aSe);rn((d,t)=>{const s=d.getColor(FI);s&&t.addRule(`.monaco-editor .detected-link-active { color: ${s} !important; }`)});var cSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},uSe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};function Nm(d,t){const s=t.filter(l=>!d.find(u=>u.equals(l)));if(s.length>=1){const l=s.map(h=>`line ${h.viewState.position.lineNumber} column ${h.viewState.position.column}`).join(", "),u=s.length===1?E("cursorAdded","Cursor added: {0}",l):E("cursorsAdded","Cursors added: {0}",l);tC(u)}}class hSe extends lt{constructor(){super({id:"editor.action.insertCursorAbove",label:E("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"3_multi",title:E({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(t,s,l){if(!s.hasModel())return;let u=!0;l&&l.logicalLine===!1&&(u=!1);const h=s._getViewModel();if(h.cursorConfig.readOnly)return;h.model.pushStackElement();const f=h.getCursorStates();h.setCursorStates(l.source,3,Vs.addCursorUp(h,f,u)),h.revealTopMostCursor(l.source),Nm(f,h.getCursorStates())}}class dSe extends lt{constructor(){super({id:"editor.action.insertCursorBelow",label:E("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"3_multi",title:E({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(t,s,l){if(!s.hasModel())return;let u=!0;l&&l.logicalLine===!1&&(u=!1);const h=s._getViewModel();if(h.cursorConfig.readOnly)return;h.model.pushStackElement();const f=h.getCursorStates();h.setCursorStates(l.source,3,Vs.addCursorDown(h,f,u)),h.revealBottomMostCursor(l.source),Nm(f,h.getCursorStates())}}class fSe extends lt{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:E("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"3_multi",title:E({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(t,s,l){if(!t.isEmpty()){for(let u=t.startLineNumber;u<t.endLineNumber;u++){let h=s.getLineMaxColumn(u);l.push(new et(u,h,u,h))}t.endColumn>1&&l.push(new et(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}run(t,s){if(!s.hasModel())return;const l=s.getModel(),u=s.getSelections(),h=s._getViewModel(),f=h.getCursorStates();let m=[];u.forEach(A=>this.getCursorsForSelection(A,l,m)),m.length>0&&s.setSelections(m),Nm(f,h.getCursorStates())}}class gSe extends lt{constructor(){super({id:"editor.action.addCursorsToBottom",label:E("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(t,s){if(!s.hasModel())return;const l=s.getSelections(),u=s.getModel().getLineCount();let h=[];for(let A=l[0].startLineNumber;A<=u;A++)h.push(new et(A,l[0].startColumn,A,l[0].endColumn));const f=s._getViewModel(),m=f.getCursorStates();h.length>0&&s.setSelections(h),Nm(m,f.getCursorStates())}}class mSe extends lt{constructor(){super({id:"editor.action.addCursorsToTop",label:E("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(t,s){if(!s.hasModel())return;const l=s.getSelections();let u=[];for(let m=l[0].startLineNumber;m>=1;m--)u.push(new et(m,l[0].startColumn,m,l[0].endColumn));const h=s._getViewModel(),f=h.getCursorStates();u.length>0&&s.setSelections(u),Nm(f,h.getCursorStates())}}class B6{constructor(t,s,l){this.selections=t,this.revealRange=s,this.revealScrollType=l}}class X4{constructor(t,s,l,u,h,f,m){this._editor=t,this.findController=s,this.isDisconnectedFromFindController=l,this.searchText=u,this.wholeWord=h,this.matchCase=f,this.currentMatch=m}static create(t,s){if(!t.hasModel())return null;const l=s.getState();if(!t.hasTextFocus()&&l.isRevealed&&l.searchString.length>0)return new X4(t,s,!1,l.searchString,l.wholeWord,l.matchCase,null);let u=!1,h,f;const m=t.getSelections();m.length===1&&m[0].isEmpty()?(u=!0,h=!0,f=!0):(h=l.wholeWord,f=l.matchCase);const A=t.getSelection();let C,w=null;if(A.isEmpty()){const k=t.getConfiguredWordAtPosition(A.getStartPosition());if(!k)return null;C=k.word,w=new et(A.startLineNumber,k.startColumn,A.startLineNumber,k.endColumn)}else C=t.getModel().getValueInRange(A).replace(/\r\n/g,`
`);return new X4(t,s,u,C,h,f,w)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const t=this._getNextMatch();if(!t)return null;const s=this._editor.getSelections();return new B6(s.concat(t),t,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const t=this._getNextMatch();if(!t)return null;const s=this._editor.getSelections();return new B6(s.slice(0,s.length-1).concat(t),t,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const u=this.currentMatch;return this.currentMatch=null,u}this.findController.highlightFindOptions();const t=this._editor.getSelections(),s=t[t.length-1],l=this._editor.getModel().findNextMatch(this.searchText,s.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return l?new et(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const t=this._getPreviousMatch();if(!t)return null;const s=this._editor.getSelections();return new B6(s.concat(t),t,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const t=this._getPreviousMatch();if(!t)return null;const s=this._editor.getSelections();return new B6(s.slice(0,s.length-1).concat(t),t,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const u=this.currentMatch;return this.currentMatch=null,u}this.findController.highlightFindOptions();const t=this._editor.getSelections(),s=t[t.length-1],l=this._editor.getModel().findPreviousMatch(this.searchText,s.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return l?new et(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}class df extends Se{constructor(t){super(),this._sessionDispose=this._register(new je),this._editor=t,this._ignoreSelectionChange=!1,this._session=null}static get(t){return t.getContribution(df.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(t){if(!this._session){const s=X4.create(this._editor,t);if(!s)return;this._session=s;const l={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(l.wholeWordOverride=1,l.matchCaseOverride=1,l.isRegexOverride=2),t.getState().change(l,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(u=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(u=>{(u.matchCase||u.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null}_setSelections(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1}_expandEmptyToWord(t,s){if(!s.isEmpty())return s;const l=this._editor.getConfiguredWordAtPosition(s.getStartPosition());return l?new et(s.startLineNumber,l.startColumn,s.startLineNumber,l.endColumn):s}_applySessionResult(t){!t||(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))}getSession(t){return this._session}addSelectionToNextFindMatch(t){if(!!this._editor.hasModel()){if(!this._session){const s=this._editor.getSelections();if(s.length>1){const u=t.getState().matchCase;if(!oZ(this._editor.getModel(),s,u)){const f=this._editor.getModel();let m=[];for(let A=0,C=s.length;A<C;A++)m[A]=this._expandEmptyToWord(f,s[A]);this._editor.setSelections(m);return}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(t){if(!this._editor.hasModel())return;let s=null;const l=t.getState();if(l.isRevealed&&l.searchString.length>0&&l.isRegex)s=this._editor.getModel().findMatches(l.searchString,!0,l.isRegex,l.matchCase,l.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(t),!this._session)return;s=this._session.selectAll()}if(l.searchScope){const u=l.searchScope;let h=[];s.forEach(f=>{u.forEach(m=>{f.range.endLineNumber<=m.endLineNumber&&f.range.startLineNumber>=m.startLineNumber&&h.push(f)})}),s=h}if(s.length>0){const u=this._editor.getSelection();for(let h=0,f=s.length;h<f;h++){const m=s[h];if(m.range.intersectRanges(u)){s[h]=s[0],s[0]=m;break}}this._setSelections(s.map(h=>new et(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)))}}}df.ID="editor.contrib.multiCursorController";class Tm extends lt{run(t,s){const l=df.get(s);if(!l)return;const u=Bo.get(s);if(!u)return;const h=s._getViewModel();if(h){const f=h.getCursorStates();this._run(l,u),Nm(f,h.getCursorStates())}}}class pSe extends Tm{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:E("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:2082,weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"3_multi",title:E({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(t,s){t.addSelectionToNextFindMatch(s)}}class ASe extends Tm{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:E("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:ce.MenubarSelectionMenu,group:"3_multi",title:E({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(t,s){t.addSelectionToPreviousFindMatch(s)}}class _Se extends Tm{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:E("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:Ps(2089,2082),weight:100}})}_run(t,s){t.moveSelectionToNextFindMatch(s)}}class CSe extends Tm{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:E("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(t,s){t.moveSelectionToPreviousFindMatch(s)}}class wSe extends Tm{constructor(){super({id:"editor.action.selectHighlights",label:E("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:3114,weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"3_multi",title:E({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(t,s){t.selectAll(s)}}class vSe extends Tm{constructor(){super({id:"editor.action.changeAll",label:E("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:it.and(re.writable,re.editorTextFocus),kbOpts:{kbExpr:re.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(t,s){t.selectAll(s)}}class kSe{constructor(t,s,l,u,h){this._model=t,this._searchText=s,this._matchCase=l,this._wordSeparators=u,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,h&&this._model===h._model&&this._searchText===h._searchText&&this._matchCase===h._matchCase&&this._wordSeparators===h._wordSeparators&&this._modelVersionId===h._modelVersionId&&(this._cachedFindMatches=h._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(t=>t.range),this._cachedFindMatches.sort($.compareRangesUsingStarts)),this._cachedFindMatches}}let ff=class S3 extends Se{constructor(t,s){super(),this._languageFeaturesService=s,this.editor=t,this._isEnabled=t.getOption(97),this.decorations=[],this.updateSoon=this._register(new zi(()=>this._update(),300)),this.state=null,this._register(t.onDidChangeConfiguration(u=>{this._isEnabled=t.getOption(97)})),this._register(t.onDidChangeCursorSelection(u=>{!this._isEnabled||(u.selection.isEmpty()?u.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(t.onDidChangeModel(u=>{this._setState(null)})),this._register(t.onDidChangeModelContent(u=>{this._isEnabled&&this.updateSoon.schedule()}));const l=Bo.get(t);l&&this._register(l.getState().onFindReplaceStateChange(u=>{this._update()}))}_update(){this._setState(S3._createState(this.state,this._isEnabled,this.editor))}static _createState(t,s,l){if(!s||!l.hasModel())return null;const u=l.getSelection();if(u.startLineNumber!==u.endLineNumber)return null;const h=df.get(l);if(!h)return null;const f=Bo.get(l);if(!f)return null;let m=h.getSession(f);if(!m){const w=l.getSelections();if(w.length>1){const D=f.getState().matchCase;if(!oZ(l.getModel(),w,D))return null}m=X4.create(l,f)}if(!m||m.currentMatch||/^[ \t]+$/.test(m.searchText)||m.searchText.length>200)return null;const A=f.getState(),C=A.matchCase;if(A.isRevealed){let w=A.searchString;C||(w=w.toLowerCase());let k=m.searchText;if(C||(k=k.toLowerCase()),w===k&&m.matchCase===A.matchCase&&m.wholeWord===A.wholeWord&&!A.isRegex)return null}return new kSe(l.getModel(),m.searchText,m.matchCase,m.wholeWord?l.getOption(117):null,t)}_setState(t){if(this.state=t,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const s=this.editor.getModel();if(s.isTooLargeForTokenization())return;const l=this.state.findMatches(),u=this.editor.getSelections();u.sort($.compareRangesUsingStarts);const h=[];for(let A=0,C=0,w=l.length,k=u.length;A<w;){const D=l[A];if(C>=k)h.push(D),A++;else{const I=$.compareRangesUsingStarts(D,u[C]);I<0?((u[C].isEmpty()||!$.areIntersecting(D,u[C]))&&h.push(D),A++):(I>0||A++,C++)}}const f=this._languageFeaturesService.documentHighlightProvider.has(s)&&this.editor.getOption(72),m=h.map(A=>({range:A,options:f?S3._SELECTION_HIGHLIGHT:S3._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,m)}dispose(){this._setState(null),super.dispose()}};ff.ID="editor.contrib.selectionHighlighter";ff._SELECTION_HIGHLIGHT_OVERVIEW=Qt.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Wn($w),position:Rl.Inline},overviewRuler:{color:Wn(nH),position:Bl.Center}});ff._SELECTION_HIGHLIGHT=Qt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});ff=cSe([uSe(1,ut)],ff);function oZ(d,t,s){const l=WB(d,t[0],!s);for(let u=1,h=t.length;u<h;u++){const f=t[u];if(f.isEmpty())return!1;const m=WB(d,f,!s);if(l!==m)return!1}return!0}function WB(d,t,s){const l=d.getValueInRange(t);return s?l.toLowerCase():l}Li(df.ID,df);Li(ff.ID,ff);$e(hSe);$e(dSe);$e(fSe);$e(pSe);$e(ASe);$e(_Se);$e(CSe);$e(wSe);$e(vSe);$e(gSe);$e(mSe);var lZ=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const gf={Visible:new rt("parameterHintsVisible",!1),MultipleSignatures:new rt("parameterHintsMultipleSignatures",!1)};function aZ(d,t,s,l,u){return lZ(this,void 0,void 0,function*(){const h=d.ordered(t);for(const f of h)try{const m=yield f.provideSignatureHelp(t,s,u,l);if(m)return m}catch(m){Ms(m)}})}pi.registerCommand("_executeSignatureHelpProvider",(d,...t)=>lZ(void 0,void 0,void 0,function*(){const[s,l,u]=t;Zi(Lt.isUri(s)),Zi(me.isIPosition(l)),Zi(typeof u=="string"||!u);const h=d.get(ut),f=yield d.get(Ao).createModelReference(s);try{const m=yield aZ(h.signatureHelpProvider,f.object.textEditorModel,me.lift(l),{triggerKind:c0.Invoke,isRetrigger:!1,triggerCharacter:u},ti.None);return m?(setTimeout(()=>m.dispose(),0),m.value):void 0}finally{f.dispose()}}));var bSe=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},fu;(function(d){d.Default={type:0};class t{constructor(u,h){this.request=u,this.previouslyActiveHints=h,this.type=2}}d.Pending=t;class s{constructor(u){this.hints=u,this.type=1}}d.Active=s})(fu||(fu={}));class lk extends Se{constructor(t,s,l=lk.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new he),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=fu.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Yr),this.triggerChars=new Y1,this.retriggerChars=new Y1,this.triggerId=0,this.editor=t,this.providers=s,this.throttledDelayer=new p0(l),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=fu.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,s){const l=this.editor.getModel();if(!l||!this.providers.has(l))return;const u=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(u),s).catch(Bt)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,s=this.state.hints.activeSignature,l=s%t===t-1,u=this.editor.getOption(76).cycle;if((t<2||l)&&!u){this.cancel();return}this.updateActiveSignature(l&&u?0:s+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,s=this.state.hints.activeSignature,l=s===0,u=this.editor.getOption(76).cycle;if((t<2||l)&&!u){this.cancel();return}this.updateActiveSignature(l&&u?t-1:s-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new fu.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return bSe(this,void 0,void 0,function*(){const s=this.state.type===1||this.state.type===2,l=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const u=this._pendingTriggers.reduce(SSe);this._pendingTriggers=[];const h={triggerKind:u.triggerKind,triggerCharacter:u.triggerCharacter,isRetrigger:s,activeSignatureHelp:l};if(!this.editor.hasModel())return!1;const f=this.editor.getModel(),m=this.editor.getPosition();this.state=new fu.Pending(js(A=>aZ(this.providers,f,m,h,A)),l);try{const A=yield this.state.request;return t!==this.triggerId?(A?.dispose(),!1):!A||!A.value.signatures||A.value.signatures.length===0?(A?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new fu.Active(A.value),this._lastSignatureHelpResult.value=A,this._onChangedHints.fire(this.state.hints),!0)}catch(A){return t===this.triggerId&&(this.state=fu.Default),Bt(A),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Y1,this.retriggerChars=new Y1;const t=this.editor.getModel();if(!!t)for(const s of this.providers.ordered(t)){for(const l of s.signatureHelpTriggerCharacters||[])this.triggerChars.add(l.charCodeAt(0)),this.retriggerChars.add(l.charCodeAt(0));for(const l of s.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(l.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const s=t.length-1,l=t.charCodeAt(s);(this.triggerChars.has(l)||this.isTriggered&&this.retriggerChars.has(l))&&this.trigger({triggerKind:c0.TriggerCharacter,triggerCharacter:t.charAt(s)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:c0.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:c0.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}lk.DEFAULT_DELAY=120;function SSe(d,t){switch(t.triggerKind){case c0.Invoke:return t;case c0.ContentChange:return d;case c0.TriggerCharacter:default:return t}}var ySe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},W6=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const Xo=Ue,LSe=bs("parameter-hints-next",T.chevronDown,E("parameterHintsNextIcon","Icon for show next parameter hint.")),DSe=bs("parameter-hints-previous",T.chevronUp,E("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let mw=class cZ extends Se{constructor(t,s,l,u,h){super(),this.editor=t,this.renderDisposeables=this._register(new je),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Mc({editor:t},u,l)),this.model=this._register(new lk(t,h.signatureHelpProvider)),this.keyVisible=gf.Visible.bindTo(s),this.keyMultipleSignatures=gf.MultipleSignatures.bindTo(s),this._register(this.model.onChangedHints(f=>{f?(this.show(),this.render(f)):this.hide()}))}createParameterHintDOMNodes(){const t=Xo(".editor-widget.parameter-hints-widget"),s=Re(t,Xo(".phwrapper"));s.tabIndex=-1;const l=Re(s,Xo(".controls")),u=Re(l,Xo(".button"+Qi.asCSSSelector(DSe))),h=Re(l,Xo(".overloads")),f=Re(l,Xo(".button"+Qi.asCSSSelector(LSe)));this._register(ze(u,"click",D=>{Ri.stop(D),this.previous()})),this._register(ze(f,"click",D=>{Ri.stop(D),this.next()}));const m=Xo(".body"),A=new A_(m,{});this._register(A),s.appendChild(A.getDomNode());const C=Re(m,Xo(".signature")),w=Re(m,Xo(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:C,overloads:h,docs:w,scrollbar:A},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(D=>{this.visible&&this.editor.layoutContentWidget(this)}));const k=()=>{if(!this.domNodes)return;const D=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${D.fontSize}px`,this.domNodes.element.style.lineHeight=`${D.lineHeight/D.fontSize}`};k(),this._register(ft.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(D=>D.hasChanged(44)).on(k,null)),this._register(this.editor.onDidLayoutChange(D=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(t){var s;if(this.renderDisposeables.clear(),!this.domNodes)return;const l=t.signatures.length>1;this.domNodes.element.classList.toggle("multiple",l),this.keyMultipleSignatures.set(l),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const u=t.signatures[t.activeSignature];if(!u)return;const h=Re(this.domNodes.signature,Xo(".code")),f=this.editor.getOption(44);h.style.fontSize=`${f.fontSize}px`,h.style.fontFamily=f.fontFamily;const m=u.parameters.length>0,A=(s=u.activeParameter)!==null&&s!==void 0?s:t.activeParameter;if(m)this.renderParameters(h,u,A);else{const k=Re(h,Xo("span"));k.textContent=u.label}const C=u.parameters[A];if(C?.documentation){const k=Xo("span.documentation");if(typeof C.documentation=="string")k.textContent=C.documentation;else{const D=this.renderMarkdownDocs(C.documentation);k.appendChild(D.element)}Re(this.domNodes.docs,Xo("p",{},k))}if(u.documentation!==void 0)if(typeof u.documentation=="string")Re(this.domNodes.docs,Xo("p",{},u.documentation));else{const k=this.renderMarkdownDocs(u.documentation);Re(this.domNodes.docs,k.element)}const w=this.hasDocs(u,C);if(this.domNodes.signature.classList.toggle("has-docs",w),this.domNodes.docs.classList.toggle("empty",!w),this.domNodes.overloads.textContent=String(t.activeSignature+1).padStart(t.signatures.length.toString().length,"0")+"/"+t.signatures.length,C){let k="";const D=u.parameters[A];Array.isArray(D.label)?k=u.label.substring(D.label[0],D.label[1]):k=D.label,D.documentation&&(k+=typeof D.documentation=="string"?`, ${D.documentation}`:`, ${D.documentation.value}`),u.documentation&&(k+=typeof u.documentation=="string"?`, ${u.documentation}`:`, ${u.documentation.value}`),this.announcedLabel!==k&&(qs(E("hint","{0}, hint",k)),this.announcedLabel=k)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(t){const s=this.renderDisposeables.add(this.markdownRenderer.render(t,{asyncRenderCallback:()=>{var l;(l=this.domNodes)===null||l===void 0||l.scrollbar.scanDomNode()}}));return s.element.classList.add("markdown-docs"),s}hasDocs(t,s){return!!(s&&typeof s.documentation=="string"&&P8(s.documentation).length>0||s&&typeof s.documentation=="object"&&P8(s.documentation).value.length>0||t.documentation&&typeof t.documentation=="string"&&P8(t.documentation).length>0||t.documentation&&typeof t.documentation=="object"&&P8(t.documentation.value).length>0)}renderParameters(t,s,l){const[u,h]=this.getParameterLabelOffsets(s,l),f=document.createElement("span");f.textContent=s.label.substring(0,u);const m=document.createElement("span");m.textContent=s.label.substring(u,h),m.className="parameter active";const A=document.createElement("span");A.textContent=s.label.substring(h),Re(t,f,m,A)}getParameterLabelOffsets(t,s){const l=t.parameters[s];if(l){if(Array.isArray(l.label))return l.label;if(l.label.length){const u=new RegExp(`(\\W|^)${Fl(l.label)}(?=\\W|$)`,"g");u.test(t.label);const h=u.lastIndex-l.label.length;return h>=0?[h,u.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return cZ.ID}trigger(t){this.model.trigger(t,0)}updateMaxHeight(){if(!this.domNodes)return;const s=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=s;const l=this.domNodes.element.getElementsByClassName("phwrapper");l.length&&(l[0].style.maxHeight=s)}};mw.ID="editor.widget.parameterHintsWidget";mw=ySe([W6(1,Mt),W6(2,Zl),W6(3,yn),W6(4,ut)],mw);const ISe=oe("editorHoverWidget.highlightForeground",{dark:yc,light:yc,hc:yc},E("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));rn((d,t)=>{const s=d.getColor(OI);if(s){const C=d.type===pa.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${C}px solid ${s}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${s.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${s.transparent(.5)}; }`)}const l=d.getColor(Gd);l&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${l}; }`);const u=d.getColor(Zw);u&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${u}; }`);const h=d.getColor(Qw);h&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${h}; }`);const f=d.getColor(PI);f&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${f}; }`);const m=d.getColor(zV);m&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${m}; }`);const A=d.getColor(ISe);A&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${A}}`)});var xSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},ESe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let mf=class uZ extends Se{constructor(t,s){super(),this.editor=t,this.widget=this._register(s.createInstance(mw,this.editor))}static get(t){return t.getContribution(uZ.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(t){this.widget.trigger(t)}};mf.ID="editor.controller.parameterHints";mf=xSe([ESe(1,ii)],mf);class NSe extends lt{constructor(){super({id:"editor.action.triggerParameterHints",label:E("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:re.hasSignatureHelpProvider,kbOpts:{kbExpr:re.editorTextFocus,primary:3082,weight:100}})}run(t,s){const l=mf.get(s);l&&l.trigger({triggerKind:c0.Invoke})}}Li(mf.ID,mf);$e(NSe);const OE=100+75,FE=nr.bindToContribution(mf.get);Qe(new FE({id:"closeParameterHints",precondition:gf.Visible,handler:d=>d.cancel(),kbOpts:{weight:OE,kbExpr:re.focus,primary:9,secondary:[1033]}}));Qe(new FE({id:"showPrevParameterHint",precondition:it.and(gf.Visible,gf.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:OE,kbExpr:re.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));Qe(new FE({id:"showNextParameterHint",precondition:it.and(gf.Visible,gf.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:OE,kbExpr:re.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var TSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},sS=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const ak=new rt("renameInputVisible",!1,E("renameInputVisible","Whether the rename input widget is visible"));let fD=class{constructor(t,s,l,u,h){this._editor=t,this._acceptKeybindings=s,this._themeService=l,this._keybindingService=u,this._disposables=new je,this.allowEditorOverflow=!0,this._visibleContextKey=ak.bindTo(h),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(f=>{f.hasChanged(44)&&this._updateFont()})),this._disposables.add(l.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",E("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var s,l;const[u,h]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(u),this._label.innerText=E({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(s=this._keybindingService.lookupKeybinding(u))===null||s===void 0?void 0:s.getLabel(),(l=this._keybindingService.lookupKeybinding(h))===null||l===void 0?void 0:l.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(t){var s,l,u,h;if(!this._input||!this._domNode)return;const f=t.getColor(Yu);this._domNode.style.backgroundColor=String((s=t.getColor(Qr))!==null&&s!==void 0?s:""),this._domNode.style.boxShadow=f?` 0 0 8px 2px ${f}`:"",this._domNode.style.color=String((l=t.getColor(EI))!==null&&l!==void 0?l:""),this._input.style.backgroundColor=String((u=t.getColor(xI))!==null&&u!==void 0?u:"");const m=t.getColor(NI);this._input.style.borderWidth=m?"1px":"0px",this._input.style.borderStyle=m?"solid":"none",this._input.style.borderColor=(h=m?.toString())!==null&&h!==void 0?h:"none"}_updateFont(){if(!this._input||!this._label)return;const t=this._editor.getOption(44);this._input.style.fontFamily=t.fontFamily,this._input.style.fontWeight=t.fontWeight,this._input.style.fontSize=`${t.fontSize}px`,this._label.style.fontSize=`${t.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(t){t||this.cancelInput(!0)}acceptInput(t){this._currentAcceptInput&&this._currentAcceptInput(t)}cancelInput(t){this._currentCancelInput&&this._currentCancelInput(t)}getInput(t,s,l,u,h,f){this._domNode.classList.toggle("preview",h),this._position=new me(t.startLineNumber,t.startColumn),this._input.value=s,this._input.setAttribute("selectionStart",l.toString()),this._input.setAttribute("selectionEnd",u.toString()),this._input.size=Math.max((t.endColumn-t.startColumn)*1.1,20);const m=new je;return new Promise(A=>{this._currentCancelInput=C=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,A(C),!0),this._currentAcceptInput=C=>{if(this._input.value.trim().length===0||this._input.value===s){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,A({newName:this._input.value,wantsPreview:h&&C})},m.add(f.onCancellationRequested(()=>this.cancelInput(!0))),m.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{m.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};fD=TSe([sS(2,dn),sS(3,Hn),sS(4,Mt)],fD);var RSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},$h=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Pd=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class BE{constructor(t,s,l){this.model=t,this.position=s,this._providerRenameIdx=0,this._providers=l.ordered(t)}hasProvider(){return this._providers.length>0}resolveRenameLocation(t){return Pd(this,void 0,void 0,function*(){const s=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const u=this._providers[this._providerRenameIdx];if(!u.resolveRenameLocation)break;let h=yield u.resolveRenameLocation(this.model,this.position,t);if(!!h){if(h.rejectReason){s.push(h.rejectReason);continue}return h}}const l=this.model.getWordAtPosition(this.position);return l?{range:new $(this.position.lineNumber,l.startColumn,this.position.lineNumber,l.endColumn),text:l.word,rejectReason:s.length>0?s.join(`
`):void 0}:{range:$.fromPositions(this.position),text:"",rejectReason:s.length>0?s.join(`
`):void 0}})}provideRenameEdits(t,s){return Pd(this,void 0,void 0,function*(){return this._provideRenameEdits(t,this._providerRenameIdx,[],s)})}_provideRenameEdits(t,s,l,u){return Pd(this,void 0,void 0,function*(){const h=this._providers[s];if(!h)return{edits:[],rejectReason:l.join(`
`)};const f=yield h.provideRenameEdits(this.model,this.position,t,u);if(f){if(f.rejectReason)return this._provideRenameEdits(t,s+1,l.concat(f.rejectReason),u)}else return this._provideRenameEdits(t,s+1,l.concat(E("no result","No result.")),u);return f})}}function MSe(d,t,s,l){return Pd(this,void 0,void 0,function*(){const u=new BE(t,s,d),h=yield u.resolveRenameLocation(ti.None);return h?.rejectReason?{edits:[],rejectReason:h.rejectReason}:u.provideRenameEdits(l,ti.None)})}let pf=class hZ{constructor(t,s,l,u,h,f,m,A){this.editor=t,this._instaService=s,this._notificationService=l,this._bulkEditService=u,this._progressService=h,this._logService=f,this._configService=m,this._languageFeaturesService=A,this._dispoableStore=new je,this._cts=new tr,this._renameInputField=this._dispoableStore.add(new Du(()=>this._dispoableStore.add(this._instaService.createInstance(fD,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(t){return t.getContribution(hZ.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var t,s;return Pd(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const l=this.editor.getPosition(),u=new BE(this.editor.getModel(),l,this._languageFeaturesService.renameProvider);if(!u.hasProvider())return;this._cts=new M4(this.editor,5);let h;try{const D=u.resolveRenameLocation(this._cts.token);this._progressService.showWhile(D,250),h=yield D}catch(D){(t=ml.get(this.editor))===null||t===void 0||t.showMessage(D||E("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),l);return}if(!h)return;if(h.rejectReason){(s=ml.get(this.editor))===null||s===void 0||s.showMessage(h.rejectReason,l);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new M4(this.editor,5,h.range);let f=this.editor.getSelection(),m=0,A=h.text.length;!$.isEmpty(f)&&!$.spansMultipleLines(f)&&$.containsRange(h.range,f)&&(m=Math.max(0,f.startColumn-h.range.startColumn),A=Math.min(h.range.endColumn,f.endColumn)-h.range.startColumn);const C=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),w=yield this._renameInputField.value.getInput(h.range,h.text,m,A,C,this._cts.token);if(typeof w=="boolean"){w&&this.editor.focus();return}this.editor.focus();const k=cI(u.provideRenameEdits(w.newName,this._cts.token),this._cts.token).then(D=>Pd(this,void 0,void 0,function*(){if(!(!D||!this.editor.hasModel())){if(D.rejectReason){this._notificationService.info(D.rejectReason);return}this.editor.setSelection($.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(lv.convert(D),{editor:this.editor,showPreview:w.wantsPreview,label:E("label","Renaming '{0}'",h?.text),quotableLabel:E("quotableLabel","Renaming {0}",h?.text)}).then(I=>{I.ariaSummary&&qs(E("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",h.text,w.newName,I.ariaSummary))}).catch(I=>{this._notificationService.error(E("rename.failedApply","Rename failed to apply edits")),this._logService.error(I)})}}),D=>{this._notificationService.error(E("rename.failed","Rename failed to compute edits")),this._logService.error(D)});return this._progressService.showWhile(k,250),k})}acceptRenameInput(t){this._renameInputField.value.acceptInput(t)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};pf.ID="editor.contrib.renameController";pf=RSe([$h(1,ii),$h(2,is),$h(3,dx),$h(4,hh),$h(5,ka),$h(6,gI),$h(7,ut)],pf);class PSe extends lt{constructor(){super({id:"editor.action.rename",label:E("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:it.and(re.writable,re.hasRenameProvider),kbOpts:{kbExpr:re.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(t,s){const l=t.get(Mi),[u,h]=Array.isArray(s)&&s||[void 0,void 0];return Lt.isUri(u)&&me.isIPosition(h)?l.openCodeEditor({resource:u},l.getActiveCodeEditor()).then(f=>{!f||(f.setPosition(h),f.invokeWithinContext(m=>(this.reportTelemetry(m,f),this.run(m,f))))},Bt):super.runCommand(t,s)}run(t,s){const l=pf.get(s);return l?l.run():Promise.resolve()}}Li(pf.ID,pf);$e(PSe);const WE=nr.bindToContribution(pf.get);Qe(new WE({id:"acceptRenameInput",precondition:ak,handler:d=>d.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:re.focus,primary:3}}));Qe(new WE({id:"acceptRenameInputWithPreview",precondition:it.and(ak,it.has("config.editor.rename.enablePreview")),handler:d=>d.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:re.focus,primary:1024+3}}));Qe(new WE({id:"cancelRenameInput",precondition:ak,handler:d=>d.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:re.focus,primary:9,secondary:[1033]}}));D0("_executeDocumentRenameProvider",function(d,t,s,...l){const[u]=l;Zi(typeof u=="string");const{renameProvider:h}=d.get(ut);return MSe(h,t,s,u)});D0("_executePrepareRename",function(d,t,s){return Pd(this,void 0,void 0,function*(){const{renameProvider:l}=d.get(ut),h=yield new BE(t,s,l).resolveRenameLocation(ti.None);if(h?.rejectReason)throw new Error(h.rejectReason);return h})});ts.as(Ef.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:E("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class OSe{provideSelectionRanges(t,s){const l=[];for(const u of s){const h=[];l.push(h),this._addInWordRanges(h,t,u),this._addWordRanges(h,t,u),this._addWhitespaceLine(h,t,u),h.push({range:t.getFullModelRange()})}return l}_addInWordRanges(t,s,l){const u=s.getWordAtPosition(l);if(!u)return;let{word:h,startColumn:f}=u,m=l.column-f,A=m,C=m,w=0;for(;A>=0;A--){let k=h.charCodeAt(A);if(A!==m&&(k===95||k===45))break;if(_u(k)&&Z2(w))break;w=k}for(A+=1;C<h.length;C++){let k=h.charCodeAt(C);if(Z2(k)&&_u(w))break;if(k===95||k===45)break;w=k}A<C&&t.push({range:new $(l.lineNumber,f+A,l.lineNumber,f+C)})}_addWordRanges(t,s,l){const u=s.getWordAtPosition(l);u&&t.push({range:new $(l.lineNumber,u.startColumn,l.lineNumber,u.endColumn)})}_addWhitespaceLine(t,s,l){s.getLineLength(l.lineNumber)>0&&s.getLineFirstNonWhitespaceColumn(l.lineNumber)===0&&s.getLineLastNonWhitespaceColumn(l.lineNumber)===0&&t.push({range:new $(l.lineNumber,1,l.lineNumber,s.getLineMaxColumn(l.lineNumber))})}}var FSe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},BSe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},ck=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};class VE{constructor(t,s){this.index=t,this.ranges=s}mov(t){let s=this.index+(t?1:-1);if(s<0||s>=this.ranges.length)return this;const l=new VE(s,this.ranges);return l.ranges[s].equalsRange(this.ranges[this.index])?l.mov(t):l}}let hm=class dZ{constructor(t,s){this._editor=t,this._languageFeaturesService=s,this._ignoreSelection=!1}static get(t){return t.getContribution(dZ.ID)}dispose(){var t;(t=this._selectionListener)===null||t===void 0||t.dispose()}run(t){return ck(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const s=this._editor.getSelections(),l=this._editor.getModel();if(this._state||(yield gZ(this._languageFeaturesService.selectionRangeProvider,l,s.map(h=>h.getPosition()),this._editor.getOption(102),ti.None).then(h=>{var f;if(!(!Mo(h)||h.length!==s.length)&&!(!this._editor.hasModel()||!cl(this._editor.getSelections(),s,(m,A)=>m.equalsSelection(A)))){for(let m=0;m<h.length;m++)h[m]=h[m].filter(A=>A.containsPosition(s[m].getStartPosition())&&A.containsPosition(s[m].getEndPosition())),h[m].unshift(s[m]);this._state=h.map(m=>new VE(0,m)),(f=this._selectionListener)===null||f===void 0||f.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var m;this._ignoreSelection||((m=this._selectionListener)===null||m===void 0||m.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(h=>h.mov(t));const u=this._state.map(h=>et.fromPositions(h.ranges[h.index].getStartPosition(),h.ranges[h.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(u)}finally{this._ignoreSelection=!1}})}};hm.ID="editor.contrib.smartSelectController";hm=FSe([BSe(1,ut)],hm);class fZ extends lt{constructor(t,s){super(s),this._forward=t}run(t,s){return ck(this,void 0,void 0,function*(){let l=hm.get(s);l&&(yield l.run(this._forward))})}}class WSe extends fZ{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:E("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"1_basic",title:E({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}pi.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class VSe extends fZ{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:E("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:re.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:ce.MenubarSelectionMenu,group:"1_basic",title:E({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}Li(hm.ID,hm);$e(WSe);$e(VSe);function gZ(d,t,s,l,u){return ck(this,void 0,void 0,function*(){const h=d.all(t).concat(new OSe);h.length===1&&h.unshift(new el);let f=[],m=[];for(const A of h)f.push(Promise.resolve(A.provideSelectionRanges(t,s,u)).then(C=>{if(Mo(C)&&C.length===s.length)for(let w=0;w<s.length;w++){m[w]||(m[w]=[]);for(const k of C[w])$.isIRange(k.range)&&$.containsPosition(k.range,s[w])&&m[w].push($.lift(k.range))}},Ms));return yield Promise.all(f),m.map(A=>{if(A.length===0)return[];A.sort((D,I)=>me.isBefore(D.getStartPosition(),I.getStartPosition())?1:me.isBefore(I.getStartPosition(),D.getStartPosition())||me.isBefore(D.getEndPosition(),I.getEndPosition())?-1:me.isBefore(I.getEndPosition(),D.getEndPosition())?1:0);let C=[],w;for(const D of A)(!w||$.containsRange(D,w)&&!$.equalsRange(D,w))&&(C.push(D),w=D);if(!l.selectLeadingAndTrailingWhitespace)return C;let k=[C[0]];for(let D=1;D<C.length;D++){const I=C[D-1],N=C[D];if(N.startLineNumber!==I.startLineNumber||N.endLineNumber!==I.endLineNumber){const R=new $(I.startLineNumber,t.getLineFirstNonWhitespaceColumn(I.startLineNumber),I.endLineNumber,t.getLineLastNonWhitespaceColumn(I.endLineNumber));R.containsRange(I)&&!R.equalsRange(I)&&N.containsRange(R)&&!N.equalsRange(R)&&k.push(R);const O=new $(I.startLineNumber,1,I.endLineNumber,t.getLineMaxColumn(I.endLineNumber));O.containsRange(I)&&!O.equalsRange(R)&&N.containsRange(O)&&!N.equalsRange(O)&&k.push(O)}k.push(N)}return k})})}pi.registerCommand("_executeSelectionRangeProvider",function(d,...t){return ck(this,void 0,void 0,function*(){const[s,l]=t;Zi(Lt.isUri(s));const u=d.get(ut).selectionRangeProvider,h=yield d.get(Ao).createModelReference(s);try{return gZ(u,h.object.textEditorModel,l,{selectLeadingAndTrailingWhitespace:!0},ti.None)}finally{h.dispose()}})});class HSe extends lt{constructor(){super({id:"editor.action.forceRetokenize",label:E("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(t,s){if(!s.hasModel())return;const l=s.getModel();l.resetTokenization();const u=new mo(!0);l.forceTokenization(l.getLineCount()),u.stop(),console.log(`tokenization took ${u.elapsed()}`)}}$e(HSe);class dm extends lt{constructor(){super({id:dm.ID,label:E({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(t,s){const u=!aC.getTabFocusMode();aC.setTabFocusMode(u),qs(u?E("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):E("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}dm.ID="editor.action.toggleTabFocusMode";$e(dm);var USe=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},zSe=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let gD=class extends Se{constructor(t,s,l={},u){var h;super(),this._link=s,this._enabled=!0,this.el=Re(t,Ue("a.monaco-link",{tabIndex:(h=s.tabIndex)!==null&&h!==void 0?h:0,href:s.href,title:s.title},s.label)),this.el.setAttribute("role","button");const f=this._register(new Ui(this.el,"click")),m=this._register(new Ui(this.el,"keypress")),A=ft.chain(m.event).map(k=>new hn(k)).filter(k=>k.keyCode===3).event,C=this._register(new Ui(this.el,nn.Tap)).event;this._register(Wi.addTarget(this.el));const w=ft.any(f.event,A,C);this._register(w(k=>{!this.enabled||(Ri.stop(k,!0),l?.opener?l.opener(this._link.href):u.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};gD=USe([zSe(3,Zl)],gD);rn((d,t)=>{const s=d.getColor(Zw);s&&t.addRule(`.monaco-link { color: ${s}; }`);const l=d.getColor(Qw);l&&t.addRule(`.monaco-link:hover { color: ${l}; }`)});var mZ=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},pZ=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const GSe=26;let mD=class extends Se{constructor(t,s){super(),this._editor=t,this.instantiationService=s,this.banner=this._register(this.instantiationService.createInstance(pD))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(t){this.banner.show(Object.assign(Object.assign({},t),{onClose:()=>{this.hide(),t.onClose&&t.onClose()}})),this._editor.setBanner(this.banner.element,GSe)}};mD=mZ([pZ(1,ii)],mD);let pD=class extends Se{constructor(t){super(),this.instantiationService=t,this.markdownRenderer=this.instantiationService.createInstance(Mc,{}),this.element=Ue("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(t){if(t.ariaLabel)return t.ariaLabel;if(typeof t.message=="string")return t.message}getBannerMessage(t){if(typeof t=="string"){const s=Ue("span");return s.innerText=t,s}return this.markdownRenderer.render(t).element}clear(){vs(this.element)}show(t){vs(this.element);const s=this.getAriaLabel(t);s&&this.element.setAttribute("aria-label",s);const l=Re(this.element,Ue("div.icon-container"));l.setAttribute("aria-hidden","true"),t.icon&&l.appendChild(Ue(`div${Qi.asCSSSelector(t.icon)}`));const u=Re(this.element,Ue("div.message-container"));if(u.setAttribute("aria-hidden","true"),u.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=Re(this.element,Ue("div.message-actions-container")),t.actions)for(const f of t.actions)this._register(this.instantiationService.createInstance(gD,this.messageActionsContainer,Object.assign(Object.assign({},f),{tabIndex:-1}),{}));const h=Re(this.element,Ue("div.action-container"));this.actionBar=this._register(new w0(h)),this.actionBar.push(this._register(new Po("banner.close","Close Banner",Qi.asClassName(rU),!0,()=>{typeof t.onClose=="function"&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};pD=mZ([pZ(0,ii)],pD);var HE=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},xg=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},pr=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const jSe=bs("extensions-warning-message",T.warning,E("warningIcon","Icon shown with a warning message in the extensions editor."));let fm=class extends Se{constructor(t,s,l,u){super(),this._editor=t,this._editorWorkerService=s,this._workspaceTrustService=l,this._highlighter=null,this._bannerClosed=!1,this._updateState=h=>{if(h&&h.hasMore){if(this._bannerClosed)return;const f=Math.max(h.ambiguousCharacterCount,h.nonBasicAsciiCharacterCount,h.invisibleCharacterCount);let m;if(h.nonBasicAsciiCharacterCount>=f)m={message:E("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Mm};else if(h.ambiguousCharacterCount>=f)m={message:E("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new mh};else if(h.invisibleCharacterCount>=f)m={message:E("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Rm};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:m.message,icon:jSe,actions:[{label:m.command.shortLabel,href:`command:${m.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(u.createInstance(mD,t)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=t.getOption(113),this._register(l.onDidChangeTrust(h=>{this._updateHighlighter()})),this._register(t.onDidChangeConfiguration(h=>{h.hasChanged(113)&&(this._options=t.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const t=ZSe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(l=>l===!1))return;const s={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(l=>l.codePointAt(0)),allowedLocales:Object.keys(t.allowedLocales).map(l=>l==="_os"?new Intl.NumberFormat().resolvedOptions().locale:l==="_vscode"?Boe:l)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new AD(this._editor,s,this._updateState,this._editorWorkerService):this._highlighter=new QSe(this._editor,s,this._updateState)}getDecorationInfo(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}};fm.ID="editor.contrib.unicodeHighlighter";fm=HE([xg(1,Gl),xg(2,CU),xg(3,ii)],fm);function ZSe(d,t){return{nonBasicASCII:t.nonBasicASCII===qo?!d:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===qo?!d:t.includeComments,includeStrings:t.includeStrings===qo?!d:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}let AD=class extends Se{constructor(t,s,l,u){super(),this._editor=t,this._options=s,this._updateState=l,this._editorWorkerService=u,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new zi(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const t=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(s=>{if(this._model.isDisposed()||this._model.getVersionId()!==t)return;this._updateState(s);const l=[];if(!s.hasMore)for(const u of s.ranges)l.push({range:u,options:gm.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),l))})}getDecorationInfo(t){if(!this._decorationIds.has(t))return null;const s=this._editor.getModel(),l=s.getDecorationRange(t),u={range:l,options:gm.instance.getDecorationFromOptions(this._options),id:t,ownerId:0};if(!KI(s,u))return null;const h=s.getValueInRange(l);return{reason:AZ(h,this._options),inComment:XI(s,u),inString:JI(s,u)}}};AD=HE([xg(3,Gl)],AD);class QSe extends Se{constructor(t,s,l){super(),this._editor=t,this._options=s,this._updateState=l,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new zi(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const t=this._editor.getVisibleRanges(),s=[],l={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const u of t){const h=fI.computeUnicodeHighlights(this._model,this._options,u);for(const f of h.ranges)l.ranges.push(f);l.ambiguousCharacterCount+=l.ambiguousCharacterCount,l.invisibleCharacterCount+=l.invisibleCharacterCount,l.nonBasicAsciiCharacterCount+=l.nonBasicAsciiCharacterCount,l.hasMore=l.hasMore||h.hasMore}if(!l.hasMore)for(const u of l.ranges)s.push({range:u,options:gm.instance.getDecorationFromOptions(this._options)});this._updateState(l),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),s))}getDecorationInfo(t){if(!this._decorationIds.has(t))return null;const s=this._editor.getModel(),l=s.getDecorationRange(t),u=s.getValueInRange(l),h={range:l,options:gm.instance.getDecorationFromOptions(this._options),id:t,ownerId:0};return KI(s,h)?{reason:AZ(u,this._options),inComment:XI(s,h),inString:JI(s,h)}:null}}let _D=class{constructor(t,s,l){this._editor=t,this._languageService=s,this._openerService=l,this.hoverOrdinal=4}computeSync(t,s){if(!this._editor.hasModel()||t.type!==1)return[];const l=this._editor.getModel(),u=this._editor.getContribution(fm.ID);if(!u)return[];const h=[];let f=300;for(const m of s){const A=u.getDecorationInfo(m.id);if(!A)continue;const w=l.getValueInRange(m.range).codePointAt(0),k=VB(w);let D;switch(A.reason.kind){case 0:D=E("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",k,VB(A.reason.confusableWith.codePointAt(0)));break;case 1:D=E("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",k);break;case 2:D=E("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",k);break}const I={codePoint:w,reason:A.reason,inComment:A.inComment,inString:A.inString},N=E("unicodeHighlight.adjustSettings","Adjust settings"),R=[{value:`${D} [${N}](command:${B_.ID}?${encodeURIComponent(JSON.stringify(I))})`,isTrusted:!0}];h.push(new Cc(this,m.range,R,f++))}return h}renderHoverParts(t,s){return oj(t,s,this._editor,this._languageService,this._openerService)}};_D=HE([xg(1,yn),xg(2,Zl)],_D);function CD(d){return`U+${d.toString(16).padStart(4,"0")}`}function VB(d){let t=`\`${CD(d)}\``;return h0.isInvisibleCharacter(d)||(t+=` "${`${YSe(d)}`}"`),t}function YSe(d){return d===96?"`` ` ``":"`"+String.fromCodePoint(d)+"`"}function AZ(d,t){return fI.computeUnicodeHighlightReason(d,t)}class gm{constructor(){this.map=new Map}getDecorationFromOptions(t){return this.getDecoration(!t.includeComments,!t.includeStrings)}getDecoration(t,s){const l=`${t}${s}`;let u=this.map.get(l);return u||(u=Qt.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:t,hideInStringTokens:s}),this.map.set(l,u)),u}}gm.instance=new gm;class $Se extends lt{constructor(){super({id:mh.ID,label:E("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=E("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(t,s,l){return pr(this,void 0,void 0,function*(){let u=t?.get(Yi);u&&this.runAction(u)})}runAction(t){return pr(this,void 0,void 0,function*(){yield t.updateValue(lo.includeComments,!1,1)})}}class KSe extends lt{constructor(){super({id:mh.ID,label:E("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=E("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(t,s,l){return pr(this,void 0,void 0,function*(){let u=t?.get(Yi);u&&this.runAction(u)})}runAction(t){return pr(this,void 0,void 0,function*(){yield t.updateValue(lo.includeStrings,!1,1)})}}class mh extends lt{constructor(){super({id:mh.ID,label:E("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=E("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(t,s,l){return pr(this,void 0,void 0,function*(){let u=t?.get(Yi);u&&this.runAction(u)})}runAction(t){return pr(this,void 0,void 0,function*(){yield t.updateValue(lo.ambiguousCharacters,!1,1)})}}mh.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class Rm extends lt{constructor(){super({id:Rm.ID,label:E("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=E("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(t,s,l){return pr(this,void 0,void 0,function*(){let u=t?.get(Yi);u&&this.runAction(u)})}runAction(t){return pr(this,void 0,void 0,function*(){yield t.updateValue(lo.invisibleCharacters,!1,1)})}}Rm.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class Mm extends lt{constructor(){super({id:Mm.ID,label:E("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=E("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(t,s,l){return pr(this,void 0,void 0,function*(){let u=t?.get(Yi);u&&this.runAction(u)})}runAction(t){return pr(this,void 0,void 0,function*(){yield t.updateValue(lo.nonBasicASCII,!1,1)})}}Mm.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class B_ extends lt{constructor(){super({id:B_.ID,label:E("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(t,s,l){return pr(this,void 0,void 0,function*(){const{codePoint:u,reason:h,inString:f,inComment:m}=l,A=String.fromCodePoint(u),C=t.get(Oc),w=t.get(Yi);function k(N){return h0.isInvisibleCharacter(N)?E("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",CD(N)):E("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${CD(N)} "${A}"`)}const D=[];if(h.kind===0)for(const N of h.notAmbiguousInLocales)D.push({label:E("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',N),run:()=>pr(this,void 0,void 0,function*(){JSe(w,[N])})});if(D.push({label:k(u),run:()=>XSe(w,[u])}),m){const N=new $Se;D.push({label:N.label,run:()=>pr(this,void 0,void 0,function*(){return N.runAction(w)})})}else if(f){const N=new KSe;D.push({label:N.label,run:()=>pr(this,void 0,void 0,function*(){return N.runAction(w)})})}if(h.kind===0){const N=new mh;D.push({label:N.label,run:()=>pr(this,void 0,void 0,function*(){return N.runAction(w)})})}else if(h.kind===1){const N=new Rm;D.push({label:N.label,run:()=>pr(this,void 0,void 0,function*(){return N.runAction(w)})})}else if(h.kind===2){const N=new Mm;D.push({label:N.label,run:()=>pr(this,void 0,void 0,function*(){return N.runAction(w)})})}else qSe(h);const I=yield C.pick(D,{title:E("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});I&&(yield I.run())})}}B_.ID="editor.action.unicodeHighlight.showExcludeOptions";function XSe(d,t){return pr(this,void 0,void 0,function*(){const s=d.getValue(lo.allowedCharacters);let l;typeof s=="object"&&s?l=s:l={};for(const u of t)l[String.fromCodePoint(u)]=!0;yield d.updateValue(lo.allowedCharacters,l,1)})}function JSe(d,t){var s;return pr(this,void 0,void 0,function*(){const l=(s=d.inspect(lo.allowedLocales).user)===null||s===void 0?void 0:s.value;let u;typeof l=="object"&&l?u=Object.assign({},l):u={};for(const h of t)u[h]=!0;yield d.updateValue(lo.allowedLocales,u,1)})}function qSe(d){throw new Error(`Unexpected value: ${d}`)}$e(mh);$e(Rm);$e(Mm);$e(B_);Li(fm.ID,fm);Uf.register(_D);var eye=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},HB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},tye=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};const _Z="ignoreUnusualLineTerminators";function iye(d,t,s){d.setModelProperty(t.uri,_Z,s)}function nye(d,t){return d.getModelProperty(t.uri,_Z)}let J4=class extends Se{constructor(t,s,l){super(),this._editor=t,this._dialogService=s,this._codeEditorService=l,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return tye(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||nye(this._codeEditorService,t)===!0||this._editor.getOption(81))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:E("unusualLineTerminators.title","Unusual Line Terminators"),message:E("unusualLineTerminators.message","Detected unusual line terminators"),detail:E("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Ul(t.uri)),primaryButton:E("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:E("unusualLineTerminators.ignore","Ignore")})).confirmed){iye(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};J4.ID="editor.contrib.unusualLineTerminatorsDetector";J4=eye([HB(1,v_),HB(2,Mi)],J4);Li(J4.ID,J4);var sye=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},Zp=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let q4=class extends Se{constructor(t,s,l,u,h,f){super(),this._modelService=s,this._themeService=l,this._configurationService=u,this._editor=t,this._provider=f.documentRangeSemanticTokensProvider,this._debounceInformation=h.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new zi(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const m=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{m()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),m()})),this._register(this._editor.onDidChangeModelContent(A=>{this._cancelAll(),m()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),m()})),this._register(this._configurationService.onDidChangeConfiguration(A=>{A.affectsConfiguration(Dx)&&(this._cancelAll(),m())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),m()}))}_cancelAll(){for(const t of this._outstandingRequests)t.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(t){for(let s=0,l=this._outstandingRequests.length;s<l;s++)if(this._outstandingRequests[s]===t){this._outstandingRequests.splice(s,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const t=this._editor.getModel();if(t.hasCompleteSemanticTokens())return;if(!I7(t,this._themeService,this._configurationService)){t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1);return}if(!wAe(this._provider,t)){t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1);return}const s=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(s.map(l=>this._requestRange(t,l)))}_requestRange(t,s){const l=t.getVersionId(),u=js(f=>Promise.resolve(yx(this._provider,t,s,f))),h=new mo(!1);return u.then(f=>{if(this._debounceInformation.update(t,h.elapsed()),!f||!f.tokens||t.isDisposed()||t.getVersionId()!==l)return;const{provider:m,tokens:A}=f,C=this._modelService.getSemanticTokensProviderStyling(m);t.setPartialSemanticTokens(s,PU(A,C,t.getLanguageId()))}).then(()=>this._removeOutstandingRequest(u),()=>this._removeOutstandingRequest(u)),u}};q4.ID="editor.contrib.viewportSemanticTokens";q4=sye([Zp(1,Ln),Zp(2,dn),Zp(3,Yi),Zp(4,jl),Zp(5,ut)],q4);Li(q4.ID,q4);var rye=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},UB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const oye=oe("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},E("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),lye=oe("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},E("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),aye=oe("editor.wordHighlightBorder",{light:null,dark:null,hc:Fr},E("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),cye=oe("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Fr},E("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),uye=oe("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},E("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),hye=oe("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},E("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),uk=new rt("hasWordHighlights",!1);function CZ(d,t,s,l){const u=d.ordered(t);return tV(u.map(h=>()=>Promise.resolve(h.provideDocumentHighlights(t,s,l)).then(void 0,Ms)),Mo)}class wZ{constructor(t,s,l){this._model=t,this._selection=s,this._wordSeparators=l,this._wordRange=this._getCurrentWordRange(t,s),this._result=null}get result(){return this._result||(this._result=js(t=>this._compute(this._model,this._selection,this._wordSeparators,t))),this._result}_getCurrentWordRange(t,s){const l=t.getWordAtPosition(s.getPosition());return l?new $(s.startLineNumber,l.startColumn,s.startLineNumber,l.endColumn):null}isValid(t,s,l){const u=s.startLineNumber,h=s.startColumn,f=s.endColumn,m=this._getCurrentWordRange(t,s);let A=Boolean(this._wordRange&&this._wordRange.equalsRange(m));for(let C=0,w=l.length;!A&&C<w;C++){let k=t.getDecorationRange(l[C]);k&&k.startLineNumber===u&&k.startColumn<=h&&k.endColumn>=f&&(A=!0)}return A}cancel(){this.result.cancel()}}class dye extends wZ{constructor(t,s,l,u){super(t,s,l),this._providers=u}_compute(t,s,l,u){return CZ(this._providers,t,s.getPosition(),u).then(h=>h||[])}}class fye extends wZ{constructor(t,s,l){super(t,s,l),this._selectionIsEmpty=s.isEmpty()}_compute(t,s,l,u){return zu(250,u).then(()=>{if(!s.isEmpty())return[];const h=t.getWordAtPosition(s.getPosition());return!h||h.word.length>1e3?[]:t.findMatches(h.word,!0,!1,!0,l,!1).map(m=>({range:m.range,kind:GA.Text}))})}isValid(t,s,l){const u=s.isEmpty();return this._selectionIsEmpty!==u?!1:super.isValid(t,s,l)}}function gye(d,t,s,l){return d.has(t)?new dye(t,s,l,d):new fye(t,s,l)}D0("_executeDocumentHighlights",(d,t,s)=>{const l=d.get(ut);return CZ(l.documentHighlightProvider,t,s,ti.None)});class Pm{constructor(t,s,l){this.toUnhook=new je,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=t,this.providers=s,this._hasWordHighlights=uk.bindTo(l),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition(u=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(u)})),this.toUnhook.add(t.onDidChangeModelContent(u=>{this._stopAll()})),this.toUnhook.add(t.onDidChangeConfiguration(u=>{let h=this.editor.getOption(72);this.occurrencesHighlight!==h&&(this.occurrencesHighlight=h,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return vf(this._decorationIds.map(t=>this.model.getDecorationRange(t)).sort($.compareRangesUsingStarts))}moveNext(){let t=this._getSortedHighlights(),l=(t.findIndex(h=>h.containsPosition(this.editor.getPosition()))+1)%t.length,u=t[l];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(u.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(u);const h=this._getWord();if(h){const f=this.editor.getModel().getLineContent(u.startLineNumber);qs(`${f}, ${l+1} of ${t.length} for '${h.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let t=this._getSortedHighlights(),l=(t.findIndex(h=>h.containsPosition(this.editor.getPosition()))-1+t.length)%t.length,u=t[l];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(u.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(u);const h=this._getWord();if(h){const f=this.editor.getModel().getLineContent(u.startLineNumber);qs(`${f}, ${l+1} of ${t.length} for '${h.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(t){if(!this.occurrencesHighlight){this._stopAll();return}if(t.reason!==3){this._stopAll();return}this._run()}_getWord(){let t=this.editor.getSelection(),s=t.startLineNumber,l=t.startColumn;return this.model.getWordAtPosition({lineNumber:s,column:l})}_run(){let t=this.editor.getSelection();if(t.startLineNumber!==t.endLineNumber){this._stopAll();return}let s=t.startColumn,l=t.endColumn;const u=this._getWord();if(!u||u.startColumn>s||u.endColumn<l){this._stopAll();return}const h=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),h)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let f=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=gye(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(m=>{f===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=m||[],this._beginRenderDecorations())},Bt)}}_beginRenderDecorations(){let t=new Date().getTime(),s=this.lastCursorPositionChangeTime+250;t>=s?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},s-t)}renderDecorations(){this.renderDecorationsTimer=-1;let t=[];for(const s of this.workerRequestValue)s.range&&t.push({range:s.range,options:Pm._getDecorationOptions(s.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(t){return t===GA.Write?this._WRITE_OPTIONS:t===GA.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Pm._WRITE_OPTIONS=Qt.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Wn(hye),position:Bl.Center},minimap:{color:Wn($w),position:Rl.Inline}});Pm._TEXT_OPTIONS=Qt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Wn(nH),position:Bl.Center},minimap:{color:Wn($w),position:Rl.Inline}});Pm._REGULAR_OPTIONS=Qt.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Wn(uye),position:Bl.Center},minimap:{color:Wn($w),position:Rl.Inline}});let Af=class vZ extends Se{constructor(t,s,l){super(),this.wordHighlighter=null;const u=()=>{t.hasModel()&&(this.wordHighlighter=new Pm(t,l.documentHighlightProvider,s))};this._register(t.onDidChangeModel(h=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),u()})),u()}static get(t){return t.getContribution(vZ.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(t){this.wordHighlighter&&t&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};Af.ID="editor.contrib.wordHighlighter";Af=rye([UB(1,Mt),UB(2,ut)],Af);class kZ extends lt{constructor(t,s){super(s),this._isNext=t}run(t,s){const l=Af.get(s);!l||(this._isNext?l.moveNext():l.moveBack())}}class mye extends kZ{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:E("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:uk,kbOpts:{kbExpr:re.editorTextFocus,primary:65,weight:100}})}}class pye extends kZ{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:E("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:uk,kbOpts:{kbExpr:re.editorTextFocus,primary:1089,weight:100}})}}class Aye extends lt{constructor(){super({id:"editor.action.wordHighlight.trigger",label:E("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:uk.toNegated(),kbOpts:{kbExpr:re.editorTextFocus,primary:0,weight:100}})}run(t,s,l){const u=Af.get(s);!u||u.restoreViewState(!0)}}Li(Af.ID,Af);$e(mye);$e(pye);$e(Aye);rn((d,t)=>{const s=d.getColor(MI);s&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${s}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${s.transparent(.5)}; }`));const l=d.getColor(oye);l&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${l}; }`);const u=d.getColor(lye);u&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${u}; }`);const h=d.getColor(cue);h&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${d.type==="hc"?"dotted":"solid"} ${h}; box-sizing: border-box; }`);const f=d.getColor(aye);f&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${d.type==="hc"?"dashed":"solid"} ${f}; box-sizing: border-box; }`);const m=d.getColor(cye);m&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${d.type==="hc"?"dashed":"solid"} ${m}; box-sizing: border-box; }`)});class hk extends nr{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,s,l){if(!s.hasModel())return;const u=Wl(s.getOption(117)),h=s.getModel(),m=s.getSelections().map(A=>{const C=new me(A.positionLineNumber,A.positionColumn),w=this._move(u,h,C,this._wordNavigationType);return this._moveTo(A,w,this._inSelectionMode)});if(h.pushStackElement(),s._getViewModel().setCursorStates("moveWordCommand",3,m.map(A=>Xt.fromModelSelection(A))),m.length===1){const A=new me(m[0].positionLineNumber,m[0].positionColumn);s.revealPosition(A,0)}}_moveTo(t,s,l){return l?new et(t.selectionStartLineNumber,t.selectionStartColumn,s.lineNumber,s.column):new et(s.lineNumber,s.column,s.lineNumber,s.column)}}class ph extends hk{_move(t,s,l,u){return Ai.moveWordLeft(t,s,l,u)}}class Ah extends hk{_move(t,s,l,u){return Ai.moveWordRight(t,s,l,u)}}class _ye extends ph{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class Cye extends ph{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class wye extends ph{constructor(){var t;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:it.and(re.textInputFocus,(t=it.and(f_,Cv))===null||t===void 0?void 0:t.negate()),primary:2063,mac:{primary:527},weight:100}})}}class vye extends ph{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class kye extends ph{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class bye extends ph{constructor(){var t;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:it.and(re.textInputFocus,(t=it.and(f_,Cv))===null||t===void 0?void 0:t.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class Sye extends ph{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(t,s,l,u){return super._move(Wl(a2.wordSeparators.defaultValue),s,l,u)}}class yye extends ph{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(t,s,l,u){return super._move(Wl(a2.wordSeparators.defaultValue),s,l,u)}}class Lye extends Ah{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class Dye extends Ah{constructor(){var t;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:it.and(re.textInputFocus,(t=it.and(f_,Cv))===null||t===void 0?void 0:t.negate()),primary:2065,mac:{primary:529},weight:100}})}}class Iye extends Ah{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class xye extends Ah{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class Eye extends Ah{constructor(){var t;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:it.and(re.textInputFocus,(t=it.and(f_,Cv))===null||t===void 0?void 0:t.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class Nye extends Ah{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class Tye extends Ah{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(t,s,l,u){return super._move(Wl(a2.wordSeparators.defaultValue),s,l,u)}}class Rye extends Ah{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(t,s,l,u){return super._move(Wl(a2.wordSeparators.defaultValue),s,l,u)}}class dk extends nr{constructor(t){super(t),this._whitespaceHeuristics=t.whitespaceHeuristics,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,s,l){const u=t.get(vr);if(!s.hasModel())return;const h=Wl(s.getOption(117)),f=s.getModel(),m=s.getSelections(),A=s.getOption(5),C=s.getOption(8),w=u.getLanguageConfiguration(f.getLanguageId()).getAutoClosingPairs(),k=s._getViewModel(),D=m.map(I=>{const N=this._delete({wordSeparators:h,model:f,selection:I,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:s.getOption(6),autoClosingBrackets:A,autoClosingQuotes:C,autoClosingPairs:w,autoClosedCharacters:k.getCursorAutoClosedCharacters()},this._wordNavigationType);return new $s(N,"")});s.pushUndoStop(),s.executeCommands(this.id,D),s.pushUndoStop()}}class UE extends dk{_delete(t,s){let l=Ai.deleteWordLeft(t,s);return l||new $(1,1,1,1)}}class zE extends dk{_delete(t,s){let l=Ai.deleteWordRight(t,s);if(l)return l;const u=t.model.getLineCount(),h=t.model.getLineMaxColumn(u);return new $(u,h,u,h)}}class Mye extends UE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:re.writable})}}class Pye extends UE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:re.writable})}}class Oye extends UE{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Fye extends zE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:re.writable})}}class Bye extends zE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:re.writable})}}class Wye extends zE{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class Vye extends lt{constructor(){super({id:"deleteInsideWord",precondition:re.writable,label:E("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(t,s,l){if(!s.hasModel())return;const u=Wl(s.getOption(117)),h=s.getModel(),m=s.getSelections().map(A=>{const C=Ai.deleteInsideWord(u,h,A);return new $s(C,"")});s.pushUndoStop(),s.executeCommands(this.id,m),s.pushUndoStop()}}Qe(new _ye);Qe(new Cye);Qe(new wye);Qe(new vye);Qe(new kye);Qe(new bye);Qe(new Lye);Qe(new Dye);Qe(new Iye);Qe(new xye);Qe(new Eye);Qe(new Nye);Qe(new Sye);Qe(new yye);Qe(new Tye);Qe(new Rye);Qe(new Mye);Qe(new Pye);Qe(new Oye);Qe(new Fye);Qe(new Bye);Qe(new Wye);$e(Vye);class Hye extends dk{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(t,s){let l=ev.deleteWordPartLeft(t);return l||new $(1,1,1,1)}}class Uye extends dk{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:re.writable,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(t,s){let l=ev.deleteWordPartRight(t);if(l)return l;const u=t.model.getLineCount(),h=t.model.getLineMaxColumn(u);return new $(u,h,u,h)}}class bZ extends hk{_move(t,s,l,u){return ev.moveWordPartLeft(t,s,l)}}class zye extends bZ{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}pi.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class Gye extends bZ{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}pi.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class SZ extends hk{_move(t,s,l,u){return ev.moveWordPartRight(t,s,l)}}class jye extends SZ{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class Zye extends SZ{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:re.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}Qe(new Hye);Qe(new Uye);Qe(new zye);Qe(new Gye);Qe(new jye);Qe(new Zye);var yZ=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},y3=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};const LZ=new rt("accessibilityHelpWidgetVisible",!1);let _f=class DZ extends Se{constructor(t,s){super(),this._editor=t,this._widget=this._register(s.createInstance(mm,this._editor))}static get(t){return t.getContribution(DZ.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};_f.ID="editor.contrib.accessibilityHelpController";_f=yZ([y3(1,ii)],_f);function Qye(d,t){return!d||d.length===0?as.noSelection:d.length===1?t?xl(as.singleSelectionRange,d[0].positionLineNumber,d[0].positionColumn,t):xl(as.singleSelection,d[0].positionLineNumber,d[0].positionColumn):t?xl(as.multiSelectionRange,d.length,t):d.length>0?xl(as.multiSelection,d.length):""}let mm=class L3 extends ba{constructor(t,s,l,u){super(),this._contextKeyService=s,this._keybindingService=l,this._openerService=u,this._editor=t,this._isVisibleKey=LZ.bindTo(this._contextKeyService),this._domNode=_i(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=_i(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(zs(this._contentDomNode.domNode,"keydown",h=>{if(!!this._isVisible&&(h.equals(2083)&&(qs(as.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),vs(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),h.preventDefault(),h.stopPropagation()),h.equals(2086))){qs(as.openingDocs);let f=this._editor.getRawOptions().accessibilityHelpUrl;typeof f>"u"&&(f="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(Lt.parse(f)),h.preventDefault(),h.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return L3.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(t,s,l){const u=this._keybindingService.lookupKeybinding(t);return u?xl(s,u.getAriaLabel()):xl(l,t)}_buildContent(){const t=this._editor.getOptions(),s=this._editor.getSelections();let l=0;if(s){const m=this._editor.getModel();m&&s.forEach(A=>{l+=m.getValueLengthInRange(A)})}let u=Qye(s,l);t.get(54)?t.get(81)?u+=as.readonlyDiffEditor:u+=as.editableDiffEditor:t.get(81)?u+=as.readonlyEditor:u+=as.editableEditor;const h=Jt?as.changeConfigToOnMac:as.changeConfigToOnWinLinux;switch(t.get(2)){case 0:u+=`

 - `+h;break;case 2:u+=`

 - `+as.auto_on;break;case 1:u+=`

 - `+as.auto_off,u+=" "+h;break}t.get(130)?u+=`

 - `+this._descriptionForCommand(dm.ID,as.tabFocusModeOnMsg,as.tabFocusModeOnMsgNoKb):u+=`

 - `+this._descriptionForCommand(dm.ID,as.tabFocusModeOffMsg,as.tabFocusModeOffMsgNoKb);const f=Jt?as.openDocMac:as.openDocWinLinux;u+=`

 - `+f,u+=`

`+as.outroMsg,this._contentDomNode.domNode.appendChild(UU(u)),this._contentDomNode.domNode.setAttribute("aria-label",u)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,vs(this._contentDomNode.domNode),this._editor.focus())}_layout(){const t=this._editor.getLayoutInfo(),s=Math.max(5,Math.min(L3.WIDTH,t.width-40)),l=Math.max(5,Math.min(L3.HEIGHT,t.height-40));this._domNode.setWidth(s),this._domNode.setHeight(l);const u=Math.round((t.height-l)/2);this._domNode.setTop(u);const h=Math.round((t.width-s)/2);this._domNode.setLeft(h)}};mm.ID="editor.contrib.accessibilityHelpWidget";mm.WIDTH=500;mm.HEIGHT=300;mm=yZ([y3(1,Mt),y3(2,Hn),y3(3,Zl)],mm);class Yye extends lt{constructor(){super({id:"editor.action.showAccessibilityHelp",label:as.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(t,s){const l=_f.get(s);l&&l.show()}}Li(_f.ID,_f);$e(Yye);const $ye=nr.bindToContribution(_f.get);Qe(new $ye({id:"closeAccessibilityHelp",precondition:LZ,handler:d=>d.hide(),kbOpts:{weight:100+100,kbExpr:re.focus,primary:9,secondary:[1033]}}));rn((d,t)=>{const s=d.getColor(Qr);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${s}; }`);const l=d.getColor(Sc);l&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${l}; }`);const u=d.getColor(Yu);u&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${u}; }`);const h=d.getColor(An);h&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${h}; }`)});class wD extends Se{constructor(t){super(),this.editor=t,this.widget=null,t2&&(this._register(t.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const t=!this.editor.getOption(81);!this.widget&&t?this.widget=new fk(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}wD.ID="editor.contrib.iPadShowKeyboard";class fk extends Se{constructor(t){super(),this.editor=t,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(ze(this._domNode,"touchstart",s=>{this.editor.focus()})),this._register(ze(this._domNode,"focus",s=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return fk.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}fk.ID="editor.contrib.ShowKeyboardWidget";Li(wD.ID,wD);var Kye=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},zB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let pm=class IZ extends Se{constructor(t,s,l){super(),this._editor=t,this._languageService=l,this._widget=null,this._register(this._editor.onDidChangeModel(u=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(u=>this.stop())),this._register(bn.onDidChange(u=>this.stop())),this._register(this._editor.onKeyUp(u=>u.keyCode===9&&this.stop()))}static get(t){return t.getContribution(IZ.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new gk(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};pm.ID="editor.contrib.inspectTokens";pm=Kye([zB(1,pl),zB(2,yn)],pm);class Xye extends lt{constructor(){super({id:"editor.action.inspectTokens",label:a7.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(t,s){const l=pm.get(s);l&&l.launch()}}function Jye(d){let t="";for(let s=0,l=d.length;s<l;s++){const u=d.charCodeAt(s);switch(u){case 9:t+="\u2192";break;case 32:t+="\xB7";break;default:t+=String.fromCharCode(u)}}return t}function qye(d,t){const s=bn.get(t);if(s)return s;const l=d.encodeLanguageId(t);return{getInitialState:()=>Og,tokenize:(u,h,f)=>qW(t,f),tokenizeEncoded:(u,h,f)=>aI(l,f)}}class gk extends Se{constructor(t,s){super(),this.allowEditorOverflow=!0,this._editor=t,this._languageService=s,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=qye(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(l=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return gk._ID}_compute(t){const s=this._getTokensAtLine(t.lineNumber);let l=0;for(let A=s.tokens1.length-1;A>=0;A--){const C=s.tokens1[A];if(t.column-1>=C.offset){l=A;break}}let u=0;for(let A=s.tokens2.length>>>1;A>=0;A--)if(t.column-1>=s.tokens2[A<<1]){u=A;break}const h=this._model.getLineContent(t.lineNumber);let f="";if(l<s.tokens1.length){const A=s.tokens1[l].offset,C=l+1<s.tokens1.length?s.tokens1[l+1].offset:h.length;f=h.substring(A,C)}ju(this._domNode,Ue("h2.tm-token",void 0,Jye(f),Ue("span.tm-token-length",void 0,`${f.length} ${f.length===1?"char":"chars"}`))),Re(this._domNode,Ue("hr.tokens-inspect-separator",{style:"clear:both"}));const m=(u<<1)+1<s.tokens2.length?this._decodeMetadata(s.tokens2[(u<<1)+1]):null;Re(this._domNode,Ue("table.tm-metadata-table",void 0,Ue("tbody",void 0,Ue("tr",void 0,Ue("td.tm-metadata-key",void 0,"language"),Ue("td.tm-metadata-value",void 0,`${m?m.languageId:"-?-"}`)),Ue("tr",void 0,Ue("td.tm-metadata-key",void 0,"token type"),Ue("td.tm-metadata-value",void 0,`${m?this._tokenTypeToString(m.tokenType):"-?-"}`)),Ue("tr",void 0,Ue("td.tm-metadata-key",void 0,"font style"),Ue("td.tm-metadata-value",void 0,`${m?this._fontStyleToString(m.fontStyle):"-?-"}`)),Ue("tr",void 0,Ue("td.tm-metadata-key",void 0,"foreground"),Ue("td.tm-metadata-value",void 0,`${m?ke.Format.CSS.formatHex(m.foreground):"-?-"}`)),Ue("tr",void 0,Ue("td.tm-metadata-key",void 0,"background"),Ue("td.tm-metadata-value",void 0,`${m?ke.Format.CSS.formatHex(m.background):"-?-"}`))))),Re(this._domNode,Ue("hr.tokens-inspect-separator")),l<s.tokens1.length&&Re(this._domNode,Ue("span.tm-token-type",void 0,s.tokens1[l].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(t){const s=bn.getColorMap(),l=Ar.getLanguageId(t),u=Ar.getTokenType(t),h=Ar.getFontStyle(t),f=Ar.getForeground(t),m=Ar.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(l),tokenType:u,fontStyle:h,foreground:s[f],background:s[m]}}_tokenTypeToString(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(t){let s="";return t&1&&(s+="italic "),t&2&&(s+="bold "),t&4&&(s+="underline "),t&8&&(s+="strikethrough "),s.length===0&&(s="---"),s}_getTokensAtLine(t){const s=this._getStateBeforeLine(t),l=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,s),u=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,s);return{startState:s,tokens1:l.tokens,tokens2:u.tokens,endState:l.endState}}_getStateBeforeLine(t){let s=this._tokenizationSupport.getInitialState();for(let l=1;l<t;l++)s=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,s).endState;return s}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}gk._ID="editor.contrib.inspectTokensWidget";Li(pm.ID,pm);$e(Xye);rn((d,t)=>{const s=d.getColor(OI);if(s){const h=d.type===pa.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${h}px solid ${s}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${s}; }`)}const l=d.getColor(Gd);l&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${l}; }`);const u=d.getColor(PI);u&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${u}; }`)});var e7e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},t7e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let pw=class D3{constructor(t){this.quickInputService=t,this.registry=ts.as(Ff.Quickaccess)}provide(t){const s=new je;s.add(t.onDidAccept(()=>{const[h]=t.selectedItems;h&&this.quickInputService.quickAccess.show(h.prefix,{preserveValue:!0})})),s.add(t.onDidChangeValue(h=>{const f=this.registry.getQuickAccessProvider(h.substr(D3.PREFIX.length));f&&f.prefix&&f.prefix!==D3.PREFIX&&this.quickInputService.quickAccess.show(f.prefix,{preserveValue:!0})}));const{editorProviders:l,globalProviders:u}=this.getQuickAccessProviders();return t.items=l.length===0||u.length===0?[...l.length===0?u:l]:[{label:E("globalCommands","global commands"),type:"separator"},...u,{label:E("editorCommands","editor commands"),type:"separator"},...l],s}getQuickAccessProviders(){const t=[],s=[];for(const l of this.registry.getQuickAccessProviders().sort((u,h)=>u.prefix.localeCompare(h.prefix)))if(l.prefix!==D3.PREFIX)for(const u of l.helpEntries){const h=u.prefix||l.prefix,f=h||"\u2026";(u.needsEditor?s:t).push({prefix:h,label:f,ariaLabel:E("helpPickAriaLabel","{0}, {1}",f,u.description),description:u.description})}return{editorProviders:s,globalProviders:t}}};pw.PREFIX="?";pw=e7e([t7e(0,Oc)],pw);ts.as(Ff.Quickaccess).registerQuickAccessProvider({ctor:pw,prefix:"",helpEntries:[{description:c7.helpQuickAccessActionLabel,needsEditor:!0}]});class xZ{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,s){var l;const u=new je;t.canAcceptInBackground=!!(!((l=this.options)===null||l===void 0)&&l.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const h=u.add(new Yr);return h.value=this.doProvide(t,s),u.add(this.onDidActiveTextEditorControlChange(()=>{h.value=void 0,h.value=this.doProvide(t,s)})),u}doProvide(t,s){const l=new je,u=this.activeTextEditorControl;if(u&&this.canProvideWithTextEditor(u)){const h={editor:u},f=Ez(u);if(f){let m=To(u.saveViewState());l.add(f.onDidChangeCursorPosition(()=>{m=To(u.saveViewState())})),h.restoreViewState=()=>{m&&u===this.activeTextEditorControl&&u.restoreViewState(m)},l.add(Ic(s.onCancellationRequested)(()=>{var A;return(A=h.restoreViewState)===null||A===void 0?void 0:A.call(h)}))}l.add($t(()=>this.clearDecorations(u))),l.add(this.provideWithTextEditor(h,t,s))}else l.add(this.provideWithoutTextEditor(t,s));return l}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},s){t.setSelection(s.range),t.revealRangeInCenter(s.range,0),s.preserveFocus||t.focus()}getModel(t){var s;return xz(t)?(s=t.getModel())===null||s===void 0?void 0:s.modified:t.getModel()}addDecorations(t,s){t.changeDecorations(l=>{const u=[];this.rangeHighlightDecorationId&&(u.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),u.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const h=[{range:s,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:s,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Wn(nde),position:Bl.Full}}}],[f,m]=l.deltaDecorations(u,h);this.rangeHighlightDecorationId={rangeHighlightId:f,overviewRulerDecorationId:m}})}clearDecorations(t){const s=this.rangeHighlightDecorationId;s&&(t.changeDecorations(l=>{l.deltaDecorations([s.overviewRulerDecorationId,s.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class mk extends xZ{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(t){const s=E("cannotRunGotoLine","Open a text editor first to go to a line.");return t.items=[{label:s}],t.ariaLabel=s,Se.None}provideWithTextEditor(t,s,l){const u=t.editor,h=new je;h.add(s.onDidAccept(A=>{const[C]=s.selectedItems;if(C){if(!this.isValidLineNumber(u,C.lineNumber))return;this.gotoLocation(t,{range:this.toRange(C.lineNumber,C.column),keyMods:s.keyMods,preserveFocus:A.inBackground}),A.inBackground||s.hide()}}));const f=()=>{const A=this.parsePosition(u,s.value.trim().substr(mk.PREFIX.length)),C=this.getPickLabel(u,A.lineNumber,A.column);if(s.items=[{lineNumber:A.lineNumber,column:A.column,label:C}],s.ariaLabel=C,!this.isValidLineNumber(u,A.lineNumber)){this.clearDecorations(u);return}const w=this.toRange(A.lineNumber,A.column);u.revealRangeInCenter(w,0),this.addDecorations(u,w)};f(),h.add(s.onDidChangeValue(()=>f()));const m=Ez(u);return m&&m.getOptions().get(60).renderType===2&&(m.updateOptions({lineNumbers:"on"}),h.add($t(()=>m.updateOptions({lineNumbers:"relative"})))),h}toRange(t=1,s=1){return{startLineNumber:t,startColumn:s,endLineNumber:t,endColumn:s}}parsePosition(t,s){const l=s.split(/,|:|#/).map(h=>parseInt(h,10)).filter(h=>!isNaN(h)),u=this.lineCount(t)+1;return{lineNumber:l[0]>0?l[0]:u+l[0],column:l[1]}}getPickLabel(t,s,l){if(this.isValidLineNumber(t,s))return this.isValidColumn(t,s,l)?E("gotoLineColumnLabel","Go to line {0} and character {1}.",s,l):E("gotoLineLabel","Go to line {0}.",s);const u=t.getPosition()||{lineNumber:1,column:1},h=this.lineCount(t);return h>1?E("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",u.lineNumber,u.column,h):E("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",u.lineNumber,u.column)}isValidLineNumber(t,s){return!s||typeof s!="number"?!1:s>0&&s<=this.lineCount(t)}isValidColumn(t,s,l){if(!l||typeof l!="number")return!1;const u=this.getModel(t);if(!u)return!1;const h={lineNumber:s,column:l};return u.validatePosition(h).equals(h)}lineCount(t){var s,l;return(l=(s=this.getModel(t))===null||s===void 0?void 0:s.getLineCount())!==null&&l!==void 0?l:0}}mk.PREFIX=":";var i7e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},n7e=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let e_=class extends mk{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=ft.None}get activeTextEditorControl(){return To(this.editorService.getFocusedCodeEditor())}};e_=i7e([n7e(0,Mi)],e_);ts.as(Ff.Quickaccess).registerQuickAccessProvider({ctor:e_,prefix:e_.PREFIX,helpEntries:[{description:MC.gotoLineActionLabel,needsEditor:!0}]});class s7e extends lt{constructor(){super({id:"editor.action.gotoLine",label:MC.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(Oc).quickAccess.show(e_.PREFIX)}}$e(s7e);const EZ=[void 0,[]];function rS(d,t,s=0,l=0){const u=t;return u.values&&u.values.length>1?r7e(d,u.values,s,l):NZ(d,t,s,l)}function r7e(d,t,s,l){let u=0;const h=[];for(const f of t){const[m,A]=NZ(d,f,s,l);if(typeof m!="number")return EZ;u+=m,h.push(...A)}return[u,o7e(h)]}function NZ(d,t,s,l){const u=Kg(t.original,t.originalLowercase,s,d,d.toLowerCase(),l,!0);return u?[u[0],dv(u)]:EZ}Object.freeze({score:0});function o7e(d){const t=d.sort((u,h)=>u.start-h.start),s=[];let l;for(const u of t)!l||!l7e(l,u)?(l=u,s.push(u)):(l.start=Math.min(l.start,u.start),l.end=Math.max(l.end,u.end));return s}function l7e(d,t){return!(d.end<t.start||t.end<d.start)}function GB(d){return d.startsWith('"')&&d.endsWith('"')}const TZ=" ";function vD(d){typeof d!="string"&&(d="");const t=d.toLowerCase(),{pathNormalized:s,normalized:l,normalizedLowercase:u}=jB(d),h=s.indexOf(a0)>=0,f=GB(d);let m;const A=d.split(TZ);if(A.length>1)for(const C of A){const w=GB(C),{pathNormalized:k,normalized:D,normalizedLowercase:I}=jB(C);D&&(m||(m=[]),m.push({original:C,originalLowercase:C.toLowerCase(),pathNormalized:k,normalized:D,normalizedLowercase:I,expectContiguousMatch:w}))}return{original:d,originalLowercase:t,pathNormalized:s,normalized:l,normalizedLowercase:u,values:m,containsPathSeparator:h,expectContiguousMatch:f}}function jB(d){let t;Gs?t=d.replace(/\//g,a0):t=d.replace(/\\/g,a0);const s=kae(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:s,normalizedLowercase:s.toLowerCase()}}function ZB(d){return Array.isArray(d)?vD(d.map(t=>t.original).join(TZ)):vD(d.original)}var a7e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},QB=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},Qp=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let Ca=class kD extends xZ{constructor(t,s,l=Object.create(null)){super(l),this._languageFeaturesService=t,this._outlineModelService=s,this.options=l,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(t){return this.provideLabelPick(t,E("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Se.None}provideWithTextEditor(t,s,l){const u=t.editor,h=this.getModel(u);return h?this._languageFeaturesService.documentSymbolProvider.has(h)?this.doProvideWithEditorSymbols(t,h,s,l):this.doProvideWithoutEditorSymbols(t,h,s,l):Se.None}doProvideWithoutEditorSymbols(t,s,l,u){const h=new je;return this.provideLabelPick(l,E("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),Qp(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(s,h))||u.isCancellationRequested||h.add(this.doProvideWithEditorSymbols(t,s,l,u))}),h}provideLabelPick(t,s){t.items=[{label:s,index:0,kind:14}],t.ariaLabel=s}waitForLanguageSymbolRegistry(t,s){return Qp(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(t))return!0;const l=new uI,u=s.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(t)&&(u.dispose(),l.complete(!0))}));return s.add($t(()=>l.complete(!1))),l.p})}doProvideWithEditorSymbols(t,s,l,u){const h=t.editor,f=new je;f.add(l.onDidAccept(k=>{const[D]=l.selectedItems;D&&D.range&&(this.gotoLocation(t,{range:D.range.selection,keyMods:l.keyMods,preserveFocus:k.inBackground}),k.inBackground||l.hide())})),f.add(l.onDidTriggerItemButton(({item:k})=>{k&&k.range&&(this.gotoLocation(t,{range:k.range.selection,keyMods:l.keyMods,forceSideBySide:!0}),l.hide())}));const m=this.getDocumentSymbols(s,u);let A;const C=()=>Qp(this,void 0,void 0,function*(){A?.dispose(!0),l.busy=!1,A=new tr(u),l.busy=!0;try{const k=vD(l.value.substr(kD.PREFIX.length).trim()),D=yield this.doGetSymbolPicks(m,k,void 0,A.token);if(u.isCancellationRequested)return;D.length>0?l.items=D:k.original.length>0?this.provideLabelPick(l,E("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(l,E("noSymbolResults","No editor symbols"))}finally{u.isCancellationRequested||(l.busy=!1)}});f.add(l.onDidChangeValue(()=>C())),C();let w=!0;return f.add(l.onDidChangeActive(()=>{const[k]=l.activeItems;if(k&&k.range){if(w){w=!1;return}h.revealRangeInCenter(k.range.selection,0),this.addDecorations(h,k.range.decoration)}})),f}doGetSymbolPicks(t,s,l,u){return Qp(this,void 0,void 0,function*(){const h=yield t;if(u.isCancellationRequested)return[];const f=s.original.indexOf(kD.SCOPE_PREFIX)===0,m=f?1:0;let A,C;s.values&&s.values.length>1?(A=ZB(s.values[0]),C=ZB(s.values.slice(1))):A=s;const w=[];for(let I=0;I<h.length;I++){const N=h[I],R=wae(N.name),O=`$(${bS.toIcon(N.kind).id}) ${R}`,W=O.length-R.length;let B=N.containerName;l?.extraContainerLabel&&(B?B=`${l.extraContainerLabel} \u2022 ${B}`:B=l.extraContainerLabel);let z,G,K,q;if(s.original.length>m){let J=!1;if(A!==s&&([z,G]=rS(O,Object.assign(Object.assign({},s),{values:void 0}),m,W),typeof z=="number"&&(J=!0)),typeof z!="number"&&([z,G]=rS(O,A,m,W),typeof z!="number"))continue;if(!J&&C){if(B&&C.original.length>0&&([K,q]=rS(B,C)),typeof K!="number")continue;typeof z=="number"&&(z+=K)}}const Y=N.tags&&N.tags.indexOf(1)>=0;w.push({index:I,kind:N.kind,score:z,label:O,ariaLabel:R,description:B,highlights:Y?void 0:{label:G,description:q},range:{selection:$.collapseToStart(N.selectionRange),decoration:N.range},strikethrough:Y,buttons:(()=>{var J,ne;const Ae=!((J=this.options)===null||J===void 0)&&J.openSideBySideDirection?(ne=this.options)===null||ne===void 0?void 0:ne.openSideBySideDirection():void 0;if(!!Ae)return[{iconClass:Ae==="right"?T.splitHorizontal.classNames:T.splitVertical.classNames,tooltip:Ae==="right"?E("openToSide","Open to the Side"):E("openToBottom","Open to the Bottom")}]})()})}const k=w.sort((I,N)=>f?this.compareByKindAndScore(I,N):this.compareByScore(I,N));let D=[];if(f){let O=function(){N&&typeof I=="number"&&R>0&&(N.label=xl(lS[I]||oS,R))},I,N,R=0;for(const W of k)I!==W.kind?(O(),I=W.kind,R=1,N={type:"separator"},D.push(N)):R++,D.push(W);O()}else k.length>0&&(D=[{label:E("symbols","symbols ({0})",w.length),type:"separator"},...k]);return D})}compareByScore(t,s){if(typeof t.score!="number"&&typeof s.score=="number")return 1;if(typeof t.score=="number"&&typeof s.score!="number")return-1;if(typeof t.score=="number"&&typeof s.score=="number"){if(t.score>s.score)return-1;if(t.score<s.score)return 1}return t.index<s.index?-1:t.index>s.index?1:0}compareByKindAndScore(t,s){const l=lS[t.kind]||oS,u=lS[s.kind]||oS,h=l.localeCompare(u);return h===0?this.compareByScore(t,s):h}getDocumentSymbols(t,s){return Qp(this,void 0,void 0,function*(){const l=yield this._outlineModelService.getOrCreate(t,s);return s.isCancellationRequested?[]:l.asListOfDocumentSymbols()})}};Ca.PREFIX="@";Ca.SCOPE_PREFIX=":";Ca.PREFIX_BY_CATEGORY=`${Ca.PREFIX}${Ca.SCOPE_PREFIX}`;Ca=a7e([QB(0,ut),QB(1,Kv)],Ca);const oS=E("property","properties ({0})"),lS={[5]:E("method","methods ({0})"),[11]:E("function","functions ({0})"),[8]:E("_constructor","constructors ({0})"),[12]:E("variable","variables ({0})"),[4]:E("class","classes ({0})"),[22]:E("struct","structs ({0})"),[23]:E("event","events ({0})"),[24]:E("operator","operators ({0})"),[10]:E("interface","interfaces ({0})"),[2]:E("namespace","namespaces ({0})"),[3]:E("package","packages ({0})"),[25]:E("typeParameter","type parameters ({0})"),[1]:E("modules","modules ({0})"),[6]:E("property","properties ({0})"),[9]:E("enum","enumerations ({0})"),[21]:E("enumMember","enumeration members ({0})"),[14]:E("string","strings ({0})"),[0]:E("file","files ({0})"),[17]:E("array","arrays ({0})"),[15]:E("number","numbers ({0})"),[16]:E("boolean","booleans ({0})"),[18]:E("object","objects ({0})"),[19]:E("key","keys ({0})"),[7]:E("field","fields ({0})"),[13]:E("constant","constants ({0})")};var c7e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},aS=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let bD=class extends Ca{constructor(t,s,l){super(s,l),this.editorService=t,this.onDidActiveTextEditorControlChange=ft.None}get activeTextEditorControl(){return To(this.editorService.getFocusedCodeEditor())}};bD=c7e([aS(0,Mi),aS(1,ut),aS(2,Kv)],bD);ts.as(Ff.Quickaccess).registerQuickAccessProvider({ctor:bD,prefix:Ca.PREFIX,helpEntries:[{description:w4.quickOutlineActionLabel,prefix:Ca.PREFIX,needsEditor:!0},{description:w4.quickOutlineByCategoryActionLabel,prefix:Ca.PREFIX_BY_CATEGORY,needsEditor:!0}]});class u7e extends lt{constructor(){super({id:"editor.action.quickOutline",label:w4.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:re.hasDocumentSymbolProvider,kbOpts:{kbExpr:re.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(t){t.get(Oc).quickAccess.show(Ca.PREFIX)}}$e(u7e);function cS(d,t){return t&&(d.stack||d.stacktrace)?E("stackTrace.format","{0}: {1}",$B(d),YB(d.stack)||YB(d.stacktrace)):$B(d)}function YB(d){return Array.isArray(d)?d.join(`
`):d}function $B(d){return typeof d.code=="string"&&typeof d.errno=="number"&&typeof d.syscall=="string"?E("nodeExceptionMessage","A system error occurred ({0})",d.message):d.message||E("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function RZ(d=null,t=!1){if(!d)return E("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(d)){const s=vf(d),l=RZ(s[0],t);return s.length>1?E("error.moreErrors","{0} ({1} errors in total)",l,s.length):l}if(Ol(d))return d;if(d.detail){const s=d.detail;if(s.error)return cS(s.error,t);if(s.exception)return cS(s.exception,t)}return d.stack?cS(d,t):d.message?d.message:E("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var V6=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})},lg;(function(d){d[d.NO_ACTION=0]="NO_ACTION",d[d.CLOSE_PICKER=1]="CLOSE_PICKER",d[d.REFRESH_PICKER=2]="REFRESH_PICKER",d[d.REMOVE_ITEM=3]="REMOVE_ITEM"})(lg||(lg={}));function uS(d){const t=d;return Array.isArray(t.items)}function h7e(d){const t=d;return!!t.picks&&t.additionalPicks instanceof Promise}class pk extends Se{constructor(t,s){super(),this.prefix=t,this.options=s}provide(t,s){var l;const u=new je;t.canAcceptInBackground=!!(!((l=this.options)===null||l===void 0)&&l.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;let h;const f=u.add(new Yr),m=()=>V6(this,void 0,void 0,function*(){const A=f.value=new je;h?.dispose(!0),t.busy=!1,h=new tr(s);const C=h.token,w=t.value.substr(this.prefix.length).trim(),k=this._getPicks(w,A,C),D=(I,N)=>{var R;let O,W;if(uS(I)?(O=I.items,W=I.active):O=I,O.length===0){if(N)return!1;w.length>0&&((R=this.options)===null||R===void 0?void 0:R.noResultsPick)&&(O=[this.options.noResultsPick])}return t.items=O,W&&(t.activeItems=[W]),!0};if(k!==null)if(h7e(k)){let I=!1,N=!1;yield Promise.all([(()=>V6(this,void 0,void 0,function*(){yield zu(pk.FAST_PICKS_RACE_DELAY),!C.isCancellationRequested&&(N||(I=D(k.picks,!0)))}))(),(()=>V6(this,void 0,void 0,function*(){t.busy=!0;try{const R=yield k.additionalPicks;if(C.isCancellationRequested)return;let O,W;uS(k.picks)?(O=k.picks.items,W=k.picks.active):O=k.picks;let B,z;if(uS(R)?(B=R.items,z=R.active):B=R,B.length>0||!I){let G;if(!W&&!z){const K=t.activeItems[0];K&&O.indexOf(K)!==-1&&(G=K)}D({items:[...O,...B],active:W||z||G})}}finally{C.isCancellationRequested||(t.busy=!1),N=!0}}))()])}else if(!(k instanceof Promise))D(k);else{t.busy=!0;try{const I=yield k;if(C.isCancellationRequested)return;D(I)}finally{C.isCancellationRequested||(t.busy=!1)}}});return u.add(t.onDidChangeValue(()=>m())),m(),u.add(t.onDidAccept(A=>{const[C]=t.selectedItems;typeof C?.accept=="function"&&(A.inBackground||t.hide(),C.accept(t.keyMods,A))})),u.add(t.onDidTriggerItemButton(({button:A,item:C})=>V6(this,void 0,void 0,function*(){var w,k;if(typeof C.trigger=="function"){const D=(k=(w=C.buttons)===null||w===void 0?void 0:w.indexOf(A))!==null&&k!==void 0?k:-1;if(D>=0){const I=C.trigger(D,t.keyMods),N=typeof I=="number"?I:yield I;if(s.isCancellationRequested)return;switch(N){case lg.NO_ACTION:break;case lg.CLOSE_PICKER:t.hide();break;case lg.REFRESH_PICKER:m();break;case lg.REMOVE_ITEM:{const R=t.items.indexOf(C);if(R!==-1){const O=t.items.slice(),W=O.splice(R,1),B=t.activeItems.filter(G=>G!==W[0]),z=t.keepScrollPosition;t.keepScrollPosition=!0,t.items=O,B&&(t.activeItems=B),t.keepScrollPosition=z}break}}}}}))),u}}pk.FAST_PICKS_RACE_DELAY=200;var MZ=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},dd=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},KB=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let t_=class I3 extends pk{constructor(t,s,l,u,h,f){super(I3.PREFIX,t),this.instantiationService=s,this.keybindingService=l,this.commandService=u,this.telemetryService=h,this.dialogService=f,this.commandsHistory=this._register(this.instantiationService.createInstance(Cf)),this.options=t}_getPicks(t,s,l){return KB(this,void 0,void 0,function*(){const u=yield this.getCommandPicks(s,l);if(l.isCancellationRequested)return[];const h=[];for(const C of u){const w=To(I3.WORD_FILTER(t,C.label)),k=C.commandAlias?To(I3.WORD_FILTER(t,C.commandAlias)):void 0;w||k?(C.highlights={label:w,detail:this.options.showAlias?k:void 0},h.push(C)):t===C.commandId&&h.push(C)}const f=new Map;for(const C of h){const w=f.get(C.label);w?(C.description=C.commandId,w.description=w.commandId):f.set(C.label,C)}h.sort((C,w)=>{const k=this.commandsHistory.peek(C.commandId),D=this.commandsHistory.peek(w.commandId);return k&&D?k>D?-1:1:k?-1:D?1:C.label.localeCompare(w.label)});const m=[];let A=!1;for(let C=0;C<h.length;C++){const w=h[C],k=this.keybindingService.lookupKeybinding(w.commandId),D=k?E("commandPickAriaLabelWithKeybinding","{0}, {1}",w.label,k.getAriaLabel()):w.label;C===0&&this.commandsHistory.peek(w.commandId)&&(m.push({type:"separator",label:E("recentlyUsed","recently used")}),A=!0),C!==0&&A&&!this.commandsHistory.peek(w.commandId)&&(m.push({type:"separator",label:E("morecCommands","other commands")}),A=!1),m.push(Object.assign(Object.assign({},w),{ariaLabel:D,detail:this.options.showAlias&&w.commandAlias!==w.label?w.commandAlias:void 0,keybinding:k,accept:()=>KB(this,void 0,void 0,function*(){this.commandsHistory.push(w.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:w.commandId,from:"quick open"});try{yield this.commandService.executeCommand(w.commandId)}catch(I){y0(I)||this.dialogService.show(kn.Error,E("canNotRun","Command '{0}' resulted in an error ({1})",w.label,RZ(I)))}})}))}return m})}};t_.PREFIX=">";t_.WORD_FILTER=px(uv,Fpe,yU);t_=MZ([dd(1,ii),dd(2,Hn),dd(3,es),dd(4,L0),dd(5,v_)],t_);let Cf=class Is extends Se{constructor(t,s){super(),this.storageService=t,this.configurationService=s,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=Is.getConfiguredCommandHistoryLength(this.configurationService),Is.cache&&Is.cache.limit!==this.configuredCommandsHistoryLength&&(Is.cache.limit=this.configuredCommandsHistoryLength,Is.saveState(this.storageService))}load(){const t=this.storageService.get(Is.PREF_KEY_CACHE,0);let s;if(t)try{s=JSON.parse(t)}catch{}const l=Is.cache=new dh(this.configuredCommandsHistoryLength,1);if(s){let u;s.usesLRU?u=s.entries:u=s.entries.sort((h,f)=>h.value-f.value),u.forEach(h=>l.set(h.key,h.value))}Is.counter=this.storageService.getNumber(Is.PREF_KEY_COUNTER,0,Is.counter)}push(t){!Is.cache||(Is.cache.set(t,Is.counter++),Is.saveState(this.storageService))}peek(t){var s;return(s=Is.cache)===null||s===void 0?void 0:s.peek(t)}static saveState(t){if(!Is.cache)return;const s={usesLRU:!0,entries:[]};Is.cache.forEach((l,u)=>s.entries.push({key:u,value:l})),t.store(Is.PREF_KEY_CACHE,JSON.stringify(s),0,0),t.store(Is.PREF_KEY_COUNTER,Is.counter,0,0)}static getConfiguredCommandHistoryLength(t){var s,l;const h=(l=(s=t.getValue().workbench)===null||s===void 0?void 0:s.commandPalette)===null||l===void 0?void 0:l.history;return typeof h=="number"?h:Is.DEFAULT_COMMANDS_HISTORY_LENGTH}};Cf.DEFAULT_COMMANDS_HISTORY_LENGTH=50;Cf.PREF_KEY_CACHE="commandPalette.mru.cache";Cf.PREF_KEY_COUNTER="commandPalette.mru.counter";Cf.counter=1;Cf=MZ([dd(0,N0),dd(1,Yi)],Cf);class d7e extends t_{constructor(t,s,l,u,h,f){super(t,s,l,u,h,f)}getCodeEditorCommandPicks(){const t=this.activeTextEditorControl;if(!t)return[];const s=[];for(const l of t.getSupportedActions())s.push({commandId:l.id,commandAlias:l.alias,label:kx(l.label)||l.id});return s}}var f7e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},O1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}},g7e=globalThis&&globalThis.__awaiter||function(d,t,s,l){function u(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function m(w){try{C(l.next(w))}catch(k){f(k)}}function A(w){try{C(l.throw(w))}catch(k){f(k)}}function C(w){w.done?h(w.value):u(w.value).then(m,A)}C((l=l.apply(d,t||[])).next())})};let i_=class extends d7e{constructor(t,s,l,u,h,f){super({showAlias:!1},t,l,u,h,f),this.codeEditorService=s}get activeTextEditorControl(){return To(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return g7e(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};i_=f7e([O1(0,ii),O1(1,Mi),O1(2,Hn),O1(3,es),O1(4,L0),O1(5,v_)],i_);ts.as(Ff.Quickaccess).registerQuickAccessProvider({ctor:i_,prefix:i_.PREFIX,helpEntries:[{description:PC.quickCommandHelp,needsEditor:!0}]});class m7e extends lt{constructor(){super({id:"editor.action.quickCommand",label:PC.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:re.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(Oc).quickAccess.show(i_.PREFIX)}}$e(m7e);var p7e=globalThis&&globalThis.__decorate||function(d,t,s,l){var u=arguments.length,h=u<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(d,t,s,l);else for(var m=d.length-1;m>=0;m--)(f=d[m])&&(h=(u<3?f(h):u>3?f(t,s,h):f(t,s))||h);return u>3&&h&&Object.defineProperty(t,s,h),h},F1=globalThis&&globalThis.__param||function(d,t){return function(s,l){t(s,l,d)}};let SD=class extends nh{constructor(t,s,l,u,h,f,m){super(!0,t,s,l,u,h,f,m)}};SD=p7e([F1(1,Mt),F1(2,Mi),F1(3,is),F1(4,ii),F1(5,N0),F1(6,Yi)],SD);Li(nh.ID,SD);class A7e extends lt{constructor(){super({id:"editor.action.toggleHighContrast",label:u7.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(t,s){const l=t.get(pl);this._originalThemeName?(l.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=l.getColorTheme().themeName,l.setTheme("hc-black"))}}$e(A7e);function _7e(d){if(d.__esModule)return d;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(d).forEach(function(s){var l=Object.getOwnPropertyDescriptor(d,s);Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:function(){return d[s]}})}),t}var PZ={exports:{}},C7e={},w7e=Object.freeze(Object.defineProperty({__proto__:null,default:C7e},Symbol.toStringTag,{value:"Module"})),hS=_7e(w7e);(function(d,t){var s=(()=>{var l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(l=l||__filename),function(u){u=u||{};var h=typeof u<"u"?u:{},f,m;h.ready=new Promise(function(ve,Fe){f=ve,m=Fe});var A=Object.assign({},h),C="./this.program",w=typeof window=="object",k=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="";function N(ve){return h.locateFile?h.locateFile(ve,I):I+ve}var R,O,W,B,z,G;D?(k?I=hS.dirname(I)+"/":I=__dirname+"/",G=()=>{z||(B=hS,z=hS)},R=function(Fe,tt){var St=Sr(Fe);return St?tt?St:St.toString():(G(),Fe=z.normalize(Fe),B.readFileSync(Fe,tt?void 0:"utf8"))},W=ve=>{var Fe=R(ve,!0);return Fe.buffer||(Fe=new Uint8Array(Fe)),Fe},O=(ve,Fe,tt)=>{var St=Sr(ve);St&&Fe(St),G(),ve=z.normalize(ve),B.readFile(ve,function(ni,ae){ni?tt(ni):Fe(ae.buffer)})},process.argv.length>1&&(C=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(ve){if(!(ve instanceof Fc))throw ve}),process.on("unhandledRejection",function(ve){throw ve}),h.inspect=function(){return"[Emscripten Module object]"}):(w||k)&&(k?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),l&&(I=l),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",R=ve=>{try{var Fe=new XMLHttpRequest;return Fe.open("GET",ve,!1),Fe.send(null),Fe.responseText}catch(St){var tt=Sr(ve);if(tt)return ms(tt);throw St}},k&&(W=ve=>{try{var Fe=new XMLHttpRequest;return Fe.open("GET",ve,!1),Fe.responseType="arraybuffer",Fe.send(null),new Uint8Array(Fe.response)}catch(St){var tt=Sr(ve);if(tt)return tt;throw St}}),O=(ve,Fe,tt)=>{var St=new XMLHttpRequest;St.open("GET",ve,!0),St.responseType="arraybuffer",St.onload=()=>{if(St.status==200||St.status==0&&St.response){Fe(St.response);return}var ni=Sr(ve);if(ni){Fe(ni.buffer);return}tt()},St.onerror=tt,St.send(null)});var K=h.print||console.log.bind(console),q=h.printErr||console.warn.bind(console);Object.assign(h,A),A=null,h.arguments,h.thisProgram&&(C=h.thisProgram),h.quit;var Y;h.wasmBinary&&(Y=h.wasmBinary),h.noExitRuntime;var J={Memory:function(ve){this.buffer=new ArrayBuffer(ve.initial*65536)},Module:function(ve){},Instance:function(ve,Fe){this.exports=function(St){function ni(Un){return Un.grow=function(zo){var ps=this.length;return this.length=this.length+zo,ps},Un.set=function(zo,ps){this[zo]=ps},Un.get=function(zo){return this[zo]},Un}for(var ae,si=new Uint8Array(123),Ei=25;Ei>=0;--Ei)si[48+Ei]=52+Ei,si[65+Ei]=Ei,si[97+Ei]=26+Ei;si[43]=62,si[47]=63;function ue(Un,zo,ps){for(var S,ns,e=0,y=zo,Yn=ps.length,nt=zo+(Yn*3>>2)-(ps[Yn-2]=="=")-(ps[Yn-1]=="=");e<Yn;e+=4)S=si[ps.charCodeAt(e+1)],ns=si[ps.charCodeAt(e+2)],Un[y++]=si[ps.charCodeAt(e)]<<2|S>>4,y<nt&&(Un[y++]=S<<4|ns>>2),y<nt&&(Un[y++]=ns<<6|si[ps.charCodeAt(e+3)])}function Jl(Un){ue(ae,1024,"fQB8ACAgewBpNjQuY3R6AGkzMi5jdHoAaTY0LmVxegBpMzIuZXF6AGk2NC5jbHoAaTMyLmNsegBwcmlvcml0eQBpbmZpbml0eQBnbG9iYWwgbXV0YWJpbGl0eQBmaWVsZCBtdXRhYmlsaXR5AHRyeQBtZW1vcnkATWVtb3J5AFRlcm5hcnkAYmluYXJ5AEJpbmFyeQBVbmFyeQBzdGFydCBmdW5jdGlvbiBtdXN0IGJlIG51bGxhcnkAVHJ5AG1lbW9yeS5jb3B5AHRhYmxlLmNvcHkATWVtb3J5Q29weQBUYWJsZUNvcHkAbWFueQBtZW1vcnkuYXRvbWljLm5vdGlmeQBBdG9taWNOb3RpZnkAZnVuY3Rpb24gYm9keQBhcnJheQBkdXBsaWNhdGUgY29kZSBvZmZzZXQ6ICV6eABjb2RlIG9mZnNldCBvdXQgb2Ygb3JkZXI6ICV6eABwcmVmaXgAbWVtb3J5LmNvcHkgZGVzdG1lbWluZGV4AGV4cG9ydCBtZW1vcnkgaW5kZXgAZGF0YSBzZWdtZW50IG1lbW9yeSBpbmRleAByZXNlcnZlZCBtZW1vcnkgaW5kZXgAZWxlbSBzZWdtZW50IGluZGV4AHN0YXJ0IGZ1bmN0aW9uIGluZGV4AGVsZW0gZnVuY3Rpb24gaW5kZXgAY2FsbCBmdW5jdGlvbiBpbmRleABibG9jayB0eXBlIGZ1bmN0aW9uIGluZGV4AHJlbG9jIHNlY3Rpb24gaW5kZXgAZXhwb3J0IGl0ZW0gaW5kZXgAZWxlbSBpbmRleABsb2NhbC5zZXQgbG9jYWwgaW5kZXgAbG9jYWwuZ2V0IGxvY2FsIGluZGV4AGxvY2FsLnRlZSBsb2NhbCBpbmRleABleHBvcnQgZ2xvYmFsIGluZGV4AGdsb2JhbC5zZXQgZ2xvYmFsIGluZGV4AGdsb2JhbC5nZXQgZ2xvYmFsIGluZGV4AGV4cG9ydCB0YWcgaW5kZXgAaW1wb3J0IHNpZ25hdHVyZSBpbmRleABjYWxsX2luZGlyZWN0IHNpZ25hdHVyZSBpbmRleABmdW5jdGlvbiBzaWduYXR1cmUgaW5kZXgAdGFnIHNpZ25hdHVyZSBpbmRleABmdW5jdGlvbiAlemQgc2lnbmF0dXJlIGluZGV4AHRhYmxlLmdyb3cgdGFibGUgaW5kZXgAZXhwb3J0IHRhYmxlIGluZGV4AGVsZW0gc2VnbWVudCB0YWJsZSBpbmRleAB0YWJsZS5zZXQgdGFibGUgaW5kZXgAdGFibGUuZ2V0IHRhYmxlIGluZGV4AHJldHVybl9jYWxsX2luZGlyZWN0IHRhYmxlIGluZGV4AHRhYmxlLmZpbGwgdGFibGUgaW5kZXgAdGFibGUuc2l6ZSB0YWJsZSBpbmRleAByZXNlcnZlZCB0YWJsZSBpbmRleABuYW1lZCBpbmRleAByZWxvYyBpbmRleABleHBvcnQgZnVuYyBpbmRleABzdGFydCBmdW5jIGluZGV4AGVsZW0gZXhwciBmdW5jIGluZGV4AGEgbnVtZXJpYyBpbmRleABkYXRhIGluZGV4AG1lbW9yeS5jb3B5IGRlc3RtZW1pZHgAbWVtb3J5LmNvcHkgc3JjbWVtaWR4AG1lbW9yeS5ncm93IG1lbWlkeABtZW1vcnkuaW5pdCBtZW1pZHgAbWVtb3J5LmZpbGwgbWVtaWR4AG1lbW9yeS5zaXplIG1lbWlkeABzdG9yZSBtZW1pZHgATGFuZSBpZHgAZjMyeDQucG1heABmNjR4Mi5wbWF4AGYzMng0Lm1heABmNjQubWF4AGY2NHgyLm1heABmMzIubWF4AGxpbWl0czogbWF4AGkzMng0IDB4JTA4eCAweCUwOHggMHglMDh4IDB4JTA4eABcdSUwNHgAJTAyeAAtKyAgIDBYMHgALTBYKzBYIDBYLTB4KzB4IDB4ACAweCV4AGludmFsaWQgZWxlbSBzZWdtZW50IGZsYWdzOiAlI3gAaW52YWxpZCBkYXRhIHNlZ21lbnQgZmxhZ3M6ICUjeABpbnZhbGlkIGdsb2JhbCB0eXBlOiAlI3gAcmV0aHJvdwBSZXRocm93AFRocm93AG1lbW9yeS5ncm93AHRhYmxlLmdyb3cATWVtb3J5R3JvdwBUYWJsZUdyb3cAX19uZXh0X3ByaW1lIG92ZXJmbG93AEF0b21pY1JtdwBmZXcAZjMyeDQuZGl2AGY2NC5kaXYAZjY0eDIuZGl2AGYzMi5kaXYAbG9hZC9zdG9yZSBtZW1vcnkgJXUgb3V0IG9mIHJhbmdlICV6dQBvZmZzZXQ9JWxsdQBhbGlnbj0lbGx1AGluaXRpYWw6ICVsbHUsIG1heDogJWxsdQBpbml0aWFsOiAlbGx1AGkxNng4Lm1heF91AGk4eDE2Lm1heF91AGkzMng0Lm1heF91AGk2NC5kaXZfdQBpMzIuZGl2X3UAaTE2eDgubHRfdQBpOHgxNi5sdF91AGkzMng0Lmx0X3UAaTY0Lmx0X3UAaTMyLmx0X3UAaTE2eDguZ3RfdQBpOHgxNi5ndF91AGkzMng0Lmd0X3UAaTY0Lmd0X3UAaTMyLmd0X3UAaTE2eDguYWRkX3NhdF91AGk4eDE2LmFkZF9zYXRfdQBpMTZ4OC5zdWJfc2F0X3UAaTh4MTYuc3ViX3NhdF91AGk2NC5hdG9taWMucm13OC54b3JfdQBpMzIuYXRvbWljLnJtdzgueG9yX3UAaTY0LmF0b21pYy5ybXcxNi54b3JfdQBpMzIuYXRvbWljLnJtdzE2Lnhvcl91AGk2NC5hdG9taWMucm13MzIueG9yX3UAaTY0LmF0b21pYy5ybXc4Lm9yX3UAaTMyLmF0b21pYy5ybXc4Lm9yX3UAaTY0LmF0b21pYy5ybXcxNi5vcl91AGkzMi5hdG9taWMucm13MTYub3JfdQBpNjQuYXRvbWljLnJtdzMyLm9yX3UAaTE2eDguc2hyX3UAaTh4MTYuc2hyX3UAaTMyeDQuc2hyX3UAaTY0LnNocl91AGk2NHgyLnNocl91AGkzMi5zaHJfdQBpMTZ4OC5hdmdyX3UAaTh4MTYuYXZncl91AGkxNng4Lm1pbl91AGk4eDE2Lm1pbl91AGkzMng0Lm1pbl91AGk2NC5yZW1fdQBpMzIucmVtX3UAaTY0LmF0b21pYy5ybXc4LmNtcHhjaGdfdQBpMzIuYXRvbWljLnJtdzguY21weGNoZ191AGk2NC5hdG9taWMucm13MTYuY21weGNoZ191AGkzMi5hdG9taWMucm13MTYuY21weGNoZ191AGk2NC5hdG9taWMucm13MzIuY21weGNoZ191AGk2NC5hdG9taWMucm13OC54Y2hnX3UAaTMyLmF0b21pYy5ybXc4LnhjaGdfdQBpNjQuYXRvbWljLnJtdzE2LnhjaGdfdQBpMzIuYXRvbWljLnJtdzE2LnhjaGdfdQBpNjQuYXRvbWljLnJtdzMyLnhjaGdfdQBpMTZ4OC5leHRyYWN0X2xhbmVfdQBpOHgxNi5leHRyYWN0X2xhbmVfdQBpMTZ4OC5sZV91AGk4eDE2LmxlX3UAaTMyeDQubGVfdQBpNjQubGVfdQBpMzIubGVfdQBpMTZ4OC5nZV91AGk4eDE2LmdlX3UAaTMyeDQuZ2VfdQBpNjQuZ2VfdQBpMzIuZ2VfdQBpNjQuYXRvbWljLnJtdzguYW5kX3UAaTMyLmF0b21pYy5ybXc4LmFuZF91AGk2NC5hdG9taWMucm13MTYuYW5kX3UAaTMyLmF0b21pYy5ybXcxNi5hbmRfdQBpNjQuYXRvbWljLnJtdzMyLmFuZF91AGk2NC5hdG9taWMucm13OC5hZGRfdQBpMzIuYXRvbWljLnJtdzguYWRkX3UAaTY0LmF0b21pYy5ybXcxNi5hZGRfdQBpMzIuYXRvbWljLnJtdzE2LmFkZF91AGk2NC5hdG9taWMucm13MzIuYWRkX3UAaTY0LmF0b21pYy5ybXc4LnN1Yl91AGkzMi5hdG9taWMucm13OC5zdWJfdQBpNjQuYXRvbWljLnJtdzE2LnN1Yl91AGkzMi5hdG9taWMucm13MTYuc3ViX3UAaTY0LmF0b21pYy5ybXczMi5zdWJfdQB2MTI4LmxvYWQ4eDhfdQBpOHgxNi5uYXJyb3dfaTE2eDhfdQBpMzJ4NC5leHRtdWxfbG93X2kxNng4X3UAaTMyeDQuZXh0ZW5kX2xvd19pMTZ4OF91AGkzMng0LmV4dG11bF9oaWdoX2kxNng4X3UAaTMyeDQuZXh0ZW5kX2hpZ2hfaTE2eDhfdQBpMzJ4NC5leHRhZGRfcGFpcndpc2VfaTE2eDhfdQBpNjQuYXRvbWljLmxvYWQ4X3UAaTMyLmF0b21pYy5sb2FkOF91AGk2NC5sb2FkOF91AGkzMi5sb2FkOF91AGkxNng4LmV4dG11bF9sb3dfaTh4MTZfdQBpMTZ4OC5leHRlbmRfbG93X2k4eDE2X3UAaTE2eDguZXh0bXVsX2hpZ2hfaTh4MTZfdQBpMTZ4OC5leHRlbmRfaGlnaF9pOHgxNl91AGkxNng4LmV4dGFkZF9wYWlyd2lzZV9pOHgxNl91AGk2NC5hdG9taWMubG9hZDE2X3UAaTMyLmF0b21pYy5sb2FkMTZfdQBpNjQubG9hZDE2X3UAaTMyLmxvYWQxNl91AHYxMjgubG9hZDE2eDRfdQBpMTZ4OC5uYXJyb3dfaTMyeDRfdQBmNjR4Mi5jb252ZXJ0X2xvd19pMzJ4NF91AGk2NHgyLmV4dG11bF9sb3dfaTMyeDRfdQBpNjR4Mi5leHRlbmRfbG93X2kzMng0X3UAZjMyeDQuY29udmVydF9pMzJ4NF91AGk2NHgyLmV4dG11bF9oaWdoX2kzMng0X3UAaTY0eDIuZXh0ZW5kX2hpZ2hfaTMyeDRfdQBpMzJ4NC50cnVuY19zYXRfZjMyeDRfdQBmNjQuY29udmVydF9pNjRfdQBmMzIuY29udmVydF9pNjRfdQBpNjQudHJ1bmNfc2F0X2Y2NF91AGkzMi50cnVuY19zYXRfZjY0X3UAaTY0LnRydW5jX2Y2NF91AGkzMi50cnVuY19mNjRfdQB2MTI4LmxvYWQzMngyX3UAZjY0LmNvbnZlcnRfaTMyX3UAZjMyLmNvbnZlcnRfaTMyX3UAaTY0LmV4dGVuZF9pMzJfdQBpNjQudHJ1bmNfc2F0X2YzMl91AGkzMi50cnVuY19zYXRfZjMyX3UAaTY0LnRydW5jX2YzMl91AGkzMi50cnVuY19mMzJfdQBpNjQuYXRvbWljLmxvYWQzMl91AGk2NC5sb2FkMzJfdQAgOzsgbGFiZWwgPSBAJXUAaW52YWxpZCBmdW5jIHR5cGUgaW5kZXggJXUAaW52YWxpZCBtZW1vcnkgaW5kZXg6ICV1AGludmFsaWQgZWxlbSBzZWdtZW50IGluZGV4OiAldQBpbnZhbGlkIGRhdGEgc2VnbWVudCBpbmRleDogJXUAZHVwbGljYXRlIGZ1bmN0aW9uIGluZGV4OiAldQBpbnZhbGlkIGZ1bmN0aW9uIGluZGV4OiAldQBkdXBsaWNhdGUgbG9jYWwgaW5kZXg6ICV1AGludmFsaWQgZ2xvYmFsIGluZGV4OiAldQBpbnZhbGlkIHRhZyBpbmRleDogJXUAaW52YWxpZCB0YWJsZSBpbmRleDogJXUAaW52YWxpZCAlczogJXUAbG9jYWxzIGZ1bmN0aW9uIGluZGV4IG91dCBvZiBvcmRlcjogJXUAbG9jYWwgaW5kZXggb3V0IG9mIG9yZGVyOiAldQBpbnZhbGlkIGxpbmtpbmcgbWV0YWRhdGEgdmVyc2lvbjogJXUAZHVwbGljYXRlIGZ1bmN0aW9uIG5hbWU6ICV1AGludmFsaWQgc2VjdGlvbiBjb2RlOiAldQB1bmV4cGVjdGVkIGF0b21pYy5mZW5jZSBjb25zaXN0ZW5jeSBtb2RlbCAoZXhwZWN0ZWQgMCk6ICV1AHRleHQAb3V0cHV0AGlucHV0AG11dAB2MTI4LmNvbnN0AGk2NC5jb25zdABmNjQuY29uc3QAaTMyLmNvbnN0AGYzMi5jb25zdABDb25zdABmMzJ4NC5uZWFyZXN0AGY2NC5uZWFyZXN0AGY2NHgyLm5lYXJlc3QAZjMyLm5lYXJlc3QAZjMyeDQuc3FydABmNjQuc3FydABmNjR4Mi5zcXJ0AGYzMi5zcXJ0AGV4cG9ydABFeHBvcnQAY2FsbF9pbXBvcnQASW1wb3J0AENvbnZlcnQAc3RhcnQAU3RhcnQAdjEyOC5hbmRub3QAdjEyOC5ub3QAZW50cnkgY291bnQAbWVtb3J5IGNvdW50AGZ1bmN0aW9uIHNpZ25hdHVyZSBjb3VudCAhPSBmdW5jdGlvbiBib2R5IGNvdW50AGV4cG9ydCBjb3VudABpbXBvcnQgY291bnQAZWxlbSBzZWdtZW50IGNvdW50AGRhdGEgc2VnbWVudCBjb3VudABmdW5jdGlvbiByZXN1bHQgY291bnQAYnJfdGFibGUgdGFyZ2V0IGNvdW50AG1ldGFkYXRhIGluc3RhbmNlcyBjb3VudABpbmZvIGNvdW50AGZ1bmN0aW9uIGNvdW50AGxvY2FsIGRlY2xhcmF0aW9uIGNvdW50AHJlbG9jYXRpb24gY291bnQAc3ltIGNvdW50AHRhYmxlIG1heCBlbGVtIGNvdW50AHRhYmxlIGluaXRpYWwgZWxlbSBjb3VudABmdW5jdGlvbiBwYXJhbSBjb3VudABsb2NhbCBkZWNsIGNvdW50AGxvY2FsIGNvdW50AGdsb2JhbCBjb3VudAB0YWcgY291bnQAZnVuY3Rpb24gc2lnbmF0dXJlIGNvdW50AGxvY2FsIHR5cGUgY291bnQAbmFtZSBjb3VudAB0YWJsZSBjb3VudABtZW1vcnkgbWF4IHBhZ2UgY291bnQAbWVtb3J5IGluaXRpYWwgcGFnZSBjb3VudABmaWVsZCBjb3VudABkYXRhIGNvdW50AERhdGFDb3VudABhcmd1bWVudABtZW1vcnkgYWxpZ25tZW50AHNlZ21lbnQgYWxpZ25tZW50AHN0b3JlIGFsaWdubWVudABsb2FkIGFsaWdubWVudABFT0YgaW4gYmxvY2sgY29tbWVudABlbGVtX3NlZ21lbnQAZGF0YV9zZWdtZW50AGV4cGVjdGVkIHJlZi5udWxsIG9yIHJlZi5mdW5jIGluIHBhc3NpdmUgZWxlbWVudCBzZWdtZW50AG1lbW9yeS5pbml0IHNlZ21lbnQAdGFibGUuaW5pdCBzZWdtZW50AGVsZW0uZHJvcCBzZWdtZW50AGRhdGEuZHJvcCBzZWdtZW50AGVsZW0gc2VnbWVudABkYXRhIHNlZ21lbnQAaTh4MTYucG9wY250AGk2NC5wb3BjbnQAaTMyLnBvcGNudAByZXN1bHQAYnJlYWsgZGVwdGggZm9yIGRlZmF1bHQAZjMyeDQubHQAZjY0Lmx0AGY2NHgyLmx0AGYzMi5sdABtZW1vcnkuaW5pdAB0YWJsZS5pbml0AE1lbW9yeUluaXQAVGFibGVJbml0AHRhYmxlcyBtYXkgbm90IGJlIDY0LWJpdABBdG9taWNXYWl0AGYzMng0Lmd0AGY2NC5ndABmNjR4Mi5ndABmMzIuZ3QAbWVtb3J5IG9mZnNldABzdG9yZSBvZmZzZXQAY29kZSBvZmZzZXQAbG9hZCBvZmZzZXQAcmVsb2Mgb2Zmc2V0AGRhdGEgb2Zmc2V0AGxvY2FsLnNldABnbG9iYWwuc2V0AHRhYmxlLnNldABsb2NhbC5nZXQAZ2xvYmFsLmdldAB0YWJsZS5nZXQATG9jYWxTZXQAR2xvYmFsU2V0AFRhYmxlU2V0AExvY2FsR2V0AEdsb2JhbEdldABUYWJsZUdldABzdHJ1Y3QAcmV0dXJuX2NhbGxfaW5kaXJlY3QAUmV0dXJuQ2FsbEluZGlyZWN0AHYxMjguYml0c2VsZWN0AFNlbGVjdAAud2F0AGZsb2F0AHYxMjgubG9hZDhfc3BsYXQAdjEyOC5sb2FkMTZfc3BsYXQAdjEyOC5sb2FkNjRfc3BsYXQAdjEyOC5sb2FkMzJfc3BsYXQAaTE2eDguc3BsYXQAaTh4MTYuc3BsYXQAaTMyeDQuc3BsYXQAZjMyeDQuc3BsYXQAaTY0eDIuc3BsYXQAZjY0eDIuc3BsYXQATG9hZFNwbGF0AHVpbnQ4X3QAdWludDMyX3QAbnVtIGV4cG9ydHMAbnVtIGltcG9ydHMAbnVtIGVsZW0gc2VnbWVudHMAbnVtIGRhdGEgc2VnbWVudHMAbnVtIHJlc3VsdHMAbnVtIHRhcmdldHMAYnJfdW5sZXNzAGltcG9ydHMgbXVzdCBvY2N1ciBiZWZvcmUgYWxsIG5vbi1pbXBvcnQgZGVmaW5pdGlvbnMAbnVtIGZ1bmN0aW9ucwBtdWx0aXBsZSBzdGFydCBzZWN0aW9ucwBtdWx0aXBsZSAlcyBzZWN0aW9ucwBmdW5jdGlvbiAldSBpcyBub3QgZGVjbGFyZWQgaW4gYW55IGVsZW0gc2VjdGlvbnMAbnVtIGVsZW1zAG51bSBwYXJhbXMAbnVtIHN5bWJvbHMAbnVtIGxvY2FscwBudW0gZ2xvYmFscwBhcmdzAG1lbW9yeSBmbGFncwBlbGVtIHNlZ21lbnQgZmxhZ3MAZGF0YSBzZWdtZW50IGZsYWdzAHN5bSBmbGFncwBzeW1ib2wgZmxhZ3MAdGFibGUgZmxhZ3MAbGltaXRzOiBmbGFncwBzaGFyZWQgbWVtb3JpZXMgbXVzdCBoYXZlIG1heCBzaXplcwB0YXJnZXRfZmVhdHVyZXMAbnVtIHJlc3VsdCB0eXBlcwBudW0gdHlwZXMAdGFibGVzIG11c3QgaGF2ZSByZWZlcmVuY2UgdHlwZXMAbnVtIG5hbWVzAG51bSB0YWJsZXMAbnVtIG1lbW9yaWVzAHBhZ2VzAG51bSBmaWVsZHMAbnVtIHJlbG9jcwBuZWVkZWRfZHlubGlicwBpMTZ4OC5hYnMAaTh4MTYuYWJzAGkzMng0LmFicwBmMzJ4NC5hYnMAZjY0LmFicwBpNjR4Mi5hYnMAZjY0eDIuYWJzAGYzMi5hYnMAYXMAaTE2eDgubWF4X3MAaTh4MTYubWF4X3MAaTMyeDQubWF4X3MAaTY0LmRpdl9zAGkzMi5kaXZfcwBpMTZ4OC5sdF9zAGk4eDE2Lmx0X3MAaTMyeDQubHRfcwBpNjQubHRfcwBpNjR4Mi5sdF9zAGkzMi5sdF9zAGkxNng4Lmd0X3MAaTh4MTYuZ3RfcwBpMzJ4NC5ndF9zAGk2NC5ndF9zAGk2NHgyLmd0X3MAaTMyLmd0X3MAaTE2eDgucTE1bXVscl9zYXRfcwBpMTZ4OC5hZGRfc2F0X3MAaTh4MTYuYWRkX3NhdF9zAGkxNng4LnN1Yl9zYXRfcwBpOHgxNi5zdWJfc2F0X3MAaTE2eDguc2hyX3MAaTh4MTYuc2hyX3MAaTMyeDQuc2hyX3MAaTY0LnNocl9zAGk2NHgyLnNocl9zAGkzMi5zaHJfcwBpMTZ4OC5taW5fcwBpOHgxNi5taW5fcwBpMzJ4NC5taW5fcwBpNjQucmVtX3MAaTMyLnJlbV9zAGkxNng4LmV4dHJhY3RfbGFuZV9zAGk4eDE2LmV4dHJhY3RfbGFuZV9zAGkxNng4LmxlX3MAaTh4MTYubGVfcwBpMzJ4NC5sZV9zAGk2NC5sZV9zAGk2NHgyLmxlX3MAaTMyLmxlX3MAaTE2eDguZ2VfcwBpOHgxNi5nZV9zAGkzMng0LmdlX3MAaTY0LmdlX3MAaTY0eDIuZ2VfcwBpMzIuZ2VfcwB2MTI4LmxvYWQ4eDhfcwBpOHgxNi5uYXJyb3dfaTE2eDhfcwBpMzJ4NC5leHRtdWxfbG93X2kxNng4X3MAaTMyeDQuZXh0ZW5kX2xvd19pMTZ4OF9zAGkzMng0LmRvdF9pMTZ4OF9zAGkzMng0LmV4dG11bF9oaWdoX2kxNng4X3MAaTMyeDQuZXh0ZW5kX2hpZ2hfaTE2eDhfcwBpMzJ4NC5leHRhZGRfcGFpcndpc2VfaTE2eDhfcwBpNjQuZXh0ZW5kOF9zAGkzMi5leHRlbmQ4X3MAaTY0LmxvYWQ4X3MAaTMyLmxvYWQ4X3MAaTE2eDguZXh0bXVsX2xvd19pOHgxNl9zAGkxNng4LmV4dGVuZF9sb3dfaTh4MTZfcwBpMTZ4OC5leHRtdWxfaGlnaF9pOHgxNl9zAGkxNng4LmV4dGVuZF9oaWdoX2k4eDE2X3MAaTE2eDguZXh0YWRkX3BhaXJ3aXNlX2k4eDE2X3MAaTY0LmV4dGVuZDE2X3MAaTMyLmV4dGVuZDE2X3MAaTY0LmxvYWQxNl9zAGkzMi5sb2FkMTZfcwB2MTI4LmxvYWQxNng0X3MAaTE2eDgubmFycm93X2kzMng0X3MAZjY0eDIuY29udmVydF9sb3dfaTMyeDRfcwBpNjR4Mi5leHRtdWxfbG93X2kzMng0X3MAaTY0eDIuZXh0ZW5kX2xvd19pMzJ4NF9zAGYzMng0LmNvbnZlcnRfaTMyeDRfcwBpNjR4Mi5leHRtdWxfaGlnaF9pMzJ4NF9zAGk2NHgyLmV4dGVuZF9oaWdoX2kzMng0X3MAaTMyeDQudHJ1bmNfc2F0X2YzMng0X3MAZjY0LmNvbnZlcnRfaTY0X3MAZjMyLmNvbnZlcnRfaTY0X3MAaTY0LnRydW5jX3NhdF9mNjRfcwBpMzIudHJ1bmNfc2F0X2Y2NF9zAGk2NC50cnVuY19mNjRfcwBpMzIudHJ1bmNfZjY0X3MAdjEyOC5sb2FkMzJ4Ml9zAGY2NC5jb252ZXJ0X2kzMl9zAGYzMi5jb252ZXJ0X2kzMl9zAGk2NC5leHRlbmRfaTMyX3MAaTY0LnRydW5jX3NhdF9mMzJfcwBpMzIudHJ1bmNfc2F0X2YzMl9zAGk2NC50cnVuY19mMzJfcwBpMzIudHJ1bmNfZjMyX3MAaTY0LmV4dGVuZDMyX3MAaTY0LmxvYWQzMl9zACVzLiVzAGJyX3RhYmxlIGxhYmVscyBoYXZlIGluY29uc2lzdGVudCB0eXBlczogZXhwZWN0ZWQgJXMsIGdvdCAlcwByZXR1cm4gc2lnbmF0dXJlcyBoYXZlIGluY29uc2lzdGVudCB0eXBlczogZXhwZWN0ZWQgJXMsIGdvdCAlcwBleHBlY3RlZCBmdW5jIHR5cGUgaWRlbnRpZmllciAlcwB0eXBlIG1pc21hdGNoIGF0ICVzLiBnb3QgJXMsIGV4cGVjdGVkICVzAHR5cGUgbWlzbWF0Y2ggZm9yICVzICV1IG9mICVzLiBnb3QgJXMsIGV4cGVjdGVkICVzACAgOyAlcwBlcnJvciBpbiBiaW5hcnkgbW9kdWxlOiBAMHglMDh6eDogJXMAdW5hYmxlIHRvIHJlYWQgJXM6ICVzAGludmFsaWQgaW5pdGlhbGl6ZXI6IGluc3RydWN0aW9uIG5vdCB2YWxpZCBpbiBpbml0aWFsaXplciBleHByZXNzaW9uOiAlcwB1bmFibGUgdG8gcmVhZCBzdHJpbmc6ICVzAGludmFsaWQgdXRmLTggZW5jb2Rpbmc6ICVzAHVua25vd24gcmVsb2MgdHlwZTogJXMAZXJyb3IgaW4gYmluYXJ5IG1vZHVsZTogJXMAdmFsdWUgdHlwZSBub3QgYWxsb3dlZDogJXMAb3Bjb2RlIG5vdCBhbGxvd2VkOiAlcwBhbm5vdGF0aW9ucyBub3QgZW5hYmxlZDogJXMAdW5hYmxlIHRvIHJlYWQgZGF0YTogJXMAdW5hYmxlIHRvIHJlYWQgdTY0IGxlYjEyODogJXMAdW5hYmxlIHRvIHJlYWQgaTY0IGxlYjEyODogJXMAdW5hYmxlIHRvIHJlYWQgdTMyIGxlYjEyODogJXMAdW5hYmxlIHRvIHJlYWQgaTMyIGxlYjEyODogJXMAaTY0LnJvdHIAaTMyLnJvdHIAYW4gb2Zmc2V0IGV4cHIAaTY0LmF0b21pYy5ybXcueG9yAGkzMi5hdG9taWMucm13LnhvcgB2MTI4LnhvcgBpNjQueG9yAGkzMi54b3IAZXJyb3IAZjMyeDQuZmxvb3IAZjY0LmZsb29yAGY2NHgyLmZsb29yAGYzMi5mbG9vcgBpNjQuYXRvbWljLnJtdy5vcgBpMzIuYXRvbWljLnJtdy5vcgB2MTI4Lm9yAGk2NC5vcgBpMzIub3IAcmVnaXN0ZXIAcGFyYW1ldGVyAHNlY3Rpb24gJXMgb3V0IG9mIG9yZGVyAGltcG9ydCBoZWFkZXIAZWxlbSBzZWdtZW50IGhlYWRlcgBkYXRhIHNlZ21lbnQgaGVhZGVyAGEgbmF0dXJhbCBudW1iZXIAYnIAdW5leHBlY3RlZCBjaGFyAEJyAGkxNng4LmVxAGk4eDE2LmVxAGkzMng0LmVxAGYzMng0LmVxAGk2NC5lcQBmNjQuZXEAaTY0eDIuZXEAZjY0eDIuZXEAaTMyLmVxAGYzMi5lcQBjYXRjaF9kcm9wAGVsZW0uZHJvcABkYXRhLmRyb3AARWxlbURyb3AARGF0YURyb3AAbG9vcABMb29wAG5vcABOb3AAZHJvcF9rZWVwAGFzc2VydF90cmFwAFNpbWRMYW5lT3AAU2ltZFNodWZmbGVPcABhbGlnbm1lbnQgbXVzdCBiZSBwb3dlci1vZi10d28Abm8gbWVtb3J5IHRvIGNvcHkgZGF0YSB0bwBpMzJ4NC50cnVuY19zYXRfZjY0eDJfdV96ZXJvAGkzMng0LnRydW5jX3NhdF9mNjR4Ml9zX3plcm8AdjEyOC5sb2FkNjRfemVybwBmMzJ4NC5kZW1vdGVfZjY0eDJfemVybwB2MTI4LmxvYWQzMl96ZXJvAExvYWRaZXJvADEyIG9yICRmb28AZG8AZXhuAGFzc2VydF9yZXR1cm4AaW1wbGljaXQgcmV0dXJuAFJldHVybgByZWYuZXh0ZXJuAGFzc2VydF9leGhhdXN0aW9uAGFzc2VydF9leGNlcHRpb24AdHlwZSAlZCBpcyBub3QgYSBmdW5jdGlvbgBGdW5jdGlvbgBvdXQtb2Ytb3JkZXIgc3ViLXNlY3Rpb24AZHVwbGljYXRlIHN1Yi1zZWN0aW9uAG1lbW9yeS5pbml0IHJlcXVpcmVzIGRhdGEgY291bnQgc2VjdGlvbgBkYXRhLmRyb3AgcmVxdWlyZXMgZGF0YSBjb3VudCBzZWN0aW9uAGRhdGEgc2VnbWVudCBjb3VudCBkb2VzIG5vdCBlcXVhbCBjb3VudCBpbiBEYXRhQ291bnQgc2VjdGlvbgBpbnZhbGlkICVzICV1LCBvbmx5ICV6ZCBieXRlcyBsZWZ0IGluIHNlY3Rpb24AJXMgc2VjdGlvbiBjYW4gbm90IG9jY3VyIGFmdGVyIE5hbWUgc2VjdGlvbgBhY3Rpb24AQW5ub3RhdGlvbgBleHBlY3RlZCBFTkQgb3Bjb2RlIGFmdGVyIGVsZW1lbnQgZXhwcmVzc2lvbgBpbml0aWFsaXplciBleHByZXNzaW9uAGVsZW0gZXhwcmVzc2lvbgBtZXRhZGF0YSB2ZXJzaW9uAGYzMng0LnBtaW4AZjY0eDIucG1pbgBmMzJ4NC5taW4AZjY0Lm1pbgBmNjR4Mi5taW4AZjMyLm1pbgBiaW4AZjY0LmNvcHlzaWduAGYzMi5jb3B5c2lnbgBtZW1fYWxpZ24AdGFibGVfYWxpZ24AdGhlbgBuYW4ALndhc20AdHlwZSBmb3JtAEN1c3RvbQBpdGVtAGVsZW0ARWxlbQBwYXJhbQAbWzMybQAbWzFtABtbMzFtABtbMG0AaTE2eDgubXVsAGkzMng0Lm11bABmMzJ4NC5tdWwAaTY0Lm11bABmNjQubXVsAGk2NHgyLm11bABmNjR4Mi5tdWwAaTMyLm11bABmMzIubXVsAGk2NC5yb3RsAGkzMi5yb3RsAHJlZi5pc19udWxsAHJlZi5udWxsAHRhYmxlLmZ1bGwAUmVmSXNOdWxsAFJlZk51bGwAbWVtb3J5LmZpbGwAdGFibGUuZmlsbABNZW1vcnlGaWxsAFRhYmxlRmlsbABhZGp1c3RfZnJhbWVfZm9yX3JldHVybl9jYWxsAGNhdGNoX2FsbABSZXR1cm5DYWxsAGYzMng0LmNlaWwAZjY0LmNlaWwAZjY0eDIuY2VpbABmMzIuY2VpbABpMTZ4OC5zaGwAaTh4MTYuc2hsAGkzMng0LnNobABpNjQuc2hsAGk2NHgyLnNobABpMzIuc2hsAGNvbnNpc3RlbmN5IG1vZGVsAGxhYmVsAGEgRmxvYXQgbGl0ZXJhbABhIE5hdCBvciBJbnRlZ2VyIGxpdGVyYWwAU2ltZCBMYW5lIGxpdGVyYWwAYSBudW1lcmljIGxpdGVyYWwAU2ltZCBMYW5lWzE2XSBsaXRlcmFsAHYxMjggbGl0ZXJhbABpNjQgbGl0ZXJhbABmNjQgbGl0ZXJhbABpMzIgbGl0ZXJhbABmMzIgbGl0ZXJhbABsaW1pdHM6IGluaXRpYWwAbG9jYWwAbmFuOmNhbm9uaWNhbABpbml0aWFsaXplciBleHByZXNzaW9uIGNhbm5vdCByZWZlcmVuY2UgYSBtdXRhYmxlIGdsb2JhbABpbml0aWFsaXplciBleHByZXNzaW9uIGNhbiBvbmx5IHJlZmVyZW5jZSBhbiBpbXBvcnRlZCBnbG9iYWwAR2xvYmFsAGkxNng4LmJpdG1hc2sAaTh4MTYuYml0bWFzawBpMzJ4NC5iaXRtYXNrAGk2NHgyLmJpdG1hc2sAZHlsaW5rAG9ubHkgb25lIGNhdGNoX2FsbCBhbGxvd2VkIGluIHRyeSBibG9jawBjYXRjaCBub3QgaW5zaWRlIHRyeSBibG9jawBkZWxlZ2F0ZSBub3QgaW5zaWRlIHRyeSBibG9jawB0aGVuIGJsb2NrAHJldGhyb3cgbm90IGluIHRyeSBjYXRjaCBibG9jawBCbG9jawBwb3BwaW5nIGVtcHR5IGxhYmVsIHN0YWNrAHJldGhyb3cgZGVwdGgAYnJfdGFibGUgZGVmYXVsdCB0YXJnZXQgZGVwdGgAYnJfdGFibGUgdGFyZ2V0IGRlcHRoAGJyIGRlcHRoAGJyZWFrIGRlcHRoAGNhdGNoIGRlcHRoAGJyX2lmIGRlcHRoAGRlbGVnYXRlIGRlcHRoAHN0cmluZyBsZW5ndGgAZGF0YSBsZW5ndGgAZGVsZWdhdGUgbm90IGFsbG93ZWQgaW4gdHJ5LWNhdGNoAHRyeSBjYXRjaABgaWYgdHJ1ZWAgYnJhbmNoAGBpZiBmYWxzZWAgYnJhbmNoAG5ld2xpbmUgaW4gc3RyaW5nAGEgcXVvdGVkIHN0cmluZwB3YXJuaW5nAGxpbmtpbmcAc3RhcnQgZnVuY3Rpb24gbXVzdCBub3QgcmV0dXJuIGFueXRoaW5nAHF1b3RlZCBzdHJpbmcgaGFzIGFuIGludmFsaWQgdXRmLTggZW5jb2RpbmcAaTY0LmF0b21pYy5ybXcuY21weGNoZwBpMzIuYXRvbWljLnJtdy5jbXB4Y2hnAEF0b21pY1Jtd0NtcHhjaGcAaTY0LmF0b21pYy5ybXcueGNoZwBpMzIuYXRvbWljLnJtdy54Y2hnAGVsZW1zZWcAZGF0YXNlZwBpMTZ4OC5uZWcAaTh4MTYubmVnAGkzMng0Lm5lZwBmMzJ4NC5uZWcAZjY0Lm5lZwBpNjR4Mi5uZWcAZjY0eDIubmVnAGYzMi5uZWcAdGhyb3cgdGFnAGNhdGNoIHRhZwBUYWcAaW5mAGJyX2lmAGVsc2UgZXhwcmVzc2lvbiB3aXRob3V0IG1hdGNoaW5nIGlmAG9mZnNldCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byAweGZmZmZmZmZmAGV4dGVybnJlZgBmdW5jcmVmAGNhbGxfcmVmAENhbGxSZWYAQnJJZgBtZW1fc2l6ZQB0YWJsZV9zaXplAG1lbW9yeS5zaXplAHRhYmxlLnNpemUAZnVuY3Rpb24gYm9keSBzaXplAEZJWFVQIGZ1bmMgYm9keSBzaXplAGRhdGEgc2VnbWVudCBzaXplAEZJWFVQIHN1YnNlY3Rpb24gc2l6ZQBGSVhVUCBzZWN0aW9uIHNpemUAZnVuY3Rpb24gYm9keSBsb25nZXIgdGhhbiBnaXZlbiBzaXplAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAZGF0YSBzaXplAE1lbW9yeVNpemUAVGFibGVTaXplAHYxMjguYW55X3RydWUAaTE2eDguYWxsX3RydWUAaTh4MTYuYWxsX3RydWUAaTMyeDQuYWxsX3RydWUAaTY0eDIuYWxsX3RydWUAdjEyOC5jb25zdCB2YWx1ZQBpNjQuY29uc3QgdmFsdWUAZjY0LmNvbnN0IHZhbHVlAGkzMi5jb25zdCB2YWx1ZQBmMzIuY29uc3QgdmFsdWUAYmFkIG1hZ2ljIHZhbHVlAHRhZyBhdHRyaWJ1dGUAcXVvdGUAY2F0Y2ggbm90IGFsbG93ZWQgaW4gdHJ5LWRlbGVnYXRlAGEgdmFsaWQgdHJ5IGNsYXVzZQBlbHNlAGZhbHNlAGk2NC5hdG9taWMuc3RvcmUAaTMyLmF0b21pYy5zdG9yZQB2MTI4LnN0b3JlAGk2NC5zdG9yZQBmNjQuc3RvcmUAaTMyLnN0b3JlAGYzMi5zdG9yZQBBdG9taWNTdG9yZQBDb21wYXJlAGRlY2xhcmUAbGFuZV90eXBlAG1vZHVsZV90eXBlAGFycmF5IHR5cGUAZWxlbSBleHByIGxpc3QgdHlwZQBlbGVtIGxpc3QgdHlwZQBzZWxlY3QgcmVzdWx0IHR5cGUAZnVuY3Rpb24gcmVzdWx0IHR5cGUAc3RydWN0IHR5cGUAZnVuY3Rpb24gdHlwZQBuYW1lIHN1YnNlY3Rpb24gdHlwZQByZWxvY2F0aW9uIHR5cGUAc3ltIHR5cGUAdGFibGUgZWxlbSB0eXBlAGZ1bmN0aW9uIHBhcmFtIHR5cGUAc3ltYm9sIHR5cGUAZWxlbSBleHByIHJlZi5udWxsIHR5cGUAZXhwZWN0ZWQgdmFsaWQgbG9jYWwgdHlwZQBnbG9iYWwgdHlwZQB0YWJsZXMgbXVzdCBoYXZlIGZ1bmNyZWYgdHlwZQB0cnkgc2lnbmF0dXJlIHR5cGUAbG9vcCBzaWduYXR1cmUgdHlwZQBleHBlY3RlZCB2YWxpZCBibG9jayBzaWduYXR1cmUgdHlwZQBpZiBzaWduYXR1cmUgdHlwZQBsb2NhbCBuYW1lIHR5cGUAbW9kdWxlIG5hbWUgdHlwZQAlcyBtdXN0IGJlIGEgcmVmZXJlbmNlIHR5cGUAZmllbGQgdHlwZQByZWxvYyB0eXBlAGZ1bmMgdHlwZQBUeXBlAGxpbmUAaTMyeDQuZXh0cmFjdF9sYW5lAGYzMng0LmV4dHJhY3RfbGFuZQBpNjR4Mi5leHRyYWN0X2xhbmUAZjY0eDIuZXh0cmFjdF9sYW5lAGkxNng4LnJlcGxhY2VfbGFuZQBpOHgxNi5yZXBsYWNlX2xhbmUAaTMyeDQucmVwbGFjZV9sYW5lAGYzMng0LnJlcGxhY2VfbGFuZQBpNjR4Mi5yZXBsYWNlX2xhbmUAZjY0eDIucmVwbGFjZV9sYW5lAHYxMjguc3RvcmU4X2xhbmUAdjEyOC5sb2FkOF9sYW5lAHYxMjguc3RvcmUxNl9sYW5lAHYxMjgubG9hZDE2X2xhbmUAdjEyOC5zdG9yZTY0X2xhbmUAdjEyOC5sb2FkNjRfbGFuZQB2MTI4LnN0b3JlMzJfbGFuZQB2MTI4LmxvYWQzMl9sYW5lAFNpbWRTdG9yZUxhbmUAU2ltZExvYWRMYW5lAGkxNng4Lm5lAGk4eDE2Lm5lAGkzMng0Lm5lAGYzMng0Lm5lAGk2NC5uZQBmNjQubmUAaTY0eDIubmUAZjY0eDIubmUAaTMyLm5lAGYzMi5uZQBmaWxlbmFtZQBkeWxpYiBzb19uYW1lAGV4cG9ydCBuYW1lAHNlZ21lbnQgbmFtZQBjb21kYXQgbmFtZQBmdW5jdGlvbiBuYW1lAGN1c3RvbSBzZWN0aW9uIG5hbWUAZXhwb3J0IGl0ZW0gbmFtZQBzeW1ib2wgbmFtZQBnbG9iYWwgbmFtZQB0YWcgbmFtZQBmZWF0dXJlIG5hbWUAaW1wb3J0IG1vZHVsZSBuYW1lAHRhYmxlIG5hbWUAaW1wb3J0IGZpZWxkIG5hbWUAZGF0YSBuYW1lAGk4eDE2LnN3aXp6bGUAYSBiaW5hcnkgbW9kdWxlAGEgdGV4dCBtb2R1bGUAdW5rbm93biBtb2R1bGUAbnVtYmVyIG9mIGltcG9ydGVkIGZ1bmMgKyBmdW5jIGNvdW50IGluIGNvZGUgc2VjdGlvbiBkb2VzIG5vdCBtYXRjaCBhY3R1YWwgbnVtYmVyIG9mIGZ1bmNzIGluIG1vZHVsZQBpOHgxNi5zaHVmZmxlAGRvdWJsZQB0YWJsZS5jb3B5IGRzdF90YWJsZQBicl90YWJsZQB0YWJsZS5jb3B5IHNyY190YWJsZQB0YWJsZS5pbml0IHRhYmxlAHN5bWJvbCB0YWJsZQBhc3NlcnRfdW5saW5rYWJsZQBhc3NlcnRfdW5pbnN0YW50aWFibGUAdW5yZWFjaGFibGUAVW5yZWFjaGFibGUAQnJUYWJsZQBmMzJ4NC5sZQBmNjQubGUAZjY0eDIubGUAZjMyLmxlAGludm9rZQBtZW1vcnkgaW5kZXggJXUgb3V0IG9mIHJhbmdlAGYzMng0LmdlAGY2NC5nZQBmNjR4Mi5nZQBmMzIuZ2UAbG9jYWwudGVlAExvY2FsVGVlAGVsZW0gZXhwciBvcGNvZGUAdW5leHBlY3RlZCBvcGNvZGUAZnVuY3Rpb24gYm9keSBtdXN0IGVuZCB3aXRoIEVORCBvcGNvZGUAc2VjdGlvbiBjb2RlAENvZGUAYXRvbWljLmZlbmNlAEF0b21pY0ZlbmNlAGV4cGVjdGVkICV6ZCByZXN1bHRzLCBnb3QgJXpkAGV4cGVjdGVkICV6ZCAlc3MsIGdvdCAlemQAZWxlbSBuYW1lICV6ZABsb2NhbCBuYW1lICV6ZAB0b28gJXMgcGFyYW1ldGVycyB0byBmdW5jdGlvbi4gZ290ICV6ZCwgZXhwZWN0ZWQgJXpkAGFjY2Vzc2luZyBzdGFjayBkZXB0aDogJXUgPj0gbWF4OiAlemQAZXhwb3J0IGtpbmQAaW1wb3J0IGtpbmQAYW4gZXh0ZXJuYWwga2luZAByZWxvYyBhZGRlbmQAaW52YWxpZCBzdWItc2VjdGlvbiBzaXplOiBleHRlbmRzIHBhc3QgZW5kAGludmFsaWQgc2VjdGlvbiBzaXplOiBleHRlbmRzIHBhc3QgZW5kAGk2NC5hdG9taWMucm13LmFuZABpMzIuYXRvbWljLnJtdy5hbmQAdjEyOC5hbmQAaTY0LmFuZABpMzIuYW5kACVsbGQAYSBtb2R1bGUgZmllbGQAYXNzZXJ0X2ludmFsaWQASW52YWxpZABtdWx0aV9tZW1vcnkgbm90IGFsbG93ZWQAaW52YWxpZCBtZW1vcnkgaW5kZXggJWQ6IGJ1bGsgbWVtb3J5IG5vdCBhbGxvd2VkAGludmFsaWQgdHlwZSBmb3JtOiBhcnJheSBub3QgYWxsb3dlZABpbnZhbGlkIHR5cGUgZm9ybTogc3RydWN0IG5vdCBhbGxvd2VkAGludmFsaWQgZXhwb3J0IHRhZyBraW5kOiBleGNlcHRpb25zIG5vdCBhbGxvd2VkAGludmFsaWQgaW1wb3J0IHRhZyBraW5kOiBleGNlcHRpb25zIG5vdCBhbGxvd2VkAFNwZWNpZml5aW5nIG1lbW9yeSB2YXJpYWJsZSBpcyBub3QgYWxsb3dlZABTcGVjaWZ5aW5nIG1lbW9yeSB2YXJpYWJsZSBpcyBub3QgYWxsb3dlZABtdWx0aXBsZSBjYXRjaF9hbGwgY2xhdXNlcyBub3QgYWxsb3dlZABtZW1vcnkgbWF5IG5vdCBiZSBzaGFyZWQ6IHRocmVhZHMgbm90IGFsbG93ZWQAZXh0ZXJucmVmIG5vdCBhbGxvd2VkAHBhc3NpdmUgZGF0YSBzZWdtZW50cyBhcmUgbm90IGFsbG93ZWQAYXJyYXkgdHlwZSBub3QgYWxsb3dlZABtZW1vcnk2NCBub3QgYWxsb3dlZABvbmx5IG9uZSBzdGFydCBmdW5jdGlvbiBhbGxvd2VkAG9ubHkgb25lIG1lbW9yeSBibG9jayBhbGxvd2VkAG9ubHkgb25lIHRhYmxlIGFsbG93ZWQAbWVtb3J5Lmdyb3cgcmVzZXJ2ZWQAcmV0dXJuX2NhbGxfaW5kaXJlY3QgcmVzZXJ2ZWQAbWVtb3J5LmZpbGwgcmVzZXJ2ZWQAbWVtb3J5LnNpemUgcmVzZXJ2ZWQAUmVzZXJ2ZWQAb3V0cHV0IGNvbW1hbmQgaXMgbm90IHN1cHBvcnRlZABpbnB1dCBjb21tYW5kIGlzIG5vdCBzdXBwb3J0ZWQAbXV0YWJsZSBnbG9iYWxzIGNhbm5vdCBiZSBpbXBvcnRlZABleHBlY3RlZAB0YWJsZXMgbWF5IG5vdCBiZSBzaGFyZWQAbWVtb3JpZXMgbWF5IG5vdCBiZSBzaGFyZWQAYXNzZXJ0X21hbGZvcm1lZABPbkNvbWRhdEVudHJ5IGNhbGxiYWNrIGZhaWxlZABPbk5hbWVFbnRyeSBjYWxsYmFjayBmYWlsZWQAT25JbXBvcnRNZW1vcnkgY2FsbGJhY2sgZmFpbGVkAE9uTWVtb3J5IGNhbGxiYWNrIGZhaWxlZABCZWdpbkZ1bmN0aW9uQm9keSBjYWxsYmFjayBmYWlsZWQARW5kRnVuY3Rpb25Cb2R5IGNhbGxiYWNrIGZhaWxlZABPbk9wY29kZUluZGV4IGNhbGxiYWNrIGZhaWxlZABPbkV4cG9ydCBjYWxsYmFjayBmYWlsZWQAT25EeWxpbmtFeHBvcnQgY2FsbGJhY2sgZmFpbGVkAE9uSW1wb3J0IGNhbGxiYWNrIGZhaWxlZABPbkR5bGlua0ltcG9ydCBjYWxsYmFjayBmYWlsZWQAT25NZW1vcnlDb3VudCBjYWxsYmFjayBmYWlsZWQAT25GdW5jdGlvbkJvZHlDb3VudCBjYWxsYmFjayBmYWlsZWQAT25FeHBvcnRDb3VudCBjYWxsYmFjayBmYWlsZWQAT25EeWxpbmtFeHBvcnRDb3VudCBjYWxsYmFjayBmYWlsZWQAT25JbXBvcnRDb3VudCBjYWxsYmFjayBmYWlsZWQAT25EeWxpbmtJbXBvcnRDb3VudCBjYWxsYmFjayBmYWlsZWQAT25FbGVtU2VnbWVudENvdW50IGNhbGxiYWNrIGZhaWxlZABPbkRhdGFTZWdtZW50Q291bnQgY2FsbGJhY2sgZmFpbGVkAE9uQ29tZGF0Q291bnQgY2FsbGJhY2sgZmFpbGVkAE9uRnVuY3Rpb25OYW1lc0NvdW50IGNhbGxiYWNrIGZhaWxlZABPbkVsZW1TZWdtZW50RWxlbUV4cHJDb3VudCBjYWxsYmFjayBmYWlsZWQAT25TZWdtZW50SW5mb0NvdW50IGNhbGxiYWNrIGZhaWxlZABPbkluaXRGdW5jdGlvbkNvdW50IGNhbGxiYWNrIGZhaWxlZABPbkZ1bmN0aW9uQ291bnQgY2FsbGJhY2sgZmFpbGVkAE9uTG9jYWxOYW1lRnVuY3Rpb25Db3VudCBjYWxsYmFjayBmYWlsZWQAT25TeW1ib2xDb3VudCBjYWxsYmFjayBmYWlsZWQAT25Mb2NhbERlY2xDb3VudCBjYWxsYmFjayBmYWlsZWQAT25Mb2NhbE5hbWVMb2NhbENvdW50IGNhbGxiYWNrIGZhaWxlZABPbkdsb2JhbENvdW50IGNhbGxiYWNrIGZhaWxlZABPblRhZ0NvdW50IGNhbGxiYWNrIGZhaWxlZABPbkZlYXR1cmVDb3VudCBjYWxsYmFjayBmYWlsZWQAT25UeXBlQ291bnQgY2FsbGJhY2sgZmFpbGVkAE9uTmFtZUNvdW50IGNhbGxiYWNrIGZhaWxlZABPblRhYmxlQ291bnQgY2FsbGJhY2sgZmFpbGVkAE9uRHlsaW5rTmVlZGVkQ291bnQgY2FsbGJhY2sgZmFpbGVkAE9uUmVsb2NDb3VudCBjYWxsYmFjayBmYWlsZWQAT25Db2RlTWV0YWRhdGFGdW5jQ291bnQgY2FsbGJhY2sgZmFpbGVkAE9uQ29kZU1ldGFkYXRhQ291bnQgY2FsbGJhY2sgZmFpbGVkAE9uRGF0YUNvdW50IGNhbGxiYWNrIGZhaWxlZABCZWdpbkVsZW1TZWdtZW50IGNhbGxiYWNrIGZhaWxlZABFbmRFbGVtU2VnbWVudCBjYWxsYmFjayBmYWlsZWQAQmVnaW5EYXRhU2VnbWVudCBjYWxsYmFjayBmYWlsZWQARW5kRGF0YVNlZ21lbnQgY2FsbGJhY2sgZmFpbGVkAE9uVGVybmFyeUV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uQmluYXJ5RXhwciBjYWxsYmFjayBmYWlsZWQAT25VbmFyeUV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uVHJ5RXhwciBjYWxsYmFjayBmYWlsZWQAT25NZW1vcnlDb3B5RXhwciBjYWxsYmFjayBmYWlsZWQAT25UYWJsZUNvcHlFeHByIGNhbGxiYWNrIGZhaWxlZABPbkF0b21pY05vdGlmeUV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uUmV0aHJvd0V4cHIgY2FsbGJhY2sgZmFpbGVkAE9uVGhyb3dFeHByIGNhbGxiYWNrIGZhaWxlZABPbk1lbW9yeUdyb3dFeHByIGNhbGxiYWNrIGZhaWxlZABPblRhYmxlR3Jvd0V4cHIgY2FsbGJhY2sgZmFpbGVkAE9uQXRvbWljUm13RXhwciBjYWxsYmFjayBmYWlsZWQAT25WMTI4Q29uc3RFeHByIGNhbGxiYWNrIGZhaWxlZABPbkk2NENvbnN0RXhwciBjYWxsYmFjayBmYWlsZWQAT25GNjRDb25zdEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uSTMyQ29uc3RFeHByIGNhbGxiYWNrIGZhaWxlZABPbkYzMkNvbnN0RXhwciBjYWxsYmFjayBmYWlsZWQAT25Db252ZXJ0RXhwciBjYWxsYmFjayBmYWlsZWQAT25NZW1vcnlJbml0RXhwciBjYWxsYmFjayBmYWlsZWQAQmVnaW5FbGVtU2VnbWVudEluaXRFeHByIGNhbGxiYWNrIGZhaWxlZABFbmRFbGVtU2VnbWVudEluaXRFeHByIGNhbGxiYWNrIGZhaWxlZABCZWdpbkRhdGFTZWdtZW50SW5pdEV4cHIgY2FsbGJhY2sgZmFpbGVkAEVuZERhdGFTZWdtZW50SW5pdEV4cHIgY2FsbGJhY2sgZmFpbGVkAEJlZ2luR2xvYmFsSW5pdEV4cHIgY2FsbGJhY2sgZmFpbGVkAEVuZEdsb2JhbEluaXRFeHByIGNhbGxiYWNrIGZhaWxlZABPblRhYmxlSW5pdEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uQXRvbWljV2FpdEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uTG9jYWxTZXRFeHByIGNhbGxiYWNrIGZhaWxlZABPbkdsb2JhbFNldEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uVGFibGVTZXRFeHByIGNhbGxiYWNrIGZhaWxlZABPbkxvY2FsR2V0RXhwciBjYWxsYmFjayBmYWlsZWQAT25HbG9iYWxHZXRFeHByIGNhbGxiYWNrIGZhaWxlZABPblRhYmxlR2V0RXhwciBjYWxsYmFjayBmYWlsZWQAT25SZXR1cm5DYWxsSW5kaXJlY3RFeHByIGNhbGxiYWNrIGZhaWxlZABPbkNhbGxJbmRpcmVjdEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uU2VsZWN0RXhwciBjYWxsYmFjayBmYWlsZWQAT25Mb2FkU3BsYXRFeHByIGNhbGxiYWNrIGZhaWxlZABPbkJyRXhwciBjYWxsYmFjayBmYWlsZWQAT25Ecm9wRXhwciBjYWxsYmFjayBmYWlsZWQAT25FbGVtRHJvcEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uRGF0YURyb3BFeHByIGNhbGxiYWNrIGZhaWxlZABPbkxvb3BFeHByIGNhbGxiYWNrIGZhaWxlZABPbk5vcEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uU2ltZExhbmVPcEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uU2ltZFNodWZmbGVPcEV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uTG9hZFplcm9FeHByIGNhbGxiYWNrIGZhaWxlZABPblJldHVybkV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uUmVmSXNOdWxsRXhwciBjYWxsYmFjayBmYWlsZWQAT25SZWZOdWxsRXhwciBjYWxsYmFjayBmYWlsZWQAT25NZW1vcnlGaWxsRXhwciBjYWxsYmFjayBmYWlsZWQAT25UYWJsZUZpbGxFeHByIGNhbGxiYWNrIGZhaWxlZABPblJldHVybkNhbGxFeHByIGNhbGxiYWNrIGZhaWxlZABPbkNhbGxFeHByIGNhbGxiYWNrIGZhaWxlZABPbkNhdGNoQWxsRXhwciBjYWxsYmFjayBmYWlsZWQAT25CbG9ja0V4cHIgY2FsbGJhY2sgZmFpbGVkAE9uQ2F0Y2hFeHByIGNhbGxiYWNrIGZhaWxlZABPbkF0b21pY1Jtd0NtcHhjaGdFeHByIGNhbGxiYWNrIGZhaWxlZABPbkNhbGxSZWZFeHByIGNhbGxiYWNrIGZhaWxlZABPbkJySWZFeHByIGNhbGxiYWNrIGZhaWxlZABPbklmRXhwciBjYWxsYmFjayBmYWlsZWQAT25NZW1vcnlTaXplRXhwciBjYWxsYmFjayBmYWlsZWQAT25UYWJsZVNpemVFeHByIGNhbGxiYWNrIGZhaWxlZABPbkRlbGVnYXRlRXhwciBjYWxsYmFjayBmYWlsZWQAT25FbHNlRXhwciBjYWxsYmFjayBmYWlsZWQAT25TdG9yZUV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uQXRvbWljU3RvcmVFeHByIGNhbGxiYWNrIGZhaWxlZABPbkNvbXBhcmVFeHByIGNhbGxiYWNrIGZhaWxlZABPblNpbWRTdG9yZUxhbmVFeHByIGNhbGxiYWNrIGZhaWxlZABPblNpbWRMb2FkTGFuZUV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uVW5yZWFjaGFibGVFeHByIGNhbGxiYWNrIGZhaWxlZABPbkJyVGFibGVFeHByIGNhbGxiYWNrIGZhaWxlZABPbkxvY2FsVGVlRXhwciBjYWxsYmFjayBmYWlsZWQAT25BdG9taWNGZW5jZUV4cHIgY2FsbGJhY2sgZmFpbGVkAE9uRW5kRXhwciBjYWxsYmFjayBmYWlsZWQAT25Mb2FkRXhwciBjYWxsYmFjayBmYWlsZWQAT25BdG9taWNMb2FkRXhwciBjYWxsYmFjayBmYWlsZWQAT25SZWZGdW5jRXhwciBjYWxsYmFjayBmYWlsZWQAT25TZWdtZW50SW5mbyBjYWxsYmFjayBmYWlsZWQAT25EeWxpbmtJbmZvIGNhbGxiYWNrIGZhaWxlZABPblN0YXJ0RnVuY3Rpb24gY2FsbGJhY2sgZmFpbGVkAE9uSW5pdEZ1bmN0aW9uIGNhbGxiYWNrIGZhaWxlZABPbkZ1bmN0aW9uIGNhbGxiYWNrIGZhaWxlZABPbkZ1bmN0aW9uTmFtZVN1YnNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAE9uTmFtZVN1YnNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAE9uTG9jYWxOYW1lU3Vic2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAT25Nb2R1bGVOYW1lU3Vic2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5NZW1vcnlTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmRNZW1vcnlTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpbkV4cG9ydFNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEVuZEV4cG9ydFNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEJlZ2luSW1wb3J0U2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kSW1wb3J0U2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5TdGFydFNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEVuZFN0YXJ0U2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5EYXRhQ291bnRTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmREYXRhQ291bnRTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpblRhcmdldEZlYXR1cmVzU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kVGFyZ2V0RmVhdHVyZXNTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpbk5hbWVzU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kTmFtZXNTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpbkZ1bmN0aW9uU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kRnVuY3Rpb25TZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpblNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEJlZ2luQ3VzdG9tU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kQ3VzdG9tU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5FbGVtU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kRWxlbVNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEJlZ2luR2xvYmFsU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kR2xvYmFsU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5EeWxpbmtTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmREeWxpbmtTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpbkxpbmtpbmdTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmRMaW5raW5nU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5UYWdTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmRUYWdTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABCZWdpblR5cGVTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmRUeXBlU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5UYWJsZVNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEVuZFRhYmxlU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5Db2RlU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kQ29kZVNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEJlZ2luUmVsb2NTZWN0aW9uIGNhbGxiYWNrIGZhaWxlZABFbmRSZWxvY1NlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAEJlZ2luQ29kZU1ldGFkYXRhU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kQ29kZU1ldGFkYXRhU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQAQmVnaW5EYXRhU2VjdGlvbiBjYWxsYmFjayBmYWlsZWQARW5kRGF0YVNlY3Rpb24gY2FsbGJhY2sgZmFpbGVkAE9uQ29tZGF0QmVnaW4gY2FsbGJhY2sgZmFpbGVkAE9uRnVuY3Rpb25TeW1ib2wgY2FsbGJhY2sgZmFpbGVkAE9uU2VjdGlvblN5bWJvbCBjYWxsYmFjayBmYWlsZWQAT25HbG9iYWxTeW1ib2wgY2FsbGJhY2sgZmFpbGVkAE9uVGFnU3ltYm9sIGNhbGxiYWNrIGZhaWxlZABPblRhYmxlU3ltYm9sIGNhbGxiYWNrIGZhaWxlZABPbkRhdGFTeW1ib2wgY2FsbGJhY2sgZmFpbGVkAE9uRWxlbVNlZ21lbnRFbGVtRXhwcl9SZWZOdWxsIGNhbGxiYWNrIGZhaWxlZABPbkxvY2FsRGVjbCBjYWxsYmFjayBmYWlsZWQAT25JbXBvcnRHbG9iYWwgY2FsbGJhY2sgZmFpbGVkAEJlZ2luR2xvYmFsIGNhbGxiYWNrIGZhaWxlZABFbmRHbG9iYWwgY2FsbGJhY2sgZmFpbGVkAE9uT3Bjb2RlQmxvY2tTaWcgY2FsbGJhY2sgZmFpbGVkAE9uSW1wb3J0VGFnIGNhbGxiYWNrIGZhaWxlZABPbkZlYXR1cmUgY2FsbGJhY2sgZmFpbGVkAE9uT3Bjb2RlQmFyZSBjYWxsYmFjayBmYWlsZWQAT25BcnJheVR5cGUgY2FsbGJhY2sgZmFpbGVkAE9uU3RydWN0VHlwZSBjYWxsYmFjayBmYWlsZWQAT25FbGVtU2VnbWVudEVsZW1UeXBlIGNhbGxiYWNrIGZhaWxlZABPblRhZ1R5cGUgY2FsbGJhY2sgZmFpbGVkAE9uT3Bjb2RlVHlwZSBjYWxsYmFjayBmYWlsZWQAT25GdW5jVHlwZSBjYWxsYmFjayBmYWlsZWQAT25GdW5jdGlvbk5hbWUgY2FsbGJhY2sgZmFpbGVkAE9uTG9jYWxOYW1lIGNhbGxiYWNrIGZhaWxlZABPbk1vZHVsZU5hbWUgY2FsbGJhY2sgZmFpbGVkAEJlZ2luTW9kdWxlIGNhbGxiYWNrIGZhaWxlZABFbmRNb2R1bGUgY2FsbGJhY2sgZmFpbGVkAE9uSW1wb3J0VGFibGUgY2FsbGJhY2sgZmFpbGVkAE9uVGFibGUgY2FsbGJhY2sgZmFpbGVkAE9uT3Bjb2RlIGNhbGxiYWNrIGZhaWxlZABPbkR5bGlua05lZWRlZCBjYWxsYmFjayBmYWlsZWQAT25SZWxvYyBjYWxsYmFjayBmYWlsZWQAT25JbXBvcnRGdW5jIGNhbGxiYWNrIGZhaWxlZABPbkVsZW1TZWdtZW50RWxlbUV4cHJfUmVmRnVuYyBjYWxsYmFjayBmYWlsZWQAT25Db2RlTWV0YWRhdGEgY2FsbGJhY2sgZmFpbGVkAE9uRGF0YVNlZ21lbnREYXRhIGNhbGxiYWNrIGZhaWxlZABPbk9wY29kZVYxMjggY2FsbGJhY2sgZmFpbGVkAE9uT3Bjb2RlVWludDY0IGNhbGxiYWNrIGZhaWxlZABPbk9wY29kZUY2NCBjYWxsYmFjayBmYWlsZWQAT25PcGNvZGVVaW50MzIgY2FsbGJhY2sgZmFpbGVkAE9uT3Bjb2RlVWludDMyVWludDMyIGNhbGxiYWNrIGZhaWxlZABPbk9wY29kZVVpbnQzMlVpbnQzMlVpbnQzMiBjYWxsYmFjayBmYWlsZWQAT25PcGNvZGVGMzIgY2FsbGJhY2sgZmFpbGVkAGk2NC5hdG9taWMucm13LmFkZABpMzIuYXRvbWljLnJtdy5hZGQAaTE2eDguYWRkAGk4eDE2LmFkZABpMzJ4NC5hZGQAZjMyeDQuYWRkAGk2NC5hZGQAZjY0LmFkZABpNjR4Mi5hZGQAZjY0eDIuYWRkAGkzMi5hZGQAZjMyLmFkZABpNjQuYXRvbWljLmxvYWQAaTMyLmF0b21pYy5sb2FkAHYxMjgubG9hZABpNjQubG9hZABmNjQubG9hZABpMzIubG9hZABmMzIubG9hZABBdG9taWNMb2FkAG1hbGZvcm1lZCBtZW1vcnkgbGltaXRzIGZsYWc6ICVkAG1hbGZvcm1lZCB0YWJsZSBsaW1pdHMgZmxhZzogJWQAbWFsZm9ybWVkIGltcG9ydCBraW5kOiAlZABpbnZhbGlkIGV4cG9ydCBleHRlcm5hbCBraW5kOiAlZAB0YWJsZSBzcmMAcmVsb2MAZjMyeDQudHJ1bmMAZjY0LnRydW5jAGY2NHgyLnRydW5jAGYzMi50cnVuYwByZWYuZnVuYwBSZWZGdW5jAG5hbjphcml0aG1ldGljAG1hZ2ljAGk2NC5hdG9taWMucm13LnN1YgBpMzIuYXRvbWljLnJtdy5zdWIAaTE2eDguc3ViAGk4eDE2LnN1YgBpMzJ4NC5zdWIAZjMyeDQuc3ViAGk2NC5zdWIAZjY0LnN1YgBpNjR4Mi5zdWIAZjY0eDIuc3ViAGkzMi5zdWIAZjMyLnN1YgBDb2RlTWV0YWRhdGEAZGF0YSBzZWdtZW50IGRhdGEAaW5zdGFuY2UgZGF0YQBEYXRhAGFsbG9jYQBeAHR5cGVpZHhbJWRdAExhbmUgaWR4IFsxNl0AT25CclRhYmxlRXhwcihudW1fdGFyZ2V0czogJXUsIGRlcHRoczogWwBVTkFSWQBURVJOQVJZAEJJTkFSWQBBVE9NSUNfTk9USUZZAEFUT01JQ19STVcAVEVYVABDT05TVABDT05WRVJUAElOVABBVE9NSUNfV0FJVABGTE9BVABOQVQAU0lNRExPQURTUExBVABGT1JDRV9DT0xPUgBWQVIAU0lNRExBTkVPUABXQVNNX0JJTkFSWV9WRVJTSU9OAE5BTgBNAEwASQBBVE9NSUNfUk1XX0NNUFhDSEcARU9GAElORgBBVE9NSUNfU1RPUkUAQ09NUEFSRQBWQUxVRVRZUEUAU0lNRFNUT1JFTEFORQBTSU1ETE9BRExBTkUAQVRPTUlDX0xPQUQAV0FTTV9CSU5BUllfTUFHSUMAUl9XQVNNX0ZVTkNUSU9OX0lOREVYX0xFQgBSX1dBU01fR0xPQkFMX0lOREVYX0xFQgBSX1dBU01fVEFHX0lOREVYX0xFQgBSX1dBU01fVFlQRV9JTkRFWF9MRUIAUl9XQVNNX1RBQkxFX05VTUJFUl9MRUIAUl9XQVNNX01FTU9SWV9BRERSX0xFQgBSX1dBU01fVEFCTEVfSU5ERVhfU0xFQgBSX1dBU01fTUVNT1JZX0FERFJfVExTX1NMRUIAUl9XQVNNX01FTU9SWV9BRERSX1NMRUIAUl9XQVNNX1RBQkxFX0lOREVYX1JFTF9TTEVCAFJfV0FTTV9NRU1PUllfQUREUl9SRUxfU0xFQgA8YmluYXJ5PgA8dGV4dD4APGVycm9yX3JlbG9jX3R5cGU+ADxlcnJvcl9raW5kPgA8aW52YWxpZD4APHR5cGVfaW5kZXhbJWRdPgA+PgBvZmZzZXQ9AGFsaWduPQA+PQA9PQA8PQAhPQA8PAA6AGkxNng4AGk2NC5hdG9taWMuc3RvcmU4AGkzMi5hdG9taWMuc3RvcmU4AGk2NC5zdG9yZTgAaTMyLnN0b3JlOAAxMjMsIC00NSwgNi43ZTgAdjEyOABpOHgxNgBpMTYAaTY0LmF0b21pYy5zdG9yZTE2AGkzMi5hdG9taWMuc3RvcmUxNgBpNjQuc3RvcmUxNgBpMzIuc3RvcmUxNgBpMzJ4NABmNjR4Mi5wcm9tb3RlX2xvd19mMzJ4NABtZW1vcnkuYXRvbWljLndhaXQ2NABmNjQucmVpbnRlcnByZXRfaTY0AGkzMi53cmFwX2k2NABpNjQucmVpbnRlcnByZXRfZjY0AGYzMi5kZW1vdGVfZjY0AFJfV0FTTV9UQUJMRV9JTkRFWF9JNjQAUl9XQVNNX01FTU9SWV9BRERSX0k2NABSX1dBU01fTUVNT1JZX0FERFJfTEVCNjQAUl9XQVNNX1RBQkxFX0lOREVYX1NMRUI2NABSX1dBU01fTUVNT1JZX0FERFJfU0xFQjY0AFJfV0FTTV9NRU1PUllfQUREUl9SRUxfU0xFQjY0ADEyMwBpNjR4MgBmNjR4MgBtZW1vcnkuYXRvbWljLndhaXQzMgBmMzIucmVpbnRlcnByZXRfaTMyAGkzMi5yZWludGVycHJldF9mMzIAZjY0LnByb21vdGVfZjMyAGk2NC5hdG9taWMuc3RvcmUzMgBpNjQuc3RvcmUzMgBSX1dBU01fR0xPQkFMX0lOREVYX0kzMgBSX1dBU01fVEFCTEVfSU5ERVhfSTMyAFJfV0FTTV9GVU5DVElPTl9PRkZTRVRfSTMyAFJfV0FTTV9TRUNUSU9OX09GRlNFVF9JMzIAUl9XQVNNX01FTU9SWV9BRERSX1RMU19JMzIAUl9XQVNNX01FTU9SWV9BRERSX0kzMgBhbGlnbm1lbnQgKCVsbHUpIG11c3QgYmUgYSBwb3dlciBvZiAyAGdsb2JhbCBtdXRhYmlsaXR5IG11c3QgYmUgMCBvciAxAGZpZWxkIG11dGFiaWxpdHkgbXVzdCBiZSAwIG9yIDEAbG9jYWwgY291bnQgbXVzdCBiZSA8IDB4MTAwMDAwMDAANDIuMAArMABhdG9taWMuZmVuY2UgY29uc2lzdGVuY3kgbW9kZWwgbXVzdCBiZSAwAG1lbW9yeS5ncm93IHJlc2VydmVkIHZhbHVlIG11c3QgYmUgMAByZXR1cm5fY2FsbF9pbmRpcmVjdCByZXNlcnZlZCB2YWx1ZSBtdXN0IGJlIDAAbWVtb3J5LmZpbGwgcmVzZXJ2ZWQgdmFsdWUgbXVzdCBiZSAwAG1lbW9yeS5zaXplIHJlc2VydmVkIHZhbHVlIG11c3QgYmUgMAB0YWcgYXR0cmlidXRlIG11c3QgYmUgMAAvAGNhbid0IGdsb2JhbC5zZXQgb24gaW1tdXRhYmxlIGdsb2JhbCBhdCBpbmRleCAldS4AaW52YWxpZCBhcml0eSBpbiBzZWxlY3QgaW5zdHJ1Y3Rpb246ICV1LgBUYWcgc2lnbmF0dXJlIG11c3QgaGF2ZSAwIHJlc3VsdHMuAHVuZXhwZWN0ZWQgdG9rZW4gIiVzIiVzLgB1bmV4cGVjdGVkIHRva2VuICVzLgB1bmV4cGVjdGVkIHRva2VuICVzLCBleHBlY3RlZCAlcy4AQG1ldGFkYXRhLmNvZGUuACVzIHBhcmFtcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZC4AbXVsdGlwbGUgcmVzdWx0IHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRob3V0IG11bHRpLXZhbHVlIGVuYWJsZWQuAGludmFsaWQgZWxlbSBleHByZXNzaW9uIGV4cHJlc3Npb247IG11c3QgYmUgZWl0aGVyIHJlZi5udWxsIG9yIHJlZi5mdW5jLgAuLi4AVW5leHBlY3RlZCB0eXBlIGF0IHN0YXJ0IG9mIHNpbWQgY29uc3RhbnQuIEV4cGVjdGVkIG9uZSBvZjogaTh4MTYsIGkxNng4LCBpMzJ4NCwgaTY0eDIsIGYzMng0LCBmNjR4Mi4gRm91bmQgIiVzIi4ALQArACoAdW5maW5pc2hlZCBzdWItc2VjdGlvbiAoZXhwZWN0ZWQgZW5kOiAweCV6eCkAdW5maW5pc2hlZCBzZWN0aW9uIChleHBlY3RlZCBlbmQ6IDB4JXp4KQB1bmV4cGVjdGVkIHR5cGUgZm9ybSAoZ290ICVzJSN4KQBleHBlY3RlZCB2YWxpZCBzZWxlY3QgcmVzdWx0IHR5cGUgKGdvdCAlcyUjeCkAZXhwZWN0ZWQgdmFsaWQgcmVzdWx0IHR5cGUgKGdvdCAlcyUjeCkAZXhwZWN0ZWQgdmFsaWQgcGFyYW0gdHlwZSAoZ290ICVzJSN4KQBleHBlY3RlZCB2YWxpZCBmaWVsZCB0eXBlIChnb3QgJXMlI3gpAHVuZXhwZWN0ZWQgdHlwZSBmb3JtIChnb3QgJSN4KQBiYWQgd2FzbSBmaWxlIHZlcnNpb246ICUjeCAoZXhwZWN0ZWQgJSN4KQBhbGlnbm1lbnQgbXVzdCBiZSBlcXVhbCB0byBuYXR1cmFsIGFsaWdubWVudCAoJWxsdSkAYWxpZ25tZW50IG11c3Qgbm90IGJlIGxhcmdlciB0aGFuIG5hdHVyYWwgYWxpZ25tZW50ICglbGx1KQBtYXggJXMgKCVsbHUpIG11c3QgYmUgPj0gaW5pdGlhbCAlcyAoJWxsdSkAbWF4ICVzICglbGx1KSBtdXN0IGJlIDw9ICglbGx1KQBpbml0aWFsICVzICglbGx1KSBtdXN0IGJlIDw9ICglbGx1KQBsYW5lIGluZGV4IG11c3QgYmUgbGVzcyB0aGFuICVkIChnb3QgJWxsdSkAZXhwZWN0ZWQgbG9jYWwgbmFtZSBjb3VudCAoJXUpIDw9IGxvY2FsIGNvdW50ICgldSkAc2VjdGlvbiAiJXMiICgldSkAJXMgdmFyaWFibGUgb3V0IG9mIHJhbmdlOiAldSAobWF4ICV1KQBsb2NhbCB2YXJpYWJsZSBvdXQgb2YgcmFuZ2UgKG1heCAldSkAZnVuY3Rpb24gaW1wb3J0IGNhbid0IGhhdmUgbWV0YWRhdGEgKGdvdCAldSkAZnVuYyBib2R5IHNpemUgKGd1ZXNzKQBzdWJzZWN0aW9uIHNpemUgKGd1ZXNzKQBzZWdtZW50IGVsZW0gdHlwZSBtdXN0IGJlIGZ1bmMgKCVzKQBpbnZhbGlkIHJldGhyb3cgZGVwdGg6ICV1IChjYXRjaGVzOiAlcykAKG51bGwpAGV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgY291bnQgKCV1KSA8PSBmdW5jdGlvbiBjb3VudCAoJXpkKQBpbnZhbGlkIGRlcHRoOiAldSAobWF4ICV6ZCkAbGFuZSBpbmRleCBtdXN0IGJlIGxlc3MgdGhhbiAzMiAoZ290ICVkKQAocmVmICVkKQAldSAoO0AldTspACg7JXU7KQAoOz0lZzspACV1ICg7IElOVkFMSUQgOykAKGkzMi5jb25zdCAxMjMpAGxhbmUgaW5kZXggIiUuKnMiIG91dC1vZi1yYW5nZSBbMCwgMzIpAGEgbmF0dXJhbCBudW1iZXIgaW4gcmFuZ2UgWzAsIDMyKQAodGhlbiAuLi4pACgAJgAlACIlbGx1IgAiJWx1IgAiJXUiAGR1cGxpY2F0ZSBleHBvcnQgIiUuKnMiAGludmFsaWQgaW50ICIlLipzIgBpbnZhbGlkIGFsaWdubWVudCAiJS4qcyIAaW52YWxpZCBvZmZzZXQgIiUuKnMiAGludmFsaWQgbGl0ZXJhbCAiJS4qcyIAYmFkIGVzY2FwZSAiJS4qcyIAdW5rbm93biBmdW5jdGlvbiBleHBvcnQgIiVzIgB1bmtub3duIGdsb2JhbCBleHBvcnQgIiVzIgByZWRlZmluaXRpb24gb2YgJXMgIiVzIgBzZWN0aW9uICIlcyIAdW5leHBlY3RlZCBsYWJlbCAiJXMiAGludmFsaWQgbGl0ZXJhbCAiJXMiAHVuZGVmaW5lZCAlcyB2YXJpYWJsZSAiJXMiAHVuZGVmaW5lZCBsYWJlbCB2YXJpYWJsZSAiJXMiAHVuZGVmaW5lZCBsb2NhbCB2YXJpYWJsZSAiJXMiAG1pc21hdGNoaW5nIGxhYmVsICIlcyIgIT0gIiVzIgAiZm9vIgAibnVsbCIAKG11dCAAdHlwZSBtaXNtYXRjaCBpbiByZWYuaXNfbnVsbCwgZXhwZWN0ZWQgcmVmZXJlbmNlIGJ1dCBnb3QgAHR5cGUgbWlzbWF0Y2ggaW4gY2FsbF9yZWYsIGV4cGVjdGVkIHJlZmVyZW5jZSBidXQgZ290IAAgb3IgAHR5cGUgbWlzbWF0Y2ggaW4gAHR5cGUgbWlzbWF0Y2ggYXQgZW5kIG9mIAAsIGV4cGVjdGVkIAAlMDd6eDogACwgcmVzdWx0czogAE9uRnVuY1R5cGUoaW5kZXg6ICV1LCBwYXJhbXM6IABPblN0cnVjdFR5cGUoaW5kZXg6ICV1LCBmaWVsZHM6IABPblRyeUV4cHIoc2lnOiAAT25Mb29wRXhwcihzaWc6IABPbkJsb2NrRXhwcihzaWc6IABPbklmRXhwcihzaWc6IABPblNlbGVjdEV4cHIocmV0dXJuX3R5cGU6IABPbkFycmF5VHlwZShpbmRleDogJXUsIGZpZWxkOiAAJWQ6JWQ6IAAiJXMiOiAAeyJzb3VyY2VfZmlsZW5hbWUiOiAAIChlLmcuIAAuLi4gACwgAF19CgA7ICVzCgBlcnJvcjogZHVwbGljYXRlIHN5bWJvbCB3aGVuIHdyaXRpbmcgcmVsb2NhdGFibGUgYmluYXJ5OiAlcwoAJTA3eng6ICVzOiAlcwoASW52YWxpZCBPcGNvZGUgZm9yIGV4cHIgdHlwZTogJXMKAHdhcm5pbmc6IHVuc3VwcG9ydGVkIHJlbG9jYXRpb24gdHlwZTogJXMKAE9uRHJvcEV4cHIKAE9uTm9wRXhwcgoAT25SZXR1cm5FeHByCgBPblJlZklzTnVsbEV4cHIKAE9uQ2F0Y2hBbGxFeHByCgBPbkNhbGxSZWZFeHByCgBPbkVsc2VFeHByCgBPblVucmVhY2hhYmxlRXhwcgoAT25FbmRFeHByCgBFbmRNZW1vcnlTZWN0aW9uCgBFbmRFeHBvcnRTZWN0aW9uCgBFbmRJbXBvcnRTZWN0aW9uCgBFbmRTdGFydFNlY3Rpb24KAEVuZERhdGFDb3VudFNlY3Rpb24KAEVuZFRhcmdldEZlYXR1cmVzU2VjdGlvbgoARW5kTmFtZXNTZWN0aW9uCgBFbmRGdW5jdGlvblNlY3Rpb24KAEVuZEN1c3RvbVNlY3Rpb24KAEVuZEVsZW1TZWN0aW9uCgBFbmRHbG9iYWxTZWN0aW9uCgBFbmREeWxpbmtTZWN0aW9uCgBFbmRMaW5raW5nU2VjdGlvbgoARW5kVGFnU2VjdGlvbgoARW5kVHlwZVNlY3Rpb24KAEVuZFRhYmxlU2VjdGlvbgoARW5kQ29kZVNlY3Rpb24KAEVuZFJlbG9jU2VjdGlvbgoARW5kQ29kZU1ldGFkYXRhU2VjdGlvbgoARW5kRGF0YVNlY3Rpb24KAEVuZE1vZHVsZQoAOyAlcyAlZAoALAogImNvbW1hbmRzIjogWwoAOgoAOyB0cnVuY2F0ZSB0byAlemQgKDB4JXp4KQoAOyBtb3ZlIGRhdGE6IFslengsICV6eCkgLT4gWyV6eCwgJXp4KQoAT25WMTI4Q29uc3RFeHByKDB4JTA4eCAweCUwOHggMHglMDh4IDB4JTA4eCkKAE9uU2ltZFNodWZmbGVPcEV4cHIgKGxhbmU6IDB4JTA4eCAlMDh4ICUwOHggJTA4eCkKAE9uRGF0YVN5bWJvbChuYW1lOiAlLipzIGZsYWdzOiAweCV4KQoAT25TZWdtZW50SW5mbyglZCBuYW1lOiAlLipzLCBhbGlnbm1lbnQ6ICVsbHUsIGZsYWdzOiAweCV4KQoAT25EeWxpbmtFeHBvcnQobmFtZTogJS4qcywgZmxhZ3M6IDB4JXgpCgBPbkR5bGlua0ltcG9ydChtb2R1bGU6ICUuKnMsIG5hbWU6ICUuKnMsIGZsYWdzOiAweCV4KQoAT25EYXRhU2VnbWVudERhdGEoaW5kZXg6JXUsIHNpemU6JWxsdSkKAE9uU3RvcmVFeHByKG9wY29kZTogIiVzIiAoJXUpLCBtZW1pZHg6ICV1LCBhbGlnbiBsb2cyOiAlbGx1LCBvZmZzZXQ6ICVsbHUpCgBPbkxvYWRFeHByKG9wY29kZTogIiVzIiAoJXUpLCBtZW1pZHg6ICV1LCBhbGlnbiBsb2cyOiAlbGx1LCBvZmZzZXQ6ICVsbHUpCgBPbkF0b21pY05vdGlmeUV4cHIob3Bjb2RlOiAiJXMiICgldSksIGFsaWduIGxvZzI6ICVsbHUsIG9mZnNldDogJWxsdSkKAE9uQXRvbWljUm13RXhwcihvcGNvZGU6ICIlcyIgKCV1KSwgYWxpZ24gbG9nMjogJWxsdSwgb2Zmc2V0OiAlbGx1KQoAT25BdG9taWNXYWl0RXhwcihvcGNvZGU6ICIlcyIgKCV1KSwgYWxpZ24gbG9nMjogJWxsdSwgb2Zmc2V0OiAlbGx1KQoAT25Mb2FkU3BsYXRFeHByKG9wY29kZTogIiVzIiAoJXUpLCBhbGlnbiBsb2cyOiAlbGx1LCBvZmZzZXQ6ICVsbHUpCgBPbkxvYWRaZXJvRXhwcihvcGNvZGU6ICIlcyIgKCV1KSwgYWxpZ24gbG9nMjogJWxsdSwgb2Zmc2V0OiAlbGx1KQoAT25BdG9taWNSbXdDbXB4Y2hnRXhwcihvcGNvZGU6ICIlcyIgKCV1KSwgYWxpZ24gbG9nMjogJWxsdSwgb2Zmc2V0OiAlbGx1KQoAT25BdG9taWNTdG9yZUV4cHIob3Bjb2RlOiAiJXMiICgldSksIGFsaWduIGxvZzI6ICVsbHUsIG9mZnNldDogJWxsdSkKAE9uQXRvbWljTG9hZEV4cHIob3Bjb2RlOiAiJXMiICgldSksIGFsaWduIGxvZzI6ICVsbHUsIG9mZnNldDogJWxsdSkKAE9uU2ltZExhbmVPcEV4cHIgKGxhbmU6ICVsbHUpCgBPblNpbWRTdG9yZUxhbmVFeHByKG9wY29kZTogIiVzIiAoJXUpLCBtZW1pZHg6ICV1LCBhbGlnbiBsb2cyOiAlbGx1LCBvZmZzZXQ6ICVsbHUsIGxhbmU6ICVsbHUpCgBPblNpbWRMb2FkTGFuZUV4cHIob3Bjb2RlOiAiJXMiICgldSksIG1lbWlkeDogJXUsIGFsaWduIGxvZzI6ICVsbHUsIG9mZnNldDogJWxsdSwgbGFuZTogJWxsdSkKAEVuZEZ1bmN0aW9uQm9keSgldSkKAE9uTWVtb3J5Q291bnQoJXUpCgBPbkZ1bmN0aW9uQm9keUNvdW50KCV1KQoAT25FeHBvcnRDb3VudCgldSkKAE9uRHlsaW5rRXhwb3J0Q291bnQoJXUpCgBPbkltcG9ydENvdW50KCV1KQoAT25EeWxpbmtJbXBvcnRDb3VudCgldSkKAE9uRWxlbVNlZ21lbnRDb3VudCgldSkKAE9uRGF0YVNlZ21lbnRDb3VudCgldSkKAE9uQ29tZGF0Q291bnQoJXUpCgBPbkZ1bmN0aW9uTmFtZXNDb3VudCgldSkKAE9uU2VnbWVudEluZm9Db3VudCgldSkKAE9uSW5pdEZ1bmN0aW9uQ291bnQoJXUpCgBPbkZ1bmN0aW9uQ291bnQoJXUpCgBPbkxvY2FsTmFtZUZ1bmN0aW9uQ291bnQoJXUpCgBPblN5bWJvbENvdW50KCV1KQoAT25Mb2NhbERlY2xDb3VudCgldSkKAE9uR2xvYmFsQ291bnQoJXUpCgBPblRhZ0NvdW50KCV1KQoAT25GZWF0dXJlQ291bnQoJXUpCgBPblR5cGVDb3VudCgldSkKAE9uTmFtZUNvdW50KCV1KQoAT25UYWJsZUNvdW50KCV1KQoAT25EeWxpbmtOZWVkZWRDb3VudCgldSkKAE9uQ29kZU1ldGFkYXRhRnVuY0NvdW50KCV1KQoAT25EYXRhQ291bnQoJXUpCgBFbmRFbGVtU2VnbWVudCgldSkKAEVuZERhdGFTZWdtZW50KCV1KQoAT25NZW1vcnlHcm93RXhwcigldSkKAE9uVGFibGVHcm93RXhwcigldSkKAEJlZ2luRWxlbVNlZ21lbnRJbml0RXhwcigldSkKAEVuZEVsZW1TZWdtZW50SW5pdEV4cHIoJXUpCgBCZWdpbkRhdGFTZWdtZW50SW5pdEV4cHIoJXUpCgBFbmREYXRhU2VnbWVudEluaXRFeHByKCV1KQoAQmVnaW5HbG9iYWxJbml0RXhwcigldSkKAEVuZEdsb2JhbEluaXRFeHByKCV1KQoAT25UYWJsZVNldEV4cHIoJXUpCgBPblRhYmxlR2V0RXhwcigldSkKAE9uRWxlbURyb3BFeHByKCV1KQoAT25EYXRhRHJvcEV4cHIoJXUpCgBPbk1lbW9yeUZpbGxFeHByKCV1KQoAT25NZW1vcnlTaXplRXhwcigldSkKAE9uVGFibGVTaXplRXhwcigldSkKAE9uUmVmRnVuY0V4cHIoJXUpCgBPblN0YXJ0RnVuY3Rpb24oJXUpCgBFbmRHbG9iYWwoJXUpCgBPbk1lbW9yeUNvcHlFeHByKHNyY19tZW1vcnlfaW5kZXg6ICV1LCBkZXN0X21lbW9yeV9pbmRleDogJXUpCgBPbk1lbW9yeUluaXRFeHByKHNlZ21lbnRfaW5kZXg6ICV1LCBtZW1vcnlfaW5kZXg6ICV1KQoAT25JbXBvcnRUYWcoaW1wb3J0X2luZGV4OiAldSwgdGFnX2luZGV4OiAldSwgc2lnX2luZGV4OiAldSkKAE9uSW1wb3J0RnVuYyhpbXBvcnRfaW5kZXg6ICV1LCBmdW5jX2luZGV4OiAldSwgc2lnX2luZGV4OiAldSkKAE9uRnVuY3Rpb24oaW5kZXg6ICV1LCBzaWdfaW5kZXg6ICV1KQoAT25UYWdUeXBlKGluZGV4OiAldSwgc2lnX2luZGV4OiAldSkKAE9uVGhyb3dFeHByKHRhZ19pbmRleDogJXUpCgBPbkNhdGNoRXhwcih0YWdfaW5kZXg6ICV1KQoAT25UYWJsZUluaXRFeHByKHNlZ21lbnRfaW5kZXg6ICV1LCB0YWJsZV9pbmRleDogJXUpCgBPblJldHVybkNhbGxJbmRpcmVjdEV4cHIoc2lnX2luZGV4OiAldSwgdGFibGVfaW5kZXg6ICV1KQoAT25DYWxsSW5kaXJlY3RFeHByKHNpZ19pbmRleDogJXUsIHRhYmxlX2luZGV4OiAldSkKAE9uVGFibGVDb3B5RXhwcihkc3RfaW5kZXg6ICV1LCBzcmNfaW5kZXg6ICV1KQoAT25SZXR1cm5DYWxsRXhwcihmdW5jX2luZGV4OiAldSkKAE9uQ2FsbEV4cHIoZnVuY19pbmRleDogJXUpCgBPbkVsZW1TZWdtZW50RWxlbUV4cHJfUmVmRnVuYyhpbmRleDogJXUsIGZ1bmNfaW5kZXg6ICV1KQoAT25Mb2NhbFNldEV4cHIoaW5kZXg6ICV1KQoAT25HbG9iYWxTZXRFeHByKGluZGV4OiAldSkKAE9uTG9jYWxHZXRFeHByKGluZGV4OiAldSkKAE9uR2xvYmFsR2V0RXhwcihpbmRleDogJXUpCgBPbkxvY2FsVGVlRXhwcihpbmRleDogJXUpCgBPblNlY3Rpb25TeW1ib2woZmxhZ3M6IDB4JXggaW5kZXg6ICV1KQoAT25GdW5jdGlvblN5bWJvbChuYW1lOiAlLipzIGZsYWdzOiAweCV4IGluZGV4OiAldSkKAE9uR2xvYmFsU3ltYm9sKG5hbWU6ICUuKnMgZmxhZ3M6IDB4JXggaW5kZXg6ICV1KQoAT25UYWdTeW1ib2wobmFtZTogJS4qcyBmbGFnczogMHgleCBpbmRleDogJXUpCgBPblRhYmxlU3ltYm9sKG5hbWU6ICUuKnMgZmxhZ3M6IDB4JXggaW5kZXg6ICV1KQoAT25UYWJsZUZpbGxFeHByKHRhYmxlIGluZGV4OiAldSkKAE9uQ29tZGF0RW50cnkoa2luZDogJWQsIGluZGV4OiAldSkKAE9uQ29kZU1ldGFkYXRhQ291bnQoZnVuY19pbmRleDogJXUsIGNvdW50OiAldSkKAE9uRWxlbVNlZ21lbnRFbGVtRXhwckNvdW50KGluZGV4OiAldSwgY291bnQ6ICV1KQoAT25Mb2NhbE5hbWVMb2NhbENvdW50KGluZGV4OiAldSwgY291bnQ6ICV1KQoAT25Db21kYXRCZWdpbiglLipzLCBmbGFnczogJWQsIGNvdW50OiAldSkKAF0sIGRlZmF1bHQ6ICV1KQoAT25SZWxvY0NvdW50KGNvdW50OiAldSwgc2VjdGlvbjogJXUpCgBCZWdpbk1vZHVsZSh2ZXJzaW9uOiAldSkKAE9uRHlsaW5rSW5mbyhtZW1fc2l6ZTogJXUsIG1lbV9hbGlnbjogJXUsIHRhYmxlX3NpemU6ICV1LCB0YWJsZV9hbGlnbjogJXUpCgBPbkF0b21pY0ZlbmNlRXhwcihjb25zaXN0ZW5jeV9tb2RlbDogJXUpCgBPblJldGhyb3dFeHByKGRlcHRoOiAldSkKAE9uQnJFeHByKGRlcHRoOiAldSkKAE9uQnJJZkV4cHIoZGVwdGg6ICV1KQoAT25EZWxlZ2F0ZUV4cHIoZGVwdGg6ICV1KQoAT25EeWxpbmtOZWVkZWQobmFtZTogJS4qcykKAE9uUmVmTnVsbEV4cHIoJXMpCgBPbkVsZW1TZWdtZW50RWxlbUV4cHJfUmVmTnVsbChpbmRleDogJXUsIHR5cGU6ICVzKQoAT25FbGVtU2VnbWVudEVsZW1UeXBlKGluZGV4OiAldSwgdHlwZTogJXMpCgBPbkxvY2FsRGVjbChpbmRleDogJXUsIGNvdW50OiAldSwgdHlwZTogJXMpCgBPbkltcG9ydEdsb2JhbChpbXBvcnRfaW5kZXg6ICV1LCBnbG9iYWxfaW5kZXg6ICV1LCB0eXBlOiAlcywgbXV0YWJsZTogJXMpCgBCZWdpbkdsb2JhbChpbmRleDogJXUsIHR5cGU6ICVzLCBtdXRhYmxlOiAlcykKAE9uSW1wb3J0TWVtb3J5KGltcG9ydF9pbmRleDogJXUsIG1lbW9yeV9pbmRleDogJXUsICVzKQoAT25NZW1vcnkoaW5kZXg6ICV1LCAlcykKAE9uSW1wb3J0VGFibGUoaW1wb3J0X2luZGV4OiAldSwgdGFibGVfaW5kZXg6ICV1LCBlbGVtX3R5cGU6ICVzLCAlcykKAE9uVGFibGUoaW5kZXg6ICV1LCBlbGVtX3R5cGU6ICVzLCAlcykKAE9uRnVuY3Rpb25OYW1lU3Vic2VjdGlvbihpbmRleDoldSwgbmFtZXR5cGU6JXUsIHNpemU6JXpkKQoAT25Mb2NhbE5hbWVTdWJzZWN0aW9uKGluZGV4OiV1LCBuYW1ldHlwZToldSwgc2l6ZTolemQpCgBPbk1vZHVsZU5hbWVTdWJzZWN0aW9uKGluZGV4OiV1LCBuYW1ldHlwZToldSwgc2l6ZTolemQpCgBCZWdpbkZ1bmN0aW9uQm9keSgldSwgc2l6ZTolemQpCgBPbk5hbWVTdWJzZWN0aW9uKGluZGV4OiAldSwgdHlwZTogJXMsIHNpemU6JXpkKQoAQmVnaW5Db2RlTWV0YWRhdGFTZWN0aW9uKCclLipzJywgc2l6ZTolemQpCgBCZWdpbk1lbW9yeVNlY3Rpb24oJXpkKQoAQmVnaW5FeHBvcnRTZWN0aW9uKCV6ZCkKAEJlZ2luSW1wb3J0U2VjdGlvbiglemQpCgBCZWdpblN0YXJ0U2VjdGlvbiglemQpCgBCZWdpbkRhdGFDb3VudFNlY3Rpb24oJXpkKQoAQmVnaW5UYXJnZXRGZWF0dXJlc1NlY3Rpb24oJXpkKQoAQmVnaW5OYW1lc1NlY3Rpb24oJXpkKQoAQmVnaW5GdW5jdGlvblNlY3Rpb24oJXpkKQoAQmVnaW5FbGVtU2VjdGlvbiglemQpCgBCZWdpbkdsb2JhbFNlY3Rpb24oJXpkKQoAQmVnaW5EeWxpbmtTZWN0aW9uKCV6ZCkKAEJlZ2luTGlua2luZ1NlY3Rpb24oJXpkKQoAQmVnaW5UYWdTZWN0aW9uKCV6ZCkKAEJlZ2luVHlwZVNlY3Rpb24oJXpkKQoAQmVnaW5UYWJsZVNlY3Rpb24oJXpkKQoAQmVnaW5Db2RlU2VjdGlvbiglemQpCgBCZWdpblJlbG9jU2VjdGlvbiglemQpCgBCZWdpbkRhdGFTZWN0aW9uKCV6ZCkKAEJlZ2luQ3VzdG9tU2VjdGlvbignJS4qcycsIHNpemU6ICV6ZCkKAE9uSW5pdEZ1bmN0aW9uKCVkIHByaW9yaXR5OiAlZCkKAEJlZ2luRGF0YVNlZ21lbnQoaW5kZXg6ICV1LCBtZW1vcnlfaW5kZXg6ICV1LCBmbGFnczogJWQpCgBCZWdpbkVsZW1TZWdtZW50KGluZGV4OiAldSwgdGFibGVfaW5kZXg6ICV1LCBmbGFnczogJWQpCgBPblJlbG9jKHR5cGU6ICVzLCBvZmZzZXQ6ICV6ZCwgaW5kZXg6ICV1LCBhZGRlbmQ6ICVkKQoAXSkKAE9uRjY0Q29uc3RFeHByKCVnICgweCUwMTZsbHgpKQoAT25JNjRDb25zdEV4cHIoJWxsdSAoMHglbGx4KSkKAE9uRjMyQ29uc3RFeHByKCVnICgweCUwOHgpKQoAT25JMzJDb25zdEV4cHIoJXUgKDB4JXgpKQoAT25UZXJuYXJ5RXhwcigiJXMiICgldSkpCgBPbkJpbmFyeUV4cHIoIiVzIiAoJXUpKQoAT25VbmFyeUV4cHIoIiVzIiAoJXUpKQoAT25Db252ZXJ0RXhwcigiJXMiICgldSkpCgBPbkNvbXBhcmVFeHByKCIlcyIgKCV1KSkKAE9uRmVhdHVyZShwcmVmaXg6ICclYycsIG5hbWU6ICclLipzJykKAE9uTW9kdWxlTmFtZShuYW1lOiAiJS4qcyIpCgBPbkV4cG9ydChpbmRleDogJXUsIGtpbmQ6ICVzLCBpdGVtX2luZGV4OiAldSwgbmFtZTogIiUuKnMiKQoAT25Mb2NhbE5hbWUoZnVuY19pbmRleDogJXUsIGxvY2FsX2luZGV4OiAldSwgbmFtZTogIiUuKnMiKQoAT25GdW5jdGlvbk5hbWUoaW5kZXg6ICV1LCBuYW1lOiAiJS4qcyIpCgBPbk5hbWVFbnRyeSh0eXBlOiAlcywgaW5kZXg6ICV1LCBuYW1lOiAiJS4qcyIpCgBPbkltcG9ydChpbmRleDogJXUsIGtpbmQ6ICVzLCBtb2R1bGU6ICIlLipzIiwgZmllbGQ6ICIlLipzIikKAE9uQ29kZU1ldGFkYXRhKG9mZnNldDogJXpkLCBkYXRhOiAiJS4qcyIpCgAAAAAAAAAAzIwAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAAApAAAAKgAAACsAAAAsAAAALQAAAC4AAAAvAAAAMAAAADEAAAAyAAAAMwAAADQAAAA1AAAANgAAADcAAAA4AAAAOQAAADoAAAA7AAAAPAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAE40d2FidDEyX0dMT0JBTF9fTl8xMTFOYW1lQXBwbGllckUATjR3YWJ0MTFFeHByVmlzaXRvcjExRGVsZWdhdGVOb3BFAE40d2FidDExRXhwclZpc2l0b3I4RGVsZWdhdGVFAACg4gAAmYwAAMjiAAB3jAAAuIwAAMjiAABUjAAAwIwAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAAMAAAADQAAAAsAAAAGAAAARy0AAF44AACuFgAALCsAADw8AAB4BAAAHzAAAJsWAADDFgAAWC0AABA9AABtXwAA+BgAAFQzAAAAAAAAMJEAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAGcAAABoAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAewAAAHwAAAB9AAAAfgAAAH8AAACAAAAAgQAAAIIAAACDAAAAhAAAAIUAAACGAAAAhwAAAIgAAACJAAAAigAAAIsAAACMAAAAjQAAAI4AAACPAAAAkAAAAJEAAACSAAAAkwAAAJQAAACVAAAAlgAAAJcAAACYAAAAmQAAAJoAAACbAAAAnAAAAJ0AAACeAAAAnwAAAKAAAAChAAAAogAAAKMAAACkAAAApQAAAKYAAACnAAAAqAAAAKkAAACqAAAAqwAAAKwAAACtAAAArgAAAK8AAACwAAAAsQAAALIAAACzAAAAtAAAALUAAAC2AAAAtwAAALgAAAC5AAAAugAAALsAAAC8AAAAvQAAAL4AAAC/AAAAwAAAAMEAAADCAAAAwwAAAMQAAADFAAAAxgAAAMcAAADIAAAAyQAAAMoAAADLAAAAzAAAAM0AAADOAAAAzwAAANAAAADRAAAA0gAAANMAAADUAAAA1QAAANYAAADXAAAA2AAAANkAAADaAAAA2wAAANwAAADdAAAA3gAAAN8AAADgAAAA4QAAAOIAAADjAAAA5AAAAOUAAADmAAAA5wAAAOgAAADpAAAA6gAAAOsAAADsAAAA7QAAAO4AAADvAAAA8AAAAPEAAADyAAAA8wAAAPQAAAD1AAAA9gAAAPcAAAD4AAAA+QAAAPoAAAD7AAAA/AAAAP0AAAD+AAAA/wAAAAABAAABAQAAAgEAAAMBAAAEAQAABQEAAAYBAAAHAQAACAEAAAkBAAAKAQAACwEAAAwBAAANAQAADgEAAA8BAAAQAQAAEQEAABIBAAATAQAAFAEAABUBAAAWAQAAFwEAABgBAAAZAQAAGgEAABsBAAAcAQAAHQEAAB4BAAAfAQAAIAEAACEBAAAiAQAAIwEAAE40d2FidDEyX0dMT0JBTF9fTl8xMTRCaW5hcnlSZWFkZXJJUkUATjR3YWJ0MTVCaW5hcnlSZWFkZXJOb3BFAE40d2FidDIwQmluYXJ5UmVhZGVyRGVsZWdhdGVFAAAAAKDiAAD7kAAAyOIAAOKQAAAckQAAyOIAALyQAAAkkQAAAAAAAAySAAAkAQAAJQEAAE40d2FidDE1VHlwZU1vZHVsZUZpZWxkRQBONHdhYnQxNk1vZHVsZUZpZWxkTWl4aW5JTE5TXzE1TW9kdWxlRmllbGRUeXBlRTRFRUUATjR3YWJ0MTFNb2R1bGVGaWVsZEUATjR3YWJ0MTlpbnRydXNpdmVfbGlzdF9iYXNlSU5TXzExTW9kdWxlRmllbGRFRUUAAACg4gAArpEAACTjAACZkQAAAAAAAAEAAADgkQAAAgQAAMjiAABlkQAA6JEAAMjiAABMkQAAAJIAAAAAAABUkgAAJgEAACcBAABONHdhYnQ4RnVuY1R5cGVFAE40d2FidDlUeXBlRW50cnlFAACg4gAAOZIAAMjiAAAokgAATJIAAAAAAABMkgAAKAEAACkBAAAAAAAAlJIAACoBAAArAQAATjR3YWJ0MTBTdHJ1Y3RUeXBlRQDI4gAAgJIAAEySAAAAAAAAxJIAACwBAAAtAQAATjR3YWJ0OUFycmF5VHlwZUUAAADI4gAAsJIAAEySAAAAAAAARJMAAC4BAAAvAQAATjR3YWJ0MTBGdW5jSW1wb3J0RQBONHdhYnQxMUltcG9ydE1peGluSUxOU18xMkV4dGVybmFsS2luZEUwRUVFAE40d2FidDZJbXBvcnRFAACg4gAAIJMAAMjiAAD0kgAAMJMAAMjiAADgkgAAOJMAAAAAAAAwkwAAMAEAADEBAAAAAAAAzJMAADIBAAAzAQAATjR3YWJ0MTdJbXBvcnRNb2R1bGVGaWVsZEUATjR3YWJ0MTZNb2R1bGVGaWVsZE1peGluSUxOU18xNU1vZHVsZUZpZWxkVHlwZUUyRUVFAADI4gAAi5MAAOiRAADI4gAAcJMAAMCTAAAAAAAAOJQAADQBAAA1AQAATjR3YWJ0MTFUYWJsZUltcG9ydEUATjR3YWJ0MTFJbXBvcnRNaXhpbklMTlNfMTJFeHRlcm5hbEtpbmRFMUVFRQAAAADI4gAA/ZMAADCTAADI4gAA6JMAACyUAAAAAAAApJQAADYBAAA3AQAATjR3YWJ0MTJNZW1vcnlJbXBvcnRFAE40d2FidDExSW1wb3J0TWl4aW5JTE5TXzEyRXh0ZXJuYWxLaW5kRTJFRUUAAADI4gAAapQAADCTAADI4gAAVJQAAJiUAAAAAAAAEJUAADgBAAA5AQAATjR3YWJ0MTJHbG9iYWxJbXBvcnRFAE40d2FidDExSW1wb3J0TWl4aW5JTE5TXzEyRXh0ZXJuYWxLaW5kRTNFRUUAAADI4gAA1pQAADCTAADI4gAAwJQAAASVAAAAAAAAeJUAADoBAAA7AQAATjR3YWJ0OVRhZ0ltcG9ydEUATjR3YWJ0MTFJbXBvcnRNaXhpbklMTlNfMTJFeHRlcm5hbEtpbmRFNEVFRQAAAMjiAAA+lQAAMJMAAMjiAAAslQAAbJUAAAAAAADwlQAAPAEAAD0BAABONHdhYnQxNUZ1bmNNb2R1bGVGaWVsZEUATjR3YWJ0MTZNb2R1bGVGaWVsZE1peGluSUxOU18xNU1vZHVsZUZpZWxkVHlwZUUwRUVFAAAAAMjiAACtlQAA6JEAAMjiAACUlQAA5JUAAAAAAABolgAAPgEAAD8BAABONHdhYnQxNlRhYmxlTW9kdWxlRmllbGRFAE40d2FidDE2TW9kdWxlRmllbGRNaXhpbklMTlNfMTVNb2R1bGVGaWVsZFR5cGVFNUVFRQAAAMjiAAAmlgAA6JEAAMjiAAAMlgAAXJYAAAAAAADglgAAQAEAAEEBAABONHdhYnQxN01lbW9yeU1vZHVsZUZpZWxkRQBONHdhYnQxNk1vZHVsZUZpZWxkTWl4aW5JTE5TXzE1TW9kdWxlRmllbGRUeXBlRTdFRUUAAMjiAACflgAA6JEAAMjiAACElgAA1JYAAAAAAABYlwAAQgEAAEMBAABONHdhYnQxN0dsb2JhbE1vZHVsZUZpZWxkRQBONHdhYnQxNk1vZHVsZUZpZWxkTWl4aW5JTE5TXzE1TW9kdWxlRmllbGRUeXBlRTFFRUUAAMjiAAAXlwAA6JEAAMjiAAD8lgAATJcAAAAAAADQlwAARAEAAEUBAABONHdhYnQxN0V4cG9ydE1vZHVsZUZpZWxkRQBONHdhYnQxNk1vZHVsZUZpZWxkTWl4aW5JTE5TXzE1TW9kdWxlRmllbGRUeXBlRTNFRUUAAMjiAACPlwAA6JEAAMjiAAB0lwAAxJcAAAAAAABImAAARgEAAEcBAABONHdhYnQxNlN0YXJ0TW9kdWxlRmllbGRFAE40d2FidDE2TW9kdWxlRmllbGRNaXhpbklMTlNfMTVNb2R1bGVGaWVsZFR5cGVFOUVFRQAAAMjiAAAGmAAA6JEAAMjiAADslwAAPJgAAAAAAAAUmQAASAEAAEkBAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUUwRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUwRUVFAE40d2FidDRFeHByRQBONHdhYnQxOWludHJ1c2l2ZV9saXN0X2Jhc2VJTlNfNEV4cHJFRUUAAACg4gAAvpgAACTjAACxmAAAAAAAAAEAAADomAAAAgQAAMjiAACNmAAA8JgAAMjiAABkmAAACJkAAAAAAACMmQAASAEAAEoBAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUUzRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUzRUVFAAAAAMjiAABZmQAA8JgAAMjiAAAwmQAAgJkAAAAAAAAEmgAASAEAAEsBAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUUxRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUxRUVFAAAAAMjiAADRmQAA8JgAAMjiAAComQAA+JkAAAAAAAB8mgAASAEAAEwBAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUUyRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUyRUVFAAAAAMjiAABJmgAA8JgAAMjiAAAgmgAAcJoAAAAAAAD0mgAASAEAAE0BAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUU2RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU2RUVFAAAAAMjiAADBmgAA8JgAAMjiAACYmgAA6JoAAAAAAABcmwAASAEAAE4BAABONHdhYnQxNUF0b21pY0ZlbmNlRXhwckUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTVFRUUAAAAAyOIAACmbAADwmAAAyOIAABCbAABQmwAAAAAAANSbAABIAQAATwEAAE40d2FidDEzTG9hZFN0b3JlRXhwcklMTlNfOEV4cHJUeXBlRTRFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTRFRUUAAAAAyOIAAKGbAADwmAAAyOIAAHibAADImwAAAAAAAEicAABIAQAAUAEAAE40d2FidDEwT3Bjb2RlRXhwcklMTlNfOEV4cHJUeXBlRTdFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTdFRUUAAADI4gAAFpwAAPCYAADI4gAA8JsAADycAAAAAAAAwJwAAFEBAABSAQAATjR3YWJ0MTNCbG9ja0V4cHJCYXNlSUxOU184RXhwclR5cGVFOEVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFOEVFRQAAAADI4gAAjZwAAPCYAADI4gAAZJwAALScAAAAAAAAMJ0AAFMBAABUAQAATjR3YWJ0N1ZhckV4cHJJTE5TXzhFeHByVHlwZUU5RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU5RUVFAAAAyOIAAP6cAADwmAAAyOIAANycAAAknQAAAAAAAKCdAABVAQAAVgEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFMTBFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTEwRUVFAMjiAABvnQAA8JgAAMjiAABMnQAAlJ0AAAAAAAAEngAAVwEAAFgBAABONHdhYnQxMUJyVGFibGVFeHByRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMTFFRUUAAADI4gAA0Z0AAPCYAADI4gAAvJ0AAPidAAAAAAAAdJ4AAFkBAABaAQAATjR3YWJ0N1ZhckV4cHJJTE5TXzhFeHByVHlwZUUxMkVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMTJFRUUAyOIAAEOeAADwmAAAyOIAACCeAABongAAAAAAANyeAABbAQAAXAEAAE40d2FidDE2Q2FsbEluZGlyZWN0RXhwckUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTEzRUVFAADI4gAAqp4AAPCYAADI4gAAkJ4AANCeAAAAAAAAQJ8AAF0BAABeAQAATjR3YWJ0MTFDYWxsUmVmRXhwckUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTE0RUVFAAAAyOIAAA2fAADwmAAAyOIAAPieAAA0nwAAAAAAALSfAABIAQAAXwEAAE40d2FidDEwT3Bjb2RlRXhwcklMTlNfOEV4cHJUeXBlRTE2RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUxNkVFRQDI4gAAg58AAPCYAADI4gAAXJ8AAKifAAAAAAAAKKAAAEgBAABgAQAATjR3YWJ0MTBPcGNvZGVFeHBySUxOU184RXhwclR5cGVFMThFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTE4RUVFAMjiAAD3nwAA8JgAAMjiAADQnwAAHKAAAAAAAABsoAAASAEAAGEBAABONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMTlFRUUAAAAAyOIAAESgAADwmAAAAAAAAMygAABIAQAAYgEAAE40d2FidDlDb25zdEV4cHJFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUxN0VFRQAAyOIAAJqgAADwmAAAyOIAAIigAADAoAAAAAAAADyhAABjAQAAZAEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFMjBFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTIwRUVFAMjiAAALoQAA8JgAAMjiAADooAAAMKEAAAAAAACsoQAAZQEAAGYBAABONHdhYnQ3VmFyRXhwcklMTlNfOEV4cHJUeXBlRTIxRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUyMUVFRQDI4gAAe6EAAPCYAADI4gAAWKEAAKChAAAAAAAACKIAAGcBAABoAQAATjR3YWJ0NklmRXhwckUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTIyRUVFAMjiAADXoQAA8JgAAMjiAADIoQAA/KEAAAAAAAC4ogAAaQEAAGoBAABONHdhYnQxOU1lbW9yeUxvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUUyM0VFRQBONHdhYnQxME1lbW9yeUV4cHJJTE5TXzhFeHByVHlwZUUyM0VFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMjNFRUUAyOIAAHuiAADwmAAAyOIAAFSiAACgogAAyOIAACSiAACsogAAAAAAAKyiAABpAQAAawEAAAAAAAA4owAAbAEAAG0BAABONHdhYnQ3VmFyRXhwcklMTlNfOEV4cHJUeXBlRTI0RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUyNEVFRQDI4gAAB6MAAPCYAADI4gAA5KIAACyjAAAAAAAAqKMAAG4BAABvAQAATjR3YWJ0N1ZhckV4cHJJTE5TXzhFeHByVHlwZUUyNUVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMjVFRUUAyOIAAHejAADwmAAAyOIAAFSjAACcowAAAAAAABikAABwAQAAcQEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFMjZFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTI2RUVFAMjiAADnowAA8JgAAMjiAADEowAADKQAAAAAAACQpAAAcgEAAHMBAABONHdhYnQxM0Jsb2NrRXhwckJhc2VJTE5TXzhFeHByVHlwZUUyN0VFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMjdFRUUAAMjiAABepAAA8JgAAMjiAAA0pAAAhKQAAAAAAAAMpQAAdAEAAHUBAABONHdhYnQxNk1lbW9yeUJpbmFyeUV4cHJJTE5TXzhFeHByVHlwZUUyOEVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMjhFRUUAAADI4gAA2aQAAPCYAADI4gAArKQAAAClAAAAAAAAfKUAAHYBAAB3AQAATjR3YWJ0N1ZhckV4cHJJTE5TXzhFeHByVHlwZUUyOUVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMjlFRUUAyOIAAEulAADwmAAAyOIAACilAABwpQAAAAAAAPClAAB4AQAAeQEAAE40d2FidDEwTWVtb3J5RXhwcklMTlNfOEV4cHJUeXBlRTMwRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUzMEVFRQDI4gAAv6UAAPCYAADI4gAAmKUAAOSlAAAAAAAAZKYAAHoBAAB7AQAATjR3YWJ0MTBNZW1vcnlFeHBySUxOU184RXhwclR5cGVFMzFFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTMxRUVFAMjiAAAzpgAA8JgAAMjiAAAMpgAAWKYAAAAAAAAQpwAAfAEAAH0BAABONHdhYnQxM01lbW9yeVZhckV4cHJJTE5TXzhFeHByVHlwZUUzMkVFRQBONHdhYnQxME1lbW9yeUV4cHJJTE5TXzhFeHByVHlwZUUzMkVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMzJFRUUAAADI4gAA0aYAAPCYAADI4gAAqqYAAPimAADI4gAAgKYAAASnAAAAAAAABKcAAH4BAAB/AQAAAAAAAJSnAACAAQAAgQEAAE40d2FidDEwTWVtb3J5RXhwcklMTlNfOEV4cHJUeXBlRTMzRUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUzM0VFRQDI4gAAY6cAAPCYAADI4gAAPKcAAIinAAAAAAAA+KcAAIIBAACDAQAATjR3YWJ0MTNUYWJsZUNvcHlFeHByRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNTBFRUUAyOIAAMenAADwmAAAyOIAALCnAADspwAAAAAAAGioAACEAQAAhQEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFNTFFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTUxRUVFAMjiAAA3qAAA8JgAAMjiAAAUqAAAXKgAAAAAAADMqAAAhgEAAIcBAABONHdhYnQxM1RhYmxlSW5pdEV4cHJFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU1MkVFRQDI4gAAm6gAAPCYAADI4gAAhKgAAMCoAAAAAAAAPKkAAIgBAACJAQAATjR3YWJ0N1ZhckV4cHJJTE5TXzhFeHByVHlwZUU1M0VFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNTNFRUUAyOIAAAupAADwmAAAyOIAAOioAAAwqQAAAAAAAKypAACKAQAAiwEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFNTZFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTU2RUVFAMjiAAB7qQAA8JgAAMjiAABYqQAAoKkAAAAAAAAcqgAAjAEAAI0BAABONHdhYnQ3VmFyRXhwcklMTlNfOEV4cHJUeXBlRTU0RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU1NEVFRQDI4gAA66kAAPCYAADI4gAAyKkAABCqAAAAAAAAjKoAAI4BAACPAQAATjR3YWJ0N1ZhckV4cHJJTE5TXzhFeHByVHlwZUU1NUVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNTVFRUUAyOIAAFuqAADwmAAAyOIAADiqAACAqgAAAAAAAPyqAACQAQAAkQEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFNTdFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTU3RUVFAMjiAADLqgAA8JgAAMjiAACoqgAA8KoAAAAAAABsqwAAkgEAAJMBAABONHdhYnQ3VmFyRXhwcklMTlNfOEV4cHJUeXBlRTM2RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUzNkVFRQDI4gAAO6sAAPCYAADI4gAAGKsAAGCrAAAAAAAA5KsAAEgBAACUAQAATjR3YWJ0MTFSZWZUeXBlRXhwcklMTlNfOEV4cHJUeXBlRTM3RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUUzN0VFRQAAAADI4gAAsKsAAPCYAADI4gAAiKsAANirAAAAAAAAKKwAAEgBAACVAQAATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTM1RUVFAAAAAMjiAAAArAAA8JgAAAAAAABsrAAASAEAAJYBAABONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMzRFRUUAAAAAyOIAAESsAADwmAAAAAAAANysAACXAQAAmAEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFMzhFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTM4RUVFAMjiAACrrAAA8JgAAMjiAACIrAAA0KwAAAAAAAAgrQAASAEAAJkBAABONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFMzlFRUUAAAAAyOIAAPisAADwmAAAAAAAAJCtAACaAQAAmwEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFNDBFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTQwRUVFAMjiAABfrQAA8JgAAMjiAAA8rQAAhK0AAAAAAAAArgAAnAEAAJ0BAABONHdhYnQyMlJldHVybkNhbGxJbmRpcmVjdEV4cHJFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU0MUVFRQAAAADI4gAAzK0AAPCYAADI4gAArK0AAPStAAAAAAAAZK4AAJ4BAACfAQAATjR3YWJ0MTBTZWxlY3RFeHByRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNDJFRUUAAAAAyOIAADCuAADwmAAAyOIAAByuAABYrgAAAAAAABSvAACgAQAAoQEAAE40d2FidDE5TWVtb3J5TG9hZFN0b3JlRXhwcklMTlNfOEV4cHJUeXBlRTQ5RUVFAE40d2FidDEwTWVtb3J5RXhwcklMTlNfOEV4cHJUeXBlRTQ5RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU0OUVFRQDI4gAA164AAPCYAADI4gAAsK4AAPyuAADI4gAAgK4AAAivAAAAAAAACK8AAKABAACiAQAAAAAAAJSvAACjAQAApAEAAE40d2FidDdWYXJFeHBySUxOU184RXhwclR5cGVFNTlFRUUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTU5RUVFAMjiAABjrwAA8JgAAMjiAABArwAAiK8AAAAAAAD0rwAApQEAAKYBAABONHdhYnQ3VHJ5RXhwckUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTYwRUVFAAAAAMjiAADArwAA8JgAAMjiAACwrwAA6K8AAAAAAABosAAASAEAAKcBAABONHdhYnQxME9wY29kZUV4cHJJTE5TXzhFeHByVHlwZUU2MUVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNjFFRUUAyOIAADewAADwmAAAyOIAABCwAABcsAAAAAAAANywAABIAQAAqAEAAE40d2FidDEwT3Bjb2RlRXhwcklMTlNfOEV4cHJUeXBlRTU4RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU1OEVFRQDI4gAAq7AAAPCYAADI4gAAhLAAANCwAAAAAAAAILEAAEgBAACpAQAATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTYyRUVFAAAAAMjiAAD4sAAA8JgAAAAAAACIsQAASAEAAKoBAABONHdhYnQxNFNpbWRMYW5lT3BFeHByRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNDNFRUUAAAAAyOIAAFSxAADwmAAAyOIAADyxAAB8sQAAAAAAAPCxAABIAQAAqwEAAE40d2FidDE3U2ltZFNodWZmbGVPcEV4cHJFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU0NkVFRQDI4gAAv7EAAPCYAADI4gAApLEAAOSxAAAAAAAAjLIAAKwBAACtAQAATjR3YWJ0MTZTaW1kTG9hZExhbmVFeHByRQBONHdhYnQxME1lbW9yeUV4cHJJTE5TXzhFeHByVHlwZUU0NEVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNDRFRUUAAADI4gAATbIAAPCYAADI4gAAJrIAAHSyAADI4gAADLIAAICyAAAAAAAAgLIAAKwBAACuAQAAAAAAADizAACvAQAAsAEAAE40d2FidDE3U2ltZFN0b3JlTGFuZUV4cHJFAE40d2FidDEwTWVtb3J5RXhwcklMTlNfOEV4cHJUeXBlRTQ1RUVFAE40d2FidDlFeHByTWl4aW5JTE5TXzhFeHByVHlwZUU0NUVFRQAAyOIAAPqyAADwmAAAyOIAANOyAAAgswAAyOIAALiyAAAsswAAAAAAACyzAACvAQAAsQEAAAAAAADAswAASAEAALIBAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUU0N0VFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNDdFRUUAAMjiAACOswAA8JgAAMjiAABkswAAtLMAAAAAAAA4tAAASAEAALMBAABONHdhYnQxM0xvYWRTdG9yZUV4cHJJTE5TXzhFeHByVHlwZUU0OEVFRQBONHdhYnQ5RXhwck1peGluSUxOU184RXhwclR5cGVFNDhFRUUAAMjiAAAGtAAA8JgAAMjiAADcswAALLQAAAAAAAC0tAAAtAEAALUBAABONHdhYnQyMkVsZW1TZWdtZW50TW9kdWxlRmllbGRFAE40d2FidDE2TW9kdWxlRmllbGRNaXhpbklMTlNfMTVNb2R1bGVGaWVsZFR5cGVFNkVFRQDI4gAAdLQAAOiRAADI4gAAVLQAAKi0AAAAAAAAMLUAALYBAAC3AQAATjR3YWJ0MjJEYXRhU2VnbWVudE1vZHVsZUZpZWxkRQBONHdhYnQxNk1vZHVsZUZpZWxkTWl4aW5JTE5TXzE1TW9kdWxlRmllbGRUeXBlRThFRUUAyOIAAPC0AADokQAAyOIAANC0AAAktQAAAAAAAKi1AAC4AQAAuQEAAE40d2FidDE0VGFnTW9kdWxlRmllbGRFAE40d2FidDE2TW9kdWxlRmllbGRNaXhpbklMTlNfMTVNb2R1bGVGaWVsZFR5cGVFMTBFRUUAAAAAyOIAAGS1AADokQAAyOIAAEy1AACctQAAAAAAABC2AAC6AQAAuwEAAE40d2FidDE2Q29kZU1ldGFkYXRhRXhwckUATjR3YWJ0OUV4cHJNaXhpbklMTlNfOEV4cHJUeXBlRTE1RUVFAADI4gAA3rUAAPCYAADI4gAAxLUAAAS2AAAAAAAAsLkAALwBAAC9AQAAvgEAAL8BAADAAQAAwQEAAMIBAADDAQAAxAEAAMUBAADGAQAAxwEAAMgBAADJAQAAygEAAMsBAADMAQAAzQEAAM4BAADPAQAA0AEAANEBAADSAQAA0wEAANQBAADVAQAA1gEAANcBAADYAQAA2QEAANoBAADbAQAA3AEAAN0BAADeAQAA3wEAAOABAADhAQAA4gEAAOMBAADkAQAA5QEAAOYBAADnAQAA6AEAAOkBAADqAQAA6wEAAOwBAADtAQAA7gEAAO8BAADwAQAA8QEAAPIBAADzAQAA9AEAAPUBAAD2AQAA9wEAAPgBAAD5AQAA+gEAAPsBAAD8AQAA/QEAAP4BAAD/AQAAAAIAAAECAAACAgAAAwIAAAQCAAAFAgAABgIAAAcCAAAIAgAACQIAAAoCAAALAgAADAIAAA0CAAAOAgAADwIAABACAAARAgAAEgIAABMCAAAUAgAAFQIAABYCAAAXAgAAGAIAABkCAAAaAgAAGwIAABwCAAAdAgAAHgIAAB8CAAAgAgAAIQIAACICAAAjAgAAJAIAACUCAAAmAgAAJwIAACgCAAApAgAAKgIAACsCAAAsAgAALQIAAC4CAAAvAgAAMAIAADECAAAyAgAAMwIAADQCAAA1AgAANgIAADcCAAA4AgAAOQIAADoCAAA7AgAAPAIAAD0CAAA+AgAAPwIAAEACAABBAgAAQgIAAEMCAABEAgAARQIAAEYCAABHAgAASAIAAEkCAABKAgAASwIAAEwCAABNAgAATgIAAE8CAABQAgAAUQIAAFICAABTAgAAVAIAAFUCAABWAgAAVwIAAFgCAABZAgAAWgIAAFsCAABcAgAAXQIAAF4CAABfAgAAYAIAAGECAABiAgAAYwIAAGQCAABlAgAAZgIAAGcCAABoAgAAaQIAAGoCAABrAgAAbAIAAG0CAABuAgAAbwIAAHACAABxAgAAcgIAAHMCAAB0AgAAdQIAAHYCAAB3AgAAeAIAAHkCAAB6AgAAewIAAHwCAAB9AgAAfgIAAH8CAACAAgAAgQIAAIICAACDAgAAhAIAAIUCAACGAgAAhwIAAIgCAACJAgAAigIAAIsCAACMAgAAjQIAAI4CAACPAgAAkAIAAJECAACSAgAAkwIAAJQCAACVAgAAlgIAAE40d2FidDE5QmluYXJ5UmVhZGVyTG9nZ2luZ0UAAAAAyOIAAJC5AAAckQAAAAAAAI07AABJLAAAqygAADFCAAC5PgAA+jsAAAw8AAC/KgAA0ikAAO8qAAABKwAAAAAAAHy7AACXAgAAmAIAAJkCAACaAgAAmwIAAJwCAACdAgAAngIAAJ8CAABOU3QzX18yMTBfX2Z1bmN0aW9uNl9fZnVuY0laTjR3YWJ0MjFXcml0ZUJpbmFyeVNwZWNTY3JpcHRFUE5TMl82U3RyZWFtRVBOUzJfNlNjcmlwdEVOU18xN2Jhc2ljX3N0cmluZ192aWV3SWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFU0FfUktOUzJfMThXcml0ZUJpbmFyeU9wdGlvbnNFUE5TXzZ2ZWN0b3JJTlMyXzI0RmlsZW5hbWVNZW1vcnlTdHJlYW1QYWlyRU5TXzlhbGxvY2F0b3JJU0ZfRUVFRVM0X0UzJF8wTlNHX0lTS19FRUZTNF9TQV9FRUUATlN0M19fMjEwX19mdW5jdGlvbjZfX2Jhc2VJRlBONHdhYnQ2U3RyZWFtRU5TXzE3YmFzaWNfc3RyaW5nX3ZpZXdJY05TXzExY2hhcl90cmFpdHNJY0VFRUVFRUUAAACg4gAAFbsAAMjiAAAYugAAdLsAAFpONHdhYnQyMVdyaXRlQmluYXJ5U3BlY1NjcmlwdEVQTlNfNlN0cmVhbUVQTlNfNlNjcmlwdEVOU3QzX18yMTdiYXNpY19zdHJpbmdfdmlld0ljTlM0XzExY2hhcl90cmFpdHNJY0VFRUVTOF9SS05TXzE4V3JpdGVCaW5hcnlPcHRpb25zRVBOUzRfNnZlY3RvcklOU18yNEZpbGVuYW1lTWVtb3J5U3RyZWFtUGFpckVOUzRfOWFsbG9jYXRvcklTRF9FRUVFUzFfRTMkXzAAAAAAoOIAAIi7AAAIAAAAEAAAABAAAAACAAAABAAAAAIAAAAEAAAABwAAAA8AAAAPAAAAAQAAAAMAAAABAAAAAwAAAAAAAADsvQAAoAIAAKECAAADAAAAogIAAKMCAACkAgAApQIAAKYCAACnAgAAqAIAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAKkCAACqAgAAqwIAABQAAACsAgAArQIAAK4CAACvAgAAsAIAALECAACyAgAAswIAALQCAAC1AgAAtgIAALcCAAC4AgAAuQIAALoCAAC7AgAAvAIAAL0CAAC+AgAAvwIAAMACAADBAgAAKwAAACwAAAAtAAAALgAAAMICAADDAgAAMQAAAMQCAAAzAAAANAAAAMUCAADGAgAAxwIAAMgCAADJAgAAygIAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAATjR3YWJ0MTJfR0xPQkFMX19OXzExM05hbWVHZW5lcmF0b3JFAAAAAMjiAADEvQAAwIw="),ue(ae,48640,"Ij0AANVdAACICgAAqzIAAEg2AAAEBQAAwRoAAI4EAADwMAAAMCkAANkzAAA6PAAAaC4AANAbAADRMwAAQF8AAFQ2AAAyFgAAtRYAALEpAACbGwAAfxsAANszAADbXQAAkhsAAHYbAACwPAAAuykAANUEAACtKQAAJi4AAF0KAACTGgAA3zQAAMQpAAD9LQAAoV4AAAcuAAA4CgAA3SoAAGIuAADKGwAA7BsAAN4pAAC+OQAAsDkAAOkpAACNHAAApCoAAE42AADgBAAApCkAAJ4aAAClGwAAaAoAAOo0AACJGwAAMS4AAH8EAABACgAAugQAAJUEAAAuPAAATlN0M19fMjEwX19mdW5jdGlvbjZfX2Jhc2VJRnZQS2NFRUUAoOIAAPy+AAAAAAAAeL8AAMsCAADMAgAAzQIAAM4CAADPAgAA0AIAAE40d2FidDEyTWVtb3J5U3RyZWFtRQBONHdhYnQ2U3RyZWFtRQAAAACg4gAAXr8AAMjiAABIvwAAcL8="),ue(ae,49040,"AQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAE="),ue(ae,49816,"AgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAE"),ue(ae,50064,"IysAAIgsAADqMAAAtikAAIMzAADlMQAAbQQAAMoxAAAAAAAAcMQAANECAADSAgAA0wIAANQCAADVAgAA1gIAANcCAADYAgAA2QIAAE5TdDNfXzIxMF9fZnVuY3Rpb242X19mdW5jSVpONHdhYnQxNVNoYXJlZFZhbGlkYXRvckMxRVBOU182dmVjdG9ySU5TMl81RXJyb3JFTlNfOWFsbG9jYXRvcklTNV9FRUVFUktOUzJfMTVWYWxpZGF0ZU9wdGlvbnNFRTMkXzBOUzZfSVNEX0VFRnZQS2NFRUUAAADI4gAA3MMAACC/AABaTjR3YWJ0MTVTaGFyZWRWYWxpZGF0b3JDMUVQTlN0M19fMjZ2ZWN0b3JJTlNfNUVycm9yRU5TMV85YWxsb2NhdG9ySVMzX0VFRUVSS05TXzE1VmFsaWRhdGVPcHRpb25zRUUzJF8wAKDiAAB8xAAAAAAAADTGAADaAgAA2wIAANwCAADdAgAA3gIAAN8CAADgAgAA4QIAAOICAADjAgAA5AIAAOUCAADmAgAA5wIAAOgCAADpAgAA6gIAAOsCAADsAgAA7QIAAO4CAADvAgAA8AIAAPECAADyAgAA8wIAAPQCAAD1AgAA9gIAAPcCAAD4AgAA+QIAAPoCAAD7AgAA/AIAAP0CAAD+AgAA/wIAAAADAAABAwAAAgMAAAMDAAAEAwAABQMAAAYDAAAHAwAACAMAAAkDAAAKAwAACwMAAAwDAAANAwAADgMAAA8DAAAQAwAAEQMAABIDAAATAwAAFAMAABUDAAAWAwAAFwMAABgDAAAZAwAAGgMAABsDAAAcAwAAHQMAAB4DAAAfAwAAIAMAACEDAABONHdhYnQxMl9HTE9CQUxfX05fMTlWYWxpZGF0b3JFAMjiAAAUxgAAuIwAAMg+AAAfBQAAASsAAO8qAAC5PgAAMUIAAL8qAADSKQAA+jsAAPosAABOLQAAaF8AAFw2AADMNQAAuCoAAFMtAABzYAAAUDMAAJQWAACzPgAAchsAABgwAACnFgAAYjwAAPUVAACVLwAATG0AAHEEAACNOwAA+xUAAKleAACbLwAAMRsAAO4VAABdLQAAzTMAAK01AACrKAAAPRoAAEptAAAqQgAAvRYAAK4bAAD0OwAALi0AAFk4AACmYgAAUWIAAO5iAAACZAAABmMAAAhkAAAPYAAA/18AABVgAAAVPQAAtWAAANNfAADhXwAAYGAAAHtgAAADYAAAzF8AAOowAAAdKQAAXDMAAL47AABTLgAAvBsAAMgzAADOMQAAWC4AAIhgAADxXwAA918AAJopAACfKQAAkCkAAOg1AABiPgAAYRsAAEIbAACDMwAAvGAAAFcbAAA4GwAApjwAALYpAAC+BAAADy4AAEYKAAB8GgAA8jMAAMApAADkKgAAmF4AAN0tAADpLQAAMAoAALUbAABMLgAA1ioAAOUbAAA3YAAAGWAAAKhgAACaYAAAlDsAAIJgAADKBAAA8i0AAGwbAABSCgAAiBoAAE0bAAD+MwAAxF8AADoKAABtBAAAvl8AACI8AAA5YgAAUCwAADFiAACJQQAA7F8AADNgAACQYAAAnF4AAOgqAAC7KgAAAAAAADAxMjM0NTY3ODlhYmNkZWY="),ue(ae,51346,"AQABAQEBAQAAAQEAAQEBDQ0NDQ0NDQ0NDQEAAQEBAQEFBQUFBQUBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEBAQcHBwcHBwMDAwMDAwMDAwMDAwMDAwMDAwMDAAEAAQ=="),ue(ae,51584,"TAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAkNAEwJTAkcAkUBBAC1AAMArQBwAY4ATAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCSIABAAGAAgDKAAfAAkAbQIDAI8B1gAFAAgABQB+ABkASwDXAYwBFAAFABEAAwByAmQBOgADAg8BTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCUwJTAlMCQAAAAAAANDMAAAiAwAAIwMAAAMAAAAkAwAAJQMAACYDAAAnAwAAKAMAACkDAAAqAwAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAKwMAACwDAAAtAwAAFAAAAC4DAAAvAwAAMAMAADEDAAAyAwAAMwMAADQDAAA1AwAANgMAADcDAAA4AwAAOQMAADoDAAA7AwAAPAMAAD0DAAA+AwAAPwMAAEADAABBAwAAQgMAAEMDAAArAAAALAAAAC0AAAAuAAAARAMAAEUDAAAxAAAARgMAADMAAAA0AAAARwMAAEgDAABJAwAASgMAAEsDAABMAwAAOwAAADwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAEUAAABGAAAARwAAAEgAAABONHdhYnQxMl9HTE9CQUxfX05fMTEyTmFtZVJlc29sdmVyRQDI4gAArMwAAMCMAAAAAAAAaM4AAE0DAABOAwAATwMAAFADAABRAwAAUgMAAFMDAABUAwAAVQMAAE5TdDNfXzIxMF9fZnVuY3Rpb242X19mdW5jSVpONHdhYnQxMl9HTE9CQUxfX05fMTEyTmFtZVJlc29sdmVyMjJDaGVja0R1cGxpY2F0ZUJpbmRpbmdzRVBLTlMyXzExQmluZGluZ0hhc2hFUEtjRTMkXzBOU185YWxsb2NhdG9ySVNBX0VFRnZSS05TXzRwYWlySUtOU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU0JfSWNFRUVFTlMyXzdCaW5kaW5nRUVFU05fRUVFAE5TdDNfXzIxMF9fZnVuY3Rpb242X19iYXNlSUZ2UktOU180cGFpcklLTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRU40d2FidDdCaW5kaW5nRUVFU0VfRUVFAAAAoOIAAOPNAADI4gAACM0AAGDOAABaTjR3YWJ0MTJfR0xPQkFMX19OXzExMk5hbWVSZXNvbHZlcjIyQ2hlY2tEdXBsaWNhdGVCaW5kaW5nc0VQS05TXzExQmluZGluZ0hhc2hFUEtjRTMkXzAAoOIAAHTOAAAAAAAAxM8AAE0DAABWAwAAVwMAAFgDAABZAwAAWgMAAFsDAABcAwAAXQMAAE5TdDNfXzIxMF9fZnVuY3Rpb242X19mdW5jSVpONHdhYnQxMl9HTE9CQUxfX05fMTEyTmFtZVJlc29sdmVyOVZpc2l0RnVuY0VQTlMyXzRGdW5jRUUzJF8xTlNfOWFsbG9jYXRvcklTN19FRUZ2UktOU180cGFpcklLTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlM4X0ljRUVFRU5TMl83QmluZGluZ0VFRVNLX0VFRQAAAADI4gAAAM8AAGDOAABaTjR3YWJ0MTJfR0xPQkFMX19OXzExMk5hbWVSZXNvbHZlcjlWaXNpdEZ1bmNFUE5TXzRGdW5jRUUzJF8xAAAAoOIAANDPAAAAAAAAfNEAAGIDAABjAwAAAwAAAGQDAACjAgAApAIAAKUCAACmAgAApwIAAGUDAAALAAAADAAAAA0AAAAOAAAADwAAABAAAACpAgAAqgIAAGYDAAAUAAAArAIAAK0CAACuAgAArwIAALACAABnAwAAsgIAALMCAAC0AgAAtQIAALYCAAC3AgAAuAIAALkCAAC6AgAAuwIAALwCAAC9AgAAvgIAAL8CAADAAgAAwQIAACsAAAAsAAAALQAAAC4AAADCAgAAaAMAADEAAADEAgAAMwAAADQAAABpAwAAxgIAAMcCAADIAgAAyQIAAMoCAAA7AAAAPAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAE40d2FidDEyX0dMT0JBTF9fTl8xMzVSZXNvbHZlRnVuY1R5cGVzRXhwclZpc2l0b3JEZWxlZ2F0ZUUAAMjiAABA0QAAwIwAAAAAAADwmAAASAEAAGoDAAAAAAAAFNIAAGsDAABsAwAATjR3YWJ0MTVSZWdpc3RlckNvbW1hbmRFAE40d2FidDEyQ29tbWFuZE1peGluSUxOU18xMUNvbW1hbmRUeXBlRTJFRUUATjR3YWJ0N0NvbW1hbmRFAAAAAKDiAADt0QAAyOIAAMHRAAAA0gAAyOIAAKjRAAAI0gAAAAAAAIDSAABtAwAAbgMAAE40d2FidDEzTW9kdWxlQ29tbWFuZEUATjR3YWJ0MTJDb21tYW5kTWl4aW5JTE5TXzExQ29tbWFuZFR5cGVFMEVFRQAAyOIAAEfSAAAA0gAAyOIAADDSAAB00gAAAAAAAPjSAABvAwAAcAMAAE40d2FidDIyQXNzZXJ0RXhjZXB0aW9uQ29tbWFuZEUATjR3YWJ0MTJDb21tYW5kTWl4aW5JTE5TXzExQ29tbWFuZFR5cGVFMTBFRUUAAAAAyOIAALzSAAAA0gAAyOIAAJzSAADs0gAAAAAAAITTAABxAwAAcgMAAE40d2FidDIxQXNzZXJ0VHJhcENvbW1hbmRCYXNlSUxOU18xMUNvbW1hbmRUeXBlRTlFRUUATjR3YWJ0MTJDb21tYW5kTWl4aW5JTE5TXzExQ29tbWFuZFR5cGVFOUVFRQAAAADI4gAASdMAAADSAADI4gAAFNMAAHjTAAAAAAAADNQAAHMDAAB0AwAATjR3YWJ0MTlBc3NlcnRNb2R1bGVDb21tYW5kSUxOU18xMUNvbW1hbmRUeXBlRTRFRUUATjR3YWJ0MTJDb21tYW5kTWl4aW5JTE5TXzExQ29tbWFuZFR5cGVFNEVFRQAAyOIAANPTAAAA0gAAyOIAAKDTAAAA1AAAAAAAAJTUAAB1AwAAdgMAAE40d2FidDE5QXNzZXJ0TW9kdWxlQ29tbWFuZElMTlNfMTFDb21tYW5kVHlwZUUzRUVFAE40d2FidDEyQ29tbWFuZE1peGluSUxOU18xMUNvbW1hbmRUeXBlRTNFRUUAAMjiAABb1AAAANIAAMjiAAAo1AAAiNQAAAAAAAAI1QAAdwMAAHgDAABONHdhYnQxOUFzc2VydFJldHVybkNvbW1hbmRFAE40d2FidDEyQ29tbWFuZE1peGluSUxOU18xMUNvbW1hbmRUeXBlRTdFRUUAAAAAyOIAAM3UAAAA0gAAyOIAALDUAAD81AAAAAAAAJDVAAB5AwAAegMAAE40d2FidDE5QXNzZXJ0TW9kdWxlQ29tbWFuZElMTlNfMTFDb21tYW5kVHlwZUU2RUVFAE40d2FidDEyQ29tbWFuZE1peGluSUxOU18xMUNvbW1hbmRUeXBlRTZFRUUAAMjiAABX1QAAANIAAMjiAAAk1QAAhNUAAAAAAAAc1gAAewMAAHwDAABONHdhYnQyMUFzc2VydFRyYXBDb21tYW5kQmFzZUlMTlNfMTFDb21tYW5kVHlwZUU4RUVFAE40d2FidDEyQ29tbWFuZE1peGluSUxOU18xMUNvbW1hbmRUeXBlRThFRUUAAAAAyOIAAOHVAAAA0gAAyOIAAKzVAAAQ1gAAAAAAAKTWAAB9AwAAfgMAAE40d2FidDE5QXNzZXJ0TW9kdWxlQ29tbWFuZElMTlNfMTFDb21tYW5kVHlwZUU1RUVFAE40d2FidDEyQ29tbWFuZE1peGluSUxOU18xMUNvbW1hbmRUeXBlRTVFRUUAAMjiAABr1gAAANIAAMjiAAA41gAAmNYAAAAAAAAs1wAAfwMAAIADAABONHdhYnQxN0FjdGlvbkNvbW1hbmRCYXNlSUxOU18xMUNvbW1hbmRUeXBlRTFFRUUATjR3YWJ0MTJDb21tYW5kTWl4aW5JTE5TXzExQ29tbWFuZFR5cGVFMUVFRQAAAADI4gAA8dYAAADSAADI4gAAwNYAACDXAAAAAAAArNcAAIEDAACCAwAATjR3YWJ0MTJJbnZva2VBY3Rpb25FAE40d2FidDExQWN0aW9uTWl4aW5JTE5TXzEwQWN0aW9uVHlwZUUwRUVFAE40d2FidDZBY3Rpb25FAACg4gAAiNcAAMjiAABe1wAAmNcAAMjiAABI1wAAoNcAAAAAAACY1wAAgwMAAIQDAAAAAAAAINgAAIMDAACFAwAATjR3YWJ0OUdldEFjdGlvbkUATjR3YWJ0MTFBY3Rpb25NaXhpbklMTlNfMTBBY3Rpb25UeXBlRTFFRUUAyOIAAOrXAACY1wAAyOIAANjXAAAU2AAAAAAAANjYAACGAwAAhwMAAIgDAABONHdhYnQxNkRhdGFTY3JpcHRNb2R1bGVJTE5TXzE2U2NyaXB0TW9kdWxlVHlwZUUxRUVFAE40d2FidDE3U2NyaXB0TW9kdWxlTWl4aW5JTE5TXzE2U2NyaXB0TW9kdWxlVHlwZUUxRUVFAE40d2FidDEyU2NyaXB0TW9kdWxlRQAAAACg4gAAq9gAAMjiAAB12AAAxNgAAMjiAABA2AAAzNgAAAAAAABw2QAAiQMAAIoDAACLAwAATjR3YWJ0MTZEYXRhU2NyaXB0TW9kdWxlSUxOU18xNlNjcmlwdE1vZHVsZVR5cGVFMkVFRQBONHdhYnQxN1NjcmlwdE1vZHVsZU1peGluSUxOU18xNlNjcmlwdE1vZHVsZVR5cGVFMkVFRQAAyOIAAC3ZAADE2AAAyOIAAPjYAABk2QAAAAAAAOzZAACMAwAAjQMAAI4DAABONHdhYnQxNlRleHRTY3JpcHRNb2R1bGVFAE40d2FidDE3U2NyaXB0TW9kdWxlTWl4aW5JTE5TXzE2U2NyaXB0TW9kdWxlVHlwZUUwRUVFAMjiAACq2QAAxNgAAMjiAACQ2QAA4Nk="),ue(ae,55841,"AQABAQEBAQAAAQEAAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQ=="),ue(ae,56064,"MDEyMzQ1Njc4OWFiY2RlZg=="),ue(ae,56096,"AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAE="),ue(ae,56188,"AQ=="),ue(ae,56223,"AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAIDdAABiAwAAjwMAAJADAACRAwAAkgMAAJMDAACUAwAAlQMAAJYDAACXAwAAmAMAAJkDAACaAwAAmwMAAJwDAACdAwAAngMAAJ8DAACgAwAAoQMAAKIDAACjAwAApAMAAKUDAACmAwAApwMAAKgDAACpAwAAqgMAAKsDAACsAwAArQMAAK4DAACvAwAAsAMAALEDAACyAwAAswMAALQDAAC1AwAAtgMAALcDAAC4AwAAuQMAALoDAAC7AwAAvAMAAL0DAAC+AwAAvwMAAMADAADBAwAAwgMAAMMDAADEAwAAxQMAAMYDAADHAwAAyAMAAMkDAADKAwAAywMAAMwDAADNAwAAzgMAAM8DAADQAwAA0QMAANIDAADTAwAA1AMAANUDAABONHdhYnQxMl9HTE9CQUxfX05fMTlXYXRXcml0ZXIxOUV4cHJWaXNpdG9yRGVsZWdhdGVFAAAAAMjiAABI3QAAuIwAAIBoBQDRdJ4AV529KoBwUg///z4nCgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QUYAAAANQAAAHEAAABr////zvv//5K///8AAAAAAAAAABkACgAZGRkAAAAABQAAAAAAAAkAAAAACwAAAAAAAAAAGQARChkZGQMKBwABAAkLGAAACQYLAAALAAYZAAAAGRkZ"),ue(ae,56881,"DgAAAAAAAAAAGQAKDRkZGQANAAACAAkOAAAACQAOAAAO"),ue(ae,56939,"DA=="),ue(ae,56951,"EwAAAAATAAAAAAkMAAAAAAAMAAAM"),ue(ae,56997,"EA=="),ue(ae,57009,"DwAAAAQPAAAAAAkQAAAAAAAQAAAQ"),ue(ae,57055,"Eg=="),ue(ae,57067,"EQAAAAARAAAAAAkSAAAAAAASAAASAAAaAAAAGhoa"),ue(ae,57122,"GgAAABoaGgAAAAAAAAk="),ue(ae,57171,"FA=="),ue(ae,57183,"FwAAAAAXAAAAAAkUAAAAAAAUAAAU"),ue(ae,57229,"Fg=="),ue(ae,57241,"FQAAAAAVAAAAAAkWAAAAAAAWAAAWAAAwMTIzNDU2Nzg5QUJDREVGAAAAAAIAAAADAAAABQAAAAcAAAALAAAADQAAABEAAAATAAAAFwAAAB0AAAAfAAAAJQAAACkAAAArAAAALwAAADUAAAA7AAAAPQAAAEMAAABHAAAASQAAAE8AAABTAAAAWQAAAGEAAABlAAAAZwAAAGsAAABtAAAAcQAAAH8AAACDAAAAiQAAAIsAAACVAAAAlwAAAJ0AAACjAAAApwAAAK0AAACzAAAAtQAAAL8AAADBAAAAxQAAAMcAAADTAAAAAQAAAAsAAAANAAAAEQAAABMAAAAXAAAAHQAAAB8AAAAlAAAAKQAAACsAAAAvAAAANQAAADsAAAA9AAAAQwAAAEcAAABJAAAATwAAAFMAAABZAAAAYQAAAGUAAABnAAAAawAAAG0AAABxAAAAeQAAAH8AAACDAAAAiQAAAIsAAACPAAAAlQAAAJcAAACdAAAAowAAAKcAAACpAAAArQAAALMAAAC1AAAAuwAAAL8AAADBAAAAxQAAAMcAAADRAAAAMDAwMTAyMDMwNDA1MDYwNzA4MDkxMDExMTIxMzE0MTUxNjE3MTgxOTIwMjEyMjIzMjQyNTI2MjcyODI5MzAzMTMyMzMzNDM1MzYzNzM4Mzk0MDQxNDI0MzQ0NDU0NjQ3NDg0OTUwNTE1MjUzNTQ1NTU2NTc1ODU5NjA2MTYyNjM2NDY1NjY2NzY4Njk3MDcxNzI3Mzc0NzU3Njc3Nzg3OTgwODE4MjgzODQ4NTg2ODc4ODg5OTA5MTkyOTM5NDk1OTY5Nzk4OTk="),ue(ae,57876,"CgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QUAypo7TjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAAyOIAADjiAACI4wAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAAyOIAAGjiAABc4gAAAAAAAIziAADcAwAA3QMAAN4DAADfAwAA4AMAAOEDAADiAwAA4wMAAAAAAAAQ4wAA3AMAAOQDAADeAwAA3wMAAOADAADlAwAA5gMAAOcDAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAAyOIAAOjiAACM4gAAAAAAAGzjAADcAwAA6AMAAN4DAADfAwAA4AMAAOkDAADqAwAA6wMAAE4xMF9fY3h4YWJpdjEyMV9fdm1pX2NsYXNzX3R5cGVfaW5mb0UAAADI4gAAROMAAIziAABTdDl0eXBlX2luZm8AAAAAoOIAAHjj"),ue(ae,58256,"jTsAACMrAACVLwAA3y4AAFk4AAD0OwAAcQQAABgwAADkMgAA7DIAAFAzAAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAnF4AAPQ7AABxBAAAGDAAAFAz"),ue(ae,58480,"02AAAF9hAACSZAAASGEAAJNhAAD5ZAAAGmEAAO1gAACpZAAAxGQAAAVhAADHYQAAq2EAAHpkAACTYwAAxmMAAHxjAADgYwAArGMAAGVjAAAwYQAAd2EAAN5kAAA3LQAA8xs="),ue(ae,58592,"IjwAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,58656,"wCkAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,58708,"AQAAAAEAAAAAAAAA6jAAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,58772,"AgAAAAIAAAAAAAAAtikAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,58836,"AwAAAAMAAAAAAAAAgzMAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,58900,"BAAAAAQAAAAAAAAA6DUAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,58964,"BQAAAAUAAAAAAAAAbQQAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59028,"BgAAAAYAAAAAAAAAzjEAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59092,"BwAAAAcAAAAAAAAAOgoAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59156,"CAAAAAgAAAAAAAAAMAoAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59220,"CQAAAAkAAAAAAAAAYj4AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59284,"CwAAAAsAAAAAAAAAHSkAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59348,"DAAAAAwAAAAAAAAAXDMAACiLAADA////////////////////wP/////////A/////////w=="),ue(ae,59412,"DQAAAA0AAAAAAAAAvjsAACiLAADA////////////////////wP/////////A/////////w=="),ue(ae,59476,"DgAAAA4AAAAAAAAA1ioAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59540,"DwAAAA8AAAAAAAAAUy4AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59604,"EAAAABAAAAAAAAAAvBsAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59668,"EQAAABEAAAAAAAAATC4AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59732,"EgAAABIAAAAAAAAAtRsAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59796,"EwAAABMAAAAAAAAAyDMAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59860,"FAAAABQAAAAAAAAAzDUAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59924,"GAAAABgAAAAAAAAAWC4AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,59988,"GQAAABkAAAAAAAAAnykAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,60052,"GgAAABoAAAAAAAAA5RsAACiLAADA/////////8D/////////wP///////////////////w=="),ue(ae,60116,"GwAAABsAAAAAAAAA5RsAACiLAADA/////////8D/////////wP///////////////////w=="),ue(ae,60180,"HAAAABwAAAAAAAAAVxsAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,60244,"IAAAACAAAAAAAAAAOBsAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,60308,"IQAAACEAAAAAAAAApjwAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,60372,"IgAAACIAAAAAAAAAYRsAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,60436,"IwAAACMAAAAAAAAAQhsAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,60500,"JAAAACQAAAAAAAAAw10AACiLAAD/////////////////////wP/////////A/////////wQ="),ue(ae,60564,"KAAAACgAAAAAAAAAsV0AACiLAAD+////////////////////wP/////////A/////////wg="),ue(ae,60628,"KQAAACkAAAAAAAAAzF0AACiLAAD9////////////////////wP/////////A/////////wQ="),ue(ae,60692,"KgAAACoAAAAAAAAAul0AACiLAAD8////////////////////wP/////////A/////////wg="),ue(ae,60756,"KwAAACsAAAAAAAAAYCIAACiLAAD/////////////////////wP/////////A/////////wE="),ue(ae,60820,"LAAAACwAAAAAAAAAJxEAACiLAAD/////////////////////wP/////////A/////////wE="),ue(ae,60884,"LQAAAC0AAAAAAAAAGyMAACiLAAD/////////////////////wP/////////A/////////wI="),ue(ae,60948,"LgAAAC4AAAAAAAAA7BEAACiLAAD/////////////////////wP/////////A/////////wI="),ue(ae,61012,"LwAAAC8AAAAAAAAAVCIAACiLAAD+////////////////////wP/////////A/////////wE="),ue(ae,61076,"MAAAADAAAAAAAAAAGxEAACiLAAD+////////////////////wP/////////A/////////wE="),ue(ae,61140,"MQAAADEAAAAAAAAADiMAACiLAAD+////////////////////wP/////////A/////////wI="),ue(ae,61204,"MgAAADIAAAAAAAAA3xEAACiLAAD+////////////////////wP/////////A/////////wI="),ue(ae,61268,"MwAAADMAAAAAAAAAAyUAACiLAAD+////////////////////wP/////////A/////////wQ="),ue(ae,61332,"NAAAADQAAAAAAAAA2RMAACiLAAD+////////////////////wP/////////A/////////wQ="),ue(ae,61396,"NQAAADUAAAAAAAAANDYAACiLAADA///////////////////////////////A/////////wQ="),ue(ae,61460,"NgAAADYAAAAAAAAAIDYAACiLAADA/////////////////////v/////////A/////////wg="),ue(ae,61524,"NwAAADcAAAAAAAAAPjYAACiLAADA/////////////////////f/////////A/////////wQ="),ue(ae,61588,"OAAAADgAAAAAAAAAKjYAACiLAADA/////////////////////P/////////A/////////wg="),ue(ae,61652,"OQAAADkAAAAAAAAAhmIAACiLAADA///////////////////////////////A/////////wE="),ue(ae,61716,"OgAAADoAAAAAAAAA4mIAACiLAADA///////////////////////////////A/////////wI="),ue(ae,61780,"OwAAADsAAAAAAAAAe2IAACiLAADA/////////////////////v/////////A/////////wE="),ue(ae,61844,"PAAAADwAAAAAAAAA1mIAACiLAADA/////////////////////v/////////A/////////wI="),ue(ae,61908,"PQAAAD0AAAAAAAAAbmQAACiLAADA/////////////////////v/////////A/////////wQ="),ue(ae,61972,"PgAAAD4AAAAAAAAA8jMAACiLAAD//////////8D/////////wP/////////A/////////w=="),ue(ae,62036,"PwAAAD8AAAAAAAAARgoAACiLAAD/////////////////////wP/////////A/////////w=="),ue(ae,62100,"QAAAAEAAAAAAAAAAHhYAACiLAAD//////////8D/////////wP/////////A/////////w=="),ue(ae,62164,"QQAAAEEAAAAAAAAAChYAACiLAAD+/////////8D/////////wP/////////A/////////w=="),ue(ae,62228,"QgAAAEIAAAAAAAAAKBYAACiLAAD9/////////8D/////////wP/////////A/////////w=="),ue(ae,62292,"QwAAAEMAAAAAAAAAFBYAACiLAAD8/////////8D/////////wP/////////A/////////w=="),ue(ae,62356,"RAAAAEQAAAAAAAAAIAQAACQEAAD/////////////////////wP/////////A/////////w=="),ue(ae,62420,"RQAAAEUAAAAAAAAAdykAAENiAAD////////////////////////////////A/////////w=="),ue(ae,62484,"RgAAAEYAAAAAAAAADzoAAEliAAD////////////////////////////////A/////////w=="),ue(ae,62548,"RwAAAEcAAAAAAAAAwR8AAE1iAAD////////////////////////////////A/////////w=="),ue(ae,62612,"SAAAAEgAAAAAAAAAgAsAAE1iAAD////////////////////////////////A/////////w=="),ue(ae,62676,"SQAAAEkAAAAAAAAA/x8AAC9iAAD////////////////////////////////A/////////w=="),ue(ae,62740,"SgAAAEoAAAAAAAAAswsAAC9iAAD////////////////////////////////A/////////w=="),ue(ae,62804,"SwAAAEsAAAAAAAAANyEAAEZiAAD////////////////////////////////A/////////w=="),ue(ae,62868,"TAAAAEwAAAAAAAAAvg4AAEZiAAD////////////////////////////////A/////////w=="),ue(ae,62932,"TQAAAE0AAAAAAAAAdSEAAEBiAAD////////////////////////////////A/////////w=="),ue(ae,62996,"TgAAAE4AAAAAAAAA8Q4AAEBiAAD////////////////////////////////A/////////w=="),ue(ae,63060,"TwAAAE8AAAAAAAAAGAQAACQEAAD///////////7/////////wP/////////A/////////w=="),ue(ae,63124,"UAAAAFAAAAAAAAAAVykAAENiAAD///////////7//////////v/////////A/////////w=="),ue(ae,63188,"UQAAAFEAAAAAAAAA7zkAAEliAAD///////////7//////////v/////////A/////////w=="),ue(ae,63252,"UgAAAFIAAAAAAAAArR8AAE1iAAD///////////7//////////v/////////A/////////w=="),ue(ae,63316,"UwAAAFMAAAAAAAAAdwsAAE1iAAD///////////7//////////v/////////A/////////w=="),ue(ae,63380,"VAAAAFQAAAAAAAAA6x8AAC9iAAD///////////7//////////v/////////A/////////w=="),ue(ae,63444,"VQAAAFUAAAAAAAAAqgsAAC9iAAD///////////7//////////v/////////A/////////w=="),ue(ae,63508,"VgAAAFYAAAAAAAAAIyEAAEZiAAD///////////7//////////v/////////A/////////w=="),ue(ae,63572,"VwAAAFcAAAAAAAAAtQ4AAEZiAAD///////////7//////////v/////////A/////////w=="),ue(ae,63636,"WAAAAFgAAAAAAAAAYSEAAEBiAAD///////////7//////////v/////////A/////////w=="),ue(ae,63700,"WQAAAFkAAAAAAAAA6A4AAEBiAAD///////////7//////////v/////////A/////////w=="),ue(ae,63764,"WgAAAFoAAAAAAAAAfikAAENiAAD///////////3//////////f/////////A/////////w=="),ue(ae,63828,"WwAAAFsAAAAAAAAAFjoAAEliAAD///////////3//////////f/////////A/////////w=="),ue(ae,63892,"XAAAAFwAAAAAAAAAdRoAAE1iAAD///////////3//////////f/////////A/////////w=="),ue(ae,63956,"XQAAAF0AAAAAAAAA5RoAAC9iAAD///////////3//////////f/////////A/////////w=="),ue(ae,64020,"XgAAAF4AAAAAAAAAWzwAAEZiAAD///////////3//////////f/////////A/////////w=="),ue(ae,64084,"XwAAAF8AAAAAAAAAnzwAAEBiAAD///////////3//////////f/////////A/////////w=="),ue(ae,64148,"YAAAAGAAAAAAAAAAXikAAENiAAD///////////z//////////P/////////A/////////w=="),ue(ae,64212,"YQAAAGEAAAAAAAAA9jkAAEliAAD///////////z//////////P/////////A/////////w=="),ue(ae,64276,"YgAAAGIAAAAAAAAAZRoAAE1iAAD///////////z//////////P/////////A/////////w=="),ue(ae,64340,"YwAAAGMAAAAAAAAA1RoAAC9iAAD///////////z//////////P/////////A/////////w=="),ue(ae,64404,"ZAAAAGQAAAAAAAAASzwAAEZiAAD///////////z//////////P/////////A/////////w=="),ue(ae,64468,"ZQAAAGUAAAAAAAAAjzwAAEBiAAD///////////z//////////P/////////A/////////w=="),ue(ae,64532,"ZgAAAGYAAAAAAAAAMAQAADQEAAD/////////////////////wP/////////A/////////w=="),ue(ae,64596,"ZwAAAGcAAAAAAAAAEAQAABQEAAD/////////////////////wP/////////A/////////w=="),ue(ae,64660,"aAAAAGgAAAAAAAAAMhoAADYaAAD/////////////////////wP/////////A/////////w=="),ue(ae,64724,"aQAAAGkAAAAAAAAAd10AAIhoAAD////////////////////////////////A/////////w=="),ue(ae,64788,"agAAAGoAAAAAAAAAMF8AAIZoAAD////////////////////////////////A/////////w=="),ue(ae,64852,"awAAAGsAAAAAAAAAuy0AAIpoAAD////////////////////////////////A/////////w=="),ue(ae,64916,"bAAAAGwAAAAAAAAAgh8AAH5mAAD////////////////////////////////A/////////w=="),ue(ae,64980,"bQAAAG0AAAAAAAAATAsAAH5mAAD////////////////////////////////A/////////w=="),ue(ae,65044,"bgAAAG4AAAAAAAAAziAAAFBtAAD////////////////////////////////A/////////w=="),ue(ae,65108,"bwAAAG8AAAAAAAAAZQ0AAFBtAAD////////////////////////////////A/////////w=="),ue(ae,65172,"cAAAAHAAAAAAAAAAnT4AAE5tAAD////////////////////////////////A/////////w=="),ue(ae,65236,"cQAAAHEAAAAAAAAApCgAAAIEAAD////////////////////////////////A/////////w=="),ue(ae,65300,"cgAAAHIAAAAAAAAANygAAHlfAAD////////////////////////////////A/////////w=="),ue(ae,65364,"cwAAAHMAAAAAAAAAxS4AAExiAAD////////////////////////////////A/////////w=="),ue(ae,65428,"dAAAAHQAAAAAAAAAliAAAC5iAAD////////////////////////////////A/////////w=="),ue(ae,65492,"dQAAAHUAAAAAAAAAEw0AAC5iAAD////////////////////////////////A/////////w=="),ue(ae,65556,"dgAAAHYAAAAAAAAA1C0AAExiAAD////////////////////////////////A/////////w=="),ue(ae,65620,"dwAAAHcAAAAAAAAA6CcAAC5iAAD////////////////////////////////A/////////w=="),ue(ae,65684,"eAAAAHgAAAAAAAAAKAQAADQEAAD+//////////7/////////wP/////////A/////////w=="),ue(ae,65748,"eQAAAHkAAAAAAAAACAQAABQEAAD+//////////7/////////wP/////////A/////////w=="),ue(ae,65812,"egAAAHoAAAAAAAAAJxoAADYaAAD+//////////7/////////wP/////////A/////////w=="),ue(ae,65876,"ewAAAHsAAAAAAAAAU10AAIhoAAD+//////////7//////////v/////////A/////////w=="),ue(ae,65940,"fAAAAHwAAAAAAAAADF8AAIZoAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66004,"fQAAAH0AAAAAAAAAly0AAIpoAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66068,"fgAAAH4AAAAAAAAAeB8AAH5mAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66132,"fwAAAH8AAAAAAAAAQgsAAH5mAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66196,"gAAAAIAAAAAAAAAAxCAAAFBtAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66260,"gQAAAIEAAAAAAAAAWw0AAFBtAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66324,"ggAAAIIAAAAAAAAAlT4AAE5tAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66388,"gwAAAIMAAAAAAAAAnSgAAAIEAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66452,"hAAAAIQAAAAAAAAALygAAHlfAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66516,"hQAAAIUAAAAAAAAAsy4AAExiAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66580,"hgAAAIYAAAAAAAAAgCAAAC5iAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66644,"hwAAAIcAAAAAAAAA/QwAAC5iAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66708,"iAAAAIgAAAAAAAAAyy0AAExiAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66772,"iQAAAIkAAAAAAAAA3ycAAC5iAAD+//////////7//////////v/////////A/////////w=="),ue(ae,66836,"igAAAIoAAAAAAAAASR8AAE0fAAD9//////////3//////////f/////////A/////////w=="),ue(ae,66900,"iwAAAIsAAAAAAAAAODMAAIZoAAD9//////////3//////////f/////////A/////////w=="),ue(ae,66964,"jAAAAIwAAAAAAAAAjC4AAJAuAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67028,"jQAAAI0AAAAAAAAAZygAAGsoAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67092,"jgAAAI4AAAAAAAAAjl4AAJJeAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67156,"jwAAAI8AAAAAAAAAYBYAAGQWAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67220,"kAAAAJAAAAAAAAAAixYAAI8WAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67284,"kQAAAJEAAAAAAAAAf10AAIhoAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67348,"kgAAAJIAAAAAAAAAOF8AAIZoAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67412,"kwAAAJMAAAAAAAAAwy0AAIpoAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67476,"lAAAAJQAAAAAAAAAsgoAAH5mAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67540,"lQAAAJUAAAAAAAAA8iwAAPYsAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67604,"lgAAAJYAAAAAAAAAcgkAAIIJAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67668,"lwAAAJcAAAAAAAAACy0AAA8tAAD9//////////3//////////f/////////A/////////w=="),ue(ae,67732,"mAAAAJgAAAAAAAAALR8AAE0fAAD8//////////z//////////P/////////A/////////w=="),ue(ae,67796,"mQAAAJkAAAAAAAAAHDMAAIZoAAD8//////////z//////////P/////////A/////////w=="),ue(ae,67860,"mgAAAJoAAAAAAAAAeC4AAJAuAAD8//////////z//////////P/////////A/////////w=="),ue(ae,67924,"mwAAAJsAAAAAAAAAUSgAAGsoAAD8//////////z//////////P/////////A/////////w=="),ue(ae,67988,"nAAAAJwAAAAAAAAAeF4AAJJeAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68052,"nQAAAJ0AAAAAAAAARhYAAGQWAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68116,"ngAAAJ4AAAAAAAAAdxYAAI8WAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68180,"nwAAAJ8AAAAAAAAAW10AAIhoAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68244,"oAAAAKAAAAAAAAAAFF8AAIZoAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68308,"oQAAAKEAAAAAAAAAny0AAIpoAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68372,"ogAAAKIAAAAAAAAAoAoAAH5mAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68436,"owAAAKMAAAAAAAAA4CwAAPYsAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68500,"pAAAAKQAAAAAAAAAYAkAAIIJAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68564,"pQAAAKUAAAAAAAAA/iwAAA8tAAD8//////////z//////////P/////////A/////////w=="),ue(ae,68628,"pgAAAKYAAAAAAAAANWMAACiLAAD///////////7/////////wP/////////A/////////w=="),ue(ae,68692,"pwAAAKcAAAAAAAAA5CQAACiLAAD///////////3/////////wP/////////A/////////w=="),ue(ae,68756,"qAAAAKgAAAAAAAAAtRMAACiLAAD///////////3/////////wP/////////A/////////w=="),ue(ae,68820,"qQAAAKkAAAAAAAAAVyQAACiLAAD///////////z/////////wP/////////A/////////w=="),ue(ae,68884,"qgAAAKoAAAAAAAAAKBMAACiLAAD///////////z/////////wP/////////A/////////w=="),ue(ae,68948,"qwAAAKsAAAAAAAAAmyQAACiLAAD+////////////////////wP/////////A/////////w=="),ue(ae,69012,"rAAAAKwAAAAAAAAAbBMAACiLAAD+////////////////////wP/////////A/////////w=="),ue(ae,69076,"rQAAAK0AAAAAAAAA1CQAACiLAAD+//////////3/////////wP/////////A/////////w=="),ue(ae,69140,"rgAAAK4AAAAAAAAApRMAACiLAAD+//////////3/////////wP/////////A/////////w=="),ue(ae,69204,"rwAAAK8AAAAAAAAARyQAACiLAAD+//////////z/////////wP/////////A/////////w=="),ue(ae,69268,"sAAAALAAAAAAAAAAGBMAACiLAAD+//////////z/////////wP/////////A/////////w=="),ue(ae,69332,"sQAAALEAAAAAAAAAiSQAACiLAAD9////////////////////wP/////////A/////////w=="),ue(ae,69396,"sgAAALIAAAAAAAAAWhMAACiLAAD9////////////////////wP/////////A/////////w=="),ue(ae,69460,"swAAALMAAAAAAAAADSQAACiLAAD9//////////7/////////wP/////////A/////////w=="),ue(ae,69524,"tAAAALQAAAAAAAAA3hIAACiLAAD9//////////7/////////wP/////////A/////////w=="),ue(ae,69588,"tQAAALUAAAAAAAAAVmMAACiLAAD9//////////z/////////wP/////////A/////////w=="),ue(ae,69652,"tgAAALYAAAAAAAAAdyQAACiLAAD8////////////////////wP/////////A/////////w=="),ue(ae,69716,"twAAALcAAAAAAAAASBMAACiLAAD8////////////////////wP/////////A/////////w=="),ue(ae,69780,"uAAAALgAAAAAAAAA+yMAACiLAAD8//////////7/////////wP/////////A/////////w=="),ue(ae,69844,"uQAAALkAAAAAAAAAzBIAACiLAAD8//////////7/////////wP/////////A/////////w=="),ue(ae,69908,"ugAAALoAAAAAAAAAS2QAACiLAAD8//////////3/////////wP/////////A/////////w=="),ue(ae,69972,"uwAAALsAAAAAAAAAN2QAACiLAAD///////////3/////////wP/////////A/////////w=="),ue(ae,70036,"vAAAALwAAAAAAAAAQmMAACiLAAD+//////////z/////////wP/////////A/////////w=="),ue(ae,70100,"vQAAAL0AAAAAAAAAI2QAACiLAAD9////////////////////wP/////////A/////////w=="),ue(ae,70164,"vgAAAL4AAAAAAAAAIWMAACiLAAD8//////////7/////////wP/////////A/////////w=="),ue(ae,70228,"vwAAAL8AAAAAAAAARiIAACiLAAD/////////////////////wP/////////A/////////w=="),ue(ae,70292,"wAAAAMAAAAAAAAAA/yIAACiLAAD/////////////////////wP/////////A/////////w=="),ue(ae,70356,"wQAAAMEAAAAAAAAAOCIAACiLAAD+//////////7/////////wP/////////A/////////w=="),ue(ae,70420,"wgAAAMIAAAAAAAAA8CIAACiLAAD+//////////7/////////wP/////////A/////////w=="),ue(ae,70484,"wwAAAMMAAAAAAAAA9CQAACiLAAD+//////////7/////////wP/////////A/////////w=="),ue(ae,70548,"xAAAAMQAAAAAAAAAcl8AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,70612,"4AAAAOAAAAAAAAAA/BwAACiLAADA////////////////////wP/////////A/////////w=="),ue(ae,70676,"4QAAAOEAAAAAAAAAohYAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,70740,"4gAAAOIAAAAAAAAAaF8AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,70804,"4wAAAOMAAAAAAAAAyCkAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,70868,"5AAAAOQAAAAAAAAAhSkAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,70932,"5QAAAOUAAAAAAAAAOy4AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,70996,"5gAAAOYAAAAAAAAAwCQAACiLAAD///////////3/////////wP/////////A/////////wAAAAAAAAAA/AAAAAAAAAAA/AAAAAAAAJETAAAoiwAA///////////9/////////8D/////////wP////////8AAAAAAAAAAPwAAAABAAAAAfwAAAAAAAAzJAAAKIsAAP///////////P/////////A/////////8D/////////AAAAAAAAAAD8AAAAAgAAAAL8AAAAAAAABBMAACiLAAD///////////z/////////wP/////////A/////////wAAAAAAAAAA/AAAAAMAAAAD/AAAAAAAAKwkAAAoiwAA/v/////////9/////////8D/////////wP////////8AAAAAAAAAAPwAAAAEAAAABPwAAAAAAAB9EwAAKIsAAP7//////////f/////////A/////////8D/////////AAAAAAAAAAD8AAAABQAAAAX8AAAAAAAAHyQAACiLAAD+//////////z/////////wP/////////A/////////wAAAAAAAAAA/AAAAAYAAAAG/AAAAAAAAPASAAAoiwAA/v/////////8/////////8D/////////wP////////8AAAAAAAAAAPwAAAAHAAAAB/wAAAAAAAB8GgAAKIsAAMD/////////////////////////////////////////AAAAAAAAAAD8AAAACAAAAAj8AAAAAAAAmikAACiLAADA/////////8D/////////wP/////////A/////////wAAAAAAAAAA/AAAAAkAAAAJ/AAAAAAAAL4EAAAoiwAAwP////////////////////////////////////////8AAAAAAAAAAPwAAAAKAAAACvwAAAAAAAAPLgAAKIsAAMD/////////////////////////////////////////AAAAAAAAAAD8AAAACwAAAAv8AAAAAAAAiBoAACiLAADA/////////////////////////////////////////wAAAAAAAAAA/AAAAAwAAAAM/AAAAAAAAJApAAAoiwAAwP/////////A/////////8D/////////wP////////8AAAAAAAAAAPwAAAANAAAADfwAAAAAAADKBAAAKIsAAMD/////////////////////////////////////////AAAAAAAAAAD8AAAADgAAAA78AAAAAAAAbBsAACiLAADA////////////////////wP/////////A/////////w=="),ue(ae,72020,"JQAAACUAAAAAAAAATRsAACiLAADA////////////////////wP/////////A/////////w=="),ue(ae,72084,"JgAAACYAAAAAAAAAUgoAACiLAADA/////////8D////////////////////A/////////wAAAAAAAAAA/AAAAA8AAAAP/AAAAAAAAP4zAAAoiwAAwP/////////A/////////8D/////////wP////////8AAAAAAAAAAPwAAAAQAAAAEPwAAAAAAAAbLgAAKIsAAMD////////////////////A////////////////////AAAAAAAAAAD8AAAAEQAAABH8AAAAAAAA6S0AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,72340,"0AAAANAAAAAAAAAA3S0AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,72404,"0QAAANEAAAAAAAAAmF4AACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,72468,"0gAAANIAAAAAAAAAp10AACiLAAD7////////////////////wP/////////A/////////xAAAAAAAAAA/QAAAAAAAAAA/QAAAAAAAH4hAAAoiwAA+////////////////////8D/////////wP////////8IAAAAAAAAAP0AAAABAAAAAf0AAAAAAABNEAAAKIsAAPv////////////////////A/////////8D/////////CAAAAAAAAAD9AAAAAgAAAAL9AAAAAAAAKCMAACiLAAD7////////////////////wP/////////A/////////wgAAAAAAAAA/QAAAAMAAAAD/QAAAAAAAPkRAAAoiwAA+////////////////////8D/////////wP////////8IAAAAAAAAAP0AAAAEAAAABP0AAAAAAABnJAAAKIsAAPv////////////////////A/////////8D/////////CAAAAAAAAAD9AAAABQAAAAX9AAAAAAAAOBMAACiLAAD7////////////////////wP/////////A/////////wgAAAAAAAAA/QAAAAYAAAAG/QAAAAAAAP4bAAAoiwAA+////////////////////8D/////////wP////////8BAAAAAAAAAP0AAAAHAAAAB/0AAAAAAAAPHAAAKIsAAPv////////////////////A/////////8D/////////AgAAAAAAAAD9AAAACAAAAAj9AAAAAAAAMxwAACiLAAD7////////////////////wP/////////A/////////wQAAAAAAAAA/QAAAAkAAAAJ/QAAAAAAACEcAAAoiwAA+////////////////////8D/////////wP////////8IAAAAAAAAAP0AAAAKAAAACv0AAAAAAAAVNgAAKIsAAMD////////////////////7/////////8D/////////EAAAAAAAAAD9AAAACwAAAAv9AAAAAAAA/xUAACiLAAD7/////////8D/////////wP/////////A/////////wAAAAAAAAAA/QAAAAwAAAAM/QAAAAAAAJQ7AAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAANAAAADf0AAAAAAAD0OgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAADgAAAA79AAAAAAAAURwAACiLAAD7////////////////////wP/////////A/////////wAAAAAAAAAA/QAAAA8AAAAP/QAAAAAAAEUcAAAoiwAA+////////////////////8D/////////wP////////8AAAAAAAAAAP0AAAAQAAAAEP0AAAAAAABdHAAAKIsAAPv////////////////////A/////////8D/////////AAAAAAAAAAD9AAAAEQAAABH9AAAAAAAAdRwAACiLAAD7//////////7/////////wP/////////A/////////wAAAAAAAAAA/QAAABIAAAAS/QAAAAAAAGkcAAAoiwAA+//////////9/////////8D/////////wP////////8AAAAAAAAAAP0AAAATAAAAE/0AAAAAAACBHAAAKIsAAPv//////////P/////////A/////////8D/////////AAAAAAAAAAD9AAAAFAAAABT9AAAAAAAA7SAAACiLAAD///////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAABUAAAAV/QAAAAAAAH8OAAAoiwAA///////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAAWAAAAFv0AAAAAAADHOAAAKIsAAPv/////////+////////////////////8D/////////AAAAAAAAAAD9AAAAFwAAABf9AAAAAAAA2CAAACiLAAD///////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAABgAAAAY/QAAAAAAAGoOAAAoiwAA///////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAAZAAAAGf0AAAAAAAC0OAAAKIsAAPv/////////+////////////////////8D/////////AAAAAAAAAAD9AAAAGgAAABr9AAAAAAAAaDgAACiLAAD///////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAABsAAAAb/QAAAAAAANo4AAAoiwAA+//////////7////////////////////wP////////8AAAAAAAAAAP0AAAAcAAAAHP0AAAAAAACOOAAAKIsAAP7/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAHQAAAB39AAAAAAAAADkAACiLAAD7//////////v//////////v/////////A/////////wAAAAAAAAAA/QAAAB4AAAAe/QAAAAAAAHs4AAAoiwAA/f/////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAAfAAAAH/0AAAAAAADtOAAAKIsAAPv/////////+//////////9/////////8D/////////AAAAAAAAAAD9AAAAIAAAACD9AAAAAAAAoTgAACiLAAD8//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAACEAAAAh/QAAAAAAABM5AAAoiwAA+//////////7//////////z/////////wP////////8AAAAAAAAAAP0AAAAiAAAAIv0AAAAAAAA8KQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAIwAAACP9AAAAAAAA1DkAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAACQAAAAk/QAAAAAAAJcfAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAAlAAAAJf0AAAAAAABhCwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAJgAAACb9AAAAAAAA1R8AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAACcAAAAn/QAAAAAAAJQLAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAAoAAAAKP0AAAAAAAANIQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAKQAAACn9AAAAAAAAnw4AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAACoAAAAq/QAAAAAAAEshAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAArAAAAK/0AAAAAAADSDgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAALAAAACz9AAAAAAAAMykAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAC0AAAAt/QAAAAAAAMs5AAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAAuAAAALv0AAAAAAACMHwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAALwAAAC/9AAAAAAAAVgsAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAADAAAAAw/QAAAAAAAMofAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAAxAAAAMf0AAAAAAACJCwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAMgAAADL9AAAAAAAAAiEAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAADMAAAAz/QAAAAAAAJQOAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAA0AAAANP0AAAAAAABAIQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAANQAAADX9AAAAAAAAxw4AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAADYAAAA2/QAAAAAAAEUpAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAA3AAAAN/0AAAAAAADdOQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAOAAAADj9AAAAAAAAoh8AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAADkAAAA5/QAAAAAAAGwLAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAA6AAAAOv0AAAAAAADgHwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAOwAAADv9AAAAAAAAnwsAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAADwAAAA8/QAAAAAAABghAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAA9AAAAPf0AAAAAAACqDgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAPgAAAD79AAAAAAAAViEAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAD8AAAA//QAAAAAAAN0OAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABAAAAAQP0AAAAAAABOKQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAQQAAAEH9AAAAAAAA5jkAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAEIAAABC/QAAAAAAAFwaAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABDAAAAQ/0AAAAAAADMGgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAARAAAAET9AAAAAAAAQjwAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAEUAAABF/QAAAAAAAIY8AAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABGAAAARv0AAAAAAABuKQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAARwAAAEf9AAAAAAAABjoAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAEgAAABI/QAAAAAAAGwaAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABJAAAASf0AAAAAAADcGgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAASgAAAEr9AAAAAAAAUjwAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAEsAAABL/QAAAAAAAJY8AAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABMAAAATP0AAAAAAADVFgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAATQAAAE39AAAAAAAAjD4AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAE4AAABO/QAAAAAAAMkWAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABPAAAAT/0AAAAAAACVKAAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAUAAAAFD9AAAAAAAAJigAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAFEAAABR/QAAAAAAAN0bAAAoiwAA+//////////7//////////v/////////+/////////8AAAAAAAAAAP0AAABSAAAAUv0AAAAAAAD0NAAAKIsAAP//////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAUwAAAFP9AAAAAAAANzkAACiLAAD7////////////////////+//////////A/////////wEAAAAAAAAA/QAAAFQAAABU/QAAAAAAAFk5AAAoiwAA+/////////////////////v/////////wP////////8CAAAAAAAAAP0AAABVAAAAVf0AAAAAAACfOQAAKIsAAPv////////////////////7/////////8D/////////BAAAAAAAAAD9AAAAVgAAAFb9AAAAAAAAfDkAACiLAAD7////////////////////+//////////A/////////wgAAAAAAAAA/QAAAFcAAABX/QAAAAAAACY5AAAoiwAAwP////////////////////v/////////wP////////8BAAAAAAAAAP0AAABYAAAAWP0AAAAAAABHOQAAKIsAAMD////////////////////7/////////8D/////////AgAAAAAAAAD9AAAAWQAAAFn9AAAAAAAAjTkAACiLAADA////////////////////+//////////A/////////wQAAAAAAAAA/QAAAFoAAABa/QAAAAAAAGo5AAAoiwAAwP////////////////////v/////////wP////////8IAAAAAAAAAP0AAABbAAAAW/0AAAAAAACTKgAAKIsAAPv////////////////////A/////////8D/////////BAAAAAAAAAD9AAAAXAAAAFz9AAAAAAAAaioAACiLAAD7////////////////////wP/////////A/////////wgAAAAAAAAA/QAAAF0AAABd/QAAAAAAAHsqAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAABeAAAAXv0AAAAAAAD0YgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAXwAAAF/9AAAAAAAADx8AACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAGAAAABg/QAAAAAAAP4yAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAABhAAAAYf0AAAAAAAAaGgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAYgAAAGL9AAAAAAAAETUAACiLAAD///////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAGMAAABj/QAAAAAAADQwAAAoiwAA///////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAABkAAAAZP0AAAAAAACNIQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAZQAAAGX9AAAAAAAAXBAAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAGYAAABm/QAAAAAAAJ8uAAAoiwAA+//////////7////////////////////wP////////8AAAAAAAAAAP0AAABrAAAAa/0AAAAAAABoIAAAKIsAAPv/////////+////////////////////8D/////////AAAAAAAAAAD9AAAAbAAAAGz9AAAAAAAA5QwAACiLAAD7//////////v////////////////////A/////////wAAAAAAAAAA/QAAAG0AAABt/QAAAAAAADVdAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABuAAAAbv0AAAAAAAAsIAAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAbwAAAG/9AAAAAAAAzAsAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAHAAAABw/QAAAAAAAO5eAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAABxAAAAcf0AAAAAAABMIAAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAcgAAAHL9AAAAAAAA7AsAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAHMAAABz/QAAAAAAAKwgAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAB2AAAAdv0AAAAAAABDDQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAdwAAAHf9AAAAAAAAYB8AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAHgAAAB4/QAAAAAAACoLAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAB5AAAAef0AAAAAAAAqDQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAewAAAHv9AAAAAAAA0iIAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAHwAAAB8/QAAAAAAAJkRAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAB9AAAAff0AAAAAAAAaIgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAfgAAAH79AAAAAAAA1xAAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAH8AAAB//QAAAAAAAAUfAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACAAAAAgP0AAAAAAAD0MgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAgQAAAIH9AAAAAAAACCAAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAIIAAACC/QAAAAAAAAI1AAAoiwAA///////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACDAAAAg/0AAAAAAAAmMAAAKIsAAP//////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAhAAAAIT9AAAAAAAAOCMAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAIUAAACF/QAAAAAAAAkSAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACGAAAAhv0AAAAAAACFIgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAhwAAAIf9AAAAAAAAuCIAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAIgAAACI/QAAAAAAAEwRAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACJAAAAif0AAAAAAAB/EQAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAigAAAIr9AAAAAAAAlS4AACiLAAD7//////////v////////////////////A/////////wAAAAAAAAAA/QAAAIsAAACL/QAAAAAAAFwgAAAoiwAA+//////////7////////////////////wP////////8AAAAAAAAAAP0AAACMAAAAjP0AAAAAAADZDAAAKIsAAPv/////////+////////////////////8D/////////AAAAAAAAAAD9AAAAjQAAAI39AAAAAAAAK10AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAI4AAACO/QAAAAAAABwgAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACPAAAAj/0AAAAAAAC8CwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAkAAAAJD9AAAAAAAA5F4AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAJEAAACR/QAAAAAAADwgAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACSAAAAkv0AAAAAAADcCwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAkwAAAJP9AAAAAAAAeS0AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAJUAAACV/QAAAAAAAKAgAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACWAAAAlv0AAAAAAAA3DQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAlwAAAJf9AAAAAAAAVB8AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAJgAAACY/QAAAAAAAB4LAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACZAAAAmf0AAAAAAAAdDQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAmwAAAJv9AAAAAAAAbCIAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAJwAAACc/QAAAAAAAJ4iAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACdAAAAnf0AAAAAAAAzEQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAngAAAJ79AAAAAAAAZREAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAJ8AAACf/QAAAAAAABkfAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACgAAAAoP0AAAAAAAAIMwAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAoQAAAKH9AAAAAAAAIDUAACiLAAD///////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAKMAAACj/QAAAAAAAEIwAAAoiwAA///////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACkAAAApP0AAAAAAAC7IQAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAApwAAAKf9AAAAAAAAACIAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAKgAAACo/QAAAAAAAIoQAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACpAAAAqf0AAAAAAAC9EAAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAqgAAAKr9AAAAAAAAqS4AACiLAAD7//////////v////////////////////A/////////wAAAAAAAAAA/QAAAKsAAACr/QAAAAAAAHQgAAAoiwAA+//////////7////////////////////wP////////8AAAAAAAAAAP0AAACsAAAArP0AAAAAAADxDAAAKIsAAPv/////////+////////////////////8D/////////AAAAAAAAAAD9AAAArQAAAK39AAAAAAAAP10AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAK4AAACu/QAAAAAAAPheAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAACxAAAAsf0AAAAAAACDLQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAtQAAALX9AAAAAAAAuCAAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAALYAAAC2/QAAAAAAAE8NAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAC3AAAAt/0AAAAAAABsHwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAuAAAALj9AAAAAAAANgsAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAALkAAAC5/QAAAAAAANQhAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAC6AAAAuv0AAAAAAACiIQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAvAAAALz9AAAAAAAA5iEAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAL0AAAC9/QAAAAAAAHEQAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAC+AAAAvv0AAAAAAACjEAAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAvwAAAL/9AAAAAAAANR8AACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAMAAAADA/QAAAAAAACQzAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAADBAAAAwf0AAAAAAAAvNQAAKIsAAP//////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAwwAAAMP9AAAAAAAAUDAAACiLAAD///////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAMQAAADE/QAAAAAAAIAjAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAADHAAAAx/0AAAAAAADJIwAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAyAAAAMj9AAAAAAAAURIAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAMkAAADJ/QAAAAAAAJoSAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAADKAAAAyv0AAAAAAAC7LgAAKIsAAPv/////////+////////////////////8D/////////AAAAAAAAAAD9AAAAywAAAMv9AAAAAAAAiiAAACiLAAD7//////////v////////////////////A/////////wAAAAAAAAAA/QAAAMwAAADM/QAAAAAAAAcNAAAoiwAA+//////////7////////////////////wP////////8AAAAAAAAAAP0AAADNAAAAzf0AAAAAAABjXQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAAzgAAAM79AAAAAAAAHF8AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAANEAAADR/QAAAAAAAKctAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADVAAAA1f0AAAAAAABlKQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA1gAAANb9AAAAAAAA/TkAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAANcAAADX/QAAAAAAALYfAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADYAAAA2P0AAAAAAAD0HwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA2QAAANn9AAAAAAAALCEAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAANoAAADa/QAAAAAAAGohAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADbAAAA2/0AAAAAAABnIwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA3AAAANz9AAAAAAAAryMAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAN0AAADd/QAAAAAAADgSAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADeAAAA3v0AAAAAAACAEgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA3wAAAN/9AAAAAAAAbS4AACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAGcAAABn/QAAAAAAAEUoAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAABoAAAAaP0AAAAAAABsXgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAaQAAAGn9AAAAAAAAOBYAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAGoAAABq/QAAAAAAAIEuAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAB0AAAAdP0AAAAAAABbKAAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAAdQAAAHX9AAAAAAAAgl4AACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAHoAAAB6/QAAAAAAAFIWAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAACUAAAAlP0AAAAAAAAjHwAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAA4AAAAOD9AAAAAAAAEjMAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAOEAAADh/QAAAAAAAGwWAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAADjAAAA4/0AAAAAAABJXQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA5AAAAOT9AAAAAAAAAl8AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAOUAAADl/QAAAAAAAI0tAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADmAAAA5v0AAAAAAACWCgAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA5wAAAOf9AAAAAAAA1iwAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAOgAAADo/QAAAAAAAFYJAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADpAAAA6f0AAAAAAADALAAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA6gAAAOr9AAAAAAAAQAkAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAOsAAADr/QAAAAAAAD8fAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAADsAAAA7P0AAAAAAAAuMwAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAA7QAAAO39AAAAAAAAgBYAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAO8AAADv/QAAAAAAAG1dAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADwAAAA8P0AAAAAAAAmXwAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA8QAAAPH9AAAAAAAAsS0AACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAPIAAADy/QAAAAAAAKgKAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAADzAAAA8/0AAAAAAADoLAAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA9AAAAPT9AAAAAAAAaAkAACiLAAD7//////////v/////////+//////////A/////////wAAAAAAAAAA/QAAAPUAAAD1/QAAAAAAAMssAAAoiwAA+//////////7//////////v/////////wP////////8AAAAAAAAAAP0AAAD2AAAA9v0AAAAAAABLCQAAKIsAAPv/////////+//////////7/////////8D/////////AAAAAAAAAAD9AAAA9wAAAPf9AAAAAAAA4yMAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAPgAAAD4/QAAAAAAALQSAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAD5AAAA+f0AAAAAAACZIwAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAA+gAAAPr9AAAAAAAAahIAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAPsAAAD7/QAAAAAAAE0qAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAD8AAAA/P0AAAAAAAAwKgAAKIsAAPv/////////+//////////A/////////8D/////////AAAAAAAAAAD9AAAA/QAAAP39AAAAAAAATSMAACiLAAD7//////////v/////////wP/////////A/////////wAAAAAAAAAA/QAAAP4AAAD+/QAAAAAAAB4SAAAoiwAA+//////////7/////////8D/////////wP////////8AAAAAAAAAAP0AAAD/AAAA//0AAAAAAADvBAAAKIsAAP///////////////////////////////8D/////////BAAAAAAAAAD+AAAAAAAAAAD+AAAAAAAADmQAACiLAAD////////////////////////////////+/////////wQAAAAAAAAA/gAAAAEAAAAB/gAAAAAAAAxjAAAoiwAA//////////////////////7//////////v////////8IAAAAAAAAAP4AAAACAAAAAv4AAAAAAAAVPQAAKIsAAMD/////////wP/////////A/////////8D/////////AAAAAAAAAAD+AAAAAwAAAAP+AAAAAAAAl10AACiLAAD/////////////////////wP/////////A/////////wQAAAAAAAAA/gAAABAAAAAQ/gAAAAAAAIddAAAoiwAA/v///////////////////8D/////////wP////////8IAAAAAAAAAP4AAAARAAAAEf4AAAAAAAAIEQAAKIsAAP/////////////////////A/////////8D/////////AQAAAAAAAAD+AAAAEgAAABL+AAAAAAAAyxEAACiLAAD/////////////////////wP/////////A/////////wIAAAAAAAAA/gAAABMAAAAT/gAAAAAAAPUQAAAoiwAA/v///////////////////8D/////////wP////////8BAAAAAAAAAP4AAAAUAAAAFP4AAAAAAAC3EQAAKIsAAP7////////////////////A/////////8D/////////AgAAAAAAAAD+AAAAFQAAABX+AAAAAAAAxRMAACiLAAD+////////////////////wP/////////A/////////wQAAAAAAAAA/gAAABYAAAAW/gAAAAAAAAQ2AAAoiwAAwP//////////////////////////////wP////////8EAAAAAAAAAP4AAAAXAAAAF/4AAAAAAADzNQAAKIsAAMD////////////////////+/////////8D/////////CAAAAAAAAAD+AAAAGAAAABj+AAAAAAAAaWIAACiLAADA///////////////////////////////A/////////wEAAAAAAAAA/gAAABkAAAAZ/gAAAAAAAMNiAAAoiwAAwP//////////////////////////////wP////////8CAAAAAAAAAP4AAAAaAAAAGv4AAAAAAABXYgAAKIsAAMD////////////////////+/////////8D/////////AQAAAAAAAAD+AAAAGwAAABv+AAAAAAAAsGIAACiLAADA/////////////////////v/////////A/////////wIAAAAAAAAA/gAAABwAAAAc/gAAAAAAAFtkAAAoiwAAwP////////////////////7/////////wP////////8EAAAAAAAAAP4AAAAdAAAAHf4AAAAAAAAYXQAAKIsAAP///////////////////////////////8D/////////BAAAAAAAAAD+AAAAHgAAAB7+AAAAAAAABV0AACiLAAD+/////////////////////v/////////A/////////wgAAAAAAAAA/gAAAB8AAAAf/gAAAAAAAIEPAAAoiwAA////////////////////////////////wP////////8BAAAAAAAAAP4AAAAgAAAAIP4AAAAAAACuDwAAKIsAAP///////////////////////////////8D/////////AgAAAAAAAAD+AAAAIQAAACH+AAAAAAAAaw8AACiLAAD+/////////////////////v/////////A/////////wEAAAAAAAAA/gAAACIAAAAi/gAAAAAAAJcPAAAoiwAA/v////////////////////7/////////wP////////8CAAAAAAAAAP4AAAAjAAAAI/4AAAAAAADFDwAAKIsAAP7////////////////////+/////////8D/////////BAAAAAAAAAD+AAAAJAAAACT+AAAAAAAA0V4AACiLAAD////////////////////////////////A/////////wQAAAAAAAAA/gAAACUAAAAl/gAAAAAAAL5eAAAoiwAA/v////////////////////7/////////wP////////8IAAAAAAAAAP4AAAAmAAAAJv4AAAAAAADyDwAAKIsAAP///////////////////////////////8D/////////AQAAAAAAAAD+AAAAJwAAACf+AAAAAAAAHxAAACiLAAD////////////////////////////////A/////////wIAAAAAAAAA/gAAACgAAAAo/gAAAAAAANwPAAAoiwAA/v////////////////////7/////////wP////////8BAAAAAAAAAP4AAAApAAAAKf4AAAAAAAAIEAAAKIsAAP7////////////////////+/////////8D/////////AgAAAAAAAAD+AAAAKgAAACr+AAAAAAAANhAAACiLAAD+/////////////////////v/////////A/////////wQAAAAAAAAA/gAAACsAAAAr/gAAAAAAAHk+AAAoiwAA////////////////////////////////wP////////8EAAAAAAAAAP4AAAAsAAAALP4AAAAAAABmPgAAKIsAAP7////////////////////+/////////8D/////////CAAAAAAAAAD+AAAALQAAAC3+AAAAAAAAEA8AACiLAAD////////////////////////////////A/////////wEAAAAAAAAA/gAAAC4AAAAu/gAAAAAAAD0PAAAoiwAA////////////////////////////////wP////////8CAAAAAAAAAP4AAAAvAAAAL/4AAAAAAAD6DgAAKIsAAP7////////////////////+/////////8D/////////AQAAAAAAAAD+AAAAMAAAADD+AAAAAAAAJg8AACiLAAD+/////////////////////v/////////A/////////wIAAAAAAAAA/gAAADEAAAAx/gAAAAAAAFQPAAAoiwAA/v////////////////////7/////////wP////////8EAAAAAAAAAP4AAAAyAAAAMv4AAAAAAACDKAAAKIsAAP///////////////////////////////8D/////////BAAAAAAAAAD+AAAAMwAAADP+AAAAAAAAcSgAACiLAAD+/////////////////////v/////////A/////////wgAAAAAAAAA/gAAADQAAAA0/gAAAAAAAIIMAAAoiwAA////////////////////////////////wP////////8BAAAAAAAAAP4AAAA1AAAANf4AAAAAAACtDAAAKIsAAP///////////////////////////////8D/////////AgAAAAAAAAD+AAAANgAAADb+AAAAAAAAbQwAACiLAAD+/////////////////////v/////////A/////////wEAAAAAAAAA/gAAADcAAAA3/gAAAAAAAJcMAAAoiwAA/v////////////////////7/////////wP////////8CAAAAAAAAAP4AAAA4AAAAOP4AAAAAAADDDAAAKIsAAP7////////////////////+/////////8D/////////BAAAAAAAAAD+AAAAOQAAADn+AAAAAAAAEygAACiLAAD////////////////////////////////A/////////wQAAAAAAAAA/gAAADoAAAA6/gAAAAAAAAAoAAAoiwAA/v////////////////////7/////////wP////////8IAAAAAAAAAP4AAAA7AAAAO/4AAAAAAAASDAAAKIsAAP///////////////////////////////8D/////////AQAAAAAAAAD+AAAAPAAAADz+AAAAAAAAPwwAACiLAAD////////////////////////////////A/////////wIAAAAAAAAA/gAAAD0AAAA9/gAAAAAAAPwLAAAoiwAA/v////////////////////7/////////wP////////8BAAAAAAAAAP4AAAA+AAAAPv4AAAAAAAAoDAAAKIsAAP7////////////////////+/////////8D/////////AgAAAAAAAAD+AAAAPwAAAD/+AAAAAAAAVgwAACiLAAD+/////////////////////v/////////A/////////wQAAAAAAAAA/gAAAEAAAABA/gAAAAAAANAyAAAoiwAA////////////////////////////////wP////////8EAAAAAAAAAP4AAABBAAAAQf4AAAAAAAC8MgAAKIsAAP7////////////////////+/////////8D/////////CAAAAAAAAAD+AAAAQgAAAEL+AAAAAAAACw4AACiLAAD////////////////////////////////A/////////wEAAAAAAAAA/gAAAEMAAABD/gAAAAAAADoOAAAoiwAA////////////////////////////////wP////////8CAAAAAAAAAP4AAABEAAAARP4AAAAAAAD0DQAAKIsAAP7////////////////////+/////////8D/////////AQAAAAAAAAD+AAAARQAAAEX+AAAAAAAAIg4AACiLAAD+/////////////////////v/////////A/////////wIAAAAAAAAA/gAAAEYAAABG/gAAAAAAAFIOAAAoiwAA/v////////////////////7/////////wP////////8EAAAAAAAAAP4AAABHAAAAR/4AAAAAAACUMgAAKIsAAP//////////////////////////////////////////BAAAAAAAAAD+AAAASAAAAEj+AAAAAAAAfTIAACiLAAD+/////////////////////v/////////+/////////wgAAAAAAAAA/gAAAEkAAABJ/gAAAAAAAIkNAAAoiwAA//////////////////////////////////////////8BAAAAAAAAAP4AAABKAAAASv4AAAAAAAC+DQAAKIsAAP//////////////////////////////////////////AgAAAAAAAAD+AAAASwAAAEv+AAAAAAAAbw0AACiLAAD+/////////////////////v/////////+/////////wEAAAAAAAAA/gAAAEwAAABM/gAAAAAAAKMNAAAoiwAA/v////////////////////7//////////v////////8CAAAAAAAAAP4AAABNAAAATf4AAAAAAADZDQAAKIsAAP7////////////////////+//////////7/////////BAAAAAAAAAD+AAAATgAAAE7+AAAAAAAAE2IAACiLAADA/////////8D/////////wP/////////A/////////w=="),ue(ae,91936,"AQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAZAAAAGgAAABsAAAAcAAAAHQAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAAMoAAADLAAAAzAAAAM0AAADOAAAAzwAAANAAAADRAAAA0gAAANMAAADUAAAA1QAAANYAAADXAAAA2AAAAOUAAADIAQ=="),ue(ae,92148,"AQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAAAAAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABM="),ue(ae,92240,"FAAAABUAAAAWAAAAFwAAABg="),ue(ae,92272,"GQAAABoAAAAbAAAAHAAAAB0AAADRAAAA0gAAAAAAAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIAAAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAABOAAAATwAAAFAAAABRAAAAUgAAAFMAAABUAAAAVQAAAFYAAABXAAAAWAAAAFkAAABaAAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAZAAAAGUAAABmAAAAZwAAAGgAAABpAAAAagAAAGsAAABsAAAAbQAAAG4AAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAdgAAAHcAAAB4AAAAeQAAAHoAAAB7AAAAfAAAAH0AAAB+AAAAfwAAAIAAAACBAAAAggAAAIMAAACEAAAAhQAAAIYAAACHAAAAiAAAAIkAAACKAAAAiwAAAIwAAACNAAAAjgAAAI8AAACQAAAAkQAAAJIAAACTAAAAlAAAAJUAAACWAAAAlwAAAJgAAACZAAAAmgAAAJsAAACcAAAAnQAAAJ4AAACfAAAAoAAAAKEAAACiAAAAowAAAKQAAAClAAAApgAAAKcAAACoAAAAqQAAAKoAAACrAAAArAAAAK0AAACuAAAArwAAALAAAACxAAAAsgAAALMAAAC0AAAAtQAAALYAAAC3AAAAuAAAALkAAAC6"),ue(ae,92976,"1gAAANcAAADY"),ue(ae,93040,"uwAAALwAAAC9AAAAvgAAAL8AAADAAAAAwQ=="),ue(ae,350192,"wgAAAMMAAADEAAAAxQAAAMYAAADHAAAAyAAAAMkAAADKAAAAywAAAMwAAADNAAAAzgAAAM8AAADQAAAA0wAAANQAAADV"),ue(ae,351216,"2QAAANoAAADbAAAA3AAAAN0AAADeAAAA3wAAAOAAAADhAAAA4gAAAOMAAADkAAAA5QAAAOYAAADnAAAA6AAAAOkAAADqAAAA6wAAAOwAAADtAAAA7gAAAO8AAADwAAAA8QAAAPIAAADzAAAA9AAAAPUAAAD2AAAA9wAAAPgAAAD5AAAA+gAAAPsAAAD8AAAA/QAAAP4AAAD/AAAAAAEAAAEBAAACAQAAAwEAAAQBAAAFAQAABgEAAAcBAAAIAQAACQEAAAoBAAALAQAADAEAAA0BAAAOAQAADwEAABABAAARAQAAEgEAABMBAAAUAQAAFQEAABYBAAAXAQAAGAEAABkBAAAaAQAAGwEAABwBAAAdAQAAHgEAAB8BAAAgAQAAIQEAACIBAAAjAQAAJAEAACUBAAAmAQAAJwEAACgBAAApAQAAKgEAACsBAAAsAQAALQEAAC4BAAAvAQAAMAEAADEBAAAyAQAAMwEAADQBAAA1AQAANgEAADcBAAA4AQAAOQEAADoBAAA7AQAAPAEAAD0BAAA+AQAAPwEAAJ8BAACgAQAAoQEAAKIBAABAAQAAQQEAAEIBAABDAQAARAEAAEUBAABGAQAARwEAAEgBAACjAQAApAEAAEkBAABKAQAASwEAAEwBAAClAQAATQEAAE4BAABPAQAAUAEAAFEBAABSAQAAUwEAAFQBAABVAQAAVgEAAFcBAABYAQAAWQEAAFoBAABbAQAAXAEAAF0BAABeAQAAXwEAAGABAABhAQAAYgEAAGMBAABkAQAAZQEAAKYBAABmAQAAZwEAAGgBAABpAQAAagEAAAAAAABrAQAAbAEAAG0BAABuAQAAbwEAAHABAABxAQAAAAAAAHIBAABzAQ=="),ue(ae,351884,"dAEAAHUBAAB2AQAAdwEAAHgBAAB5AQAAegEAAHsB"),ue(ae,351924,"fAE="),ue(ae,351940,"fQEAAH4BAAB/AQAAgAEAAIEBAACCAQAAAAAAAIMBAACEAQAAhQEAAIYBAACHAQAAiAEAAAAAAACJAQAAigE="),ue(ae,352012,"iwEAAIwBAACNAQAAjgEAAI8BAACQAQAAkQEAAJIB"),ue(ae,352052,"kwE="),ue(ae,352068,"lAEAAJUBAACWAQAAlwEAAJgBAACZAQAAmgEAAJsBAACcAQAAnQEAAJ4BAACnAQAAqAEAAAAAAACpAQAAqgEAAKsBAACsAQAArQEAAK4BAACvAQAAsAEAALEBAACyAQAAswEAAAAAAAC0AQAAtQEAALYBAAC3AQAAuAEAALkBAAC6AQAAuwEAALwBAAC9AQAAvgEAAL8BAADAAQAAwQEAAMIBAADDAQAAxAEAAMUBAADGAQAAxwEAAMgB"),ue(ae,352304,"yQEAAMoBAADLAQAAzAEAAM0BAADOAQAAzwEAANABAADRAQAA0gEAANMBAADUAQAA1QEAANYBAADXAQAA2AEAANkBAADaAQAA2wEAANwBAADdAQAA3gEAAN8BAADgAQAA4QEAAOIBAADjAQAA5AEAAOUBAADmAQAA5wEAAOgBAADpAQAA6gEAAOsBAADsAQAA7QEAAO4BAADvAQAA8AEAAPEBAADyAQAA8wEAAPQBAAD1AQAA9gEAAPcBAAD4AQAA+QEAAPoBAAD7AQAA/AEAAP0BAAD+AQAA/wEAAAACAAABAgAAAgIAAAMCAAAEAgAABQIAAAYCAAAHAg=="),ue(ae,354288,"ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAABQ=="),ue(ae,354444,"1gM="),ue(ae,354468,"1wMAANgDAACs/gU="),ue(ae,354492,"Ag=="),ue(ae,354508,"//////////8="),ue(ae,354576,"oABW")}var O0=new ArrayBuffer(16),GE=new Int32Array(O0),jE=new Float32Array(O0),ZE=new Float64Array(O0);function F0(Un){return GE[Un]}function m2(Un,zo){GE[Un]=zo}function W_(){return ZE[0]}function V_(Un){ZE[0]=Un}function QE(){return jE[2]}function WZ(Un){jE[2]=Un}function VZ(Un){var zo=Un.a,ps=zo.buffer;zo.grow=uoe;var S=new Int8Array(ps),ns=new Int16Array(ps),e=new Int32Array(ps),y=new Uint8Array(ps),Yn=new Uint16Array(ps),nt=new Uint32Array(ps),In=new Float32Array(ps),B0=new Float64Array(ps),H=Math.imul,Ft=Math.fround,HZ=Math.abs,Gi=Math.clz32,Bc=Math.ceil,Ie=Un.abort,jf=1/0,Be=Un.b,YE=Un.c,UZ=Un.d,zZ=Un.e,GZ=Un.f,jZ=Un.g,ZZ=Un.h,b=5636256,At=0;function $E(i,r,n,o,a,c){var g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0,bi=0,Fi=0,Ii=0,Ti=0;De=b-80|0,b=De,v=De,e[v+32>>2]=0,e[v+36>>2]=0,e[v+52>>2]=0,e[v+56>>2]=0,e[v+60>>2]=0,e[v+64>>2]=0,e[v+68>>2]=0,e[v+72>>2]=0,e[v+24>>2]=0,e[v+28>>2]=0,e[v+20>>2]=c,e[v+16>>2]=a,e[v+8>>2]=36176,e[v+12>>2]=0,e[v+44>>2]=0,e[v+48>>2]=0,e[v+40>>2]=i,c=b-3248|0,b=c,a=c+2940|0,e[a>>2]=0,e[c+2936>>2]=n,e[c+2932>>2]=r,e[c+2928>>2]=n,n=e[o+20>>2],i=c+2944|0,e[i+16>>2]=0,Xe=v+8|0,r=Xe,e[i+12>>2]=r,e[i+8>>2]=n,e[i+4>>2]=0,e[i>>2]=46628,n=e[o+20>>2],v=c+2976|0,e[v>>2]=0,e[v+4>>2]=0,v=c+2984|0,e[v>>2]=0,e[v+4>>2]=0,v=c+2992|0,e[v>>2]=0,e[v+4>>2]=0,v=c+3e3|0,e[v>>2]=0,e[v+4>>2]=0,v=c+3008|0,e[v>>2]=0,e[v+4>>2]=0,v=c+3036|0,e[v>>2]=0,e[v+4>>2]=0,v=c+3044|0,e[v>>2]=0,e[v+4>>2]=0,e[c+3052>>2]=0,v=c+3064|0,e[v>>2]=0,e[v+4>>2]=0,e[c+2968>>2]=0,e[c+2972>>2]=0,e[c+3028>>2]=0,e[c+3032>>2]=0,ns[c+3024>>1]=0,e[c+3020>>2]=-1,e[c+3016>>2]=o,e[c+3056>>2]=-1,e[c+3060>>2]=0,e[c+2964>>2]=n?i:r,F[e[e[r>>2]+12>>2]](r,c+2928|4),r=e[a>>2],n=r+4|0,a=e[c+2928>>2];e:{t:{if(n>>>0>a>>>0){e[c+4>>2]=24248,e[c>>2]=7327,Q(c+2928|0,9787,c);break t}if(Ut=y[o+25|0],o=e[c+2932>>2],i=o+r|0,i=y[i|0]|y[i+1|0]<<8|(y[i+2|0]<<16|y[i+3|0]<<24),e[c+2940>>2]=n,(i|0)!=1836278016){Q(c+2928|0,13711,0);break t}if(r=r+8|0,r>>>0>a>>>0){e[c+20>>2]=11448,e[c+16>>2]=7327,Q(c+2928|0,9787,c+16|0);break t}if(i=n+o|0,i=y[i|0]|y[i+1|0]<<8|(y[i+2|0]<<16|y[i+3|0]<<24),e[c+2940>>2]=r,n=1,(i|0)!=1){e[c+2916>>2]=1,e[c+2912>>2]=i,Q(c+2928|0,27075,c+2912|0);break e}if(i=e[c+2964>>2],F[e[e[i>>2]+16>>2]](i,1)|0){Q(c+2928|0,23258,0);break t}if(ns[c+3078>>1]=0,ns[c+3080>>1]=0,ns[c+3082>>1]=0,ns[c+3084>>1]=0,e[c+3072>>2]=0,e[c+3076>>2]=0,n=e[c+2940>>2],n>>>0<nt[c+2936>>2]){i:{n:{if(V=e[c+2928>>2],V>>>0>n>>>0)for(oi=c+2968|0,bi=c+2980|0,v=c+2992|0;;){if(i=e[c+2932>>2],j=y[i+n|0],r=n+1|0,e[c+2940>>2]=r,i=qe(i+r|0,i+V|0,c+3152|0),!i){e[c+32>>2]=13407,Q(c+2928|0,10147,c+32|0);break t}i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,V=e[c+2928>>2],a=e[c+3152>>2],i=a+i|0,e[c+2928>>2]=i;s:{if(j>>>0>=14){if(e[c+64>>2]=j,Q(c+2928|0,5525,c- -64|0),Ut)break n;if(n=e[c+2928>>2],e[c+2940>>2]=n,e[c+2928>>2]=V,x=1,nt[c+2936>>2]>n>>>0)break s;break t}if(j){if(r=(c+3072|0)+j|0,y[r|0]){Ii=c,Ti=dp(j),e[Ii+2896>>2]=Ti,Q(c+2928|0,7521,c+2896|0),e[c+2928>>2]=V;break t}S[r|0]=1}if(i>>>0>nt[c+2936>>2]){Q(c+2928|0,15935,0),e[c+2928>>2]=V;break t}r:{if(!j|e[c+3020>>2]==-1||(OR(j)|0)>(OR(e[c+3020>>2])|0))break r;Ii=c,Ti=dp(j),e[Ii+2880>>2]=Ti,Q(c+2928|0,10430,c+2880|0),e[c+2928>>2]=V;break t}if(!(!y[c+3024|0]|!j)){Ii=c,Ti=dp(j),e[Ii+2864>>2]=Ti,Q(c+2928|0,11293,c+2864|0),e[c+2928>>2]=V;break t}if(i=e[c+2964>>2],F[e[e[i>>2]+24>>2]](i,He,j,a)|0){Q(c+2928|0,21672,0),e[c+2928>>2]=V;break t}i=e[c+3016>>2],r=y[i+25|0],at=(r|0)!=0;r:{l:{u:{a:{c:{o:{d:{m:{A:{w:{C:{_:{v:{f:{p:{k:{x:{N:{R:{E:{U:{z:{G:{j:{Z:{O:{V:{F:{D:{M:switch(j|0){case 0:if(e[c+3184>>2]=0,e[c+3188>>2]=0,n=1,(Ir(c+2928|0,c+3184|0,14958)|0)==1)break a;if(i=e[c+3188>>2],r=e[c+3184>>2],e[c+3176>>2]=r,e[c+3180>>2]=i,o=e[c+2964>>2],g=e[e[o>>2]+28>>2],e[c+1576>>2]=r,e[c+1580>>2]=i,F[g|0](o,He,a,c+1576|0)|0){Q(c+2928|0,21701,0);break a}if(n=i,i=r,pe=y[c+3025|0],S[c+3025|0]=1,o=e[c+3016>>2],r=n,!y[o+24|0]|(r|0)!=4)break D;if((y[i|0]|y[i+1|0]<<8|(y[i+2|0]<<16|y[i+3|0]<<24))!=1701667182)break F;if(i=e[c+2964>>2],!(F[e[e[i>>2]+652>>2]](i,a)|0)){o=0,i=0;g:{h:{if(r=e[c+2928>>2],n=e[c+2940>>2],r>>>0>n>>>0)for(;;){if(a=n,n=e[c+2932>>2],r=qe(a+n|0,r+n|0,c+3200|0),!r){e[c+96>>2]=14360,Q(c+2928|0,10147,c+96|0);break o}r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,p=e[c+3200>>2];b:{if(!o)break b;if((i|0)==(p|0)){Q(c+2928|0,11086,0);break o}if(i>>>0<=p>>>0)break b;Q(c+2928|0,11061,0);break o}if(i=e[c+2932>>2],i=qe(i+r|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+112>>2]=13385,Q(c+2928|0,10147,c+112|0);break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,r=e[c+2928>>2],n=i,i=e[c+3152>>2],n=n+i|0,r>>>0<n>>>0){Q(c+2928|0,15892,0);break o}e[c+2928>>2]=n;b:{if(g=e[c+3200>>2],(g|0)>10||(a=e[c+2964>>2],!(F[e[e[a>>2]+692>>2]](a,o,g,i)|0)))break b;Q(c+2928|0,20996,0),e[c+2928>>2]=r;break o}b:{S:{y:{L:{I:switch(g|0){case 0:if(a=e[c+2964>>2],F[e[e[a>>2]+656>>2]](a,o,e[c+3200>>2],i)|0){Q(c+2928|0,21067,0),e[c+2928>>2]=r;break o}if(!i)break b;if(e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,15041)|0)==1)break d;if(i=e[c+3156>>2],a=e[c+3152>>2],e[c+3240>>2]=a,e[c+3244>>2]=i,g=e[c+2964>>2],_=e[e[g>>2]+660>>2],e[c+136>>2]=a,e[c+140>>2]=i,!(F[_|0](g,c+136|0)|0))break b;Q(c+2928|0,23229,0),e[c+2928>>2]=r;break o;case 1:if(a=e[c+2964>>2],F[e[e[a>>2]+664>>2]](a,o,e[c+3200>>2],i)|0){Q(c+2928|0,20955,0),e[c+2928>>2]=r;break o}if(!i)break b;if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+144>>2]=6298,Q(c+2928|0,10147,c+144|0),e[c+2928>>2]=r;break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,g=e[c+3152>>2],i=e[c+2928>>2]-i|0,g>>>0>i>>>0){e[c+168>>2]=i,e[c+164>>2]=g,e[c+160>>2]=6298,Q(c+2928|0,11247,c+160|0),e[c+2928>>2]=r;break o}if(i=e[c+2964>>2],!(F[e[e[i>>2]+668>>2]](i,g)|0)){if(!g)break b;for(_=0,i=-1;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,a=e[c+2932>>2],a=qe(a+e[c+2940>>2]|0,a+e[c+2928>>2]|0,c+3208|0),!a){e[c+176>>2]=1565,Q(c+2928|0,10147,c+176|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=a+e[c+2940>>2],a=e[c+3208>>2],(a|0)==(i|0)){e[c+192>>2]=i,Q(c+2928|0,5497,c+192|0),e[c+2928>>2]=r;break o}if(!((i|0)==-1|i>>>0<a>>>0)){e[c+224>>2]=a,Q(c+2928|0,5399,c+224|0),e[c+2928>>2]=r;break o}if(a>>>0>=e[c+3048>>2]+e[c+3028>>2]>>>0){e[c+208>>2]=a,Q(c+2928|0,5253,c+208|0),e[c+2928>>2]=r;break o}if((Ir(c+2928|0,c+3152|0,14937)|0)==1)break d;if(i=e[c+3156>>2],L=e[c+3152>>2],e[c+3232>>2]=L,e[c+3236>>2]=i,M=e[c+2964>>2],X=e[e[M>>2]+672>>2],e[c+200>>2]=L,e[c+204>>2]=i,F[X|0](M,a,c+200|0)|0){Q(c+2928|0,23170,0),e[c+2928>>2]=r;break o}if(i=a,_=_+1|0,(g|0)==(_|0))break}break b}Q(c+2928|0,17582,0),e[c+2928>>2]=r;break o;case 2:break S;case 4:case 5:case 6:case 7:case 8:case 9:case 10:break I;default:break L}if(!i)break L;if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+400>>2]=6298,Q(c+2928|0,10147,c+400|0),e[c+2928>>2]=r;break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,a=e[c+3152>>2],i=e[c+2928>>2]-i|0,a>>>0>i>>>0){e[c+424>>2]=i,e[c+420>>2]=a,e[c+416>>2]=6298,Q(c+2928|0,11247,c+416|0),e[c+2928>>2]=r;break o}if(i=e[c+2964>>2],F[e[e[i>>2]+696>>2]](i,a)|0)break y;if(i=0,!a)break L;for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,_=e[c+2932>>2],_=qe(_+e[c+2940>>2]|0,_+e[c+2928>>2]|0,c+3208|0),!_){e[c+432>>2]=2219,Q(c+2928|0,10147,c+432|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=_+e[c+2940>>2],L=e[c+3208>>2],(Ir(c+2928|0,c+3152|0,15087)|0)==1)break d;if(_=e[c+3156>>2],M=e[c+3152>>2],e[c+3216>>2]=M,e[c+3220>>2]=_,X=e[c+2964>>2],se=e[e[X>>2]+700>>2],e[c+440>>2]=M,e[c+444>>2]=_,F[se|0](X,g,L,c+440|0)|0){Q(c+2928|0,16992,0),e[c+2928>>2]=r;break o}if(i=i+1|0,(a|0)==(i|0))break}}e[c+2940>>2]=n;break b}Q(c+2928|0,18023,0),e[c+2928>>2]=r;break o}if(a=e[c+2964>>2],F[e[e[a>>2]+676>>2]](a,o,e[c+3200>>2],i)|0){Q(c+2928|0,21029,0),e[c+2928>>2]=r;break o}if(!i)break b;if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+240>>2]=6071,Q(c+2928|0,10147,c+240|0),e[c+2928>>2]=r;break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,L=e[c+3152>>2],i=e[c+2928>>2]-i|0,L>>>0>i>>>0){e[c+264>>2]=i,e[c+260>>2]=L,e[c+256>>2]=6071,Q(c+2928|0,11247,c+256|0),e[c+2928>>2]=r;break o}if(i=e[c+2964>>2],F[e[e[i>>2]+680>>2]](i,L)|0)break h;if(!L)break b;for(X=0,i=-1;;){if(a=e[c+2932>>2],a=qe(a+e[c+2940>>2]|0,a+e[c+2928>>2]|0,c+3152|0),!a){e[c+272>>2]=1565,Q(c+2928|0,10147,c+272|0),e[c+2928>>2]=r;break o}if(g=a+e[c+2940>>2]|0,e[c+2940>>2]=g,a=e[c+3152>>2],a>>>0>=e[c+3048>>2]+e[c+3028>>2]>>>0){e[c+384>>2]=a,Q(c+2928|0,5253,c+384|0),e[c+2928>>2]=r;break o}if(!((i|0)==-1|i>>>0<a>>>0)){e[c+368>>2]=a,Q(c+2928|0,5392,c+368|0),e[c+2928>>2]=r;break o}if(i=e[c+2932>>2],i=qe(i+g|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+288>>2]=6221,Q(c+2928|0,10147,c+288|0),e[c+2928>>2]=r;break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,M=e[c+3152>>2],i=e[c+2928>>2]-i|0,M>>>0>i>>>0){e[c+312>>2]=i,e[c+308>>2]=M,e[c+304>>2]=6221,Q(c+2928|0,11247,c+304|0),e[c+2928>>2]=r;break o}if(i=e[c+2964>>2],F[e[e[i>>2]+684>>2]](i,a,M)|0)break g;if(M)for(_=0,i=-1;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,g=e[c+2932>>2],g=qe(g+e[c+2940>>2]|0,g+e[c+2928>>2]|0,c+3208|0),!g){e[c+320>>2]=2118,Q(c+2928|0,10147,c+320|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=g+e[c+2940>>2],g=e[c+3208>>2],(g|0)==(i|0)){e[c+336>>2]=i,Q(c+2928|0,5280,c+336|0),e[c+2928>>2]=r;break o}if(!((i|0)==-1|i>>>0<g>>>0)){e[c+352>>2]=g,Q(c+2928|0,5431,c+352|0),e[c+2928>>2]=r;break o}if((Ir(c+2928|0,c+3152|0,15087)|0)==1)break d;if(i=e[c+3156>>2],se=e[c+3152>>2],e[c+3224>>2]=se,e[c+3228>>2]=i,Ct=e[c+2964>>2],Fi=e[e[Ct>>2]+688>>2],e[c+344>>2]=se,e[c+348>>2]=i,F[Fi|0](Ct,a,g,c+344|0)|0){Q(c+2928|0,23201,0),e[c+2928>>2]=r;break o}if(i=g,_=_+1|0,(M|0)==(_|0))break}if(i=a,X=X+1|0,(L|0)==(X|0))break}}if(e[c+2940>>2]!=(n|0)){e[c+128>>2]=n,Q(c+2928|0,26764,c+128|0),e[c+2928>>2]=r;break o}if(o=o+1|0,e[c+2928>>2]=r,i=p,!(r>>>0>n>>>0))break}if(i=e[c+2964>>2],F[e[e[i>>2]+704>>2]](i)|0){Q(c+2928|0,21568,0);break o}S[c+3024|0]=1;break C}Q(c+2928|0,17765,0),e[c+2928>>2]=r;break o}Q(c+2928|0,17869,0),e[c+2928>>2]=r;break o}Q(c+2928|0,21534,0);break o;default:if(!r)break l;break n;case 12:if(!y[i+9|0]){e[c+2832>>2]=12,Q(c+2928|0,5525,c+2832|0),e[c+2928>>2]=V;break t}i=e[c+2964>>2];g:{if(F[e[e[i>>2]+640>>2]](i,a)|0){Q(c+2928|0,21376,0),n=1;break g}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2848>>2]=6381,Q(c+2928|0,10147,c+2848|0),n=1;break g}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],r=e[c+3152>>2],F[e[e[i>>2]+644>>2]](i,r)|0){Q(c+2928|0,18221,0),n=1;break g}if(i=e[c+2964>>2],F[e[e[i>>2]+648>>2]](i)|0){Q(c+2928|0,21414,0),n=1;break g}e[c+3056>>2]=r,n=0}x=n|(x|0)==1;break u;case 13:if(!y[i|0]){e[c+2752>>2]=13,Q(c+2928|0,5525,c+2752|0),e[c+2928>>2]=V;break t}i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+840>>2]](i,a)|0){Q(c+2928|0,22039,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2768>>2]=6246,Q(c+2928|0,10147,c+2768|0);break h}if(r=i+e[c+2940>>2]|0,e[c+2940>>2]=r,i=e[c+3152>>2],r=e[c+2928>>2]-r|0,i>>>0>r>>>0){e[c+2792>>2]=r,e[c+2788>>2]=i,e[c+2784>>2]=6246,Q(c+2928|0,11247,c+2784|0);break h}b:{S:{if(r=e[c+2964>>2],!(F[e[e[r>>2]+844>>2]](r,i)|0)){if(o=0,i)break S;break b}Q(c+2928|0,17937,0);break h}for(;;){if(n=e[c+2940>>2],r=n+1|0,a=e[c+2928>>2],r>>>0>a>>>0){e[c+2804>>2]=13727,e[c+2800>>2]=7319,Q(c+2928|0,9787,c+2800|0);break h}if(g=e[c+3044>>2],p=n,n=e[c+2932>>2],p=y[p+n|0],e[c+2940>>2]=r,p){Q(c+2928|0,26214,0);break h}if(r=qe(r+n|0,n+a|0,c+3152|0),!r){e[c+2816>>2]=1858,Q(c+2928|0,10147,c+2816|0);break h}if(e[c+2940>>2]=r+e[c+2940>>2],r=e[c+2964>>2],!(F[e[e[r>>2]+848>>2]](r,o+g|0,e[c+3152>>2])|0)){if(o=o+1|0,(i|0)==(o|0))break b;continue}break}Q(c+2928|0,23088,0);break h}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+852>>2]](i)|0))break g;Q(c+2928|0,22071,0)}n=1}x=n|(x|0)==1;break u;case 11:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+608>>2]](i,a)|0){Q(c+2928|0,22441,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2624>>2]=5972,Q(c+2928|0,10147,c+2624|0);break h}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,n=e[c+3152>>2],i=e[c+2928>>2]-i|0,n>>>0>i>>>0){e[c+2648>>2]=i,e[c+2644>>2]=n,e[c+2640>>2]=5972,Q(c+2928|0,11247,c+2640|0);break h}if(i=e[c+2964>>2],F[e[e[i>>2]+612>>2]](i,n)|0){Q(c+2928|0,17517,0);break h}if(i=e[c+3056>>2],!((i|0)!=-1&(i|0)!=(n|0))){if(r=0,n)for(;;){if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3240|0),!i){e[c+2656>>2]=7684,Q(c+2928|0,10147,c+2656|0);break h}a=i+e[c+2940>>2]|0,e[c+2940>>2]=a,i=0;b:{S:{o=e[c+3240>>2];y:{if(!o){o=0;break y}if(!y[e[c+3016>>2]+9|0]){e[c+2704>>2]=o,Q(c+2928|0,16105,c+2704|0);break h}if(o>>>0>=8){e[c+2720>>2]=o,Q(c+2928|0,2551,c+2720|0);break h}if(!(o&2))break y;if(i=e[c+2932>>2],i=qe(i+a|0,i+e[c+2928>>2]|0,c+3152|0),!i)break S;e[c+2940>>2]=i+e[c+2940>>2],i=e[c+3152>>2],o=e[c+3240>>2]}if(a=e[c+2964>>2],F[e[e[a>>2]+616>>2]](a,r,i,o&255)|0){Q(c+2928|0,18313,0);break h}y:{if(S[c+3240|0]&1)break y;if(e[c+3064>>2]==e[c+3060>>2]){Q(c+2928|0,10774,0);break h}if(i=e[c+2964>>2],F[e[e[i>>2]+620>>2]](i,r)|0){Q(c+2928|0,19044,0);break h}if((U_(c+2928|0,1,e[c+2928>>2],0)|0)==1)break h;if(i=e[c+2964>>2],!(F[e[e[i>>2]+624>>2]](i,r)|0))break y;Q(c+2928|0,19085,0);break h}if(e[c+3152>>2]=0,i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2672>>2]=13525,Q(c+2928|0,10147,c+2672|0);break h}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,o=e[c+3152>>2],a=o+i|0,a>>>0>nt[c+2928>>2]){e[c+2688>>2]=24397,Q(c+2928|0,10063,c+2688|0);break h}if(e[c+2940>>2]=a,a=e[c+2964>>2],F[e[e[a>>2]+628>>2]](a,r,i+e[c+2932>>2]|0,o,0)|0){Q(c+2928|0,23552,0);break h}if(i=e[c+2964>>2],!(F[e[e[i>>2]+632>>2]](i,r)|0))break b;Q(c+2928|0,18346,0);break h}e[c+2736>>2]=1426,Q(c+2928|0,10147,c+2736|0);break h}if(r=r+1|0,(n|0)==(r|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+636>>2]](i)|0))break g;Q(c+2928|0,22474,0);break h}Q(c+2928|0,11186,0)}n=1}x=n|(x|0)==1;break u;case 10:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+200>>2]](i,a)|0){Q(c+2928|0,22231,0);break h}if(i=e[c+2932>>2],r=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!r){e[c+2528>>2]=5907,Q(c+2928|0,10147,c+2528|0);break h}if(i=e[c+3152>>2],e[c+3052>>2]=i,r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,r=e[c+2928>>2]-r|0,r>>>0<i>>>0){e[c+2552>>2]=r,e[c+2548>>2]=i,e[c+2544>>2]=5907,Q(c+2928|0,11247,c+2544|0);break h}if((i|0)!=e[c+3048>>2]){Q(c+2928|0,5879,0);break h}if(r=e[c+2964>>2],!(F[e[e[r>>2]+204>>2]](r,i)|0)){if(_=0,e[c+3052>>2])for(;;){if(i=e[c+3028>>2],r=e[c+2932>>2],r=qe(r+e[c+2940>>2]|0,r+e[c+2928>>2]|0,c+3232|0),!r){e[c+2560>>2]=13321,Q(c+2928|0,10147,c+2560|0);break h}if(M=r+e[c+2940>>2]|0,e[c+2940>>2]=M,r=e[c+2964>>2],X=i+_|0,pe=e[c+3232>>2],F[e[e[r>>2]+208>>2]](r,X,pe)|0){Q(c+2928|0,17076,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2576>>2]=6086,Q(c+2928|0,10147,c+2576|0);break h}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,r=e[c+3152>>2],i=e[c+2928>>2]-i|0,r>>>0>i>>>0){e[c+2600>>2]=i,e[c+2596>>2]=r,e[c+2592>>2]=6086,Q(c+2928|0,11247,c+2592|0);break h}b:{if(i=e[c+2964>>2],!(F[e[e[i>>2]+212>>2]](i,r)|0)){if(r)for(n=0,a=0,o=0;;){if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2608>>2]=6281,Q(c+2928|0,10147,c+2608|0);break h}if(e[c+2940>>2]=i+e[c+2940>>2],i=a,se=e[c+3152>>2],a=se,i=i+a|0,o=i>>>0<a>>>0?o+1|0:o,a=i,!o&(i|0)==-1|o){Q(c+2928|0,25975,0);break h}if((Ra(c+2928|0,c+3152|0,14191)|0)==1)break h;i=14176,g=e[c+3016>>2],p=e[c+3156>>2];S:{y:{L:{I:{T:{P:switch(L=e[c+3152>>2],L+21|0){case 17:case 18:case 19:case 20:break L;case 16:break I;case 0:break T;case 4:case 5:break P;default:break y}if(y[g+10|0])break L;break y}if(y[g+6|0])break L;break y}if(!y[g+4|0])break y}if(e[c+3240>>2]=L,e[c+3244>>2]=p,i=e[c+2964>>2],g=e[e[i>>2]+216>>2],e[c+2616>>2]=L,e[c+2620>>2]=p,!(F[g|0](i,n,se,c+2616|0)|0))break S;i=22764}Q(c+2928|0,i,0);break h}if(n=n+1|0,(r|0)==(n|0))break}if(i=M+pe|0,y[e[c+3016>>2]+27|0]){e[c+2940>>2]=i;break b}if(e[c+3152>>2]=520,(U_(c+2928|0,0,i,c+3152|0)|0)==1)break h;if(r=c+2928|0,(i|0)!=e[c+2940>>2])i=13420;else{if(e[c+3152>>2]==10)break b;i=15580}Q(r,i,0);break h}Q(c+2928|0,17836,0);break h}if(i=e[c+2964>>2],F[e[e[i>>2]+532>>2]](i,X)|0){Q(c+2928|0,17110,0);break h}if(_=_+1|0,!(_>>>0<nt[c+3052>>2]))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+536>>2]](i)|0))break g;Q(c+2928|0,22264,0);break h}Q(c+2928|0,17314,0)}n=1}x=n|(x|0)==1;break u;case 9:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+564>>2]](i,a)|0){Q(c+2928|0,21769,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2304>>2]=5953,Q(c+2928|0,10147,c+2304|0);break h}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,n=e[c+3152>>2],i=e[c+2928>>2]-i|0,n>>>0>i>>>0){e[c+2328>>2]=i,e[c+2324>>2]=n,e[c+2320>>2]=5953,Q(c+2928|0,11247,c+2320|0);break h}if(i=e[c+2964>>2],!(F[e[e[i>>2]+568>>2]](i,n)|0)){r=0;b:{if(n)for(;;){if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3216|0),!i){e[c+2336>>2]=7665,Q(c+2928|0,10147,c+2336|0);break h}if(a=i+e[c+2940>>2]|0,e[c+2940>>2]=a,o=e[c+3216>>2],o>>>0>=8){e[c+2352>>2]=o,Q(c+2928|0,2519,c+2352|0);break h}i=0;S:{y:{L:{if((o&3)==2){if(i=e[c+2932>>2],i=qe(i+a|0,i+e[c+2928>>2]|0,c+3152|0),!i)break L;e[c+2940>>2]=i+e[c+2940>>2],o=e[c+3216>>2],i=e[c+3152>>2]}if(e[c+3240>>2]=-16,e[c+3244>>2]=-1,a=e[c+2964>>2],F[e[e[a>>2]+572>>2]](a,r,i,o&255)|0){Q(c+2928|0,18249,0);break h}if(o=e[c+3216>>2],!(o&1)){if(i=e[c+2964>>2],F[e[e[i>>2]+576>>2]](i,r)|0){Q(c+2928|0,18964,0);break h}if((U_(c+2928|0,1,e[c+2928>>2],0)|0)==1)break h;if(i=e[c+2964>>2],F[e[e[i>>2]+580>>2]](i,r)|0)break y;o=e[c+3216>>2]}if(!(o&3)){a=e[c+3240>>2],o=e[c+3244>>2];break S}if(o&4){e[c+3152>>2]=0,i=e[c+2932>>2],i=jc(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0);I:{if(!i){i=10177;break I}if(e[c+2940>>2]=i+e[c+2940>>2],o=-1,a=e[c+3152>>2],e[c+3240>>2]=a,e[c+3244>>2]=-1,i=14370,g=a+21|0,g>>>0>5)break I;if(1<<g&49)break S}e[c+2512>>2]=14104,Q(c+2928|0,i,c+2512|0);break h}if(i=e[c+2940>>2],o=i+1|0,o>>>0>nt[c+2928>>2]){e[c+2468>>2]=15838,e[c+2464>>2]=7319,Q(c+2928|0,9787,c+2464|0);break h}if(i=y[i+e[c+2932>>2]|0],e[c+2940>>2]=o,i>>>0>=5){e[c+2496>>2]=i,Q(c+2928|0,24123,c+2496|0);break h}if(a=-16,o=-1,!i)break S;if(i=c+3152|0,ci(i,c+3240|0),e[c+2480>>2]=S[c+3163|0]<0?e[c+3152>>2]:i,Q(c+2928|0,27618,c+2480|0),S[c+3163|0]>=0)break h;P(e[c+3152>>2]);break h}e[c+2368>>2]=1949,Q(c+2928|0,10147,c+2368|0);break h}Q(c+2928|0,19005,0);break h}if(e[c+3232>>2]=a,e[c+3236>>2]=o,i=e[c+2964>>2],g=e[e[i>>2]+584>>2],e[c+2456>>2]=a,e[c+2460>>2]=o,F[g|0](i,r,c+2456|0)|0){Q(c+2928|0,23050,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2384>>2]=6172,Q(c+2928|0,10147,c+2384|0);break h}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,g=e[c+3152>>2],i=e[c+2928>>2]-i|0,g>>>0>i>>>0){e[c+2408>>2]=i,e[c+2404>>2]=g,e[c+2400>>2]=6172,Q(c+2928|0,11247,c+2400|0);break h}if(i=e[c+2964>>2],F[e[e[i>>2]+588>>2]](i,r,g)|0)break b;if(o=0,g)for(;;){S:{if(y[c+3216|0]&4){if((qk(c+2928|0,c+3208|0,15545)|0)==1)break h;y:{L:switch(e[c+3208>>2]-214|0){case 0:e[c+3152>>2]=0;I:{i=e[c+2932>>2],i=jc(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0);T:{if(!i){a=10177;break T}if(e[c+2940>>2]=i+e[c+2940>>2],a=14370,i=e[c+3152>>2],p=i+21|0,p>>>0>5)break T;if(1<<p&49)break I}e[c+2432>>2]=14152,Q(c+2928|0,a,c+2432|0);break h}if(e[c+3224>>2]=i,e[c+3228>>2]=-1,a=e[c+2964>>2],p=e[e[a>>2]+592>>2],e[c+2440>>2]=i,e[c+2444>>2]=-1,!(F[p|0](a,r,c+2440|0)|0))break y;Q(c+2928|0,22718,0);break h;case 2:if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2448>>2]=2177,Q(c+2928|0,10147,c+2448|0);break h}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],!(F[e[e[i>>2]+596>>2]](i,r,e[c+3152>>2])|0))break y;Q(c+2928|0,23475,0);break h;default:break L}Q(c+2928|0,6524,0)}if((qk(c+2928|0,c+3208|0,15612)|0)==1)break h;if(e[c+3208>>2]==10)break S;Q(c+2928|0,11355,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2416>>2]=2177,Q(c+2928|0,10147,c+2416|0);break h}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],!(F[e[e[i>>2]+596>>2]](i,r,e[c+3152>>2])|0))break S;Q(c+2928|0,23475,0);break h}if(o=o+1|0,(g|0)==(o|0))break}if(i=e[c+2964>>2],F[e[e[i>>2]+600>>2]](i,r)|0){Q(c+2928|0,18282,0);break h}if(r=r+1|0,(n|0)==(r|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+604>>2]](i)|0))break g;Q(c+2928|0,21802,0);break h}Q(c+2928|0,17619,0);break h}Q(c+2928|0,17482,0)}n=1}x=n|(x|0)==1;break u;case 8:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+188>>2]](i,a)|0){Q(c+2928|0,21310,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2288>>2]=1493,Q(c+2928|0,10147,c+2288|0);break h}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+192>>2]](i,e[c+3152>>2])|0){Q(c+2928|0,20865,0);break h}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+196>>2]](i)|0))break g;Q(c+2928|0,21344,0)}n=1}x=n|(x|0)==1;break u;case 7:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+172>>2]](i,a)|0){Q(c+2928|0,21174,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2208>>2]=5927,Q(c+2928|0,10147,c+2208|0);break h}if(r=i+e[c+2940>>2]|0,e[c+2940>>2]=r,i=e[c+3152>>2],r=e[c+2928>>2]-r|0,i>>>0>r>>>0){e[c+2232>>2]=r,e[c+2228>>2]=i,e[c+2224>>2]=5927,Q(c+2928|0,11247,c+2224|0);break h}if(r=e[c+2964>>2],!(F[e[e[r>>2]+176>>2]](r,i)|0)){if(o=0,i)for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,14971)|0)==1)break h;if(r=e[c+2940>>2],n=r+1|0,g=e[c+2928>>2],n>>>0>g>>>0){e[c+2244>>2]=15838,e[c+2240>>2]=7319,Q(c+2928|0,9787,c+2240|0);break h}if(a=e[c+2932>>2],r=y[a+r|0],e[c+2940>>2]=n,r>>>0>=5){e[c+2272>>2]=r,Q(c+2928|0,24123,c+2272|0);break h}if(n=qe(n+a|0,a+g|0,c+3232|0),!n){e[c+2256>>2]=1600,Q(c+2928|0,10147,c+2256|0);break h}if(e[c+2940>>2]=n+e[c+2940>>2],a=e[c+3232>>2],!(y[e[c+3016>>2]]|(r|0)!=4)){Q(c+2928|0,16229,0);break h}if(n=e[c+3156>>2],g=e[c+3152>>2],e[c+3240>>2]=g,e[c+3244>>2]=n,p=e[c+2964>>2],_=e[e[p>>2]+180>>2],e[c+2264>>2]=g,e[c+2268>>2]=n,F[_|0](p,o,r,a,c+2264|0)|0){Q(c+2928|0,17172,0);break h}if(o=o+1|0,(i|0)==(o|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+184>>2]](i)|0))break g;Q(c+2928|0,21209,0);break h}Q(c+2928|0,17350,0)}n=1}x=n|(x|0)==1;break u;case 6:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+144>>2]](i,a)|0){Q(c+2928|0,21833,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2160>>2]=6233,Q(c+2928|0,10147,c+2160|0);break h}if(r=i+e[c+2940>>2]|0,e[c+2940>>2]=r,i=e[c+3152>>2],r=e[c+2928>>2]-r|0,i>>>0>r>>>0){e[c+2184>>2]=r,e[c+2180>>2]=i,e[c+2176>>2]=6233,Q(c+2928|0,11247,c+2176|0);break h}if(r=e[c+2964>>2],!(F[e[e[r>>2]+148>>2]](r,i)|0)){if(o=0,i)for(;;){if(n=e[c+3040>>2],(mT(c+2928|0,c+3152|0,c+3232|0)|0)==1)break h;if(r=e[c+3156>>2],a=e[c+3152>>2],e[c+3240>>2]=a,e[c+3244>>2]=r,g=e[c+2964>>2],p=e[e[g>>2]+152>>2],e[c+2200>>2]=a,e[c+2204>>2]=r,r=n+o|0,F[p|0](g,r,c+2200|0,y[c+3232|0])|0){Q(c+2928|0,22823,0);break h}if(n=e[c+2964>>2],F[e[e[n>>2]+156>>2]](n,r)|0){Q(c+2928|0,19124,0);break h}if((U_(c+2928|0,1,e[c+2928>>2],0)|0)==1)break h;if(n=e[c+2964>>2],F[e[e[n>>2]+160>>2]](n,r)|0){Q(c+2928|0,19160,0);break h}if(n=e[c+2964>>2],F[e[e[n>>2]+164>>2]](n,r)|0){Q(c+2928|0,22851,0);break h}if(o=o+1|0,(i|0)==(o|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+168>>2]](i)|0))break g;Q(c+2928|0,21868,0);break h}Q(c+2928|0,17907,0)}n=1}x=n|(x|0)==1;break u;case 5:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+128>>2]](i,a)|0){Q(c+2928|0,21106,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2128>>2]=5866,Q(c+2928|0,10147,c+2128|0);break h}if(r=i+e[c+2940>>2]|0,e[c+2940>>2]=r,i=e[c+3152>>2],r=e[c+2928>>2]-r|0,i>>>0>r>>>0){e[c+2152>>2]=r,e[c+2148>>2]=i,e[c+2144>>2]=5866,Q(c+2928|0,11247,c+2144|0);break h}if(r=e[c+2964>>2],!(F[e[e[r>>2]+132>>2]](r,i)|0)){if(n=0,i)for(;;){if(o=e[c+3036>>2],r=c+3167|0,S[r|0]=0,S[r+1|0]=0,S[r+2|0]=0,S[r+3|0]=0,r=c+3160|0,e[r>>2]=0,e[r+4>>2]=0,e[c+3152>>2]=0,e[c+3156>>2]=0,(AN(c+2928|0,c+3152|0)|0)==1)break h;if(r=e[c+2964>>2],F[e[e[r>>2]+136>>2]](r,n+o|0,c+3152|0)|0){Q(c+2928|0,17051,0);break h}if(n=n+1|0,(i|0)==(n|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+140>>2]](i)|0))break g;Q(c+2928|0,21141,0);break h}Q(c+2928|0,17284,0)}n=1}x=n|(x|0)==1;break u;case 4:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+112>>2]](i,a)|0){Q(c+2928|0,22165,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+2080>>2]=6309,Q(c+2928|0,10147,c+2080|0);break h}if(r=i+e[c+2940>>2]|0,e[c+2940>>2]=r,i=e[c+3152>>2],r=e[c+2928>>2]-r|0,i>>>0>r>>>0){e[c+2104>>2]=r,e[c+2100>>2]=i,e[c+2096>>2]=6309,Q(c+2928|0,11247,c+2096|0);break h}if(r=e[c+2964>>2],!(F[e[e[r>>2]+116>>2]](r,i)|0)){if(n=0,i)for(;;){if(o=e[c+3032>>2],r=c+3167|0,S[r|0]=0,S[r+1|0]=0,S[r+2|0]=0,S[r+3|0]=0,r=c+3160|0,e[r>>2]=0,e[r+4>>2]=0,e[c+3152>>2]=0,e[c+3156>>2]=0,(VN(c+2928|0,c+3240|0,c+3152|0)|0)==1)break h;if(r=e[c+3244>>2],a=e[c+3240>>2],e[c+3232>>2]=a,e[c+3236>>2]=r,g=e[c+2964>>2],p=e[e[g>>2]+120>>2],e[c+2120>>2]=a,e[c+2124>>2]=r,F[p|0](g,n+o|0,c+2120|0,c+3152|0)|0){Q(c+2928|0,23342,0);break h}if(n=n+1|0,(i|0)==(n|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+124>>2]](i)|0))break g;Q(c+2928|0,22199,0);break h}Q(c+2928|0,18051,0)}n=1}x=n|(x|0)==1;break u;case 3:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+96>>2]](i,a)|0){Q(c+2928|0,21600,0);break h}if(i=e[c+2932>>2],r=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!r){e[c+2032>>2]=6256,Q(c+2928|0,10147,c+2032|0);break h}if(i=e[c+3152>>2],e[c+3048>>2]=i,r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,r=e[c+2928>>2]-r|0,r>>>0<i>>>0){e[c+2056>>2]=r,e[c+2052>>2]=i,e[c+2048>>2]=6256,Q(c+2928|0,11247,c+2048|0);break h}b:{S:{if(r=e[c+2964>>2],!(F[e[e[r>>2]+100>>2]](r,i)|0)){if(n=0,e[c+3048>>2])break S;break b}Q(c+2928|0,17733,0);break h}for(;;){if(i=e[c+3028>>2],r=e[c+2932>>2],r=qe(r+e[c+2940>>2]|0,r+e[c+2928>>2]|0,c+3152|0),!r){e[c+2064>>2]=1833,Q(c+2928|0,10147,c+2064|0);break h}if(e[c+2940>>2]=r+e[c+2940>>2],r=e[c+2964>>2],!(F[e[e[r>>2]+104>>2]](r,i+n|0,e[c+3152>>2])|0)){if(n=n+1|0,n>>>0>=nt[c+3048>>2])break b;continue}break}Q(c+2928|0,20928,0);break h}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+108>>2]](i)|0))break g;Q(c+2928|0,21637,0)}n=1}x=n|(x|0)==1;break u;case 2:i=e[c+2964>>2];g:{h:{if(F[e[e[i>>2]+60>>2]](i,a)|0){Q(c+2928|0,21242,0);break h}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+1808>>2]=5940,Q(c+2928|0,10147,c+1808|0);break h}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,g=e[c+3152>>2],i=e[c+2928>>2]-i|0,g>>>0>i>>>0){e[c+1832>>2]=i,e[c+1828>>2]=g,e[c+1824>>2]=5940,Q(c+2928|0,11247,c+1824|0);break h}if(i=e[c+2964>>2],!(F[e[e[i>>2]+64>>2]](i,g)|0)){if(r=0,g)for(;;){if(e[c+3240>>2]=0,e[c+3244>>2]=0,(Ir(c+2928|0,c+3240|0,15034)|0)==1||(e[c+3232>>2]=0,e[c+3236>>2]=0,(Ir(c+2928|0,c+3232|0,15064)|0)==1))break h;if(i=e[c+2940>>2],n=i+1|0,n>>>0>nt[c+2928>>2]){e[c+1844>>2]=15850,e[c+1840>>2]=7319,Q(c+2928|0,9787,c+1840|0);break h}if(p=y[i+e[c+2932>>2]|0],e[c+2940>>2]=n,i=e[c+3244>>2],n=e[c+3240>>2],e[c+3224>>2]=n,e[c+3228>>2]=i,a=e[c+3236>>2],o=e[c+3232>>2],e[c+3216>>2]=o,e[c+3220>>2]=a,_=e[c+2964>>2],L=e[e[_>>2]+68>>2],e[c+2016>>2]=o,e[c+2020>>2]=a,e[c+2024>>2]=n,e[c+2028>>2]=i,F[L|0](_,r,p,c+2024|0,c+2016|0)|0){Q(c+2928|0,17228,0);break h}b:{S:{y:switch(p|0){case 0:if(p=e[c+2932>>2],p=qe(p+e[c+2940>>2]|0,p+e[c+2928>>2]|0,c+3152|0),!p){e[c+1872>>2]=1780,Q(c+2928|0,10147,c+1872|0);break h}if(e[c+2940>>2]=p+e[c+2940>>2],e[c+3208>>2]=n,e[c+3212>>2]=i,e[c+3200>>2]=o,e[c+3204>>2]=a,p=e[c+3152>>2],_=e[c+2964>>2],L=e[e[_>>2]+72>>2],e[c+1896>>2]=n,e[c+1900>>2]=i,e[c+1888>>2]=o,e[c+1892>>2]=a,!(F[L|0](_,r,c+1896|0,c+1888|0,e[c+3028>>2],p)|0))break S;Q(c+2928|0,23446,0);break h;case 1:if(p=c+3167|0,S[p|0]=0,S[p+1|0]=0,S[p+2|0]=0,S[p+3|0]=0,p=c+3160|0,e[p>>2]=0,e[p+4>>2]=0,e[c+3152>>2]=0,e[c+3156>>2]=0,(VN(c+2928|0,c+3192|0,c+3152|0)|0)==1)break h;if(e[c+3184>>2]=n,e[c+3188>>2]=i,e[c+3176>>2]=o,e[c+3180>>2]=a,p=e[c+3196>>2],_=e[c+3192>>2],e[c+3144>>2]=_,e[c+3148>>2]=p,L=e[c+2964>>2],M=e[e[L>>2]+76>>2],e[c+1912>>2]=o,e[c+1916>>2]=a,e[c+1904>>2]=_,e[c+1908>>2]=p,e[c+1920>>2]=n,e[c+1924>>2]=i,F[M|0](L,r,c+1920|0,c+1912|0,e[c+3032>>2],c+1904|0,c+3152|0)|0){Q(c+2928|0,23312,0);break h}e[c+3032>>2]=e[c+3032>>2]+1;break b;case 2:if(p=c+3167|0,S[p|0]=0,S[p+1|0]=0,S[p+2|0]=0,S[p+3|0]=0,p=c+3160|0,e[p>>2]=0,e[p+4>>2]=0,e[c+3152>>2]=0,e[c+3156>>2]=0,(AN(c+2928|0,c+3152|0)|0)==1)break h;if(e[c+3136>>2]=n,e[c+3140>>2]=i,e[c+3128>>2]=o,e[c+3132>>2]=a,p=e[c+2964>>2],_=e[e[p>>2]+80>>2],e[c+1936>>2]=n,e[c+1940>>2]=i,e[c+1928>>2]=o,e[c+1932>>2]=a,F[_|0](p,r,c+1936|0,c+1928|0,e[c+3036>>2],c+3152|0)|0){Q(c+2928|0,17020,0);break h}e[c+3036>>2]=e[c+3036>>2]+1;break b;case 3:if((mT(c+2928|0,c+3152|0,c+3192|0)|0)==1)break h;if(e[c+3120>>2]=n,e[c+3124>>2]=i,e[c+3112>>2]=o,e[c+3116>>2]=a,p=e[c+3156>>2],_=e[c+3152>>2],e[c+3104>>2]=_,e[c+3108>>2]=p,L=e[c+2964>>2],M=e[e[L>>2]+84>>2],e[c+1960>>2]=n,e[c+1964>>2]=i,e[c+1952>>2]=o,e[c+1956>>2]=a,e[c+1944>>2]=_,e[c+1948>>2]=p,F[M|0](L,r,c+1960|0,c+1952|0,e[c+3040>>2],c+1944|0,y[c+3192|0])|0){Q(c+2928|0,22792,0);break h}e[c+3040>>2]=e[c+3040>>2]+1;break b;case 4:if(!y[e[c+3016>>2]]){Q(c+2928|0,16277,0);break h}if(_=e[c+2940>>2],p=_+1|0,L=e[c+2928>>2],p>>>0>L>>>0){e[c+1972>>2]=13727,e[c+1968>>2]=7319,Q(c+2928|0,9787,c+1968|0);break h}if(se=_,_=e[c+2932>>2],M=y[se+_|0],e[c+2940>>2]=p,M){Q(c+2928|0,26214,0);break h}if(p=qe(p+_|0,_+L|0,c+3152|0),!p){e[c+1984>>2]=1858,Q(c+2928|0,10147,c+1984|0);break h}if(e[c+2940>>2]=p+e[c+2940>>2],e[c+3096>>2]=n,e[c+3100>>2]=i,e[c+3088>>2]=o,e[c+3092>>2]=a,p=e[c+3152>>2],_=e[c+2964>>2],L=e[e[_>>2]+88>>2],e[c+2008>>2]=n,e[c+2012>>2]=i,e[c+2e3>>2]=o,e[c+2004>>2]=a,F[L|0](_,r,c+2008|0,c+2e3|0,e[c+3044>>2],p)|0){Q(c+2928|0,22910,0);break h}e[c+3044>>2]=e[c+3044>>2]+1;break b;default:break y}e[c+1856>>2]=p,Q(c+2928|0,24097,c+1856|0);break h}e[c+3028>>2]=e[c+3028>>2]+1}if(r=r+1|0,(g|0)==(r|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+92>>2]](i)|0))break g;Q(c+2928|0,21277,0);break h}Q(c+2928|0,17416,0)}n=1}x=n|(x|0)==1;break u;case 1:break M}i=e[c+2964>>2];M:{g:{if(F[e[e[i>>2]+36>>2]](i,a)|0){Q(c+2928|0,22101,0);break g}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+1584>>2]=6287,Q(c+2928|0,10147,c+1584|0);break g}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,p=e[c+3152>>2],i=e[c+2928>>2]-i|0,p>>>0>i>>>0){e[c+1608>>2]=i,e[c+1604>>2]=p,e[c+1600>>2]=6287,Q(c+2928|0,11247,c+1600|0);break g}h:{b:{if(i=e[c+2964>>2],!(F[e[e[i>>2]+40>>2]](i,p)|0)){if(a=0,p)for(;;){S:{y:{L:{I:{T:{P:{B:{W:{if(y[e[c+3016>>2]+13|0]){if((Ra(c+2928|0,c+3240|0,11581)|0)==1)break g;switch(i=e[c+3240>>2],i+34|0){case 0:break T;case 1:break P;case 2:break W;default:break I}}if(i=e[c+2928>>2],r=e[c+2940>>2],o=r+1|0,i>>>0<o>>>0){e[c+1620>>2]=11581,e[c+1616>>2]=7319,Q(c+2928|0,9787,c+1616|0);break g}if(n=e[c+2932>>2],r=y[r+n|0],e[c+2940>>2]=o,(r|0)!=96){e[c+1728>>2]=r,Q(c+2928|0,27044,c+1728|0);break g}e[c+3240>>2]=-32,e[c+3244>>2]=-1;break B}i=e[c+2928>>2],o=e[c+2940>>2],n=e[c+2932>>2]}if(i=qe(n+o|0,i+n|0,c+3152|0),!i){e[c+1632>>2]=6183,Q(c+2928|0,10147,c+1632|0);break g}if(n=i+e[c+2940>>2]|0,e[c+2940>>2]=n,g=e[c+3152>>2],i=e[c+2928>>2],r=i-n|0,g>>>0>r>>>0){e[c+1656>>2]=r,e[c+1652>>2]=g,e[c+1648>>2]=6183,Q(c+2928|0,11247,c+1648|0);break g}if(o=e[c+2968>>2],r=e[c+2972>>2]-o>>3,r>>>0<g>>>0){ys(oi,g-r|0);break L}if(r>>>0>g>>>0&&(e[c+2972>>2]=o+(g<<3)),g)break L;r=1;break y}if(!y[e[c+3016>>2]+13|0]){Q(c+2928|0,16191,0);break g}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!i){e[c+1760>>2]=6369,Q(c+2928|0,10147,c+1760|0);break g}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,r=e[c+3152>>2],i=e[c+2928>>2]-i|0,r>>>0>i>>>0){e[c+1784>>2]=i,e[c+1780>>2]=r,e[c+1776>>2]=6369,Q(c+2928|0,11247,c+1776|0);break g}i=e[c+2996>>2],n=e[c+2992>>2],g=(i-n|0)/12|0;P:{B:{if(g>>>0<r>>>0){o=0;W:{if(n=r-g|0,L=e[v+8>>2],i=e[v+4>>2],n>>>0<=(L-i|0)/12>>>0){n&&(o=i,i=H(n,12)-12|0,i=(i-((i>>>0)%12|0)|0)+12|0,i=pn(o,0,i)+i|0),e[v+4>>2]=i;break W}H:{if(g=i,i=e[v>>2],g=g-i|0,M=(g|0)/12|0,_=M+n|0,_>>>0>=357913942)break H;if(L=(L-i|0)/12|0,X=L<<1,_=L>>>0<178956970?_>>>0<X>>>0?X:_:357913941,_){if(_>>>0>=357913942)break H;o=Z(H(_,12))}n=H(n,12)-12|0,L=(n-((n>>>0)%12|0)|0)+12|0,M=pn(H(M,12)+o|0,0,L),n=M+H((g|0)/-12|0,12)|0,(g|0)>0&&Ce(n,i,g),e[v+8>>2]=H(_,12)+o,e[v+4>>2]=L+M,e[v>>2]=n,i&&P(i);break W}Be(),Ie()}break B}if(r>>>0<g>>>0&&(i=H(r,12)+n|0,e[c+2996>>2]=i),!r)break P}for(n=0;;){if((dT(c+2928|0,e[c+2992>>2]+H(n,12)|0)|0)==1)break g;if(n=n+1|0,(r|0)==(n|0))break}n=e[c+2992>>2],i=e[c+2996>>2]}if(r=e[c+2964>>2],!(F[e[e[r>>2]+48>>2]](r,a,(i-n|0)/12|0,n)|0))break S;Q(c+2928|0,23021,0);break g}if(!y[e[c+3016>>2]+13|0]){Q(c+2928|0,16154,0);break g}if((dT(c+2928|0,c+3152|0)|0)==1)break g;if(i=e[c+2964>>2],r=e[e[i>>2]+52>>2],e[c+1800>>2]=e[c+3160>>2],n=e[c+3156>>2],e[c+1792>>2]=e[c+3152>>2],e[c+1796>>2]=n,!(F[r|0](i,a,c+1792|0)|0))break S;Q(c+2928|0,22993,0);break g}e[c+1744>>2]=(i|0)<0?26758:35624,r=i,i=i>>31,e[c+1748>>2]=(r^i)-i,Q(c+2928|0,26850,c+1744|0);break g}for(n=0;;){if((Ra(c+2928|0,c+3152|0,14120)|0)==1)break g;i=e[c+3016>>2],o=e[c+3156>>2];L:{I:{T:{P:switch(r=e[c+3152>>2],r+21|0){case 17:case 18:case 19:case 20:break L;case 4:case 5:break I;case 16:break T;case 0:break P;default:break h}if(!y[i+6|0])break h;break L}if(y[i+4|0])break L;break h}if(!y[i+10|0])break h}if(i=e[c+2968>>2]+(n<<3)|0,e[i>>2]=r,e[i+4>>2]=o,n=n+1|0,(g|0)==(n|0))break}i=e[c+2928>>2],n=e[c+2940>>2],r=0}if(o=n,n=e[c+2932>>2],i=qe(o+n|0,i+n|0,c+3152|0),!i){e[c+1680>>2]=5991,Q(c+2928|0,10147,c+1680|0);break g}if(n=i+e[c+2940>>2]|0,e[c+2940>>2]=n,i=e[c+3152>>2],n=e[c+2928>>2]-n|0,i>>>0>n>>>0){e[c+1704>>2]=n,e[c+1700>>2]=i,e[c+1696>>2]=5991,Q(c+2928|0,11247,c+1696|0);break g}y:{L:{o=e[c+2980>>2],n=e[c+2984>>2]-o>>3;I:{if(n>>>0<i>>>0){ys(bi,i-n|0);break I}if(i>>>0<n>>>0&&(e[c+2984>>2]=o+(i<<3)),!i)break L}for(n=0;;){if((Ra(c+2928|0,c+3152|0,14011)|0)==1)break g;o=e[c+3016>>2],L=e[c+3156>>2];I:{T:{P:{B:switch(_=e[c+3152>>2],_+21|0){case 17:case 18:case 19:case 20:break I;case 4:case 5:break T;case 16:break P;case 0:break B;default:break b}if(!y[o+6|0])break b;break I}if(y[o+4|0])break I;break b}if(!y[o+10|0])break b}if(o=e[c+2980>>2]+(n<<3)|0,e[o>>2]=_,e[o+4>>2]=L,n=n+1|0,(i|0)==(n|0))break}o=e[c+2980>>2],r=r?0:e[c+2968>>2];break y}o=0,r=r?0:e[c+2968>>2]}if(n=e[c+2964>>2],!(F[e[e[n>>2]+44>>2]](n,a,g,r,i,o)|0))break S;Q(c+2928|0,23143,0);break g}if(a=a+1|0,(p|0)==(a|0))break}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+56>>2]](i)|0))break M;Q(c+2928|0,22134,0);break g}Q(c+2928|0,17995,0);break g}e[c+1712>>2]=(_|0)<0?26758:35624,i=_>>31,e[c+1716>>2]=(i^_)-i,Q(c+2928|0,26929,c+1712|0);break g}e[c+1664>>2]=(r|0)<0?26758:35624,i=r>>31,e[c+1668>>2]=(i^r)-i,Q(c+2928|0,26968,c+1664|0)}n=1}x=n|(x|0)==1;break u}D:{M:{g:{h:{b:switch(r-6|0){case 2:if((y[i|0]|y[i+1|0]<<8|(y[i+2|0]<<16|y[i+3|0]<<24))!=1768716644|(y[i+4|0]|y[i+5|0]<<8|(y[i+6|0]<<16|y[i+7|0]<<24))!=808348526)break h;if(i=e[c+2964>>2],F[e[e[i>>2]+724>>2]](i,a)|0)break Z;if(r=e[c+2928>>2],n=e[c+2940>>2],r>>>0>n>>>0)for(;;){if(i=e[c+2932>>2],r=qe(i+n|0,i+r|0,c+3200|0),!r){e[c+1280>>2]=14425,Q(c+2928|0,10147,c+1280|0);break o}if(n=e[c+2928>>2],i=e[c+2932>>2],r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,i=qe(i+r|0,i+n|0,c+3152|0),!i){e[c+1296>>2]=13385,Q(c+2928|0,10147,c+1296|0);break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,r=e[c+2928>>2],n=i+e[c+3152>>2]|0,r>>>0<n>>>0){Q(c+2928|0,15892,0);break o}e[c+2928>>2]=n;S:{y:switch(e[c+3200>>2]-1|0){case 0:if(o=i,i=e[c+2932>>2],o=qe(o+i|0,i+n|0,c+3152|0),!o){e[c+1328>>2]=13278,Q(c+2928|0,10147,c+1328|0),e[c+2928>>2]=r;break o}if(a=e[c+2928>>2],i=e[c+2932>>2],o=o+e[c+2940>>2]|0,e[c+2940>>2]=o,o=qe(i+o|0,i+a|0,c+3232|0),!o){e[c+1344>>2]=11544,Q(c+2928|0,10147,c+1344|0),e[c+2928>>2]=r;break o}if(a=e[c+2928>>2],i=e[c+2932>>2],o=o+e[c+2940>>2]|0,e[c+2940>>2]=o,o=qe(i+o|0,i+a|0,c+3144|0),!o){e[c+1360>>2]=13287,Q(c+2928|0,10147,c+1360|0),e[c+2928>>2]=r;break o}if(a=e[c+2928>>2],i=e[c+2932>>2],o=o+e[c+2940>>2]|0,e[c+2940>>2]=o,i=qe(i+o|0,i+a|0,c+3136|0),!i){e[c+1376>>2]=11554,Q(c+2928|0,10147,c+1376|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],!(F[e[e[i>>2]+728>>2]](i,e[c+3152>>2],e[c+3232>>2],e[c+3144>>2],e[c+3136>>2])|0))break S;Q(c+2928|0,20836,0),e[c+2928>>2]=r;break o;case 1:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3192|0),!i){e[c+1392>>2]=7926,Q(c+2928|0,10147,c+1392|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+748>>2]](i,e[c+3192>>2])|0)break j;if(i=e[c+3192>>2],e[c+3192>>2]=i-1,!i)break S;for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,14886)|0)==1)break m;if(i=e[c+3156>>2],o=e[c+3152>>2],e[c+3240>>2]=o,e[c+3244>>2]=i,a=e[c+2964>>2],g=e[e[a>>2]+752>>2],e[c+1400>>2]=o,e[c+1404>>2]=i,F[g|0](a,c+1400|0)|0){Q(c+2928|0,23391,0),e[c+2928>>2]=r;break o}if(i=e[c+3192>>2],e[c+3192>>2]=i-1,!i)break}break S;case 3:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3192|0),!i){e[c+1408>>2]=6386,Q(c+2928|0,10147,c+1408|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+732>>2]](i,e[c+3192>>2])|0)break G;if(o=0,!e[c+3192>>2])break S;for(;;){if(e[c+3144>>2]=0,e[c+3152>>2]=0,e[c+3156>>2]=0,e[c+3232>>2]=0,e[c+3236>>2]=0,(Ir(c+2928|0,c+3152|0,15245)|0)==1||(Ir(c+2928|0,c+3232|0,16051)|0)==1)break m;if(i=e[c+2932>>2],g=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3144|0),!g){e[c+1424>>2]=7746,Q(c+2928|0,10147,c+1424|0),e[c+2928>>2]=r;break o}if(i=e[c+3156>>2],p=e[c+3152>>2],e[c+3224>>2]=p,e[c+3228>>2]=i,a=e[c+3236>>2],_=e[c+3232>>2],e[c+3216>>2]=_,e[c+3220>>2]=a,e[c+2940>>2]=g+e[c+2940>>2],g=e[c+2964>>2],L=e[e[g>>2]+740>>2],e[c+1440>>2]=_,e[c+1444>>2]=a,e[c+1448>>2]=p,e[c+1452>>2]=i,F[L|0](g,c+1448|0,c+1440|0,e[c+3144>>2])|0){Q(c+2928|0,17253,0),e[c+2928>>2]=r;break o}if(o=o+1|0,!(o>>>0<nt[c+3192>>2]))break}break S;case 2:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3192|0),!i){e[c+1456>>2]=6386,Q(c+2928|0,10147,c+1456|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+736>>2]](i,e[c+3192>>2])|0)break z;if(o=0,!e[c+3192>>2])break S;for(;;){if(e[c+3232>>2]=0,e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,15087)|0)==1)break m;if(i=e[c+2932>>2],a=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3232|0),!a){e[c+1472>>2]=7746,Q(c+2928|0,10147,c+1472|0),e[c+2928>>2]=r;break o}if(i=e[c+3156>>2],g=e[c+3152>>2],e[c+3208>>2]=g,e[c+3212>>2]=i,e[c+2940>>2]=a+e[c+2940>>2],a=e[c+2964>>2],p=e[e[a>>2]+744>>2],e[c+1480>>2]=g,e[c+1484>>2]=i,F[p|0](a,c+1480|0,e[c+3232>>2])|0){Q(c+2928|0,17197,0),e[c+2928>>2]=r;break o}if(o=o+1|0,!(o>>>0<nt[c+3192>>2]))break}break S;default:break y}e[c+2940>>2]=n}if(e[c+2940>>2]!=(n|0)){e[c+1312>>2]=n,Q(c+2928|0,26764,c+1312|0),e[c+2928>>2]=r;break o}if(e[c+2928>>2]=r,!(r>>>0>n>>>0))break}if(i=e[c+2964>>2],!(F[e[e[i>>2]+756>>2]](i)|0))break C;Q(c+2928|0,21936,0);break o;case 0:break b;default:break g}if(En(i,12382,6))break h;if(i=e[c+2964>>2],F[e[e[i>>2]+724>>2]](i,a)|0){Q(c+2928|0,21901,0);break o}if(i=e[c+2932>>2],r=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3232|0),!r){e[c+1488>>2]=13278,Q(c+2928|0,10147,c+1488|0);break o}if(n=e[c+2928>>2],i=e[c+2932>>2],r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,r=qe(i+r|0,i+n|0,c+3224|0),!r){e[c+1504>>2]=11544,Q(c+2928|0,10147,c+1504|0);break o}if(n=e[c+2928>>2],i=e[c+2932>>2],r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,r=qe(i+r|0,i+n|0,c+3216|0),!r){e[c+1520>>2]=13287,Q(c+2928|0,10147,c+1520|0);break o}if(n=e[c+2928>>2],i=e[c+2932>>2],r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,i=qe(i+r|0,i+n|0,c+3208|0),!i){e[c+1536>>2]=11554,Q(c+2928|0,10147,c+1536|0);break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+728>>2]](i,e[c+3232>>2],e[c+3224>>2],e[c+3216>>2],e[c+3208>>2])|0){Q(c+2928|0,20836,0);break o}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3200|0),!i){e[c+1552>>2]=7926,Q(c+2928|0,10147,c+1552|0);break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+748>>2]](i,e[c+3200>>2])|0)break U;if(i=e[c+3200>>2],e[c+3200>>2]=i-1,i)for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,14886)|0)==1)break o;if(i=e[c+3156>>2],r=e[c+3152>>2],e[c+3240>>2]=r,e[c+3244>>2]=i,n=e[c+2964>>2],o=e[e[n>>2]+752>>2],e[c+1568>>2]=r,e[c+1572>>2]=i,F[o|0](n,c+1568|0)|0){Q(c+2928|0,23391,0);break o}if(i=e[c+3200>>2],e[c+3200>>2]=i-1,!i)break}if(i=e[c+2964>>2],!(F[e[e[i>>2]+756>>2]](i)|0))break C;Q(c+2928|0,21936,0);break o}n=5;break M}if(n=r>>>0<5,n)break D;n=n?r:5}for(p=n+i|0;;){if((n|0)==4)break D;if(n=n-1|0,g=i+n|0,y[g|0]==99&&(_=g-1|0,y[_|0]==111&&(_=_-1|0,y[_|0]==108&&(_=_-1|0,!(y[_|0]!=101|y[_-1|0]!=114)))))break}if(n=g-4|0,(n|0)==(p|0)|(i|0)!=(n|0))break D;if(i=e[c+2964>>2],F[e[e[i>>2]+708>>2]](i,a)|0){Q(c+2928|0,22295,0);break o}if(i=e[c+2932>>2],r=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3240|0),!r){e[c+1152>>2]=1586,Q(c+2928|0,10147,c+1152|0);break o}if(n=e[c+2928>>2],i=e[c+2932>>2],r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,i=qe(i+r|0,i+n|0,c+3152|0),!i){e[c+1168>>2]=6110,Q(c+2928|0,10147,c+1168|0);break o}if(r=i+e[c+2940>>2]|0,e[c+2940>>2]=r,i=e[c+3152>>2],r=e[c+2928>>2]-r|0,i>>>0>r>>>0){e[c+1192>>2]=r,e[c+1188>>2]=i,e[c+1184>>2]=6110,Q(c+2928|0,11247,c+1184|0);break o}if(r=e[c+2964>>2],F[e[e[r>>2]+712>>2]](r,i,e[c+3240>>2])|0)break E;if(o=0,i)for(;;){if(e[c+3224>>2]=0,r=e[c+2932>>2],n=qe(r+e[c+2940>>2]|0,r+e[c+2928>>2]|0,c+3232|0),!n){e[c+1200>>2]=14079,Q(c+2928|0,10147,c+1200|0);break o}if(a=e[c+2928>>2],r=e[c+2932>>2],n=n+e[c+2940>>2]|0,e[c+2940>>2]=n,n=qe(r+n|0,r+a|0,c+3152|0),!n){e[c+1216>>2]=6961,Q(c+2928|0,10147,c+1216|0);break o}if(a=e[c+2928>>2],r=e[c+2932>>2],n=n+e[c+2940>>2]|0,e[c+2940>>2]=n,g=e[c+3152>>2],r=qe(r+n|0,r+a|0,c+3152|0),!r){e[c+1232>>2]=2219,Q(c+2928|0,10147,c+1232|0);break o}n=r+e[c+2940>>2]|0,e[c+2940>>2]=n;M:{if(r=e[c+3232>>2],a=r>>>0>22,!a){a=e[c+3152>>2];g:{if(1<<r&6540088){if(p=n,n=e[c+2932>>2],n=jc(p+n|0,n+e[c+2928>>2]|0,c+3224|0),!n)break g;e[c+2940>>2]=n+e[c+2940>>2]}if(n=e[c+2964>>2],!(F[e[e[n>>2]+716>>2]](n,r,g,a,e[c+3224>>2])|0))break M;Q(c+2928|0,23422,0);break o}e[c+1264>>2]=15885,Q(c+2928|0,10177,c+1264|0);break o}e[c+1248>>2]=a?25075:e[(r<<2)+58480>>2],Q(c+2928|0,9935,c+1248|0);break o}if(o=o+1|0,(i|0)==(o|0))break}if(i=e[c+2964>>2],!(F[e[e[i>>2]+720>>2]](i)|0))break C;Q(c+2928|0,22329,0);break o}D:switch(r-7|0){case 8:if(En(i,7788,15))break V;if(i=e[c+2964>>2],F[e[e[i>>2]+760>>2]](i,a)|0){Q(c+2928|0,21450,0);break o}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3232|0),!i){e[c+688>>2]=6127,Q(c+2928|0,10147,c+688|0);break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+764>>2]](i,e[c+3232>>2])|0)break R;if(i=e[c+3232>>2],e[c+3232>>2]=i-1,i)for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,i=e[c+2940>>2],r=i+1|0,r>>>0>nt[c+2928>>2]){e[c+708>>2]=1374,e[c+704>>2]=7319,Q(c+2928|0,9787,c+704|0);break o}if(n=y[i+e[c+2932>>2]|0],e[c+2940>>2]=r,(Ir(c+2928|0,c+3152|0,15021)|0)==1)break o;if(i=e[c+3156>>2],r=e[c+3152>>2],e[c+3240>>2]=r,e[c+3244>>2]=i,o=e[c+2964>>2],a=e[e[o>>2]+768>>2],e[c+712>>2]=r,e[c+716>>2]=i,F[a|0](o,n,c+712|0)|0){Q(c+2928|0,22938,0);break o}if(i=e[c+3232>>2],e[c+3232>>2]=i-1,!i)break}if(i=e[c+2964>>2],!(F[e[e[i>>2]+772>>2]](i)|0))break C;Q(c+2928|0,21493,0);break o;case 0:break D;default:break F}if(En(i,12833,7))break F;if(i=e[c+2964>>2],F[e[e[i>>2]+776>>2]](i,a)|0){Q(c+2928|0,21969,0);break o}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3136|0),!i){e[c+720>>2]=11448,Q(c+2928|0,10147,c+720|0);break o}if(n=i+e[c+2940>>2]|0,e[c+2940>>2]=n,i=e[c+3136>>2],(i|0)!=2)break N;if(r=e[c+2928>>2],n>>>0<r>>>0)for(;;){if(i=e[c+2932>>2],r=qe(i+n|0,i+r|0,c+3128|0),!r){e[c+736>>2]=14425,Q(c+2928|0,10147,c+736|0);break o}if(n=e[c+2928>>2],i=e[c+2932>>2],r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,i=qe(i+r|0,i+n|0,c+3152|0),!i){e[c+752>>2]=13385,Q(c+2928|0,10147,c+752|0);break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,r=e[c+2928>>2],n=i+e[c+3152>>2]|0,r>>>0<n>>>0){Q(c+2928|0,15892,0);break o}e[c+2928>>2]=n;D:{M:switch(e[c+3128>>2]-5|0){case 3:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3120|0),!i){e[c+784>>2]=6127,Q(c+2928|0,10147,c+784|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+780>>2]](i,e[c+3120>>2])|0)break w;if(i=0,!e[c+3120>>2])break D;for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,e[c+3144>>2]=0,e[c+3112>>2]=0,o=e[c+2932>>2],a=qe(o+e[c+2940>>2]|0,o+e[c+2928>>2]|0,c+3112|0),!a){e[c+800>>2]=14095,Q(c+2928|0,10147,c+800|0),e[c+2928>>2]=r;break o}if(g=e[c+2928>>2],o=e[c+2932>>2],a=a+e[c+2940>>2]|0,e[c+2940>>2]=a,o=qe(o+a|0,o+g|0,c+3144|0),!o){e[c+816>>2]=7703,Q(c+2928|0,10147,c+816|0),e[c+2928>>2]=r;break o}a=o+e[c+2940>>2]|0,e[c+2940>>2]=a;g:{if(o=e[c+3112>>2],o>>>0>5)break g;h:{b:{S:{if(!(1<<o&53)){if((o|0)!=1)break h;if(e[c+3104>>2]=0,e[c+3096>>2]=0,e[c+3088>>2]=0,(Ir(c+2928|0,c+3152|0,14988)|0)==1)break A;if(o=e[c+3144>>2],o&16)break b;if(o=e[c+2932>>2],a=qe(o+e[c+2940>>2]|0,o+e[c+2928>>2]|0,c+3104|0),a)break S;e[c+880>>2]=6674,Q(c+2928|0,10147,c+880|0),e[c+2928>>2]=r;break o}if(e[c+3104>>2]=0,g=a,a=e[c+2932>>2],a=qe(g+a|0,a+e[c+2928>>2]|0,c+3104|0),!a){e[c+832>>2]=2219,Q(c+2928|0,10147,c+832|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=a+e[c+2940>>2],(e[c+3144>>2]&80)!=16&&(Ir(c+2928|0,c+3152|0,14988)|0)==1)break A;y:switch(o|0){case 0:if(o=e[c+3156>>2],a=e[c+3152>>2],e[c+3240>>2]=a,e[c+3244>>2]=o,g=e[c+2964>>2],p=e[e[g>>2]+788>>2],e[c+848>>2]=a,e[c+852>>2]=o,!(F[p|0](g,i,e[c+3144>>2],c+848|0,e[c+3104>>2])|0))break g;Q(c+2928|0,22535,0),e[c+2928>>2]=r;break o;case 2:if(o=e[c+3156>>2],a=e[c+3152>>2],e[c+3232>>2]=a,e[c+3236>>2]=o,g=e[c+2964>>2],p=e[e[g>>2]+792>>2],e[c+856>>2]=a,e[c+860>>2]=o,!(F[p|0](g,i,e[c+3144>>2],c+856|0,e[c+3104>>2])|0))break g;Q(c+2928|0,22600,0),e[c+2928>>2]=r;break o;case 4:if(o=e[c+3156>>2],a=e[c+3152>>2],e[c+3224>>2]=a,e[c+3228>>2]=o,g=e[c+2964>>2],p=e[e[g>>2]+800>>2],e[c+864>>2]=a,e[c+868>>2]=o,!(F[p|0](g,i,e[c+3144>>2],c+864|0,e[c+3104>>2])|0))break g;Q(c+2928|0,22631,0),e[c+2928>>2]=r;break o;case 5:if(o=e[c+3156>>2],a=e[c+3152>>2],e[c+3216>>2]=a,e[c+3220>>2]=o,g=e[c+2964>>2],p=e[e[g>>2]+804>>2],e[c+872>>2]=a,e[c+876>>2]=o,!(F[p|0](g,i,e[c+3144>>2],c+872|0,e[c+3104>>2])|0))break g;Q(c+2928|0,22659,0),e[c+2928>>2]=r;break o;default:break y}Be(),Ie()}if(g=e[c+2928>>2],o=e[c+2932>>2],a=a+e[c+2940>>2]|0,e[c+2940>>2]=a,a=qe(o+a|0,o+g|0,c+3096|0),!a){e[c+896>>2]=6961,Q(c+2928|0,10147,c+896|0),e[c+2928>>2]=r;break o}if(g=e[c+2928>>2],o=e[c+2932>>2],a=a+e[c+2940>>2]|0,e[c+2940>>2]=a,o=qe(o+a|0,o+g|0,c+3088|0),!o){e[c+912>>2]=13530,Q(c+2928|0,10147,c+912|0),e[c+2928>>2]=r;break o}e[c+2940>>2]=o+e[c+2940>>2],o=e[c+3144>>2]}if(a=e[c+3156>>2],g=e[c+3152>>2],e[c+3208>>2]=g,e[c+3212>>2]=a,p=e[c+2964>>2],_=e[e[p>>2]+784>>2],e[c+920>>2]=g,e[c+924>>2]=a,!(F[_|0](p,i,o,c+920|0,e[c+3104>>2],e[c+3096>>2],e[c+3088>>2])|0))break g;Q(c+2928|0,22689,0),e[c+2928>>2]=r;break o}if(e[c+3104>>2]=0,o=e[c+2932>>2],o=qe(o+a|0,o+e[c+2928>>2]|0,c+3104|0),!o){e[c+928>>2]=2219,Q(c+2928|0,10147,c+928|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=o+e[c+2940>>2],o=e[c+2964>>2],!(F[e[e[o>>2]+796>>2]](o,i,e[c+3144>>2],e[c+3104>>2])|0))break g;Q(c+2928|0,22568,0),e[c+2928>>2]=r;break o}if(i=i+1|0,!(i>>>0<nt[c+3120>>2]))break}break D;case 0:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3120|0),!i){e[c+944>>2]=6060,Q(c+2928|0,10147,c+944|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+808>>2]](i,e[c+3120>>2])|0)break x;if(o=0,!e[c+3120>>2])break D;for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,14912)|0)==1)break A;if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3144|0),!i){e[c+960>>2]=6428,Q(c+2928|0,10147,c+960|0),e[c+2928>>2]=r;break o}if(a=i+e[c+2940>>2]|0,e[c+2940>>2]=a,i=e[c+3144>>2],!(y[e[c+3016>>2]+15|0]|i>>>0<32&&i>>>0<=127)){e[c+980>>2]=i,e[c+976>>2]=6428,Q(c+2928|0,5377,c+976|0),e[c+2928>>2]=r;break o}if(g=a,a=e[c+2932>>2],g=qe(g+a|0,a+e[c+2928>>2]|0,c+3112|0),!g){e[c+992>>2]=7689,Q(c+2928|0,10147,c+992|0),e[c+2928>>2]=r;break o}if(a=e[c+3156>>2],p=e[c+3152>>2],e[c+3200>>2]=p,e[c+3204>>2]=a,e[c+2940>>2]=g+e[c+2940>>2],g=e[c+2964>>2],_=e[e[g>>2]+812>>2],e[c+1e3>>2]=p,e[c+1004>>2]=a,F[_|0](g,o,c+1e3|0,i,0,e[c+3112>>2])|0){Q(c+2928|0,20806,0),e[c+2928>>2]=r;break o}if(o=o+1|0,!(o>>>0<nt[c+3120>>2]))break}break D;case 1:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3120|0),!i){e[c+1008>>2]=6060,Q(c+2928|0,10147,c+1008|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+816>>2]](i,e[c+3120>>2])|0)break k;if(i=e[c+3120>>2],e[c+3120>>2]=i-1,!i)break D;for(;;){if(i=e[c+2932>>2],o=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3152|0),!o){e[c+1024>>2]=1080,Q(c+2928|0,10147,c+1024|0),e[c+2928>>2]=r;break o}if(a=e[c+2928>>2],i=e[c+2932>>2],o=o+e[c+2940>>2]|0,e[c+2940>>2]=o,i=qe(i+o|0,i+a|0,c+3144|0),!i){e[c+1040>>2]=1565,Q(c+2928|0,10147,c+1040|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+820>>2]](i,e[c+3152>>2],e[c+3144>>2])|0){Q(c+2928|0,20897,0),e[c+2928>>2]=r;break o}if(i=e[c+3120>>2],e[c+3120>>2]=i-1,!i)break}break D;case 2:if(o=i,i=e[c+2932>>2],i=qe(o+i|0,i+n|0,c+3120|0),!i){e[c+1056>>2]=6386,Q(c+2928|0,10147,c+1056|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+824>>2]](i,e[c+3120>>2])|0)break p;if(i=e[c+3120>>2],e[c+3120>>2]=i-1,!i)break D;for(;;){if(e[c+3152>>2]=0,e[c+3156>>2]=0,(Ir(c+2928|0,c+3152|0,14925)|0)==1)break A;if(i=e[c+2932>>2],o=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3144|0),!o){e[c+1072>>2]=7746,Q(c+2928|0,10147,c+1072|0),e[c+2928>>2]=r;break o}if(a=e[c+2928>>2],i=e[c+2932>>2],o=o+e[c+2940>>2]|0,e[c+2940>>2]=o,o=qe(i+o|0,i+a|0,c+3112|0),!o){e[c+1088>>2]=5854,Q(c+2928|0,10147,c+1088|0),e[c+2928>>2]=r;break o}if(i=e[c+3156>>2],a=e[c+3152>>2],e[c+3192>>2]=a,e[c+3196>>2]=i,e[c+2940>>2]=o+e[c+2940>>2],o=e[c+2964>>2],g=e[e[o>>2]+828>>2],e[c+1128>>2]=a,e[c+1132>>2]=i,F[g|0](o,c+1128|0,e[c+3144>>2],e[c+3112>>2])|0)break f;if(i=e[c+3112>>2],e[c+3112>>2]=i-1,i)for(;;){if(i=e[c+2932>>2],o=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3104|0),!o){e[c+1104>>2]=15874,Q(c+2928|0,10147,c+1104|0),e[c+2928>>2]=r;break o}if(a=e[c+2928>>2],i=e[c+2932>>2],o=o+e[c+2940>>2]|0,e[c+2940>>2]=o,i=qe(i+o|0,i+a|0,c+3096|0),!i){e[c+1120>>2]=2219,Q(c+2928|0,10147,c+1120|0),e[c+2928>>2]=r;break o}if(e[c+2940>>2]=i+e[c+2940>>2],i=e[c+2964>>2],F[e[e[i>>2]+832>>2]](i,e[c+3104>>2],e[c+3096>>2])|0){Q(c+2928|0,16962,0),e[c+2928>>2]=r;break o}if(i=e[c+3112>>2],e[c+3112>>2]=i-1,!i)break}if(i=e[c+3120>>2],e[c+3120>>2]=i-1,!i)break}break D;default:break M}e[c+2940>>2]=n}if(e[c+2940>>2]!=(n|0)){e[c+768>>2]=n,Q(c+2928|0,26764,c+768|0),e[c+2928>>2]=r;break o}if(e[c+2928>>2]=r,!(r>>>0>n>>>0))break}if(i=e[c+2964>>2],!(F[e[e[i>>2]+836>>2]](i)|0))break C;Q(c+2928|0,22005,0);break o}if(!y[o+12|0])break _;if((r|0)>=14)break O;break _}if(!y[o+12|0])break _}for(g=i+r|0,n=r,o=i;;){if(n=i5(o,109,n-13|0),!n)break _;if(En(n,26447,14)){if(o=n+1|0,n=g-o|0,(n|0)<14)break _;continue}break}if((n|0)==(g|0)|(i|0)!=(n|0))break _;if(e[c+3156>>2]=r-14,e[c+3152>>2]=i+14,i=e[c+2964>>2],r=e[e[i>>2]+856>>2],n=e[c+3156>>2],e[c+680>>2]=e[c+3152>>2],e[c+684>>2]=n,F[r|0](i,c+680|0,a)|0){Q(c+2928|0,22361,0);break o}if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3240|0),!i){e[c+448>>2]=6071,Q(c+2928|0,10147,c+448|0);break o}if(i=i+e[c+2940>>2]|0,e[c+2940>>2]=i,a=e[c+3240>>2],i=e[c+2928>>2]-i|0,a>>>0>i>>>0){e[c+472>>2]=i,e[c+468>>2]=a,e[c+464>>2]=6071,Q(c+2928|0,11247,c+464|0);break o}if(i=e[c+2964>>2],F[e[e[i>>2]+860>>2]](i,a)|0)break v;if(a)for(o=0,r=-1;;){if(i=e[c+2932>>2],i=qe(i+e[c+2940>>2]|0,i+e[c+2928>>2]|0,c+3240|0),!i){e[c+480>>2]=1565,Q(c+2928|0,10147,c+480|0);break o}if(n=i+e[c+2940>>2]|0,e[c+2940>>2]=n,i=e[c+3240>>2],g=e[c+2928>>2],p=g-n|0,i>>>0>p>>>0){e[c+504>>2]=p,e[c+500>>2]=i,e[c+496>>2]=1565,Q(c+2928|0,11247,c+496|0);break o}if(p=e[c+3028>>2],p>>>0>i>>>0){e[c+512>>2]=i,Q(c+2928|0,27526,c+512|0);break o}if(i>>>0>=p+e[c+3048>>2]>>>0){e[c+672>>2]=i,Q(c+2928|0,5253,c+672|0);break o}if((i|0)==(r|0)){e[c+528>>2]=r,Q(c+2928|0,5224,c+528|0);break o}if(!((r|0)==-1|i>>>0>r>>>0)){e[c+656>>2]=i,Q(c+2928|0,5399,c+656|0);break o}if(r=e[c+2932>>2],r=qe(r+n|0,r+g|0,c+3240|0),!r){e[c+544>>2]=6035,Q(c+2928|0,10147,c+544|0);break o}if(r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,g=e[c+3240>>2],r=e[c+2928>>2]-r|0,g>>>0>r>>>0){e[c+568>>2]=r,e[c+564>>2]=g,e[c+560>>2]=6035,Q(c+2928|0,11247,c+560|0);break o}O:{V:{if(r=e[c+2964>>2],!(F[e[e[r>>2]+864>>2]](r,i,g)|0)){if(!g)break O;_=0,r=-1;break V}Q(c+2928|0,18185,0);break o}for(;;){if(n=e[c+2932>>2],n=qe(n+e[c+2940>>2]|0,n+e[c+2928>>2]|0,c+3240|0),!n){e[c+576>>2]=6919,Q(c+2928|0,10147,c+576|0);break o}if(p=n+e[c+2940>>2]|0,e[c+2940>>2]=p,n=e[c+3240>>2],(n|0)==(r|0)){e[c+592>>2]=r,Q(c+2928|0,1317,c+592|0);break o}if(!((r|0)==-1|r>>>0<n>>>0)){e[c+640>>2]=n,Q(c+2928|0,1344,c+640|0);break o}if(e[c+3240>>2]=0,r=e[c+2932>>2],r=qe(r+p|0,r+e[c+2928>>2]|0,c+3240|0),!r){e[c+608>>2]=13525,Q(c+2928|0,10147,c+608|0);break o}if(r=r+e[c+2940>>2]|0,e[c+2940>>2]=r,p=e[c+3240>>2],L=p+r|0,L>>>0>nt[c+2928>>2]){e[c+624>>2]=24415,Q(c+2928|0,10063,c+624|0);break o}if(e[c+2940>>2]=L,L=e[c+2964>>2],!(F[e[e[L>>2]+868>>2]](L,n,r+e[c+2932>>2]|0,p,0)|0)){if(r=n,_=_+1|0,(g|0)==(_|0))break O;continue}break}Q(c+2928|0,23521,0);break o}if(r=i,o=o+1|0,(a|0)==(o|0))break}if(i=e[c+2964>>2],!(F[e[e[i>>2]+872>>2]](i)|0))break C;Q(c+2928|0,22402,0);break o}Q(c+2928|0,21901,0);break o}Q(c+2928|0,18080,0),e[c+2928>>2]=r;break o}Q(c+2928|0,17446,0),e[c+2928>>2]=r;break o}Q(c+2928|0,17380,0),e[c+2928>>2]=r;break o}Q(c+2928|0,18080,0);break o}Q(c+2928|0,18116,0);break o}Q(c+2928|0,17964,0);break o}e[c+1136>>2]=i,Q(c+2928|0,5460,c+1136|0);break o}Q(c+2928|0,17662,0),e[c+2928>>2]=r;break o}Q(c+2928|0,17697,0),e[c+2928>>2]=r;break o}Q(c+2928|0,17552,0),e[c+2928>>2]=r;break o}Q(c+2928|0,22505,0),e[c+2928>>2]=r;break o}Q(c+2928|0,18145,0);break o}e[c+2940>>2]=e[c+2928>>2]}if(i=e[c+2964>>2],n=0,!(F[e[e[i>>2]+32>>2]](i)|0))break c;Q(c+2928|0,21736,0);break o}Q(c+2928|0,17806,0)}e[c+2928>>2]=r;break o}e[c+2928>>2]=r;break o}e[c+2928>>2]=r}n=1}S[c+3025|0]=pe}if(!y[e[c+3016>>2]+26|0]){at=0;break u}x=(x|0)==1|(n|0)!=0}u:switch(n|0){case 0:if(i=e[c+2928>>2],(i|0)==e[c+2940>>2])break r;e[c+80>>2]=i,Q(c+2928|0,26809,c+80|0),x=1;break;case 1:break u;default:break r}if(at)break n}e[c+2940>>2]=e[c+2928>>2]}if(j&&(e[c+3020>>2]=j),e[c+2928>>2]=V,n=e[c+2940>>2],n>>>0>=nt[c+2936>>2])break i}if(He=He+1|0,!(n>>>0<V>>>0))break}e[c+52>>2]=15619,e[c+48>>2]=7319,Q(c+2928|0,9787,c+48|0);break t}e[c+2928>>2]=V;break t}if(n=1,(x|0)==1)break e}if(e[c+3048>>2]!=e[c+3052>>2]){Q(c+2928|0,5879,0);break t}if(i=e[c+2964>>2],!(F[e[e[i>>2]+20>>2]](i)|0)){n=0;break e}Q(c+2928|0,23286,0)}n=1}return i=e[c+3060>>2],i&&(e[c+3064>>2]=i,P(i)),i=e[c+3004>>2],i&&(e[c+3008>>2]=i,P(i)),i=e[c+2992>>2],i&&(e[c+2996>>2]=i,P(i)),i=e[c+2980>>2],i&&(e[c+2984>>2]=i,P(i)),i=e[c+2968>>2],i&&(e[c+2972>>2]=i,P(i)),b=c+3248|0,Ik(Xe),b=De+80|0,n}function KE(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0;o=b-1792|0,b=o,_=i+16|0;e:{if(e[i+88>>2]){L=e[i+92>>2];break e}ri(o+1520|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,L=e[i+92>>2],c=_+H(n+L&1,36)|0,a=c,n=e[o+1524>>2],e[a>>2]=e[o+1520>>2],e[a+4>>2]=n,e[a+32>>2]=e[o+1552>>2],a=o+1544|0,n=e[a+4>>2],e[c+24>>2]=e[a>>2],e[c+28>>2]=n,a=o+1536|0,n=e[a+4>>2],e[c+16>>2]=e[a>>2],e[c+20>>2]=n,a=o+1528|0,n=e[a+4>>2],e[c+8>>2]=e[a>>2],e[c+12>>2]=n}He=1,v=o+1784|0,n=_+H(L&1,36)|0,e[v>>2]=e[n+16>>2],a=e[n+12>>2],x=o+1776|0,c=x,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1768>>2]=e[n>>2],e[o+1772>>2]=a,L=0;e:{t:{i:switch(we(i,0)-55|0){case 65:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,i=Z(36),e[i+4>>2]=0,e[i+8>>2]=0,L=e[v>>2],g=e[x>>2],c=e[x+4>>2],a=e[o+1772>>2],n=e[o+1768>>2],e[i+32>>2]=62,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=45296,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 38:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,i=Z(36),e[i+4>>2]=0,e[i+8>>2]=0,L=e[v>>2],g=e[x>>2],c=e[x+4>>2],a=e[o+1772>>2],n=e[o+1768>>2],e[i+32>>2]=34,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=44092,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 21:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,i=Z(36),e[i+4>>2]=0,e[i+8>>2]=0,L=e[v>>2],g=e[x>>2],c=e[x+4>>2],a=e[o+1772>>2],n=e[o+1768>>2],e[i+32>>2]=19,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=41020,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 47:n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+1528>>2]=0,e[o+1520>>2]=0,e[o+1524>>2]=0;n:{s:{if(!y[e[i+12>>2]+10|0]||!u5(i,38))break s;if((Hm(i,o+1520|0,0)|0)==1||(Ve(i,39)|0)==1)break n}n=Z(48),i=o+1752|0,e[i+8>>2]=0,e[i>>2]=0,e[i+4>>2]=0;s:{r:{if(g=o+1520|0,c=e[g+4>>2],a=e[g>>2],(c|0)!=(a|0)){if(c=c-a|0,(c|0)<0)break r;a=Z(c),e[i>>2]=a,e[i+4>>2]=a,e[i+8>>2]=a+(c>>3<<3),c=e[g>>2],g=e[g+4>>2]-c|0,(g|0)>0&&(a=Ce(a,c,g)+g|0),e[i+4>>2]=a}break s}Be(),Ie()}e[n+4>>2]=0,e[n+8>>2]=0,e[n>>2]=53648,c=o+1768|0,a=e[c+4>>2],e[n+12>>2]=e[c>>2],e[n+16>>2]=a,a=e[c+12>>2],e[n+20>>2]=e[c+8>>2],e[n+24>>2]=a,e[n+28>>2]=e[c+16>>2],e[n+32>>2]=42,e[n+44>>2]=0,e[n+36>>2]=0,e[n+40>>2]=0,e[n>>2]=44564;s:{r:{if(a=i,c=e[i+4>>2],i=e[i>>2],(c|0)!=(i|0)){if(c=c-i|0,(c|0)<0)break r;i=Z(c),e[n+36>>2]=i,e[n+40>>2]=i,e[n+44>>2]=i+(c>>3<<3),c=e[a>>2],g=e[a+4>>2]-c|0,(g|0)>0&&(i=Ce(i,c,g)+g|0),e[n+40>>2]=i}break s}Be(),Ie()}if(i=e[r>>2],e[r>>2]=n,i&&F[e[e[i>>2]+4>>2]](i),i=e[a>>2],i&&(e[a+4>>2]=i,P(i)),i=e[o+1520>>2],!i)break t;e[o+1524>>2]=i,P(i);break t}i=e[o+1520>>2],i&&P(i);break e;case 10:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+40>>2]=e[v>>2],n=e[x+4>>2],e[o+32>>2]=e[x>>2],e[o+36>>2]=n,n=e[o+1772>>2],e[o+24>>2]=e[o+1768>>2],e[o+28>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+40>>2],L=e[o+32>>2],g=e[o+36>>2],c=e[o+24>>2],a=e[o+28>>2],e[i+32>>2]=10,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=40260,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 11:for(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,a=b-32|0,b=a,p=Z(84),n=p,e[n+4>>2]=0,e[n+8>>2]=0,n=o+1768|0,_=e[n+16>>2],L=e[n+8>>2],g=e[n+12>>2],c=e[n>>2],n=e[n+4>>2],e[p+44>>2]=0,e[p+36>>2]=0,e[p+40>>2]=0,e[p+32>>2]=11,e[p+12>>2]=c,e[p+16>>2]=n,e[p+20>>2]=L,e[p+24>>2]=g,e[p+28>>2]=_,e[p>>2]=40372,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ne(p+48|0,-1,a+8|0),b=a+32|0,g=p+36|0,L=b-112|0,b=L,a=L- -64|0,e[a>>2]=0,e[L+56>>2]=0,e[L+60>>2]=0,e[L+48>>2]=0,e[L+52>>2]=0,c=Ne(L+72|0,-1,L+48|0);;){n:{if(e[a>>2]=0,e[L+56>>2]=0,e[L+60>>2]=0,e[L+48>>2]=0,e[L+52>>2]=0,n=Ne(L+8|0,-1,L+48|0),(we(i,0)|0)!=54&&(we(i,0)|0)!=126)break n;qt(i,c),te(n),n=e[g+4>>2],n>>>0<nt[g+8>>2]?(at=g,Ct=fe(n,c)+36|0,e[at+4>>2]=Ct):kT(g,c);continue}break}if(Di(c,n),te(n),x=0,e[g>>2]==e[g+4>>2]&&(a=Z(12),e[L+48>>2]=a,n=a+12|0,e[L+56>>2]=n,S[a+11|0]=5,e[a>>2]=1635131489,e[a+4>>2]=114,e[L+52>>2]=n,x=Cn(i,L+48|0,10925),S[a+11|0]<0&&P(e[a>>2]),P(a)),te(c),b=L+112|0,(x|0)==1){if(!p)break e;F[e[e[p>>2]+4>>2]](p);break e}if(Di(p+48|0,e[p+40>>2]-36|0),at=p,Ct=te(e[p+40>>2]-36|0),e[at+40>>2]=Ct,i=e[r>>2],e[r>>2]=p,!i)break t;F[e[e[i>>2]+4>>2]](i);break t;case 46:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,i=Z(36),e[i+4>>2]=0,e[i+8>>2]=0,L=e[v>>2],g=e[x>>2],c=e[x+4>>2],a=e[o+1772>>2],n=e[o+1768>>2],e[i+32>>2]=39,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=44272,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 12:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o- -64>>2]=e[v>>2],n=e[x+4>>2],e[o+56>>2]=e[x>>2],e[o+60>>2]=n,n=e[o+1772>>2],e[o+48>>2]=e[o+1768>>2],e[o+52>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+64>>2],L=e[o+56>>2],g=e[o+60>>2],c=e[o+48>>2],a=e[o+52>>2],e[i+32>>2]=12,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=40472,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 13:n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,p=b-32|0,b=p,v=Z(176),n=v,e[n+4>>2]=0,e[n+8>>2]=0,n=o+1768|0,_=e[n+16>>2],L=e[n+8>>2],g=e[n+12>>2],c=e[n>>2],a=e[n+4>>2],S[v+36|0]=0,e[v+32>>2]=13,e[v+12>>2]=c,e[v+16>>2]=a,e[v+20>>2]=L,e[v+24>>2]=g,e[v+28>>2]=_,e[v>>2]=40584,e[p+24>>2]=0,e[p+16>>2]=0,e[p+20>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,c=p+8|0,Ne(v+40|0,-1,c),e[v+108>>2]=0,e[v+112>>2]=0,e[v+100>>2]=0,e[v+104>>2]=0,e[v+92>>2]=0,e[v+96>>2]=0,e[v+84>>2]=0,e[v+88>>2]=0,e[v+76>>2]=0,e[v+80>>2]=0,e[v+120>>2]=0,e[v+124>>2]=0,e[v+116>>2]=1065353216,e[v+128>>2]=0,e[v+132>>2]=0,e[v+136>>2]=1065353216,e[p+24>>2]=0,e[p+16>>2]=0,e[p+20>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,a=v+140|0,Ne(a,-1,c),b=p+32|0,n=Ne(o+1712|0,0,n),ap(i,a,n),te(n);n:{if((f8(i,v+36|0)|0)==1||($f(i,v+76|0)|0)==1)break n;if(i=e[r>>2],e[r>>2]=v,!i)break t;F[e[e[i>>2]+4>>2]](i);break t}if(!v)break e;F[e[e[v>>2]+4>>2]](v);break e;case 14:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),c=Z(72),i=b-32|0,b=i,e[c+4>>2]=0,e[c+8>>2]=0,e[c>>2]=53648,a=o+1768|0,n=e[a+4>>2],e[c+12>>2]=e[a>>2],e[c+16>>2]=n,n=e[a+12>>2],e[c+20>>2]=e[a+8>>2],e[c+24>>2]=n,e[c+28>>2]=e[a+16>>2],e[c+32>>2]=14,e[c>>2]=40688,e[i+24>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,Ne(c+36|0,-1,i+8|0),b=i+32|0,i=e[r>>2],e[r>>2]=c,!i)break t;F[e[e[i>>2]+4>>2]](i);break t;case 45:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+80>>2]=e[x>>2],e[o+84>>2]=n,e[o+88>>2]=e[v>>2],n=e[o+1772>>2],e[o+72>>2]=e[o+1768>>2],e[o+76>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+88>>2],L=e[o+80>>2],g=e[o+84>>2],c=e[o+72>>2],a=e[o+76>>2],e[i+32>>2]=40,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=44340,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 44:g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),_=b-32|0,b=_,p=Z(176),n=p,e[n+4>>2]=0,e[n+8>>2]=0,n=o+1768|0,L=e[n+16>>2],g=e[n+8>>2],c=e[n+12>>2],a=e[n>>2],n=e[n+4>>2],S[p+36|0]=0,e[p+32>>2]=41,e[p+12>>2]=a,e[p+16>>2]=n,e[p+20>>2]=g,e[p+24>>2]=c,e[p+28>>2]=L,e[p>>2]=44452,e[_+24>>2]=0,e[_+16>>2]=0,e[_+20>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,n=_+8|0,Ne(p+40|0,-1,n),e[p+108>>2]=0,e[p+112>>2]=0,e[p+100>>2]=0,e[p+104>>2]=0,e[p+92>>2]=0,e[p+96>>2]=0,e[p+84>>2]=0,e[p+88>>2]=0,e[p+76>>2]=0,e[p+80>>2]=0,e[p+120>>2]=0,e[p+124>>2]=0,e[p+116>>2]=1065353216,e[p+128>>2]=0,e[p+132>>2]=0,e[p+136>>2]=1065353216,e[_+24>>2]=0,e[_+16>>2]=0,e[_+20>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,Ne(p+140|0,-1,n),b=_+32|0;n:{if((f8(i,p+36|0)|0)==1||($f(i,p+76|0)|0)==1)break n;if(c=i,i=Ne(o+1672|0,0,o+1768|0),ap(c,p+140|0,i),te(i),i=e[r>>2],e[r>>2]=p,!i)break t;F[e[e[i>>2]+4>>2]](i);break t}if(!p)break e;F[e[e[p>>2]+4>>2]](p);break e;case 29:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+112>>2]=e[v>>2],n=e[x+4>>2],e[o+104>>2]=e[x>>2],e[o+108>>2]=n,n=e[o+1772>>2],e[o+96>>2]=e[o+1768>>2],e[o+100>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+112>>2],L=e[o+104>>2],g=e[o+108>>2],c=e[o+96>>2],a=e[o+100>>2],e[i+32>>2]=24,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=41692,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 30:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+136>>2]=e[v>>2],n=e[x+4>>2],e[o+128>>2]=e[x>>2],e[o+132>>2]=n,n=e[o+1772>>2],e[o+120>>2]=e[o+1768>>2],e[o+124>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+136>>2],L=e[o+128>>2],g=e[o+132>>2],c=e[o+120>>2],a=e[o+124>>2],e[i+32>>2]=25,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=41804,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 31:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+160>>2]=e[v>>2],n=e[x+4>>2],e[o+152>>2]=e[x>>2],e[o+156>>2]=n,n=e[o+1772>>2],e[o+144>>2]=e[o+1768>>2],e[o+148>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+160>>2],L=e[o+152>>2],g=e[o+156>>2],c=e[o+144>>2],a=e[o+148>>2],e[i+32>>2]=26,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=41916,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 25:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+184>>2]=e[v>>2],n=e[x+4>>2],e[o+176>>2]=e[x>>2],e[o+180>>2]=n,n=e[o+1772>>2],e[o+168>>2]=e[o+1768>>2],e[o+172>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+184>>2],L=e[o+176>>2],g=e[o+180>>2],c=e[o+168>>2],a=e[o+172>>2],e[i+32>>2]=20,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=41184,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 26:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+208>>2]=e[v>>2],n=e[x+4>>2],e[o+200>>2]=e[x>>2],e[o+204>>2]=n,n=e[o+1772>>2],e[o+192>>2]=e[o+1768>>2],e[o+196>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+208>>2],L=e[o+200>>2],g=e[o+204>>2],c=e[o+192>>2],a=e[o+196>>2],e[i+32>>2]=21,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=41296,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 28:if(L=o+1664|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1656|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1648|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1640|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1632>>2]=e[n>>2],e[o+1636>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,e[o+272>>2]=e[v>>2],n=e[x+4>>2],e[o+264>>2]=e[x>>2],e[o+268>>2]=n,n=e[c+4>>2],e[o+224>>2]=e[c>>2],e[o+228>>2]=n,n=e[_+4>>2],e[o+232>>2]=e[_>>2],e[o+236>>2]=n,n=e[p+4>>2],e[o+240>>2]=e[p>>2],e[o+244>>2]=n,e[o+248>>2]=e[L>>2],n=e[o+1772>>2],e[o+256>>2]=e[o+1768>>2],e[o+260>>2]=n,n=e[o+1636>>2],e[o+216>>2]=e[o+1632>>2],e[o+220>>2]=n,X=b-160|0,b=X,j=e[o+240>>2],e[X+136>>2]=0,e[X+128>>2]=0,e[X+132>>2]=0,e[X+120>>2]=0,e[X+124>>2]=0,pe=Ne(X+80|0,-1,X+120|0),n=e[o+268>>2],e[X+8>>2]=e[o+264>>2],e[X+12>>2]=n,e[X+16>>2]=e[o+272>>2],n=e[o+260>>2],e[X>>2]=e[o+256>>2],e[X+4>>2]=n,n=1,(b2(i,X,pe)|0)!=1&&(w2(i,X+72|0),v2(i,X- -64|0),i=Z(96),De=fe(X+24|0,pe),x=e[X+64>>2],v=e[X+68>>2],p=e[X+72>>2],_=e[X+76>>2],M=fe(X+120|0,De),e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+272>>2],g=e[o+264>>2],c=e[o+268>>2],a=e[o+256>>2],n=e[o+260>>2],e[i+32>>2]=23,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=41676,fe(i+36|0,M),te(M),e[i+88>>2]=p,e[i+92>>2]=_,e[i+80>>2]=x,e[i+84>>2]=v,e[i+72>>2]=j,e[i>>2]=41500,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(De),n=0),te(pe),b=X+160|0,!n)break t;break e;case 53:if(L=o+1624|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1616|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1608|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1600|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1592>>2]=e[n>>2],e[o+1596>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,e[o+336>>2]=e[v>>2],n=e[x+4>>2],e[o+328>>2]=e[x>>2],e[o+332>>2]=n,n=e[c+4>>2],e[o+288>>2]=e[c>>2],e[o+292>>2]=n,n=e[_+4>>2],e[o+296>>2]=e[_>>2],e[o+300>>2]=n,n=e[p+4>>2],e[o+304>>2]=e[p>>2],e[o+308>>2]=n,e[o+312>>2]=e[L>>2],n=e[o+1772>>2],e[o+320>>2]=e[o+1768>>2],e[o+324>>2]=n,n=e[o+1596>>2],e[o+280>>2]=e[o+1592>>2],e[o+284>>2]=n,X=b-160|0,b=X,j=e[o+304>>2],e[X+136>>2]=0,e[X+128>>2]=0,e[X+132>>2]=0,e[X+120>>2]=0,e[X+124>>2]=0,pe=Ne(X+80|0,-1,X+120|0),n=e[o+332>>2],e[X+8>>2]=e[o+328>>2],e[X+12>>2]=n,e[X+16>>2]=e[o+336>>2],n=e[o+324>>2],e[X>>2]=e[o+320>>2],e[X+4>>2]=n,n=1,(b2(i,X,pe)|0)!=1&&(w2(i,X+72|0),v2(i,X- -64|0),i=Z(96),De=fe(X+24|0,pe),x=e[X+64>>2],v=e[X+68>>2],p=e[X+72>>2],_=e[X+76>>2],M=fe(X+120|0,De),e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+336>>2],g=e[o+328>>2],c=e[o+332>>2],a=e[o+320>>2],n=e[o+324>>2],e[i+32>>2]=49,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=44840,fe(i+36|0,M),te(M),e[i+88>>2]=p,e[i+92>>2]=_,e[i+80>>2]=x,e[i+84>>2]=v,e[i+72>>2]=j,e[i>>2]=44664,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(De),n=0),te(pe),b=X+160|0,!n)break t;break e;case 18:if(e[o+1536>>2]=0,n=o+1528|0,e[n>>2]=0,e[n+4>>2]=0,e[o+1520>>2]=0,e[o+1524>>2]=0,e[o+1572>>2]=0,e[o+1556>>2]=0,e[o+1540>>2]=-1,e[o+1544>>2]=-1,(qE(i,o+1520|0,0)|0)==1)break e;if(i=Z(104),e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+1784>>2],n=o+1776|0,g=e[n>>2],c=e[n+4>>2],a=e[o+1772>>2],n=e[o+1768>>2],e[i+32>>2]=17,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=41088,Ce(i+36|0,o+1520|0,68),n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 64:if(L=e[i+92>>2]&1,n=_+H(L,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],g=o+1544|0,c=g,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!L,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),i=Z(40),a=e[g>>2],e[i+4>>2]=0,e[i+8>>2]=0,n=e[o+1772>>2],e[i+12>>2]=e[o+1768>>2],e[i+16>>2]=n,n=e[x+4>>2],e[i+20>>2]=e[x>>2],e[i+24>>2]=n,e[i+28>>2]=e[v>>2],e[i+32>>2]=61,e[i+36>>2]=a,e[i>>2]=45064,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 7:if(L=e[i+92>>2]&1,n=_+H(L,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],g=o+1544|0,c=g,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!L,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),i=Z(40),a=e[g>>2],e[i+4>>2]=0,e[i+8>>2]=0,n=e[o+1772>>2],e[i+12>>2]=e[o+1768>>2],e[i+16>>2]=n,n=e[x+4>>2],e[i+20>>2]=e[x>>2],e[i+24>>2]=n,e[i+28>>2]=e[v>>2],e[i+32>>2]=7,e[i+36>>2]=a,e[i>>2]=39912,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 17:if(n=Z(40),c=e[i+92>>2]&1,a=_+H(c,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,a=e[a+24>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[n+4>>2]=0,e[n+8>>2]=0,i=e[o+1772>>2],e[n+12>>2]=e[o+1768>>2],e[n+16>>2]=i,i=e[x+4>>2],e[n+20>>2]=e[x>>2],e[n+24>>2]=i,e[n+28>>2]=e[v>>2],e[n+32>>2]=16,e[n+36>>2]=a,e[n>>2]=40788,i=e[r>>2],e[r>>2]=n,!i)break t;F[e[e[i>>2]+4>>2]](i);break t;case 19:if(L=e[i+92>>2]&1,n=_+H(L,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],g=o+1544|0,c=g,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!L,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),i=Z(40),a=e[g>>2],e[i+4>>2]=0,e[i+8>>2]=0,n=e[o+1772>>2],e[i+12>>2]=e[o+1768>>2],e[i+16>>2]=n,n=e[x+4>>2],e[i+20>>2]=e[x>>2],e[i+24>>2]=n,e[i+28>>2]=e[v>>2],e[i+32>>2]=18,e[i+36>>2]=a,e[i>>2]=40904,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 33:g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+352>>2]=e[x>>2],e[o+356>>2]=n,e[o+360>>2]=e[v>>2],n=e[o+1772>>2],e[o+344>>2]=e[o+1768>>2],e[o+348>>2]=n,n=b-240|0,b=n,e[n+176>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+160>>2]=0,e[n+164>>2]=0,a=n+160|0,j=Ne(n+200|0,-1,a),e[n+152>>2]=0,e[n+144>>2]=0,e[n+148>>2]=0,e[n+136>>2]=0,e[n+140>>2]=0,x=Ne(a,-1,n+136|0),a=e[o+356>>2],e[n+40>>2]=e[o+352>>2],e[n+44>>2]=a,e[n+48>>2]=e[o+360>>2],a=e[o+348>>2],e[n+32>>2]=e[o+344>>2],e[n+36>>2]=a,a=1;n:{if((b2(i,n+32|0,j)|0)==1||(e[n+24>>2]=e[o+360>>2],a=e[o+356>>2],e[n+16>>2]=e[o+352>>2],e[n+20>>2]=a,a=e[o+348>>2],e[n+8>>2]=e[o+344>>2],e[n+12>>2]=a,a=1,(b2(i,n+8|0,x)|0)==1))break n;i=Z(108),v=fe(n+96|0,j),p=fe(n+56|0,x),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+360>>2],L=e[o+352>>2],g=e[o+356>>2],c=e[o+344>>2],a=e[o+348>>2],e[i+32>>2]=28,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=42148,fe(i+36|0,v),fe(i+72|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),te(p),te(v),a=0}if(te(x),te(j),b=n+240|0,(a|0)!=1)break t;break e;case 34:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+376>>2]=e[x>>2],e[o+380>>2]=n,e[o+384>>2]=e[v>>2],n=e[o+1772>>2],e[o+368>>2]=e[o+1768>>2],e[o+372>>2]=n,v=b-128|0,b=v,e[v+80>>2]=0,e[v+72>>2]=0,e[v+76>>2]=0,e[v+64>>2]=0,e[v+68>>2]=0,p=Ne(v+88|0,-1,v- -64|0),n=e[o+380>>2],e[v+8>>2]=e[o+376>>2],e[v+12>>2]=n,e[v+16>>2]=e[o+384>>2],n=e[o+372>>2],e[v>>2]=e[o+368>>2],e[v+4>>2]=n,n=1,(b2(i,v,p)|0)!=1&&(i=Z(72),_=fe(v+24|0,p),e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+384>>2],g=e[o+376>>2],c=e[o+380>>2],a=e[o+368>>2],n=e[o+372>>2],e[i+32>>2]=30,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=42384,fe(i+36|0,_),n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(_),n=0),te(p),b=v+128|0,!n)break t;break e;case 20:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+400>>2]=e[x>>2],e[o+404>>2]=n,e[o+408>>2]=e[v>>2],n=e[o+1772>>2],e[o+392>>2]=e[o+1768>>2],e[o+396>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+408>>2],L=e[o+400>>2],g=e[o+404>>2],c=e[o+392>>2],a=e[o+396>>2],e[i+32>>2]=29,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=42272,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 36:g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+424>>2]=e[x>>2],e[o+428>>2]=n,e[o+432>>2]=e[v>>2],n=e[o+1772>>2],e[o+416>>2]=e[o+1768>>2],e[o+420>>2]=n,j=o+416|0,M=b-352|0,b=M,e[M+328>>2]=0,e[M+320>>2]=0,e[M+324>>2]=0,e[M+312>>2]=0,e[M+316>>2]=0,n=M+312|0,p=Ne(M+272|0,-1,n),e[M+328>>2]=0,e[M+320>>2]=0,e[M+324>>2]=0,e[M+312>>2]=0,e[M+316>>2]=0,v=Ne(M+232|0,-1,n);n:{s:{r:{if((we(i,0)|0)!=26||(we(i,1)|0)!=27)break r;if(!y[e[i+12>>2]+15|0]){e[M+16>>2]=e[j+16>>2],r=e[j+12>>2],e[M+8>>2]=e[j+8>>2],e[M+12>>2]=r,r=e[j+4>>2],e[M>>2]=e[j>>2],e[M+4>>2]=r,Kt(i,M,16368,0),x=1;break n}if(e[M+40>>2]=e[j+16>>2],n=e[j+12>>2],e[M+32>>2]=e[j+8>>2],e[M+36>>2]=n,n=e[j+4>>2],e[M+24>>2]=e[j>>2],e[M+28>>2]=n,x=1,(b2(i,M+24|0,p)|0)==1||(qt(i,v)|0)==1)break n;i=Z(108),x=fe(M+192|0,p),_=fe(M+312|0,x),e[i+4>>2]=0,e[i+8>>2]=0,L=e[j+16>>2],g=e[j+8>>2],c=e[j+12>>2],a=e[j>>2],n=e[j+4>>2],e[i+32>>2]=32,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=42788,fe(i+36|0,_),te(_),e[i>>2]=42616,fe(i+72|0,v);break s}if(x=1,(qt(i,p)|0)==1)break n;n=Ne(M+152|0,0,j);r:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break r;if(qt(i,v),te(n),!y[e[i+12>>2]+15|0]){e[M- -64>>2]=e[j+16>>2],r=e[j+12>>2],e[M+56>>2]=e[j+8>>2],e[M+60>>2]=r,r=e[j+4>>2],e[M+48>>2]=e[j>>2],e[M+52>>2]=r,Kt(i,M+48|0,16325,0);break n}i=Z(108),x=fe(M+112|0,p),_=fe(M+312|0,x),e[i+4>>2]=0,e[i+8>>2]=0,L=e[j+16>>2],g=e[j+8>>2],c=e[j+12>>2],a=e[j>>2],n=e[j+4>>2],e[i+32>>2]=32,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=42788,fe(i+36|0,_),te(_),e[i>>2]=42616,fe(i+72|0,v);break s}Di(v,n),te(n),i=Z(108),x=fe(M+72|0,v),_=fe(M+312|0,x),e[i+4>>2]=0,e[i+8>>2]=0,L=e[j+16>>2],g=e[j+8>>2],c=e[j+12>>2],a=e[j>>2],n=e[j+4>>2],e[i+32>>2]=32,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=42788,fe(i+36|0,_),te(_),e[i>>2]=42616,fe(i+72|0,p)}n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(x),x=0}if(te(v),te(p),b=M+352|0,(x|0)!=1)break t;break e;case 37:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+456>>2]=e[v>>2],n=e[x+4>>2],e[o+448>>2]=e[x>>2],e[o+452>>2]=n,n=e[o+1772>>2],e[o+440>>2]=e[o+1768>>2],e[o+444>>2]=n,v=b-128|0,b=v,e[v+80>>2]=0,e[v+72>>2]=0,e[v+76>>2]=0,e[v+64>>2]=0,e[v+68>>2]=0,p=Ne(v+88|0,-1,v- -64|0),n=e[o+452>>2],e[v+8>>2]=e[o+448>>2],e[v+12>>2]=n,e[v+16>>2]=e[o+456>>2],n=e[o+444>>2],e[v>>2]=e[o+440>>2],e[v+4>>2]=n,n=1,(b2(i,v,p)|0)!=1&&(i=Z(72),_=fe(v+24|0,p),e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+456>>2],g=e[o+448>>2],c=e[o+452>>2],a=e[o+440>>2],n=e[o+444>>2],e[i+32>>2]=33,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=42804,fe(i+36|0,_),n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(_),n=0),te(p),b=v+128|0,!n)break t;break e;case 35:if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+480>>2]=e[v>>2],n=e[x+4>>2],e[o+472>>2]=e[x>>2],e[o+476>>2]=n,n=e[o+1772>>2],e[o+464>>2]=e[o+1768>>2],e[o+468>>2]=n,v=b-128|0,b=v,e[v+80>>2]=0,e[v+72>>2]=0,e[v+76>>2]=0,e[v+64>>2]=0,e[v+68>>2]=0,p=Ne(v+88|0,-1,v- -64|0),n=e[o+476>>2],e[v+8>>2]=e[o+472>>2],e[v+12>>2]=n,e[v+16>>2]=e[o+480>>2],n=e[o+468>>2],e[v>>2]=e[o+464>>2],e[v+4>>2]=n,n=1,(b2(i,v,p)|0)!=1&&(i=Z(72),_=fe(v+24|0,p),e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+480>>2],g=e[o+472>>2],c=e[o+476>>2],a=e[o+464>>2],n=e[o+468>>2],e[i+32>>2]=31,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=42500,fe(i+36|0,_),n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(_),n=0),te(p),b=v+128|0,!n)break t;break e;case 54:g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,n=o+1520|0,an(i,n),c=n,n=o+1768|0,g=Ne(c,0,n),c=Ne(o+1480|0,0,n),y[e[i+12>>2]+10|0]&&(n=fe(o+1440|0,g),ap(i,g,n),te(n),p=i,i=fe(o+1400|0,c),ap(p,c,i),te(i)),i=Z(108),e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=53648,a=o+1768|0,n=e[a+4>>2],e[i+12>>2]=e[a>>2],e[i+16>>2]=n,n=e[a+12>>2],e[i+20>>2]=e[a+8>>2],e[i+24>>2]=n,e[i+28>>2]=e[a+16>>2],e[i+32>>2]=50,e[i>>2]=42920,fe(i+36|0,g),fe(i+72|0,c),n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(c),te(g);break t;case 22:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+496>>2]=e[x>>2],e[o+500>>2]=n,e[o+504>>2]=e[v>>2],n=e[o+1772>>2],e[o+488>>2]=e[o+1768>>2],e[o+492>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+504>>2],L=e[o+496>>2],g=e[o+500>>2],c=e[o+488>>2],a=e[o+492>>2],e[i+32>>2]=51,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43020,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 58:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,n=o+1520|0,an(i,n),g=Ne(n,0,o+1768|0),(qt(i,g)|0)==1){te(g);break e}c=Ne(o+1480|0,0,o+1768|0),n=fe(o+1360|0,c),i=ap(i,c,n),te(n),i&&(n=b-48|0,b=n,i=fe(n+8|0,g),Di(g,c),Di(c,i),te(i),b=n+48|0),i=Z(108),e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=53648,a=o+1768|0,n=e[a+4>>2],e[i+12>>2]=e[a>>2],e[i+16>>2]=n,n=e[a+12>>2],e[i+20>>2]=e[a+8>>2],e[i+24>>2]=n,e[i+28>>2]=e[a+16>>2],e[i+32>>2]=52,e[i>>2]=43132,fe(i+36|0,g),fe(i+72|0,c),n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(c),te(g);break t;case 56:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+520>>2]=e[x>>2],e[o+524>>2]=n,e[o+528>>2]=e[v>>2],n=e[o+1772>>2],e[o+512>>2]=e[o+1768>>2],e[o+516>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+528>>2],L=e[o+520>>2],g=e[o+524>>2],c=e[o+512>>2],a=e[o+516>>2],e[i+32>>2]=53,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43232,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 59:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+544>>2]=e[x>>2],e[o+548>>2]=n,e[o+552>>2]=e[v>>2],n=e[o+1772>>2],e[o+536>>2]=e[o+1768>>2],e[o+540>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+552>>2],L=e[o+544>>2],g=e[o+548>>2],c=e[o+536>>2],a=e[o+540>>2],e[i+32>>2]=56,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43344,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 57:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+568>>2]=e[x>>2],e[o+572>>2]=n,e[o+576>>2]=e[v>>2],n=e[o+1772>>2],e[o+560>>2]=e[o+1768>>2],e[o+564>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+576>>2],L=e[o+568>>2],g=e[o+572>>2],c=e[o+560>>2],a=e[o+564>>2],e[i+32>>2]=54,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43456,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 60:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+592>>2]=e[x>>2],e[o+596>>2]=n,e[o+600>>2]=e[v>>2],n=e[o+1772>>2],e[o+584>>2]=e[o+1768>>2],e[o+588>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+600>>2],L=e[o+592>>2],g=e[o+596>>2],c=e[o+584>>2],a=e[o+588>>2],e[i+32>>2]=55,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43568,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 55:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+616>>2]=e[x>>2],e[o+620>>2]=n,e[o+624>>2]=e[v>>2],n=e[o+1772>>2],e[o+608>>2]=e[o+1768>>2],e[o+612>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+624>>2],L=e[o+616>>2],g=e[o+620>>2],c=e[o+608>>2],a=e[o+612>>2],e[i+32>>2]=57,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43680,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 40:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+640>>2]=e[x>>2],e[o+644>>2]=n,e[o+648>>2]=e[v>>2],n=e[o+1772>>2],e[o+632>>2]=e[o+1768>>2],e[o+636>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+648>>2],L=e[o+640>>2],g=e[o+644>>2],c=e[o+632>>2],a=e[o+636>>2],e[i+32>>2]=36,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=43792,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 42:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,n=o+1520|0,an(i,n),(xN(i,n)|0)==1)break e;if(i=Z(44),g=e[o+1520>>2],c=e[o+1524>>2],e[i+4>>2]=0,e[i+8>>2]=0,n=e[o+1772>>2],e[i+12>>2]=e[o+1768>>2],e[i+16>>2]=n,a=o+1776|0,n=e[a+4>>2],e[i+20>>2]=e[a>>2],e[i+24>>2]=n,e[i+28>>2]=e[o+1784>>2],e[i+32>>2]=37,e[i+36>>2]=g,e[i+40>>2]=c,e[i>>2]=43904,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 41:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),i=Z(36),e[i+4>>2]=0,e[i+8>>2]=0,L=e[v>>2],g=e[x>>2],c=e[x+4>>2],a=e[o+1772>>2],n=e[o+1768>>2],e[i+32>>2]=35,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=44024,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 62:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+664>>2]=e[x>>2],e[o+668>>2]=n,e[o+672>>2]=e[v>>2],n=e[o+1772>>2],e[o+656>>2]=e[o+1768>>2],e[o+660>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+672>>2],L=e[o+664>>2],g=e[o+668>>2],c=e[o+656>>2],a=e[o+660>>2],e[i+32>>2]=59,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=44856,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 43:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],e[o+688>>2]=e[x>>2],e[o+692>>2]=n,e[o+696>>2]=e[v>>2],n=e[o+1772>>2],e[o+680>>2]=e[o+1768>>2],e[o+684>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+696>>2],L=e[o+688>>2],g=e[o+692>>2],c=e[o+680>>2],a=e[o+684>>2],e[i+32>>2]=38,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=44160,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,!a)break t;break e;case 2:L=o+1552|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1544|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1536|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),e[o+760>>2]=e[v>>2],n=e[x+4>>2],e[o+752>>2]=e[x>>2],e[o+756>>2]=n,n=e[c+4>>2],e[o+712>>2]=e[c>>2],e[o+716>>2]=n,n=e[_+4>>2],e[o+720>>2]=e[_>>2],e[o+724>>2]=n,n=e[p+4>>2],e[o+728>>2]=e[p>>2],e[o+732>>2]=n,e[o+736>>2]=e[L>>2],n=e[o+1772>>2],e[o+744>>2]=e[o+1768>>2],e[o+748>>2]=n,n=e[o+1524>>2],e[o+704>>2]=e[o+1520>>2],e[o+708>>2]=n,M=b-16|0,b=M,j=e[o+728>>2],w2(i,M+8|0),v2(i,M),i=Z(56),x=e[M+8>>2],v=e[M+12>>2],p=e[M>>2],_=e[M+4>>2],e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+760>>2],g=e[o+752>>2],c=e[o+756>>2],a=e[o+744>>2],n=e[o+748>>2],e[i+36>>2]=j,e[i+40>>2]=p,e[i+44>>2]=_,e[i+48>>2]=x,e[i+52>>2]=v,e[i+32>>2]=4,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=39792,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),b=M+16|0;break t;case 0:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),i=Z(40),e[i+4>>2]=0,e[i+8>>2]=0,L=e[v>>2],g=e[x>>2],c=e[x+4>>2],a=e[o+1768>>2],n=e[o+1772>>2],e[i+32>>2]=5,e[i+36>>2]=0,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=39688,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 6:L=o+1552|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1544|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1536|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),e[o+824>>2]=e[v>>2],n=e[x+4>>2],e[o+816>>2]=e[x>>2],e[o+820>>2]=n,n=e[c+4>>2],e[o+776>>2]=e[c>>2],e[o+780>>2]=n,n=e[_+4>>2],e[o+784>>2]=e[_>>2],e[o+788>>2]=n,n=e[p+4>>2],e[o+792>>2]=e[p>>2],e[o+796>>2]=n,e[o+800>>2]=e[L>>2],n=e[o+1772>>2],e[o+808>>2]=e[o+1768>>2],e[o+812>>2]=n,n=e[o+1524>>2],e[o+768>>2]=e[o+1520>>2],e[o+772>>2]=n,M=b-16|0,b=M,j=e[o+792>>2],w2(i,M+8|0),v2(i,M),i=Z(56),x=e[M+8>>2],v=e[M+12>>2],p=e[M>>2],_=e[M+4>>2],e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+824>>2],g=e[o+816>>2],c=e[o+820>>2],a=e[o+808>>2],n=e[o+812>>2],e[i+36>>2]=j,e[i+40>>2]=p,e[i+44>>2]=_,e[i+48>>2]=x,e[i+52>>2]=v,e[i+32>>2]=6,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=39568,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),b=M+16|0;break t;case 1:L=o+1552|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1544|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1536|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),e[o+888>>2]=e[v>>2],n=e[x+4>>2],e[o+880>>2]=e[x>>2],e[o+884>>2]=n,n=e[c+4>>2],e[o+840>>2]=e[c>>2],e[o+844>>2]=n,n=e[_+4>>2],e[o+848>>2]=e[_>>2],e[o+852>>2]=n,n=e[p+4>>2],e[o+856>>2]=e[p>>2],e[o+860>>2]=n,e[o+864>>2]=e[L>>2],n=e[o+1772>>2],e[o+872>>2]=e[o+1768>>2],e[o+876>>2]=n,n=e[o+1524>>2],e[o+832>>2]=e[o+1520>>2],e[o+836>>2]=n,M=b-16|0,b=M,j=e[o+856>>2],w2(i,M+8|0),v2(i,M),i=Z(56),x=e[M+8>>2],v=e[M+12>>2],p=e[M>>2],_=e[M+4>>2],e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+888>>2],g=e[o+880>>2],c=e[o+884>>2],a=e[o+872>>2],n=e[o+876>>2],e[i+36>>2]=j,e[i+40>>2]=p,e[i+44>>2]=_,e[i+48>>2]=x,e[i+52>>2]=v,e[i+32>>2]=0,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=39004,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),b=M+16|0;break t;case 5:L=o+1552|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1544|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1536|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),e[o+952>>2]=e[v>>2],n=e[x+4>>2],e[o+944>>2]=e[x>>2],e[o+948>>2]=n,n=e[c+4>>2],e[o+904>>2]=e[c>>2],e[o+908>>2]=n,n=e[_+4>>2],e[o+912>>2]=e[_>>2],e[o+916>>2]=n,n=e[p+4>>2],e[o+920>>2]=e[p>>2],e[o+924>>2]=n,e[o+928>>2]=e[L>>2],n=e[o+1772>>2],e[o+936>>2]=e[o+1768>>2],e[o+940>>2]=n,n=e[o+1524>>2],e[o+896>>2]=e[o+1520>>2],e[o+900>>2]=n,M=b-16|0,b=M,j=e[o+920>>2],w2(i,M+8|0),v2(i,M),i=Z(56),x=e[M+8>>2],v=e[M+12>>2],p=e[M>>2],_=e[M+4>>2],e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+952>>2],g=e[o+944>>2],c=e[o+948>>2],a=e[o+936>>2],n=e[o+940>>2],e[i+36>>2]=j,e[i+40>>2]=p,e[i+44>>2]=_,e[i+48>>2]=x,e[i+52>>2]=v,e[i+32>>2]=3,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=39208,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),b=M+16|0;break t;case 3:L=o+1552|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1544|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1536|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),e[o+1016>>2]=e[v>>2],n=e[x+4>>2],e[o+1008>>2]=e[x>>2],e[o+1012>>2]=n,n=e[c+4>>2],e[o+968>>2]=e[c>>2],e[o+972>>2]=n,n=e[_+4>>2],e[o+976>>2]=e[_>>2],e[o+980>>2]=n,n=e[p+4>>2],e[o+984>>2]=e[p>>2],e[o+988>>2]=n,e[o+992>>2]=e[L>>2],n=e[o+1772>>2],e[o+1e3>>2]=e[o+1768>>2],e[o+1004>>2]=n,n=e[o+1524>>2],e[o+960>>2]=e[o+1520>>2],e[o+964>>2]=n,M=b-16|0,b=M,j=e[o+984>>2],w2(i,M+8|0),v2(i,M),i=Z(56),x=e[M+8>>2],v=e[M+12>>2],p=e[M>>2],_=e[M+4>>2],e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+1016>>2],g=e[o+1008>>2],c=e[o+1012>>2],a=e[o+1e3>>2],n=e[o+1004>>2],e[i+36>>2]=j,e[i+40>>2]=p,e[i+44>>2]=_,e[i+48>>2]=x,e[i+52>>2]=v,e[i+32>>2]=1,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=39328,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),b=M+16|0;break t;case 4:L=o+1552|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1544|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1536|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),e[o+1080>>2]=e[v>>2],n=e[x+4>>2],a=o+1072|0,e[a>>2]=e[x>>2],e[a+4>>2]=n,n=e[c+4>>2],a=o+1032|0,e[a>>2]=e[c>>2],e[a+4>>2]=n,n=e[_+4>>2],a=o+1040|0,e[a>>2]=e[_>>2],e[a+4>>2]=n,n=e[p+4>>2],a=o+1048|0,e[a>>2]=e[p>>2],e[a+4>>2]=n,e[o+1056>>2]=e[L>>2],n=e[o+1772>>2],e[o+1064>>2]=e[o+1768>>2],e[o+1068>>2]=n,n=e[o+1524>>2],e[o+1024>>2]=e[o+1520>>2],e[o+1028>>2]=n,M=b-16|0,b=M,j=e[(o+1024|0)+24>>2],w2(i,M+8|0),v2(i,M),n=Z(56),x=e[M+8>>2],v=e[M+12>>2],p=e[M>>2],_=e[M+4>>2],e[n+4>>2]=0,e[n+8>>2]=0,i=o+1064|0,L=e[i+16>>2],g=e[i+8>>2],c=e[i+12>>2],a=e[i>>2],i=e[i+4>>2],e[n+36>>2]=j,e[n+40>>2]=p,e[n+44>>2]=_,e[n+48>>2]=x,e[n+52>>2]=v,e[n+32>>2]=2,e[n+12>>2]=a,e[n+16>>2]=i,e[n+20>>2]=g,e[n+24>>2]=c,e[n+28>>2]=L,e[n>>2]=39448,i=e[r>>2],e[r>>2]=n,i&&F[e[e[i>>2]+4>>2]](i),b=M+16|0;break t;case 61:if(L=e[i+92>>2]&1,n=_+H(L,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],g=o+1544|0,c=g,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!L,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),i=Z(40),a=e[g>>2],e[i+4>>2]=0,e[i+8>>2]=0,n=e[o+1772>>2],e[i+12>>2]=e[o+1768>>2],e[i+16>>2]=n,n=e[x+4>>2],e[i+20>>2]=e[x>>2],e[i+24>>2]=n,e[i+28>>2]=e[v>>2],e[i+32>>2]=58,e[i+36>>2]=a,e[i>>2]=45180,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 48:if(g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1552>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1544|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1536|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1528|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1520>>2]=e[n>>2],e[o+1524>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1520|0),n=e[x+4>>2],a=o+1096|0,e[a>>2]=e[x>>2],e[a+4>>2]=n,e[o+1104>>2]=e[v>>2],e[o+1480>>2]=0,e[o+1484>>2]=0,n=e[o+1772>>2],e[o+1088>>2]=e[o+1768>>2],e[o+1092>>2]=n,(Z_(i,o+1088|0,o+1480|0)|0)==1)break e;if(i=Z(48),v=e[o+1480>>2],p=e[o+1484>>2],_=e[o+1544>>2],e[i+4>>2]=0,e[i+8>>2]=0,L=e[o+1784>>2],n=o+1776|0,g=e[n>>2],c=e[n+4>>2],a=e[o+1768>>2],n=e[o+1772>>2],e[i+36>>2]=_,e[i+40>>2]=v,e[i+44>>2]=p,e[i+32>>2]=43,e[i+12>>2]=a,e[i+16>>2]=n,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=45364,n=e[r>>2],e[r>>2]=i,!n)break t;F[e[e[n>>2]+4>>2]](n);break t;case 50:L=o+1352|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1344|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1336|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1328|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1320>>2]=e[n>>2],e[o+1324>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,e[o+1168>>2]=e[v>>2],n=e[x+4>>2],a=o+1160|0,e[a>>2]=e[x>>2],e[a+4>>2]=n,n=e[c+4>>2],a=o+1120|0,e[a>>2]=e[c>>2],e[a+4>>2]=n,n=e[_+4>>2],a=o+1128|0,e[a>>2]=e[_>>2],e[a+4>>2]=n,n=e[p+4>>2],a=o+1136|0,e[a>>2]=e[p>>2],e[a+4>>2]=n,e[o+1144>>2]=e[L>>2],n=e[o+1772>>2],e[o+1152>>2]=e[o+1768>>2],e[o+1156>>2]=n,n=e[o+1324>>2],e[o+1112>>2]=e[o+1320>>2],e[o+1116>>2]=n,V=b-256|0,b=V,n=o+1112|0,De=e[n+24>>2],e[V+144>>2]=De,W0(V+144|0,e[i+12>>2])||(e[V+168>>2]=e[n+16>>2],a=e[n+12>>2],e[V+160>>2]=e[n+8>>2],e[V+164>>2]=a,a=e[n+4>>2],e[V+152>>2]=e[n>>2],e[V+156>>2]=a,xe(V+192|0,V+144|0),n=e[V+164>>2],e[V+72>>2]=e[V+160>>2],e[V+76>>2]=n,e[V+80>>2]=e[V+168>>2],n=e[V+156>>2],e[V+64>>2]=e[V+152>>2],e[V+68>>2]=n,e[V+48>>2]=e[V+192>>2],Kt(i,V- -64|0,10012,V+48|0)),se=o+1152|0,Xe=Ne(V+152|0,0,se);n:{s:{if(!y[e[i+12>>2]+15|0])break s;r:{if((we(i,0)|0)!=54||(we(i,1)|0)==123||(we(i,1)|0)==121)break r;if((we(i,1)|0)!=54)break s}if(e[V+40>>2]=e[se+16>>2],n=e[se+12>>2],e[V+32>>2]=e[se+8>>2],e[V+36>>2]=n,n=e[se+4>>2],e[V+24>>2]=e[se>>2],e[V+28>>2]=n,n=1,(b2(i,V+24|0,Xe)|0)==1)break n}if(w2(i,V+144|0),v2(i,V+136|0),e[V+128>>2]=0,e[V+132>>2]=0,n=e[se+12>>2],e[V+8>>2]=e[se+8>>2],e[V+12>>2]=n,e[V+16>>2]=e[se+16>>2],n=e[se+4>>2],e[V>>2]=e[se>>2],e[V+4>>2]=n,n=1,(Z_(i,V,V+128|0)|0)==1)break n;i=Z(104),X=fe(V+88|0,Xe),M=e[V+136>>2],j=e[V+140>>2],x=e[V+144>>2],v=e[V+148>>2],p=e[V+128>>2],_=e[V+132>>2],pe=fe(V+192|0,X),e[i+4>>2]=0,e[i+8>>2]=0,L=e[se+16>>2],g=e[se+8>>2],c=e[se+12>>2],a=e[se+4>>2],n=e[se>>2],e[i+32>>2]=44,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=45728,fe(i+36|0,pe),te(pe),e[i+96>>2]=p,e[i+100>>2]=_,e[i+88>>2]=x,e[i+92>>2]=v,e[i+80>>2]=M,e[i+84>>2]=j,e[i+72>>2]=De,e[i>>2]=45572,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(X),n=0}if(te(Xe),b=V+256|0,(n|0)!=1)break t;break e;case 51:L=o+1312|0,g=e[i+92>>2]&1,n=_+H(g,36)|0,e[L>>2]=e[n+32>>2],a=e[n+28>>2],p=o+1304|0,c=p,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],_=o+1296|0,c=_,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1288|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1280>>2]=e[n>>2],e[o+1284>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,e[o+1232>>2]=e[v>>2],n=e[x+4>>2],a=o+1224|0,e[a>>2]=e[x>>2],e[a+4>>2]=n,n=e[c+4>>2],a=o+1184|0,e[a>>2]=e[c>>2],e[a+4>>2]=n,n=e[_+4>>2],a=o+1192|0,e[a>>2]=e[_>>2],e[a+4>>2]=n,n=e[p+4>>2],a=o+1200|0,e[a>>2]=e[p>>2],e[a+4>>2]=n,e[o+1208>>2]=e[L>>2],n=e[o+1772>>2],e[o+1216>>2]=e[o+1768>>2],e[o+1220>>2]=n,n=e[o+1284>>2],e[o+1176>>2]=e[o+1280>>2],e[o+1180>>2]=n,V=b-256|0,b=V,n=o+1176|0,De=e[n+24>>2],e[V+144>>2]=De,W0(V+144|0,e[i+12>>2])||(e[V+168>>2]=e[n+16>>2],a=e[n+12>>2],e[V+160>>2]=e[n+8>>2],e[V+164>>2]=a,a=e[n+4>>2],e[V+152>>2]=e[n>>2],e[V+156>>2]=a,xe(V+192|0,V+144|0),n=e[V+164>>2],e[V+72>>2]=e[V+160>>2],e[V+76>>2]=n,e[V+80>>2]=e[V+168>>2],n=e[V+156>>2],e[V+64>>2]=e[V+152>>2],e[V+68>>2]=n,e[V+48>>2]=e[V+192>>2],Kt(i,V- -64|0,10012,V+48|0)),se=o+1216|0,Xe=Ne(V+152|0,0,se);n:{s:{if(!y[e[i+12>>2]+15|0])break s;r:{if((we(i,0)|0)!=54||(we(i,1)|0)==123||(we(i,1)|0)==121)break r;if((we(i,1)|0)!=54)break s}if(e[V+40>>2]=e[se+16>>2],n=e[se+12>>2],e[V+32>>2]=e[se+8>>2],e[V+36>>2]=n,n=e[se+4>>2],e[V+24>>2]=e[se>>2],e[V+28>>2]=n,n=1,(b2(i,V+24|0,Xe)|0)==1)break n}if(w2(i,V+144|0),v2(i,V+136|0),e[V+128>>2]=0,e[V+132>>2]=0,n=e[se+12>>2],e[V+8>>2]=e[se+8>>2],e[V+12>>2]=n,e[V+16>>2]=e[se+16>>2],n=e[se+4>>2],e[V>>2]=e[se>>2],e[V+4>>2]=n,n=1,(Z_(i,V,V+128|0)|0)==1)break n;i=Z(104),X=fe(V+88|0,Xe),M=e[V+136>>2],j=e[V+140>>2],x=e[V+144>>2],v=e[V+148>>2],p=e[V+128>>2],_=e[V+132>>2],pe=fe(V+192|0,X),e[i+4>>2]=0,e[i+8>>2]=0,L=e[se+16>>2],g=e[se+8>>2],c=e[se+12>>2],a=e[se+4>>2],n=e[se>>2],e[i+32>>2]=45,e[i+12>>2]=n,e[i+16>>2]=a,e[i+20>>2]=g,e[i+24>>2]=c,e[i+28>>2]=L,e[i>>2]=45900,fe(i+36|0,pe),te(pe),e[i+96>>2]=p,e[i+100>>2]=_,e[i+88>>2]=x,e[i+92>>2]=v,e[i+80>>2]=M,e[i+84>>2]=j,e[i+72>>2]=De,e[i>>2]=45744,n=e[r>>2],e[r>>2]=i,n&&F[e[e[n>>2]+4>>2]](n),te(X),n=0}if(te(Xe),b=V+256|0,(n|0)!=1)break t;break e;case 52:g=e[i+92>>2]&1,n=_+H(g,36)|0,e[o+1512>>2]=e[n+32>>2],a=e[n+28>>2],c=o+1504|0,e[c>>2]=e[n+24>>2],e[c+4>>2]=a,a=e[n+20>>2],c=o+1496|0,e[c>>2]=e[n+16>>2],e[c+4>>2]=a,a=e[n+12>>2],c=o+1488|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=a,a=e[n+4>>2],e[o+1480>>2]=e[n>>2],e[o+1484>>2]=a,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,an(i,o+1480|0);n:{for(;;){s:{if(e[i+88>>2]){He=e[i+92>>2];break s}ri(o+1520|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,He=e[i+92>>2],c=_+H(n+He&1,36)|0,a=c,n=e[o+1524>>2],e[a>>2]=e[o+1520>>2],e[a+4>>2]=n,e[a+32>>2]=e[o+1552>>2],a=o+1544|0,n=e[a+4>>2],e[c+24>>2]=e[a>>2],e[c+28>>2]=n,a=o+1536|0,n=e[a+4>>2],e[c+16>>2]=e[a>>2],e[c+20>>2]=n,a=o+1528|0,n=e[a+4>>2],e[c+8>>2]=e[a>>2],e[c+12>>2]=n}if(c=_+H(He&1,36)|0,n=e[c+12>>2],a=o+1248|0,e[a>>2]=e[c+8>>2],e[a+4>>2]=n,e[o+1256>>2]=e[c+16>>2],n=e[c+4>>2],e[o+1240>>2]=e[c>>2],e[o+1244>>2]=n,(Z_(i,o+1240|0,o+1520|0)|0)==1)break n;if(S[(o+1264|0)+L|0]=e[o+1520>>2],L=L+1|0,(L|0)==16)break}if(c=Z(56),a=e[o+1504>>2],e[c+4>>2]=0,e[c+8>>2]=0,i=e[o+1772>>2],e[c+12>>2]=e[o+1768>>2],e[c+16>>2]=i,n=o+1776|0,i=e[n+4>>2],e[c+20>>2]=e[n>>2],e[c+24>>2]=i,e[c+28>>2]=e[o+1784>>2],e[c+32>>2]=46,e[c+36>>2]=a,e[c>>2]=45468,n=e[o+1268>>2],i=e[o+1264>>2],S[c+40|0]=i,S[c+41|0]=i>>>8,S[c+42|0]=i>>>16,S[c+43|0]=i>>>24,S[c+44|0]=n,S[c+45|0]=n>>>8,S[c+46|0]=n>>>16,S[c+47|0]=n>>>24,i=o+1272|0,n=e[i+4>>2],i=e[i>>2],S[c+48|0]=i,S[c+49|0]=i>>>8,S[c+50|0]=i>>>16,S[c+51|0]=i>>>24,S[c+52|0]=n,S[c+53|0]=n>>>8,S[c+54|0]=n>>>16,S[c+55|0]=n>>>24,i=e[r>>2],e[r>>2]=c,!i)break t;F[e[e[i>>2]+4>>2]](i);break t}He=1;break e;case 9:break i;default:break e}if(n=e[i+92>>2]&1,a=_+H(n,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[o+16>>2]=e[v>>2],n=e[x+4>>2],e[o+8>>2]=e[x>>2],e[o+12>>2]=n,n=e[o+1772>>2],e[o>>2]=e[o+1768>>2],e[o+4>>2]=n,n=b+-64|0,b=n,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,a=1,p=Ne(n+24|0,-1,n),(qt(i,p)|0)!=1&&(i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,_=e[o+16>>2],L=e[o+8>>2],g=e[o+12>>2],c=e[o>>2],a=e[o+4>>2],e[i+32>>2]=9,e[i+12>>2]=c,e[i+16>>2]=a,e[i+20>>2]=L,e[i+24>>2]=g,e[i+28>>2]=_,e[i>>2]=40148,fe(i+36|0,p),a=e[r>>2],e[r>>2]=i,a&&F[e[e[a>>2]+4>>2]](a),a=0),te(p),b=n- -64|0,a)break e}He=0}return b=o+1792|0,He}function H_(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;n=b-208|0,b=n,a=e[r+36>>2],c=e[r+24>>2];e:{if(a>>>0>=c>>>0)break e;for(o=c-a|0,c=0;;){if(!(S[y[a|0]+51313|0]&1))break e;if(a=a+1|0,e[r+36>>2]=a,c=c+1|0,(o|0)==(c|0))break}}o=e[r+32>>2],c=a-o|0,a=0,y[392688]||(e[98169]=119,e[98170]=312,e[98168]=25332,e[98164]=35624,e[98160]=35624,e[98156]=35624,e[98152]=35624,e[98148]=35624,e[98144]=35624,e[98140]=35624,e[98136]=35624,e[98132]=35624,e[98128]=35624,e[98124]=35624,e[98120]=35624,e[98116]=35624,e[98112]=35624,e[98108]=35624,e[98104]=35624,e[98100]=35624,e[98096]=35624,e[98092]=35624,e[98088]=35624,e[98084]=35624,e[98080]=35624,e[98076]=35624,e[98072]=35624,e[98068]=35624,e[98064]=35624,e[98060]=35624,e[98056]=35624,e[98052]=35624,e[98048]=35624,e[98044]=35624,e[98040]=35624,e[98036]=35624,e[98032]=35624,e[98028]=35624,e[98024]=35624,e[98020]=35624,e[98016]=35624,e[98012]=35624,e[98008]=35624,e[98004]=35624,e[98e3]=35624,e[97996]=35624,e[97992]=35624,e[97988]=35624,e[97984]=35624,e[97980]=35624,e[97976]=35624,e[97972]=35624,e[97968]=35624,e[97964]=35624,e[97960]=35624,e[97956]=35624,e[97952]=35624,e[97948]=35624,e[97944]=35624,e[97940]=35624,e[97936]=35624,e[97932]=35624,e[97928]=35624,e[97924]=35624,e[97920]=35624,e[97916]=35624,e[97912]=35624,e[97908]=35624,e[97904]=35624,e[97900]=35624,e[97896]=35624,e[97892]=35624,e[97888]=35624,e[97884]=35624,e[97880]=35624,e[97876]=35624,e[97873]=57,e[97874]=453,e[97872]=1263,e[97868]=35624,e[97864]=35624,e[97860]=35624,e[97856]=35624,e[97852]=35624,e[97848]=35624,e[97844]=35624,e[97840]=35624,e[97836]=35624,e[97832]=35624,e[97828]=35624,e[97824]=35624,e[97820]=35624,e[97816]=35624,e[97812]=35624,e[97808]=35624,e[97804]=35624,e[97800]=35624,e[97796]=35624,e[97792]=35624,e[97788]=35624,e[97784]=35624,e[97780]=35624,e[97776]=35624,e[97772]=35624,e[97768]=35624,e[97764]=35624,e[97760]=35624,e[97756]=35624,e[97752]=35624,e[97748]=35624,e[97744]=35624,e[97740]=35624,e[97736]=35624,e[97732]=35624,e[97728]=35624,e[97724]=35624,e[97720]=35624,e[97716]=35624,e[97712]=35624,e[97708]=35624,e[97704]=35624,e[97700]=35624,e[97696]=35624,e[97692]=35624,e[97688]=35624,e[97684]=35624,e[97680]=35624,e[97676]=35624,e[97672]=35624,e[97668]=35624,e[97664]=35624,e[97660]=35624,e[97656]=35624,e[97652]=35624,e[97648]=35624,e[97644]=35624,e[97640]=35624,e[97636]=35624,e[97632]=35624,e[97628]=35624,e[97624]=35624,e[97620]=35624,e[97616]=35624,e[97612]=35624,e[97608]=35624,e[97604]=35624,e[97600]=35624,e[97596]=35624,e[97592]=35624,e[97588]=35624,e[97584]=35624,e[97580]=35624,e[97576]=35624,e[97572]=35624,e[97568]=35624,e[97564]=35624,e[97560]=35624,e[97556]=35624,e[97552]=35624,e[97548]=35624,e[97544]=35624,e[97540]=35624,e[97536]=35624,e[97532]=35624,e[97528]=35624,e[97524]=35624,e[97520]=35624,e[97516]=35624,e[97512]=35624,e[97508]=35624,e[97504]=35624,e[97500]=35624,e[97496]=35624,e[97492]=35624,e[97488]=35624,e[97484]=35624,e[97480]=35624,e[97476]=35624,e[97472]=35624,e[97468]=35624,e[97464]=35624,e[97460]=35624,e[97456]=35624,e[97452]=35624,e[97448]=35624,e[97444]=35624,e[97440]=35624,e[97436]=35624,e[97432]=35624,e[97428]=35624,e[97424]=35624,e[97420]=35624,e[97416]=35624,e[97413]=55,e[97414]=456,e[97412]=15637,e[97408]=35624,e[97404]=35624,e[97400]=35624,e[97396]=35624,e[97392]=35624,e[97388]=35624,e[97384]=35624,e[97380]=35624,e[97376]=35624,e[97372]=35624,e[97368]=35624,e[97364]=35624,e[97360]=35624,e[97356]=35624,e[97352]=35624,e[97348]=35624,e[97344]=35624,e[97340]=35624,e[97336]=35624,e[97332]=35624,e[97328]=35624,e[97324]=35624,e[97320]=35624,e[97316]=35624,e[97312]=35624,e[97308]=35624,e[97304]=35624,e[97300]=35624,e[97296]=35624,e[97292]=35624,e[97288]=35624,e[97284]=35624,e[97280]=35624,e[97276]=35624,e[97272]=35624,e[97268]=35624,e[97264]=35624,e[97260]=35624,e[97256]=35624,e[97252]=35624,e[97248]=35624,e[97244]=35624,e[97240]=35624,e[97236]=35624,e[97232]=35624,e[97228]=35624,e[97224]=35624,e[97220]=35624,e[97216]=35624,e[97212]=35624,e[97208]=35624,e[97204]=35624,e[97200]=35624,e[97196]=35624,e[97192]=35624,e[97188]=35624,e[97184]=35624,e[97180]=35624,e[97176]=35624,e[97172]=35624,e[97168]=35624,e[97164]=35624,e[97160]=35624,e[97156]=35624,e[97152]=35624,e[97148]=35624,e[97144]=35624,e[97140]=35624,e[97136]=35624,e[97132]=35624,e[97128]=35624,e[97124]=35624,e[97120]=35624,e[97116]=35624,e[97112]=35624,e[97108]=35624,e[97104]=35624,e[97100]=35624,e[97096]=35624,e[97092]=35624,e[97088]=35624,e[97084]=35624,e[97080]=35624,e[97076]=35624,e[97072]=35624,e[97068]=35624,e[97064]=35624,e[97060]=35624,e[97056]=35624,e[97052]=35624,e[97048]=35624,e[97044]=35624,e[97040]=35624,e[97036]=35624,e[97032]=35624,e[97028]=35624,e[97024]=35624,e[97020]=35624,e[97016]=35624,e[97012]=35624,e[97008]=35624,e[97004]=35624,e[97e3]=35624,e[96996]=35624,e[96992]=35624,e[96988]=35624,e[96984]=35624,e[96980]=35624,e[96976]=35624,e[96972]=35624,e[96968]=35624,e[96964]=35624,e[96960]=35624,e[96956]=35624,e[96952]=35624,e[96948]=35624,e[96944]=35624,e[96940]=35624,e[96936]=35624,e[96932]=35624,e[96928]=35624,e[96925]=74,e[96926]=178,e[96924]=25655,e[96920]=35624,e[96916]=35624,e[96912]=35624,e[96908]=35624,e[96904]=35624,e[96900]=35624,e[96896]=35624,e[96892]=35624,e[96888]=35624,e[96884]=35624,e[96880]=35624,e[96876]=35624,e[96872]=35624,e[96868]=35624,e[96864]=35624,e[96860]=35624,e[96856]=35624,e[96852]=35624,e[96848]=35624,e[96844]=35624,e[96840]=35624,e[96836]=35624,e[96832]=35624,e[96828]=35624,e[96824]=35624,e[96820]=35624,e[96816]=35624,e[96812]=35624,e[96808]=35624,e[96804]=35624,e[96800]=35624,e[96796]=35624,e[96792]=35624,e[96788]=35624,e[96784]=35624,e[96780]=35624,e[96776]=35624,e[96772]=35624,e[96768]=35624,e[96764]=35624,e[96760]=35624,e[96756]=35624,e[96752]=35624,e[96748]=35624,e[96744]=35624,e[96740]=35624,e[96736]=35624,e[96732]=35624,e[96728]=35624,e[96724]=35624,e[96720]=35624,e[96716]=35624,e[96712]=35624,e[96708]=35624,e[96704]=35624,e[96700]=35624,e[96696]=35624,e[96692]=35624,e[96688]=35624,e[96684]=35624,e[96680]=35624,e[96676]=35624,e[96672]=35624,e[96668]=35624,e[96664]=35624,e[96660]=35624,e[96656]=35624,e[96652]=35624,e[96648]=35624,e[96644]=35624,e[96640]=35624,e[96636]=35624,e[96632]=35624,e[96628]=35624,e[96624]=35624,e[96620]=35624,e[96616]=35624,e[96612]=35624,e[96608]=35624,e[96604]=35624,e[96600]=35624,e[96596]=35624,e[96592]=35624,e[96588]=35624,e[96584]=35624,e[96580]=35624,e[96576]=35624,e[96572]=35624,e[96568]=35624,e[96564]=35624,e[96560]=35624,e[96556]=35624,e[96552]=35624,e[96548]=35624,e[96544]=35624,e[96540]=35624,e[96536]=35624,e[96532]=35624,e[96528]=35624,e[96524]=35624,e[96520]=35624,e[96516]=35624,e[96512]=35624,e[96508]=35624,e[96504]=35624,e[96500]=35624,e[96496]=35624,e[96492]=35624,e[96488]=35624,e[96484]=35624,e[96480]=35624,e[96476]=35624,e[96472]=35624,e[96468]=35624,e[96464]=35624,e[96460]=35624,e[96456]=35624,e[96452]=35624,e[96448]=35624,e[96445]=74,e[96446]=179,e[96444]=25410,e[96440]=35624,e[96436]=35624,e[96432]=35624,e[96428]=35624,e[96424]=35624,e[96420]=35624,e[96416]=35624,e[96412]=35624,e[96408]=35624,e[96404]=35624,e[96400]=35624,e[96396]=35624,e[96392]=35624,e[96388]=35624,e[96384]=35624,e[96380]=35624,e[96376]=35624,e[96372]=35624,e[96368]=35624,e[96364]=35624,e[96360]=35624,e[96356]=35624,e[96353]=119,e[96354]=451,e[96352]=9037,e[96348]=35624,e[96345]=119,e[96346]=452,e[96344]=4638,e[96340]=35624,e[96336]=35624,e[96332]=35624,e[96328]=35624,e[96324]=35624,e[96320]=35624,e[96316]=35624,e[96312]=35624,e[96308]=35624,e[96304]=35624,e[96301]=62,e[96302]=318,e[96300]=8589,e[96296]=35624,e[96293]=62,e[96294]=319,e[96292]=4188,e[96288]=35624,e[96284]=35624,e[96280]=35624,e[96276]=35624,e[96272]=35624,e[96268]=35624,e[96264]=35624,e[96260]=35624,e[96256]=35624,e[96252]=35624,e[96248]=35624,e[96244]=35624,e[96240]=35624,e[96236]=35624,e[96232]=35624,e[96228]=35624,e[96224]=35624,e[96220]=35624,e[96216]=35624,e[96212]=35624,e[96208]=35624,e[96204]=35624,e[96200]=35624,e[96196]=35624,e[96192]=35624,e[96188]=35624,e[96184]=35624,e[96180]=35624,e[96176]=35624,e[96172]=35624,e[96169]=58,e[96170]=478,e[96168]=24273,e[96165]=58,e[96166]=479,e[96164]=24254,e[96160]=35624,e[96156]=35624,e[96152]=35624,e[96148]=35624,e[96144]=35624,e[96140]=35624,e[96136]=35624,e[96132]=35624,e[96128]=35624,e[96124]=35624,e[96120]=35624,e[96116]=35624,e[96112]=35624,e[96108]=35624,e[96104]=35624,e[96100]=35624,e[96097]=77,e[96098]=207,e[96096]=10640,e[96092]=35624,e[96088]=35624,e[96084]=35624,e[96080]=35624,e[96076]=35624,e[96072]=35624,e[96069]=61,e[96070]=455,e[96068]=25356,e[96064]=35624,e[96060]=35624,e[96056]=35624,e[96052]=35624,e[96048]=35624,e[96045]=119,e[96046]=317,e[96044]=12340,e[96040]=35624,e[96036]=35624,e[96032]=35624,e[96028]=35624,e[96024]=35624,e[96020]=35624,e[96016]=35624,e[96012]=35624,e[96008]=35624,e[96004]=35624,e[96e3]=35624,e[95996]=35624,e[95992]=35624,e[95988]=35624,e[95984]=35624,e[95980]=35624,e[95976]=35624,e[95972]=35624,e[95969]=61,e[95970]=454,e[95968]=25614,e[95964]=35624,e[95960]=35624,e[95956]=35624,e[95952]=35624,e[95948]=35624,e[95944]=35624,e[95940]=35624,e[95936]=35624,e[95932]=35624,e[95928]=35624,e[95924]=35624,e[95920]=35624,e[95918]=-34,e[95919]=-1,e[95917]=1,e[95916]=1311,e[95912]=35624,e[95908]=35624,e[95904]=35624,e[95900]=35624,e[95896]=35624,e[95892]=35624,e[95888]=35624,e[95884]=35624,e[95880]=35624,e[95876]=35624,e[95872]=35624,e[95868]=35624,e[95864]=35624,e[95860]=35624,e[95856]=35624,e[95852]=35624,e[95848]=35624,e[95844]=35624,e[95840]=35624,e[95836]=35624,e[95832]=35624,e[95828]=35624,e[95824]=35624,e[95820]=35624,e[95816]=35624,e[95813]=62,e[95814]=365,e[95812]=8862,e[95808]=35624,e[95805]=62,e[95806]=367,e[95804]=4453,e[95800]=35624,e[95796]=35624,e[95792]=35624,e[95788]=35624,e[95784]=35624,e[95780]=35624,e[95776]=35624,e[95772]=35624,e[95768]=35624,e[95764]=35624,e[95760]=35624,e[95756]=35624,e[95752]=35624,e[95748]=35624,e[95744]=35624,e[95740]=35624,e[95736]=35624,e[95732]=35624,e[95728]=35624,e[95724]=35624,e[95720]=35624,e[95717]=119,e[95718]=447,e[95716]=9113,e[95712]=35624,e[95709]=119,e[95710]=448,e[95708]=4714,e[95704]=35624,e[95700]=35624,e[95696]=35624,e[95692]=35624,e[95688]=35624,e[95685]=107,e[95686]=230,e[95684]=15252,e[95680]=35624,e[95676]=35624,e[95672]=35624,e[95669]=4,e[95668]=16057,e[95664]=35624,e[95660]=35624,e[95656]=35624,e[95652]=35624,e[95648]=35624,e[95644]=35624,e[95640]=35624,e[95636]=35624,e[95632]=35624,e[95628]=35624,e[95624]=35624,e[95620]=35624,e[95616]=35624,e[95612]=35624,e[95608]=35624,e[95604]=35624,e[95600]=35624,e[95596]=35624,e[95592]=35624,e[95588]=35624,e[95584]=35624,e[95580]=35624,e[95576]=35624,e[95572]=35624,e[95568]=35624,e[95564]=35624,e[95560]=35624,e[95556]=35624,e[95552]=35624,e[95548]=35624,e[95544]=35624,e[95540]=35624,e[95536]=35624,e[95532]=35624,e[95528]=35624,e[95524]=35624,e[95520]=35624,e[95516]=35624,e[95512]=35624,e[95508]=35624,e[95504]=35624,e[95500]=35624,e[95496]=35624,e[95492]=35624,e[95488]=35624,e[95485]=8,e[95484]=15354,e[95480]=35624,e[95476]=35624,e[95472]=35624,e[95468]=35624,e[95464]=35624,e[95460]=35624,e[95456]=35624,e[95452]=35624,e[95449]=119,e[95450]=346,e[95448]=8888,e[95444]=35624,e[95441]=119,e[95442]=348,e[95440]=4479,e[95436]=35624,e[95432]=35624,e[95428]=35624,e[95424]=35624,e[95420]=35624,e[95416]=35624,e[95412]=35624,e[95408]=35624,e[95404]=35624,e[95400]=35624,e[95396]=35624,e[95392]=35624,e[95388]=35624,e[95384]=35624,e[95380]=35624,e[95376]=35624,e[95373]=62,e[95374]=340,e[95372]=8200,e[95368]=35624,e[95364]=35624,e[95360]=35624,e[95356]=35624,e[95352]=35624,e[95348]=35624,e[95344]=35624,e[95340]=35624,e[95336]=35624,e[95333]=119,e[95334]=342,e[95332]=12326,e[95328]=35624,e[95324]=35624,e[95320]=35624,e[95316]=35624,e[95312]=35624,e[95308]=35624,e[95304]=35624,e[95300]=35624,e[95296]=35624,e[95292]=35624,e[95289]=74,e[95290]=180,e[95288]=25635,e[95284]=35624,e[95280]=35624,e[95276]=35624,e[95272]=35624,e[95268]=35624,e[95264]=35624,e[95260]=35624,e[95256]=35624,e[95252]=35624,e[95248]=35624,e[95244]=35624,e[95240]=35624,e[95236]=35624,e[95232]=35624,e[95228]=35624,e[95224]=35624,e[95220]=35624,e[95216]=35624,e[95212]=35624,e[95208]=35624,e[95204]=35624,e[95200]=35624,e[95196]=35624,e[95193]=88,e[95194]=204,e[95192]=1214,e[95188]=35624,e[95184]=35624,e[95180]=35624,e[95176]=35624,e[95172]=35624,e[95168]=35624,e[95164]=35624,e[95160]=35624,e[95156]=35624,e[95152]=35624,e[95148]=35624,e[95144]=35624,e[95140]=35624,e[95136]=35624,e[95132]=35624,e[95128]=35624,e[95124]=35624,e[95120]=35624,e[95117]=62,e[95118]=412,e[95116]=9135,e[95112]=35624,e[95109]=62,e[95110]=414,e[95108]=4736,e[95104]=35624,e[95100]=35624,e[95096]=35624,e[95092]=35624,e[95088]=35624,e[95084]=35624,e[95080]=35624,e[95076]=35624,e[95072]=35624,e[95068]=35624,e[95064]=35624,e[95060]=35624,e[95056]=35624,e[95052]=35624,e[95048]=35624,e[95044]=35624,e[95040]=35624,e[95036]=35624,e[95032]=35624,e[95028]=35624,e[95024]=35624,e[95020]=35624,e[95016]=35624,e[95012]=35624,e[95008]=35624,e[95004]=35624,e[95e3]=35624,e[94996]=35624,e[94992]=35624,e[94988]=35624,e[94984]=35624,e[94980]=35624,e[94976]=35624,e[94972]=35624,e[94968]=35624,e[94964]=35624,e[94960]=35624,e[94957]=62,e[94958]=97,e[94956]=24368,e[94953]=62,e[94954]=115,e[94952]=24332,e[94949]=62,e[94950]=137,e[94948]=24376,e[94945]=62,e[94946]=151,e[94944]=24340,e[94940]=35624,e[94936]=35624,e[94932]=35624,e[94928]=35624,e[94924]=35624,e[94920]=35624,e[94916]=35624,e[94912]=35624,e[94908]=35624,e[94904]=35624,e[94900]=35624,e[94896]=35624,e[94892]=35624,e[94888]=35624,e[94884]=35624,e[94880]=35624,e[94877]=3,e[94876]=10991,e[94872]=35624,e[94868]=35624,e[94864]=35624,e[94860]=35624,e[94856]=35624,e[94852]=35624,e[94848]=35624,e[94844]=35624,e[94840]=35624,e[94836]=35624,e[94832]=35624,e[94828]=35624,e[94824]=35624,e[94820]=35624,e[94816]=35624,e[94812]=35624,e[94809]=74,e[94810]=181,e[94808]=25377,e[94804]=35624,e[94800]=35624,e[94796]=35624,e[94792]=35624,e[94788]=35624,e[94784]=35624,e[94780]=35624,e[94776]=35624,e[94772]=35624,e[94768]=35624,e[94764]=35624,e[94760]=35624,e[94756]=35624,e[94753]=119,e[94754]=396,e[94752]=9161,e[94748]=35624,e[94745]=119,e[94746]=398,e[94744]=4762,e[94740]=35624,e[94736]=35624,e[94732]=35624,e[94728]=35624,e[94724]=35624,e[94720]=35624,e[94716]=35624,e[94713]=72,e[94714]=252,e[94712]=10556,e[94708]=35624,e[94704]=35624,e[94700]=35624,e[94697]=62,e[94698]=139,e[94696]=2738,e[94693]=62,e[94694]=153,e[94692]=2720,e[94688]=35624,e[94684]=35624,e[94680]=35624,e[94676]=35624,e[94672]=35624,e[94668]=35624,e[94664]=35624,e[94661]=119,e[94662]=313,e[94660]=7951,e[94656]=35624,e[94653]=2,e[94652]=11009,e[94649]=62,e[94650]=326,e[94648]=24302,e[94644]=35624,e[94640]=35624,e[94636]=35624,e[94632]=35624,e[94628]=35624,e[94624]=35624,e[94620]=35624,e[94616]=35624,e[94612]=35624,e[94608]=35624,e[94605]=119,e[94606]=394,e[94604]=12368,e[94600]=35624,e[94596]=35624,e[94592]=35624,e[94588]=35624,e[94584]=35624,e[94580]=35624,e[94576]=35624,e[94572]=35624,e[94568]=35624,e[94564]=35624,e[94560]=35624,e[94557]=119,e[94558]=334,e[94556]=8914,e[94552]=35624,e[94549]=119,e[94550]=335,e[94548]=4505,e[94544]=35624,e[94540]=35624,e[94536]=35624,e[94533]=69,e[94534]=19,e[94532]=13256,e[94528]=35624,e[94524]=35624,e[94520]=35624,e[94516]=35624,e[94512]=35624,e[94508]=35624,e[94504]=35624,e[94500]=35624,e[94496]=35624,e[94492]=35624,e[94488]=35624,e[94484]=35624,e[94480]=35624,e[94476]=35624,e[94472]=35624,e[94468]=35624,e[94464]=35624,e[94460]=35624,e[94456]=35624,e[94453]=74,e[94454]=157,e[94452]=25397,e[94448]=35624,e[94444]=35624,e[94440]=35624,e[94436]=35624,e[94432]=35624,e[94428]=35624,e[94424]=35624,e[94420]=35624,e[94416]=35624,e[94413]=59,e[94414]=516,e[94412]=3518,e[94409]=59,e[94410]=518,e[94408]=3491,e[94404]=35624,e[94400]=35624,e[94396]=35624,e[94392]=35624,e[94389]=62,e[94390]=388,e[90810]=246,e[90812]=4535,e[90813]=56,e[90814]=462,e[90816]=4555,e[90817]=56,e[90818]=460,e[90820]=4920,e[90821]=83,e[90822]=223,e[90824]=2408,e[90825]=62,e[90826]=442,e[90828]=35624,e[90832]=35624,e[90836]=9319,e[90837]=83,e[90838]=222,e[90840]=14751,e[90841]=105,e[90842]=303,e[90844]=35624,e[90848]=35624,e[90852]=35624,e[90856]=7100,e[90857]=68,e[90858]=16,e[90860]=35624,e[90864]=7219,e[90865]=83,e[90866]=226,e[90868]=10278,e[90869]=62,e[90870]=298,e[90872]=35624,e[90876]=3783,e[90877]=72,e[90878]=271,e[90880]=5631,e[90881]=73,e[90882]=229,e[90884]=3732,e[90885]=72,e[90886]=269,e[90888]=35624,e[90892]=8512,e[90893]=72,e[90894]=270,e[90896]=35624,e[90900]=8450,e[90901]=72,e[90902]=268,e[90904]=14630,e[90905]=106,e[90906]=305,e[90908]=2953,e[90909]=72,e[90910]=267,e[90912]=35624,e[90916]=2902,e[90917]=72,e[90918]=265,e[90920]=35624,e[90924]=8138,e[90925]=72,e[90926]=266,e[90928]=35624,e[90932]=8076,e[90933]=72,e[90934]=264,e[90936]=35624,e[90940]=35624,e[90944]=35624,e[90948]=13044,e[90949]=119,e[90950]=339,e[90952]=11478,e[90953]=62,e[90954]=430,e[90956]=35624,e[90960]=35624,e[90964]=35624,e[90968]=14795,e[90969]=72,e[90970]=263,e[90972]=35624,e[90976]=35624,e[90980]=35624,e[90984]=35624,e[90988]=35624,e[90992]=35624,e[90996]=3181,e[90997]=58,e[90998]=496,e[91e3]=3202,e[91001]=58,e[91002]=494,e[91004]=35624,e[91008]=35624,e[91012]=35624,e[91016]=3407,e[91017]=62,e[91018]=383,e[91020]=35624,e[91024]=8376,e[91025]=62,e[91026]=382,e[91028]=35624,e[91032]=35624,e[91036]=35624,e[91040]=3036,e[91041]=62,e[91042]=357,e[91044]=25175,e[91045]=60,e[91046]=468,e[91048]=25193,e[91049]=60,e[91050]=466,e[91052]=35624,e[91056]=8252,e[91057]=62,e[91058]=356,e[91060]=1064,e[91061]=119,e[91062]=111,e[91064]=1072,e[91065]=119,e[91066]=93,e[91068]=24233,e[91069]=30,e[91072]=23851,e[91073]=62,e[91074]=352,e[91076]=35624,e[91080]=35624,e[91084]=10899,e[91085]=83,e[91086]=309,e[91088]=35624,e[91092]=35624,e[91096]=3068,e[91097]=58,e[91098]=503,e[91100]=3090,e[91101]=58,e[91102]=501,e[91104]=35624,e[91108]=1032,e[91109]=119,e[91110]=112,e[91112]=1040,e[91113]=119,e[91114]=94,e[91116]=13570,e[91117]=119,e[91118]=341,e[91120]=35624,e[91124]=35624,e[91128]=35624,e[91132]=35624,e[91136]=11945,e[91137]=62,e[91138]=376,e[91140]=35624,e[91144]=35624,e[91148]=35624,e[91152]=35624,e[91156]=3004,e[91157]=62,e[91158]=354,e[91160]=35624,e[91164]=13187,e[91165]=82,e[91166]=4,e[91168]=35624,e[91172]=8220,e[91173]=62,e[91174]=353,e[91176]=10650,e[91177]=75,e[91178]=203,e[91180]=13261,e[91181]=35,e[91184]=35624,e[91188]=35624,e[91192]=35624,e[91196]=35624,e[91200]=35624,e[91204]=35624,e[91208]=14647,e[91209]=105,e[91210]=301,e[91212]=35624,e[91216]=35624,e[91220]=35624,e[91224]=35624,e[91228]=35624,e[91232]=7166,e[91233]=83,e[91234]=224,e[91236]=5740,e[91237]=119,e[91238]=425,e[91240]=35624,e[91244]=35624,e[91248]=35624,e[91252]=35624,e[91256]=13800,e[91257]=78,e[91258]=5,e[91260]=35624,e[91264]=11566,e[91265]=44,e[91268]=35624,e[91272]=3313,e[91273]=62,e[91274]=378,e[91276]=35624,e[91280]=8308,e[91281]=62,e[91282]=377,e[91284]=11613,e[91285]=34,e[91288]=35624,e[91292]=35624,e[91296]=25608,e[91297]=51,e[91300]=25169,e[91301]=47,e[91304]=25602,e[91305]=49,e[91308]=15970,e[91309]=79,e[91310]=10,e[91312]=35624,e[91316]=35624,e[91320]=35624,e[91324]=14516,e[91325]=103,e[91326]=243,e[91328]=35624,e[91332]=35624,e[91336]=11641,e[91337]=62,e[91338]=358,e[91340]=35624,e[91344]=35624,e[91348]=35624,e[91352]=35624,e[91356]=35624,e[91360]=35624,e[91364]=35624,e[91368]=35624,e[91372]=35624,e[91376]=35624,e[91380]=35624,e[91384]=35624,e[91388]=35624,e[91392]=35624,e[91396]=35624,e[91400]=35624,e[91404]=35624,e[91408]=35624,e[91412]=35624,e[91416]=16051,e[91417]=19,e[91420]=5061,e[91421]=56,e[91422]=463,e[91424]=14663,e[91425]=106,e[91426]=306,e[91428]=35624,e[91432]=35624,e[91436]=35624,e[91440]=35624,e[91444]=35624,e[91448]=35624,e[91452]=10984,e[91453]=129,e[91454]=-17,e[91455]=-1,e[91456]=14698,e[91457]=106,e[91458]=308,e[91460]=35624,e[91464]=35624,e[91468]=35624,e[91472]=35624,e[91476]=35624,e[91480]=35624,e[91484]=2846,e[91485]=62,e[91486]=362,e[91488]=35624,e[91492]=8020,e[91493]=62,e[91494]=361,e[91496]=7273,e[91497]=119,e[91498]=236,e[91500]=35624,e[91504]=7261,e[91505]=119,e[91506]=234,e[91508]=35624,e[91512]=35624,e[91516]=14716,e[91517]=105,e[91518]=304,e[91520]=35624,e[91524]=11496,e[91525]=62,e[91526]=441,e[91528]=35624,e[91532]=35624,e[91536]=35624,e[91540]=7201,e[91541]=83,e[91542]=227,e[91544]=35624,e[91548]=35624,e[91552]=2618,e[91553]=117,e[91554]=8,e[91556]=35624,e[91560]=35624,e[91564]=35624,e[91568]=35624,e[91572]=35624,e[91576]=35624,e[91580]=35624,e[91584]=35624,e[91588]=3794,e[91589]=72,e[91590]=261,e[91592]=35624,e[91596]=3743,e[91597]=72,e[91598]=259,e[91600]=35624,e[91604]=8523,e[91605]=72,e[91606]=260,e[91608]=35624,e[91612]=8461,e[91613]=72,e[91614]=258,e[91616]=35624,e[91620]=2964,e[91621]=72,e[91622]=257,e[91624]=35624,e[91628]=2913,e[91629]=72,e[91630]=255,e[91632]=24216,e[91633]=95,e[91634]=216,e[91636]=8149,e[91637]=72,e[91638]=256,e[91640]=35624,e[91644]=8087,e[91645]=72,e[91646]=254,e[91648]=35624,e[91652]=35624,e[91656]=3690,e[91657]=103,e[91658]=242,e[91660]=13054,e[91661]=119,e[91662]=314,e[91664]=8408,e[91665]=103,e[91666]=241,e[91668]=35624,e[91672]=35624,e[91676]=11598,e[91677]=10,e[91680]=14804,e[91681]=72,e[91682]=253,e[91684]=35624,e[91688]=35624,e[91692]=4173,e[91693]=83,e[91694]=219,e[91696]=35624,e[91700]=8574,e[91701]=83,e[91702]=218,e[91704]=35624,e[91708]=11963,e[91709]=62,e[91710]=399,e[91712]=35624,e[91716]=35624,e[91720]=35624,e[91724]=35624,e[91728]=12988,e[91729]=58,e[91730]=507,e[91732]=13008,e[91733]=58,e[91734]=506,e[91736]=35624,e[91740]=35624,e[91744]=35624,e[91748]=35624,e[91752]=3052,e[91753]=62,e[91754]=328,e[91756]=35624,e[91760]=10858,e[91761]=83,e[91762]=310,e[91764]=35624,e[91768]=8268,e[91769]=62,e[91770]=327,e[91772]=35624,e[91776]=35624,e[91780]=35624,e[91784]=23861,e[91785]=62,e[91786]=323,e[91788]=35624,e[91792]=35624,e[91796]=35624,e[91800]=35624,e[91804]=35624,e[91808]=5760,e[91809]=119,e[91810]=436,e[91812]=35624,e[91816]=35624,e[91820]=1133,e[91821]=118,e[91822]=6,e[91824]=35624,e[91828]=13585,e[91829]=119,e[91830]=316,e[91832]=35624,e[91836]=35624,e[91840]=35624,e[91844]=3335,e[91845]=62,e[91846]=401,e[91848]=35624,e[91852]=8330,e[91853]=62,e[91854]=400,e[91856]=35624,e[91860]=35624,e[91864]=35624,e[91868]=3020,e[91869]=62,e[91870]=325,e[91872]=7981,e[91873]=119,e[91874]=143,e[91876]=8009,e[91877]=119,e[91878]=129,e[91880]=35624,e[91884]=8236,e[91885]=62,e[91886]=324,e[91888]=35624,e[91892]=2642,e[91893]=112,e[91894]=211,e[91896]=10321,e[91897]=119,e[91898]=146,e[91900]=10343,e[91901]=119,e[91902]=132,e[91904]=10590,e[91905]=72,e[91906]=87,e[91908]=10622,e[91909]=72,e[91910]=81,e[91912]=10583,e[91913]=72,e[91914]=71,e[91916]=10615,e[91917]=72,e[91918]=60,e[91920]=35624,e[91924]=35624,e[91928]=35624,e[91932]=35624,e[91936]=35624,e[91940]=2608,e[91941]=98,e[91942]=9,e[91944]=35624,e[91948]=35624,e[91952]=35624,e[91956]=35624,e[91960]=35624,e[91964]=35624,e[91968]=35624,e[91972]=35624,e[91976]=35624,e[91980]=5821,e[91981]=41,e[91984]=35624,e[91988]=35624,e[91992]=35624,e[91996]=35624,e[92e3]=12750,e[92001]=70,e[92002]=7,e[92004]=35624,e[92008]=35624,e[92012]=35624,e[92016]=4689,e[92017]=119,e[92018]=397,e[92020]=35624,e[92024]=9088,e[92025]=119,e[92026]=395,e[92028]=35624,e[92032]=14733,e[92033]=106,e[92034]=307,e[92036]=14535,e[92037]=103,e[92038]=240,e[92040]=35624,e[92044]=35624,e[92048]=25302,e[92049]=108,e[92050]=51,e[92052]=25314,e[92053]=108,e[92054]=49,e[92056]=35624,e[92060]=35624,e[92064]=35624,e[92068]=7297,e[92069]=119,e[92070]=237,e[92072]=35624,e[92076]=7285,e[92077]=119,e[92078]=235,e[92080]=15294,e[92081]=66,e[92082]=13,e[92084]=11456,e[92085]=62,e[92086]=432,e[92088]=35624,e[92092]=35624,e[92096]=35624,e[92100]=35624,e[92104]=35624,e[92108]=35624,e[92112]=35624,e[92116]=35624,e[92120]=35624,e[92124]=35624,e[92128]=35624,e[92132]=16938,e[92133]=40,e[92136]=25254,e[92137]=46,e[92140]=35624,e[92144]=35624,e[92148]=35624,e[92152]=35624,e[92156]=35624,e[92160]=35624,e[92164]=4104,e[92165]=58,e[92166]=483,e[92168]=4127,e[92169]=58,e[92170]=481,e[92172]=35624,e[92176]=35624,e[92180]=35624,e[92184]=35624,e[92188]=35624,e[92192]=35624,e[92196]=2858,e[92197]=62,e[92198]=332,e[92200]=35624,e[92204]=8032,e[92205]=62,e[92206]=331,e[92208]=35624,e[92212]=35624,e[92216]=35624,e[92220]=12312,e[92221]=21,e[92224]=35624,e[92228]=13298,e[92229]=92,e[92230]=53,e[92232]=35624,e[92236]=35624,e[92240]=35624,e[92244]=35624,e[92248]=35624,e[92252]=35624,e[92256]=3878,e[92257]=58,e[92258]=490,e[92260]=3901,e[92261]=58,e[92262]=488,e[92264]=3545,e[92265]=59,e[92266]=519,e[92268]=35624,e[92272]=35624,e[92276]=35624,e[92280]=3991,e[92281]=58,e[92282]=476,e[92284]=4014,e[92285]=58,e[92286]=474,e[92288]=35624,e[92292]=35624,e[92296]=35624,e[92300]=35624,e[92304]=35624,e[92308]=35624,e[92312]=35624,e[92316]=3383,e[92317]=62,e[92318]=360,e[92320]=35624,e[92324]=8352,e[92325]=62,e[92326]=359,e[92328]=35624,e[92332]=11803,e[92333]=110,e[92334]=213,e[92336]=35624,e[92340]=35624,e[92344]=35624,e[92348]=2368,e[92349]=62,e[92350]=433,e[92352]=2882,e[92353]=62,e[92354]=118,e[92356]=2892,e[92357]=62,e[92358]=100,e[92360]=8056,e[92361]=62,e[92362]=117,e[92364]=8066,e[92365]=62,e[92366]=99,e[92368]=3711,e[92369]=103,e[92370]=239,e[92372]=35624,e[92376]=8429,e[92377]=103,e[92378]=238,e[92380]=4664,e[92381]=62,e[92382]=413,e[92384]=10309,e[92385]=119,e[92386]=416,e[92388]=9063,e[92389]=62,e[92390]=411,e[92392]=35624,e[92396]=35624,e[92400]=35624,e[92404]=35624,e[92408]=35624,e[92412]=35624,e[92416]=7009,e[92417]=80,e[92418]=28,e[92420]=35624,e[92424]=6978,e[92425]=81,e[92426]=29,e[92428]=35624,e[92432]=10688,e[92433]=93,e[92434]=1,e[92436]=11925,e[92437]=62,e[92438]=349,e[92440]=35624,e[92444]=35624,e[92448]=35624,e[92452]=35624,e[92456]=35624,e[92460]=35624,e[92464]=35624,e[92468]=35624,e[92472]=10655,e[92473]=76,e[92474]=22,e[92476]=3572,e[92477]=58,e[92478]=510,e[92480]=3595,e[92481]=58,e[92482]=508,e[92484]=35624,e[92488]=10943,e[92489]=6,e[92492]=35624,e[92496]=13556,e[92497]=119,e[92498]=300,e[92500]=1048,e[92501]=74,e[92502]=70,e[92504]=1056,e[92505]=74,e[92506]=59,e[92508]=3223,e[92509]=58,e[92510]=497,e[92512]=3245,e[92513]=58,e[92514]=495,e[92516]=35624,e[92520]=35624,e[92524]=35624,e[92528]=25691,e[92529]=60,e[92530]=470,e[92532]=35624,e[92536]=35624,e[92540]=3618,e[92541]=58,e[92542]=511,e[92544]=3642,e[92545]=58,e[92546]=509,e[92548]=4848,e[92549]=74,e[92550]=201,e[92552]=4868,e[92553]=74,e[92554]=197,e[92556]=35624,e[92560]=35624,e[92564]=9247,e[92565]=74,e[92566]=200,e[92568]=9267,e[92569]=74,e[92570]=196,e[92572]=3289,e[92573]=62,e[92574]=351,e[92576]=35624,e[92580]=8284,e[92581]=62,e[92582]=350,e[92584]=35624,e[92588]=35624,e[92592]=12925,e[92593]=59,e[92594]=514,e[92596]=12948,e[92597]=59,e[92598]=513,e[92600]=35624,e[92604]=35624,e[92608]=35624,e[92612]=35624,e[92616]=35624,e[92620]=35624,e[92624]=35624,e[92628]=24322,e[92629]=62,e[92630]=427,e[92632]=35624,e[92636]=24312,e[92637]=62,e[92638]=380,e[92640]=7971,e[92641]=119,e[92642]=423,e[92644]=35624,e[92648]=7961,e[92649]=119,e[92650]=368,e[92652]=35624,e[92656]=11467,e[92657]=62,e[92658]=443,e[92660]=35624,e[92664]=3112,e[92665]=58,e[92666]=504,e[92668]=3135,e[92669]=58,e[92670]=502,e[92672]=35624,e[92676]=35624,e[92680]=35624,e[92684]=35624,e[92688]=35624,e[92692]=10574,e[92693]=72,e[92694]=282,e[92696]=35624,e[92700]=10565,e[92701]=72,e[92702]=272,e[92704]=35624,e[92708]=35624,e[92712]=35624,e[92716]=35624,e[92720]=35624,e[92724]=35624,e[92728]=35624,e[92732]=35624,e[92736]=35624,e[92740]=35624,e[92744]=35624,e[92748]=35624,e[92752]=35624,e[92756]=35624,e[92760]=35624,e[92764]=35624,e[92768]=35624,e[92772]=4812,e[92773]=74,e[92774]=176,e[92776]=4830,e[92777]=74,e[92778]=171,e[92780]=35624,e[92784]=35624,e[92788]=9211,e[92789]=74,e[92790]=175,e[92792]=9229,e[92793]=74,e[92794]=170,e[92796]=35624,e[92800]=35624,e[92804]=7237,e[92805]=119,e[92806]=233,e[92808]=35624,e[92812]=35624,e[92816]=35624,e[92820]=35624,e[92824]=2630,e[92825]=90,e[92826]=54,e[92828]=35624,e[92832]=35624,e[92836]=35624,e[92840]=35624,e[92844]=35624,e[92848]=35624,e[92852]=35624,e[92856]=35624,e[92860]=8660,e[92861]=62,e[92862]=386,e[92864]=35624,e[92868]=6780,e[92869]=91,e[92870]=202,e[92872]=35624,e[92876]=35624,e[92880]=35624,e[92884]=35624,e[92888]=35624,e[92892]=35624,e[92896]=35624,e[92900]=35624,e[92904]=35624,e[92908]=35624,e[92912]=35624,e[92916]=35624,e[92920]=2379,e[92921]=62,e[92922]=444,e[92924]=35624,e[92928]=35624,e[92932]=35624,e[92936]=35624,e[92940]=10678,e[92941]=87,e[92942]=3,e[92944]=25430,e[92945]=74,e[92946]=172,e[92948]=35624,e[92952]=35624,e[92956]=10331,e[92957]=119,e[92958]=420,e[92960]=5780,e[92961]=18,e[92964]=4601,e[92965]=83,e[92966]=221,e[92968]=35624,e[92972]=35624,e[92976]=2710,e[92977]=62,e[92978]=429,e[92980]=9e3,e[92981]=83,e[92982]=220,e[92984]=14681,e[92985]=105,e[92986]=302,e[92988]=35624,e[92992]=35624,e[92996]=35624,e[93e3]=35624,e[93004]=10875,e[93005]=119,e[93006]=311,e[93008]=7183,e[93009]=83,e[93010]=225,e[93012]=35624,e[93016]=35624,e[93020]=35624,e[93024]=35624,e[93028]=3395,e[93029]=62,e[93030]=330,e[93032]=35624,e[93036]=8364,e[93037]=62,e[93038]=329,e[93040]=35624,e[93044]=35624,e[93048]=35624,e[93052]=35624,e[93056]=35624,e[93060]=3439,e[93061]=59,e[93062]=517,e[93064]=3465,e[93065]=59,e[93066]=515,e[93068]=35624,e[93072]=35624,e[93076]=1137,e[93077]=27,e[93080]=15394,e[93081]=120,e[93082]=0,e[93084]=35624,e[93088]=6695,e[93089]=119,e[93090]=113,e[93092]=6706,e[93093]=119,e[93094]=95,e[93096]=35624,e[93100]=35624,e[93104]=35624,e[93108]=35624,e[93112]=35624,e[93116]=35624,e[93120]=35624,e[93124]=4989,e[93125]=74,e[93126]=199,e[93128]=5009,e[93129]=74,e[93130]=195,e[93132]=35624,e[93136]=35624,e[93140]=9388,e[93141]=74,e[93142]=198,e[93144]=9408,e[93145]=74,e[93146]=194,e[93148]=11935,e[93149]=62,e[93150]=320,e[93152]=35624,e[93156]=16945,e[93157]=5,e[93160]=35624,e[93164]=35624,e[93168]=35624,e[93172]=35624,e[93176]=35624,e[93180]=35624,e[93184]=35624,e[93188]=35624,e[93192]=35624,e[93196]=35624,e[93200]=24358,e[93201]=62,e[93202]=438,e[93204]=35624,e[93208]=24348,e[93209]=62,e[93210]=403,e[93212]=7999,e[93213]=119,e[93214]=434,e[93216]=35624,e[93220]=7989,e[93221]=119,e[93222]=391,e[93224]=35624,e[93228]=35624,e[93232]=35624,e[93236]=35624,e[93240]=35624,e[93244]=35624,e[93248]=4311,e[93249]=119,e[93250]=337,e[93252]=35624,e[93256]=8730,e[93257]=119,e[93258]=336,e[93260]=35624,e[93264]=10606,e[93265]=72,e[93266]=288,e[93268]=35624,e[93272]=10597,e[93273]=62,e[93274]=405,e[93276]=35624,e[93280]=35624,e[93284]=3301,e[93285]=62,e[93286]=322,e[93288]=35624,e[93292]=8296,e[93293]=62,e[93294]=321,e[93296]=4428,e[93297]=119,e[93298]=347,e[93300]=35624,e[93304]=8837,e[93305]=119,e[93306]=345,e[93308]=35624,e[93312]=35624,e[93316]=35624,e[93320]=35624,e[93324]=35624,e[93328]=35624,e[93332]=35624,e[93336]=1159,e[93337]=9,e[93340]=35624,e[93344]=35624,e[93348]=4936,e[93349]=74,e[93350]=174,e[93352]=4954,e[93353]=74,e[93354]=169,e[93356]=35624,e[93360]=35624,e[93364]=9335,e[93365]=74,e[93366]=173,e[93368]=9353,e[93369]=74,e[93370]=168,e[93372]=35624,e[93376]=35624,e[93380]=35624,e[93384]=35624,e[93388]=35624,e[93392]=35624,e[93396]=35624,e[93400]=35624,e[93404]=35624,e[93408]=35624,e[93412]=35624,e[93416]=35624,e[93420]=35624,e[93424]=35624,e[93428]=35624,e[93432]=35624,e[93436]=35624,e[93440]=35624,e[93444]=3357,e[93445]=62,e[93446]=363,e[93448]=35624,e[93452]=35624,e[93456]=25264,e[93457]=60,e[93458]=469,e[93460]=25283,e[93461]=60,e[93462]=467,e[93464]=35624,e[93468]=35624,e[93472]=35624,e[93476]=35624,e[93480]=35624,e[93484]=35624,e[93488]=35624,e[93492]=35624,e[93496]=35624,e[93500]=35624,e[93504]=35624,e[93508]=35624,e[93512]=35624,e[93516]=7249,e[93517]=119,e[93518]=232,e[93520]=35624,e[93524]=35624,e[93528]=35624,e[93532]=1226,e[93533]=109,e[93534]=208,e[93536]=35624,e[93540]=35624,e[93544]=35624,e[93548]=2728,e[93549]=62,e[93550]=440,e[93552]=35624,e[93556]=35624,e[93560]=35624,e[93564]=35624,e[93568]=35624,e[93572]=35624,e[93576]=35624,e[93580]=35624,e[93584]=35624,e[93588]=4234,e[93589]=119,e[93590]=374,e[93592]=4617,e[93593]=62,e[93594]=344,e[93596]=8635,e[93597]=119,e[93598]=372,e[93600]=9016,e[93601]=62,e[93602]=343,e[93604]=35624,e[93608]=35624,e[93612]=11791,e[93613]=89,e[93614]=205,e[93616]=35624,e[93620]=4060,e[93621]=58,e[93622]=482,e[93624]=4082,e[93625]=58,e[93626]=480,e[93628]=35624,e[93632]=35624,e[93636]=35624,e[93640]=35624,e[93644]=35624,e[93648]=35624,e[93652]=35624,e[93656]=35624,e[93660]=4403,e[93661]=62,e[93662]=366,e[93664]=35624,e[93668]=8812,e[93669]=62,e[93670]=364,e[93672]=35624,e[93676]=35624,e[93680]=35624,e[93684]=35624,e[93688]=35624,e[93692]=35624,e[93696]=35624,e[93700]=35624,e[93704]=35624,e[93708]=35624,e[93712]=35624,e[93716]=35624,e[93720]=35624,e[93724]=35624,e[93728]=35624,e[93732]=35624,e[93736]=35624,e[93740]=35624,e[93744]=35624,e[93748]=35624,e[93752]=35624,e[93756]=35624,e[93760]=35624,e[93764]=35624,e[93768]=35624,e[93772]=35624,e[93776]=35624,e[93780]=35624,e[93784]=35624,e[93788]=35624,e[93792]=35624,e[93796]=35624,e[93800]=35624,e[93804]=35624,e[93808]=35624,e[93812]=35624,e[93816]=13148,e[93817]=65,e[93818]=12,e[93820]=35624,e[93824]=35624,e[93828]=35624,e[93832]=4788,e[93833]=119,e[93834]=446,e[93836]=35624,e[93840]=35624,e[93844]=35624,e[93848]=9187,e[93849]=119,e[93850]=445,e[93852]=35624,e[93856]=35624,e[93860]=35624,e[93864]=35624,e[93868]=35624,e[93872]=35624,e[93876]=35624,e[93880]=35624,e[93884]=35624,e[93888]=35624,e[93892]=35624,e[93896]=35624,e[93900]=35624,e[93904]=35624,e[93908]=35624,e[93912]=35624,e[93916]=35624,e[93920]=35624,e[93924]=35624,e[93928]=35624,e[93932]=35624,e[93936]=24292,e[93937]=62,e[93938]=355,e[93940]=35624,e[93944]=35624,e[93948]=7941,e[93949]=119,e[93950]=338,e[93952]=4209,e[93953]=62,e[93954]=389,e[93956]=35624,e[93960]=8610,e[93961]=62,e[93962]=387,e[93964]=13238,e[93965]=127,e[93966]=-17,e[93967]=-1,e[93968]=35624,e[93972]=35624,e[93976]=35624,e[93980]=35624,e[93984]=35624,e[93988]=35624,e[93992]=35624,e[93996]=35624,e[94e3]=10547,e[94001]=72,e[94002]=262,e[94004]=6682,e[94005]=119,e[94006]=315,e[94008]=35624,e[94012]=35624,e[94016]=4285,e[94017]=119,e[94018]=375,e[94020]=35624,e[94024]=8704,e[94025]=119,e[94026]=373,e[94028]=35624,e[94032]=12354,e[94033]=119,e[94034]=371,e[94036]=35624,e[94040]=35624,e[94044]=35624,e[94048]=35624,e[94052]=35624,e[94056]=35624,e[94060]=35624,e[94064]=35624,e[94068]=35624,e[94072]=35624,e[94076]=13248,e[94077]=127,e[94078]=-16,e[94079]=-1,e[94080]=35624,e[94084]=35624,e[94088]=35624,e[94092]=35624,e[94096]=35624,e[94100]=35624,e[94104]=35624,e[94108]=35624,e[94112]=15092,e[94113]=62,e[94114]=231,e[94116]=35624,e[94120]=35624,e[94124]=35624,e[94128]=10706,e[94129]=7,e[94132]=35624,e[94136]=35624,e[94140]=11603,e[94141]=15,e[94144]=35624,e[94148]=35624,e[94152]=35624,e[94156]=3370,e[94157]=62,e[94158]=333,e[94160]=35624,e[94164]=35624,e[94168]=35624,e[94172]=35624,e[94176]=35624,e[94180]=35624,e[94184]=11518,e[94185]=62,e[94186]=156,e[94188]=11531,e[94189]=62,e[94190]=142,e[94192]=35624,e[94196]=35624,e[94200]=35624,e[94204]=35624,e[94208]=35624,e[94212]=35624,e[94216]=35624,e[94220]=35624,e[94224]=35624,e[94228]=35624,e[94232]=35624,e[94236]=35624,e[94240]=10800,e[94241]=119,e[94242]=450,e[94244]=35624,e[94248]=10829,e[94249]=119,e[94250]=449,e[94252]=35624,e[94256]=35624,e[94260]=35624,e[94264]=35624,e[94268]=35624,e[94272]=35624,e[94276]=35624,e[94280]=35624,e[94284]=35624,e[94288]=35624,e[94292]=35624,e[94296]=35624,e[94300]=35624,e[94304]=35624,e[94308]=25675,e[94309]=74,e[94310]=177,e[94312]=35624,e[94316]=35624,e[94320]=35624,e[94324]=35624,e[94328]=35624,e[94332]=35624,e[94336]=35624,e[94340]=35624,e[94344]=35624,e[94348]=35624,e[94352]=35624,e[94356]=35624,e[94360]=35624,e[94364]=35624,e[94368]=7133,e[94369]=116,e[94370]=299,e[94372]=35624,e[94376]=35624,e[94380]=4259,e[94381]=62,e[94382]=390,e[94384]=35624,e[94388]=8678,e[90809]=103,e[90808]=14478,e[90806]=296,e[90805]=62,e[90804]=5833,e[90802]=250,e[90801]=103,e[90800]=14497,e[90796]=35624,e[90792]=35624,e[90789]=31,e[90788]=12187,e[90784]=35624,e[90782]=2,e[90781]=63,e[90780]=12522,e[90776]=35624,e[90772]=35624,e[90768]=35624,e[90764]=35624,e[90762]=473,e[90761]=58,e[90760]=3969,e[90758]=475,e[90757]=58,e[90756]=3947,e[90752]=35624,e[90748]=35624,e[90745]=32,e[90744]=6961,e[90740]=35624,e[90738]=487,e[90737]=58,e[90736]=3856,e[90734]=489,e[90733]=58,e[90732]=3834,e[90728]=35624,e[90724]=35624,e[90721]=33,e[90720]=5614,e[90716]=35624,e[90714]=294,e[90713]=119,e[90712]=5845,e[90709]=36,e[90708]=13741,e[90704]=35624,e[90700]=35624,e[90696]=35624,e[90692]=35624,e[90688]=35624,e[90684]=35624,e[90680]=35624,e[90678]=-5,e[90679]=-1,e[90677]=127,e[90676]=25249,e[90672]=35624,e[90668]=35624,e[90664]=35624,e[90660]=35624,e[90656]=35624,e[90652]=35624,e[90650]=217,e[90649]=83,e[90648]=23975,e[90646]=228,e[90645]=108,e[90644]=13845,e[90640]=35624,e[90636]=35624,e[90634]=297,e[90633]=62,e[90632]=10389,e[90628]=35624,e[90624]=35624,e[90622]=21,e[90621]=71,e[90620]=11864,e[90616]=35624,e[90612]=35624,e[90610]=404,e[90609]=62,e[90608]=11687,e[90604]=35624,e[90602]=439,e[90601]=62,e[90600]=11697,e[90598]=247,e[90597]=103,e[90596]=14592,e[90592]=35624,e[90590]=251,e[90589]=103,e[90588]=14611,e[90585]=37,e[90584]=10411,e[90580]=35624,e[90578]=107,e[90577]=62,e[90576]=8342,e[90574]=125,e[90573]=62,e[90572]=8320,e[90570]=108,e[90569]=62,e[90568]=3347,e[90566]=126,e[90565]=62,e[90564]=3325,e[90560]=35624,e[90558]=186,e[90557]=119,e[90556]=9460,e[90552]=35624,e[90550]=295,e[90549]=62,e[90548]=16012,e[90544]=35624,e[90542]=42,e[90541]=83,e[90540]=9475,e[90536]=35624,e[90534]=135,e[90533]=119,e[90532]=5771,e[90530]=149,e[90529]=119,e[90528]=5751,e[90526]=43,e[90525]=83,e[90524]=5081,e[90522]=505,e[90521]=58,e[90520]=3158,e[90516]=35624,e[90514]=52,e[90513]=108,e[90512]=25710,e[90508]=35624,e[90504]=35624,e[90500]=35624,e[90497]=22,e[90496]=5799,e[90492]=35624,e[90488]=35624,e[90484]=35624,e[90482]=421,e[90481]=119,e[90480]=24194,e[90476]=35624,e[90472]=35624,e[90468]=35624,e[90464]=35624,e[90460]=35624,e[90456]=35624,e[90452]=35624,e[90448]=35624,e[90444]=35624,e[90440]=35624,e[90436]=35624,e[90432]=35624,e[90428]=35624,e[90424]=35624,e[90420]=35624,e[90416]=35624,e[90413]=24,e[90412]=5621,e[90410]=499,e[90409]=58,e[90408]=10259,e[90406]=500,e[90405]=58,e[90404]=10240,e[90400]=35624,e[90398]=512,e[90397]=58,e[90396]=3666,e[90392]=35624,e[90390]=393,e[90389]=119,e[90388]=13615,e[90386]=422,e[90385]=119,e[90384]=5714,e[90380]=35624,e[90376]=35624,e[90374]=106,e[90373]=62,e[90372]=11973,e[90370]=124,e[90369]=62,e[90368]=11955,e[90366]=498,e[90365]=58,e[90364]=3267,e[90360]=35624,e[90356]=35624,e[90352]=35624,e[90348]=35624,e[90346]=402,e[90345]=62,e[90344]=23907,e[90341]=20,e[90340]=7026,e[90338]=437,e[90337]=62,e[90336]=23917,e[90334]=48,e[90333]=108,e[90332]=25222,e[90330]=50,e[90329]=108,e[90328]=25211,e[90324]=35624,e[90322]=471,e[90321]=58,e[90320]=23832,e[90318]=472,e[90317]=58,e[90316]=23813,e[90312]=35624,e[90308]=35624,e[90306]=419,e[90305]=119,e[90304]=11905,e[90301]=45,e[90300]=14425,e[90298]=485,e[90297]=58,e[90296]=15993,e[90294]=486,e[90293]=58,e[90292]=15974,e[90288]=35624,e[90285]=17,e[90284]=13136,e[90280]=35624,e[90276]=35624,e[90272]=35624,e[90270]=140,e[90269]=62,e[90268]=11506,e[90266]=154,e[90265]=62,e[90264]=11488,e[90260]=35624,e[90258]=162,e[90257]=74,e[90256]=9371,e[90254]=431,e[90253]=62,e[90252]=2390,e[90250]=163,e[90249]=74,e[90248]=4972,e[90244]=35624,e[90242]=406,e[90241]=62,e[90240]=14845,e[90238]=244,e[90237]=103,e[90236]=14440,e[90234]=289,e[90233]=72,e[90232]=14854,e[90230]=248,e[90229]=103,e[90228]=14459,e[90225]=23,e[90224]=15458,e[90222]=392,e[90221]=119,e[90220]=13092,e[90218]=290,e[90217]=72,e[90216]=6764,e[90214]=435,e[90213]=119,e[90212]=13102,e[90210]=291,e[90209]=72,e[90208]=6876,e[90206]=407,e[90205]=62,e[90204]=8118,e[90200]=35624,e[90198]=408,e[90197]=62,e[90196]=8180,e[90194]=384,e[90193]=62,e[90192]=8044,e[90188]=35624,e[90186]=385,e[90185]=62,e[90184]=2870,e[90180]=35624,e[90176]=35624,e[90174]=409,e[90173]=62,e[90172]=8492,e[90168]=35624,e[90166]=410,e[90165]=62,e[90164]=8554,e[90160]=35624,e[90157]=48,e[90156]=25326,e[90154]=292,e[90153]=72,e[90152]=15442,e[90149]=50,e[90148]=25350,e[90146]=293,e[90145]=72,e[90144]=15510,e[90140]=35624,e[90138]=477,e[90137]=58,e[90136]=4037,e[90132]=35624,e[90128]=35624,e[90124]=35624,e[90122]=459,e[90121]=56,e[90120]=4360,e[90118]=461,e[90117]=56,e[90116]=4341,e[90114]=491,e[90113]=58,e[90112]=3924,e[90108]=35624,e[90106]=492,e[90105]=58,e[90104]=10371,e[90102]=493,e[90101]=58,e[90100]=10353,e[90096]=35624,e[90092]=35624,e[90088]=35624,e[90084]=35624,e[90080]=35624,e[90076]=35624,e[90074]=457,e[90073]=56,e[90072]=23959,e[90070]=458,e[90069]=56,e[90068]=23943,e[90064]=35624,e[90060]=35624,e[90056]=35624,e[90052]=35624,e[90048]=35624,e[90046]=206,e[90045]=113,e[90044]=6792,e[90040]=35624,e[90038]=381,e[90037]=62,e[90036]=11651,e[90032]=35624,e[90030]=428,e[90029]=62,e[90028]=11661,e[90026]=245,e[90025]=103,e[90024]=14554,e[90022]=484,e[90021]=58,e[90020]=4150,e[90018]=249,e[90017]=103,e[90016]=14573,e[90012]=35624,e[90008]=35624,e[90004]=35624,e[90002]=-1,e[90003]=-1,e[90001]=127,e[9e4]=25651,e[89996]=35624,e[89994]=-3,e[89995]=-1,e[89993]=127,e[89992]=25687,e[89988]=35624,e[89984]=35624,e[89980]=35624,e[89976]=35624,e[89972]=35624,e[89968]=35624,e[89964]=35624,e[89960]=35624,e[89956]=35624,e[89954]=183,e[89953]=119,e[89952]=8959,e[89950]=185,e[89949]=119,e[89948]=8944,e[89946]=464,e[89945]=60,e[89944]=13828,e[89942]=465,e[89941]=60,e[89940]=13811,e[89938]=36,e[89937]=83,e[89936]=8987,e[89934]=40,e[89933]=83,e[89932]=8974,e[89928]=35624,e[89924]=35624,e[89922]=37,e[89921]=83,e[89920]=4588,e[89918]=41,e[89917]=83,e[89916]=4575,e[89912]=35624,e[89910]=417,e[89909]=119,e[89908]=24172,e[89904]=35624,e[89902]=212,e[89901]=115,e[89900]=13310,e[89896]=35624,e[89892]=35624,e[89888]=35624,e[89884]=35624,e[89882]=215,e[89881]=96,e[89880]=11741,e[89878]=160,e[89877]=74,e[89876]=9303,e[89874]=166,e[89873]=74,e[89872]=9287,e[89868]=35624,e[89866]=18,e[89865]=99,e[89864]=7093,e[89862]=161,e[89861]=74,e[89860]=4904,e[89858]=167,e[89857]=74,e[89856]=4888,e[89852]=35624,e[89848]=35624,e[89844]=35624,e[89840]=35624,e[89836]=35624,e[89832]=35624,e[89828]=35624,e[89824]=35624,e[89820]=35624,e[89818]=370,e[89817]=119,e[89816]=13600,e[89814]=418,e[89813]=119,e[89812]=5688,e[89808]=35624,e[89806]=131,e[89805]=119,e[89804]=11916,e[89802]=145,e[89801]=119,e[89800]=11896,e[89796]=35624,e[89792]=35624,e[89788]=35624,e[89784]=35624,e[89780]=35624,e[89776]=35624,e[89774]=379,e[89773]=62,e[89772]=23871,e[89768]=35624,e[89766]=426,e[89765]=62,e[89764]=23881,e[89760]=35624,e[89756]=35624,e[89752]=35624,e[89748]=35624,e[89744]=35624,e[89740]=35624,e[89736]=35624,e[89734]=415,e[89733]=119,e[89732]=11885,e[89728]=35624,e[89724]=35624,e[89720]=35624,e[89716]=35624,e[89712]=35624,e[89708]=35624,e[89704]=35624,e[89702]=141,e[89701]=62,e[89700]=2418,e[89698]=155,e[89697]=62,e[89696]=2400,e[89692]=35624,e[89688]=35624,e[89684]=35624,e[89680]=35624,e[89676]=35624,e[89672]=35624,e[89670]=273,e[89669]=72,e[89668]=14813,e[89664]=35624,e[89662]=283,e[89661]=72,e[89660]=14822,e[89656]=35624,e[89652]=35624,e[89650]=369,e[89649]=119,e[89648]=13064,e[89646]=284,e[89645]=72,e[89644]=6748,e[89642]=424,e[89641]=119,e[89640]=13074,e[89638]=285,e[89637]=72,e[89636]=6860,e[89634]=274,e[89633]=72,e[89632]=8098,e[89628]=35624,e[89626]=276,e[89625]=72,e[89624]=8160,e[89620]=35624,e[89618]=275,e[89617]=72,e[89616]=2924,e[89612]=35624,e[89610]=277,e[89609]=72,e[89608]=2975,e[89604]=35624,e[89602]=278,e[89601]=72,e[89600]=8472,e[89596]=35624,e[89594]=280,e[89593]=72,e[89592]=8534,e[89588]=35624,e[89586]=279,e[89585]=72,e[89584]=3754,e[89582]=286,e[89581]=72,e[89580]=15426,e[89578]=281,e[89577]=72,e[89576]=3805,e[89574]=287,e[89573]=72,e[89572]=15494,e[89568]=35624,e[89564]=35624,e[89560]=35624,e[89556]=35624,e[89552]=35624,e[89548]=35624,e[89546]=23,e[89545]=102,e[89544]=7141,e[89540]=35624,e[89536]=35624,e[89532]=35624,e[89530]=27,e[89529]=86,e[89528]=15526,e[89524]=35624,e[89520]=35624,e[89516]=35624,e[89514]=26,e[89513]=85,e[89512]=6968,e[89508]=35624,e[89506]=25,e[89505]=84,e[89504]=6999,e[89502]=101,e[89501]=62,e[89500]=8398,e[89498]=119,e[89497]=62,e[89496]=8388,e[89494]=102,e[89493]=62,e[89492]=3429,e[89490]=120,e[89489]=62,e[89488]=3419,e[89484]=35624,e[89480]=35624,e[89476]=35624,e[89472]=35624,e[89468]=35624,e[89464]=35624,e[89460]=35624,e[89456]=35624,e[89452]=35624,e[89448]=35624,e[89444]=35624,e[89440]=35624,e[89436]=35624,e[89432]=35624,e[89428]=35624,e[89424]=35624,e[89422]=-2,e[89423]=-1,e[89421]=127,e[89420]=25406,e[89416]=35624,e[89414]=-4,e[89415]=-1,e[89413]=127,e[89412]=25441,e[89410]=105,e[89409]=62,e[89408]=10295,e[89406]=123,e[89405]=62,e[89404]=10287,e[89401]=13,e[89400]=13772,e[89396]=35624,e[89394]=182,e[89393]=119,e[89392]=8774,e[89390]=184,e[89389]=119,e[89388]=8760,e[89384]=35624,e[89380]=35624,e[89376]=35624,e[89374]=55,e[89373]=73,e[89372]=5662,e[89370]=56,e[89369]=73,e[89368]=5642,e[89366]=57,e[89365]=73,e[89364]=5672,e[89362]=58,e[89361]=73,e[89360]=5652,e[89358]=34,e[89357]=83,e[89356]=8800,e[89354]=38,e[89353]=83,e[89352]=8788,e[89350]=35,e[89349]=83,e[89348]=4391,e[89346]=39,e[89345]=83,e[89344]=4379,e[89341]=25,e[89340]=12181,e[89336]=35624,e[89332]=35624,e[89330]=110,e[89329]=62,e[89328]=10216,e[89326]=128,e[89325]=62,e[89324]=10207,e[89320]=35624,e[89318]=15,e[89317]=67,e[89316]=11859,e[89314]=30,e[89313]=83,e[89312]=24003,e[89310]=31,e[89309]=83,e[89308]=23985,e[89306]=32,e[89305]=83,e[89304]=24012,e[89302]=33,e[89301]=83,e[89300]=23994,e[89297]=94,e[89296]=10980,e[89292]=35624,e[89288]=35624,e[89284]=35624,e[89280]=35624,e[89276]=35624,e[89274]=98,e[89273]=62,e[89272]=11707,e[89270]=116,e[89269]=62,e[89268]=11671,e[89266]=138,e[89265]=62,e[89264]=11715,e[89262]=152,e[89261]=62,e[89260]=11679,e[89256]=35624,e[89252]=35624,e[89248]=35624,e[89246]=17,e[89245]=100,e[89244]=11852,e[89240]=35624,e[89236]=35624,e[89232]=35624,e[89230]=44,e[89229]=108,e[89228]=13876,e[89226]=45,e[89225]=108,e[89224]=13856,e[89222]=46,e[89221]=108,e[89220]=13886,e[89218]=47,e[89217]=108,e[89216]=13866,e[89212]=35624,e[89210]=109,e[89209]=62,e[89208]=11732,e[89206]=127,e[89205]=62,e[89204]=11723,e[89202]=158,e[89201]=74,e[89200]=9444,e[89198]=164,e[89197]=74,e[89196]=9428,e[89192]=35624,e[89188]=35624,e[89186]=159,e[89185]=74,e[89184]=5045,e[89182]=165,e[89181]=74,e[89180]=5029,e[89176]=35624,e[89174]=104,e[89173]=62,e[89172]=10404,e[89170]=122,e[89169]=62,e[89168]=10397,e[89164]=35624,e[89160]=35624,e[89156]=35624,e[89152]=35624,e[89148]=35624,e[89144]=35624,e[89142]=-16,e[89143]=-1,e[89141]=128,e[89140]=24220,e[89138]=133,e[89137]=119,e[89136]=24206,e[89134]=147,e[89133]=119,e[89132]=24184,e[89128]=35624,e[89124]=35624,e[89120]=35624,e[89116]=35624,e[89114]=96,e[89113]=62,e[89112]=23927,e[89110]=114,e[89109]=62,e[89108]=23891,e[89106]=136,e[89105]=62,e[89104]=23935,e[89102]=150,e[89101]=62,e[89100]=23899,e[89096]=35624,e[89092]=35624,e[89090]=103,e[89089]=62,e[89088]=16029,e[89086]=121,e[89085]=62,e[89084]=16021,e[89080]=35624,e[89076]=35624,e[89074]=210,e[89073]=114,e[89072]=6989,e[89068]=35624,e[89066]=209,e[89065]=111,e[89064]=7020,e[89062]=-33,e[89063]=-1,e[89061]=42,e[89060]=7086,e[89056]=35624,e[89054]=134,e[89053]=119,e[89052]=5728,e[89050]=148,e[89049]=119,e[89048]=5702,e[89044]=35624,e[89040]=35624,e[89036]=35624,e[89032]=35624,e[89028]=35624,e[89024]=35624,e[89020]=35624,e[89017]=12,e[89016]=13916,e[89012]=35624,e[89008]=35624,e[89004]=35624,e[89e3]=35624,e[88997]=14,e[88996]=10936,e[88992]=35624,e[88990]=14,e[88989]=101,e[88988]=10966,e[88986]=62,e[88985]=72,e[88984]=8129,e[88982]=73,e[88981]=72,e[88980]=8109,e[88978]=64,e[88977]=72,e[88976]=8191,e[88974]=75,e[88973]=72,e[88972]=8171,e[88970]=63,e[88969]=72,e[88968]=2944,e[88966]=74,e[88965]=72,e[88964]=2935,e[88962]=65,e[88961]=72,e[88960]=2995,e[88958]=76,e[88957]=72,e[88956]=2986,e[88954]=66,e[88953]=72,e[88952]=8503,e[88950]=77,e[88949]=72,e[88948]=8483,e[88946]=68,e[88945]=72,e[88944]=8565,e[88942]=79,e[88941]=72,e[88940]=8545,e[88938]=67,e[88937]=72,e[88936]=3774,e[88934]=78,e[88933]=72,e[88932]=3765,e[88930]=69,e[88929]=72,e[88928]=3825,e[88926]=80,e[88925]=72,e[88924]=3816,e[88921]=38,e[88920]=6717,e[88917]=43,e[88916]=15348,e[88912]=35624,e[88908]=35624,e[88905]=28,e[88904]=15245,e[88902]=11,e[88901]=64,e[88900]=10525,e[88896]=35624,e[88892]=35624,e[88890]=214,e[88889]=97,e[88888]=11753,e[88886]=61,e[88885]=72,e[88884]=14863,e[88882]=72,e[88881]=72,e[88880]=14831,e[88878]=82,e[88877]=72,e[88876]=14870,e[88874]=88,e[88873]=72,e[88872]=14838,e[88870]=130,e[88869]=119,e[88868]=13112,e[88866]=144,e[88865]=119,e[88864]=13084,e[88862]=83,e[88861]=72,e[88860]=6773,e[88858]=89,e[88857]=72,e[88856]=6757,e[88854]=84,e[88853]=72,e[88852]=6885,e[88850]=90,e[88849]=72,e[88848]=6869,e[88845]=29,e[88844]=5627,e[88840]=35624,e[88836]=35624,e[88832]=35624,e[88828]=35624,e[88824]=35624,e[88820]=35624,e[88816]=35624,e[88812]=35624,e[88808]=35624,e[88804]=35624,e[88800]=35624,e[88798]=85,e[88797]=72,e[88796]=15451,e[88794]=91,e[88793]=72,e[88792]=15435,e[88790]=86,e[88789]=72,e[88788]=15519,e[88786]=92,e[88785]=72,e[88784]=15503,e[88780]=35624,e[88776]=35624,e[88772]=35624,e[88768]=35624,e[88764]=35624,e[88760]=35624,e[88756]=35624,e[88752]=35624,e[88748]=35624,e[88744]=35624,e[88741]=11,e[88740]=24424,e[88736]=35624,e[88732]=35624,e[88728]=35624,e[88724]=35624,e[88720]=35624,e[88716]=35624,e[88712]=35624,e[88708]=35624,e[88704]=35624,e[88700]=35624,e[88696]=35624,e[88692]=35624,e[88688]=35624,e[88684]=35624,e[88680]=35624,e[88676]=35624,e[88672]=35624,e[88668]=35624,e[88664]=35624,e[88660]=35624,e[88656]=35624,e[88652]=35624,S[392688]=1),p=c-2|0;e:{if(p>>>0>27)break e;a=c;t:switch(p|0){default:a=c+Yn[(y[o+22|0]<<1)+51584>>1]|0;case 17:case 18:case 19:case 20:a=Yn[(y[o+18|0]<<1)+51584>>1]+a|0;case 16:a=Yn[(y[o+17|0]<<1)+51584>>1]+a|0;case 15:a=Yn[(y[o+16|0]<<1)+51584>>1]+a|0;case 13:case 14:a=Yn[(y[o+14|0]<<1)+51584>>1]+a|0;case 10:case 11:case 12:a=Yn[(y[o+11|0]<<1)+51584>>1]+a|0;case 8:case 9:a=Yn[(y[o+9|0]<<1)+51584>>1]+a|0;case 6:case 7:a=Yn[(y[o+7|0]<<1)+51584>>1]+a|0;case 5:a=Yn[(y[o+6|0]<<1)+51584>>1]+a|0;case 4:a=Yn[(y[o+5|0]<<1)+51584>>1]+a|0;case 3:a=Yn[(y[o+4|0]<<1)+51584>>1]+a|0;case 1:case 2:a=Yn[((y[o+2|0]+1&255)<<1)+51584>>1]+a|0;break;case 0:break t}_=c-1|0,p=y[o|0],a=Yn[(y[_+o|0]<<1)+51584>>1]+(Yn[((p+1&255)<<1)+51584>>1]+a|0)|0;t:{if(a>>>0>2379||(a=(a<<4)+354608|0,L=e[a>>2],(p|0)!=y[L|0]))break t;v=o+1|0,g=L+1|0,p=0,o=0;i:{if(!_)break i;o=y[v|0];n:{if(!o)break n;for(;;){s:{if(x=y[g|0],!x||(_=_-1|0,!_|(o|0)!=(x|0)))break s;if(g=g+1|0,o=y[v+1|0],v=v+1|0,o)continue;break n}break}p=o}o=(p&255)-y[g|0]|0}if(o)break t;if(!y[c+L|0])break e}a=0}e:{if(!a){_=e[r+8>>2],c=y[r+15|0],o=e[r+28>>2],v=e[r+4>>2],p=e[r+36>>2],a=e[r+32>>2],e[n+192>>2]=e[r+16>>2],g=a-o|0,e[n+196>>2]=((g|0)>0?g:0)+1,o=p-o|0,o=((o|0)>0?o:0)+1|0,e[n+200>>2]=o,e[n+32>>2]=o,o=e[n+196>>2],e[n+24>>2]=e[n+192>>2],e[n+28>>2]=o,e[n+176>>2]=a,e[n+180>>2]=p-a,a=c<<24>>24<0,e[n+188>>2]=a?_:c,e[n+184>>2]=a?v:r+4|0,r=e[n+180>>2],e[n+8>>2]=e[n+176>>2],e[n+12>>2]=r,r=e[n+188>>2],e[n+16>>2]=e[n+184>>2],e[n+20>>2]=r,Qo(i,n+16|0,124,n+8|0);break e}if(c=e[a+4>>2],c>>>0<=51){p=e[r+8>>2],a=y[r+15|0],o=e[r+28>>2],_=e[r+4>>2],v=e[r+36>>2],g=e[r+32>>2],e[n+192>>2]=e[r+16>>2],g=g-o|0,e[n+196>>2]=((g|0)>0?g:0)+1,o=v-o|0,o=((o|0)>0?o:0)+1|0,e[n+200>>2]=o,e[n+56>>2]=o,o=e[n+196>>2],e[n+48>>2]=e[n+192>>2],e[n+52>>2]=o,o=a,a=a<<24>>24<0,e[n+188>>2]=a?p:o,e[n+184>>2]=a?_:r+4|0,r=e[n+188>>2],e[n+40>>2]=e[n+184>>2],e[n+44>>2]=r,z0(i,n+40|0,c);break e}if(c-127>>>0<=3){p=e[r+8>>2],c=y[r+15|0],o=e[r+28>>2],_=e[r+4>>2],v=e[r+36>>2],g=e[r+32>>2],e[n+160>>2]=e[r+16>>2],g=g-o|0,e[n+164>>2]=((g|0)>0?g:0)+1,o=v-o|0,o=((o|0)>0?o:0)+1|0,e[n+168>>2]=o,g=c,c=c<<24>>24<0,e[n+156>>2]=c?p:g,e[n+152>>2]=c?_:r+4|0,c=e[a+4>>2],r=e[a+8>>2],a=e[a+12>>2],p=e[n+164>>2],e[n+80>>2]=e[n+160>>2],e[n+84>>2]=p,e[n+88>>2]=o,o=e[n+156>>2],e[n+72>>2]=e[n+152>>2],e[n+76>>2]=o,e[n+64>>2]=r,e[n+68>>2]=a,e[n+144>>2]=r,e[n+148>>2]=a,Qo(i,n+72|0,c,n- -64|0);break e}p=e[r+8>>2],c=y[r+15|0],o=e[r+28>>2],_=e[r+4>>2],v=e[r+36>>2],g=e[r+32>>2],e[n+128>>2]=e[r+16>>2],g=g-o|0,e[n+132>>2]=((g|0)>0?g:0)+1,o=v-o|0,o=((o|0)>0?o:0)+1|0,e[n+136>>2]=o,g=c,c=c<<24>>24<0,e[n+124>>2]=c?p:g,e[n+120>>2]=c?_:r+4|0,r=e[a+4>>2],a=e[a+8>>2],e[n+112>>2]=o,c=e[n+132>>2],e[n+104>>2]=e[n+128>>2],e[n+108>>2]=c,c=e[n+124>>2],e[n+96>>2]=e[n+120>>2],e[n+100>>2]=c,c=e[n+100>>2],e[i>>2]=e[n+96>>2],e[i+4>>2]=c,e[i+16>>2]=e[n+112>>2],c=e[n+108>>2],e[i+8>>2]=e[n+104>>2],e[i+12>>2]=c,e[i+24>>2]=a,e[i+20>>2]=r}b=n+208|0}function Ak(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0;j=b-80|0,b=j,a=we(i,0),n=we(i,1);e:{t:{i:{if((a|0)!=26)break i;for(;;){n:switch(n-11|0){default:if((n|0)!=128)break i;break;case 1:case 2:case 3:case 5:case 8:case 9:case 12:case 13:case 14:case 15:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 31:case 33:break i;case 0:case 4:case 6:case 7:case 10:case 11:case 16:case 30:case 32:case 34:break n}n=1;n:{s:{r:{l:{u:{a:{c:{o:{d:{m:{A:{w:switch(a=we(i,1),a-11|0){case 30:break r;case 16:break l;case 11:break u;case 10:break a;case 34:break c;case 7:break d;case 6:break m;case 4:break A;case 0:break w;case 1:case 2:case 3:case 5:case 8:case 9:case 12:case 13:case 14:case 15:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 31:case 33:break n;case 32:break s;default:break o}o=b-128|0,b=o;w:{if((Ve(i,26)|0)==1)break w;g=i+16|0;C:{if(e[i+88>>2]){c=e[i+92>>2];break C}ri(o+88|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,p=e[o+92>>2],c=e[i+92>>2],a=g+H(a+c&1,36)|0,e[a>>2]=e[o+88>>2],e[a+4>>2]=p,e[a+32>>2]=e[o+120>>2],p=e[o+116>>2],e[a+24>>2]=e[o+112>>2],e[a+28>>2]=p,p=e[o+108>>2],e[a+16>>2]=e[o+104>>2],e[a+20>>2]=p,p=e[o+100>>2],e[a+8>>2]=e[o+96>>2],e[a+12>>2]=p}if(a=g+H(c&1,36)|0,e[o+104>>2]=e[a+16>>2],c=e[a+12>>2],e[o+96>>2]=e[a+8>>2],e[o+100>>2]=c,c=e[a+4>>2],e[o+88>>2]=e[a>>2],e[o+92>>2]=c,(Ve(i,11)|0)==1)break w;e[o+80>>2]=0,e[o+72>>2]=0,e[o+76>>2]=0,p=o+72|0,to(i,p),a=b-32|0,b=a,n=Z(112),g=e[p+4>>2],_=e[p>>2],c=y[p+11|0],e[n+4>>2]=0,e[n+8>>2]=0,v=e[o+92>>2],e[n+12>>2]=e[o+88>>2],e[n+16>>2]=v,v=e[o+100>>2],e[n+20>>2]=e[o+96>>2],e[n+24>>2]=v,e[n+28>>2]=e[o+104>>2],e[n+32>>2]=8,e[n+36>>2]=0,e[n>>2]=46280;C:{if(v=c<<24>>24<0,c=v?g:c,c>>>0<4294967280){_:{v:{if(c>>>0>=11){L=c+16&-16,g=Z(L),e[n+48>>2]=L|-2147483648,e[n+40>>2]=g,e[n+44>>2]=c;break v}if(g=n+40|0,S[g+11|0]=c,!c)break _}Ce(g,v?_:p,c)}S[c+g|0]=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ne(n+52|0,-1,a+8|0),e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,b=a+32|0;break C}break e}a=n;C:{_:{v:{f:{if((we(i,0)|0)!=26||(we(i,1)|0)!=27)break f;if((Ve(i,26)|0)==1||(Ve(i,27)|0)==1||(qt(i,a+52|0)|0)==1||(Ve(i,39)|0)==1||(Uk(i,a+88|0)|0)==1)break _;break v}c=a+52|0,n=Ne(o+32|0,0,o+88|0);f:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break f;if(qt(i,c),te(n),(Uk(i,a+88|0)|0)==1)break _;break v}if(Di(c,n),te(n),Kk(i,a+88|0))break v;if(!y[e[i+12>>2]+9|0]){e[o+24>>2]=e[o+104>>2],n=e[o+100>>2],e[o+16>>2]=e[o+96>>2],e[o+20>>2]=n,n=e[o+92>>2],e[o+8>>2]=e[o+88>>2],e[o+12>>2]=n,Kt(i,o+8|0,16517,0);break _}e[a+36>>2]=1}if(j_(i,a+100|0),(Ve(i,39)|0)==1)break _;i8(r,a),n=0;break C}if(n=1,!a)break C;F[e[e[a>>2]+4>>2]](a)}if(S[o+83|0]>=0)break w;P(e[o+72>>2])}b=o+128|0;break n}c=b-192|0,b=c;A:{if((Ve(i,26)|0)==1)break A;p=i+16|0;w:{if(e[i+88>>2]){o=e[i+92>>2];break w}ri(c+152|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,a=e[c+156>>2],o=e[i+92>>2],n=p+H(n+o&1,36)|0,e[n>>2]=e[c+152>>2],e[n+4>>2]=a,e[n+32>>2]=e[c+184>>2],a=e[c+180>>2],e[n+24>>2]=e[c+176>>2],e[n+28>>2]=a,a=e[c+172>>2],e[n+16>>2]=e[c+168>>2],e[n+20>>2]=a,a=e[c+164>>2],e[n+8>>2]=e[c+160>>2],e[n+12>>2]=a}if(n=1,a=p+H(o&1,36)|0,e[c+144>>2]=e[a+16>>2],o=e[a+12>>2],e[c+136>>2]=e[a+8>>2],e[c+140>>2]=o,o=e[a+4>>2],e[c+128>>2]=e[a>>2],e[c+132>>2]=o,(Ve(i,15)|0)==1)break A;e[c+120>>2]=0,e[c+112>>2]=0,e[c+116>>2]=0,v=to(i,c+112|0);w:{if(S[c+123|0]>=0){e[c+104>>2]=e[c+120>>2],n=e[c+116>>2],e[c+96>>2]=e[c+112>>2],e[c+100>>2]=n;break w}Ni(c+96|0,e[c+112>>2],e[c+116>>2])}if(!y[e[i+12>>2]+9|0]){w:{if(S[c+107|0]<0){e[c+100>>2]=0,n=e[c+96>>2];break w}S[c+107|0]=0,n=c+96|0}S[n|0]=0}a=b-32|0,b=a,n=Z(120),_=c+96|0,g=e[_+4>>2],L=e[_>>2],o=y[_+11|0],e[n+4>>2]=0,e[n+8>>2]=0,M=e[c+132>>2],e[n+12>>2]=e[c+128>>2],e[n+16>>2]=M,M=e[c+140>>2],e[n+20>>2]=e[c+136>>2],e[n+24>>2]=M,e[n+28>>2]=e[c+144>>2],e[n+32>>2]=6,e[n+36>>2]=0,e[n>>2]=46156;w:{if(M=o<<24>>24<0,o=M?g:o,o>>>0<4294967280){C:{_:{if(o>>>0>=11){x=o+16&-16,g=Z(x),e[n+48>>2]=x|-2147483648,e[n+40>>2]=g,e[n+44>>2]=o;break _}if(g=n+40|0,S[g+11|0]=o,!o)break C}Ce(g,M?L:_,o)}S[o+g|0]=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ne(n+52|0,-1,a+8|0),e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,b=a+32|0;break w}break e}a=n;w:{if(!y[e[i+12>>2]+10|0]||(we(i,0)|0)!=12)break w;o=e[i+92>>2]&1,n=p+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,e[a+36>>2]=2}w:{C:{_:{v:{f:{if(y[e[i+12>>2]+9|0]){p:{if((we(i,0)|0)!=26||(we(i,1)|0)!=43)break p;if((Ve(i,26)|0)==1||(Ve(i,43)|0)==1||(qt(i,a+52|0)|0)==1)break v;if((Ve(i,39)|0)!=1)break f;break v}o=a+52|0,n=Ne(c+56|0,0,c+128|0);p:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break p;qt(i,o),te(n);break f}Di(o,n),te(n);break f}if(v){o=S[c+123|0],n=(o|0)<0,e[c+52>>2]=n?e[c+116>>2]:o&255,e[c+48>>2]=n?e[c+112>>2]:c+112|0,n=e[c+52>>2],e[c>>2]=e[c+48>>2],e[c+4>>2]=n,n=zT(c+152|0,c,c+128|0),Di(a+52|0,n),te(n);break f}n=a+52|0,o=Ne(c+8|0,0,c+128|0);p:{k:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break k;qt(i,n);break p}Di(n,o)}te(o)}f:{if(y[e[i+12>>2]+9|0]){if(e[a+36>>2]==2||Kk(i,a+96|0))break f;e[a+36>>2]=1;break f}if((Uk(i,a+96|0)|0)==1)break v}f:{p:{if((we(i,0)|0)!=127||(g=e[i+92>>2]&1,n=p+H(g,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,o=e[n+24>>2],n=e[n+28>>2],e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,!y[e[i+12>>2]+10|0]&&(o|0)==-17))break p;if(e[a+88>>2]=o,e[a+92>>2]=n,e[c+160>>2]=0,e[c+152>>2]=0,e[c+156>>2]=0,Ym(i,c+152|0))for(o=a+108|0;;){n=e[a+112>>2];k:{if(n>>>0<nt[a+116>>2]){e[n>>2]=e[c+152>>2],e[n+4>>2]=e[c+156>>2],e[n+8>>2]=e[c+160>>2],e[c+160>>2]=0,e[c+152>>2]=0,e[c+156>>2]=0,e[a+112>>2]=n+12;break k}Kf(o,c+152|0)}if(!Ym(i,c+152|0))break}if(n=e[c+152>>2],!n)break f;for(;o=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=o,!!n;);break f}if(e[a+88>>2]=-16,e[a+92>>2]=-1,(we(i,0)|0)==128&&(Ve(i,128)|0)==1)break _;ZN(i,a+108|0)}if((Ve(i,39)|0)==1)break v;n8(r,a),n=0;break w}if(!a)break C}F[e[e[a>>2]+4>>2]](a)}n=1}if(S[c+107|0]<0&&P(e[c+96>>2]),S[c+123|0]>=0)break A;P(e[c+112>>2])}b=c+192|0;break n}c=b-96|0,b=c,a=1;m:{if((Ve(i,26)|0)==1||(Ve(i,17)|0)==1)break m;e[c+24>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,to(i,c+16|0),e[c+8>>2]=0,e[c>>2]=0,e[c+4>>2]=0,a=1;A:{if((Gm(i,c,4)|0)==1)break A;w:{C:{_:{v:{if((we(i,0)|0)!=26||(we(i,1)|0)!=22)break v;Jf(i,r),a=qN(c+16|0);f:{if((Ve(i,26)|0)==1||(Ve(i,22)|0)==1||($n(i,a+4|0)|0)==1||($n(i,a+16|0)|0)==1||(Ve(i,39)|0)==1)break f;p:{k:{if((we(i,0)|0)!=26||(we(i,1)|0)!=45)break k;if(g=i+16|0,o=e[i+92>>2]&1,n=g+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,p=e[i+88>>2],n=g+H(!o,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=p-2,e[i+92>>2]=o,S[a+44|0]=1,(qt(i,a+48|0)|0)==1)break w;if((Ve(i,39)|0)!=1)break p;break w}S[a+44|0]=0}if(($f(i,a+84|0)|0)==1)break w;ta(c+32|0,i),n=Z(40),e[n+4>>2]=0,e[n+8>>2]=0,o=e[c+48>>2],g=e[c+40>>2],p=e[c+44>>2],_=e[c+32>>2],v=e[c+36>>2],e[n+36>>2]=a,e[n+32>>2]=2,e[n+12>>2]=_,e[n+16>>2]=v,e[n+20>>2]=g,e[n+24>>2]=p,e[n+28>>2]=o,e[n>>2]=37736,ql(r,n);break _}if(a)break w;a=1;break A}p=i+16|0;v:{if(e[i+88>>2]){a=e[i+92>>2];break v}ri(c+32|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,o=e[c+36>>2],a=e[i+92>>2],n=p+H(n+a&1,36)|0,e[n>>2]=e[c+32>>2],e[n+4>>2]=o,e[n+32>>2]=e[c- -64>>2],o=e[c+60>>2],e[n+24>>2]=e[c+56>>2],e[n+28>>2]=o,o=e[c+52>>2],e[n+16>>2]=e[c+48>>2],e[n+20>>2]=o,o=e[c+44>>2],e[n+8>>2]=e[c+40>>2],e[n+12>>2]=o}n=p+H(a&1,36)|0,e[c+48>>2]=e[n+16>>2],a=e[n+12>>2],e[c+40>>2]=e[n+8>>2],e[c+44>>2]=a,a=e[n+4>>2],e[c+32>>2]=e[n>>2],e[c+36>>2]=a,a=b-32|0,b=a,n=Z(152),_=c+16|0,g=e[_+4>>2],v=e[_>>2],o=y[_+11|0],e[n+4>>2]=0,e[n+8>>2]=0,L=e[c+36>>2],e[n+12>>2]=e[c+32>>2],e[n+16>>2]=L,L=e[c+44>>2],e[n+20>>2]=e[c+40>>2],e[n+24>>2]=L,e[n+28>>2]=e[c+48>>2],e[n+32>>2]=10,e[n>>2]=46404;v:{if(L=o<<24>>24<0,o=L?g:o,o>>>0<4294967280){f:{p:{if(o>>>0>=11){M=o+16&-16,g=Z(M),e[n+44>>2]=M|-2147483648,e[n+36>>2]=g,e[n+40>>2]=o;break p}if(g=n+36|0,S[g+11|0]=o,!o)break f}Ce(g,L?v:_,o)}S[o+g|0]=0,S[n+48|0]=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ne(n+52|0,-1,a+8|0),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+132>>2]=0,e[n+136>>2]=0,e[n+128>>2]=1065353216,e[n+140>>2]=0,e[n+144>>2]=0,e[n+148>>2]=1065353216,b=a+32|0;break v}break e}v:{f:{if((we(i,0)|0)!=26||(we(i,1)|0)!=45)break f;if(o=e[i+92>>2]&1,a=p+H(o,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,g=e[i+88>>2],a=p+H(!o,36)|0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[i+88>>2]=g-2,e[i+92>>2]=o,S[n+48|0]=1,(qt(i,n+52|0)|0)==1)break C;if((Ve(i,39)|0)!=1)break v;break C}S[n+48|0]=0}if(($f(i,n+88|0)|0)==1)break C;Pk(r,n)}if(o=e[r+68>>2],g=e[r+64>>2],n=e[r+36>>2],e[c+88>>2]=e[n+28>>2],a=e[n+24>>2],e[c+80>>2]=e[n+20>>2],e[c+84>>2]=a,a=e[n+16>>2],e[c+72>>2]=e[n+12>>2],e[c+76>>2]=a,a=e[c>>2],a)for(n=(o-g>>2)-1|0;o=Ne(c+32|0,n,c+72|0),Di(a+52|0,o),te(o),a=e[a+4>>2],!!a;);Xm(r,c),a=(Ve(i,39)|0)==1;break A}F[e[e[n>>2]+4>>2]](n),a=1;break A}F[e[e[a>>2]+4>>2]](a),a=1}if(n=e[c>>2],n)for(;o=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=o,!!n;);if(S[c+27|0]>=0)break m;P(e[c+16>>2])}b=c+96|0,n=a;break n}o=b-48|0,b=o,p=1;d:{if((Ve(i,26)|0)==1)break d;g=i+16|0;m:{if(e[i+88>>2]){a=e[i+92>>2];break m}ri(o+8|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,c=e[o+12>>2],a=e[i+92>>2],n=g+H(n+a&1,36)|0,e[n>>2]=e[o+8>>2],e[n+4>>2]=c,e[n+32>>2]=e[o+40>>2],c=e[o+36>>2],e[n+24>>2]=e[o+32>>2],e[n+28>>2]=c,c=e[o+28>>2],e[n+16>>2]=e[o+24>>2],e[n+20>>2]=c,c=e[o+20>>2],e[n+8>>2]=e[o+16>>2],e[n+12>>2]=c}c=Z(88),n=c,e[n+4>>2]=0,e[n+8>>2]=0,n=g+H(a&1,36)|0,a=e[n+4>>2],e[c+12>>2]=e[n>>2],e[c+16>>2]=a,a=e[n+16>>2],g=e[n+8>>2],n=e[n+12>>2],e[c>>2]=38764,e[c+36>>2]=0,e[c+40>>2]=0,e[c+32>>2]=3,e[c+20>>2]=g,e[c+24>>2]=n,e[c+28>>2]=a,e[c+44>>2]=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,Ne(c+52|0,-1,o+8|0);m:{if((Ve(i,18)|0)==1||(_=c+36|0,($n(i,_)|0)==1))break m;g=b-16|0,b=g,n=1;A:{if((Ve(i,26)|0)==1)break A;n=0;w:{C:{_:{v:{f:{p:{k:switch(a=we(i,0),a-17|0){case 1:case 2:case 3:case 5:case 6:case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:break w;case 0:break v;case 4:break f;case 10:break p;case 26:break k;default:break _}n=1;break C}n=2;break C}n=3;break C}n=4;break C}if((a|0)!=128)break w}if(e[_+12>>2]=n,n=1,v=e[i+92>>2]&1,a=H(v,36)+i|0,e[a+32>>2]=0,e[a+36>>2]=0,e[a+24>>2]=0,e[a+28>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[i+92>>2]=!v,e[i+88>>2]=e[i+88>>2]-1,(qt(i,_+16|0)|0)==1)break A;n=(Ve(i,39)|0)==1;break A}a=Z(32),n=a,_=y[15874]|y[15875]<<8|(y[15876]<<16|y[15877]<<24),v=y[15870]|y[15871]<<8|(y[15872]<<16|y[15873]<<24),S[n+8|0]=v,S[n+9|0]=v>>>8,S[n+10|0]=v>>>16,S[n+11|0]=v>>>24,S[n+12|0]=_,S[n+13|0]=_>>>8,S[n+14|0]=_>>>16,S[n+15|0]=_>>>24,_=y[15866]|y[15867]<<8|(y[15868]<<16|y[15869]<<24),v=y[15862]|y[15863]<<8|(y[15864]<<16|y[15865]<<24),S[n|0]=v,S[n+1|0]=v>>>8,S[n+2|0]=v>>>16,S[n+3|0]=v>>>24,S[n+4|0]=_,S[n+5|0]=_>>>8,S[n+6|0]=_>>>16,S[n+7|0]=_>>>24,S[n+16|0]=0,_=Z(12),e[g>>2]=_,v=_+12|0,e[g+8>>2]=v,Ni(_,n,16),e[g+4>>2]=v,n=Cn(i,g,0),S[_+11|0]<0&&P(e[_>>2]),P(_),P(a)}if(b=g+16|0,(n|0)==1||(Ve(i,39)|0)==1)break m;Bk(r,c),p=0;break d}F[e[e[c>>2]+4>>2]](c)}b=o+48|0,n=p;break n}if((a|0)!=128)break n;_=b-144|0,b=_,a=1;o:{if((Ve(i,26)|0)==1)break o;o=i+16|0;d:{if(e[i+88>>2]){n=e[i+92>>2];break d}ri(_+80|0,e[i>>2],i),c=e[i+88>>2],e[i+88>>2]=c+1,g=e[_+84>>2],n=e[i+92>>2],c=o+H(c+n&1,36)|0,e[c>>2]=e[_+80>>2],e[c+4>>2]=g,e[c+32>>2]=e[_+112>>2],g=e[_+108>>2],e[c+24>>2]=e[_+104>>2],e[c+28>>2]=g,g=e[_+100>>2],e[c+16>>2]=e[_+96>>2],e[c+20>>2]=g,g=e[_+92>>2],e[c+8>>2]=e[_+88>>2],e[c+12>>2]=g}if(n=o+H(n&1,36)|0,e[_+72>>2]=e[n+16>>2],g=e[n+12>>2],c=_- -64|0,e[c>>2]=e[n+8>>2],e[c+4>>2]=g,c=e[n+4>>2],e[_+56>>2]=e[n>>2],e[_+60>>2]=c,(Ve(i,128)|0)==1)break o;e[_+48>>2]=0,e[_+40>>2]=0,e[_+44>>2]=0,to(i,_+40|0),e[_+32>>2]=0,e[_+24>>2]=0,e[_+28>>2]=0,n=1;d:{if((Gm(i,_+24|0,0)|0)==1)break d;m:{A:{w:{if((we(i,0)|0)!=26||(we(i,1)|0)!=22)break w;Jf(i,r),a=BN(_+40|0);C:{if((Ve(i,26)|0)==1||(Ve(i,22)|0)==1||($n(i,a+4|0)|0)==1||($n(i,a+16|0)|0)==1||(Ve(i,39)|0)==1)break C;_:{v:{if((we(i,0)|0)!=26||(we(i,1)|0)!=45)break v;if(c=e[i+92>>2]&1,n=o+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,g=e[i+88>>2],n=o+H(!c,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=g-2,e[i+92>>2]=c,S[a+44|0]=1,(qt(i,a+48|0)|0)==1)break m;if((Ve(i,39)|0)!=1)break _;break m}S[a+44|0]=0}if((h8(i,a+84|0,a+160|0)|0)==1||(n=Zo(_+80|0,14425),Zo(n+12|0,11613),Zo(n+24|0,6717),e[_+20>>2]=3,e[_+16>>2]=n,o=e[_+20>>2],e[_+8>>2]=e[_+16>>2],e[_+12>>2]=o,o=xh(_+120|0,_+8|0),c=Yk(i,o),Nh(o),S[n+35|0]<0&&P(e[n+24>>2]),S[n+23|0]<0&&P(e[n+12>>2]),S[n+11|0]<0&&P(e[n>>2]),(c|0)==1))break m;ta(_+80|0,i),n=Z(40),e[n+4>>2]=0,e[n+8>>2]=0,o=e[_+96>>2],c=e[_+88>>2],g=e[_+92>>2],p=e[_+80>>2],v=e[_+84>>2],e[n+36>>2]=a,e[n+32>>2]=2,e[n+12>>2]=p,e[n+16>>2]=v,e[n+20>>2]=c,e[n+24>>2]=g,e[n+28>>2]=o,e[n>>2]=37736,ql(r,n);break A}if(a)break m;n=1;break d}a=b-32|0,b=a,n=Z(216),p=_+40|0,g=e[p+4>>2],v=e[p>>2],c=y[p+11|0],e[n+4>>2]=0,e[n+8>>2]=0,L=e[_+60>>2],e[n+12>>2]=e[_+56>>2],e[n+16>>2]=L,L=e[_+68>>2],e[n+20>>2]=e[_+64>>2],e[n+24>>2]=L,e[n+28>>2]=e[_+72>>2],e[n+32>>2]=0,e[n>>2]=38284;w:{if(L=c<<24>>24<0,c=L?g:c,c>>>0<4294967280){C:{_:{if(c>>>0>=11){M=c+16&-16,g=Z(M),e[n+44>>2]=M|-2147483648,e[n+36>>2]=g,e[n+40>>2]=c;break _}if(g=n+36|0,S[g+11|0]=c,!c)break C}Ce(g,L?v:p,c)}S[c+g|0]=0,S[n+48|0]=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ne(n+52|0,-1,a+8|0),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+132>>2]=0,e[n+136>>2]=0,e[n+128>>2]=1065353216,e[n+140>>2]=0,e[n+144>>2]=0,e[n+152>>2]=0,e[n+156>>2]=0,e[n+148>>2]=1065353216,e[n+160>>2]=0,e[n+164>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+184>>2]=0,e[n+188>>2]=0,e[n+176>>2]=0,e[n+180>>2]=1065353216,e[n+192>>2]=0,e[n+196>>2]=0,e[n+200>>2]=0,e[n+204>>2]=0,e[n+208>>2]=0,e[n+212>>2]=0,b=a+32|0;break w}break e}w:{if(e[i+88>>2]){a=e[i+92>>2];break w}ri(_+80|0,e[i>>2],i),c=e[i+88>>2],e[i+88>>2]=c+1,g=e[_+84>>2],a=e[i+92>>2],c=o+H(c+a&1,36)|0,e[c>>2]=e[_+80>>2],e[c+4>>2]=g,e[c+32>>2]=e[_+112>>2],g=e[_+108>>2],e[c+24>>2]=e[_+104>>2],e[c+28>>2]=g,g=e[_+100>>2],e[c+16>>2]=e[_+96>>2],e[c+20>>2]=g,g=e[_+92>>2],e[c+8>>2]=e[_+88>>2],e[c+12>>2]=g}a=o+H(a&1,36)|0,c=e[a>>2],g=e[a+4>>2],p=e[a+8>>2],v=e[a+12>>2],e[n+212>>2]=e[a+16>>2],e[n+204>>2]=p,e[n+208>>2]=v,e[n+196>>2]=c,e[n+200>>2]=g;w:{C:{_:{v:{if((we(i,0)|0)!=26||(we(i,1)|0)!=45)break v;if(a=1,g=e[i+92>>2]&1,c=o+H(g,36)|0,e[c>>2]=0,e[c+4>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,c=e[i+88>>2],o=o+H(!g,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[i+88>>2]=c-2,e[i+92>>2]=g,S[n+48|0]=1,(qt(i,n+52|0)|0)==1)break C;if((Ve(i,39)|0)!=1)break _;break C}S[n+48|0]=0}if(a=1,o=n+164|0,(h8(i,n+88|0,o)|0)==1)break C;e[_+88>>2]=0,e[_+80>>2]=0,e[_+84>>2]=0,a=1;_:{if((dN(i,25,_+80|0,o,n+112|0,e[n+92>>2]-e[n+88>>2]>>3)|0)==1)break _;c=e[n+152>>2],e[n+156>>2]=c;v:{if(v=e[_+84>>2],o=e[_+80>>2],(v|0)==(o|0))break v;g=e[o>>2],a=e[o+4>>2],p=1;f:{if(v-o>>>0>=9){for(c=1;;){M=c<<3;p:{if(e[M+o>>2]!=(g|0)){o=e[n+156>>2],x=e[n+160>>2];k:{if(o>>>0<x>>>0){e[o+8>>2]=p,e[o>>2]=g,e[o+4>>2]=a,e[n+156>>2]=o+12;break k}if(v=e[n+152>>2],L=o-v|0,X=(L|0)/12|0,o=X+1|0,o>>>0>=357913942||(x=(x-v|0)/12|0,V=x<<1,o=x>>>0<178956970?o>>>0<V>>>0?V:o:357913941,o>>>0>=357913942))break f;if(V=H(X,12),x=H(o,12),X=Z(x),o=V+X|0,e[o+8>>2]=p,e[o>>2]=g,e[o+4>>2]=a,a=o+H((L|0)/-12|0,12)|0,(L|0)>0&&Ce(a,v,L),e[n+160>>2]=x+X,e[n+156>>2]=o+12,e[n+152>>2]=a,!v)break k;P(v)}o=e[_+80>>2],a=M+o|0,p=e[a+4>>2],g=e[a>>2],a=p,v=e[_+84>>2],p=1;break p}p=p+1|0}if(c=c+1|0,!(c>>>0<v-o>>3>>>0))break}c=e[n+156>>2]}if(L=e[n+160>>2],L>>>0>c>>>0){e[c+8>>2]=p,e[c>>2]=g,e[c+4>>2]=a,e[n+156>>2]=c+12;break v}if(o=c,c=e[n+152>>2],v=o-c|0,M=(v|0)/12|0,o=M+1|0,o>>>0>=357913942||(L=(L-c|0)/12|0,x=L<<1,o=L>>>0<178956970?o>>>0<x>>>0?x:o:357913941,o>>>0>=357913942))break f;if(x=H(M,12),L=H(o,12),M=Z(L),o=x+M|0,e[o+8>>2]=p,e[o>>2]=g,e[o+4>>2]=a,a=o+H((v|0)/-12|0,12)|0,(v|0)>0&&Ce(a,c,v),e[n+160>>2]=L+M,e[n+156>>2]=o+12,e[n+152>>2]=a,!c)break v;P(c);break v}Be(),Ie()}if(a=1,(Gc(i,n+184|0)|0)==1)break _;Ok(r,n),n=0,a=0}if(o=e[_+80>>2],o&&(e[_+84>>2]=o,P(o)),!n)break w}F[e[e[n>>2]+4>>2]](n)}if(n=1,a)break d}if(a=e[r+80>>2],o=e[r+76>>2],n=e[r+36>>2],e[_+136>>2]=e[n+28>>2],c=e[n+24>>2],e[_+128>>2]=e[n+20>>2],e[_+132>>2]=c,c=e[n+16>>2],e[_+120>>2]=e[n+12>>2],e[_+124>>2]=c,n=e[_+24>>2],n)for(a=(a-o>>2)-1|0;o=Ne(_+80|0,a,_+120|0),Di(n+52|0,o),te(o),n=e[n+4>>2],!!n;);Xm(r,_+24|0),n=(Ve(i,39)|0)==1;break d}F[e[e[a>>2]+4>>2]](a),n=1}if(a=n,n=e[_+24>>2],n)for(;o=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=o,!!n;);if(S[_+51|0]>=0)break o;P(e[_+40>>2])}b=_+144|0,n=a;break n}g=b-192|0,b=g,o=1;c:{o:{if((Ve(i,26)|0)==1)break o;a=i+16|0;d:{if(e[i+88>>2]){n=e[i+92>>2];break d}ri(g+152|0,e[i>>2],i),c=e[i+88>>2],e[i+88>>2]=c+1,p=e[g+156>>2],n=e[i+92>>2],c=a+H(c+n&1,36)|0,e[c>>2]=e[g+152>>2],e[c+4>>2]=p,e[c+32>>2]=e[g+184>>2],p=e[g+180>>2],e[c+24>>2]=e[g+176>>2],e[c+28>>2]=p,p=e[g+172>>2],e[c+16>>2]=e[g+168>>2],e[c+20>>2]=p,p=e[g+164>>2],e[c+8>>2]=e[g+160>>2],e[c+12>>2]=p}if(c=Z(40),e[c+4>>2]=0,e[c+8>>2]=0,n=a+H(n&1,36)|0,p=e[n+4>>2],e[c+12>>2]=e[n>>2],e[c+16>>2]=p,p=e[n+16>>2],_=e[n+8>>2],n=e[n+12>>2],e[c+32>>2]=4,e[c+36>>2]=0,e[c+20>>2]=_,e[c+24>>2]=n,e[c+28>>2]=p,n=37188,e[c>>2]=37188,(Ve(i,45)|0)!=1){e[g+144>>2]=0,e[g+136>>2]=0,e[g+140>>2]=0,to(i,g+136|0);d:{if((Ve(i,26)|0)==1)break d;m:{if(e[i+88>>2]){o=e[i+92>>2];break m}ri(g+152|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,p=e[g+156>>2],o=e[i+92>>2],n=a+H(n+o&1,36)|0,e[n>>2]=e[g+152>>2],e[n+4>>2]=p,e[n+32>>2]=e[g+184>>2],p=e[g+180>>2],e[n+24>>2]=e[g+176>>2],e[n+28>>2]=p,p=e[g+172>>2],e[n+16>>2]=e[g+168>>2],e[n+20>>2]=p,p=e[g+164>>2],e[n+8>>2]=e[g+160>>2],e[n+12>>2]=p}n=a+H(o&1,36)|0,e[g+128>>2]=e[n+16>>2],o=e[n+12>>2],e[g+120>>2]=e[n+8>>2],e[g+124>>2]=o,o=e[n+4>>2],e[g+112>>2]=e[n>>2],e[g+116>>2]=o;m:{if((we(i,0)|0)==128){if(o=e[i+92>>2]&1,n=a+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,_=Z(104),o=e[g+140>>2],p=e[g+136>>2],n=y[g+147|0],e[_+20>>2]=0,e[_+12>>2]=0,e[_+16>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,v=n<<24>>24<0,n=v?o:n,n>>>0>=4294967280)break e;A:{w:{if(n>>>0>=11){L=n+16&-16,o=Z(L),e[_+32>>2]=L|-2147483648,e[_+24>>2]=o,e[_+28>>2]=n;break w}if(o=_+24|0,S[o+11|0]=n,!n)break A}Ce(o,v?p:g+136|0,n)}p=0,S[n+o|0]=0,e[_+40>>2]=0,e[_+44>>2]=0,e[_>>2]=37408,e[_+36>>2]=0,e[_+48>>2]=0,e[_+52>>2]=0,e[_+56>>2]=0,e[_+60>>2]=0,n=_- -64|0,e[n>>2]=0,e[n+4>>2]=0,e[_+72>>2]=0,e[_+76>>2]=0,e[_+84>>2]=0,e[_+88>>2]=0,e[_+80>>2]=1065353216,e[_+92>>2]=0,e[_+96>>2]=0,e[_+100>>2]=1065353216,e[g+96>>2]=0,e[g+100>>2]=0,e[g+88>>2]=0,e[g+92>>2]=0,e[g+104>>2]=1065353216;A:{if((h8(i,_+40|0,g+88|0)|0)==1||(n=Z(24),e[g+72>>2]=n,o=n+24|0,e[g+80>>2]=o,S[n+23|0]=6,e[n+12>>2]=1970496882,e[n+16>>2]=29804,S[n+11|0]=5,e[n>>2]=1634886e3,e[n+4>>2]=109,e[g+76>>2]=o,(we(i,0)|0)==26&&(p=e[i+92>>2]&1,o=a+H(p,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!p,o=e[i+88>>2]-1|0,e[i+88>>2]=o,o||(ri(g+152|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,a=a+H(o+e[i+92>>2]&1,36)|0,o=e[g+156>>2],e[a>>2]=e[g+152>>2],e[a+4>>2]=o,e[a+32>>2]=e[g+184>>2],o=e[g+180>>2],e[a+24>>2]=e[g+176>>2],e[a+28>>2]=o,o=e[g+172>>2],e[a+16>>2]=e[g+168>>2],e[a+20>>2]=o,o=e[g+164>>2],e[a+8>>2]=e[g+160>>2],e[a+12>>2]=o),p=(Cn(i,g+72|0,0)|0)==1),S[n+23|0]<0&&P(e[n+12>>2]),S[n+11|0]<0&&P(e[n>>2]),P(n),p))break A;if(n=e[c+36>>2],e[c+36>>2]=_,n&&F[e[e[n>>2]+4>>2]](n),n=e[g+96>>2],n)for(;a=e[n>>2],S[n+19|0]<0&&P(e[n+8>>2]),P(n),n=a,!!n;);n=e[g+88>>2],e[g+88>>2]=0,n&&P(n);break m}if(n=e[g+96>>2],n)for(;a=e[n>>2],S[n+19|0]<0&&P(e[n+8>>2]),P(n),n=a,!!n;);n=e[g+88>>2],e[g+88>>2]=0,n&&P(n),F[e[e[_>>2]+4>>2]](_),o=1;break d}A:{if((we(i,0)|0)==42){if(o=1,p=e[i+92>>2]&1,n=a+H(p,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!p,e[i+88>>2]=e[i+88>>2]-1,!y[e[i+12>>2]+13|0]){e[g+24>>2]=e[g+128>>2],n=e[g+124>>2],e[g+16>>2]=e[g+120>>2],e[g+20>>2]=n,n=e[g+116>>2],e[g+8>>2]=e[g+112>>2],e[g+12>>2]=n,Kt(i,g+8|0,16210,0);break d}for(M=Z(52),n=M,e[n+4>>2]=0,e[n+8>>2]=0,e[n+36>>2]=1,e[n+40>>2]=0,e[n+44>>2]=0,e[n>>2]=37496,S[n+35|0]=0,e[n+12>>2]=0,e[n+16>>2]=0,S[n+17|0]=0,S[n+18|0]=0,S[n+19|0]=0,S[n+20|0]=0,S[n+21|0]=0,S[n+22|0]=0,S[n+23|0]=0,S[n+24|0]=0,e[n+48>>2]=0,v=n+40|0,_=b-32|0,b=_;;){w:{if((we(i,0)|0)!=127&&(a=0,(we(i,0)|0)!=26))break w;e[_+16>>2]=0,e[_+20>>2]=-64,e[_+8>>2]=0,e[_+12>>2]=0,S[_+28|0]=0,e[_+24>>2]=-1,X=IT(i,_+8|0);C:{if((X|0)==1)break C;if(n=e[v+4>>2],(n|0)!=e[v+8>>2]){_:{if(S[_+19|0]>=0){a=e[_+12>>2],e[n>>2]=e[_+8>>2],e[n+4>>2]=a,e[n+8>>2]=e[_+16>>2];break _}Ni(n,e[_+8>>2],e[_+12>>2])}a=e[_+24>>2],e[n+12>>2]=e[_+20>>2],e[n+16>>2]=a,S[n+20|0]=y[_+28|0],e[v+4>>2]=n+24;break C}a=0;_:{v:{f:{if(p=e[v+4>>2],n=e[v>>2],x=(p-n|0)/24|0,o=x+1|0,o>>>0>=178956971)break f;if(L=(e[v+8>>2]-n|0)/24|0,V=L<<1,o=L>>>0<89478485?o>>>0<V>>>0?V:o:178956970,o){if(o>>>0>=178956971)break f;a=Z(H(o,24))}o=H(o,24),L=H(x,24)+a|0;p:{if(S[_+19|0]>=0){V=e[_+12>>2],e[L>>2]=e[_+8>>2],e[L+4>>2]=V,e[L+8>>2]=e[_+16>>2];break p}Ni(L,e[_+8>>2],e[_+12>>2]),p=e[v+4>>2],n=e[v>>2]}if(o=o+a|0,a=H(x,24)+a|0,x=e[_+24>>2],e[a+12>>2]=e[_+20>>2],e[a+16>>2]=x,S[a+20|0]=y[_+28|0],x=L+24|0,(n|0)==(p|0))break v;for(;p=p-24|0,a=p,V=e[a+4>>2],L=L-24|0,e[L>>2]=e[a>>2],e[L+4>>2]=V,e[L+8>>2]=e[a+8>>2],e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,S[L+20|0]=y[a+20|0],V=e[a+16>>2],e[L+12>>2]=e[a+12>>2],e[L+16>>2]=V,(n|0)!=(a|0););if(e[v+8>>2]=o,o=e[v+4>>2],e[v+4>>2]=x,p=e[v>>2],e[v>>2]=L,(o|0)==(p|0))break _;for(;o=o-24|0,S[o+11|0]<0&&P(e[o>>2]),(o|0)!=(p|0););break _}Be(),Ie()}e[v+8>>2]=o,e[v+4>>2]=x,e[v>>2]=L}p&&P(p)}if(S[_+19|0]<0&&P(e[_+8>>2]),a=1,(X|0)!=1)continue}break}if(b=_+32|0,!a)break A;F[e[e[M>>2]+4>>2]](M),o=1;break d}if((we(i,0)|0)==1){if(o=e[i+92>>2]&1,n=a+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,y[e[i+12>>2]+13|0]||(e[g+48>>2]=e[g+128>>2],n=e[g+124>>2],e[g+40>>2]=e[g+120>>2],e[g+44>>2]=n,n=e[g+116>>2],e[g+32>>2]=e[g+112>>2],e[g+36>>2]=n,Kt(i,g+32|0,16555,0)),n=Z(64),e[n+4>>2]=0,e[n+8>>2]=0,e[n+36>>2]=2,e[n+40>>2]=0,e[n+44>>2]=0,e[n>>2]=37544,S[n+35|0]=0,e[n+12>>2]=0,e[n+16>>2]=0,S[n+17|0]=0,S[n+18|0]=0,S[n+19|0]=0,S[n+20|0]=0,S[n+21|0]=0,S[n+22|0]=0,S[n+23|0]=0,S[n+24|0]=0,e[n+48>>2]=0,S[n+60|0]=0,e[n+52>>2]=-64,e[n+56>>2]=-1,o=1,(IT(i,n+40|0)|0)==1){F[e[e[n>>2]+4>>2]](n);break d}e[c+36>>2]=n;break m}if(n=Zo(g+152|0,24220),Zo(n+12|0,7086),Zo(n+24|0,1311),e[g+68>>2]=3,e[g+64>>2]=n,a=e[g+68>>2],e[g+56>>2]=e[g+64>>2],e[g+60>>2]=a,a=xh(g+88|0,g+56|0),o=Cn(i,a,0),Nh(a),S[n+35|0]<0&&P(e[n+24>>2]),S[n+23|0]<0&&P(e[n+12>>2]),S[n+11|0]>=0)break d;P(e[n>>2]);break d}e[c+36>>2]=M}if(o=1,(Ve(i,39)|0)==1||(Ve(i,39)|0)==1)break d;Yf(r,c),c=0,o=0}if(S[g+147|0]<0&&P(e[g+136>>2]),!c)break o;n=e[c>>2]}F[e[n+4>>2]](c)}b=g+192|0,n=o;break c}break n}o=b-128|0,b=o,c=1;a:{if((Ve(i,26)|0)==1)break a;g=i+16|0;c:{if(e[i+88>>2]){n=e[i+92>>2];break c}ri(o- -64|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,p=e[o+68>>2],n=e[i+92>>2],a=g+H(a+n&1,36)|0,e[a>>2]=e[o+64>>2],e[a+4>>2]=p,e[a+32>>2]=e[o+96>>2],p=e[o+92>>2],e[a+24>>2]=e[o+88>>2],e[a+28>>2]=p,p=e[o+84>>2],e[a+16>>2]=e[o+80>>2],e[a+20>>2]=p,p=e[o+76>>2],e[a+8>>2]=e[o+72>>2],e[a+12>>2]=p}if(n=g+H(n&1,36)|0,e[o+56>>2]=e[n+16>>2],a=e[n+12>>2],e[o+48>>2]=e[n+8>>2],e[o+52>>2]=a,a=e[n+4>>2],e[o+40>>2]=e[n>>2],e[o+44>>2]=a,(Ve(i,21)|0)==1)break a;e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,to(i,o+24|0),e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0;c:{if((Gm(i,o+8|0,3)|0)==1)break c;o:{d:{m:{if((we(i,0)|0)!=26||(we(i,1)|0)!=22)break m;if(Jf(i,r),g=Z(68),a=e[o+28>>2],_=e[o+24>>2],n=y[o+35|0],e[g+20>>2]=0,e[g+24>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+28>>2]=3,e[g>>2]=38072,v=n<<24>>24<0,p=v?a:n,p>>>0>=4294967280)break e;a=g+32|0;A:{w:{if(p>>>0>=11){L=p+16&-16,n=Z(L),e[g+40>>2]=L|-2147483648,e[g+32>>2]=n,e[g+36>>2]=p;break w}if(S[a+11|0]=p,n=a,!p)break A}Ce(n,v?_:o+24|0,p)}S[n+p|0]=0,e[g- -64>>2]=0,e[g+56>>2]=0,e[g+60>>2]=0,S[g+52|0]=0,e[g+44>>2]=-64,e[g+48>>2]=-1;A:{if((Ve(i,26)|0)==1||(Ve(i,22)|0)==1||($n(i,g+4|0)|0)==1||($n(i,g+16|0)|0)==1||(Ve(i,39)|0)==1||(kk(i,a)|0)==1)break A;ta(o- -64|0,i),n=Z(40),e[n+4>>2]=0,e[n+8>>2]=0,a=e[o+80>>2],c=e[o+72>>2],p=e[o+76>>2],_=e[o+64>>2],v=e[o+68>>2],e[n+36>>2]=g,e[n+32>>2]=2,e[n+12>>2]=_,e[n+16>>2]=v,e[n+20>>2]=c,e[n+24>>2]=p,e[n+28>>2]=a,e[n>>2]=37736,ql(r,n);break d}F[e[e[g>>2]+4>>2]](g);break c}if(g=Z(72),a=e[o+28>>2],_=e[o+24>>2],n=y[o+35|0],e[g+4>>2]=0,e[g+8>>2]=0,p=e[o+44>>2],e[g+12>>2]=e[o+40>>2],e[g+16>>2]=p,p=e[o+52>>2],e[g+20>>2]=e[o+48>>2],e[g+24>>2]=p,e[g+28>>2]=e[o+56>>2],e[g+32>>2]=1,e[g>>2]=38644,v=n<<24>>24<0,p=v?a:n,p>>>0>=4294967280)break e;a=g+36|0;m:{A:{if(p>>>0>=11){L=p+16&-16,n=Z(L),e[g+44>>2]=L|-2147483648,e[g+36>>2]=n,e[g+40>>2]=p;break A}if(S[a+11|0]=p,n=a,!p)break m}Ce(n,v?_:o+24|0,p)}if(S[n+p|0]=0,e[g+68>>2]=0,n=g+60|0,e[n>>2]=0,e[n+4>>2]=0,S[g+56|0]=0,e[g+48>>2]=-64,e[g+52>>2]=-1,(kk(i,a)|0)==1||(Gc(i,n)|0)==1)break o;Fk(r,g)}if(a=e[r+92>>2],c=e[r+88>>2],n=e[r+36>>2],e[o+120>>2]=e[n+28>>2],g=e[n+24>>2],e[o+112>>2]=e[n+20>>2],e[o+116>>2]=g,g=e[n+16>>2],e[o+104>>2]=e[n+12>>2],e[o+108>>2]=g,n=e[o+8>>2],n)for(a=(a-c>>2)-1|0;c=Ne(o- -64|0,a,o+104|0),Di(n+52|0,c),te(c),n=e[n+4>>2],!!n;);Xm(r,o+8|0),c=(Ve(i,39)|0)==1;break c}F[e[e[g>>2]+4>>2]](g)}if(n=e[o+8>>2],n)for(;a=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=a,!!n;);if(S[o+35|0]>=0)break a;P(e[o+24>>2])}b=o+128|0,n=c;break n}a=b-160|0,b=a,g=1;u:{if((Ve(i,26)|0)==1)break u;c=i+16|0;a:{if(e[i+88>>2]){o=e[i+92>>2];break a}ri(a+120|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,p=e[a+124>>2],o=e[i+92>>2],n=c+H(n+o&1,36)|0,e[n>>2]=e[a+120>>2],e[n+4>>2]=p,e[n+32>>2]=e[a+152>>2],p=e[a+148>>2],e[n+24>>2]=e[a+144>>2],e[n+28>>2]=p,p=e[a+140>>2],e[n+16>>2]=e[a+136>>2],e[n+20>>2]=p,p=e[a+132>>2],e[n+8>>2]=e[a+128>>2],e[n+12>>2]=p}if(n=c+H(o&1,36)|0,e[a+112>>2]=e[n+16>>2],o=e[n+12>>2],e[a+104>>2]=e[n+8>>2],e[a+108>>2]=o,o=e[n+4>>2],e[a+96>>2]=e[n>>2],e[a+100>>2]=o,Jf(i,r),(Ve(i,22)|0)==1)break u;e[a+88>>2]=0,e[a+80>>2]=0,e[a+84>>2]=0,e[a+72>>2]=0,e[a+64>>2]=0,e[a+68>>2]=0;a:{if(($n(i,a+80|0)|0)==1||($n(i,a- -64|0)|0)==1||(Ve(i,26)|0)==1)break a;e[a+56>>2]=0,e[a+48>>2]=0,e[a+52>>2]=0;c:{o:{d:{m:{A:{w:{C:{_:switch(n=we(i,0),n-17|0){case 1:case 2:case 3:case 5:case 6:case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:break d;case 0:break m;case 4:break A;case 10:break w;case 26:break C;default:break _}if((n|0)!=128)break d;o=e[i+92>>2]&1,n=c+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,n=a+48|0,to(i,n),o=BN(n);_:{if((f8(i,o+44|0)|0)==1||(h8(i,o+84|0,o+160|0)|0)==1||(n=Zo(a+120|0,11613),Zo(n+12|0,6717),e[a+28>>2]=2,e[a+24>>2]=n,c=e[a+28>>2],e[a+8>>2]=e[a+24>>2],e[a+12>>2]=c,c=xh(a+32|0,a+8|0),p=Yk(i,c),Nh(c),S[n+23|0]<0&&P(e[n+12>>2]),S[n+11|0]<0&&P(e[n>>2]),(p|0)==1))break _;if((Ve(i,39)|0)!=1)break o}if(!o)break c;F[e[e[o>>2]+4>>2]](o);break c}o=e[i+92>>2]&1,n=c+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,p=a+48|0,to(i,p),o=Z(80),c=e[p+4>>2],_=e[p>>2],n=y[p+11|0],e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+28>>2]=1,e[o>>2]=37856;C:{if(v=n<<24>>24<0,c=v?c:n,c>>>0<4294967280){_:{v:{if(c>>>0>=11){L=c+16&-16,n=Z(L),e[o+40>>2]=L|-2147483648,e[o+32>>2]=n,e[o+36>>2]=c;break v}if(n=o+32|0,S[n+11|0]=c,!c)break _}Ce(n,v?_:p,c)}S[n+c|0]=0,S[o+63|0]=0,S[o+64|0]=0,S[o+65|0]=0,S[o+66|0]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,e[o+72>>2]=-16,e[o+76>>2]=-1;break C}break e}C:{if((A8(i,o+48|0)|0)==1||(q_(i,o+72|0)|0)==1)break C;if((Ve(i,39)|0)!=1)break o}if(!o)break c;F[e[e[o>>2]+4>>2]](o);break c}o=e[i+92>>2]&1,n=c+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,p=a+48|0,to(i,p),o=Z(72),c=e[p+4>>2],_=e[p>>2],n=y[p+11|0],e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+28>>2]=2,e[o>>2]=37964;w:{if(v=n<<24>>24<0,c=v?c:n,c>>>0<4294967280){C:{_:{if(c>>>0>=11){L=c+16&-16,n=Z(L),e[o+40>>2]=L|-2147483648,e[o+32>>2]=n,e[o+36>>2]=c;break _}if(n=o+32|0,S[n+11|0]=c,!c)break C}Ce(n,v?_:p,c)}S[n+c|0]=0,S[o+63|0]=0,S[o+64|0]=0,S[o+65|0]=0,S[o+66|0]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0;break w}break e}n=o+48|0;w:{if(Nk(i,n)|0,(A8(i,n)|0)==1)break w;if((Ve(i,39)|0)!=1)break o}if(!o)break c;F[e[e[o>>2]+4>>2]](o);break c}o=e[i+92>>2]&1,n=c+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,p=a+48|0,to(i,p),o=Z(68),c=e[p+4>>2],_=e[p>>2],n=y[p+11|0],e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+28>>2]=3,e[o>>2]=38072;A:{if(v=n<<24>>24<0,c=v?c:n,c>>>0<4294967280){w:{C:{if(c>>>0>=11){L=c+16&-16,n=Z(L),e[o+40>>2]=L|-2147483648,e[o+32>>2]=n,e[o+36>>2]=c;break C}if(n=o+32|0,S[n+11|0]=c,!c)break w}Ce(n,v?_:p,c)}S[n+c|0]=0,e[o- -64>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0,S[o+52|0]=0,e[o+44>>2]=-64,e[o+48>>2]=-1;break A}break e}if((kk(i,o+32|0)|0)!=1&&(Ve(i,39)|0)!=1)break o;if(!o)break c;F[e[e[o>>2]+4>>2]](o);break c}o=e[i+92>>2]&1,n=c+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,n=a+48|0,to(i,n),o=qN(n);m:{if((f8(i,o+44|0)|0)==1||($f(i,o+84|0)|0)==1)break m;if((Ve(i,39)|0)!=1)break o}if(!o)break c;F[e[e[o>>2]+4>>2]](o);break c}if(n=Zo(a+32|0,15862),e[a+20>>2]=1,e[a+16>>2]=n,o=e[a+20>>2],e[a>>2]=e[a+16>>2],e[a+4>>2]=o,o=xh(a+120|0,a),g=Cn(i,o,0),Nh(o),S[n+11|0]>=0)break c;P(e[n>>2]);break c}n=Z(40),e[n+4>>2]=0,e[n+8>>2]=0,c=e[a+112>>2],g=e[a+104>>2],p=e[a+108>>2],_=e[a+96>>2],v=e[a+100>>2],e[n+36>>2]=o,e[n+32>>2]=2,e[n+12>>2]=_,e[n+16>>2]=v,e[n+20>>2]=g,e[n+24>>2]=p,e[n+28>>2]=c,e[n>>2]=37736,sR(o+4|0,a+80|0),sR(e[n+36>>2]+16|0,a- -64|0),ql(r,n),g=(Ve(i,39)|0)==1}if(S[a+59|0]>=0)break a;P(e[a+48>>2])}if(S[a+75|0]<0&&P(e[a+64>>2]),S[a+91|0]>=0)break u;P(e[a+80>>2])}b=a+160|0,n=g;break n}o=b-128|0,b=o,c=1;l:{u:{if((Ve(i,26)|0)==1)break u;g=i+16|0;a:{if(e[i+88>>2]){n=e[i+92>>2];break a}ri(o- -64|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,p=e[o+68>>2],n=e[i+92>>2],a=g+H(a+n&1,36)|0,e[a>>2]=e[o+64>>2],e[a+4>>2]=p,e[a+32>>2]=e[o+96>>2],p=e[o+92>>2],e[a+24>>2]=e[o+88>>2],e[a+28>>2]=p,p=e[o+84>>2],e[a+16>>2]=e[o+80>>2],e[a+20>>2]=p,p=e[o+76>>2],e[a+8>>2]=e[o+72>>2],e[a+12>>2]=p}if(n=g+H(n&1,36)|0,e[o+56>>2]=e[n+16>>2],a=e[n+12>>2],e[o+48>>2]=e[n+8>>2],e[o+52>>2]=a,a=e[n+4>>2],e[o+40>>2]=e[n>>2],e[o+44>>2]=a,(Ve(i,27)|0)==1)break u;e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,to(i,o+24|0),e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0;a:{if((Gm(i,o+8|0,2)|0)==1)break a;c:{o:{if((we(i,0)|0)!=26||(we(i,1)|0)!=22)break o;if(Jf(i,r),g=Z(72),a=e[o+28>>2],p=e[o+24>>2],n=y[o+35|0],e[g+20>>2]=0,e[g+24>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+28>>2]=2,e[g>>2]=37964,_=n<<24>>24<0,n=_?a:n,n>>>0>=4294967280)break e;d:{m:{if(n>>>0>=11){v=n+16&-16,a=Z(v),e[g+40>>2]=v|-2147483648,e[g+32>>2]=a,e[g+36>>2]=n;break m}if(a=g+32|0,S[a+11|0]=n,!n)break d}Ce(a,_?p:o+24|0,n)}S[n+a|0]=0,S[g+63|0]=0,S[g+64|0]=0,S[g+65|0]=0,S[g+66|0]=0,e[g+56>>2]=0,e[g+60>>2]=0,n=g+48|0,e[n>>2]=0,e[n+4>>2]=0;d:{if((Ve(i,26)|0)==1||(Ve(i,22)|0)==1||($n(i,g+4|0)|0)==1||($n(i,g+16|0)|0)==1||(Ve(i,39)|0)==1||(Nk(i,n)|0,(A8(i,n)|0)==1))break d;ta(o- -64|0,i),n=Z(40),e[n+4>>2]=0,e[n+8>>2]=0,a=e[o+80>>2],c=e[o+72>>2],p=e[o+76>>2],_=e[o+64>>2],v=e[o+68>>2],e[n+36>>2]=g,e[n+32>>2]=2,e[n+12>>2]=_,e[n+16>>2]=v,e[n+20>>2]=c,e[n+24>>2]=p,e[n+28>>2]=a,e[n>>2]=37736,ql(r,n);break c}F[e[e[g>>2]+4>>2]](g);break a}if(a=Z(80),c=e[o+28>>2],p=e[o+24>>2],n=y[o+35|0],e[a+4>>2]=0,e[a+8>>2]=0,_=e[o+44>>2],e[a+12>>2]=e[o+40>>2],e[a+16>>2]=_,_=e[o+52>>2],e[a+20>>2]=e[o+48>>2],e[a+24>>2]=_,e[a+28>>2]=e[o+56>>2],e[a+32>>2]=7,e[a>>2]=38524,_=n<<24>>24<0,n=_?c:n,n>>>0>=4294967280)break e;o:{d:{if(n>>>0>=11){v=n+16&-16,c=Z(v),e[a+48>>2]=v|-2147483648,e[a+40>>2]=c,e[a+44>>2]=n;break d}if(c=a+40|0,S[c+11|0]=n,!n)break o}Ce(c,_?p:o+24|0,n)}S[n+c|0]=0,S[a+71|0]=0,S[a+72|0]=0,S[a+73|0]=0,S[a+74|0]=0,n=a- -64|0,e[n>>2]=0,e[n+4>>2]=0,n=a+56|0,e[n>>2]=0,e[n+4>>2]=0,c=1,Nk(i,n)|0;o:{if((we(i,0)|0)!=26||(we(i,1)|0)!=11)break o;if(p=e[i+92>>2]&1,n=g+H(p,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,_=e[i+88>>2],n=g+H(!p,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=_-2,e[i+92>>2]=p,n=b-32|0,b=n,g=Z(112),e[g+4>>2]=0,e[g+8>>2]=0,p=e[o+56>>2],_=e[o+48>>2],v=e[o+52>>2],L=e[o+40>>2],M=e[o+44>>2],e[g>>2]=46280,S[g+51|0]=0,e[g+32>>2]=8,e[g+36>>2]=0,e[g+12>>2]=L,e[g+16>>2]=M,e[g+20>>2]=_,e[g+24>>2]=v,e[g+28>>2]=p,S[g+40|0]=0,e[n+24>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,p=g+52|0,Ne(p,-1,n+8|0),e[g+104>>2]=0,e[g+108>>2]=0,e[g+96>>2]=0,e[g+100>>2]=0,e[g+88>>2]=0,e[g+92>>2]=0,b=n+32|0,n=e[r+164>>2],_=e[r+160>>2],e[o+120>>2]=0,e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,n=Ne(o- -64|0,n-_>>2,o+104|0),Di(p,n),te(n),p=y[a+74|0],e[o+80>>2]=0,e[o+72>>2]=0,e[o+76>>2]=0,e[o+64>>2]=0,e[o+68>>2]=0,n=Z(104),e[n+4>>2]=0,e[n+8>>2]=0,e[n>>2]=41088,e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+28>>2]=0,e[n+32>>2]=17,_=e[o+72>>2],v=e[o+76>>2],L=e[o+80>>2],M=e[o+64>>2],x=e[o+68>>2],e[n+88>>2]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+56>>2]=p?-2:-1,e[n+60>>2]=-1,e[n+52>>2]=L,e[n+44>>2]=_,e[n+48>>2]=v,e[n+36>>2]=M,e[n+40>>2]=x,p=e[g+92>>2],p?(e[n+8>>2]=p,p=p+4|0):p=g+88|0,e[p>>2]=n,e[g+92>>2]=n,e[g+96>>2]=e[g+96>>2]+1,e[n+28>>2]=e[o+56>>2],p=e[o+52>>2],e[n+20>>2]=e[o+48>>2],e[n+24>>2]=p,p=e[o+44>>2],e[n+12>>2]=e[o+40>>2],e[n+16>>2]=p,j_(i,g+100|0),(Ve(i,39)|0)==1){F[e[e[g>>2]+4>>2]](g),F[e[e[a>>2]+4>>2]](a);break a}n=e[g+104>>2],c=e[g+100>>2],S[a+72|0]=1,p=a- -64|0,n=(n-c|0)+65535>>>16|0,e[p>>2]=n,e[p+4>>2]=0,e[a+56>>2]=n,e[a+60>>2]=0,r8(r,a),i8(r,g);break c}if((A8(i,n)|0)==1){F[e[e[a>>2]+4>>2]](a);break a}r8(r,a)}if(a=e[r+164>>2],c=e[r+160>>2],n=e[r+36>>2],e[o+120>>2]=e[n+28>>2],g=e[n+24>>2],e[o+112>>2]=e[n+20>>2],e[o+116>>2]=g,g=e[n+16>>2],e[o+104>>2]=e[n+12>>2],e[o+108>>2]=g,n=e[o+8>>2],n)for(a=(a-c>>2)-1|0;c=Ne(o- -64|0,a,o+104|0),Di(n+52|0,c),te(c),n=e[n+4>>2],!!n;);Xm(r,o+8|0),c=(Ve(i,39)|0)==1}if(n=e[o+8>>2],n)for(;a=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=a,!!n;);if(S[o+35|0]>=0)break u;P(e[o+24>>2])}b=o+128|0,n=c;break l}break n}a=b-128|0,b=a;r:{if((Ve(i,26)|0)==1)break r;g=i+16|0;l:{if(e[i+88>>2]){c=e[i+92>>2];break l}ri(a+88|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,p=e[a+92>>2],c=e[i+92>>2],o=g+H(o+c&1,36)|0,e[o>>2]=e[a+88>>2],e[o+4>>2]=p,e[o+32>>2]=e[a+120>>2],p=e[a+116>>2],e[o+24>>2]=e[a+112>>2],e[o+28>>2]=p,p=e[a+108>>2],e[o+16>>2]=e[a+104>>2],e[o+20>>2]=p,p=e[a+100>>2],e[o+8>>2]=e[a+96>>2],e[o+12>>2]=p}if(o=g+H(c&1,36)|0,e[a+80>>2]=e[o+16>>2],c=e[o+12>>2],e[a+72>>2]=e[o+8>>2],e[a+76>>2]=c,c=e[o+4>>2],e[a+64>>2]=e[o>>2],e[a+68>>2]=c,e[r+188>>2]!=e[r+184>>2]){e[a+16>>2]=e[o+16>>2],c=e[o+12>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=c,c=e[o+4>>2],e[a>>2]=e[o>>2],e[a+4>>2]=c,Kt(i,a,7497,0);break r}if((Ve(i,41)|0)==1)break r;e[a+104>>2]=0,e[a+96>>2]=0,e[a+100>>2]=0,e[a+88>>2]=0,e[a+92>>2]=0,o=Ne(a+24|0,-1,a+88|0),n=1;l:{if((qt(i,o)|0)==1||(n=1,(Ve(i,39)|0)==1))break l;n=Z(72),c=fe(a+88|0,o),e[n+4>>2]=0,e[n+8>>2]=0,g=e[a+80>>2],p=e[a+72>>2],_=e[a+76>>2],v=e[a+64>>2],L=e[a+68>>2],e[n+32>>2]=9,e[n+12>>2]=v,e[n+16>>2]=L,e[n+20>>2]=p,e[n+24>>2]=_,e[n+28>>2]=g,e[n>>2]=38884,fe(n+36|0,c),te(c),Qk(r,n),n=0}te(o)}b=a+128|0;break n}p=b-128|0,b=p,o=1;s:{if((Ve(i,26)|0)==1)break s;c=i+16|0;r:{if(e[i+88>>2]){n=e[i+92>>2];break r}ri(p- -64|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,g=e[p+68>>2],n=e[i+92>>2],a=c+H(a+n&1,36)|0,e[a>>2]=e[p+64>>2],e[a+4>>2]=g,e[a+32>>2]=e[p+96>>2],g=e[p+92>>2],e[a+24>>2]=e[p+88>>2],e[a+28>>2]=g,g=e[p+84>>2],e[a+16>>2]=e[p+80>>2],e[a+20>>2]=g,g=e[p+76>>2],e[a+8>>2]=e[p+72>>2],e[a+12>>2]=g}if(n=c+H(n&1,36)|0,e[p+56>>2]=e[n+16>>2],a=e[n+12>>2],e[p+48>>2]=e[n+8>>2],e[p+52>>2]=a,a=e[n+4>>2],e[p+40>>2]=e[n>>2],e[p+44>>2]=a,(Ve(i,43)|0)==1)break s;e[p+32>>2]=0,e[p+24>>2]=0,e[p+28>>2]=0,to(i,p+24|0),e[p+16>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0;r:{if((Gm(i,p+8|0,1)|0)==1)break r;l:{u:{a:{if((we(i,0)|0)!=26||(we(i,1)|0)!=22)break a;if(Jf(i,r),a=Z(80),o=e[p+28>>2],g=e[p+24>>2],n=y[p+35|0],e[a+20>>2]=0,e[a+24>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+28>>2]=1,e[a>>2]=37856,_=n<<24>>24<0,o=_?o:n,o>>>0>=4294967280)break e;c:{o:{if(o>>>0>=11){v=o+16&-16,n=Z(v),e[a+40>>2]=v|-2147483648,e[a+32>>2]=n,e[a+36>>2]=o;break o}if(n=a+32|0,S[n+11|0]=o,!o)break c}Ce(n,_?g:p+24|0,o)}S[n+o|0]=0,S[a+63|0]=0,S[a+64|0]=0,S[a+65|0]=0,S[a+66|0]=0,e[a+56>>2]=0,e[a+60>>2]=0,n=a+48|0,e[n>>2]=0,e[n+4>>2]=0,g=a+72|0,e[g>>2]=-16,e[g+4>>2]=-1,o=1;c:{if((Ve(i,26)|0)==1||(Ve(i,22)|0)==1||($n(i,a+4|0)|0)==1||($n(i,a+16|0)|0)==1||(Ve(i,39)|0)==1||(Qf(i,n,y[a+66|0])|0)==1||(n=0,(we(i,0)|0)==54&&(n=1,(Qf(i,a+56|0,y[a+66|0])|0)==1))||(S[a- -64|0]=n,(we(i,0)|0)==40&&(_=e[i+92>>2]&1,n=c+H(_,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!_,e[i+88>>2]=e[i+88>>2]-1,S[a+65|0]=1),(q_(i,g)|0)==1))break c;ta(p- -64|0,i),n=Z(40),e[n+4>>2]=0,e[n+8>>2]=0,o=e[p+80>>2],c=e[p+72>>2],g=e[p+76>>2],_=e[p+64>>2],v=e[p+68>>2],e[n+36>>2]=a,e[n+32>>2]=2,e[n+12>>2]=_,e[n+16>>2]=v,e[n+20>>2]=c,e[n+24>>2]=g,e[n+28>>2]=o,e[n>>2]=37736,ql(r,n);break u}F[e[e[a>>2]+4>>2]](a);break r}if((we(i,0)|0)==127){if((q_(i,p)|0)==1||(Ve(i,26)|0)==1||(Ve(i,15)|0)==1)break r;n=b-32|0,b=n,o=Z(120),e[o+4>>2]=0,e[o+8>>2]=0,a=e[p+56>>2],c=e[p+48>>2],g=e[p+52>>2],_=e[p+40>>2],v=e[p+44>>2],e[o>>2]=46156,S[o+51|0]=0,e[o+32>>2]=6,e[o+36>>2]=0,e[o+12>>2]=_,e[o+16>>2]=v,e[o+20>>2]=c,e[o+24>>2]=g,e[o+28>>2]=a,S[o+40|0]=0,e[n+24>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,a=o+52|0,Ne(a,-1,n+8|0),e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,e[o+96>>2]=0,e[o+100>>2]=0,b=n+32|0,n=e[r+140>>2],c=e[r+136>>2],e[p+120>>2]=0,e[p+112>>2]=0,e[p+116>>2]=0,e[p+104>>2]=0,e[p+108>>2]=0,n=Ne(p- -64|0,n-c>>2,p+104|0),Di(a,n),te(n),n=Z(104),e[n+36>>2]=0,e[n+40>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n>>2]=41088,e[n+88>>2]=0,e[n+72>>2]=0,e[n+56>>2]=-1,e[n+60>>2]=-1,e[n+52>>2]=0,e[n+44>>2]=0,e[n+48>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+28>>2]=0,e[n+32>>2]=17,a=e[o+100>>2],a?(e[n+8>>2]=a,a=a+4|0):a=o+96|0,e[a>>2]=n,e[o+100>>2]=n,e[o+104>>2]=e[o+104>>2]+1,e[n+28>>2]=e[p+56>>2],a=e[p+52>>2],e[n+20>>2]=e[p+48>>2],e[n+24>>2]=a,a=e[p+44>>2],e[n+12>>2]=e[p+40>>2],e[n+16>>2]=a,n=e[p+4>>2],_=n,v=e[p>>2],e[o+88>>2]=v,e[o+92>>2]=n,e[p+72>>2]=0,e[p+64>>2]=0,e[p+68>>2]=0,n=o+108|0;a:{if(Ym(i,p- -64|0)){a=p- -64|0,c=e[n+4>>2];c:{if(c>>>0<nt[n+8>>2]){e[c>>2]=e[a>>2],e[c+4>>2]=e[a+4>>2],e[c+8>>2]=e[a+8>>2],e[a+8>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[n+4>>2]=c+12;break c}Kf(n,a)}if(c=b-16|0,b=c,e[c+8>>2]=0,e[c>>2]=0,e[c+4>>2]=0,Ym(i,c))for(;;){a=e[n+4>>2];c:{if(a>>>0<nt[n+8>>2]){e[a>>2]=e[c>>2],e[a+4>>2]=e[c+4>>2],e[a+8>>2]=e[c+8>>2],e[c+8>>2]=0,e[c>>2]=0,e[c+4>>2]=0,e[n+4>>2]=a+12;break c}Kf(n,c)}if(!Ym(i,c))break}if(n=e[c>>2],n)for(;a=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=a,!!n;);b=c+16|0;break a}ZN(i,n)}if(L=Ve(i,39),(L|0)!=1){n=Z(88),g=p+24|0,c=e[g+4>>2],M=e[g>>2],a=y[g+11|0],e[n+4>>2]=0,e[n+8>>2]=0,x=e[p+44>>2],e[n+12>>2]=e[p+40>>2],e[n+16>>2]=x,x=e[p+52>>2],e[n+20>>2]=e[p+48>>2],e[n+24>>2]=x,e[n+28>>2]=e[p+56>>2],e[n+32>>2]=5,e[n>>2]=38404;a:{if(x=a<<24>>24<0,a=x?c:a,a>>>0<4294967280){c:{o:{if(a>>>0>=11){X=a+16&-16,c=Z(X),e[n+48>>2]=X|-2147483648,e[n+40>>2]=c,e[n+44>>2]=a;break o}if(c=n+40|0,S[c+11|0]=a,!a)break c}Ce(c,x?M:g,a)}S[a+c|0]=0,S[n+71|0]=0,S[n+72|0]=0,S[n+73|0]=0,S[n+74|0]=0,a=n- -64|0,e[a>>2]=0,e[a+4>>2]=0,e[n+56>>2]=0,e[n+60>>2]=0,e[n+80>>2]=-16,e[n+84>>2]=-1;break a}break e}a=e[o+108>>2],c=e[o+112>>2],e[n+80>>2]=v,e[n+84>>2]=_,S[n+72|0]=1,g=n- -64|0,a=(c-a|0)/12|0,e[g>>2]=a,e[g+4>>2]=0,e[n+56>>2]=a,e[n+60>>2]=0,s8(r,n),n8(r,o),o=0}if(n=e[p+64>>2],n)for(;a=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=a,!!n;);if(o&&F[e[e[o>>2]+4>>2]](o),o=1,(L|0)!=1)break u;break r}if(a=Z(88),o=e[p+28>>2],g=e[p+24>>2],n=y[p+35|0],e[a+4>>2]=0,e[a+8>>2]=0,_=e[p+44>>2],e[a+12>>2]=e[p+40>>2],e[a+16>>2]=_,_=e[p+52>>2],e[a+20>>2]=e[p+48>>2],e[a+24>>2]=_,e[a+28>>2]=e[p+56>>2],e[a+32>>2]=5,e[a>>2]=38404,_=n<<24>>24<0,o=_?o:n,o>>>0>=4294967280)break e;a:{c:{if(o>>>0>=11){v=o+16&-16,n=Z(v),e[a+48>>2]=v|-2147483648,e[a+40>>2]=n,e[a+44>>2]=o;break c}if(n=a+40|0,S[n+11|0]=o,!o)break a}Ce(n,_?g:p+24|0,o)}if(g=0,S[n+o|0]=0,S[a+71|0]=0,S[a+72|0]=0,S[a+73|0]=0,S[a+74|0]=0,n=a- -64|0,e[n>>2]=0,e[n+4>>2]=0,n=a+56|0,e[n>>2]=0,e[n+4>>2]=0,_=a+80|0,o=_,e[o>>2]=-16,e[o+4>>2]=-1,o=1,(Qf(i,n,0)|0)==1||(we(i,0)|0)==54&&(g=1,(Qf(i,a- -64|0,y[a+74|0])|0)==1)||(S[a+72|0]=g,(we(i,0)|0)==40&&(g=e[i+92>>2]&1,n=c+H(g,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,S[a+73|0]=1),(q_(i,_)|0)==1))break l;s8(r,a)}if(a=e[r+140>>2],o=e[r+136>>2],n=e[r+36>>2],e[p+120>>2]=e[n+28>>2],c=e[n+24>>2],e[p+112>>2]=e[n+20>>2],e[p+116>>2]=c,c=e[n+16>>2],e[p+104>>2]=e[n+12>>2],e[p+108>>2]=c,n=e[p+8>>2],n)for(a=(a-o>>2)-1|0;o=Ne(p- -64|0,a,p+104|0),Di(n+52|0,o),te(o),n=e[n+4>>2],!!n;);Xm(r,p+8|0),o=(Ve(i,39)|0)==1;break r}F[e[e[a>>2]+4>>2]](a)}if(n=e[p+8>>2],n)for(;a=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=a,!!n;);if(S[p+35|0]>=0)break s;P(e[p+24>>2])}b=p+128|0,n=o}if((n|0)==1&&(n=1,(e8(i,864)|0)==1))break t;if(a=we(i,0),n=we(i,1),(a|0)!=26)break}}if(o=e[i+8>>2],_=r,g=e[_+32>>2],g){for(X=_+276|0;;){i:{n:{s:switch(e[g+32>>2]){case 0:p=g+36|0,c=g+48|0;break n;case 10:p=0,c=g+48|0;break n;case 2:break s;default:break i}if(r=e[g+36>>2],n=e[r+28>>2],!(n|!r)){p=0,c=r+44|0;break n}if(p=0,r=(n|0)==4?r:0,!r)break i;c=r+44|0}if(r=e[c+44>>2],n=e[c+40>>2],(r|0)!=(n|0))for(a=0;;){if(L=(a<<3)+n|0,!(e[L>>2]!=-21|e[L+4>>2]!=-1)){r=0,x=e[c+68>>2];n:{if(!x)break n;v=e[c+64>>2],V=rs(x)>>>0>1,n=x-1&a;s:{if(!V||(n=a,n>>>0<x>>>0))break s;n=(a>>>0)%(x>>>0)|0}if(M=n,n=e[v+(M<<2)>>2],!n||(n=e[n>>2],!n))break n;s:{if(!V){for(v=x-1|0;;){x=e[n+4>>2];r:{if((x|0)!=(a|0)){if((M|0)!=(v&x))break n;break r}if(e[n+8>>2]==(a|0))break s}if(n=e[n>>2],!n)break}break n}for(;;){v=e[n+4>>2];r:{if((v|0)!=(a|0)){if(v>>>0>=x>>>0&&(v=(v>>>0)%(x>>>0)|0),(v|0)!=(M|0))break n;break r}if(e[n+8>>2]==(a|0))break s}if(n=e[n>>2],!n)break}break n}r=n}r=Br(X,r+12|0),r?(n=-21,r=e[r+40>>2]):(n=-21,r=-1),e[L>>2]=n,e[L+4>>2]=r,n=e[c+40>>2],r=e[c+44>>2]}if(a=a+1|0,!(a>>>0<r-n>>3>>>0))break}if(r=e[c+56>>2],n=e[c+52>>2],(r|0)!=(n|0))for(a=0;;){if(L=(a<<3)+n|0,!(e[L>>2]!=-21|e[L+4>>2]!=-1)){r=0,x=e[c+88>>2];n:{if(!x)break n;v=e[c+84>>2],V=rs(x)>>>0>1,n=x-1&a;s:{if(!V||(n=a,n>>>0<x>>>0))break s;n=(a>>>0)%(x>>>0)|0}if(M=n,n=e[v+(M<<2)>>2],!n||(n=e[n>>2],!n))break n;s:{if(!V){for(v=x-1|0;;){x=e[n+4>>2];r:{if((x|0)!=(a|0)){if((M|0)!=(v&x))break n;break r}if(e[n+8>>2]==(a|0))break s}if(n=e[n>>2],!n)break}break n}for(;;){v=e[n+4>>2];r:{if((v|0)!=(a|0)){if(v>>>0>=x>>>0&&(v=(v>>>0)%(x>>>0)|0),(v|0)!=(M|0))break n;break r}if(e[n+8>>2]==(a|0))break s}if(n=e[n>>2],!n)break}break n}r=n}r=Br(X,r+12|0),r?(n=-21,r=e[r+40>>2]):(n=-21,r=-1),e[L>>2]=n,e[L+4>>2]=r,n=e[c+52>>2],r=e[c+56>>2]}if(a=a+1|0,!(a>>>0<r-n>>3>>>0))break}if(r=a5(_,c),n=g+12|0,Tk(n,_,c),se=(se|0)==1|(Q_(n,_,c,o)|0)==1,!p)break i;n:{if(!r||(n=e[p+136>>2],!n))break n;for(r=e[p+56>>2]-e[p+52>>2]>>3;e[n+40>>2]=r+e[n+40>>2],n=e[n>>2],!!n;);}e[j+72>>2]=o,e[j+68>>2]=_,e[j+64>>2]=53280,n=b8(sa(j+8|0,j- -64|0),p),r=e[j+48>>2],r&&(e[j+52>>2]=r,P(r)),r=e[j+36>>2],r&&(e[j+40>>2]=r,P(r)),r=e[j+24>>2],r&&(e[j+28>>2]=r,P(r)),r=e[j+12>>2],r&&(e[j+16>>2]=r,P(r)),se=(n|0)==1|se}if(g=e[g+4>>2],!g)break}if(n=1,(se|0)==1)break t;o=e[i+8>>2]}if(n=b-96|0,b=n,e[n+24>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+12>>2]=o,e[n+8>>2]=52108,i=n+8|0,sa(n+28|0,i),e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,a=Fm(i,_),e[n+8>>2]=52108,i=e[n+80>>2],i){if(o=e[n+84>>2],r=i,(o|0)!=(i|0)){for(;o=o-12|0,S[o+11|0]<0&&P(e[o>>2]),(i|0)!=(o|0););r=e[n+80>>2]}e[n+84>>2]=i,P(r)}i=e[n+68>>2],i&&(e[n+72>>2]=i,P(i)),i=e[n+56>>2],i&&(e[n+60>>2]=i,P(i)),i=e[n+44>>2],i&&(e[n+48>>2]=i,P(i)),i=e[n+32>>2],i&&(e[n+36>>2]=i,P(i)),b=n+96|0,n=(a|0)==1}return b=j+80|0,n}Be(),Ie()}function U_(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;g=b-528|0,b=g;e:{t:{if(nt[i+12>>2]>=n>>>0)break t;for(M=i+52|0;;){if(j=1,(qk(i,g+520|0,15612)|0)==1)break e;if(a=e[i+36>>2],F[e[e[a>>2]+220>>2]](a,e[g+520>>2])|0){Q(i,23366,0);break e}c=W0(g+520|0,e[i+88>>2]),a=e[g+520>>2];i:{n:{if(!c)break n;o&&(e[o>>2]=a);s:{r:{l:{u:{a:{c:{o:{d:{m:{A:{w:{C:{_:{v:switch(a|0){case 0:if(a=e[i+36>>2],F[e[e[a>>2]+528>>2]](a)|0){Q(i,20561,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 2:if((Ra(i,g+448|0,14298)|0)==1)break e;a=e[g+452>>2],c=e[g+448>>2],p=14283;f:{if(!C8(e[i+88>>2],c)||(v=e[i+36>>2],e[g+512>>2]=c,e[g+516>>2]=a,_=e[e[v>>2]+304>>2],e[g+16>>2]=c,e[g+20>>2]=a,p=20098,F[_|0](v,g+16|0)|0))break f;if(p=e[i+36>>2],e[g+504>>2]=c,e[g+508>>2]=a,v=e[e[p>>2]+264>>2],e[g+8>>2]=c,e[g+12>>2]=a,!(F[v|0](p,g+8|0)|0))break i;p=22877}Q(i,p,0);break e;case 3:if((Ra(i,g+448|0,14263)|0)==1)break e;a=e[g+452>>2],c=e[g+448>>2],p=14283;f:{if(!C8(e[i+88>>2],c)||(v=e[i+36>>2],e[g+496>>2]=c,e[g+500>>2]=a,_=e[e[v>>2]+412>>2],e[g+32>>2]=c,e[g+36>>2]=a,p=19698,F[_|0](v,g+32|0)|0))break f;if(p=e[i+36>>2],e[g+488>>2]=c,e[g+492>>2]=a,v=e[e[p>>2]+264>>2],e[g+24>>2]=c,e[g+28>>2]=a,!(F[v|0](p,g+24|0)|0))break i;p=22877}Q(i,p,0);break e;case 4:if((Ra(i,g+448|0,14319)|0)==1)break e;a=e[g+452>>2],c=e[g+448>>2],p=14283;f:{if(!C8(e[i+88>>2],c)||(v=e[i+36>>2],e[g+480>>2]=c,e[g+484>>2]=a,_=e[e[v>>2]+392>>2],e[g+48>>2]=c,e[g+52>>2]=a,p=20250,F[_|0](v,g+48|0)|0))break f;if(p=e[i+36>>2],e[g+472>>2]=c,e[g+476>>2]=a,v=e[e[p>>2]+264>>2],e[g+40>>2]=c,e[g+44>>2]=a,!(F[v|0](p,g+40|0)|0))break i;p=22877}Q(i,p,0);break e;case 5:if(a=e[i+36>>2],F[e[e[a>>2]+356>>2]](a)|0){Q(i,20371,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 24:if((YT(i,g+440|0,7804)|0)==1)break e;p=e[M>>2],a=e[M+4>>2]-p>>3,c=e[g+440>>2];f:{if(a>>>0<c>>>0){ys(M,c-a|0);break f}a>>>0>c>>>0&&(e[M+4>>2]=p+(c<<3))}v=0;f:{if(!c)break f;for(;;){if((Ra(i,g+448|0,13992)|0)==1)break e;p=e[i+88>>2],a=1,x=e[g+452>>2];p:{k:{x:{N:{R:switch(_=e[g+448>>2],_+21|0){case 17:case 18:case 19:case 20:break p;case 0:break x;case 4:case 5:break N;case 16:break R;default:break k}a=y[p+4|0]!=0;break p}a=y[p+10|0]!=0;break p}a=y[p+6|0]!=0;break p}a=0}if(!a){e[g+64>>2]=(_|0)<0?26758:35624,r=_>>31,e[g+68>>2]=(r^_)-r,Q(i,26883,g- -64|0);break e}if(a=e[M>>2]+(v<<3)|0,e[a>>2]=_,e[a+4>>2]=x,v=v+1|0,(c|0)==(v|0))break}if(!c)break f;if(a=e[i+36>>2],F[e[e[a>>2]+504>>2]](a,c,e[M>>2])|0){Q(i,19523,0);break e}if(a=e[i+36>>2],p=e[M>>2],c=e[p+4>>2],p=e[p>>2],e[g+464>>2]=p,e[g+468>>2]=c,v=e[e[a>>2]+268>>2],e[g+56>>2]=p,e[g+60>>2]=c,!(F[v|0](a,g+56|0)|0))break i;Q(i,23114,0);break e}if(a=e[i+36>>2],F[e[e[a>>2]+504>>2]](a,0,0)|0){Q(i,19523,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 23:if(a=e[i+36>>2],F[e[e[a>>2]+504>>2]](a,0,0)|0){Q(i,19523,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 11:if((wn(i,g+448|0,12626)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+308>>2]](a,c)|0)r=19584;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 12:if((wn(i,g+448|0,12659)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+312>>2]](a,c)|0)r=20223;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 13:if((YT(i,g+440|0,6013)|0)==1)break e;a=e[i+76>>2],v=e[i+80>>2]-a>>2,p=e[g+440>>2],c=p;f:{if(v>>>0<c>>>0){if(c=c-v|0,V=e[i+84>>2],a=e[i+80>>2],c>>>0<=V-a>>2>>>0){c&&(_=a,a=c<<2,a=pn(_,0,a)+a|0),e[i+80>>2]=a;break f}p:{if(_=a,a=e[i+76>>2],x=_-a|0,L=x>>2,_=L+c|0,_>>>0>=1073741824)break p;if(v=0,V=V-a|0,X=V>>1,_=V>>>0<2147483644?_>>>0<X>>>0?X:_:1073741823,_){if(_>>>0>=1073741824)break p;v=Z(_<<2)}c=c<<2,c=pn((L<<2)+v|0,0,c)+c|0,(x|0)>0&&Ce(v,a,x),e[i+84>>2]=(_<<2)+v,e[i+80>>2]=c,e[i+76>>2]=v,a&&P(a);break f}Be(),Ie()}c>>>0<v>>>0&&(e[i+80>>2]=a+(c<<2))}if(p)for(c=e[i+12>>2],v=0;;){if(a=e[i+4>>2],a=qe(a+c|0,a+e[i>>2]|0,g+448|0),!a){e[g+80>>2]=12604,Q(i,10147,g+80|0);break e}if(c=a+e[i+12>>2]|0,e[i+12>>2]=c,e[e[i+76>>2]+(v<<2)>>2]=e[g+448>>2],v=v+1|0,(p|0)==(v|0))break}if((wn(i,g+448|0,12574)|0)==1)break e;if(a=e[i+36>>2],!(F[e[e[a>>2]+316>>2]](a,p,p?e[i+76>>2]:0,e[g+448>>2])|0))break i;Q(i,20595,0);break e;case 14:if(a=e[i+36>>2],F[e[e[a>>2]+492>>2]](a)|0){Q(i,19851,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 1:if(a=e[i+36>>2],F[e[e[a>>2]+484>>2]](a)|0){Q(i,19725,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 22:if(a=e[i+36>>2],F[e[e[a>>2]+352>>2]](a)|0){Q(i,19609,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 10:if(a=e[i+36>>2],F[e[e[a>>2]+360>>2]](a)|0){Q(i,20690,0);break e}if(r)break t;break i;case 55:a=b-16|0,b=a,c=e[i+4>>2],c=jc(c+e[i+12>>2]|0,c+e[i>>2]|0,g+448|0);f:{if(!c){e[a>>2]=13679,Q(i,10177,a),c=1;break f}e[i+12>>2]=c+e[i+12>>2],c=0}if(b=a+16|0,(c|0)==1)break e;if(a=e[i+36>>2],F[e[e[a>>2]+384>>2]](a,e[g+448>>2])|0)r=18839;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,e[g+448>>2])|0))break i;r=23674}Q(i,r,0);break e;case 56:v=b-16|0,b=v;f:{p:{k:{if(a=e[i+4>>2],p=a+e[i+12>>2]|0,a=a+e[i>>2]|0,p>>>0>=a>>>0||(c=S[p|0],(c|0)<0))break k;c=(c&255)<<25,a=c>>31,p=c>>25,c=1;break p}k:{if(a>>>0<=p+1>>>0||(_=S[p+1|0],(_|0)<0))break k;c=(y[p|0]&127)<<18,a=(_&255)<<25,c=a|c,a=c>>31,p=c>>18,c=2;break p}k:{if(a>>>0<=p+2>>>0||(_=S[p+2|0],(_|0)<0))break k;c=(y[p|0]&127)<<11,a=(y[p+1|0]&127)<<18,c=a|c,a=(_&255)<<25,a=a|c,c=a>>31,p=a>>11,a=c,c=3;break p}k:{if(a>>>0<=p+3>>>0||(_=S[p+3|0],(_|0)<0))break k;a=(y[p|0]&127)<<4|(y[p+1|0]&127)<<11,c=(y[p+2|0]&127)<<18,a=a|c,c=(_&255)<<25,c=a|c,a=c>>31,p=c>>4,c=4;break p}k:{if(a>>>0<=p+4>>>0||(_=S[p+4|0],(_|0)<0))break k;c=y[p|0]&127,a=c>>>3|0,x=c<<29,c=(y[p+1|0]&127)<<4|a|(y[p+2|0]&127)<<11,a=(y[p+3|0]&127)<<18,p=x,c=a|c,a=(_&255)<<25,c=a|c,a=c>>29,p=(c&536870911)<<3|p>>>29,c=5;break p}k:{if(a>>>0<=p+5>>>0||(x=S[p+5|0],(x|0)<0))break k;a=y[p|0]&127,c=a>>>10|0,L=a<<22,_=y[p+1|0]&127,a=_>>>3|0,_=L|_<<29,c=a|c|(y[p+2|0]&127)<<4|(y[p+3|0]&127)<<11,a=(y[p+4|0]&127)<<18,p=_,c=a|c|(x&255)<<25,a=c>>22,p=(c&4194303)<<10|p>>>22,c=6;break p}k:{if(a>>>0<=p+6>>>0||(_=S[p+6|0],(_|0)<0))break k;c=(y[p+5|0]&127)<<18,x=0,V=(_&255)<<25|c,c=y[p|0]&127,a=c>>>17|0,L=c<<15,_=y[p+1|0]&127,c=_>>>10|0,_=L|_<<22,L=a|c,a=y[p+2|0]&127,c=a>>>3|0,a=a<<29|_,_=c|L,c=(y[p+3|0]&127)<<4,_=c|_,c=(y[p+4|0]&127)<<11,p=a|x,a=c|_|V,c=a>>15,p=(a&32767)<<17|p>>>15,a=c,c=7;break p}k:{if(a>>>0<=p+7>>>0||(c=S[p+7|0],(c|0)<0))break k;x=0,V=(y[p+6|0]&127)<<18|(c&255)<<25|(y[p+5|0]&127)<<11,a=y[p|0]&127,c=a>>>24|0,L=a<<8,_=y[p+1|0]&127,a=_>>>17|0,_=L|_<<15,L=a|c,c=y[p+2|0]&127,a=c>>>10|0,c=c<<22|_,_=a|L,L=c,c=y[p+3|0]&127,a=c>>>3|0,c=L|c<<29,_=a|_,a=(y[p+4|0]&127)<<4,p=c|x,c=a|_|V,a=c>>8,p=(c&255)<<24|p>>>8,c=8;break p}k:{if(a>>>0<=p+8>>>0||(_=S[p+8|0],(_|0)<0))break k;c=(y[p+7|0]&127)<<18,a=(_&255)<<25,x=0,V=a|c|(y[p+6|0]&127)<<11|(y[p+5|0]&127)<<4,c=y[p+1|0]&127,a=c>>>24|0,_=y[p|0]<<1&254|c<<8,c=a,L=_,_=y[p+2|0]&127,a=_>>>17|0,_=L|_<<15,L=a|c,c=y[p+3|0]&127,a=c>>>10|0,c=c<<22|_,_=a|L,L=c,c=y[p+4|0]&127,a=c>>>3|0,p=L|c<<29|x,c=a|_|V,a=c>>1,p=(c&1)<<31|p>>>1,c=9;break p}if(c=0,a>>>0<=p+9>>>0||(a=y[p+9|0],a&128)||(x=a&1,_=a&254,x&(_|0)!=126|!(!_||x)))break f;x=0,V=(y[p+8|0]&127)<<24|a<<31|(y[p+7|0]&127)<<17|(y[p+6|0]&127)<<10|(y[p+5|0]&127)<<3,c=y[p+1|0]&127,a=c>>>25|0,_=y[p|0]&127|c<<7,c=a,L=_,_=y[p+2|0]&127,a=_>>>18|0,_=L|_<<14,L=a|c,c=y[p+3|0]&127,a=c>>>11|0,c=c<<21|_,_=a|L,L=c,c=y[p+4|0]&127,a=c>>>4|0,p=L|c<<28|x,a=a|_|V,c=10}e[g+448>>2]=p,e[g+452>>2]=a}f:{if(!c){e[v>>2]=13647,Q(i,10117,v),a=1;break f}e[i+12>>2]=e[i+12>>2]+c,a=0}if(b=v+16|0,(a|0)==1)break e;if(a=e[i+36>>2],F[e[e[a>>2]+388>>2]](a,e[g+448>>2],e[g+452>>2])|0)r=18777;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+248>>2]](a,e[g+448>>2],e[g+452>>2])|0))break i;r=23615}Q(i,r,0);break e;case 57:e[g+448>>2]=0,a=b-16|0,b=a,c=e[i+12>>2];f:{if(nt[i>>2]<c+4>>>0){e[a+4>>2]=13695,e[a>>2]=7160,Q(i,9787,a),c=1;break f}c=c+e[i+4>>2]|0,e[g+448>>2]=y[c|0]|y[c+1|0]<<8|(y[c+2|0]<<16|y[c+3|0]<<24),e[i+12>>2]=e[i+12>>2]+4,c=0}if(b=a+16|0,(c|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+364>>2]](a,c)|0)r=18870;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+252>>2]](a,c)|0))break i;r=23785}Q(i,r,0);break e;case 58:e[g+448>>2]=0,e[g+452>>2]=0,c=b-16|0,b=c,a=e[i+12>>2];f:{if(nt[i>>2]<a+8>>>0){e[c+4>>2]=13663,e[c>>2]=15266,Q(i,9787,c),a=1;break f}a=a+e[i+4>>2]|0,p=y[a+4|0]|y[a+5|0]<<8|(y[a+6|0]<<16|y[a+7|0]<<24),e[g+448>>2]=y[a|0]|y[a+1|0]<<8|(y[a+2|0]<<16|y[a+3|0]<<24),e[g+452>>2]=p,e[i+12>>2]=e[i+12>>2]+8,a=0}if(b=c+16|0,(a|0)==1)break e;if(c=e[i+36>>2],p=e[g+448>>2],a=e[g+452>>2],F[e[e[c>>2]+368>>2]](c,p,a)|0)r=18808;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+256>>2]](c,p,a)|0))break i;r=23646}Q(i,r,0);break e;case 229:if(e[g+456>>2]=0,e[g+460>>2]=0,e[g+448>>2]=0,e[g+452>>2]=0,(AT(i,g+448|0,13630)|0)==1)break e;if(a=e[i+36>>2],c=e[e[a>>2]+372>>2],p=e[g+460>>2],e[g+120>>2]=e[g+456>>2],e[g+124>>2]=p,p=e[g+452>>2],e[g+112>>2]=e[g+448>>2],e[g+116>>2]=p,F[c|0](a,g+112|0)|0)r=18745;else{if(a=e[i+36>>2],c=e[e[a>>2]+260>>2],p=e[g+460>>2],e[g+104>>2]=e[g+456>>2],e[g+108>>2]=p,p=e[g+452>>2],e[g+96>>2]=e[g+448>>2],e[g+100>>2]=p,!(F[c|0](a,g+96|0)|0))break i;r=23586}Q(i,r,0);break e;case 28:if((wn(i,g+448|0,1739)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+376>>2]](a,c)|0)r=19384;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 25:if((wn(i,g+448|0,1651)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+400>>2]](a,c)|0)r=19353;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 29:if((wn(i,g+448|0,1715)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+380>>2]](a,c)|0)r=19290;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 26:if((wn(i,g+448|0,1629)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+404>>2]](a,c)|0)r=19259;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 15:if((wn(i,g+448|0,1534)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+320>>2]](a,c)|0)r=20040;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 16:if((wn(i,g+448|0,1803)|0)==1)break e;e[g+440>>2]=0;f:{p:{if(y[e[i+88>>2]+10|0]){if((wn(i,g+440|0,2025)|0)==1)break f;a=e[g+440>>2];break p}if((Pa(i,g+436|0,16712)|0)==1)break f;if(y[g+436|0]){Q(i,26101,0);break e}a=0}if(c=e[i+36>>2],p=e[g+448>>2],F[e[e[c>>2]+324>>2]](c,p,a)|0){Q(i,19488,0);break e}if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,p,a)|0))break i;Q(i,23705,0)}break e;case 17:if((wn(i,g+448|0,11852)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+496>>2]](a,c)|0)r=20007;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 18:if((wn(i,g+448|0,7093)|0)==1)break e;e[g+440>>2]=0;f:{p:{if(y[e[i+88>>2]+10|0]){if((wn(i,g+440|0,2018)|0)==1)break f;a=e[g+440>>2];break p}if((Pa(i,g+436|0,16705)|0)==1)break f;if(y[g+436|0]){Q(i,26094,0);break e}a=0}if(c=e[i+36>>2],p=e[g+448>>2],F[e[e[c>>2]+500>>2]](c,p,a)|0){Q(i,19447,0);break e}if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,p,a)|0))break i;Q(i,23705,0)}break e;case 27:if((wn(i,g+448|0,1673)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+408>>2]](a,c)|0)r=20625;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 217:case 218:case 219:case 220:case 221:case 222:case 223:if(a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,g+448|0),!a){e[g+128>>2]=6462,Q(i,10147,g+128|0);break e}if(e[i+12>>2]=a+e[i+12>>2],p=e[g+448>>2],!(y[e[i+88>>2]+15|0]|p>>>0<32&&p>>>0<=127)){e[g+148>>2]=p,e[g+144>>2]=6462,Q(i,5377,g+144|0);break e}if((na(i,g+448|0,6931)|0)==1)break e;j=0,e[g+440>>2]=0;f:{p:{if(p>>>0>=64){if(a=16080,!y[e[i+88>>2]+15|0])break p;if((L2(i,g+440|0,2346)|0)==1)break f;j=e[g+440>>2],p=p&63}if(c=e[i+36>>2],a=20716,F[e[e[c>>2]+396>>2]](c,e[g+520>>2],j,p,0,e[g+448>>2],e[g+452>>2])|0)break p;if(a=e[i+36>>2],c=e[a>>2],v=e[g+448>>2],j){if(!(F[e[c+244>>2]](a,p,v,j)|0))break i;a=23742;break p}if(!(F[e[c+240>>2]](a,p,v)|0))break i;a=23705}Q(i,a,0)}j=1;break e;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 228:if(a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,g+448|0),!a){e[g+160>>2]=6446,Q(i,10147,g+160|0);break e}if(e[i+12>>2]=a+e[i+12>>2],p=e[g+448>>2],!(y[e[i+88>>2]+15|0]|p>>>0<32&&p>>>0<=127)){e[g+180>>2]=p,e[g+176>>2]=6446,Q(i,5377,g+176|0);break e}if((na(i,g+448|0,6906)|0)==1)break e;j=0,e[g+440>>2]=0;f:{p:{if(p>>>0>=64){if(a=16080,!y[e[i+88>>2]+15|0])break p;if((L2(i,g+440|0,2346)|0)==1)break f;j=e[g+440>>2],p=p&63}if(c=e[i+36>>2],a=20398,F[e[e[c>>2]+508>>2]](c,e[g+520>>2],j,p,0,e[g+448>>2],e[g+452>>2])|0)break p;if(a=e[i+36>>2],c=e[a>>2],v=e[g+448>>2],j){if(!(F[e[c+244>>2]](a,p,v,j)|0))break i;a=23742;break p}if(!(F[e[c+240>>2]](a,p,v)|0))break i;a=23705}Q(i,a,0)}j=1;break e;case 53:e[g+448>>2]=0;f:{if(!y[e[i+88>>2]+15|0]){if((Pa(i,g+440|0,16756)|0)==1)break e;if(y[g+440|0]){Q(i,26177,0);break e}a=0;break f}if((L2(i,g+448|0,2327)|0)==1)break e;a=e[g+448>>2]}if(c=e[i+36>>2],F[e[e[c>>2]+436>>2]](c,a)|0){Q(i,20275,0);break e}if(c=e[i+36>>2],!(F[e[e[c>>2]+228>>2]](c,a)|0))break i;Q(i,23674,0);break e;case 54:e[g+448>>2]=0;f:{if(!y[e[i+88>>2]+15|0]){if((Pa(i,g+440|0,16684)|0)==1)break e;if(y[g+440|0]){Q(i,26057,0);break e}a=0;break f}if((L2(i,g+448|0,2270)|0)==1)break e;a=e[g+448>>2]}if(c=e[i+36>>2],F[e[e[c>>2]+428>>2]](c,a)|0){Q(i,18648,0);break e}if(c=e[i+36>>2],!(F[e[e[c>>2]+228>>2]](c,a)|0))break i;Q(i,23674,0);break e;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 128:case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 150:case 151:case 152:case 153:case 154:case 155:case 156:case 231:case 295:case 296:case 297:case 298:case 318:case 319:case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:case 332:case 333:case 340:case 343:case 344:case 349:case 350:case 351:case 352:case 353:case 354:case 355:case 356:case 357:case 358:case 359:case 360:case 361:case 362:case 363:case 364:case 365:case 366:case 367:case 376:case 377:case 378:case 379:case 380:case 381:case 382:case 383:case 384:case 385:case 386:case 387:case 388:case 389:case 390:case 399:case 400:case 401:case 402:case 403:case 404:case 411:case 412:case 413:case 414:case 426:case 427:case 428:case 429:case 430:case 431:case 432:case 433:case 437:case 438:case 439:case 440:case 441:case 442:case 443:case 444:if(c=e[i+36>>2],F[e[e[c>>2]+300>>2]](c,a)|0){Q(i,18407,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 252:case 253:case 254:case 255:case 256:case 257:case 258:case 259:case 260:case 261:case 262:case 263:case 264:case 265:case 266:case 267:case 268:case 269:case 270:case 271:case 272:case 273:case 274:case 275:case 276:case 277:case 278:case 279:case 280:case 281:case 282:case 283:case 284:case 285:case 286:case 287:case 288:case 289:case 290:case 291:case 292:case 293:case 405:case 406:case 407:case 408:case 409:case 410:if(c=e[i+36>>2],F[e[e[c>>2]+340>>2]](c,a)|0){Q(i,20460,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 93:case 94:case 95:case 111:case 112:case 113:case 129:case 130:case 131:case 132:case 133:case 134:case 135:case 143:case 144:case 145:case 146:case 147:case 148:case 149:case 232:case 233:case 234:case 235:case 236:case 237:case 294:case 300:case 313:case 314:case 315:case 316:case 317:case 334:case 335:case 336:case 337:case 338:case 339:case 341:case 342:case 345:case 346:case 347:case 348:case 368:case 369:case 370:case 371:case 372:case 373:case 374:case 375:case 391:case 392:case 393:case 394:case 395:case 396:case 397:case 398:case 415:case 416:case 417:case 418:case 419:case 420:case 421:case 422:case 423:case 424:case 425:case 434:case 435:case 436:if(c=e[i+36>>2],F[e[e[c>>2]+520>>2]](c,a)|0){Q(i,18436,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 299:if(a=e[i+36>>2],F[e[e[a>>2]+524>>2]](a,299)|0){Q(i,18377,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 238:case 239:case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 251:if(c=e[i+12>>2],p=c+1|0,p>>>0>nt[i>>2]){e[g+196>>2]=2359,e[g+192>>2]=7319,Q(i,9787,g+192|0);break e}if(c=y[c+e[i+4>>2]|0],e[i+12>>2]=p,p=e[i+36>>2],F[e[e[p>>2]+540>>2]](p,a,c,0)|0){Q(i,19751,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+248>>2]](a,c,0)|0))break i;Q(i,23615,0);break e;case 230:if((AT(i,g+448|0,24455)|0)==1)break e;if(a=e[i+36>>2],c=e[e[a>>2]+544>>2],p=e[g+460>>2],e[g+232>>2]=e[g+456>>2],e[g+236>>2]=p,p=e[g+452>>2],e[g+224>>2]=e[g+448>>2],e[g+228>>2]=p,F[c|0](a,e[g+520>>2],g+224|0)|0)r=19784;else{if(a=e[i+36>>2],c=e[e[a>>2]+260>>2],p=e[g+460>>2],e[g+216>>2]=e[g+456>>2],e[g+220>>2]=p,p=e[g+452>>2],e[g+208>>2]=e[g+448>>2],e[g+212>>2]=p,!(F[c|0](a,g+208|0)|0))break i;r=23586}Q(i,r,0);break e;case 224:case 225:case 226:case 227:if((s1(i,g+448|0)|0)==1)break e;if((na(i,g+440|0,6931)|0)!=1){if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+556>>2]](a,e[g+520>>2],c,e[g+452>>2],e[g+440>>2],e[g+444>>2])|0)r=19552;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+240>>2]](a,c,e[g+440>>2])|0))break i;r=23705}Q(i,r,0)}break e;case 301:case 302:case 303:case 304:if((s1(i,g+448|0)|0)==1)break e;if(e[g+436>>2]=0,a=e[g+452>>2],p=e[g+448>>2],!a&p>>>0>=64|a){if(!y[e[i+88>>2]+15|0]){Q(i,16080,0);break e}if((L2(i,g+436|0,2346)|0)==1)break e;p=p&63,a=0}if((na(i,g+440|0,6931)|0)==1)break e;if((Pa(i,g+435|0,2359)|0)!=1){if(c=e[i+36>>2],_=a,a=y[g+435|0],F[e[e[c>>2]+548>>2]](c,e[g+520>>2],e[g+436>>2],p,_,e[g+440>>2],e[g+444>>2],a,0)|0)r=20526;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+244>>2]](c,p,e[g+440>>2],a)|0))break i;r=23742}Q(i,r,0)}break e;case 305:case 306:case 307:case 308:if((s1(i,g+448|0)|0)==1)break e;if(e[g+436>>2]=0,a=e[g+452>>2],p=e[g+448>>2],!a&p>>>0>=64|a){if(!y[e[i+88>>2]+15|0]){Q(i,16080,0);break e}if((L2(i,g+436|0,2346)|0)==1)break e;p=p&63,a=0}if((na(i,g+440|0,6931)|0)==1)break e;if((Pa(i,g+435|0,2359)|0)!=1){if(c=e[i+36>>2],_=a,a=y[g+435|0],F[e[e[c>>2]+552>>2]](c,e[g+520>>2],e[g+436>>2],p,_,e[g+440>>2],e[g+444>>2],a,0)|0)r=20490;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+244>>2]](c,p,e[g+440>>2],a)|0))break i;r=23742}Q(i,r,0)}break e;case 309:case 310:if((s1(i,g+448|0)|0)==1)break e;if((na(i,g+440|0,6931)|0)!=1){if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+560>>2]](a,e[g+520>>2],c,e[g+452>>2],e[g+440>>2],e[g+444>>2])|0)r=19820;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+240>>2]](a,c,e[g+440>>2])|0))break i;r=23705}Q(i,r,0)}break e;case 59:case 70:case 157:case 158:case 159:case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 311:case 312:case 445:case 446:case 447:case 448:case 449:case 450:case 451:case 452:if(c=e[i+36>>2],F[e[e[c>>2]+344>>2]](c,a)|0){Q(i,18901,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 6:if((Ra(i,g+448|0,14244)|0)==1)break e;a=e[g+452>>2],c=e[g+448>>2],p=14283;f:{if(!C8(e[i+88>>2],c)||(v=e[i+36>>2],e[g+424>>2]=c,e[g+428>>2]=a,_=e[e[v>>2]+516>>2],e[g+248>>2]=c,e[g+252>>2]=a,p=18464,F[_|0](v,g+248|0)|0))break f;if(p=e[i+36>>2],e[g+416>>2]=c,e[g+420>>2]=a,v=e[e[p>>2]+264>>2],e[g+240>>2]=c,e[g+244>>2]=a,!(F[v|0](p,g+240|0)|0))break i;p=22877}Q(i,p,0);break e;case 7:if((wn(i,g+448|0,1770)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+332>>2]](a,c)|0)r=20126;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 21:if(a=e[i+36>>2],F[e[e[a>>2]+336>>2]](a)|0){Q(i,20067,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 20:if((wn(i,g+448|0,12680)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+348>>2]](a,c)|0)r=20340;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 9:if((wn(i,g+448|0,12647)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+488>>2]](a,c)|0)r=18590;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 8:if((wn(i,g+448|0,1770)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+512>>2]](a,c)|0)r=18620;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+232>>2]](a,c)|0))break i;r=17142}Q(i,r,0);break e;case 182:case 183:case 184:case 185:case 186:if(c=e[i+36>>2],F[e[e[c>>2]+520>>2]](c,a)|0){Q(i,18436,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 194:case 195:case 196:case 197:case 198:case 199:case 200:case 201:if(c=e[i+36>>2],F[e[e[c>>2]+344>>2]](c,a)|0){Q(i,18901,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e;case 453:if((s1(i,g+448|0)|0)==1)break e;if((na(i,g+440|0,6931)|0)!=1){if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+296>>2]](a,e[g+520>>2],c,e[g+452>>2],e[g+440>>2],e[g+444>>2])|0)r=18555;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+240>>2]](a,c,e[g+440>>2])|0))break i;r=23705}Q(i,r,0)}break e;case 454:case 455:if((s1(i,g+448|0)|0)==1)break e;if((na(i,g+440|0,6931)|0)!=1){if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+288>>2]](a,e[g+520>>2],c,e[g+452>>2],e[g+440>>2],e[g+444>>2])|0)r=19226;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+240>>2]](a,c,e[g+440>>2])|0))break i;r=23705}Q(i,r,0)}break e;case 456:if((Pa(i,g+448|0,11981)|0)==1)break e;a=26016;f:{if(y[g+448|0]||(c=e[i+36>>2],a=20656,F[e[e[c>>2]+292>>2]](c,0)|0))break f;if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,0)|0))break i;a=23674}Q(i,a,0);break e;case 457:case 458:case 459:case 460:case 461:case 462:case 463:if(a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,g+448|0),!a){e[g+256>>2]=6462,Q(i,10147,g+256|0);break e}if(e[i+12>>2]=a+e[i+12>>2],a=e[g+448>>2],!(y[e[i+88>>2]+15|0]|a>>>0<32&&a>>>0<=127)){e[g+276>>2]=a,e[g+272>>2]=6462,Q(i,5377,g+272|0);break e}if((na(i,g+448|0,6931)|0)==1)break e;if(c=e[i+36>>2],F[e[e[c>>2]+272>>2]](c,e[g+520>>2],a,0,e[g+448>>2],e[g+452>>2])|0)r=20743;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,a,e[g+448>>2])|0))break i;r=23705}Q(i,r,0);break e;case 464:case 465:case 466:case 467:case 468:case 469:case 470:if(a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,g+448|0),!a){e[g+288>>2]=6446,Q(i,10147,g+288|0);break e}if(e[i+12>>2]=a+e[i+12>>2],a=e[g+448>>2],!(y[e[i+88>>2]+15|0]|a>>>0<32&&a>>>0<=127)){e[g+308>>2]=a,e[g+304>>2]=6446,Q(i,5377,g+304|0);break e}if((na(i,g+448|0,6906)|0)==1)break e;if(c=e[i+36>>2],F[e[e[c>>2]+276>>2]](c,e[g+520>>2],a,0,e[g+448>>2],e[g+452>>2])|0)r=20426;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,a,e[g+448>>2])|0))break i;r=23705}Q(i,r,0);break e;case 471:case 472:case 473:case 474:case 475:case 476:case 477:case 478:case 479:case 480:case 481:case 482:case 483:case 484:case 485:case 486:case 487:case 488:case 489:case 490:case 491:case 492:case 493:case 494:case 495:case 496:case 497:case 498:case 499:case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 508:case 509:case 510:case 511:case 512:if(a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,g+448|0),!a){e[g+320>>2]=6411,Q(i,10147,g+320|0);break e}if(e[i+12>>2]=a+e[i+12>>2],a=e[g+448>>2],!(y[e[i+88>>2]+15|0]|a>>>0<32&&a>>>0<=127)){e[g+340>>2]=a,e[g+336>>2]=6411,Q(i,5377,g+336|0);break e}if((na(i,g+448|0,6892)|0)==1)break e;if(c=e[i+36>>2],F[e[e[c>>2]+280>>2]](c,e[g+520>>2],a,0,e[g+448>>2],e[g+452>>2])|0)r=18713;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,a,e[g+448>>2])|0))break i;r=23705}Q(i,r,0);break e;case 513:case 514:case 515:case 516:case 517:case 518:case 519:if(a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,g+448|0),!a){e[g+352>>2]=6411,Q(i,10147,g+352|0);break e}if(e[i+12>>2]=a+e[i+12>>2],a=e[g+448>>2],!(y[e[i+88>>2]+15|0]|a>>>0<32&&a>>>0<=127)){e[g+372>>2]=a,e[g+368>>2]=6411,Q(i,5377,g+368|0);break e}if((na(i,g+448|0,6892)|0)==1)break e;if(c=e[i+36>>2],F[e[e[c>>2]+284>>2]](c,e[g+520>>2],a,0,e[g+448>>2],e[g+452>>2])|0)r=20154;else{if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,a,e[g+448>>2])|0))break i;r=23705}Q(i,r,0);break e;case 206:if((wn(i,g+448|0,1474)|0)==1)break e;if((wn(i,g+440|0,2097)|0)!=1){if(a=e[i+36>>2],c=e[g+448>>2],p=e[g+440>>2],F[e[e[a>>2]+448>>2]](a,c,p)|0)r=19194;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+240>>2]](a,c,p)|0))break i;r=23705}Q(i,r,0)}break e;case 202:if(e[i+128>>2]==-1){Q(i,11108,0);break e}if((wn(i,g+448|0,1474)|0)==1)break e;e[g+440>>2]=0;f:{p:{if(!y[e[i+88>>2]+15|0]){if((Pa(i,g+436|0,1452)|0)==1)break f;if(y[g+436|0]){Q(i,26189,0);break e}a=0;break p}if((L2(i,g+440|0,2289)|0)==1)break f;a=e[g+440>>2]}if(c=e[i+36>>2],p=e[g+448>>2],F[e[e[c>>2]+432>>2]](c,p,a)|0){Q(i,18931,0);break e}if(c=e[i+36>>2],!(F[e[e[c>>2]+240>>2]](c,p,a)|0))break i;Q(i,23705,0)}break e;case 214:break l;case 216:break u;case 213:break a;case 212:break c;case 211:break o;case 210:break d;case 209:break m;case 208:break A;case 204:break w;case 205:break C;case 207:break _;case 203:break v;case 19:break s;case 215:break r;default:break n}if(e[i+128>>2]!=-1)break _;Q(i,11148,0);break e}if((wn(i,g+448|0,1479)|0)==1)break e;c=e[i+36>>2],p=e[c>>2],a=e[g+448>>2];_:{v:{if(e[g+520>>2]==203){if(!(F[e[p+420>>2]](c,a)|0))break v;r=19667;break _}if(!(F[e[p+444>>2]](c,a)|0))break v;r=19636;break _}if(c=e[i+36>>2],!(F[e[e[c>>2]+228>>2]](c,a)|0))break i;r=23674}Q(i,r,0);break e}e[g+448>>2]=0;C:{if(!y[e[i+88>>2]+15|0]){if((Pa(i,g+440|0,16735)|0)==1)break e;if(y[g+440|0]){Q(i,26140,0);break e}a=0;break C}if((L2(i,g+448|0,2308)|0)==1)break e;a=e[g+448>>2]}if(c=e[i+36>>2],F[e[e[c>>2]+424>>2]](c,a)|0){Q(i,19942,0);break e}if(c=e[i+36>>2],!(F[e[e[c>>2]+228>>2]](c,a)|0))break i;Q(i,23674,0);break e}e[g+448>>2]=0,e[g+440>>2]=0;w:{if(!y[e[i+88>>2]+15|0]){if((Pa(i,g+436|0,1452)|0)==1)break e;if(y[g+436|0]){Q(i,26189,0);break e}if((Pa(i,g+436|0,1452)|0)==1)break e;if(y[g+436|0]){Q(i,26189,0);break e}c=0,a=0;break w}if((L2(i,g+448|0,2248)|0)==1||(L2(i,g+440|0,1381)|0)==1)break e;c=e[g+448>>2],a=e[g+440>>2]}if(p=e[i+36>>2],F[e[e[p>>2]+416>>2]](p,c,a)|0){Q(i,18490,0);break e}if(p=e[i+36>>2],!(F[e[e[p>>2]+240>>2]](p,c,a)|0))break i;Q(i,23705,0);break e}if((wn(i,g+448|0,2097)|0)==1||(wn(i,g+440|0,24156)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],p=e[g+440>>2],F[e[e[a>>2]+440>>2]](a,c,p)|0)r=18523;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+240>>2]](a,c,p)|0))break i;r=23705}Q(i,r,0);break e}if((wn(i,g+448|0,2106)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+452>>2]](a,c)|0)r=19416;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,c)|0))break i;r=23674}Q(i,r,0);break e}if((wn(i,g+448|0,2106)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+456>>2]](a,c)|0)r=19322;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,c)|0))break i;r=23674}Q(i,r,0);break e}if((wn(i,g+448|0,2106)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+460>>2]](a,c)|0)r=18681;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,c)|0))break i;r=23674}Q(i,r,0);break e}if((wn(i,g+448|0,2106)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+464>>2]](a,c)|0)r=20308;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,c)|0))break i;r=23674}Q(i,r,0);break e}if((wn(i,g+448|0,2106)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+468>>2]](a,c)|0)r=19975;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,c)|0))break i;r=23674}Q(i,r,0);break e}if((wn(i,g+448|0,2187)|0)==1)break e;if(a=e[i+36>>2],c=e[g+448>>2],F[e[e[a>>2]+472>>2]](a,c)|0)r=20776;else{if(a=e[i+36>>2],!(F[e[e[a>>2]+228>>2]](a,c)|0))break i;r=23674}Q(i,r,0);break e}c=0,a=b-32|0,b=a,e[a+28>>2]=0,p=e[i+4>>2],p=jc(p+e[i+12>>2]|0,p+e[i>>2]|0,a+28|0);l:{u:{if(!p){e[a>>2]=14162,Q(i,10177,a);break u}if(e[i+12>>2]=p+e[i+12>>2],p=e[a+28>>2],e[g+448>>2]=p,e[g+452>>2]=-1,p=p+21|0,1<<p&49&&p>>>0<=5)break l;e[a+16>>2]=14162,Q(i,14370,a+16|0)}c=1}if(b=a+32|0,(c|0)==1)break e;if(c=e[i+36>>2],p=e[g+452>>2],a=e[g+448>>2],e[g+408>>2]=a,e[g+412>>2]=p,v=e[e[c>>2]+476>>2],e[g+392>>2]=a,e[g+396>>2]=p,F[v|0](c,g+392|0)|0)r=19912;else{if(c=e[i+36>>2],e[g+400>>2]=a,e[g+404>>2]=p,v=e[e[c>>2]+268>>2],e[g+384>>2]=a,e[g+388>>2]=p,!(F[v|0](c,g+384|0)|0))break i;r=23114}Q(i,r,0);break e}if(a=e[i+36>>2],F[e[e[a>>2]+480>>2]](a)|0){Q(i,19880,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e}if(a=e[i+36>>2],F[e[e[a>>2]+328>>2]](a)|0){Q(i,20193,0);break e}if(a=e[i+36>>2],!(F[e[e[a>>2]+224>>2]](a)|0))break i;Q(i,22964,0);break e}p=b-80|0,b=p,e[p+72>>2]=a,r=Z(32),e[p+56>>2]=r,e[p+60>>2]=17,e[p+64>>2]=-2147483616,S[r+17|0]=0,S[r+16|0]=y[15578],n=y[15574]|y[15575]<<8|(y[15576]<<16|y[15577]<<24),o=y[15570]|y[15571]<<8|(y[15572]<<16|y[15573]<<24),S[r+8|0]=o,S[r+9|0]=o>>>8,S[r+10|0]=o>>>16,S[r+11|0]=o>>>24,S[r+12|0]=n,S[r+13|0]=n>>>8,S[r+14|0]=n>>>16,S[r+15|0]=n>>>24,n=y[15566]|y[15567]<<8|(y[15568]<<16|y[15569]<<24),o=y[15562]|y[15563]<<8|(y[15564]<<16|y[15565]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,Pn(p+56|0,25167),M=0,V=b-16|0,b=V;n:{s:{r:{r=e[p+72>>2];l:{if(r>>>0<=519){if(n=(r<<6)+58592|0,v=y[n+48|0],v)break l;r=e[n+52>>2];break s}if(n=0-r|0,v=n>>>8|0,!(v&255))break r}if(n=Z(1),S[n|0]=v,v=n+1|0,e[p+48>>2]=v,e[p+44>>2]=v,e[p+40>>2]=n,_=V+11|0,n=0,a=b-16|0,b=a,r>>>0<=519?o=e[((r<<6)+58592|0)+52>>2]:o=0-r&255,o>>>0>=128)for(;S[(a+11|0)+M|0]=o|128,M=M+1|0,r=o>>>0>16383,o=o>>>7|0,!!r;);S[(a+11|0)+M|0]=o,r=M+1|0,r>>>0<=(V+16|0)-_>>>0&&(Ce(_,a+11|0,r),n=r),b=a+16|0;l:{if(M=n+_|0,x=M-_|0,(x|0)<=0)break l;if(c=e[p+48>>2],n=e[p+44>>2],(x|0)<=(c-n|0)){o=n-v|0;u:{if((o|0)>=(x|0)){r=n;break u}if(r=n,a=M,M=o+_|0,a=a-M|0,(a|0)>0&&(r=Ce(n,M,a)+a|0),e[p+44>>2]=r,(o|0)<=0)break l}if(o=r,a=r-x|0,n>>>0>a>>>0)for(;S[o|0]=y[a|0],o=o+1|0,a=a+1|0,n>>>0>a>>>0;);if(e[p+44>>2]=o,n=v+x|0,(n|0)!=(r|0)&&(o=r,r=r-n|0,wl(o-r|0,v,r)),(_|0)==(M|0))break l;wl(v,_,M-_|0);break l}if(r=e[p+40>>2],o=x+(n-r|0)|0,(o|0)>=0){if(a=v-r|0,c=c-r|0,L=c<<1,L=c>>>0<1073741823?o>>>0<L>>>0?L:o:2147483647,L?c=Z(L):c=0,o=a+c|0,(_|0)!=(M|0)&&(o=Ce(o,_,x)+x|0),(a|0)>0&&Ce(c,r,a),(n|0)!=(v|0)){if(r=n+(v^-1)|0,M=n-v&7,M)for(a=0;S[o|0]=y[v|0],o=o+1|0,v=v+1|0,a=a+1|0,(M|0)!=(a|0););if(r>>>0>=7)for(;S[o|0]=y[v|0],S[o+1|0]=y[v+1|0],S[o+2|0]=y[v+2|0],S[o+3|0]=y[v+3|0],S[o+4|0]=y[v+4|0],S[o+5|0]=y[v+5|0],S[o+6|0]=y[v+6|0],S[o+7|0]=y[v+7|0],o=o+8|0,v=v+8|0,(n|0)!=(v|0););r=e[p+40>>2]}e[p+48>>2]=c+L,e[p+44>>2]=o,e[p+40>>2]=c,r&&P(r);break l}Be(),Ie()}break n}r=n&255}n=Z(1),S[n|0]=r,r=n+1|0,e[p+48>>2]=r,e[p+44>>2]=r,e[p+40>>2]=n}if(b=V+16|0,n=e[p+40>>2],r=e[p+44>>2],(n|0)!=(r|0))for(;e[p+16>>2]=y[n|0],o=p+24|0,U0(o,2513,p+16|0),c=o,o=y[p+35|0],a=o<<24>>24<0,Mn(p+56|0,a?e[p+24>>2]:c,a?e[p+28>>2]:o),S[p+35|0]<0&&P(e[p+24>>2]),n=n+1|0,(r|0)!=(n|0););e[p>>2]=S[p+67|0]<0?e[p+56>>2]:p+56|0,Q(i,10204,p),i=e[p+40>>2],i&&(e[p+44>>2]=i,P(i)),S[p+67|0]<0&&P(e[p+56>>2]),b=p+80|0;break e}if(!(nt[i+12>>2]<n>>>0))break}}j=0}return b=g+528|0,j}function _k(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0;x=b-176|0,b=x,a=x+72|0,e[a>>2]=0,e[a+4>>2]=0,e[x+28>>2]=0,e[x+32>>2]=0,e[x+36>>2]=0,e[x+40>>2]=0,e[x+44>>2]=0,e[x+48>>2]=0,e[x+52>>2]=0,e[x+56>>2]=0,e[x+60>>2]=0,e[x+64>>2]=0,De=x+68|0,e[De>>2]=a,e[x+88>>2]=0,e[x+92>>2]=0,e[x+96>>2]=0,e[x+100>>2]=0,e[x+104>>2]=0,e[x+108>>2]=-1,e[x+152>>2]=0,e[x+156>>2]=0,e[x+120>>2]=0,e[x+124>>2]=0,e[x+128>>2]=0,e[x+132>>2]=0,S[x+133|0]=0,S[x+134|0]=0,S[x+135|0]=0,S[x+136|0]=0,S[x+137|0]=0,S[x+138|0]=0,S[x+139|0]=0,S[x+140|0]=0,e[x+16>>2]=r,e[x+12>>2]=n,e[x+8>>2]=i,e[x+20>>2]=0,e[x+24>>2]=0,e[x+80>>2]=0,e[x+84>>2]=0,e[x+144>>2]=0,e[x+148>>2]=0,e[x+112>>2]=0,e[x+116>>2]=0,e[x+160>>2]=1065353216,c=b-704|0,b=c,o=x+8|0,i=e[o>>2],e[c+576>>2]=1836278016,r=c+576|0,U(i,r,4,24769,0),i=e[o>>2],e[c+576>>2]=1,U(i,r,4,24642,0);e:{t:{i:{if(y[e[o+4>>2]+18|0]){if(X=e[o+8>>2],e[c+580>>2]=0,e[c+584>>2]=0,j=c+576|4,e[c+576>>2]=j,e[c+404>>2]=0,e[c+408>>2]=0,se=c+400|4,e[c+400>>2]=se,e[c+556>>2]=0,e[c+560>>2]=0,V=c+552|4,e[c+552>>2]=V,e[c+540>>2]=0,e[c+544>>2]=0,v=c+536|4,e[c+536>>2]=v,M=e[X+112>>2],He=e[X+116>>2],(M|0)!=(He|0))for(L=c+544|0,_=c+560|0,p=c+408|0,g=c+584|0;;){n:{s:{r:{l:{u:{a:{c:switch(i=e[M>>2],e[i+12>>2]){case 4:break l;case 3:break u;case 1:break a;case 0:break c;default:break n}a=T2(X,i+16|0),r=j,i=r,n=e[c+580>>2];c:{if(!n)break c;for(;;){if(i=n,r=e[i+16>>2],r>>>0>a>>>0){if(r=i,n=e[r>>2],n)continue;break c}if(r>>>0>=a>>>0)break n;if(n=e[i+4>>2],!n)break}r=i+4|0}if(n=Z(20),e[n+8>>2]=i,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=a,e[r>>2]=n,a=j,i=g,pe=e[e[c+576>>2]>>2],!pe)break s;e[c+576>>2]=pe,i=g;break r}a=no(X,i+16|0),r=v,i=r,n=e[c+540>>2];a:{if(!n)break a;for(;;){if(i=n,r=e[i+16>>2],r>>>0>a>>>0){if(r=i,n=e[r>>2],n)continue;break a}if(r>>>0>=a>>>0)break n;if(n=e[i+4>>2],!n)break}r=i+4|0}if(n=Z(20),e[n+8>>2]=i,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=a,e[r>>2]=n,a=v,i=L,pe=e[e[c+536>>2]>>2],!pe)break s;e[c+536>>2]=pe,i=L;break r}a=Wh(X,i+16|0),r=se,i=r,n=e[c+404>>2];u:{if(!n)break u;for(;;){if(i=n,r=e[i+16>>2],r>>>0>a>>>0){if(r=i,n=e[r>>2],n)continue;break u}if(r>>>0>=a>>>0)break n;if(n=e[i+4>>2],!n)break}r=i+4|0}if(n=Z(20),e[n+8>>2]=i,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=a,e[r>>2]=n,a=se,i=p,pe=e[e[c+400>>2]>>2],!pe)break s;e[c+400>>2]=pe,i=p;break r}a=_p(X,i+16|0),r=V,i=r,n=e[c+556>>2];l:{if(!n)break l;for(;;){if(i=n,r=e[i+16>>2],r>>>0>a>>>0){if(r=i,n=e[r>>2],n)continue;break l}if(r>>>0>=a>>>0)break n;if(n=e[i+4>>2],!n)break}r=i+4|0}if(n=Z(20),e[n+8>>2]=i,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=a,e[r>>2]=n,a=V,i=_,pe=e[e[c+552>>2]>>2],!pe)break s;e[c+552>>2]=pe,i=_}n=e[r>>2]}_2(e[a>>2],n),e[i>>2]=e[i>>2]+1}if(M=M+4|0,(He|0)==(M|0))break}se=o+12|0;n:{s:{r:{if(r=e[X+76>>2],(r|0)!=e[X+80>>2])for(i=0;;){L=e[(i<<2)+r>>2],g=e[X+48>>2],r=e[c+580>>2],a=1;l:{if(!r)break l;for(;;){if(n=e[r+16>>2],n>>>0<=i>>>0){if(a=0,i>>>0<=n>>>0)break l;r=r+4|0}if(r=e[r>>2],!r)break}a=1}n=e[L>>2],r=y[L+11|0],_=r<<24>>24<0,p=_?e[L+4>>2]:r,e[c+572>>2]=p,r=_?n:L,e[c+568>>2]=r;l:{u:{if(i>>>0<g>>>0){if(e[c+568>>2]=0,e[c+572>>2]=0,n=16,r=48,!a)break u;break l}if(p?(e[c+572>>2]=p-1,e[c+568>>2]=r+1,n=0):n=6,a)break l;if((Lk(se,c+568|0)|0)==1)break s;r=n|-92}n=r}r=e[o+16>>2],v=r-e[o+12>>2]>>5,g=e[o+28>>2],a=e[o+32>>2];l:{if(g>>>0<a>>>0){e[g>>2]=v,e[o+28>>2]=g+4;break l}if(V=e[o+24>>2],L=g-V|0,p=L>>2,_=p+1|0,_>>>0>=1073741824)break t;if(g=a-V|0,a=g>>1,_=g>>>0<2147483644?a>>>0>_>>>0?a:_:1073741823,_){if(_>>>0>=1073741824)break t;a=Z(_<<2)}else a=0;if(g=a+(p<<2)|0,e[g>>2]=v,(L|0)>0&&Ce(a,V,L),e[o+32>>2]=a+(_<<2),e[o+28>>2]=g+4,e[o+24>>2]=a,!V)break l;P(V),r=e[o+16>>2]}a=e[o+20>>2];l:{if(a>>>0>r>>>0){e[r>>2]=0,g=e[c+568>>2],a=e[c+572>>2],e[r+16>>2]=i,S[r+12|0]=n,e[r+4>>2]=g,e[r+8>>2]=a,e[o+16>>2]=r+32;break l}if(L=e[se>>2],_=r-L|0,g=_>>5,p=g+1|0,p>>>0>=134217728)break r;if(a=a-L|0,r=a>>4,r=a>>>0<2147483616?r>>>0>p>>>0?r:p:134217727,r>>>0>=134217728)break t;if(a=g<<5,g=r<<5,p=Z(g),v=a+p|0,e[v>>2]=0,a=e[c+568>>2],r=e[c+572>>2],e[v+16>>2]=i,S[v+12|0]=n,e[v+4>>2]=a,e[v+8>>2]=r,(_|0)>0&&Ce(p,L,_),e[o+12>>2]=p,e[o+20>>2]=p+g,e[o+16>>2]=v+32,!L)break l;P(L)}if(i=i+1|0,r=e[X+76>>2],!(i>>>0<e[X+80>>2]-r>>2>>>0))break}if(r=e[X+136>>2],(r|0)!=e[X+140>>2])for(i=0;;){L=e[(i<<2)+r>>2],g=e[X+52>>2],r=e[c+540>>2],a=1;l:{if(!r)break l;for(;;){if(n=e[r+16>>2],n>>>0<=i>>>0){if(a=0,i>>>0<=n>>>0)break l;r=r+4|0}if(r=e[r>>2],!r)break}a=1}n=e[L>>2],r=y[L+11|0],_=r<<24>>24<0,p=_?e[L+4>>2]:r,e[c+572>>2]=p,r=_?n:L,e[c+568>>2]=r;l:{u:{if(i>>>0<g>>>0){if(e[c+568>>2]=0,e[c+572>>2]=0,n=16,r=48,!a)break u;break l}if(p?(e[c+572>>2]=p-1,e[c+568>>2]=r+1,n=0):n=6,a)break l;if((Lk(se,c+568|0)|0)==1)break s;r=n|-92}n=r}r=e[o+16>>2],v=r-e[o+12>>2]>>5,g=e[o+40>>2],a=e[o+44>>2];l:{if(g>>>0<a>>>0){e[g>>2]=v,e[o+40>>2]=g+4;break l}if(V=e[o+36>>2],L=g-V|0,p=L>>2,_=p+1|0,_>>>0>=1073741824)break t;if(g=a-V|0,a=g>>1,_=g>>>0<2147483644?a>>>0>_>>>0?a:_:1073741823,_){if(_>>>0>=1073741824)break t;a=Z(_<<2)}else a=0;if(g=a+(p<<2)|0,e[g>>2]=v,(L|0)>0&&Ce(a,V,L),e[o+44>>2]=a+(_<<2),e[o+40>>2]=g+4,e[o+36>>2]=a,!V)break l;P(V),r=e[o+16>>2]}a=e[o+20>>2];l:{if(a>>>0>r>>>0){e[r>>2]=5,g=e[c+568>>2],a=e[c+572>>2],e[r+16>>2]=i,S[r+12|0]=n,e[r+4>>2]=g,e[r+8>>2]=a,e[o+16>>2]=r+32;break l}if(L=e[se>>2],_=r-L|0,g=_>>5,p=g+1|0,p>>>0>=134217728)break r;if(a=a-L|0,r=a>>4,r=a>>>0<2147483616?r>>>0>p>>>0?r:p:134217727,r>>>0>=134217728)break t;if(a=g<<5,g=r<<5,p=Z(g),v=a+p|0,e[v>>2]=5,a=e[c+568>>2],r=e[c+572>>2],e[v+16>>2]=i,S[v+12|0]=n,e[v+4>>2]=a,e[v+8>>2]=r,(_|0)>0&&Ce(p,L,_),e[o+12>>2]=p,e[o+20>>2]=p+g,e[o+16>>2]=v+32,!L)break l;P(L)}if(i=i+1|0,r=e[X+136>>2],!(i>>>0<e[X+140>>2]-r>>2>>>0))break}if(r=e[X+88>>2],(r|0)!=e[X+92>>2])for(i=0;;){L=e[(i<<2)+r>>2],g=e[X+60>>2],r=e[c+404>>2],a=1;l:{if(!r)break l;for(;;){if(n=e[r+16>>2],n>>>0<=i>>>0){if(a=0,i>>>0<=n>>>0)break l;r=r+4|0}if(r=e[r>>2],!r)break}a=1}n=e[L>>2],r=y[L+11|0],_=r<<24>>24<0,p=_?e[L+4>>2]:r,e[c+572>>2]=p,r=_?n:L,e[c+568>>2]=r;l:{u:{if(i>>>0<g>>>0){if(e[c+568>>2]=0,e[c+572>>2]=0,n=16,r=48,!a)break u;break l}if(p?(e[c+572>>2]=p-1,e[c+568>>2]=r+1,n=0):n=6,a)break l;if((Lk(se,c+568|0)|0)==1)break s;r=n|-92}n=r}r=e[o+16>>2],v=r-e[o+12>>2]>>5,g=e[o+52>>2],a=e[o+56>>2];l:{if(g>>>0<a>>>0){e[g>>2]=v,e[o+52>>2]=g+4;break l}if(V=e[o+48>>2],L=g-V|0,p=L>>2,_=p+1|0,_>>>0>=1073741824)break t;if(g=a-V|0,a=g>>1,_=g>>>0<2147483644?a>>>0>_>>>0?a:_:1073741823,_){if(_>>>0>=1073741824)break t;a=Z(_<<2)}else a=0;if(g=a+(p<<2)|0,e[g>>2]=v,(L|0)>0&&Ce(a,V,L),e[o+56>>2]=a+(_<<2),e[o+52>>2]=g+4,e[o+48>>2]=a,!V)break l;P(V),r=e[o+16>>2]}a=e[o+20>>2];l:{if(a>>>0>r>>>0){e[r>>2]=2,g=e[c+568>>2],a=e[c+572>>2],e[r+16>>2]=i,S[r+12|0]=n,e[r+4>>2]=g,e[r+8>>2]=a,e[o+16>>2]=r+32;break l}if(L=e[se>>2],_=r-L|0,g=_>>5,p=g+1|0,p>>>0>=134217728)break r;if(a=a-L|0,r=a>>4,r=a>>>0<2147483616?r>>>0>p>>>0?r:p:134217727,r>>>0>=134217728)break t;if(a=g<<5,g=r<<5,p=Z(g),v=a+p|0,e[v>>2]=2,a=e[c+568>>2],r=e[c+572>>2],e[v+16>>2]=i,S[v+12|0]=n,e[v+4>>2]=a,e[v+8>>2]=r,(_|0)>0&&Ce(p,L,_),e[o+12>>2]=p,e[o+20>>2]=p+g,e[o+16>>2]=v+32,!L)break l;P(L)}if(i=i+1|0,r=e[X+88>>2],!(i>>>0<e[X+92>>2]-r>>2>>>0))break}r=0;break n}Nr(),Ie()}r=1}if(Fh(c+536|0,e[c+540>>2]),Fh(c+552|0,e[c+556>>2]),Fh(c+400|0,e[c+404>>2]),Fh(c+576|0,e[c+580>>2]),i=1,r)break i}if(r=e[o+8>>2],e[r+128>>2]!=e[r+124>>2]){if(_l(o,1),i=e[o+8>>2],Oe(e[o>>2],e[i+128>>2]-e[i+124>>2]>>2,7821),i=e[o+8>>2],r=e[i+124>>2],(r|0)!=e[i+128>>2])for(j=0;;){n:{s:{r:{l:switch(L=e[(j<<2)+r>>2],e[L+36>>2]){case 2:break s;case 1:break r;case 0:break l;default:break n}if(i=e[o>>2],r=e[i+12>>2],r&&(e[c+340>>2]=j,e[c+336>>2]=14420,ee(r,29506,c+336|0),i=e[o>>2]),e[c+528>>2]=-32,e[c+532>>2]=-1,e[c+328>>2]=-32,e[c+332>>2]=-1,D2(i,c+328|0),_=e[L+52>>2],p=e[L+56>>2],r=e[L+44>>2],i=e[L+40>>2],n=r-i>>3,Oe(e[o>>2],n,7601),(i|0)!=(r|0))for(a=n>>>0>1?n:1,i=0;;){g=e[o>>2],n=e[L+40>>2]+(i<<3)|0,r=e[n+4>>2],n=e[n>>2],e[c+400>>2]=n,e[c+404>>2]=r,r=c+576|0,ci(r,c+400|0),Rn(g,n,S[c+587|0]<0?e[c+576>>2]:r),S[c+587|0]<0&&P(e[c+576>>2]);l:{if(e[c+400>>2]!=-21||(n=e[c+404>>2],r=c+576|0,ci(r,c+400|0),Rn(g,n,S[c+587|0]<0?e[c+576>>2]:r),S[c+587|0]>=0))break l;P(e[c+576>>2])}if(i=i+1|0,(a|0)==(i|0))break}if(i=p-_>>3,Oe(e[o>>2],i,7396),(p|0)==(_|0))break n;for(a=i>>>0>1?i:1,i=0;;){g=e[o>>2],n=e[L+52>>2]+(i<<3)|0,r=e[n+4>>2],n=e[n>>2],e[c+400>>2]=n,e[c+404>>2]=r,r=c+576|0,ci(r,c+400|0),Rn(g,n,S[c+587|0]<0?e[c+576>>2]:r),S[c+587|0]<0&&P(e[c+576>>2]);l:{if(e[c+400>>2]!=-21||(n=e[c+404>>2],r=c+576|0,ci(r,c+400|0),Rn(g,n,S[c+587|0]<0?e[c+576>>2]:r),S[c+587|0]>=0))break l;P(e[c+576>>2])}if(i=i+1|0,(a|0)==(i|0))break}break n}if(i=e[o>>2],r=e[i+12>>2],r&&(e[c+356>>2]=j,e[c+352>>2]=14032,ee(r,29506,c+352|0),i=e[o>>2]),e[c+520>>2]=-33,e[c+524>>2]=-1,e[c+344>>2]=-33,e[c+348>>2]=-1,D2(i,c+344|0),r=e[L+44>>2],i=e[L+40>>2],n=(r-i|0)/24|0,Oe(e[o>>2],n,7904),(i|0)==(r|0))break n;for(a=n>>>0>1?n:1,i=0;;){p=e[o>>2],g=e[L+40>>2]+H(i,24)|0,n=e[g+12>>2],r=e[g+16>>2],e[c+400>>2]=n,e[c+404>>2]=r,r=c+576|0,ci(r,c+400|0),Rn(p,n,S[c+587|0]<0?e[c+576>>2]:r),S[c+587|0]<0&&P(e[c+576>>2]);r:{if(e[c+400>>2]!=-21||(n=e[c+404>>2],r=c+576|0,ci(r,c+400|0),Rn(p,n,S[c+587|0]<0?e[c+576>>2]:r),S[c+587|0]>=0))break r;P(e[c+576>>2])}if(r=e[o>>2],S[c+576|0]=y[g+20|0],U(r,c+576|0,1,1116,0),i=i+1|0,(a|0)==(i|0))break}break n}i=e[o>>2],r=e[i+12>>2],r&&(e[c+388>>2]=j,e[c+384>>2]=13946,ee(r,29506,c+384|0),i=e[o>>2]),e[c+512>>2]=-34,e[c+516>>2]=-1,e[c+376>>2]=-34,e[c+380>>2]=-1,D2(i,c+376|0),r=e[o>>2],n=e[L+56>>2],i=e[L+52>>2],e[c+368>>2]=i,e[c+372>>2]=n,e[c+504>>2]=i,e[c+508>>2]=n,D2(r,c+368|0),i=e[o>>2],S[c+576|0]=y[L+60|0],U(i,c+576|0,1,1116,0)}if(i=e[o+8>>2],r=e[i+124>>2],j=j+1|0,!(j>>>0<e[i+128>>2]-r>>2>>>0))break}xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(e[r+104>>2]!=e[r+100>>2]){if(_l(o,2),i=e[o+8>>2],Oe(e[o>>2],e[i+104>>2]-e[i+100>>2]>>2,7348),i=e[o+8>>2],r=e[i+100>>2],(r|0)!=e[i+104>>2])for(i=0;;){p=e[(i<<2)+r>>2],n=e[o>>2],r=e[n+12>>2],r&&(e[c+324>>2]=i,e[c+320>>2]=10454,ee(r,29506,c+320|0),n=e[o>>2]),a=e[p+4>>2],r=y[p+15|0],g=r<<24>>24<0,r=g?e[p+8>>2]:r,Oe(n,r,12686),U(n,g?a:p+4|0,r,15034,1),a=e[p+16>>2],r=y[p+27|0],g=r<<24>>24<0,n=e[o>>2],r=g?e[p+20>>2]:r,Oe(n,r,12686),U(n,g?a:p+16|0,r,15064,1),r=e[o>>2],S[c+576|0]=e[p+28>>2],U(r,c+576|0,1,15850,0);n:{s:switch(e[p+28>>2]){case 0:Oe(e[o>>2],ko(e[o+8>>2],p+44|0),1780);break n;case 1:n=e[o>>2],a=e[p+76>>2],r=e[p+72>>2],e[c+304>>2]=r,e[c+308>>2]=a,e[c+576>>2]=r,e[c+580>>2]=a,D2(n,c+304|0),w8(e[o>>2],p+48|0);break n;case 2:w8(e[o>>2],p+48|0);break n;case 3:n=e[o>>2],a=e[p+48>>2],r=e[p+44>>2],e[c+312>>2]=r,e[c+316>>2]=a,e[c+576>>2]=r,e[c+580>>2]=a,D2(n,c+312|0),r=e[o>>2],S[c+400|0]=y[p+52|0],U(r,c+400|0,1,1098,0);break n;case 4:break s;default:break n}r=e[o>>2],S[c+576|0]=0,U(r,c+576|0,1,13727,0),Oe(e[o>>2],ko(e[o+8>>2],p+44|0),1858)}if(n=e[o+8>>2],r=e[n+100>>2],i=i+1|0,!(i>>>0<e[n+104>>2]-r>>2>>>0))break}xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(n=e[r+80>>2]-e[r+76>>2]>>2,i=e[r+48>>2],L=n-i|0,p=(i|0)==(n|0),!p){for(_l(o,3),Oe(e[o>>2],L,7483),r=0;i=e[o+8>>2],n=e[e[i+76>>2]+(e[i+48>>2]+r<<2)>>2],e[c+288>>2]=r,i=c+576|0,Bs(i,100,1878,c+288|0),Oe(e[o>>2],ko(e[o+8>>2],n+12|0),i),r=r+1|0,(L|0)!=(r|0););xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(n=e[r+140>>2]-e[r+136>>2]>>2,i=e[r+52>>2],(n|0)!=(i|0)){for(_l(o,4),a=n-i|0,Oe(e[o>>2],a,7874),r=0;i=e[o+8>>2],_=e[e[i+136>>2]+(e[i+52>>2]+r<<2)>>2],n=e[o>>2],i=e[n+12>>2],i&&(e[c+276>>2]=r,e[c+272>>2]=15348,ee(i,29506,c+272|0),n=e[o>>2]),g=e[_+44>>2],i=e[_+40>>2],e[c+264>>2]=i,e[c+268>>2]=g,e[c+576>>2]=i,e[c+580>>2]=g,D2(n,c+264|0),w8(e[o>>2],_+16|0),r=r+1|0,(a|0)!=(r|0););xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(n=e[r+164>>2]-e[r+160>>2]>>2,i=e[r+56>>2],(n|0)!=(i|0)){for(_l(o,5),g=n-i|0,Oe(e[o>>2],g,7885),r=0;i=e[o+8>>2],a=e[e[i+160>>2]+(e[i+56>>2]+r<<2)>>2],i=e[o>>2],n=e[i+12>>2],n&&(e[c+260>>2]=r,e[c+256>>2]=1137,ee(n,29506,c+256|0),i=e[o>>2]),w8(i,a+16|0),r=r+1|0,(g|0)!=(r|0););xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(n=e[r+68>>2]-e[r+64>>2]>>2,i=e[r+44>>2],(n|0)!=(i|0)){for(_l(o,13),a=n-i|0,Oe(e[o>>2],a,6246),r=0;i=e[o>>2],n=e[i+12>>2],n&&(e[c+244>>2]=r,e[c+240>>2]=13136,ee(n,29506,c+240|0),i=e[o>>2]),n=e[o+8>>2],n=e[e[n+64>>2]+(e[n+44>>2]+r<<2)>>2],S[c+576|0]=0,U(i,c+576|0,1,13727,0),Oe(e[o>>2],ko(e[o+8>>2],n+12|0),1858),r=r+1|0,(a|0)!=(r|0););xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(n=e[r+92>>2]-e[r+88>>2]>>2,i=e[r+60>>2],(n|0)!=(i|0)){for(_l(o,6),a=n-i|0,Oe(e[o>>2],a,7635),r=0;n=e[o>>2],i=e[o+8>>2],_=e[e[i+88>>2]+(e[i+60>>2]+r<<2)>>2],g=e[_+12>>2],i=e[_+16>>2],e[c+232>>2]=g,e[c+236>>2]=i,e[c+576>>2]=g,e[c+580>>2]=i,D2(n,c+232|0),i=e[o>>2],S[c+400|0]=y[_+20|0],U(i,c+400|0,1,1098,0),Da(o,0,_+24|0),wt(e[o>>2],10),r=r+1|0,(a|0)!=(r|0););xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}if(e[r+116>>2]!=e[r+112>>2]){if(_l(o,7),i=e[o+8>>2],Oe(e[o>>2],e[i+116>>2]-e[i+112>>2]>>2,7336),r=e[o+8>>2],i=e[r+112>>2],g=e[r+116>>2],(i|0)!=(g|0))for(;;){v=e[i>>2],a=e[v>>2],r=y[v+11|0],_=r<<24>>24<0,n=e[o>>2],r=_?e[v+4>>2]:r,Oe(n,r,12686),U(n,_?a:v,r,14900,1),r=e[o>>2],S[c+576|0]=e[v+12>>2],U(r,c+576|0,1,15838,0);n:{s:switch(e[v+12>>2]){case 0:r=T2(e[o+8>>2],v+16|0),Oe(e[o>>2],r,2142);break n;case 1:r=no(e[o+8>>2],v+16|0),Oe(e[o>>2],r,1930);break n;case 2:r=Ys(e[o+8>>2],v+16|0),Oe(e[o>>2],r,1406);break n;case 3:r=Wh(e[o+8>>2],v+16|0),Oe(e[o>>2],r,1695);break n;case 4:break s;default:break n}r=_p(e[o+8>>2],v+16|0),Oe(e[o>>2],r,1763)}if(i=i+4|0,(g|0)==(i|0))break}xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,r=e[o+8>>2]}i=e[r+184>>2];n:{if((i|0)==e[r+188>>2]||(i=T2(r,e[i>>2]),(i|0)==-1))break n;_l(o,8),Oe(e[o>>2],i,2160),xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1}if(i=e[o+8>>2],e[i+152>>2]!=e[i+148>>2]){if(_l(o,9),i=e[o+8>>2],Oe(e[o>>2],e[i+152>>2]-e[i+148>>2]>>2,7360),i=e[o+8>>2],r=e[i+148>>2],(r|0)!=e[i+152>>2])for(M=0;;){g=e[(M<<2)+r>>2],n=g,r=e[e[o>>2]+12>>2],r&&(e[c+228>>2]=M,e[c+224>>2]=10468,ee(r,29506,c+224|0),i=e[o+8>>2]),r=jT(n,i),i=e[o>>2],S[c+576|0]=r,U(i,c+576|0,1,7689,0),!(r&2)|e[g>>2]==2||Oe(e[o>>2],no(e[o+8>>2],g+16|0),2106),r&1||(Da(o,0,g+60|0),wt(e[o>>2],10)),i=r&4;n:{if(!(r&3))break n;if(a=e[o>>2],i){if(r=e[g+56>>2],n=e[g+52>>2],Rn(a,n,13957),i=1,(n|0)!=-21)break n;Rn(a,r,13957);break n}i=0,S[c+576|0]=0,U(a,c+576|0,1,13977,0)}Oe(e[o>>2],(e[g+76>>2]-e[g+72>>2]|0)/12|0,7591),_=e[g+76>>2],r=e[g+72>>2];n:{if(i){if((r|0)==(_|0))break n;for(;;){Da(o,0,r),g=e[o>>2],e[c+400>>2]=10,xe(c+576|0,c+400|0);s:{if(y[c+624|0]){a=c+576|0,n=c+400|0,xe(a,n),S[c+576|0]=y[c+624|0],U(g,a,1,1374,0),xe(a,n),i=e[c+628>>2],xe(a,n),Oe(g,i,e[c+576>>2]);break s}a=c+576|0,i=c+400|0,xe(a,i),n=e[c+628>>2],xe(a,i),i=e[c+576>>2],S[c+576|0]=n,U(g,a,1,i,0)}if(r=r+12|0,(_|0)==(r|0))break}break n}if((r|0)==(_|0))break n;for(;Oe(e[o>>2],T2(e[o+8>>2],e[r>>2]+36|0),1514),r=r+12|0,(_|0)!=(r|0););}if(i=e[o+8>>2],r=e[i+148>>2],M=M+1|0,!(M>>>0<e[i+152>>2]-r>>2>>>0))break}xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1}n:{if(!y[e[o+4>>2]+9|0]||(i=e[o+8>>2],e[i+176>>2]==e[i+172>>2]))break n;e[o+124>>2]=e[e[o>>2]+4>>2],_l(o,12),i=e[o+8>>2],Oe(e[o>>2],e[i+176>>2]-e[i+172>>2]>>2,6381),xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,e[o+128>>2]=e[e[o>>2]+4>>2]}if(!p){for(e[o+120>>2]=e[e[o>>2]+4>>2],_l(o,10),Oe(e[o>>2],L,7483),j=0;;){i=e[o+8>>2],n=e[i+48>>2]+j|0,e[o+160>>2]=n,r=e[o>>2],a=e[r+12>>2],a&&(e[c+212>>2]=j,e[c+208>>2]=1297,ee(a,29506,c+208|0),r=e[o>>2],n=e[o+160>>2],i=e[o+8>>2]),p=e[e[i+76>>2]+(n<<2)>>2],i=y[e[o+4>>2]+17|0],S[c+580|0]=0,e[c+576>>2]=0,_=e[r+4>>2],U(r,c+576|0,i?1:5,27571,0),e[o+156>>2]=e[e[o>>2]+4>>2];n:{if(!G0(p+116|0)){Oe(e[o>>2],0,6204);break n}if(Oe(e[o>>2],(e[p+120>>2]-e[p+116>>2]|0)/12|0,6204),r=e[p+116>>2],a=e[p+120>>2],(r|0)==(a|0))break n;for(;;){n=e[r>>2],i=e[r+4>>2],Oe(e[o>>2],e[r+8>>2],6281),g=e[o>>2],e[c+400>>2]=n,e[c+404>>2]=i,i=c+576|0,ci(i,c+400|0),Rn(g,n,S[c+587|0]<0?e[c+576>>2]:i),S[c+587|0]<0&&P(e[c+576>>2]);s:{if(e[c+400>>2]!=-21||(n=e[c+404>>2],i=c+576|0,ci(i,c+400|0),Rn(g,n,S[c+587|0]<0?e[c+576>>2]:i),S[c+587|0]>=0))break s;P(e[c+576>>2])}if(r=r+12|0,(a|0)==(r|0))break}}Da(o,p,p+148|0),wt(e[o>>2],10),p=e[o+104>>2],i=e[e[o>>2]+4>>2],g=xn(o,_,1,13340);n:{if(!g||(n=e[o+84>>2],!n)||(r=e[n+8>>2],a=e[n+12>>2],(r|0)==(a|0)))break n;for(n=_-p|0,i=i-p|0;p=e[r+4>>2],p>>>0<n>>>0|i>>>0<p>>>0||(e[r+4>>2]=p+g),r=r+16|0,(a|0)!=(r|0););}if(j=j+1|0,(L|0)==(j|0))break}xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1}n:{if(!y[e[o+4>>2]+9|0]||(i=e[o+8>>2],y[o+132|0]|e[i+176>>2]==e[i+172>>2]))break n;r=e[o>>2],n=e[r+4>>2],g=e[o+128>>2],a=n-g|0,i=e[o+124>>2],(n|0)!=(g|0)&&(C5(r,i,g,a),i=e[o+124>>2],e[o+120>>2]=i,r=e[o>>2]),a=i+a|0,n=b-16|0,b=n;s:{if(e[r+8>>2]==1||(i=e[r+12>>2],i&&(e[n+4>>2]=a,e[n>>2]=a,ee(i,29536,n)),i=F[e[e[r>>2]+20>>2]](r,a)|0,e[r+8>>2]=i,a>>>0>=nt[r+4>>2]|i))break s;e[r+4>>2]=a}if(b=n+16|0,i=e[o+88>>2],a=i-1|0,e[o+88>>2]=a,r=e[o+72>>2],n=e[o+76>>2],(r|0)==(n|0))break n;for(i=i-2|0;(a|0)==e[r+4>>2]&&(e[r+4>>2]=i),r=r+20|0,(n|0)!=(r|0););}i=e[o+148>>2];n:{if(!i)break n;if(a=e[o+88>>2]-1|0,e[o+88>>2]=a,r=e[o+72>>2],n=e[o+76>>2],(r|0)!=(n|0))for(i=i+a|0;(a|0)==e[r+4>>2]&&(e[r+4>>2]=i),r=r+20|0,(n|0)!=(r|0););if(se=Ph(c+576|0,0),V=e[o>>2],e[o>>2]=se,j=e[o+144>>2],j)for(p=y[26447]|y[26448]<<8|(y[26449]<<16|y[26450]<<24),g=y[26451]|y[26452]<<8|(y[26453]<<16|y[26454]<<24),n=y[26453]|y[26454]<<8|(y[26455]<<16|y[26456]<<24),i=y[26457]|y[26458]<<8|(y[26459]<<16|y[26460]<<24);;){if(r=Z(16),e[c+400>>2]=r,e[c+404>>2]=14,e[c+408>>2]=-2147483632,S[r+14|0]=0,S[r+6|0]=n,S[r+7|0]=n>>>8,S[r+8|0]=n>>>16,S[r+9|0]=n>>>24,S[r+10|0]=i,S[r+11|0]=i>>>8,S[r+12|0]=i>>>16,S[r+13|0]=i>>>24,S[r|0]=p,S[r+1|0]=p>>>8,S[r+2|0]=p>>>16,S[r+3|0]=p>>>24,S[r+4|0]=g,S[r+5|0]=g>>>8,S[r+6|0]=g>>>16,S[r+7|0]=g>>>24,r=c+400|0,Mn(r,e[j+8>>2],e[j+12>>2]),g8(o,S[c+411|0]<0?e[c+400>>2]:r),Oe(e[o>>2],e[j+20>>2]-e[j+16>>2]>>4,6071),a=e[j+16>>2],v=e[j+20>>2],(a|0)!=(v|0))for(;;){r=e[a>>2];s:{if(y[e[o+4>>2]+18|0]){rr(o,0,r),Kc(e[o>>2],r,1565);break s}Oe(e[o>>2],r,1565)}if(Oe(e[o>>2],e[a+8>>2]-e[a+4>>2]>>4,6044),r=e[a+4>>2],L=e[a+8>>2],(r|0)!=(L|0))for(;Oe(e[o>>2],e[r>>2],6919),Oe(e[o>>2],e[r+8>>2]-e[r+4>>2]|0,12700),_=e[r+4>>2],U(e[o>>2],_,e[r+8>>2]-_|0,24424,1),r=r+16|0,(L|0)!=(r|0););if(a=a+16|0,(v|0)==(a|0))break}if(xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,S[c+411|0]<0&&P(e[c+400>>2]),j=e[j>>2],!j)break}if(e[o>>2]=V,n=Bh(se),i=e[o>>2],r=e[o+120>>2],C5(i,(r+e[n+4>>2]|0)-e[n>>2]|0,r,e[i+4>>2]-r|0),i=e[n>>2],L5(e[o>>2],e[o+120>>2],i,e[n+4>>2]-i|0,0),QR(e[o>>2],e[n+4>>2]-e[n>>2]|0),r=e[n>>2],i=e[n+4>>2],e[o+100>>2]=10,e[o+88>>2]=e[o+88>>2]+1,e[o+120>>2]=e[o+120>>2]+(i-r|0),r&&(e[n+4>>2]=r,P(r)),P(n),e[se>>2]=48944,r=e[se+16>>2],e[se+16>>2]=0,!r)break n;i=e[r>>2],i&&(e[r+4>>2]=i,P(i)),P(r)}if(i=e[o+8>>2],e[i+176>>2]!=e[i+172>>2]){if(_l(o,11),i=e[o+8>>2],Oe(e[o>>2],e[i+176>>2]-e[i+172>>2]>>2,7378),n=e[o+8>>2],r=e[n+172>>2],(r|0)!=e[n+176>>2])for(i=0;;){if(p=e[(i<<2)+r>>2],r=e[e[o>>2]+12>>2],r&&(e[c+196>>2]=i,e[c+192>>2]=10488,ee(r,29506,c+192|0),n=e[o+8>>2]),r=e[p>>2]==1,n=di(n+316|0,p+16|0)?r|2:r,r=e[o>>2],S[c+576|0]=n,U(r,c+576|0,1,7689,0),n&1||(!(n&2)|!y[e[o+4>>2]+15|0]||Oe(e[o>>2],Ys(e[o+8>>2],p+16|0),2352),Da(o,0,p+52|0),wt(e[o>>2],10)),Oe(e[o>>2],e[p+68>>2]-e[p+64>>2]|0,13361),n=e[o>>2],r=e[n+12>>2],r&&(e[c+180>>2]=i,e[c+176>>2]=24397,ee(r,29506,c+176|0),n=e[o>>2]),a=e[p+68>>2],r=e[p+64>>2],(a|0)!=(r|0)){if(r=a-r|0,(r|0)<0)break t;g=Z(r),r=e[p+64>>2],a=e[p+68>>2]-r|0,(a|0)>0&&U(n,Ce(g,r,a),a,24397,0),P(g)}if(n=e[o+8>>2],r=e[n+172>>2],i=i+1|0,!(i>>>0<e[n+176>>2]-r>>2>>>0))break}xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1}if(i=e[o+4>>2],y[i+19|0]){e[c+552>>2]=0,e[c+556>>2]=0,i=0,e[c+560>>2]=0,g8(o,15087),a=e[o+8>>2],r=y[a+31|0],(r<<24>>24<0?e[a+24>>2]:r)&&(Oe(e[o>>2],0,14353),e[o+112>>2]=1,n=y[e[o+4>>2]+17|0],a=e[o>>2],S[c+580|0]=0,e[c+576>>2]=0,r=e[a+4>>2],U(a,c+576|0,n?1:5,27594,0),e[o+108>>2]=r,p=e[o>>2],e[o+116>>2]=e[p+4>>2],_=e[o+8>>2],n=e[_+20>>2],r=S[_+31|0],g=(r|0)<0,a=g?e[_+24>>2]:r&255,r=a?a-1|0:0,Oe(p,r,12686),U(p,((a|0)!=0)+(g?n:_+20|0)|0,r,15041,1),xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,a=e[o+8>>2]),r=e[a+76>>2],g=e[a+80>>2];n:{if((r|0)==(g|0))break n;for(;n=e[r>>2],p=y[n+11|0],i=(((p<<24>>24<0?e[n+4>>2]:p)|0)!=0)+i|0,r=r+4|0,(g|0)!=(r|0););if(!i)break n;if(Oe(e[o>>2],1,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],n=0,S[c+580|0]=0,e[c+576>>2]=0,r=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=r,r=e[o>>2],e[o+116>>2]=e[r+4>>2],Oe(r,i,7864),i=e[a+76>>2],M=e[a+80>>2],(i|0)!=(M|0))for(;v=e[(n<<2)+i>>2],r=y[v+11|0],(r<<24>>24<0?e[v+4>>2]:r)&&(Oe(e[o>>2],n,1618),e[c+160>>2]=n,p=c+576|0,Bs(p,100,15718,c+160|0),g=e[v>>2],i=y[v+11|0],L=i<<24>>24<0,r=e[o>>2],_=L?e[v+4>>2]:i,i=_?_-1|0:0,Oe(r,i,12686),U(r,((_|0)!=0)+(L?g:v)|0,i,p,1),M=e[a+80>>2],i=e[a+76>>2]),n=n+1|0,n>>>0<M-i>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0}if(Oe(e[o>>2],2,14337),e[o+112>>2]=1,r=y[e[o+4>>2]+17|0],n=e[o>>2],S[c+580|0]=0,e[c+576>>2]=0,i=e[n+4>>2],U(n,c+576|0,r?1:5,27594,0),e[o+108>>2]=i,i=e[o>>2],e[o+116>>2]=e[i+4>>2],r=i,i=e[o+8>>2],Oe(r,e[i+80>>2]-e[i+76>>2]>>2,7483),i=e[o+8>>2],r=e[i+76>>2],(r|0)!=e[i+80>>2])for(a=0;;){if(i=e[(a<<2)+r>>2],v=(e[i+56>>2]-e[i+52>>2]>>3)+G0(i+116|0)|0,$_(v,i+128|0,c+552|0),i=0,n=0,r=e[c+552>>2],p=e[c+556>>2],(r|0)!=(p|0))for(;;){n:{if(S[r+11|0]>=0){e[c+584>>2]=e[r+8>>2],g=e[r+4>>2],e[c+576>>2]=e[r>>2],e[c+580>>2]=g;break n}Ni(c+576|0,e[r>>2],e[r+4>>2])}if(g=y[c+587|0],_=g<<24>>24,se=(_|0)<0,g=((se?e[c+580>>2]:g)|0)!=0,se&&P(e[c+576>>2]),n=n+g|0,r=r+12|0,(p|0)==(r|0))break}if(Oe(e[o>>2],a,1565),Oe(e[o>>2],n,7624),v)for(;V=e[c+552>>2]+H(i,12)|0,r=y[V+11|0],(r<<24>>24<0?e[V+4>>2]:r)&&(e[c+144>>2]=i,p=c+400|0,Bs(p,100,15732,c+144|0),Oe(e[o>>2],i,1683),g=e[V>>2],r=y[V+11|0],L=r<<24>>24<0,n=e[o>>2],_=L?e[V+4>>2]:r,r=_?_-1|0:0,Oe(n,r,12686),U(n,((_|0)!=0)+(L?g:V)|0,r,p,1)),i=i+1|0,(v|0)!=(i|0););if(i=e[o+8>>2],r=e[i+76>>2],a=a+1|0,!(a>>>0<e[i+80>>2]-r>>2>>>0))break}xn(o,e[o+108>>2],e[o+112>>2],13379),n=0,e[o+112>>2]=0,r=e[o+8>>2],i=e[r+124>>2],g=e[r+128>>2];n:{if((i|0)==(g|0))break n;for(;a=e[i>>2],p=y[a+35|0],n=(((p<<24>>24<0?e[a+28>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],4,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+124>>2],M=e[r+128>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+35|0],(a<<24>>24<0?e[v+28>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+128>>2]=i,p=c+576|0,Bs(p,100,15718,c+128|0),g=e[v+24>>2],n=y[v+35|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+28>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v+24|0)|0,n,p,1),M=e[r+128>>2],n=e[r+124>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,r=e[o+8>>2]}i=e[r+136>>2],g=e[r+140>>2];n:{if((i|0)==(g|0))break n;for(n=0;a=e[i>>2],p=y[a+11|0],n=(((p<<24>>24<0?e[a+4>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],5,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+136>>2],M=e[r+140>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+11|0],(a<<24>>24<0?e[v+4>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+112>>2]=i,p=c+576|0,Bs(p,100,15718,c+112|0),g=e[v>>2],n=y[v+11|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+4>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v)|0,n,p,1),M=e[r+140>>2],n=e[r+136>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,r=e[o+8>>2]}i=e[r+160>>2],g=e[r+164>>2];n:{if((i|0)==(g|0))break n;for(n=0;a=e[i>>2],p=y[a+11|0],n=(((p<<24>>24<0?e[a+4>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],6,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+160>>2],M=e[r+164>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+11|0],(a<<24>>24<0?e[v+4>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+96>>2]=i,p=c+576|0,Bs(p,100,15718,c+96|0),g=e[v>>2],n=y[v+11|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+4>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v)|0,n,p,1),M=e[r+164>>2],n=e[r+160>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,r=e[o+8>>2]}i=e[r+88>>2],g=e[r+92>>2];n:{if((i|0)==(g|0))break n;for(n=0;a=e[i>>2],p=y[a+11|0],n=(((p<<24>>24<0?e[a+4>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],7,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+88>>2],M=e[r+92>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+11|0],(a<<24>>24<0?e[v+4>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+80>>2]=i,p=c+576|0,Bs(p,100,15718,c+80|0),g=e[v>>2],n=y[v+11|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+4>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v)|0,n,p,1),M=e[r+92>>2],n=e[r+88>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,r=e[o+8>>2]}i=e[r+148>>2],g=e[r+152>>2];n:{if((i|0)==(g|0))break n;for(n=0;a=e[i>>2],p=y[a+15|0],n=(((p<<24>>24<0?e[a+8>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],8,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+148>>2],M=e[r+152>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+15|0],(a<<24>>24<0?e[v+8>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+64>>2]=i,p=c+576|0,Bs(p,100,15718,c- -64|0),g=e[v+4>>2],n=y[v+15|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+8>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v+4|0)|0,n,p,1),M=e[r+152>>2],n=e[r+148>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,r=e[o+8>>2]}i=e[r+172>>2],g=e[r+176>>2];n:{if((i|0)==(g|0))break n;for(n=0;a=e[i>>2],p=y[a+15|0],n=(((p<<24>>24<0?e[a+8>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],9,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+172>>2],M=e[r+176>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+15|0],(a<<24>>24<0?e[v+8>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+48>>2]=i,p=c+576|0,Bs(p,100,15718,c+48|0),g=e[v+4>>2],n=y[v+15|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+8>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v+4|0)|0,n,p,1),M=e[r+176>>2],n=e[r+172>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0,r=e[o+8>>2]}i=e[r+64>>2],g=e[r+68>>2];n:{if((i|0)==(g|0))break n;for(n=0;a=e[i>>2],p=y[a+11|0],n=(((p<<24>>24<0?e[a+4>>2]:p)|0)!=0)+n|0,i=i+4|0,(g|0)!=(i|0););if(!n)break n;if(Oe(e[o>>2],10,14058),e[o+112>>2]=1,g=y[e[o+4>>2]+17|0],p=e[o>>2],i=0,S[c+580|0]=0,e[c+576>>2]=0,a=e[p+4>>2],U(p,c+576|0,g?1:5,27594,0),e[o+108>>2]=a,a=e[o>>2],e[o+116>>2]=e[a+4>>2],Oe(a,n,7864),n=e[r+64>>2],M=e[r+68>>2],(n|0)!=(M|0))for(;v=e[(i<<2)+n>>2],a=y[v+11|0],(a<<24>>24<0?e[v+4>>2]:a)&&(Oe(e[o>>2],i,1618),e[c+32>>2]=i,p=c+576|0,Bs(p,100,15718,c+32|0),g=e[v>>2],n=y[v+11|0],L=n<<24>>24<0,a=e[o>>2],_=L?e[v+4>>2]:n,n=_?_-1|0:0,Oe(a,n,12686),U(a,((_|0)!=0)+(L?g:v)|0,n,p,1),M=e[r+68>>2],n=e[r+64>>2]),i=i+1|0,i>>>0<M-n>>2>>>0;);xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0}if(xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,i=e[c+552>>2],i){if(r=e[c+556>>2],n=i,(r|0)!=(i|0)){for(;r=r-12|0,S[r+11|0]<0&&P(e[r>>2]),(i|0)!=(r|0););n=e[c+552>>2]}e[c+556>>2]=i,P(n)}i=e[o+4>>2]}n:{if(!y[i+18|0])break n;if(g8(o,12833),Oe(e[o>>2],2,11439),e[o+16>>2]!=e[o+12>>2]){if(i=e[o>>2],S[c+576|0]=8,n=c+576|0,U(i,n,1,15341,0),e[o+112>>2]=1,r=y[e[o+4>>2]+17|0],a=e[o>>2],S[c+580|0]=0,e[c+576>>2]=0,i=e[a+4>>2],U(a,n,r?1:5,27594,0),e[o+108>>2]=i,i=e[o>>2],e[o+116>>2]=e[i+4>>2],Oe(i,e[o+16>>2]-e[o+12>>2]>>5,7612),r=e[o+12>>2],g=e[o+16>>2],(r|0)!=(g|0))for(;;){i=e[o>>2],S[c+576|0]=e[r>>2],U(i,c+576|0,1,14140,0),Oe(e[o>>2],y[r+12|0],7713);s:{r:switch(e[r>>2]){case 0:if(Oe(e[o>>2],e[r+16>>2],1565),(y[r+12|0]&80)==16)break s;n=e[r+4>>2],a=e[o>>2],i=e[r+8>>2],Oe(a,i,12686),U(a,n,i,14937,1);break s;case 1:if(n=e[r+4>>2],a=e[o>>2],i=e[r+8>>2],Oe(a,i,12686),U(a,n,i,15082,1),y[r+12|0]&16)break s;Oe(e[o>>2],e[r+16>>2],2214),Oe(e[o>>2],e[r+20>>2],6956),Oe(e[o>>2],e[r+24>>2],13525);break s;case 2:if(Oe(e[o>>2],e[r+16>>2],1750),(y[r+12|0]&80)==16)break s;n=e[r+4>>2],a=e[o>>2],i=e[r+8>>2],Oe(a,i,12686),U(a,n,i,15e3,1);break s;case 3:Oe(e[o>>2],e[r+16>>2],1586);break s;case 4:if(Oe(e[o>>2],e[r+16>>2],1770),(y[r+12|0]&80)==16)break s;n=e[r+4>>2],a=e[o>>2],i=e[r+8>>2],Oe(a,i,12686),U(a,n,i,15012,1);break s;case 5:break r;default:break s}if(Oe(e[o>>2],e[r+16>>2],2106),(y[r+12|0]&80)==16)break s;n=e[r+4>>2],a=e[o>>2],i=e[r+8>>2],Oe(a,i,12686),U(a,n,i,15053,1)}if(r=r+32|0,(g|0)==(r|0))break}xn(o,e[o+108>>2],e[o+112>>2],13379),e[o+112>>2]=0}if(xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,M=e[o+72>>2],p=e[o+76>>2],(M|0)==(p|0))break n;for(g=e[14179];;){if(e[c+20>>2]=e[M>>2],e[c+16>>2]=24166,i=c+576|0,Bs(i,128,9488,c+16|0),g8(o,i),Oe(e[o>>2],e[M+4>>2],1580),Oe(e[o>>2],e[M+12>>2]-e[M+8>>2]>>4,7915),r=e[M+8>>2],a=e[M+12>>2],(r|0)!=(a|0))for(;;){Oe(e[o>>2],e[r>>2],14409),Oe(e[o>>2],e[r+4>>2],6943),Oe(e[o>>2],e[r+8>>2],2130);s:{r:{if(_=e[r>>2],n=_>>>0>22,!n){if(i=1<<_,i&6540088)break r;if(i&1840327)break s}e[c>>2]=n?25075:e[(_<<2)+58480>>2],up(g,28961,c);break s}Oe(e[o>>2],e[r+12>>2],15879)}if(r=r+16|0,(a|0)==(r|0))break}if(xn(o,e[o+92>>2],e[o+96>>2],13401),e[o+96>>2]=0,e[o+88>>2]=e[o+88>>2]+1,M=M+20|0,(p|0)==(M|0))break}}i=e[e[o>>2]+8>>2]}b=c+704|0;break e}Be(),Ie()}if(p=i,a=e[x+152>>2],a)for(;;){if(g=e[a>>2],v=e[a+16>>2],v){if(i=e[a+20>>2],n=v,(i|0)!=(n|0)){for(;;){if(_=i-16|0,L=e[_+4>>2],L){if(r=L,V=i-8|0,n=e[V>>2],(r|0)!=(n|0)){for(;i=n-16|0,r=e[i+4>>2],r&&(e[n-8>>2]=r,P(r)),n=i,(i|0)!=(L|0););r=e[_+4>>2]}e[V>>2]=L,P(r)}if(i=_,(v|0)==(i|0))break}n=e[a+16>>2]}e[a+20>>2]=v,P(n)}if(P(a),a=g,!a)break}if(i=e[x+144>>2],e[x+144>>2]=0,i&&P(i),r=e[x+80>>2],r){if(n=e[x+84>>2],i=r,(n|0)!=(r|0)){for(;i=n-20|0,a=e[i+8>>2],a&&(e[n-8>>2]=a,P(a)),n=i,(i|0)!=(r|0););i=e[x+80>>2]}e[x+84>>2]=r,P(i)}return F5(De,e[x+72>>2]),i=e[x+56>>2],i&&(e[x+60>>2]=i,P(i)),i=e[x+44>>2],i&&(e[x+48>>2]=i,P(i)),i=e[x+32>>2],i&&(e[x+36>>2]=i,P(i)),i=e[x+20>>2],i&&(e[x+24>>2]=i,P(i)),b=x+176|0,p}function XE(i){var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0;p=b-624|0,b=p;e:{se=e[i+312>>2],x=e[se+32>>2];t:{if(!x)break t;for(v=i+16|0;;){i:{if(e[x+32>>2]!=4)break i;n:{s:{r:{l:switch(r=e[x+36>>2],e[r+36>>2]){case 2:break s;case 1:break r;case 0:break l;default:break i}_=x+12|0,X=e[r+40>>2],n=e[r+44>>2]-X>>3,De=e[r+52>>2],g=e[r+56>>2]-De>>3,He=jk(se,r+40|0),a=0,V=0,L=0,M=0,o=0,c=0;l:{if(g>>>0<2||(c=0,y[v+7|0]))break l;c=(Ye(v,_,26497,0)|0)==1}pe=e[v+120>>2],e[v+120>>2]=pe+1,j=0;l:{if(n){if((n|0)<0)break e;r=n<<3,j=Z(r),a=Ce(j,X,r)+r|0}if(n=0,_=0,g){if((g|0)<0)break e;r=g<<3,_=Z(r),n=Ce(_,De,r)+r|0}if(X=0,(a|0)!=(j|0)){if(r=a-j|0,(r|0)<0)break e;X=Z(r),a=Ce(X,j,r),M=a+r|0,L=a+(r>>3<<3)|0}if((n|0)==(_|0))g=0;else{if(r=n-_|0,(r|0)<0)break e;V=Z(r),n=Ce(V,_,r),o=n+r|0,g=n+(r>>3<<3)|0}a=v+128|0,r=a;u:{a:{n=e[v+128>>2];c:{if(!n)break c;for(;;){if(r=n,n=e[r+16>>2],n>>>0>pe>>>0){if(a=r,n=e[r>>2],n)continue;break c}if(n>>>0>=pe>>>0)break a;if(n=e[r+4>>2],!n)break}a=r+4|0}n=Z(48),e[n+16>>2]=pe,e[n+8>>2]=r,e[n>>2]=0,e[n+4>>2]=0,e[n+44>>2]=He,e[n+40>>2]=g,e[n+36>>2]=o,e[n+32>>2]=V,e[n+28>>2]=L,e[n+24>>2]=M,e[n+20>>2]=X,e[a>>2]=n,r=e[e[v+124>>2]>>2],r&&(e[v+124>>2]=r,n=e[a>>2]),_2(e[v+128>>2],n),e[v+132>>2]=e[v+132>>2]+1;break u}if(V&&P(V),!X)break u;P(X)}_&&P(_),j&&P(j);break l}e[i+316>>2]=e[i+316>>2]==1|(c|0)==1;break i}if(n=0,g=0,a=0,L=e[r+40>>2],X=e[r+44>>2],(L|0)==(X|0))break n;for(;;){V=y[L+20|0],M=e[L+12>>2],j=e[L+16>>2];r:{if(a>>>0>g>>>0){S[g+8|0]=V,e[g>>2]=M,e[g+4>>2]=j,g=g+12|0;break r}if(c=g-n|0,o=(c|0)/12|0,r=o+1|0,r>>>0>=357913942)break e;if(a=(a-n|0)/12|0,_=a<<1,_=a>>>0<178956970?r>>>0<_>>>0?_:r:357913941,_){if(_>>>0>=357913942)break e;a=Z(H(_,12))}else a=0;o=a+H(o,12)|0,S[o+8|0]=V,e[o>>2]=M,e[o+4>>2]=j,r=o+H((c|0)/-12|0,12)|0,(c|0)>0&&Ce(r,n,c),a=a+H(_,12)|0,g=o+12|0,n&&P(n),n=r}if(L=L+24|0,(X|0)==(L|0))break}break n}n=e[r+56>>2],a=e[r+52>>2],e[p+608>>2]=a,e[p+612>>2]=n,S[p+616|0]=y[r+60|0],e[p+96>>2]=e[p+616>>2],e[p+88>>2]=a,e[p+92>>2]=n,o=e[v+120>>2],e[v+120>>2]=o+1,a=v+152|0,r=a,n=e[v+152>>2];s:{r:{if(!n)break r;for(;;){if(r=n,n=e[r+16>>2],n>>>0>o>>>0){if(a=r,n=e[r>>2],n)continue;break r}if(n>>>0>=o>>>0)break s;if(n=e[r+4>>2],!n)break}a=r+4|0}n=Z(32),e[n+16>>2]=o,o=e[p+92>>2],e[n+20>>2]=e[p+88>>2],e[n+24>>2]=o,e[n+28>>2]=e[p+96>>2],e[n+8>>2]=r,e[n>>2]=0,e[n+4>>2]=0,e[a>>2]=n,r=e[e[v+148>>2]>>2],r&&(e[v+148>>2]=r,n=e[a>>2]),_2(e[v+152>>2],n),e[v+156>>2]=e[v+156>>2]+1}e[i+316>>2]=e[i+316>>2]==1;break i}L=0,M=0,V=0,_=e[v+120>>2],e[v+120>>2]=_+1;n:{if(r=(g-n|0)/12|0,r){if(r>>>0>=357913942)break e;r=H(r,12),M=Z(r),Ce(M,n,r),L=Z(r),a=Ce(L,n,r),V=a+H((r>>>0)/12|0,12)|0,c=r+a|0}else c=0;a=v+140|0,r=a;s:{r:{o=e[v+140>>2];l:{if(!o)break l;for(;;){if(r=o,a=e[r+16>>2],a>>>0>_>>>0){if(a=r,o=e[r>>2],o)continue;break l}if(a>>>0>=_>>>0)break r;if(o=e[r+4>>2],!o)break}a=r+4|0}o=Z(32),e[o+16>>2]=_,e[o+8>>2]=r,e[o>>2]=0,e[o+4>>2]=0,e[o+28>>2]=c,e[o+24>>2]=V,e[o+20>>2]=L,e[a>>2]=o,r=e[e[v+136>>2]>>2],r&&(e[v+136>>2]=r,o=e[a>>2]),_2(e[v+140>>2],o),e[v+144>>2]=e[v+144>>2]+1;break s}if(!L)break s;P(L)}M&&P(M);break n}if(e[i+316>>2]=e[i+316>>2]==1,!n)break i;P(n)}if(x=e[x+4>>2],!x)break}if(g=e[se+32>>2],!g)break t;for(n=i+16|0;;){i:{if(e[g+32>>2]!=2)break i;n:{s:{r:{l:{u:switch(r=e[g+36>>2],e[r+28>>2]){case 4:break n;case 3:break s;case 2:break r;case 1:break l;case 0:break u;default:break i}a=g+12|0,o=r+44|0;u:{if(y[o|0]){fe(p+568|0,r+48|0);break u}Ne(p+568|0,ko(e[i+312>>2],o),a)}r=p+568|0,a=fN(n,r),e[i+316>>2]=e[i+316>>2]==1|(a|0)==1,te(r);break i}a=e[r+76>>2],o=e[r+72>>2],e[p+72>>2]=o,e[p+76>>2]=a,e[p+560>>2]=o,e[p+564>>2]=a,r=CN(n,g+12|0,p+72|0,r+48|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1;break i}r=bN(n,g+12|0,r+48|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1;break i}a=e[r+48>>2],o=e[r+44>>2],e[p+552>>2]=o,e[p+556>>2]=a,c=y[r+52|0],e[p+80>>2]=o,e[p+84>>2]=a,r=g+12|0,x=0,y[n+1|0]|!c||(x=(Ye(n,r,16849,0)|0)==1),L=e[p+80>>2],V=e[p+84>>2];s:{r=e[n+200>>2],o=e[n+204>>2];r:{if(r>>>0<o>>>0){S[r+8|0]=c,e[r>>2]=L,e[r+4>>2]=V,e[n+200>>2]=r+12;break r}if(a=e[n+196>>2],_=r-a|0,M=(_|0)/12|0,r=M+1|0,r>>>0>=357913942)break e;if(o=(o-a|0)/12|0,v=o<<1,v=o>>>0<178956970?r>>>0<v>>>0?v:r:357913941,v){if(v>>>0>=357913942)break e;r=Z(H(v,12))}else r=0;if(o=r+H(M,12)|0,S[o+8|0]=c,e[o>>2]=L,e[o+4>>2]=V,c=o+H((_|0)/-12|0,12)|0,(_|0)>0&&Ce(c,a,_),e[n+204>>2]=r+H(v,12),e[n+200>>2]=o+12,e[n+196>>2]=c,!a)break r;P(a)}e[n+236>>2]=e[n+236>>2]+1;break s}e[i+316>>2]=e[i+316>>2]==1|(x|0)==1;break i}a=g+12|0,o=r+44|0;n:{if(y[o|0]){fe(p+512|0,r+48|0);break n}Ne(p+512|0,ko(e[i+312>>2],o),a)}r=p+512|0,a=yN(n,a,r),e[i+316>>2]=e[i+316>>2]==1|(a|0)==1,te(r)}if(g=e[g+4>>2],!g)break}if(g=e[se+32>>2],!g)break t;for(r=i+16|0;;){if(!e[g+32>>2]){n=g+12|0,a=g+48|0;i:{if(y[a|0]){fe(p+472|0,g+52|0);break i}Ne(p+472|0,ko(e[i+312>>2],a),n)}n=p+472|0,a=fN(r,n),e[i+316>>2]=e[i+316>>2]==1|(a|0)==1,te(n)}if(g=e[g+4>>2],!g)break}if(g=e[se+32>>2],!g)break t;for(n=i+16|0;e[g+32>>2]==5&&(r=e[g+84>>2],a=e[g+80>>2],e[p+64>>2]=a,e[p+68>>2]=r,e[p+464>>2]=a,e[p+468>>2]=r,r=CN(n,g+12|0,p- -64|0,g+56|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1),g=e[g+4>>2],!!g;);if(g=e[se+32>>2],!g)break t;for(r=i+16|0;e[g+32>>2]==7&&(n=bN(r,g+12|0,g+56|0),e[i+316>>2]=e[i+316>>2]==1|(n|0)==1),g=e[g+4>>2],!!g;);if(g=e[se+32>>2],!g)break t;for(n=i+16|0;;){i:{if(e[g+32>>2]!=1)break i;r=e[g+52>>2],a=e[g+48>>2],e[p+456>>2]=a,e[p+460>>2]=r,_=y[g+56|0],e[p+56>>2]=a,e[p+60>>2]=r,V=g+12|0,v=e[p+56>>2],L=e[p+60>>2];n:{if(r=e[n+200>>2],o=e[n+204>>2],r>>>0<o>>>0){S[r+8|0]=_,e[r>>2]=v,e[r+4>>2]=L,e[n+200>>2]=r+12;break n}s:{if(a=e[n+196>>2],x=r-a|0,M=(x|0)/12|0,r=M+1|0,r>>>0>=357913942)break s;if(o=(o-a|0)/12|0,c=o<<1,c=o>>>0<178956970?r>>>0<c>>>0?c:r:357913941,c){if(c>>>0>=357913942)break s;r=Z(H(c,12))}else r=0;o=r+H(M,12)|0,S[o+8|0]=_,e[o>>2]=v,e[o+4>>2]=L,_=o+H((x|0)/-12|0,12)|0,(x|0)>0&&Ce(_,a,x),e[n+204>>2]=r+H(c,12),e[n+200>>2]=o+12,e[n+196>>2]=_,a&&P(a);break n}break e}if(e[i+316>>2]=e[i+316>>2]==1,r=e[g+52>>2],a=e[g+48>>2],e[p+48>>2]=a,e[p+52>>2]=r,e[p+448>>2]=a,e[p+452>>2]=r,r=Rk(n,V,p+48|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=Fa(sa(p+392|0,i),g+60|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=p5(n),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=e[p+432>>2],r&&(e[p+436>>2]=r,P(r)),r=e[p+420>>2],r&&(e[p+424>>2]=r,P(r)),r=e[p+408>>2],r&&(e[p+412>>2]=r,P(r)),r=e[p+396>>2],!r)break i;e[p+400>>2]=r,P(r)}if(g=e[g+4>>2],!g)break}if(g=e[se+32>>2],!g)break t;for(n=i+16|0;;){if(e[g+32>>2]==10){r=g+12|0,a=g+48|0;i:{if(y[a|0]){fe(p+352|0,g+52|0);break i}Ne(p+352|0,ko(e[i+312>>2],a),r)}o=r,r=p+352|0,a=yN(n,o,r),e[i+316>>2]=e[i+316>>2]==1|(a|0)==1,te(r)}if(g=e[g+4>>2],!g)break}if(g=e[se+32>>2],!g)break t;for(v=i+16|0;;){if(e[g+32>>2]==3){pe=e[g+48>>2],x=fe(p+312|0,g+52|0),n=e[g+36>>2],a=y[g+47|0],r=a<<24>>24<0,e[p+308>>2]=r?e[g+40>>2]:a,e[p+304>>2]=r?n:g+36|0,r=e[p+308>>2],e[p+40>>2]=e[p+304>>2],e[p+44>>2]=r,De=g+12|0,a=b-368|0,b=a;i:{if(r=e[p+44>>2],r>>>0<4294967280){n=e[p+40>>2];n:{s:{if(r>>>0>=11){c=r+16&-16,o=Z(c),e[a+280>>2]=c|-2147483648,e[a+272>>2]=o,e[a+276>>2]=r;break s}if(S[a+283|0]=r,o=a+272|0,!r)break n}Ce(o,n,r)}_=0,S[r+o|0]=0,n=a+272|0,o=v+256|0,r=o+4|0,L=e[o+4>>2];n:{s:{if(!L)break s;for(c=y[n+11|0],V=c<<24>>24<0,M=V?e[n>>2]:n,V=V?e[n+4>>2]:c,n=r;;){j=y[L+27|0],c=j<<24>>24<0,j=c?e[L+20>>2]:j,X=j>>>0>V>>>0,He=X?V:j;r:{if(He&&(Xe=L+16|0,c=En(c?e[Xe>>2]:Xe,M,He),c))break r;c=V>>>0>j>>>0?-1:X}if(c=(c|0)<0,n=c?n:L,L=e[(c?L+4|0:L)>>2],!L)break}if((r|0)==(n|0))break s;L=y[n+27|0],c=L<<24>>24<0;r:{if(L=c?e[n+20>>2]:L,j=L>>>0<V>>>0?L:V,j&&(X=M,M=n+16|0,c=En(X,c?e[M>>2]:M,j),c))break r;if(L>>>0>V>>>0)break s;break n}if((c|0)>=0)break n}n=r}(v+260|0)!=(n|0)&&(at=a,Ct=Ls(e[p+40>>2],e[p+44>>2]),e[at+64>>2]=Ct,e[a+68>>2]=At,_=(Ye(v,De,28004,a- -64|0)|0)==1),r=a+272|0;n:{s:{c=o,n=e[o+4>>2];r:{if(!n){o=c+4|0,r=o;break r}for(o=y[r+11|0],L=o<<24>>24<0,V=L?e[r>>2]:r,L=L?e[r+4>>2]:o;;){r=n,M=y[r+27|0],o=M<<24>>24<0,n=o?e[r+20>>2]:M,M=n>>>0<L>>>0;l:{u:{a:{c:{j=M?n:L;o:{if(j){if(X=r+16|0,o=o?e[X>>2]:X,X=En(V,o,j),!X){if(n>>>0>L>>>0)break o;break c}if((X|0)>=0)break c;break o}if(n>>>0<=L>>>0)break a}if(o=r,n=e[r>>2],n)continue;break r}if(n=En(o,V,j),n)break u}if(M)break l;break s}if((n|0)>=0)break s}if(n=e[r+4>>2],!n)break}o=r+4|0}n=Z(28),L=n+16|0;r:{if(S[a+283|0]>=0){V=e[a+276>>2],e[L>>2]=e[a+272>>2],e[L+4>>2]=V,e[L+8>>2]=e[a+280>>2];break r}Ni(L,e[a+272>>2],e[a+276>>2])}e[n+8>>2]=r,e[n>>2]=0,e[n+4>>2]=0,e[o>>2]=n,r=n,L=e[e[c>>2]>>2],L&&(e[c>>2]=L,r=e[o>>2]),_2(e[c+4>>2],r),e[c+8>>2]=e[c+8>>2]+1,r=1;break n}n=r,r=0}S[a+332|0]=r,e[a+328>>2]=n;n:{s:switch(pe|0){case 0:n=fe(a+232|0,x),o=fe(a+288|0,n),r=fe(a+328|0,o),c=e[r+24>>2],L=(e[v+164>>2]-e[v+160>>2]|0)/28|0;r:{if(c>>>0>=L>>>0){e[a+8>>2]=L,e[a+4>>2]=c,e[a>>2]=11043,c=Ye(v,r,27451,a),te(r),r=(c|0)==1;break r}te(r),r=0}te(o),te(n),_=r|(_|0)!=0,c=e[x+24>>2],o=v+272|0,r=o,n=e[v+272>>2];r:{if(!n)break r;for(;;){if(r=n,n=e[r+16>>2],n>>>0>c>>>0){if(o=r,n=e[r>>2],n)continue;break r}if(n>>>0>=c>>>0)break n;if(n=e[r+4>>2],!n)break}o=r+4|0}n=Z(20),e[n+8>>2]=r,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=c,e[o>>2]=n,r=e[e[v+268>>2]>>2],r&&(e[v+268>>2]=r,n=e[o>>2]),_2(e[v+272>>2],n),e[v+276>>2]=e[v+276>>2]+1;break n;case 1:n=fe(a+192|0,x),o=fe(a+288|0,n),r=fe(a+328|0,o),c=e[r+24>>2],L=e[v+176>>2]-e[v+172>>2]>>5;r:{if(c>>>0>=L>>>0){e[a+24>>2]=L,e[a+20>>2]=c,e[a+16>>2]=15348,c=Ye(v,r,27451,a+16|0),te(r),r=(c|0)==1;break r}te(r),r=0}te(o),te(n),_=r|(_|0)!=0;break n;case 2:r=fe(a+152|0,x),n=vo(v,r,0),te(r),_=(n|0)==1|(_|0)!=0;break n;case 3:n=fe(a+112|0,x),o=fe(a+288|0,n),r=fe(a+328|0,o),c=e[r+24>>2],L=(e[v+200>>2]-e[v+196>>2]|0)/12|0;r:{if(c>>>0>=L>>>0){e[a+40>>2]=L,e[a+36>>2]=c,e[a+32>>2]=12312,c=Ye(v,r,27451,a+32|0),te(r),r=(c|0)==1;break r}te(r),r=0}te(o),te(n),_=r|(_|0)!=0;break n;case 4:break s;default:break n}n=fe(a+72|0,x),o=fe(a+288|0,n),r=fe(a+328|0,o),c=e[r+24>>2],L=(e[v+212>>2]-e[v+208>>2]|0)/12|0;s:{if(c>>>0>=L>>>0){e[a+56>>2]=L,e[a+52>>2]=c,e[a+48>>2]=13136,c=Ye(v,r,27451,a+48|0),te(r),r=(c|0)==1;break s}te(r),r=0}te(o),te(n),_=r|(_|0)!=0}S[a+283|0]<0&&P(e[a+272>>2]),b=a+368|0;break i}break e}e[i+316>>2]=e[i+316>>2]==1|(_|0)==1,te(x)}if(g=e[g+4>>2],!g)break}if(g=e[se+32>>2],!g)break t;for(a=i+16|0;e[g+32>>2]==9&&(x=g+12|0,c=fe(p+264|0,g+36|0),o=c,r=b-112|0,b=r,n=e[a+232>>2],e[a+232>>2]=n+1,n?n=(Ye(a,x,16599,0)|0)==1:n=0,e[r+56>>2]=0,e[r+60>>2]=0,e[r+48>>2]=0,e[r+52>>2]=0,e[r+40>>2]=0,e[r+44>>2]=0,o=fe(r,o),_=fe(r+72|0,o),v=yk(a,_,a+160|0,r+40|0),te(_),te(o),o=n|(v|0)==1,e[r+44>>2]!=e[r+40>>2]&&(o=(Ye(a,x,1179,0)|0)==1|o),n=e[r+56>>2],(n|0)!=e[r+52>>2]&&(o=(Ye(a,x,12841,0)|0)==1|o,n=e[r+52>>2]),n&&(e[r+56>>2]=n,P(n)),n=e[r+40>>2],n&&(e[r+44>>2]=n,P(n)),b=r+112|0,e[i+316>>2]=e[i+316>>2]==1|(o|0)==1,te(c)),g=e[g+4>>2],!!g;);if(n=e[se+32>>2],!n)break t;for(c=i+16|0;;){i:{if(e[n+32>>2]!=6)break i;if(V=n+12|0,L=fe(p+224|0,n+52|0),r=L,o=0,a=b-144|0,b=a,!e[n+36>>2]){x=fe(a+24|0,r),_=fe(a- -64|0,x),r=fe(a+104|0,_),o=e[r+24>>2],g=e[c+176>>2]-e[c+172>>2]>>5;n:{if(o>>>0>=g>>>0){e[a+8>>2]=g,e[a+4>>2]=o,e[a>>2]=15348,o=Ye(c,r,27451,a),te(r),o=(o|0)==1;break n}te(r),o=0}te(_),te(x)}n:{r=e[c+224>>2],_=e[c+228>>2];s:{if(r>>>0<_>>>0){e[r>>2]=-64,e[r+4>>2]=-1,e[c+224>>2]=r+8;break s}if(x=e[c+220>>2],g=r-x|0,v=g>>3,r=v+1|0,r>>>0>=536870912)break e;if(_=_-x|0,M=_>>2,_=_>>>0<2147483640?r>>>0<M>>>0?M:r:536870911,_){if(_>>>0>=536870912)break e;r=Z(_<<3)}else r=0;if(v=r+(v<<3)|0,e[v>>2]=-64,e[v+4>>2]=-1,(g|0)>0&&Ce(r,x,g),e[c+228>>2]=r+(_<<3),e[c+224>>2]=v+8,e[c+220>>2]=r,!x)break s;P(x)}b=a+144|0;break n}e[i+316>>2]=e[i+316>>2]==1|(o|0)==1,te(L),r=e[n+92>>2],a=e[n+88>>2],e[p+32>>2]=a,e[p+36>>2]=r,e[p+216>>2]=a,e[p+220>>2]=r,a=e[p+36>>2],r=e[c+224>>2]-8|0,e[r>>2]=e[p+32>>2],e[r+4>>2]=a;n:{if(!e[n+104>>2]||(e[p+208>>2]=-1,e[p+212>>2]=-1,e[p+24>>2]=-1,e[p+28>>2]=-1,r=Rk(c,V,p+24|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=Fa(sa(p+392|0,i),n+96|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=p5(c),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=e[p+432>>2],r&&(e[p+436>>2]=r,P(r)),r=e[p+420>>2],r&&(e[p+424>>2]=r,P(r)),r=e[p+408>>2],r&&(e[p+412>>2]=r,P(r)),r=e[p+396>>2],!r))break n;e[p+400>>2]=r,P(r)}if(g=e[n+108>>2],M=e[n+112>>2],(g|0)==(M|0))break i;for(;;){n:{s:switch(e[g+8>>2]){case 1:r:{l:{u:switch(a=e[g>>2],e[a+32>>2]-36|0){case 0:break l;case 1:break u;default:break r}r=e[a+40>>2],o=e[a+36>>2],e[p+16>>2]=o,e[p+20>>2]=r,e[p+200>>2]=o,e[p+204>>2]=r,r=b-32|0,b=r,o=e[p+20>>2],_=e[p+16>>2],e[r+24>>2]=_,e[r+28>>2]=o,v=e[c+224>>2]-8|0,x=e[v+4>>2],v=e[v>>2],e[r+16>>2]=v,e[r+20>>2]=x,e[r+8>>2]=_,e[r+12>>2]=o,e[r>>2]=v,e[r+4>>2]=x,a=t5(c,a+12|0,r+8|0,r,11423),b=r+32|0,e[i+316>>2]=e[i+316>>2]==1|(a|0)==1;break n}v=fe(p+160|0,a+36|0),_=b-144|0,b=_,o=fe(_+24|0,v),x=fe(_- -64|0,o),r=fe(_+104|0,x),a=e[r+24>>2],L=(e[c+164>>2]-e[c+160>>2]|0)/28|0;l:{if(a>>>0>=L>>>0){e[_+8>>2]=L,e[_+4>>2]=a,e[_>>2]=11043,a=Ye(c,r,27451,_),te(r),a=(a|0)==1;break l}te(r),a=0}te(x),te(o),L=e[v+24>>2],x=c+272|0,r=x,o=e[c+272>>2];l:{u:{if(!o)break u;for(;;){if(r=o,o=e[r+16>>2],o>>>0>L>>>0){if(x=r,o=e[r>>2],o)continue;break u}if(o>>>0>=L>>>0)break l;if(o=e[r+4>>2],!o)break}x=r+4|0}o=Z(20),e[o+8>>2]=r,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=L,e[x>>2]=o,r=e[e[c+268>>2]>>2],r&&(e[c+268>>2]=r,o=e[x>>2]),_2(e[c+272>>2],o),e[c+276>>2]=e[c+276>>2]+1}b=_+144|0,e[i+316>>2]=e[i+316>>2]==1|(a|0)==1,te(v);break n}r=jR(c,a+12|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1;break n;case 0:break n;default:break s}r=jR(c,V),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1}if(g=g+12|0,(M|0)==(g|0))break}}if(n=e[n+4>>2],!n)break}}_=i+16|0,e[_+240>>2]=e[se+176>>2]-e[se+172>>2]>>2,n=e[se+32>>2];t:{if(!n)break t;for(a=e[se+48>>2];;){if(!e[n+32>>2]){v=n+196|0,x=e[n+192>>2]?e[n+188>>2]+12|0:v,g=b-16|0,b=g,r=e[v+4>>2],e[_+96>>2]=e[v>>2],e[_+100>>2]=r,e[_+112>>2]=e[v+16>>2],r=e[v+12>>2],e[_+104>>2]=e[v+8>>2],e[_+108>>2]=r,o=e[_+244>>2],e[_+248>>2]=o;i:{n:{s:{if(c=e[_+160>>2],(e[_+164>>2]-c|0)/28>>>0>a>>>0){if(r=H(a,28)+c|0,V=e[r>>2],De=e[r+4>>2],(V|0)==(De|0))break n;for(c=o;;){j=e[V>>2],X=e[V+4>>2],pe=((o|0)==(c|0)?0:e[o-4>>2])+1|0,M=e[_+252>>2];r:{if(M>>>0>o>>>0){e[o+8>>2]=pe,e[o>>2]=j,e[o+4>>2]=X,e[_+248>>2]=o+12;break r}if(L=o-c|0,o=(L|0)/12|0,r=o+1|0,r>>>0>=357913942)break e;if(M=(M-c|0)/12|0,He=M<<1,M=M>>>0<178956970?r>>>0<He>>>0?He:r:357913941,M){if(M>>>0>=357913942)break e;r=Z(H(M,12))}else r=0;if(o=r+H(o,12)|0,e[o+8>>2]=pe,e[o>>2]=j,e[o+4>>2]=X,j=o+H((L|0)/-12|0,12)|0,(L|0)>0&&Ce(j,c,L),e[_+252>>2]=r+H(M,12),e[_+248>>2]=o+12,e[_+244>>2]=j,!c)break r;P(c)}if(V=V+8|0,(De|0)==(V|0))break s;o=e[_+248>>2],c=e[_+244>>2]}}if(e[g+8>>2]=0,e[g>>2]=0,e[g+4>>2]=0,c=xT(_+24|0,g),r=e[g>>2],!r)break i;e[g+4>>2]=r,P(r);break i}c=e[_+160>>2]}c=xT(_+24|0,(H(a,28)+c|0)+12|0)}if(b=g+16|0,e[i+316>>2]=e[i+316>>2]==1|(c|0)==1,g=e[n+152>>2],pe=e[n+156>>2],(g|0)!=(pe|0))for(;;){L=e[g+8>>2],r=e[g+4>>2],o=e[g>>2],e[p+8>>2]=o,e[p+12>>2]=r,e[p+152>>2]=o,e[p+156>>2]=r,c=0;i:{n:{if(o=e[_+244>>2],r=e[_+248>>2],(o|0)==(r|0)||(c=e[r-4>>2],L>>>0<=(c^-1)>>>0))break n;Ye(_,v,25975,0),r=1;break i}if(M=c+L|0,j=e[p+8>>2],X=e[p+12>>2],c=e[_+252>>2],c>>>0>r>>>0){e[r+8>>2]=M,e[r>>2]=j,e[r+4>>2]=X,e[_+248>>2]=r+12,r=0;break i}n:{if(L=r-o|0,De=(L|0)/12|0,r=De+1|0,r>>>0>=357913942)break n;if(c=(c-o|0)/12|0,V=c<<1,V=c>>>0<178956970?r>>>0<V>>>0?V:r:357913941,V){if(V>>>0>=357913942)break n;r=Z(H(V,12))}else r=0;c=r+H(De,12)|0,e[c+8>>2]=M,e[c>>2]=j,e[c+4>>2]=X,M=c+H((L|0)/-12|0,12)|0,(L|0)>0&&Ce(M,o,L),e[_+252>>2]=r+H(V,12),e[_+248>>2]=c+12,e[_+244>>2]=M,o&&P(o),r=0;break i}break e}if(e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,g=g+12|0,(pe|0)==(g|0))break}r=Fa(sa(p+392|0,i),n+184|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=e[x+4>>2],e[_+96>>2]=e[x>>2],e[_+100>>2]=r,e[_+112>>2]=e[x+16>>2],r=e[x+12>>2],e[_+104>>2]=e[x+8>>2],e[_+108>>2]=r,r=b-16|0,b=r,o=_+24|0,c=e[o+40>>2],x=e[o+36>>2];i:{if((c|0)==(x|0)){e[r>>2]=0,e[r+4>>2]=-1,xt(o,27759,r),o=1;break i}x=(x+H((c-x|0)/36|0,36)|0)-36|0,o=e[x>>2]!=0|(Gk(o,x,10957,11043)|0)==1}b=r+16|0,e[i+316>>2]=e[i+316>>2]==1|(o|0)==1,r=e[p+432>>2],r&&(e[p+436>>2]=r,P(r)),r=e[p+420>>2],r&&(e[p+424>>2]=r,P(r)),r=e[p+408>>2],r&&(e[p+412>>2]=r,P(r)),r=e[p+396>>2],r&&(e[p+400>>2]=r,P(r)),a=a+1|0}if(n=e[n+4>>2],!n)break}if(g=e[se+32>>2],!g)break t;for(;;){i:{if(e[g+32>>2]!=8||(o=g+52|0,r=fe(p+112|0,o),n=0,a=b-48|0,b=a,e[g+36>>2]||(n=fe(a+8|0,r),x=vo(_,n,0),te(n),n=(x|0)==1),b=a+48|0,e[i+316>>2]=e[i+316>>2]==1|(n|0)==1,te(r),!e[g+96>>2])||(n=g+12|0,r=Ys(se,o),a=e[se+160>>2],r>>>0<e[se+164>>2]-a>>2>>>0?r=y[e[a+(r<<2)>>2]+34|0]?-2:-1:r=-1,e[p>>2]=r,a=-1,e[p+4>>2]=a,e[p+104>>2]=r,e[p+108>>2]=a,r=Rk(_,n,p),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=Fa(sa(p+392|0,i),g+88|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=p5(_),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,r=e[p+432>>2],r&&(e[p+436>>2]=r,P(r)),r=e[p+420>>2],r&&(e[p+424>>2]=r,P(r)),r=e[p+408>>2],r&&(e[p+412>>2]=r,P(r)),r=e[p+396>>2],!r))break i;e[p+400>>2]=r,P(r)}if(g=e[g+4>>2],!g)break}}if(o=0,r=b-96|0,b=r,x=e[_+280>>2],v=e[_+284>>2],(x|0)!=(v|0))for(;;){se=fe(r+56|0,x),c=fe(r+16|0,se),n=e[r+40>>2],a=e[_+272>>2];t:{if(a)for(;;){if(L=e[a+16>>2],L>>>0<=n>>>0){if(g=0,n>>>0<=L>>>0)break t;a=a+4|0}if(a=e[a>>2],!a)break}e[r>>2]=n,g=Ye(_,c,7542,r)}if(te(c),te(se),o=(g|0)==1|o,x=x+36|0,(v|0)==(x|0))break}return b=r+96|0,r=i,i=e[i+316>>2]==1|(o|0)==1,e[r+316>>2]=i,b=p+624|0,i}Be(),Ie()}function Da(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=Ft(0),se=0,pe=0,De=0,He=Ft(0),Xe=0,at=0;if(v=b-16|0,b=v,n=e[n>>2],n)for(De=i+144|0;;){e:{t:{i:{n:switch(e[n+32>>2]){case 0:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6892);break e;case 1:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6892);break e;case 2:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6892);break e;case 3:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6892);break e;case 6:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6892);break e;case 5:wt(e[i>>2],456),Oe(e[i>>2],e[n+36>>2],11981);break e;case 4:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6892);break e;case 7:wt(e[i>>2],e[n+36>>2]);break e;case 8:wt(e[i>>2],2),d8(i,n+48|0),Da(i,r,n+152|0),wt(e[i>>2],10);break e;case 9:wt(e[i>>2],11),Oe(e[i>>2],e[n+60>>2],12635);break e;case 10:wt(e[i>>2],12),Oe(e[i>>2],e[n+60>>2],12635);break e;case 11:if(wt(e[i>>2],13),Oe(e[i>>2],(e[n+40>>2]-e[n+36>>2]|0)/36|0,7408),a=e[n+40>>2],o=e[n+36>>2],(a|0)==(o|0))break t;for(;Oe(e[i>>2],e[o+24>>2],12635),o=o+36|0,(o|0)!=(a|0););break t;case 12:if(o=T2(e[i+8>>2],n+36|0),wt(e[i>>2],15),y[e[i+4>>2]+18|0]){rr(i,0,o),Kc(e[i>>2],o,1565);break e}Oe(e[i>>2],o,1565);break e;case 40:if(o=T2(e[i+8>>2],n+36|0),wt(e[i>>2],17),y[e[i+4>>2]+18|0]){rr(i,0,o),Kc(e[i>>2],o,1565);break e}Oe(e[i>>2],o,1565);break e;case 13:o=ko(e[i+8>>2],n+36|0),a=no(e[i+8>>2],n+140|0),wt(e[i>>2],16);s:{if(y[e[i+4>>2]+18|0]){rr(i,6,o),Kc(e[i>>2],o,1891);break s}Oe(e[i>>2],o,1891)}if(o=e[i+4>>2],!(!y[o+18|0]|!y[o+10|0])){rr(i,20,a),Oa(e[i>>2],a,2106);break e}Rn(e[i>>2],a,2106);break e;case 14:wt(e[i>>2],19);break e;case 41:o=ko(e[i+8>>2],n+36|0),a=no(e[i+8>>2],n+140|0),wt(e[i>>2],18);s:{if(y[e[i+4>>2]+18|0]){rr(i,6,o),Kc(e[i>>2],o,1891);break s}Oe(e[i>>2],o,1891)}if(o=e[i+4>>2],!(!y[o+18|0]|!y[o+10|0])){rr(i,20,a),Oa(e[i>>2],a,2106);break e}Rn(e[i>>2],a,2106);break e;case 16:wt(e[i>>2],e[n+36>>2]);break e;case 17:s:switch(e[n+56>>2]+5|0){case 4:wt(e[i>>2],55),Rn(e[i>>2],e[n+72>>2],12141);break e;case 3:wt(e[i>>2],56),M=e[i>>2],_=0,x=b-16|0,b=x,c=e[n+72>>2],o=e[n+76>>2];r:{if((o|0)>0|(o|0)>=0){if(!o&c>>>0<64)break r;for(;S[(x+6|0)+_|0]=c|128,_=_+1|0,p=!o&c>>>0>8191|(o|0)!=0,c=(o&127)<<25|c>>>7,o=o>>7,!!p;);break r}if(g=(o&127)<<25|c>>>7,p=o>>7,o=p,(g&o)==-1&(c&64)!=0)break r;for(;S[(x+6|0)+_|0]=c|128,_=_+1|0,c=g,j=!(c&64),g=(o&127)<<25|c>>>7,p=o>>7,o=p,!!((g&o)!=-1|j););}o=x+6|0,S[o+_|0]=c&127,U(M,o,_+1|0,12117,0),b=x+16|0;break e;case 2:wt(e[i>>2],57),o=e[i>>2],e[v>>2]=e[n+72>>2],U(o,v,4,12153,0);break e;case 1:wt(e[i>>2],58),o=e[i>>2],c=e[n+76>>2],e[v>>2]=e[n+72>>2],e[v+4>>2]=c,U(o,v,8,12129,0);break e;case 0:break s;default:break e}wt(e[i>>2],229),o=e[i>>2],c=e[n+84>>2],e[v+8>>2]=e[n+80>>2],e[v+12>>2]=c,c=e[n+76>>2],e[v>>2]=e[n+72>>2],e[v+4>>2]=c,U(o,v,16,12104,0);break e;case 18:wt(e[i>>2],e[n+36>>2]);break e;case 19:wt(e[i>>2],22);break e;case 20:if(o=Wh(e[i+8>>2],n+36|0),wt(e[i>>2],28),y[e[i+4>>2]+18|0]){rr(i,7,o),Kc(e[i>>2],o,1750);break e}Oe(e[i>>2],o,1750);break e;case 21:if(o=Wh(e[i+8>>2],n+36|0),wt(e[i>>2],29),y[e[i+4>>2]+18|0]){rr(i,7,o),Kc(e[i>>2],o,1750);break e}Oe(e[i>>2],o,1750);break e;case 22:wt(e[i>>2],4),d8(i,n+48|0),Da(i,r,n+152|0),e[n+192>>2]&&(wt(e[i>>2],5),Da(i,r,n+184|0)),wt(e[i>>2],10);break e;case 23:if(wt(e[i>>2],e[n+72>>2]),o=ar(n+72|0,e[n+80>>2],e[n+84>>2]),c=Ys(e[i+8>>2],n+36|0),g=e[i>>2],c){if(a=0,o>>>0>=2){for(;a=a+1|0,p=o>>>0>3,o=o>>>1|0,!!p;);o=a|64}else o=64;S[v|0]=o,U(g,v,1,6467,0),Oe(e[i>>2],e[n+88>>2],6931),Oe(e[i>>2],c,2352);break e}if(a=0,o>>>0>=2)for(;a=a+1|0,c=o>>>0>3,o=o>>>1|0,!!c;);S[v|0]=a,U(g,v,1,6467,0),Oe(e[i>>2],e[n+88>>2],6931);break e;case 24:s:{if(r){o=hp(r,n+36|0);break s}if(o=-1,e[n+56>>2])break s;o=e[n+60>>2]}wt(e[i>>2],25),Oe(e[i>>2],o,1683);break e;case 25:s:{if(r){o=hp(r,n+36|0);break s}if(o=-1,e[n+56>>2])break s;o=e[n+60>>2]}wt(e[i>>2],26),Oe(e[i>>2],o,1683);break e;case 26:s:{if(r){o=hp(r,n+36|0);break s}if(o=-1,e[n+56>>2])break s;o=e[n+60>>2]}wt(e[i>>2],27),Oe(e[i>>2],o,1683);break e;case 27:wt(e[i>>2],3),d8(i,n+48|0),Da(i,r,n+152|0),wt(e[i>>2],10);break e;case 28:o=Ys(e[i+8>>2],n+36|0),a=Ys(e[i+8>>2],n+72|0),wt(e[i>>2],204),Oe(e[i>>2],o,2248),Oe(e[i>>2],a,2225);break e;case 29:o=$R(e[i+8>>2],n+36|0),wt(e[i>>2],203),Oe(e[i>>2],o,6638),S[i+132|0]=1;break e;case 30:o=Ys(e[i+8>>2],n+36|0),wt(e[i>>2],205),Oe(e[i>>2],o,2308);break e;case 31:o=Ys(e[i+8>>2],n+36|0),wt(e[i>>2],54),Oe(e[i>>2],o,2270);break e;case 32:o=$R(e[i+8>>2],n+72|0),a=Ys(e[i+8>>2],n+36|0),wt(e[i>>2],202),Oe(e[i>>2],o,6581),Oe(e[i>>2],a,2289),S[i+132|0]=1;break e;case 33:o=Ys(e[i+8>>2],n+36|0),wt(e[i>>2],53),Oe(e[i>>2],o,2327);break e;case 50:o=no(e[i+8>>2],n+36|0),a=no(e[i+8>>2],n+72|0),wt(e[i>>2],208),c=e[i+4>>2];s:{if(!(!y[c+18|0]|!y[c+10|0])){rr(i,20,o),Oa(e[i>>2],o,15273);break s}Rn(e[i>>2],o,15273)}if(o=e[i+4>>2],!(!y[o+18|0]|!y[o+10|0])){rr(i,20,a),Oa(e[i>>2],a,15303);break e}Rn(e[i>>2],a,15303);break e;case 51:o=YR(e[i+8>>2],n+36|0),wt(e[i>>2],207),Oe(e[i>>2],o,6620);break e;case 52:if(o=no(e[i+8>>2],n+72|0),a=YR(e[i+8>>2],n+36|0),wt(e[i>>2],206),Oe(e[i>>2],a,6601),a=e[i+4>>2],!(!y[a+18|0]|!y[a+10|0])){rr(i,20,o),Oa(e[i>>2],o,15324);break e}Rn(e[i>>2],o,15324);break e;case 53:if(o=no(e[i+8>>2],n+36|0),wt(e[i>>2],209),a=e[i+4>>2],!(!y[a+18|0]|!y[a+10|0])){rr(i,20,o),Oa(e[i>>2],o,1996);break e}Rn(e[i>>2],o,1996);break e;case 56:if(o=no(e[i+8>>2],n+36|0),wt(e[i>>2],210),a=e[i+4>>2],!(!y[a+18|0]|!y[a+10|0])){rr(i,20,o),Oa(e[i>>2],o,1974);break e}Rn(e[i>>2],o,1974);break e;case 54:if(o=no(e[i+8>>2],n+36|0),wt(e[i>>2],211),a=e[i+4>>2],!(!y[a+18|0]|!y[a+10|0])){rr(i,20,o),Oa(e[i>>2],o,1907);break e}Rn(e[i>>2],o,1907);break e;case 55:if(o=no(e[i+8>>2],n+36|0),wt(e[i>>2],212),a=e[i+4>>2],!(!y[a+18|0]|!y[a+10|0])){rr(i,20,o),Oa(e[i>>2],o,2074);break e}Rn(e[i>>2],o,2074);break e;case 57:if(o=no(e[i+8>>2],n+36|0),wt(e[i>>2],213),a=e[i+4>>2],!(!y[a+18|0]|!y[a+10|0])){rr(i,20,o),Oa(e[i>>2],o,2051);break e}Rn(e[i>>2],o,2051);break e;case 36:if(wt(e[i>>2],216),o=T2(e[i+8>>2],n+36|0),y[e[i+4>>2]+18|0]){rr(i,0,o),Kc(e[i>>2],o,1565);break e}Oe(e[i>>2],o,1565);break e;case 37:if(wt(e[i>>2],214),o=e[n+40>>2],a=e[i>>2],c=e[n+36>>2],Rn(a,c,14162),(c|0)!=-21)break e;Rn(a,o,14162);break e;case 35:wt(e[i>>2],215);break e;case 34:wt(e[i>>2],1);break e;case 38:wt(e[i>>2],9),Oe(e[i>>2],e[n+60>>2],12560);break e;case 39:wt(e[i>>2],14);break e;case 42:if(o=e[i>>2],e[n+36>>2]==e[n+40>>2]){wt(o,23);break e}if(wt(o,24),Oe(e[i>>2],e[n+40>>2]-e[n+36>>2]>>3,7804),o=e[n+36>>2],g=e[n+40>>2],(o|0)==(g|0))break e;for(;c=e[o+4>>2],p=e[i>>2],a=e[o>>2],Rn(p,a,14020),(a|0)==-21&&Rn(p,c,14020),o=o+8|0,(g|0)!=(o|0););break e;case 49:if(wt(e[i>>2],e[n+72>>2]),o=ar(n+72|0,e[n+80>>2],e[n+84>>2]),c=Ys(e[i+8>>2],n+36|0),g=e[i>>2],c){if(a=0,o>>>0>=2){for(;a=a+1|0,p=o>>>0>3,o=o>>>1|0,!!p;);o=a|64}else o=64;S[v|0]=o,U(g,v,1,6467,0),Oe(e[i>>2],e[n+88>>2],6906),Oe(e[i>>2],c,2352);break e}if(a=0,o>>>0>=2)for(;a=a+1|0,c=o>>>0>3,o=o>>>1|0,!!c;);S[v|0]=a,U(g,v,1,6467,0),Oe(e[i>>2],e[n+88>>2],6906);break e;case 59:wt(e[i>>2],8),Oe(e[i>>2],e[n+60>>2],13120);break e;case 60:wt(e[i>>2],6),d8(i,n+52|0),Da(i,r,n+156|0);s:switch(e[n+36>>2]){case 1:if(o=e[n+188>>2],g=e[n+192>>2],(o|0)==(g|0))break i;for(;;){c=e[i>>2],a=o+44|0;r:{if(!(e[o+40>>2]|e[a>>2]!=-1)){wt(c,21);break r}wt(c,7),Oe(e[i>>2],e[a>>2],13130)}if(Da(i,r,o+56|0),o=o+68|0,(g|0)==(o|0))break}break i;case 2:wt(e[i>>2],20),Oe(e[i>>2],e[n+224>>2],12671);break e;case 0:break s;default:break e}wt(e[i>>2],10);break e;case 61:wt(e[i>>2],e[n+36>>2]);break e;case 58:wt(e[i>>2],e[n+36>>2]);break e;case 43:wt(e[i>>2],e[n+36>>2]),o=e[i>>2],S[v|0]=e[n+40>>2],U(o,v,1,12046,0);break e;case 44:if(wt(e[i>>2],e[n+72>>2]),o=ar(n+72|0,e[n+80>>2],e[n+84>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+88>>2],6931),o=e[i>>2],S[v|0]=e[n+96>>2],U(o,v,1,12046,0);break e;case 45:if(wt(e[i>>2],e[n+72>>2]),o=ar(n+72|0,e[n+80>>2],e[n+84>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+88>>2],6906),o=e[i>>2],S[v|0]=e[n+96>>2],U(o,v,1,12046,0);break e;case 46:wt(e[i>>2],e[n+36>>2]),o=e[i>>2],c=e[n+52>>2],e[v+8>>2]=e[n+48>>2],e[v+12>>2]=c,c=e[n+44>>2],e[v>>2]=e[n+40>>2],e[v+4>>2]=c,U(o,v,16,12082,0);break e;case 47:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6931);break e;case 48:if(wt(e[i>>2],e[n+36>>2]),o=ar(n+36|0,e[n+40>>2],e[n+44>>2]),c=e[i>>2],a=0,o>>>0>=2)for(;a=a+1|0,g=o>>>0>3,o=o>>>1|0,!!g;);S[v|0]=a,U(c,v,1,6467,0),Oe(e[i>>2],e[n+48>>2],6931);break e;case 62:wt(e[i>>2],0);break e;case 15:break n;default:break e}o=e[n+40>>2],M=o,g=e[n+36>>2],c=o;n:{if(o>>>0<4){o=g,p=c,_=c;break n}_=c-4|0;s:{if(_&4){a=c,p=a,o=g;break s}o=H(y[g|0]|y[g+1|0]<<8|(y[g+2|0]<<16|y[g+3|0]<<24),1540483477),p=H(o>>>24^o,1540483477)^H(c,1540483477),a=_,o=g+4|0}if(_>>>0<4)break n;for(;_=H(y[o+4|0]|y[o+5|0]<<8|(y[o+6|0]<<16|y[o+7|0]<<24),1540483477),x=H(_>>>24^_,1540483477),_=H(y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),1540483477),p=x^H(H(_>>>24^_,1540483477)^H(p,1540483477),1540483477),o=o+8|0,a=a-8|0,_=a,a>>>0>3;);}n:switch(_-1|0){case 2:p=y[o+2|0]<<16^p;case 1:p=y[o+1|0]<<8^p;case 0:p=H(y[o|0]^p,1540483477);break;default:break n}o=H(p>>>13^p,1540483477),x=o>>>15^o;n:{s:{r:{o=e[i+140>>2];l:{u:{if(!o)break u;p=rs(o);a:{if(p>>>0<=1){a=x&o-1;break a}if(a=x,o>>>0>a>>>0)break a;a=(x>>>0)%(o>>>0)|0}if(_=e[e[i+136>>2]+(a<<2)>>2],!_||(L=e[_>>2],!L))break u;a:{if(p>>>0>=2){if(c)break a;for(;;){if(c=e[L+4>>2],(c|0)!=(x|0)&&(o>>>0<=c>>>0&&(c=(c>>>0)%(o>>>0)|0),(a|0)!=(c|0)))break u;if(!e[L+12>>2])break l;if(L=e[L>>2],!L)break}break u}if(p=o-1|0,!c)for(;;){if(c=e[L+4>>2],(c|0)!=(x|0)&(c&p)!=(a|0))break u;if(!e[L+12>>2])break l;if(L=e[L>>2],!L)break u}for(;;){if(_=e[L+4>>2],(_|0)!=(x|0)&(p&_)!=(a|0))break u;if(j=e[L+8>>2],(c|0)==e[L+12>>2]&&!En(j,g,c))break l;if(L=e[L>>2],!L)break}break u}for(;;){if(p=e[L+4>>2],(p|0)!=(x|0)&&(o>>>0<=p>>>0&&(p=(p>>>0)%(o>>>0)|0),(a|0)!=(p|0)))break u;if(_=e[L+8>>2],(c|0)==e[L+12>>2]&&!En(_,g,c))break l;if(L=e[L>>2],!L)break}}L=Z(28),c=L,e[c+8>>2]=g,e[c+12>>2]=M,e[c+4>>2]=x,e[c>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,X=Ft(e[i+148>>2]+1>>>0),He=In[i+152>>2];u:{if(!(X>Ft(He*Ft(o>>>0)))&&o)break u;c=2,g=(o-1&o)!=0|o>>>0<3|o<<1,X=Ft(Bc(Ft(X/He)));a:{if(X<Ft(4294967296)&X>=Ft(0)){a=~~X>>>0;break a}a=0}a=a>>>0<g>>>0?g:a;a:{if((a|0)==1)break a;if(!(a&a-1)){c=a;break a}c=Vc(a),o=e[i+140>>2]}a:{c:{if(o>>>0>=c>>>0){if(o>>>0<=c>>>0)break a;g=o>>>0<3,X=Ft(Bc(Ft(Ft(nt[i+148>>2])/In[i+152>>2])));o:{if(X<Ft(4294967296)&X>=Ft(0)){a=~~X>>>0;break o}a=0}if(g|rs(o)>>>0>1?a=Vc(a):a=a>>>0<2?a:1<<32-Gi(a-1|0),c=a>>>0<c>>>0?c:a,o>>>0<=c>>>0){o=e[i+140>>2];break a}if(!c)break c}if(c>>>0>=1073741824)break r;if(a=Z(c<<2),o=e[i+136>>2],e[i+136>>2]=a,o&&P(o),e[i+140>>2]=c,p=0,o=0,c-1>>>0>=3)for(g=c&-4,_=0;a=o<<2,e[a+e[i+136>>2]>>2]=0,e[e[i+136>>2]+(a|4)>>2]=0,e[e[i+136>>2]+(a|8)>>2]=0,e[e[i+136>>2]+(a|12)>>2]=0,o=o+4|0,_=_+4|0,(g|0)!=(_|0););if(a=c&3,a)for(;e[e[i+136>>2]+(o<<2)>>2]=0,o=o+1|0,p=p+1|0,(a|0)!=(p|0););if(_=e[i+144>>2],!_){o=c;break a}M=e[_+4>>2],Xe=rs(c);o:{if(Xe>>>0<=1){M=c-1&M;break o}if(c>>>0>M>>>0)break o;M=(M>>>0)%(c>>>0)|0}if(e[e[i+136>>2]+(M<<2)>>2]=De,a=e[_>>2],!a){o=c;break a}for(at=c-1|0;;){o=e[a+4>>2];o:{if(Xe>>>0<=1){o=o&at;break o}if(o>>>0<c>>>0)break o;o=(o>>>0)%(c>>>0)|0}o:{if((o|0)==(M|0)){_=a;break o}d:{m:{A:{if(g=e[i+136>>2]+(o<<2)|0,e[g>>2]){if(p=e[a>>2],!p){g=a;break m}if(pe=e[p+8>>2],j=e[p+12>>2],V=e[a+8>>2],se=e[a+12>>2],se){if((j|0)!=(se|0)){g=a;break d}if(g=a,!En(V,pe,se))break A;break d}if(g=a,(j|0)==1|j>>>0>1)break d;for(;;){if(g=p,p=e[g>>2],!p)break m;if(!!e[p+12>>2])break}break d}e[g>>2]=_,_=a,M=o;break o}for(;;){if(g=p,p=e[g>>2],!p)break m;if(pe=e[p+8>>2],e[p+12>>2]!=(se|0))break d;if(!!En(V,pe,se))break}break d}p=0}e[_>>2]=p,o=o<<2,e[g>>2]=e[e[o+e[i+136>>2]>>2]>>2],e[e[o+e[i+136>>2]>>2]>>2]=a}if(a=e[_>>2],!a)break}o=c;break a}a=e[i+136>>2],o=0,e[i+136>>2]=0,a&&P(a),e[i+140>>2]=0}if(a=o-1|0,!(a&o)){a=a&x;break u}if(o>>>0>x>>>0){a=x;break u}a=(x>>>0)%(o>>>0)|0}c=e[i+136>>2]+(a<<2)|0,a=e[c>>2];u:{a:{if(!a){if(e[L>>2]=e[i+144>>2],e[i+144>>2]=L,e[c>>2]=De,a=e[L>>2],!a)break u;a=e[a+4>>2],c=o-1|0;c:{if(!(c&o)){a=a&c;break c}if(o>>>0>a>>>0)break c;a=(a>>>0)%(o>>>0)|0}a=e[i+136>>2]+(a<<2)|0;break a}e[L>>2]=e[a>>2]}e[a>>2]=L}e[i+148>>2]=e[i+148>>2]+1}o=e[L+20>>2],c=e[L+16>>2],_=(o|0)!=(c|0);l:{u:{if(!_){p=e[i+160>>2];break u}if(p=e[i+160>>2],(p|0)==e[o-16>>2])break l}if(g=e[L+24>>2],g>>>0>o>>>0){e[o+4>>2]=0,e[o+8>>2]=0,e[o>>2]=p,e[o+12>>2]=0,e[L+20>>2]=o+16;break l}if(x=o-c>>4,a=x+1|0,a>>>0>=268435456)break s;if(g=g-c|0,M=g>>3,a=g>>>0<2147483632?a>>>0<M>>>0?M:a:268435455,a>>>0>=268435456)break r;M=x<<4,g=a<<4,x=Z(g),a=M+x|0,e[a+4>>2]=0,e[a+8>>2]=0,e[a>>2]=p,e[a+12>>2]=0,g=g+x|0,p=a+16|0;u:{if(!_){e[L+16>>2]=a,e[L+24>>2]=g,e[L+20>>2]=p;break u}for(;a=a-16|0,o=o-16|0,e[a>>2]=e[o>>2],e[a+4>>2]=e[o+4>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=e[o+12>>2],e[o+12>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,(o|0)!=(c|0););if(e[L+24>>2]=g,c=e[L+16>>2],e[L+16>>2]=a,o=e[L+20>>2],e[L+20>>2]=p,(o|0)==(c|0))break u;for(;;){if(_=o-16|0,g=e[_+4>>2],g){if(x=o-8|0,a=e[x>>2],p=g,(a|0)!=(g|0)){for(;o=a-16|0,p=e[o+4>>2],p&&(e[a-8>>2]=p,P(p)),a=o,(g|0)!=(o|0););p=e[_+4>>2]}e[x>>2]=g,P(p)}if(o=_,(c|0)==(o|0))break}}if(!c)break l;P(c)}if(se=e[e[i>>2]+4>>2]-e[i+156>>2]|0,_=e[n+48>>2],a=e[n+44>>2],c=e[L+20>>2],x=c-16|0,o=e[x+8>>2],V=e[x+12>>2],o>>>0<V>>>0){l:{if((a|0)==(_|0)){_=0,a=0;break l}if(c=_-a|0,(c|0)<0)break r;_=Z(c),a=Ce(_,a,c)+c|0}e[o+4>>2]=_,e[o>>2]=se,e[o+12>>2]=a,e[o+8>>2]=a,e[x+8>>2]=o+16;break e}if(M=c-12|0,j=e[M>>2],L=o-j>>4,p=L+1|0,p>>>0>=268435456)break n;if(g=0,c=0,V=V-j|0,pe=V>>3,V=V>>>0<2147483632?p>>>0<pe>>>0?pe:p:268435455,V){if(V>>>0>=268435456)break r;c=Z(V<<4)}if(p=0,(a|0)!=(_|0)){if(g=_-a|0,(g|0)<0)break r;p=Z(g),g=Ce(p,a,g)+g|0}_=(V<<4)+c|0,a=(L<<4)+c|0,e[a>>2]=se,e[a+4>>2]=p,e[a+12>>2]=g,e[a+8>>2]=g,c=a+16|0;l:{if((o|0)==(j|0)){e[M>>2]=a,e[x+8>>2]=c,e[x+12>>2]=_;break l}for(;a=a-16|0,o=o-16|0,e[a>>2]=e[o>>2],e[a+4>>2]=e[o+4>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=e[o+12>>2],e[o+12>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,(o|0)!=(j|0););if(p=e[x+8>>2],o=e[M>>2],e[M>>2]=a,e[x+8>>2]=c,e[x+12>>2]=_,(o|0)==(p|0))break l;for(;a=p-16|0,c=e[a+4>>2],c&&(e[p-8>>2]=c,P(c)),p=a,(o|0)!=(a|0););}if(!o)break e;P(o);break e}Be(),Ie()}Nr(),Ie()}Nr(),Ie()}wt(e[i>>2],10);break e}Oe(e[i>>2],e[n+72>>2],6724)}if(n=e[n+4>>2],!n)break}b=v+16|0}function QZ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0;V=b-32|0,b=V,S[V+26|0]=0,S[V+25|0]=(n|0)!=0,S[V+24|0]=(r|0)!=0,X=Ph(V,0),pe=Z(12),r=pe,e[r+4>>2]=0,e[r+8>>2]=0,n=0,o=b-336|0,b=o,e[o+148>>2]=0,e[o+152>>2]=0,se=o+192|0,r=se,e[r>>2]=0,e[r+4>>2]=0,e[o+172>>2]=0,e[o+176>>2]=0,e[o+180>>2]=0,e[o+184>>2]=0,e[o+140>>2]=0,e[o+144>>2]=0,e[o+136>>2]=i,e[o+160>>2]=X,r=V+24|0,e[o+156>>2]=r,e[o+164>>2]=0,e[o+168>>2]=0,e[o+188>>2]=se,pn(o+200|0,0,92);e:{if(!y[V+25|0]||(n=e[i+112>>2],L=e[i+116>>2],(n|0)==(L|0)))break e;for(;;){i=e[n>>2];t:{if(!y[r+2|0]&&qT(e[o+136>>2],e[i+12>>2],i+16|0))break t;i:{n:switch(e[i+12>>2]){case 0:c=T2(e[o+136>>2],i+16|0);break i;case 1:c=no(e[o+136>>2],i+16|0);break i;case 2:c=Ys(e[o+136>>2],i+16|0);break i;case 3:c=Wh(e[o+136>>2],i+16|0);break i;case 4:break n;default:break t}c=_p(e[o+136>>2],i+16|0)}if((c|0)==-1)break t;v=e[i+12>>2],g=Z(28),e[g+24>>2]=i,e[g+16>>2]=v,e[g+20>>2]=c,i=se,a=i,r=e[o+192>>2];i:{if(!r)break i;for(;;){if(i=r,r=e[r+16>>2],!((r|0)<=(v|0)&((r|0)<(v|0)|c>>>0>=nt[i+20>>2]))){if(a=i,r=e[i>>2],r)continue;break i}if(r=e[i+4>>2],!r)break}a=i+4|0}e[g+8>>2]=i,e[g>>2]=0,e[g+4>>2]=0,e[a>>2]=g,i=e[e[o+188>>2]>>2],i&&(e[o+188>>2]=i,g=e[a>>2]),_2(e[o+192>>2],g),e[o+196>>2]=e[o+196>>2]+1}if(r=e[o+156>>2],n=n+4|0,(L|0)==(n|0))break}}e:{t:{i:{if(!y[r+2|0]||(i=e[o+136>>2],r=e[i+100>>2],L=e[i+104>>2],(r|0)==(L|0)))break i;for(;;){v=e[r>>2],i=(o+136|0)+H(e[v+28>>2],12)|0,a=i- -64|0,c=e[i+72>>2],i=e[i+68>>2];n:{if((c|0)!=(i|0)){e[i>>2]=v,e[a+4>>2]=i+4;break n}if(n=e[a>>2],c=i-n|0,p=c>>2,i=p+1|0,i>>>0>=1073741824)break t;if(g=c>>1,g=c>>>0<2147483644?i>>>0<g>>>0?g:i:1073741823,g){if(g>>>0>=1073741824)break t;i=Z(g<<2)}else i=0;if(p=i+(p<<2)|0,e[p>>2]=v,(c|0)>0&&Ce(i,n,c),e[a+8>>2]=i+(g<<2),e[a+4>>2]=p+4,e[a>>2]=i,!n)break n;P(n)}if(r=r+4|0,(L|0)==(r|0))break}}i=o+136|0,be(i),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(i),U(e[o+160>>2],15245,6,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,i=e[o+136>>2],a=y[i+31|0],r=a<<24>>24<0,a=r?e[i+24>>2]:a;i:{if(!a){e[o+172>>2]=2;break i}i=i+20|0,Ki(o+136|0,r?e[i>>2]:i,a,2),i=e[o+136>>2]}if(i=e[i+32>>2],!i)break e;for(He=o+176|0;;){i:{n:{s:{r:{l:{u:switch(e[i+32>>2]){case 0:L=i+36|0,UN(o+136|0,L),e[o+304>>2]=0,e[o+296>>2]=0,e[o+300>>2]=0,v=i+152|0,$_((e[i+92>>2]-e[i+88>>2]>>3)+G0(v)|0,i+164|0,o+296|0),a=e[i+88>>2],g=e[i+92>>2];a:{if((a|0)==(g|0))break a;if(p=e[a>>2],_=e[a+4>>2],r=e[o+296>>2],x=e[r+4>>2],c=y[r+11|0],M=o+136|0,be(M),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(M),U(e[o+160>>2],11613,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,x=c<<24>>24<0?x:c,x&&(r=S[r+11|0]<0?e[r>>2]:r,c=Ge(r),be(o+136|0),U(e[o+160>>2],r,c,0,0),e[o+172>>2]=1),e[o+312>>2]=p,e[o+316>>2]=_,r=o+320|0,ci(r,o+312|0),r=S[o+331|0]<0?e[o+320>>2]:r,c=Ge(r),be(o+136|0),U(e[o+160>>2],r,c,0,0),e[o+172>>2]=1,S[o+331|0]<0&&P(e[o+320>>2]),c=a+8|0,(g|0)!=(c|0))for(n=(x|0)!=0,a=1;_=e[c>>2],x=e[c+4>>2],r=e[o+296>>2]+H(a,12)|0,p=y[r+11|0],j=n&1,M=p<<24>>24<0?e[r+4>>2]:p,n=(M|0)!=0,j|n&&(e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,p=o+136|0,be(p),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1,be(p),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(p),U(e[o+160>>2],11613,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2),M&&(r=S[r+11|0]<0?e[r>>2]:r,p=Ge(r),be(o+136|0),U(e[o+160>>2],r,p,0,0),e[o+172>>2]=1),e[o+312>>2]=_,e[o+316>>2]=x,r=o+320|0,ci(r,o+312|0),r=S[o+331|0]<0?e[o+320>>2]:r,p=Ge(r),be(o+136|0),U(e[o+160>>2],r,p,0,0),e[o+172>>2]=1,S[o+331|0]<0&&P(e[o+320>>2]),a=a+1|0,c=c+8|0,(g|0)!=(c|0););if(e[i+92>>2]==e[i+88>>2])break a;e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1}Na(o+136|0,i+100|0,6717),e[o+172>>2]==3&&be(o+136|0),e[o+172>>2]=2;a:{c:{if(!G0(v))break c;r=e[i+152>>2],p=e[i+156>>2];o:{if((r|0)==(p|0)||(x=e[i+92>>2]-e[i+88>>2]>>3,a=e[o+296>>2]+H(x,12)|0,g=e[a+4>>2],c=y[a+11|0],_=e[r>>2],M=e[r+4>>2],j=o+136|0,be(j),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(j),U(e[o+160>>2],12181,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,c=c<<24>>24<0?g:c,c&&(a=S[a+11|0]<0?e[a>>2]:a,g=Ge(a),be(o+136|0),U(e[o+160>>2],a,g,0,0),e[o+172>>2]=1),e[o+312>>2]=_,e[o+316>>2]=M,a=o+320|0,ci(a,o+312|0),a=S[o+331|0]<0?e[o+320>>2]:a,g=Ge(a),be(o+136|0),U(e[o+160>>2],a,g,0,0),e[o+172>>2]=1,S[o+331|0]<0&&P(e[o+320>>2]),a=e[r+8>>2],g=a>>>0<2,r=r+H(g,12)|0,(p|0)==(r|0)&g))break o;for(n=(c|0)!=0,c=1,g=a>>>0>1;M=e[r>>2],j=e[r+4>>2],a=e[o+296>>2]+H(c+x|0,12)|0,_=y[a+11|0],Xe=n&1,De=_<<24>>24<0?e[a+4>>2]:_,n=(De|0)!=0,Xe|n&&(e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,_=o+136|0,be(_),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1,be(_),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(_),U(e[o+160>>2],12181,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2),De&&(a=S[a+11|0]<0?e[a>>2]:a,_=Ge(a),be(o+136|0),U(e[o+160>>2],a,_,0,0),e[o+172>>2]=1),e[o+312>>2]=M,e[o+316>>2]=j,a=o+320|0,ci(a,o+312|0),a=S[o+331|0]<0?e[o+320>>2]:a,_=Ge(a),be(o+136|0),U(e[o+160>>2],a,_,0,0),e[o+172>>2]=1,S[o+331|0]<0&&P(e[o+320>>2]),c=c+1|0,a=g+1|0,_=e[r+8>>2],g=_>>>0>a>>>0?a:0,r=H(a>>>0>=_>>>0,12)+r|0,!!(g|(p|0)!=(r|0)););}if(!G0(v))break c;e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0);break a}if(e[o+172>>2]!=3)break a;be(o+136|0)}if(e[o+172>>2]=2,c=b-32|0,b=c,g=o+136|0,a=e[g+12>>2],v=e[g+8>>2],(a|0)!=(v|0))for(;r=a-40|0,p=e[r+28>>2],p&&(e[a-8>>2]=p,P(p)),p=e[a-24>>2],p&&(e[a-20>>2]=p,P(p)),S[r+11|0]<0&&P(e[r>>2]),a=r,(r|0)!=(v|0););e[g+12>>2]=v,e[c+28>>2]=0,e[c+24>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+8>>2]=0,e[c>>2]=0,e[c+4>>2]=0,r=L- -64|0;a:{if(v>>>0<nt[g+16>>2]){at=g,Ct=zk(v,0,c+16|0,c,r)+40|0,e[at+12>>2]=Ct;break a}PN(g+8|0,c+28|0,c+16|0,c,r)}r=e[c>>2],r&&(e[c+4>>2]=r,P(r)),S[c+27|0]<0&&P(e[c+16>>2]),e[g+4>>2]=L,b=c+32|0,r=i+184|0;a:{if(y[e[o+156>>2]]){if(a=o+136|0,vh(a,r),r=e[o+176>>2],e[o+176>>2]=0,e[o+320>>2]=r,c=e[o+180>>2],g=e[o+184>>2],e[o+180>>2]=0,e[o+184>>2]=0,e[o+324>>2]=c,e[o+328>>2]=g,ds(He,0),Ia(a,o+320|0),!r)break a;ds(o+320|0,r),P(e[o+320>>2]);break a}np(o+136|0,r)}if(e[o+140>>2]=0,e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=2,c=e[o+296>>2],!c)break i;if(r=e[o+300>>2],a=c,(r|0)!=(a|0)){for(;r=r-12|0,S[r+11|0]<0&&P(e[r>>2]),(r|0)!=(c|0););a=e[o+296>>2]}e[o+300>>2]=c,P(a);break i;case 1:HN(o+136|0,i+36|0);a:{c:{if(e[i+68>>2]){r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,np(r,i+60|0),e[o+172>>2]=0,be(r),U(e[o+160>>2],27978,1,0,0);break c}if(e[o+172>>2]==3)break a}e[o+172>>2]=0}e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0);break l;case 2:r=e[i+36>>2],y[e[o+156>>2]+2|0]||(a=o+136|0,be(a),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(a),U(e[o+160>>2],5799,6,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,c=y[r+15|0],g=c<<24>>24<0,Qc(a,g?e[r+4>>2]:r+4|0,g?e[r+8>>2]:c),e[o+172>>2]=1,p=a,a=y[r+27|0],c=a<<24>>24<0,Qc(p,c?e[r+16>>2]:r+16|0,c?e[r+20>>2]:a),e[o+172>>2]=1);a:{c:{o:switch(e[r+28>>2]){case 0:UN(o+136|0,r+32|0),e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1,r=1;break a;case 1:YN(o+136|0,r+32|0);break c;case 2:gT(o+136|0,r+32|0);break c;case 3:HN(o+136|0,r+32|0),e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1,r=1;break a;case 4:break o;default:break c}QN(o+136|0,r+32|0)}r=e[o+172>>2]}if(y[e[o+156>>2]+2|0]){if((r|0)!=3)break l;be(o+136|0);break l}(r|0)!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0);break l;case 10:QN(o+136|0,i+36|0);break i;case 3:a:{if(!y[e[o+156>>2]+1|0])break a;c:{o:switch(e[i+48>>2]){case 0:n=T2(e[o+136>>2],i+52|0);break c;case 1:n=no(e[o+136>>2],i+52|0);break c;case 2:n=Ys(e[o+136>>2],i+52|0);break c;case 3:n=Wh(e[o+136>>2],i+52|0);break c;case 4:break o;default:break c}n=_p(e[o+136>>2],i+52|0)}if(r=e[o+192>>2],!r)break a;for(a=e[i+48>>2],c=se;;){g=e[r+16>>2];c:{if((g|0)<(a|0)){r=r+4|0;break c}if(!((a|0)<(g|0)|nt[r+20>>2]>=n>>>0)){r=r+4|0;break c}c=r}if(r=e[r>>2],!r)break}if((c|0)==(se|0)||(r=e[c+16>>2],(r|0)>(a|0)))break a;if((r|0)<(a|0)|nt[c+20>>2]<=n>>>0)break i}r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],5780,6,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,c=r,r=y[i+47|0],a=r<<24>>24<0,Qc(c,a?e[i+36>>2]:i+36|0,a?e[i+40>>2]:r),e[o+172>>2]=1,r=25094,a=e[i+48>>2],a>>>0<=4&&(r=e[(a<<2)+58448>>2]),a=o+136|0,be(a),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,c=Ge(r),be(a),U(e[o+160>>2],r,c,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,r=i+76|0;a:{c:{if(!e[i+72>>2]){e[o>>2]=e[r>>2],yt(o+136|0,5606,o);break c}if(c=r,r=y[i+87|0],a=r<<24>>24<0,Ki(o+136|0,a?e[i+76>>2]:c,a?e[i+80>>2]:r,1),e[o+172>>2]==3)break a}e[o+172>>2]=0}e[o+168>>2]=e[o+168>>2]-2,r=o+136|0,be(r),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=0,e[o+168>>2]=e[o+168>>2]-2,be(r),U(e[o+160>>2],27978,1,0,0);break l;case 5:YN(o+136|0,i+40|0);break i;case 6:r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],11603,4,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,a=i+36|0,c=y[i+51|0],r=c<<24>>24<0,c=r?e[i+44>>2]:c;a:{if(c){g=i+40|0,Ki(o+136|0,r?e[g>>2]:g,c,1);break a}e[o+48>>2]=e[o+288>>2],yt(o+136|0,27848,o+48|0)}if(r=jT(a,e[o+136>>2]),c=r&3,(c|0)==2){a=o+136|0,be(a),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(a),U(e[o+160>>2],15348,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,a=i+76|0;a:{c:{if(!e[i+72>>2]){e[o+32>>2]=e[a>>2],yt(o+136|0,5606,o+32|0);break c}if(p=a,a=y[i+87|0],n=a<<24>>24<0,Ki(o+136|0,n?e[i+76>>2]:p,n?e[i+80>>2]:a,1),e[o+172>>2]==3)break a}e[o+172>>2]=0}e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1}!e[i+104>>2]|r&1||(a=o+136|0,be(a),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,np(a,i+96|0),e[o+172>>2]=0,be(a),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1),(c|0)==3&&(be(o+136|0),U(e[o+160>>2],13916,7,0,0),e[o+172>>2]=1);a:{if(r&4){if(r=e[i+92>>2],e[o+296>>2]=e[i+88>>2],e[o+300>>2]=r,r=o+320|0,ci(r,o+296|0),r=S[o+331|0]<0?e[o+320>>2]:r,a=Ge(r),be(o+136|0),U(e[o+160>>2],r,a,0,0),e[o+172>>2]=1,S[o+331|0]<0&&P(e[o+320>>2]),r=e[i+108>>2],c=e[i+112>>2],(r|0)==(c|0))break a;for(;e[r+8>>2]&&(a=o+136|0,be(a),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,np(a,r),e[o+172>>2]=0,be(a),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1),r=r+12|0,(c|0)!=(r|0););break a}if(be(o+136|0),U(e[o+160>>2],24220,4,0,0),e[o+172>>2]=1,c=e[i+108>>2],g=e[i+112>>2],(c|0)==(g|0))break a;for(;;){r=e[c>>2],a=r+60|0;c:{if(e[r+56>>2]){p=a,a=y[r+71|0],n=a<<24>>24<0,Ki(o+136|0,n?e[r+60>>2]:p,n?e[r- -64>>2]:a,1);break c}e[o+16>>2]=e[a>>2],yt(o+136|0,5606,o+16|0),e[o+172>>2]=1}if(c=c+12|0,(g|0)==(c|0))break}}e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=2,e[o+288>>2]=e[o+288>>2]+1;break i;case 7:gT(o+136|0,i+40|0);break i;case 8:r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],24424,4,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,a=y[i+51|0],r=a<<24>>24<0,a=r?e[i+44>>2]:a;a:{if(a){c=i+40|0,Ki(o+136|0,r?e[c>>2]:c,a,1);break a}e[o+80>>2]=e[o+284>>2],yt(o+136|0,27848,o+80|0)}if(e[i+36>>2]==1)break n;if(Ys(e[o+136>>2],i+52|0)){if(r=i+76|0,e[i+72>>2])break r;e[o+64>>2]=e[r>>2],yt(o+136|0,5606,o- -64|0)}e[o+172>>2]=1;break s;case 4:a=e[i+36>>2],r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],14425,4,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,n=e[a+28>>2],r=y[a+35|0],c=e[a+24>>2],g=e[o+276>>2],e[o+276>>2]=g+1,p=n,n=r<<24>>24<0,r=n?p:r;a:{if(r){Ki(o+136|0,n?c:a+24|0,r,1);break a}e[o+112>>2]=g,yt(o+136|0,27848,o+112|0)}a:{c:{o:{d:{m:switch(e[a+36>>2]){case 1:if(r=o+136|0,be(r),c=0,U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],7086,6,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,r=e[a+40>>2],n=e[a+44>>2],(r|0)==(n|0))break d;for(;;){a=o+136|0,be(a),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(a),U(e[o+160>>2],16051,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,g=y[r+11|0],a=g<<24>>24<0,g=a?e[r+4>>2]:g;A:{if(g){Ki(o+136|0,a?e[r>>2]:r,g,1);break A}e[o+96>>2]=c,yt(o+136|0,27848,o+96|0)}if(TT(o+136|0,r),e[o+172>>2]!=3&&(e[o+172>>2]=0),c=c+1|0,e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1,r=r+24|0,(n|0)==(r|0))break}break d;case 2:if(r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],1311,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,TT(r,a+40|0),e[o+172>>2]!=3)break d;break o;default:if(e[o+172>>2]!=3)break c;break a;case 0:break m}if(r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],24220,4,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,Na(r,a+40|0,11613),Na(r,a+52|0,6717),e[o+172>>2]==3)break o}e[o+172>>2]=0}e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0)}e[o+172>>2]=0}e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0);break l;case 9:break u;default:break i}r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,be(r),U(e[o+160>>2],5821,5,0,0),e[o+172>>2]=1,e[o+168>>2]=e[o+168>>2]+2,r=i+60|0;u:{a:{if(!e[i+56>>2]){e[o+128>>2]=e[r>>2],yt(o+136|0,5606,o+128|0);break a}if(c=r,r=y[i+71|0],a=r<<24>>24<0,Ki(o+136|0,a?e[i+60>>2]:c,a?e[i- -64>>2]:r,0),e[o+172>>2]==3)break u}e[o+172>>2]=0}e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0)}e[o+172>>2]=2;break i}c=r,r=y[i+87|0],a=r<<24>>24<0,Ki(o+136|0,a?e[i+76>>2]:c,a?e[i+80>>2]:r,1)}if(!e[i+96>>2])break n;r=o+136|0,be(r),U(e[o+160>>2],27980,1,0,0),e[o+172>>2]=0,np(r,i+88|0),e[o+172>>2]=0,be(r),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=1}r=e[i+100>>2],Qc(o+136|0,r,e[i+104>>2]-r|0),e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,be(o+136|0),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=2,e[o+284>>2]=e[o+284>>2]+1}if(i=e[i+4>>2],!i)break}break e}Be(),Ie()}if(e[o+172>>2]!=3&&(e[o+172>>2]=0),e[o+168>>2]=e[o+168>>2]-2,i=o+136|0,be(i),U(e[o+160>>2],27978,1,0,0),e[o+172>>2]=2,be(i),a=e[o+164>>2],i=e[o+248>>2],i&&(e[o+252>>2]=i,P(i)),i=e[o+236>>2],i&&(e[o+240>>2]=i,P(i)),i=e[o+224>>2],i&&(e[o+228>>2]=i,P(i)),i=e[o+212>>2],i&&(e[o+216>>2]=i,P(i)),i=e[o+200>>2],i&&(e[o+204>>2]=i,P(i)),B5(o+188|0,e[o+192>>2]),i=e[o+176>>2],i&&(ds(o+176|0,i),P(e[o+176>>2])),n=e[o+144>>2],n){if(i=n,r=e[o+148>>2],(i|0)!=(r|0)){for(;i=r-40|0,c=e[i+28>>2],c&&(e[r-8>>2]=c,P(c)),c=e[r-24>>2],c&&(e[r-20>>2]=c,P(c)),S[i+11|0]<0&&P(e[i>>2]),r=i,(n|0)!=(r|0););i=e[o+144>>2]}e[o+148>>2]=n,P(i)}return b=o+336|0,e[pe>>2]=a,a||(at=pe,Ct=Bh(X),e[at+4>>2]=Ct),e[X>>2]=48944,i=e[X+16>>2],e[X+16>>2]=0,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),b=V+32|0,pe|0}function JE(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0,bi=0,Fi=0,Ii=0,Ti=0,mn=0,os=0,cr=0,ra=0;if(Ut=b-160|0,b=Ut,e[Ut+60>>2]=r,e[Ut+20>>2]=r,e[Ut+24>>2]=-1,g=Ut+16|0,y5(g),pe=b-48|0,b=pe,o>>>0<=2){e:{for(o=o<<2,os=e[o+56780>>2],cr=e[o+56768>>2];;){o=e[g+4>>2];t:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break t}o=Os(g)}if(!((o|0)==32|o-9>>>0<5))break}V=1;t:{i:switch(o-43|0){case 0:case 2:break i;default:break t}if(V=(o|0)==45?-1:1,o=e[g+4>>2],(o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break t}o=Os(g)}t:{i:{for(;;){if(S[_+1089|0]==(o|32)){n:{if(_>>>0>6)break n;if(o=e[g+4>>2],(o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break n}o=Os(g)}if(_=_+1|0,(_|0)!=8)continue;break i}break}if((_|0)!=3){if((_|0)==8)break i;if(_>>>0<4)break t;if((_|0)==8)break i}if(o=e[g+116>>2],(o|0)>0|(o|0)>=0&&(e[g+4>>2]=e[g+4>>2]-1),_>>>0<4)break i;for(o=(o|0)<0;o||(e[g+4>>2]=e[g+4>>2]-1),_=_-1|0,_>>>0>3;);}L=b-16|0,b=L,v=(WZ(Ft(Ft(V|0)*Ft(jf))),F0(2)),o=v&2147483647;i:{if(o-8388608>>>0<=2130706431){V=o<<25,_=(o>>>7|0)+1065353216|0;break i}if(V=v<<25,_=v>>>7|2147418112,o>>>0>=2139095040||(V=0,_=0,!o))break i;p=o,o=Gi(o),Dr(L,p,0,0,0,o+81|0),p=e[L>>2],M=e[L+4>>2],V=e[L+8>>2],_=e[L+12>>2]^65536|16265-o<<16}o=_,e[pe>>2]=p,e[pe+4>>2]=M,e[pe+8>>2]=V,e[pe+12>>2]=v&-2147483648|o,b=L+16|0,p=e[pe+8>>2],M=e[pe+12>>2],L=e[pe>>2],x=e[pe+4>>2];break e}t:{i:{n:{if(_)break n;for(_=0;;){if(S[_+11571|0]!=(o|32))break n;s:{if(_>>>0>1)break s;if(o=e[g+4>>2],(o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break s}o=Os(g)}if(_=_+1|0,(_|0)==3)break}break i}n:switch(_|0){case 0:s:{if((o|0)!=48)break s;c=e[g+4>>2];r:{if((c|0)!=e[g+104>>2]){e[g+4>>2]=c+1,_=y[c|0];break r}_=Os(g)}if((_&-33)==88){c=b-432|0,b=c,o=e[g+4>>2];r:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,_=y[o|0];break r}_=Os(g)}r:{l:{for(;;){if((_|0)!=48){u:{if((_|0)!=46)break r;if(o=e[g+4>>2],(o|0)==e[g+104>>2])break u;e[g+4>>2]=o+1,_=y[o|0];break l}}else{o=e[g+4>>2],(o|0)!=e[g+104>>2]?(De=1,e[g+4>>2]=o+1,_=y[o|0]):(De=1,_=Os(g));continue}break}_=Os(g)}if(Ct=1,(_|0)!=48)break r;for(;;){o=He,He=o-1|0,Xe=Xe-!o|0,o=e[g+4>>2];l:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,_=y[o|0];break l}_=Os(g)}if((_|0)!=48)break}De=1}x=1073676288;r:{for(;;){l:{se=_|32;u:{a:{if(o=_-48|0,o>>>0<10)break a;if((_|0)!=46&se-97>>>0>=6)break r;if((_|0)!=46)break a;if(Ct)break l;Ct=1,He=p,Xe=M;break u}o=(_|0)>57?se-87|0:o;a:{if((M|0)<=0&p>>>0<=7|(M|0)<0){bi=o+(bi<<4)|0;break a}if(!M&p>>>0<=28){jo(c+48|0,o),on(c+32|0,Ti,mn,L,x,0,0,0,1073414144),Ti=e[c+32>>2],mn=e[c+36>>2],L=e[c+40>>2],x=e[c+44>>2],on(c+16|0,e[c+48>>2],e[c+52>>2],e[c+56>>2],e[c+60>>2],Ti,mn,L,x),wo(c,e[c+16>>2],e[c+20>>2],e[c+24>>2],e[c+28>>2],j,X,Fi,Ii),Fi=e[c+8>>2],Ii=e[c+12>>2],j=e[c>>2],X=e[c+4>>2];break a}if(!o|v)break a;on(c+80|0,Ti,mn,L,x,0,0,0,1073610752),wo(c- -64|0,e[c+80>>2],e[c+84>>2],e[c+88>>2],e[c+92>>2],j,X,Fi,Ii),Fi=e[c+72>>2],Ii=e[c+76>>2],v=1,j=e[c+64>>2],X=e[c+68>>2]}p=p+1|0,M=p?M:M+1|0,De=1}o=e[g+4>>2],(o|0)!=e[g+104>>2]?(e[g+4>>2]=o+1,_=y[o|0]):_=Os(g);continue}break}_=46}r:{if(!De){if(o=e[g+116>>2],(o|0)>0|(o|0)>=0){l:{if(o=e[g+4>>2],e[g+4>>2]=o-1,e[g+4>>2]=o-2,!Ct)break l;e[g+4>>2]=o-3}}y2(c+96|0,+(V|0)*0),j=e[c+96>>2],X=e[c+100>>2],p=e[c+108>>2],o=e[c+104>>2];break r}if((M|0)<=0&p>>>0<=7|(M|0)<0)for(L=p,x=M;bi=bi<<4,L=L+1|0,x=L?x:x+1|0,!!(x|(L|0)!=8););l:{u:{a:{if((_&-33)==80){if(L=TN(g),o=At,x=o,L|(o|0)!=-2147483648)break l;if(o=e[g+116>>2],(o|0)>0|(o|0)>=0)break a;break u}if(L=0,x=0,e[g+116>>2]<0)break l}e[g+4>>2]=e[g+4>>2]-1}L=0,x=0}if(!bi){y2(c+112|0,+(V|0)*0),j=e[c+112>>2],X=e[c+116>>2],p=e[c+124>>2],o=e[c+120>>2];break r}if(p=Ct?He:p,o=(Ct?Xe:M)<<2|p>>>30,v=L+(p<<2)|0,p=v-32|0,o=o+x|0,M=(v>>>0<L>>>0?o+1|0:o)-(v>>>0<32)|0,o=M,p>>>0>0-os>>>0&(o|0)>=0|(o|0)>0){e[98173]=68,jo(c+160|0,V),on(c+144|0,e[c+160>>2],e[c+164>>2],e[c+168>>2],e[c+172>>2],-1,-1,-1,2147418111),on(c+128|0,e[c+144>>2],e[c+148>>2],e[c+152>>2],e[c+156>>2],-1,-1,-1,2147418111),j=e[c+128>>2],X=e[c+132>>2],p=e[c+140>>2],o=e[c+136>>2];break r}if(v=os-226|0,o=v>>31,(M|0)>=(o|0)&p>>>0>=v>>>0|(o|0)<(M|0)){if((bi|0)>=0)for(;wo(c+416|0,j,X,Fi,Ii,0,0,0,-1073807360),v=BT(j,X,Fi,Ii,1073610752),o=(v|0)<0,wo(c+400|0,j,X,Fi,Ii,o?j:e[c+416>>2],o?X:e[c+420>>2],o?Fi:e[c+424>>2],o?Ii:e[c+428>>2]),o=p,p=o-1|0,M=M-!o|0,Fi=e[c+408>>2],Ii=e[c+412>>2],j=e[c+400>>2],X=e[c+404>>2],bi=bi<<1|(v|0)>=0,(bi|0)>=0;);o=M-((os>>31)+(p>>>0<os>>>0)|0)|0,v=(p-os|0)+32|0,o=v>>>0<32?o+1|0:o,o=v>>>0<cr>>>0&(o|0)<=0|(o|0)<0?(v|0)>0?v:0:cr;l:{if((o|0)>=113){jo(c+384|0,V),He=e[c+392>>2],Xe=e[c+396>>2],Ti=e[c+384>>2],mn=e[c+388>>2],x=0,v=0;break l}y2(c+352|0,f5(144-o|0)),jo(c+336|0,V),Ti=e[c+336>>2],mn=e[c+340>>2],He=e[c+344>>2],Xe=e[c+348>>2],wR(c+368|0,e[c+352>>2],e[c+356>>2],e[c+360>>2],e[c+364>>2],Ti,mn,He,Xe),oi=e[c+376>>2],at=e[c+380>>2],x=e[c+372>>2],v=e[c+368>>2]}o=!(bi&1)&((Lh(j,X,Fi,Ii,0,0,0,0)|0)!=0&(o|0)<32),r1(c+320|0,o+bi|0),on(c+304|0,Ti,mn,He,Xe,e[c+320>>2],e[c+324>>2],e[c+328>>2],e[c+332>>2]),wo(c+272|0,e[c+304>>2],e[c+308>>2],e[c+312>>2],e[c+316>>2],v,x,oi,at),on(c+288|0,Ti,mn,He,Xe,o?0:j,o?0:X,o?0:Fi,o?0:Ii),wo(c+256|0,e[c+288>>2],e[c+292>>2],e[c+296>>2],e[c+300>>2],e[c+272>>2],e[c+276>>2],e[c+280>>2],e[c+284>>2]),v5(c+240|0,e[c+256>>2],e[c+260>>2],e[c+264>>2],e[c+268>>2],v,x,oi,at),L=e[c+240>>2],V=e[c+244>>2],v=e[c+248>>2],o=e[c+252>>2],Lh(L,V,v,o,0,0,0,0)||(e[98173]=68),sT(c+224|0,L,V,v,o,p),j=e[c+224>>2],X=e[c+228>>2],p=e[c+236>>2],o=e[c+232>>2];break r}e[98173]=68,jo(c+208|0,V),on(c+192|0,e[c+208>>2],e[c+212>>2],e[c+216>>2],e[c+220>>2],0,0,0,65536),on(c+176|0,e[c+192>>2],e[c+196>>2],e[c+200>>2],e[c+204>>2],0,0,0,65536),j=e[c+176>>2],X=e[c+180>>2],p=e[c+188>>2],o=e[c+184>>2]}e[pe+16>>2]=j,e[pe+20>>2]=X,e[pe+24>>2]=o,e[pe+28>>2]=p,b=c+432|0,p=e[pe+24>>2],M=e[pe+28>>2],L=e[pe+16>>2],x=e[pe+20>>2];break e}if(e[g+116>>2]<0)break s;e[g+4>>2]=e[g+4>>2]-1}oi=V,V=0,a=b-8976|0,b=a,bi=os+cr|0,c=0-bi|0;s:{r:{for(;;){if((o|0)!=48){l:{if((o|0)!=46)break s;if(o=e[g+4>>2],(o|0)==e[g+104>>2])break l;e[g+4>>2]=o+1,o=y[o|0];break r}}else{o=e[g+4>>2],(o|0)!=e[g+104>>2]?(V=1,e[g+4>>2]=o+1,o=y[o|0]):(V=1,o=Os(g));continue}break}o=Os(g)}if(se=1,(o|0)!=48)break s;for(;;){o=p,p=o-1|0,M=M-!o|0,o=e[g+4>>2];r:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break r}o=Os(g)}if((o|0)!=48)break}V=1}e[a+784>>2]=0;s:{r:{v=(o|0)==46,j=o-48|0;l:{u:{a:{if(v|j>>>0<=9)for(;;){c:{if(v&1){if(!se){p=L,M=x,se=1;break c}v=!V;break a}if(L=L+1|0,x=L?x:x+1|0,(De|0)<=2044){Ct=(o|0)==48?Ct:L,v=(a+784|0)+(De<<2)|0,e[v>>2]=at?(H(e[v>>2],10)+o|0)-48|0:j,V=1,o=at+1|0,v=(o|0)==9,at=v?0:o,De=v+De|0;break c}if((o|0)==48)break c;e[a+8960>>2]=e[a+8960>>2]|1,Ct=18396}o=e[g+4>>2];c:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break c}o=Os(g)}if(v=(o|0)==46,j=o-48|0,!(v|j>>>0<10))break}if(p=se?p:L,M=se?M:x,!(!V|(o&-33)!=69)){j=TN(g),o=At,X=o;c:{if(j|(o|0)!=-2147483648||(j=0,X=0,e[g+116>>2]<0))break c;e[g+4>>2]=e[g+4>>2]-1}if(!V)break l;o=M+X|0,p=p+j|0,M=p>>>0<j>>>0?o+1|0:o;break r}if(v=!V,(o|0)<0)break u}if(e[g+116>>2]<0)break u;e[g+4>>2]=e[g+4>>2]-1}if(!v)break r}e[98173]=28,L=0,x=0,y5(g),p=0,o=0;break s}if(o=e[a+784>>2],!o){y2(a,+(oi|0)*0),L=e[a>>2],x=e[a+4>>2],p=e[a+12>>2],o=e[a+8>>2];break s}if(!((p|0)!=(L|0)|(x|0)!=(M|0)|(L>>>0>9&(x|0)>=0|(x|0)>0)|(o>>>cr|0?(cr|0)<=30:0))){jo(a+48|0,oi),r1(a+32|0,o),on(a+16|0,e[a+48>>2],e[a+52>>2],e[a+56>>2],e[a+60>>2],e[a+32>>2],e[a+36>>2],e[a+40>>2],e[a+44>>2]),L=e[a+16>>2],x=e[a+20>>2],p=e[a+28>>2],o=e[a+24>>2];break s}if(p>>>0>(os|0)/-2>>>0&(M|0)>=0|(M|0)>0){e[98173]=68,jo(a+96|0,oi),on(a+80|0,e[a+96>>2],e[a+100>>2],e[a+104>>2],e[a+108>>2],-1,-1,-1,2147418111),on(a- -64|0,e[a+80>>2],e[a+84>>2],e[a+88>>2],e[a+92>>2],-1,-1,-1,2147418111),L=e[a+64>>2],x=e[a+68>>2],p=e[a+76>>2],o=e[a+72>>2];break s}if(o=os-226|0,_=p>>>0<o>>>0,o=o>>31,_&(M|0)<=(o|0)|(o|0)>(M|0)){e[98173]=68,jo(a+144|0,oi),on(a+128|0,e[a+144>>2],e[a+148>>2],e[a+152>>2],e[a+156>>2],0,0,0,65536),on(a+112|0,e[a+128>>2],e[a+132>>2],e[a+136>>2],e[a+140>>2],0,0,0,65536),L=e[a+112>>2],x=e[a+116>>2],p=e[a+124>>2],o=e[a+120>>2];break s}if(at){if((at|0)<=8){for(o=(a+784|0)+(De<<2)|0,_=e[o>>2];_=H(_,10),at=at+1|0,(at|0)!=9;);e[o>>2]=_}De=De+1|0}r:{if(se=p,(Ct|0)>(p|0)|(Ct|0)>=9|(p|0)>17)break r;if((se|0)==9){jo(a+192|0,oi),r1(a+176|0,e[a+784>>2]),on(a+160|0,e[a+192>>2],e[a+196>>2],e[a+200>>2],e[a+204>>2],e[a+176>>2],e[a+180>>2],e[a+184>>2],e[a+188>>2]),L=e[a+160>>2],x=e[a+164>>2],p=e[a+172>>2],o=e[a+168>>2];break s}if((se|0)<=8){jo(a+272|0,oi),r1(a+256|0,e[a+784>>2]),on(a+240|0,e[a+272>>2],e[a+276>>2],e[a+280>>2],e[a+284>>2],e[a+256>>2],e[a+260>>2],e[a+264>>2],e[a+268>>2]),jo(a+224|0,e[(0-se<<2)+56768>>2]),eN(a+208|0,e[a+240>>2],e[a+244>>2],e[a+248>>2],e[a+252>>2],e[a+224>>2],e[a+228>>2],e[a+232>>2],e[a+236>>2]),L=e[a+208>>2],x=e[a+212>>2],p=e[a+220>>2],o=e[a+216>>2];break s}if(p=(H(se,-3)+cr|0)+27|0,o=e[a+784>>2],o>>>p|0&&(p|0)<=30)break r;jo(a+352|0,oi),r1(a+336|0,o),on(a+320|0,e[a+352>>2],e[a+356>>2],e[a+360>>2],e[a+364>>2],e[a+336>>2],e[a+340>>2],e[a+344>>2],e[a+348>>2]),jo(a+304|0,e[(se<<2)+56696>>2]),on(a+288|0,e[a+320>>2],e[a+324>>2],e[a+328>>2],e[a+332>>2],e[a+304>>2],e[a+308>>2],e[a+312>>2],e[a+316>>2]),L=e[a+288>>2],x=e[a+292>>2],p=e[a+300>>2],o=e[a+296>>2];break s}for(;o=De,De=o-1|0,!e[(a+784|0)+(De<<2)>>2];);at=0,p=(se|0)%9|0;r:{if(!p){v=0;break r}v=0,g=(se|0)<0?p+9|0:p;l:{if(!o){o=0;break l}for(De=e[(0-g<<2)+56768>>2],M=1e9/(De|0)|0,j=0,_=0;p=(a+784|0)+(_<<2)|0,L=e[p>>2],V=(L>>>0)/(De>>>0)|0,x=j+V|0,e[p>>2]=x,p=!x&(v|0)==(_|0),v=p?v+1&2047:v,se=p?se-9|0:se,j=H(M,L-H(V,De)|0),_=_+1|0,(_|0)!=(o|0););if(!j)break l;e[(a+784|0)+(o<<2)>>2]=j,o=o+1|0}se=(se-g|0)+9|0}for(;;){M=(a+784|0)+(v<<2)|0;r:{for(;;){if(((se|0)!=36|nt[M>>2]>=10384593)&(se|0)>=36)break r;for(V=o+2047|0,j=0;x=V&2047,L=(a+784|0)+(x<<2)|0,V=e[L>>2],p=V>>>3|0,De=p+1|0,_=p,V=V<<29,p=V+j|0,V=p>>>0<V>>>0?De:_,!V&p>>>0<1000000001?j=0:(j=Mk(p,V,1e9),p=p-ki(j,At,1e9,0)|0),e[L>>2]=p,o=(x|0)!=(o-1&2047)||(v|0)==(x|0)||p?o:x,V=x-1|0,(v|0)!=(x|0););if(at=at-29|0,!!j)break}v=v-1&2047,(v|0)==(o|0)&&(V=a+784|0,p=V+((o+2046&2047)<<2)|0,o=o-1&2047,e[p>>2]=e[p>>2]|e[V+(o<<2)>>2]),se=se+9|0,e[(a+784|0)+(v<<2)>>2]=j;continue}break}r:{l:for(;;){for(p=o+1&2047,Ct=(a+784|0)+((o-1&2047)<<2)|0;;){X=(se|0)>45?9:1;u:{for(;;){V=v,_=0;a:{for(;;){c:{if(v=_+V&2047,(v|0)==(o|0)||(L=e[(a+784|0)+(v<<2)>>2],v=e[(_<<2)+56720>>2],L>>>0<v>>>0))break c;if(v>>>0<L>>>0)break a;if(_=_+1|0,(_|0)!=4)continue}break}if((se|0)!=36)break a;for(p=0,M=0,_=0,L=0,x=0;v=_+V&2047,(v|0)==(o|0)&&(o=o+1&2047,e[(a+(o<<2)|0)+780>>2]=0),r1(a+768|0,e[(a+784|0)+(v<<2)>>2]),on(a+752|0,p,M,L,x,0,0,1342177280,1075633366),wo(a+736|0,e[a+752>>2],e[a+756>>2],e[a+760>>2],e[a+764>>2],e[a+768>>2],e[a+772>>2],e[a+776>>2],e[a+780>>2]),L=e[a+744>>2],x=e[a+748>>2],p=e[a+736>>2],M=e[a+740>>2],_=_+1|0,(_|0)!=4;);if(jo(a+720|0,oi),on(a+704|0,p,M,L,x,e[a+720>>2],e[a+724>>2],e[a+728>>2],e[a+732>>2]),L=e[a+712>>2],x=e[a+716>>2],p=0,M=0,j=e[a+704>>2],X=e[a+708>>2],De=at+113|0,se=De-os|0,g=(se|0)<(cr|0),Ct=g?(se|0)>0?se:0:cr,(Ct|0)<=112)break u;break r}if(at=X+at|0,v=o,(o|0)!=(V|0))break}for(De=1e9>>>X|0,x=-1<<X^-1,_=0,v=V;L=(a+784|0)+(V<<2)|0,M=e[L>>2],g=(M>>>X|0)+_|0,e[L>>2]=g,L=!g&(v|0)==(V|0),v=L?v+1&2047:v,se=L?se-9|0:se,_=H(De,x&M),V=V+1&2047,(V|0)!=(o|0););if(!_)continue;if((p|0)!=(v|0)){e[(a+784|0)+(o<<2)>>2]=_,o=p;continue l}e[Ct>>2]=e[Ct>>2]|1;continue}break}break}y2(a+656|0,f5(225-Ct|0)),wR(a+688|0,e[a+656>>2],e[a+660>>2],e[a+664>>2],e[a+668>>2],j,X,L,x),Fi=e[a+696>>2],Ii=e[a+700>>2],Ti=e[a+688>>2],mn=e[a+692>>2],y2(a+640|0,f5(113-Ct|0)),pN(a+672|0,j,X,L,x,e[a+640>>2],e[a+644>>2],e[a+648>>2],e[a+652>>2]),p=e[a+672>>2],M=e[a+676>>2],He=e[a+680>>2],Xe=e[a+684>>2],v5(a+624|0,j,X,L,x,p,M,He,Xe),wo(a+608|0,Ti,mn,Fi,Ii,e[a+624>>2],e[a+628>>2],e[a+632>>2],e[a+636>>2]),L=e[a+616>>2],x=e[a+620>>2],j=e[a+608>>2],X=e[a+612>>2]}v=V+4&2047;r:{if((v|0)==(o|0))break r;v=e[(a+784|0)+(v<<2)>>2];l:{if(v>>>0<=499999999){if(!v&(V+5&2047)==(o|0))break l;y2(a+496|0,+(oi|0)*.25),wo(a+480|0,p,M,He,Xe,e[a+496>>2],e[a+500>>2],e[a+504>>2],e[a+508>>2]),He=e[a+488>>2],Xe=e[a+492>>2],p=e[a+480>>2],M=e[a+484>>2];break l}if((v|0)!=5e8){y2(a+592|0,+(oi|0)*.75),wo(a+576|0,p,M,He,Xe,e[a+592>>2],e[a+596>>2],e[a+600>>2],e[a+604>>2]),He=e[a+584>>2],Xe=e[a+588>>2],p=e[a+576>>2],M=e[a+580>>2];break l}if(ra=+(oi|0),(V+5&2047)==(o|0)){y2(a+528|0,ra*.5),wo(a+512|0,p,M,He,Xe,e[a+528>>2],e[a+532>>2],e[a+536>>2],e[a+540>>2]),He=e[a+520>>2],Xe=e[a+524>>2],p=e[a+512>>2],M=e[a+516>>2];break l}y2(a+560|0,ra*.75),wo(a+544|0,p,M,He,Xe,e[a+560>>2],e[a+564>>2],e[a+568>>2],e[a+572>>2]),He=e[a+552>>2],Xe=e[a+556>>2],p=e[a+544>>2],M=e[a+548>>2]}if((Ct|0)>111||(pN(a+464|0,p,M,He,Xe,0,0,0,1073676288),Lh(e[a+464>>2],e[a+468>>2],e[a+472>>2],e[a+476>>2],0,0,0,0)))break r;wo(a+448|0,p,M,He,Xe,0,0,0,1073676288),He=e[a+456>>2],Xe=e[a+460>>2],p=e[a+448>>2],M=e[a+452>>2]}wo(a+432|0,j,X,L,x,p,M,He,Xe),v5(a+416|0,e[a+432>>2],e[a+436>>2],e[a+440>>2],e[a+444>>2],Ti,mn,Fi,Ii),L=e[a+424>>2],x=e[a+428>>2],j=e[a+416>>2],X=e[a+420>>2];r:{if((-2-bi|0)>=(De&2147483647)||(e[a+408>>2]=L,e[a+412>>2]=x&2147483647,e[a+400>>2]=j,e[a+404>>2]=X,on(a+384|0,j,X,L,x,0,0,0,1073610752),o=BT(e[a+400>>2],e[a+404>>2],e[a+408>>2],e[a+412>>2],1081081856),v=(o|0)<0,L=v?L:e[a+392>>2],x=v?x:e[a+396>>2],j=v?j:e[a+384>>2],X=v?X:e[a+388>>2],at=((o|0)>=0)+at|0,!((Lh(p,M,He,Xe,0,0,0,0)|0)!=0&(v?g:g&(se|0)!=(Ct|0)))&&(at+110|0)<=(c|0)))break r;e[98173]=68}sT(a+368|0,j,X,L,x,at),L=e[a+368>>2],x=e[a+372>>2],p=e[a+380>>2],o=e[a+376>>2]}e[pe+40>>2]=o,e[pe+44>>2]=p,e[pe+32>>2]=L,e[pe+36>>2]=x,b=a+8976|0,p=e[pe+40>>2],M=e[pe+44>>2],L=e[pe+32>>2],x=e[pe+36>>2];break e;case 3:break i;default:break n}o=e[g+116>>2],(o|0)>0|(o|0)>=0&&(e[g+4>>2]=e[g+4>>2]-1),e[98173]=28;break t}i:{o=e[g+4>>2];n:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break n}o=Os(g)}if((o|0)==40){_=1;break i}if(M=2147450880,e[g+116>>2]<0)break e;e[g+4>>2]=e[g+4>>2]-1;break e}for(;;){o=e[g+4>>2];i:{if((o|0)!=e[g+104>>2]){e[g+4>>2]=o+1,o=y[o|0];break i}o=Os(g)}if(!(!(o-48>>>0<10|o-65>>>0<26|(o|0)==95)&o-97>>>0>=26)){_=_+1|0;continue}break}if(M=2147450880,(o|0)==41||(o=e[g+116>>2],(o|0)>0|(o|0)>=0&&(e[g+4>>2]=e[g+4>>2]-1),!_))break e;for(;_=_-1|0,(o|0)>0|(o|0)>=0&&(e[g+4>>2]=e[g+4>>2]-1),!!_;);break e}y5(g)}}e[Ut>>2]=L,e[Ut+4>>2]=x,e[Ut+8>>2]=p,e[Ut+12>>2]=M,b=pe+48|0,V=e[Ut+8>>2],v=e[Ut+12>>2],p=e[Ut>>2],o=e[Ut+4>>2],n&&(e[n>>2]=((e[Ut+20>>2]+e[Ut+136>>2]|0)-e[Ut+60>>2]|0)+r),e[i+8>>2]=V,e[i+12>>2]=v,e[i>>2]=p,e[i+4>>2]=o,b=Ut+160|0}function z_(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0;v=b-128|0,b=v,e[v+40>>2]=0,e[v+32>>2]=0,e[v+36>>2]=0,He=i+16|0;e:for(;;){t:{o=we(i,0),n=we(i,1);i:{if(Ta(o)||(L=o-63|0,1<<L&17301505&&L>>>0<=24))break i;V=0;n:{s:switch(o-118|0){default:if((o|0)!=26)break t;if(Ta(n))break i;if(o=n-63|0,o>>>0>24|!(1<<o&17301505))break n;break i;case 1:case 2:case 3:break t;case 0:break i;case 4:break s}o=v+32|0,L=b-16|0,b=L,g=1,a=i+16|0,c=e[i+92>>2]&1,n=a+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,p=e[n+24>>2],x=e[n+28>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,_=0,e[L+8>>2]=0,e[L>>2]=0,e[L+4>>2]=0;s:{r:{if(($n(i,L)|0)!=1){if(g=0,n=y[L+11|0],c=n<<24>>24<0,n=c?e[L+4>>2]:n,n){if((n|0)<0)break r;_=e[L>>2],g=Z(n),_=Ce(g,c?_:L,n)+n|0}c=Z(56),n=c,e[n+4>>2]=0,e[n+8>>2]=0,e[n+44>>2]=g,e[n+36>>2]=p+14,e[n>>2]=46524,e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+28>>2]=0,e[n+32>>2]=15,e[n+52>>2]=_,e[n+48>>2]=_,e[n+40>>2]=x-14,n=e[o+4>>2],n?(e[c+8>>2]=n,n=n+4|0):n=o,e[n>>2]=c,e[o+4>>2]=c,e[o+8>>2]=e[o+8>>2]+1,we(i,0),n=e[i+92>>2]&1,o=a+H(n,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,g=0}S[L+11|0]<0&&P(e[L>>2]),b=L+16|0;break s}Be(),Ie()}if(!g){if(n=e[v+32>>2],!n)continue;for(g=e[r+8>>2],_=e[v+40>>2],o=n;;){L=e[o+4>>2];s:{if(e[v+36>>2]!=(n|0)){a=e[o+8>>2];r:{if(a){e[a+4>>2]=L,c=e[o+4>>2];break r}e[v+32>>2]=L,n=L,c=n}if(c){e[c+8>>2]=a;break s}e[v+36>>2]=a;break s}e[v+32>>2]=0,e[v+36>>2]=0,n=0}if(e[o+4>>2]=0,e[o+8>>2]=0,_=_-1|0,c=e[r+4>>2],c?(e[o+8>>2]=c,c=c+4|0):c=r,e[c>>2]=o,e[r+4>>2]=o,g=g+1|0,o=L,!o)break}e[v+40>>2]=_,e[r+8>>2]=g;continue}for(o=0;;){if(n=we(i,0),we(i,1),(n|0)==122)continue e;L=e[i+92>>2]&1,n=H(L,36)+He|0,e[v+120>>2]=e[n+32>>2],g=e[n+28>>2],e[v+112>>2]=e[n+24>>2],e[v+116>>2]=g,g=e[n+20>>2],e[v+104>>2]=e[n+16>>2],e[v+108>>2]=g,g=e[n+12>>2],e[v+96>>2]=e[n+8>>2],e[v+100>>2]=g,g=e[n+4>>2],e[v+88>>2]=e[n>>2],e[v+92>>2]=g,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!L,e[i+88>>2]=e[i+88>>2]-1;s:{if(e[v+108>>2]!=124||(e[v+80>>2]=e[v+104>>2],n=e[v+100>>2],e[v+72>>2]=e[v+96>>2],e[v+76>>2]=n,n=e[v+92>>2],e[v+64>>2]=e[v+88>>2],e[v+68>>2]=n,n=v+48|0,c8(n,v+88|0),L=e[v+76>>2],e[v+16>>2]=e[v+72>>2],e[v+20>>2]=L,e[v+24>>2]=e[v+80>>2],L=e[v+68>>2],e[v+8>>2]=e[v+64>>2],e[v+12>>2]=L,e[v>>2]=S[v+59|0]<0?e[v+48>>2]:n,Kt(i,v+8|0,26391,v),S[v+59|0]>=0))break s;P(e[v+48>>2])}if(o=o+1|0,(o|0)==10)break}V=1;break t}if((n|0)!=118)break t}L=v+32|0,x=b-16|0,b=x;i:{if(Ta(we(i,0))){if(e[x+8>>2]=0,V=1,o=KE(i,x+8|0),n=e[x+8>>2],(o|0)!=1){o=e[L+4>>2],o?(e[n+8>>2]=o,o=o+4|0):o=L,e[o>>2]=n,e[L+4>>2]=n,e[L+8>>2]=e[L+8>>2]+1,V=0;break i}if(e[x+8>>2]=0,!n)break i;F[e[e[n>>2]+4>>2]](n);break i}n:{s:{r:{if(o=we(i,0),n=o-63|0,!((1<<n&17301505?n>>>0<=24:0)|(o|0)==118)){if(n=we(i,0),V=1,o=we(i,1),(n|0)!=26)break i;if(Ta(o))break n;if(n=o-63|0,n>>>0<=24)break r;break s}e[x>>2]=0,V=1,X=0,a=b-176|0,b=a,M=i+16|0;l:{if(e[i+88>>2]){n=e[i+92>>2];break l}ri(a+112|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,g=e[a+116>>2],n=e[i+92>>2],o=H(o+n&1,36)+M|0,e[o>>2]=e[a+112>>2],e[o+4>>2]=g,e[o+32>>2]=e[a+144>>2],g=e[a+140>>2],e[o+24>>2]=e[a+136>>2],e[o+28>>2]=g,g=e[a+132>>2],e[o+16>>2]=e[a+128>>2],e[o+20>>2]=g,g=e[a+124>>2],e[o+8>>2]=e[a+120>>2],e[o+12>>2]=g}o=1,n=H(n&1,36)+M|0,e[a+72>>2]=e[n+16>>2],c=e[n+12>>2],g=a- -64|0,e[g>>2]=e[n+8>>2],e[g+4>>2]=c,c=e[n+4>>2],e[a+56>>2]=e[n>>2],e[a+60>>2]=c;l:{u:{a:{c:{o:switch(n=we(i,0),n-63|0){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 20:case 21:case 22:case 23:break l;case 19:break a;case 24:break c;case 0:break o;default:break u}c=e[i+92>>2]&1,n=H(c,36)+M|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,n=Z(184),e[n+4>>2]=0,e[n+8>>2]=0,c=e[a+72>>2],_=e[g>>2],g=e[g+4>>2],p=e[a+56>>2],M=e[a+60>>2],e[n>>2]=40028,e[n+36>>2]=0,e[n+40>>2]=0,e[n+32>>2]=8,e[n+12>>2]=p,e[n+16>>2]=M,e[n+20>>2]=_,e[n+24>>2]=g,e[n+28>>2]=c,S[n+41|0]=0,S[n+42|0]=0,S[n+43|0]=0,S[n+44|0]=0,S[n+45|0]=0,S[n+46|0]=0,S[n+47|0]=0,S[n+48|0]=0,e[a+128>>2]=0,e[a+120>>2]=0,e[a+124>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,Ne(n+52|0,-1,a+112|0),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+132>>2]=0,e[n+136>>2]=0,e[n+128>>2]=1065353216,e[n+140>>2]=0,e[n+144>>2]=0,e[n+152>>2]=0,e[n+156>>2]=0,e[n+148>>2]=1065353216,e[n+160>>2]=0,e[n+164>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+176>>2]=0,e[n+180>>2]=0;o:{if(g=n+36|0,(H0(i,g)|0)==1||(qf(i,g)|0)==1||(Ve(i,79)|0)==1||(Wm(i,g)|0)==1)break o;if(g=e[x>>2],e[x>>2]=n,o=0,!g)break l;F[e[e[g>>2]+4>>2]](g);break l}F[e[e[n>>2]+4>>2]](n);break l}c=e[i+92>>2]&1,n=H(c,36)+M|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,n=Z(184),e[n+4>>2]=0,e[n+8>>2]=0,c=e[a+72>>2],_=e[g>>2],g=e[g+4>>2],p=e[a+56>>2],M=e[a+60>>2],e[n>>2]=42028,e[n+36>>2]=0,e[n+40>>2]=0,e[n+32>>2]=27,e[n+12>>2]=p,e[n+16>>2]=M,e[n+20>>2]=_,e[n+24>>2]=g,e[n+28>>2]=c,S[n+41|0]=0,S[n+42|0]=0,S[n+43|0]=0,S[n+44|0]=0,S[n+45|0]=0,S[n+46|0]=0,S[n+47|0]=0,S[n+48|0]=0,e[a+128>>2]=0,e[a+120>>2]=0,e[a+124>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,Ne(n+52|0,-1,a+112|0),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+132>>2]=0,e[n+136>>2]=0,e[n+128>>2]=1065353216,e[n+140>>2]=0,e[n+144>>2]=0,e[n+152>>2]=0,e[n+156>>2]=0,e[n+148>>2]=1065353216,e[n+160>>2]=0,e[n+164>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+176>>2]=0,e[n+180>>2]=0;c:{if(g=n+36|0,(H0(i,g)|0)==1||(qf(i,g)|0)==1||(Ve(i,79)|0)==1||(Wm(i,g)|0)==1)break c;if(g=e[x>>2],e[x>>2]=n,o=0,!g)break l;F[e[e[g>>2]+4>>2]](g);break l}F[e[e[n>>2]+4>>2]](n);break l}c=e[i+92>>2]&1,n=H(c,36)+M|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,n=Z(216),e[n+4>>2]=0,e[n+8>>2]=0,c=e[a+72>>2],_=e[g>>2],g=e[g+4>>2],p=e[a+56>>2],j=e[a+60>>2],e[n>>2]=41408,e[n+36>>2]=0,e[n+40>>2]=0,e[n+32>>2]=22,e[n+12>>2]=p,e[n+16>>2]=j,e[n+20>>2]=_,e[n+24>>2]=g,e[n+28>>2]=c,S[n+41|0]=0,S[n+42|0]=0,S[n+43|0]=0,S[n+44|0]=0,S[n+45|0]=0,S[n+46|0]=0,S[n+47|0]=0,S[n+48|0]=0,e[a+128>>2]=0,e[a+120>>2]=0,e[a+124>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,Ne(n+52|0,-1,a+112|0),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+132>>2]=0,e[n+136>>2]=0,e[n+128>>2]=1065353216,e[n+140>>2]=0,e[n+144>>2]=0,e[n+152>>2]=0,e[n+156>>2]=0,e[n+148>>2]=1065353216,e[n+160>>2]=0,e[n+164>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+176>>2]=0,e[n+180>>2]=0,e[n+184>>2]=0,e[n+188>>2]=0,e[n+192>>2]=0,e[n+196>>2]=0,e[n+200>>2]=0,e[n+204>>2]=0,e[n+208>>2]=0,e[n+212>>2]=0;a:{if(c=n+36|0,(H0(i,c)|0)==1||(qf(i,c)|0)==1)break a;if((we(i,0)|0)==78){if(_=e[i+92>>2]&1,g=H(_,36)+M|0,e[g>>2]=0,e[g+4>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[i+92>>2]=!_,e[i+88>>2]=e[i+88>>2]-1,(Wm(i,c)|0)==1||(Gc(i,n+184|0)|0)==1)break a;ta(a+112|0,i),e[n+212>>2]=e[a+128>>2],g=e[a+124>>2],e[n+204>>2]=e[a+120>>2],e[n+208>>2]=g,g=e[a+116>>2],e[n+196>>2]=e[a+112>>2],e[n+200>>2]=g}if((Ve(i,79)|0)==1||(Wm(i,c)|0)==1)break a;if(g=e[x>>2],e[x>>2]=n,o=0,!g)break l;F[e[e[g>>2]+4>>2]](g);break l}F[e[e[n>>2]+4>>2]](n);break l}if((n|0)!=118)break l;n=e[i+92>>2]&1,o=H(n,36)+M|0,g=e[o+20>>2],e[a+48>>2]=e[o+16>>2],e[a+52>>2]=g,g=e[o+12>>2],e[a+40>>2]=e[o+8>>2],e[a+44>>2]=g,g=e[o+4>>2],e[a+32>>2]=e[o>>2],e[a+36>>2]=g,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,o=e[o+24>>2],e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1,e[a+104>>2]=o,W0(a+104|0,e[i+12>>2])||(e[a+96>>2]=e[a+48>>2],o=e[a+44>>2],e[a+88>>2]=e[a+40>>2],e[a+92>>2]=o,o=e[a+36>>2],e[a+80>>2]=e[a+32>>2],e[a+84>>2]=o,xe(a+112|0,a+104|0),o=e[a+92>>2],e[a+16>>2]=e[a+88>>2],e[a+20>>2]=o,e[a+24>>2]=e[a+96>>2],o=e[a+84>>2],e[a+8>>2]=e[a+80>>2],e[a+12>>2]=o,e[a>>2]=e[a+112>>2],Kt(i,a+8|0,10012,a)),g=Z(236),o=g,e[o+4>>2]=0,e[o+8>>2]=0,o=e[a+72>>2],n=a- -64|0,c=e[n>>2],n=e[n+4>>2],_=e[a+56>>2],p=e[a+60>>2],e[g+44>>2]=0,e[g+48>>2]=0,e[g>>2]=44968,e[g+36>>2]=0,e[g+40>>2]=0,e[g+32>>2]=60,e[g+12>>2]=_,e[g+16>>2]=p,e[g+20>>2]=c,e[g+24>>2]=n,e[g+28>>2]=o,S[g+52|0]=0,e[a+128>>2]=0,e[a+120>>2]=0,e[a+124>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,n=a+112|0,Ne(g+56|0,-1,n),o=g,e[o+124>>2]=0,e[o+128>>2]=0,e[o+116>>2]=0,e[o+120>>2]=0,e[o+108>>2]=0,e[o+112>>2]=0,e[o+100>>2]=0,e[o+104>>2]=0,e[o+92>>2]=0,e[o+96>>2]=0,e[o+136>>2]=0,e[o+140>>2]=0,e[o+132>>2]=1065353216,e[o+144>>2]=0,e[o+148>>2]=0,e[o+156>>2]=0,e[o+160>>2]=0,e[o+152>>2]=1065353216,e[o+164>>2]=0,e[o+168>>2]=0,e[o+172>>2]=0,e[o+176>>2]=0,e[o+180>>2]=0,e[o+184>>2]=0,e[o+188>>2]=0,e[o+192>>2]=0,e[o+196>>2]=0,e[a+128>>2]=0,e[a+120>>2]=0,e[a+124>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,n=Ne(o+200|0,-1,n),e[a+88>>2]=0,e[a+80>>2]=0,e[a+84>>2]=0;u:{if(se=o+40|0,(H0(i,se)|0)==1||(qf(i,se)|0)==1)break u;a:{if((we(i,0)&-2)==70){j=g+188|0,o=0,p=b-144|0,b=p,pe=i+16|0,Xe=p+88|0,at=p+52|0;c:{for(;;){o:{d:{m:{if((we(i,0)&-2)==70){A:{if(e[i+88>>2]){n=e[i+92>>2];break A}ri(p+104|0,e[i>>2],i),c=e[i+88>>2],e[i+88>>2]=c+1,_=e[p+108>>2],n=e[i+92>>2],c=H(c+n&1,36)+pe|0,e[c>>2]=e[p+104>>2],e[c+4>>2]=_,e[c+32>>2]=e[p+136>>2],_=e[p+132>>2],e[c+24>>2]=e[p+128>>2],e[c+28>>2]=_,_=e[p+124>>2],e[c+16>>2]=e[p+120>>2],e[c+20>>2]=_,_=e[p+116>>2],e[c+8>>2]=e[p+112>>2],e[c+12>>2]=_}if(n=H(n&1,36)+pe|0,e[p+48>>2]=e[n+16>>2],c=e[n+12>>2],e[p+40>>2]=e[n+8>>2],e[p+44>>2]=c,c=e[n+4>>2],e[p+32>>2]=e[n>>2],e[p+36>>2]=c,e[p+120>>2]=0,e[p+112>>2]=0,e[p+116>>2]=0,e[p+104>>2]=0,e[p+108>>2]=0,De=Ne(at,-1,p+104|0),e[p+96>>2]=0,e[p+88>>2]=0,e[p+92>>2]=0,c=e[i+92>>2]&1,n=H(c,36)+pe|0,e[p+120>>2]=e[n+16>>2],_=e[n+12>>2],e[p+112>>2]=e[n+8>>2],e[p+116>>2]=_,_=e[n+4>>2],e[p+104>>2]=e[n>>2],e[p+108>>2]=_,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,_=e[n+20>>2],e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,(_|0)==70){if(c=0,(qt(i,De)|0)==1)break d;break m}if(n=o,o=1,!n)break m;e[p+24>>2]=e[p+120>>2],n=e[p+116>>2],e[p+16>>2]=e[p+112>>2],e[p+20>>2]=n,n=e[p+108>>2],e[p+8>>2]=e[p+104>>2],e[p+12>>2]=n,Kt(i,p+8|0,16410,0),c=0;break d}if(n=0,X)break c;o=Z(12),e[p+32>>2]=o,n=o+12|0,e[p+40>>2]=n,S[o+11|0]=5,e[o>>2]=1668571491,e[o+4>>2]=104,e[p+36>>2]=n,n=Cn(i,p+32|0,0),S[o+11|0]<0&&P(e[o>>2]),P(o);break c}if(c=0,(z_(i,Xe)|0)==1)break d;if(n=e[j+4>>2],n>>>0<nt[j+8>>2]){c=e[p+36>>2],e[n>>2]=e[p+32>>2],e[n+4>>2]=c,e[n+16>>2]=e[p+48>>2],c=e[p+44>>2],e[n+8>>2]=e[p+40>>2],e[n+12>>2]=c,fe(n+20|0,De),e[n+56>>2]=e[p+88>>2],e[n+60>>2]=e[p+92>>2],e[n- -64>>2]=e[p+96>>2],e[j+4>>2]=n+68,X=1,c=1;break o}Sk(j,p+32|0),X=1,c=1}if(n=e[p+88>>2],!n)break o;for(;_=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=_,!!n;);}if(e[p+96>>2]=0,e[p+88>>2]=0,e[p+92>>2]=0,te(De),!c)break}n=1}if(b=p+144|0,(n|0)==1)break u;e[g+36>>2]=1;break a}if((we(i,0)|0)!=13)break a;if(c=e[i+92>>2]&1,o=H(c,36)+M|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[a+48>>2]=0,e[a+40>>2]=0,e[a+44>>2]=0,e[a+32>>2]=0,e[a+36>>2]=0,o=Ne(a+112|0,-1,a+32|0),(qt(i,o)|0)==1){te(o);break u}Di(n,o),e[g+36>>2]=2,te(o)}if(n=0,o=Z(32),c=y[13797]|y[13798]<<8,S[o+16|0]=c,S[o+17|0]=c>>>8,c=y[13793]|y[13794]<<8|(y[13795]<<16|y[13796]<<24),_=y[13789]|y[13790]<<8|(y[13791]<<16|y[13792]<<24),S[o+8|0]=_,S[o+9|0]=_>>>8,S[o+10|0]=_>>>16,S[o+11|0]=_>>>24,S[o+12|0]=c,S[o+13|0]=c>>>8,S[o+14|0]=c>>>16,S[o+15|0]=c>>>24,c=y[13785]|y[13786]<<8|(y[13787]<<16|y[13788]<<24),_=y[13781]|y[13782]<<8|(y[13783]<<16|y[13784]<<24),S[o|0]=_,S[o+1|0]=_>>>8,S[o+2|0]=_>>>16,S[o+3|0]=_>>>24,S[o+4|0]=c,S[o+5|0]=c>>>8,S[o+6|0]=c>>>16,S[o+7|0]=c>>>24,S[o+18|0]=0,c=Z(12),e[a+32>>2]=c,_=c+12|0,e[a+40>>2]=_,Ni(c,o,18),e[a+36>>2]=_,(we(i,0)|0)==26&&(_=e[i+92>>2]&1,n=H(_,36)+M|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!_,n=e[i+88>>2]-1|0,e[i+88>>2]=n,n||(ri(a+112|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,_=e[a+116>>2],n=H(n+e[i+92>>2]&1,36)+M|0,e[n>>2]=e[a+112>>2],e[n+4>>2]=_,e[n+32>>2]=e[a+144>>2],_=e[a+140>>2],e[n+24>>2]=e[a+136>>2],e[n+28>>2]=_,_=e[a+132>>2],e[n+16>>2]=e[a+128>>2],e[n+20>>2]=_,_=e[a+124>>2],e[n+8>>2]=e[a+120>>2],e[n+12>>2]=_),n=(Cn(i,a+32|0,0)|0)==1),S[c+11|0]<0&&P(e[c>>2]),P(c),P(o),n||(ta(a+112|0,i),e[g+184>>2]=e[a+128>>2],o=e[a+124>>2],e[g+176>>2]=e[a+120>>2],e[g+180>>2]=o,o=e[a+116>>2],e[g+168>>2]=e[a+112>>2],e[g+172>>2]=o,e[g+36>>2]!=2&&(Ve(i,79)|0)==1)||(Wm(i,se)|0)==1)break u;if(o=e[x>>2],e[x>>2]=g,o&&F[e[e[o>>2]+4>>2]](o),c=e[a+80>>2],c){if(n=c,o=e[a+84>>2],(n|0)!=(o|0)){for(;;){if(g=o-68|0,n=e[g+56>>2],n)for(;_=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=_,!!n;);if(e[g+60>>2]=0,e[g+56>>2]=0,e[g- -64>>2]=0,te(o-48|0),o=g,(c|0)==(o|0))break}n=e[a+80>>2]}e[a+84>>2]=c,P(n)}o=0;break l}F[e[e[g>>2]+4>>2]](g),o=1}if(b=a+176|0,n=e[x>>2],(o|0)!=1){o=e[L+4>>2],o?(e[n+8>>2]=o,o=o+4|0):o=L,e[o>>2]=n,e[L+4>>2]=n,e[L+8>>2]=e[L+8>>2]+1,V=0;break i}if(!n)break i;F[e[e[n>>2]+4>>2]](n);break i}if(1<<n&17301505)break n}if((o|0)!=118)break i}V=Wc(i,L)}if(b=x+16|0,!V){if(n=e[v+32>>2],!n)continue;for(g=e[r+8>>2],_=e[v+40>>2],o=n;;){L=e[o+4>>2];i:{if(e[v+36>>2]!=(n|0)){a=e[o+8>>2];n:{if(a){e[a+4>>2]=L,c=e[o+4>>2];break n}e[v+32>>2]=L,n=L,c=n}if(c){e[c+8>>2]=a;break i}e[v+36>>2]=a;break i}e[v+32>>2]=0,e[v+36>>2]=0,n=0}if(e[o+4>>2]=0,e[o+8>>2]=0,_=_-1|0,c=e[r+4>>2],c?(e[o+8>>2]=c,c=c+4|0):c=r,e[c>>2]=o,e[r+4>>2]=o,g=g+1|0,o=L,!o)break}e[v+40>>2]=_,e[r+8>>2]=g;continue}if(V=1,(e8(i,862)|0)!=1)continue}break}if(o=e[v+32>>2],o)for(;i=e[o+4>>2],F[e[e[o>>2]+4>>2]](o),o=i,!!o;);return b=v+128|0,V}function Wc(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;a=b-240|0,b=a,n=1;e:{if((we(i,0)|0)!=26)break e;t:{i:{if(Ta(we(i,1))){M=i+16|0,o=e[i+92>>2]&1,n=M+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,e[a+144>>2]=0,n=0;n:{if((KE(i,a+144|0)|0)==1)break n;g=b-16|0,b=g,e[g+8>>2]=0,e[g>>2]=0,e[g+4>>2]=0,o=we(i,0),n=we(i,1);s:{if((o|0)!=26)break s;for(;;){r:{l:{if(Ta(n)||(o=(n|0)==118,n=n-63|0,o|(1<<n&17301505?n>>>0<=24:0)))break l;break r}l:{if(!Wc(i,g)){if(o=e[g>>2],!o)break l;for(_=e[r+8>>2],L=e[g+8>>2],n=o;;){p=e[n+4>>2];u:{if(e[g+4>>2]!=(o|0)){x=e[n+8>>2];a:{if(x){e[x+4>>2]=p,c=e[n+4>>2];break a}e[g>>2]=p,o=p,c=o}if(c){e[c+8>>2]=x;break u}e[g+4>>2]=x;break u}e[g>>2]=0,e[g+4>>2]=0,o=0}if(e[n+4>>2]=0,e[n+8>>2]=0,L=L-1|0,c=e[r+4>>2],c?(e[n+8>>2]=c,c=c+4|0):c=r,e[c>>2]=n,e[r+4>>2]=n,_=_+1|0,n=p,!n)break}e[g+8>>2]=L,e[r+8>>2]=_;break l}if(p=1,(e8(i,863)|0)==1)break r}if(p=0,o=we(i,0),n=we(i,1),(o|0)==26)continue}break}if(n=e[g>>2],!n)break s;for(;o=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=o,!!o;);}if(b=g+16|0,n=0,p||(n=Z(12),e[a+80>>2]=n,o=n+12|0,e[a+88>>2]=o,S[n+11|0]=7,e[n>>2]=1696624225,e[n+4>>2]=7499896,e[a+84>>2]=o,(we(i,0)|0)==26&&(p=e[i+92>>2]&1,o=M+H(p,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!p,o=e[i+88>>2]-1|0,e[i+88>>2]=o,o||(ri(a+176|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,p=e[a+180>>2],o=M+H(o+e[i+92>>2]&1,36)|0,e[o>>2]=e[a+176>>2],e[o+4>>2]=p,e[o+32>>2]=e[a+208>>2],p=e[a+204>>2],e[o+24>>2]=e[a+200>>2],e[o+28>>2]=p,p=e[a+196>>2],e[o+16>>2]=e[a+192>>2],e[o+20>>2]=p,p=e[a+188>>2],e[o+8>>2]=e[a+184>>2],e[o+12>>2]=p),v=(Cn(i,a+80|0,0)|0)==1),S[n+11|0]<0&&P(e[n>>2]),P(n),n=0,v))break n;o=e[a+144>>2],e[a+144>>2]=0,n=e[r+4>>2],n?(e[o+8>>2]=n,n=n+4|0):n=r,e[n>>2]=o,e[r+4>>2]=o,e[r+8>>2]=e[r+8>>2]+1,n=1}if(r=n,n=e[a+144>>2],e[a+144>>2]=0,n&&F[e[e[n>>2]+4>>2]](n),n=1,r)break i;break e}p=i+16|0;n:{if(e[i+88>>2]){v=e[i+92>>2];break n}ri(a+176|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,o=e[a+180>>2],v=e[i+92>>2],n=p+H(n+v&1,36)|0,e[n>>2]=e[a+176>>2],e[n+4>>2]=o,e[n+32>>2]=e[a+208>>2],o=e[a+204>>2],e[n+24>>2]=e[a+200>>2],e[n+28>>2]=o,o=e[a+196>>2],e[n+16>>2]=e[a+192>>2],e[n+20>>2]=o,o=e[a+188>>2],e[n+8>>2]=e[a+184>>2],e[n+12>>2]=o}n=1,o=p+H(v&1,36)|0,e[a+136>>2]=e[o+16>>2],c=e[o+12>>2],e[a+128>>2]=e[o+8>>2],e[a+132>>2]=c,c=e[o+4>>2],e[a+120>>2]=e[o>>2],e[a+124>>2]=c;n:{s:{r:{l:{u:switch(o=we(i,1),o-63|0){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 20:case 21:case 22:case 23:break e;case 19:break r;case 24:break l;case 0:break u;default:break s}c=e[i+92>>2]&1,o=p+H(c,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,g=e[i+88>>2],o=p+H(!c,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[i+88>>2]=g-2,e[i+92>>2]=c,o=Z(184),e[o+4>>2]=0,e[o+8>>2]=0,p=e[a+136>>2],c=e[a+128>>2],g=e[a+132>>2],_=e[a+120>>2],v=e[a+124>>2],e[o>>2]=40028,e[o+36>>2]=0,e[o+40>>2]=0,e[o+32>>2]=8,e[o+12>>2]=_,e[o+16>>2]=v,e[o+20>>2]=c,e[o+24>>2]=g,e[o+28>>2]=p,S[o+41|0]=0,S[o+42|0]=0,S[o+43|0]=0,S[o+44|0]=0,S[o+45|0]=0,S[o+46|0]=0,S[o+47|0]=0,S[o+48|0]=0,e[a+192>>2]=0,e[a+184>>2]=0,e[a+188>>2]=0,e[a+176>>2]=0,e[a+180>>2]=0,Ne(o+52|0,-1,a+176|0),e[o+120>>2]=0,e[o+124>>2]=0,e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,e[o+96>>2]=0,e[o+100>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,e[o+132>>2]=0,e[o+136>>2]=0,e[o+128>>2]=1065353216,e[o+140>>2]=0,e[o+144>>2]=0,e[o+152>>2]=0,e[o+156>>2]=0,e[o+148>>2]=1065353216,e[o+160>>2]=0,e[o+164>>2]=0,e[o+168>>2]=0,e[o+172>>2]=0,e[o+176>>2]=0,e[o+180>>2]=0;u:{if(p=o+36|0,(H0(i,p)|0)==1||(qf(i,p)|0)==1)break u;n=e[r+4>>2],n?(e[o+8>>2]=n,n=n+4|0):n=r,e[n>>2]=o,e[r+4>>2]=o;break n}F[e[e[o>>2]+4>>2]](o);break e}c=e[i+92>>2]&1,o=p+H(c,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,g=e[i+88>>2],o=p+H(!c,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[i+88>>2]=g-2,e[i+92>>2]=c,o=Z(184),e[o+4>>2]=0,e[o+8>>2]=0,p=e[a+136>>2],c=e[a+128>>2],g=e[a+132>>2],_=e[a+120>>2],v=e[a+124>>2],e[o>>2]=42028,e[o+36>>2]=0,e[o+40>>2]=0,e[o+32>>2]=27,e[o+12>>2]=_,e[o+16>>2]=v,e[o+20>>2]=c,e[o+24>>2]=g,e[o+28>>2]=p,S[o+41|0]=0,S[o+42|0]=0,S[o+43|0]=0,S[o+44|0]=0,S[o+45|0]=0,S[o+46|0]=0,S[o+47|0]=0,S[o+48|0]=0,e[a+192>>2]=0,e[a+184>>2]=0,e[a+188>>2]=0,e[a+176>>2]=0,e[a+180>>2]=0,Ne(o+52|0,-1,a+176|0),e[o+120>>2]=0,e[o+124>>2]=0,e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,e[o+96>>2]=0,e[o+100>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,e[o+132>>2]=0,e[o+136>>2]=0,e[o+128>>2]=1065353216,e[o+140>>2]=0,e[o+144>>2]=0,e[o+152>>2]=0,e[o+156>>2]=0,e[o+148>>2]=1065353216,e[o+160>>2]=0,e[o+164>>2]=0,e[o+168>>2]=0,e[o+172>>2]=0,e[o+176>>2]=0,e[o+180>>2]=0;l:{if(p=o+36|0,(H0(i,p)|0)==1||(qf(i,p)|0)==1)break l;n=e[r+4>>2],n?(e[o+8>>2]=n,n=n+4|0):n=r,e[n>>2]=o,e[r+4>>2]=o;break n}F[e[e[o>>2]+4>>2]](o);break e}c=e[i+92>>2]&1,o=p+H(c,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,g=e[i+88>>2],o=p+H(!c,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[i+88>>2]=g-2,e[i+92>>2]=c,c=Z(216),o=c,e[o+4>>2]=0,e[o+8>>2]=0,o=e[a+136>>2],p=e[a+128>>2],g=e[a+132>>2],_=e[a+120>>2],v=e[a+124>>2],e[c>>2]=41408,e[c+36>>2]=0,e[c+40>>2]=0,e[c+32>>2]=22,e[c+12>>2]=_,e[c+16>>2]=v,e[c+20>>2]=p,e[c+24>>2]=g,e[c+28>>2]=o,S[c+41|0]=0,S[c+42|0]=0,S[c+43|0]=0,S[c+44|0]=0,S[c+45|0]=0,S[c+46|0]=0,S[c+47|0]=0,S[c+48|0]=0,e[a+192>>2]=0,e[a+184>>2]=0,e[a+188>>2]=0,e[a+176>>2]=0,e[a+180>>2]=0,Ne(c+52|0,-1,a+176|0),e[c+120>>2]=0,e[c+124>>2]=0,e[c+112>>2]=0,e[c+116>>2]=0,e[c+104>>2]=0,e[c+108>>2]=0,e[c+96>>2]=0,e[c+100>>2]=0,e[c+88>>2]=0,e[c+92>>2]=0,e[c+132>>2]=0,e[c+136>>2]=0,e[c+128>>2]=1065353216,e[c+140>>2]=0,e[c+144>>2]=0,v=c+152|0,o=v,e[o>>2]=0,e[o+4>>2]=0,e[c+148>>2]=1065353216,e[c+160>>2]=0,e[c+164>>2]=0,e[c+168>>2]=0,e[c+172>>2]=0,e[c+176>>2]=0,e[c+180>>2]=0,e[c+184>>2]=0,e[c+188>>2]=0,e[c+192>>2]=0,e[c+196>>2]=0,e[c+200>>2]=0,e[c+204>>2]=0,e[c+208>>2]=0,e[c+212>>2]=0;r:{if((H0(i,c+36|0)|0)==1||(xk(i,c+48|0)|0)==1)break r;l:{if(!v8(i))break l;if(e[a+184>>2]=0,e[a+176>>2]=0,e[a+180>>2]=0,(Wc(i,a+176|0)|0)==1){if(i=e[a+176>>2],i)for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);break r}e[a+116>>2]=0,e[a+112>>2]=r,n=e[a+116>>2],e[a+8>>2]=e[a+112>>2],e[a+12>>2]=n;u:{if(o=e[a+176>>2],!o)break u;if(g=e[a+12>>2],!g)for(n=o;;){p=e[n+4>>2];a:{if(e[a+180>>2]!=(o|0)){g=e[n+8>>2];c:{if(g){e[g+4>>2]=p,o=e[n+4>>2];break c}e[a+176>>2]=p,o=p}if(o){e[o+8>>2]=g;break a}e[a+180>>2]=g;break a}e[a+176>>2]=0,e[a+180>>2]=0}if(e[n+4>>2]=0,e[n+8>>2]=0,e[a+184>>2]=e[a+184>>2]-1,o=e[r+4>>2],o?(e[n+8>>2]=o,o=o+4|0):o=r,e[o>>2]=n,e[r+4>>2]=n,e[r+8>>2]=e[r+8>>2]+1,!p)break u;o=e[a+176>>2],n=p}for(n=o;;){p=e[n+4>>2];a:{if(e[a+180>>2]==(o|0)){e[a+176>>2]=0,e[a+180>>2]=0;break a}_=e[n+8>>2];c:{if(_){e[_+4>>2]=p,o=e[n+4>>2];break c}e[a+176>>2]=p,o=p}if(o){e[o+8>>2]=_;break a}e[a+180>>2]=_}if(e[n+8>>2]=0,e[a+184>>2]=e[a+184>>2]-1,o=e[g+8>>2],e[n+4>>2]=g,e[n+8>>2]=o,o=e[g+8>>2],e[(o?o+4|0:r)>>2]=n,e[g+8>>2]=n,e[r+8>>2]=e[r+8>>2]+1,!p)break u;o=e[a+176>>2],n=p}}if(n=e[a+176>>2],!n)break l;for(;o=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=o,!!o;);}l:{u:{if(u5(i,44)){if(n=1,(Gc(i,v)|0)==1||(ta(a+176|0,i),e[c+180>>2]=e[a+192>>2],o=e[a+188>>2],e[c+172>>2]=e[a+184>>2],e[c+176>>2]=o,o=e[a+180>>2],e[c+164>>2]=e[a+176>>2],e[c+168>>2]=o,(Ve(i,39)|0)==1))break r;a:{if(u5(i,78)){if((Gc(i,c+184|0)|0)==1)break r;if((Ve(i,39)|0)!=1)break a;break r}if(!v8(i))break a;if((Wc(i,c+184|0)|0)==1)break r}ta(a+176|0,i),e[c+212>>2]=e[a+192>>2],n=e[a+188>>2],e[c+204>>2]=e[a+184>>2],e[c+208>>2]=n,n=e[a+180>>2],e[c+196>>2]=e[a+176>>2],e[c+200>>2]=n;break u}if(!v8(i))break l;if(n=1,(Wc(i,v)|0)==1)break r;if(ta(a+176|0,i),e[c+180>>2]=e[a+192>>2],o=e[a+188>>2],e[c+172>>2]=e[a+184>>2],e[c+176>>2]=o,o=e[a+180>>2],e[c+164>>2]=e[a+176>>2],e[c+168>>2]=o,!v8(i))break u;if((Wc(i,c+184|0)|0)==1)break r;ta(a+176|0,i),e[c+212>>2]=e[a+192>>2],n=e[a+188>>2],e[c+204>>2]=e[a+184>>2],e[c+208>>2]=n,n=e[a+180>>2],e[c+196>>2]=e[a+176>>2],e[c+200>>2]=n}n=e[r+4>>2],n?(e[c+8>>2]=n,n=n+4|0):n=r,e[n>>2]=c,e[r+4>>2]=c;break n}if((we(i,0)|0)==26&&(n=e[i+92>>2]&1,r=H(n,36)+i|0,e[r+32>>2]=0,e[r+36>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1),r=Zo(a+80|0,12486),e[a+108>>2]=1,e[a+104>>2]=r,n=e[a+108>>2],e[a>>2]=e[a+104>>2],e[a+4>>2]=n,n=i,i=xh(a+176|0,a),n=Cn(n,i,27969),Nh(i),S[r+11|0]>=0)break r;P(e[r>>2])}F[e[e[c>>2]+4>>2]](c);break e}if((o|0)!=118)break e;if(o=e[i+92>>2]&1,n=p+H(o,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,c=e[i+88>>2],n=p+H(!o,36)|0,g=e[n+20>>2],e[a+96>>2]=e[n+16>>2],e[a+100>>2]=g,g=e[n+12>>2],e[a+88>>2]=e[n+8>>2],e[a+92>>2]=g,g=e[n+4>>2],e[a+80>>2]=e[n>>2],e[a+84>>2]=g,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,n=e[n+24>>2],e[i+88>>2]=c-2,e[i+92>>2]=o,e[a+168>>2]=n,W0(a+168|0,e[i+12>>2])||(e[a+160>>2]=e[a+96>>2],n=e[a+92>>2],e[a+152>>2]=e[a+88>>2],e[a+156>>2]=n,n=e[a+84>>2],e[a+144>>2]=e[a+80>>2],e[a+148>>2]=n,xe(a+176|0,a+168|0),n=e[a+156>>2],e[a+48>>2]=e[a+152>>2],e[a+52>>2]=n,e[a+56>>2]=e[a+160>>2],n=e[a+148>>2],e[a+40>>2]=e[a+144>>2],e[a+44>>2]=n,e[a+32>>2]=e[a+176>>2],Kt(i,a+40|0,10012,a+32|0)),g=Z(236),n=g,e[n+4>>2]=0,e[n+8>>2]=0,n=e[a+136>>2],o=e[a+128>>2],c=e[a+132>>2],_=e[a+120>>2],v=e[a+124>>2],e[g+44>>2]=0,e[g+48>>2]=0,e[g>>2]=44968,e[g+36>>2]=0,e[g+40>>2]=0,e[g+32>>2]=60,e[g+12>>2]=_,e[g+16>>2]=v,e[g+20>>2]=o,e[g+24>>2]=c,e[g+28>>2]=n,n=g+52|0,S[n|0]=0,e[a+192>>2]=0,e[a+184>>2]=0,e[a+188>>2]=0,e[a+176>>2]=0,e[a+180>>2]=0,o=a+176|0,Ne(g+56|0,-1,o),e[g+124>>2]=0,e[g+128>>2]=0,e[g+116>>2]=0,e[g+120>>2]=0,e[g+108>>2]=0,e[g+112>>2]=0,e[g+100>>2]=0,e[g+104>>2]=0,e[g+92>>2]=0,e[g+96>>2]=0,e[g+136>>2]=0,e[g+140>>2]=0,e[g+132>>2]=1065353216,e[g+144>>2]=0,e[g+148>>2]=0,c=g+156|0,e[c>>2]=0,e[c+4>>2]=0,e[g+152>>2]=1065353216,e[g+164>>2]=0,e[g+168>>2]=0,e[g+172>>2]=0,e[g+176>>2]=0,e[g+180>>2]=0,e[g+184>>2]=0,e[g+188>>2]=0,e[g+192>>2]=0,e[g+196>>2]=0,e[a+192>>2]=0,e[a+184>>2]=0,e[a+188>>2]=0,e[a+176>>2]=0,e[a+180>>2]=0,o=Ne(g+200|0,-1,o),(H0(i,g+40|0)|0)==1||(xk(i,n)|0)==1||(Ve(i,26)|0)==1||(Ve(i,14)|0)==1||(z_(i,c)|0)==1||(Ve(i,39)|0)==1)break t;s:{if((we(i,0)|0)!=26)break s;c=e[i+92>>2]&1,n=p+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1;r:{l:{if(n=we(i,0),n-70>>>0>=2){if((n|0)!=13)break r;if(c=e[i+92>>2]&1,n=p+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[a+96>>2]=0,e[a+88>>2]=0,e[a+92>>2]=0,e[a+80>>2]=0,e[a+84>>2]=0,n=Ne(a+176|0,-1,a+80|0),(qt(i,n)|0)!=1&&(Di(o,n),e[g+36>>2]=2,(Ve(i,39)|0)!=1))break l;te(n);break t}for(v=g+188|0,o=0,c=b-144|0,b=c,L=i+16|0,M=c+88|0,V=c+52|0;;){u:{if(e[i+88>>2]){n=e[i+92>>2];break u}ri(c+104|0,e[i>>2],i),p=e[i+88>>2],e[i+88>>2]=p+1,_=e[c+108>>2],n=e[i+92>>2],p=L+H(p+n&1,36)|0,e[p>>2]=e[c+104>>2],e[p+4>>2]=_,e[p+32>>2]=e[c+136>>2],_=e[c+132>>2],e[p+24>>2]=e[c+128>>2],e[p+28>>2]=_,_=e[c+124>>2],e[p+16>>2]=e[c+120>>2],e[p+20>>2]=_,_=e[c+116>>2],e[p+8>>2]=e[c+112>>2],e[p+12>>2]=_}n=L+H(n&1,36)|0,e[c+48>>2]=e[n+16>>2],p=e[n+12>>2],e[c+40>>2]=e[n+8>>2],e[c+44>>2]=p,p=e[n+4>>2],e[c+32>>2]=e[n>>2],e[c+36>>2]=p,e[c+120>>2]=0,e[c+112>>2]=0,e[c+116>>2]=0,e[c+104>>2]=0,e[c+108>>2]=0,x=Ne(V,-1,c+104|0),e[c+96>>2]=0,e[c+88>>2]=0,e[c+92>>2]=0,p=e[i+92>>2]&1,n=L+H(p,36)|0,e[c+120>>2]=e[n+16>>2],_=e[n+12>>2],e[c+112>>2]=e[n+8>>2],e[c+116>>2]=_,_=e[n+4>>2],e[c+104>>2]=e[n>>2],e[c+108>>2]=_,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,_=e[n+20>>2],e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!p,e[i+88>>2]=e[i+88>>2]-1;u:{a:{c:{if((_|0)==70){if(_=0,(qt(i,x)|0)==1)break a;break c}if(n=o,o=1,!n)break c;e[c+24>>2]=e[c+120>>2],n=e[c+116>>2],e[c+16>>2]=e[c+112>>2],e[c+20>>2]=n,n=e[c+108>>2],e[c+8>>2]=e[c+104>>2],e[c+12>>2]=n,_=0,Kt(i,c+8|0,16410,0);break a}if(_=0,(Gc(i,M)|0)==1||(Ve(i,39)|0)==1)break a;if(n=e[v+4>>2],n>>>0<nt[v+8>>2]){p=e[c+36>>2],e[n>>2]=e[c+32>>2],e[n+4>>2]=p,e[n+16>>2]=e[c+48>>2],p=e[c+44>>2],e[n+8>>2]=e[c+40>>2],e[n+12>>2]=p,fe(n+20|0,x),e[n+56>>2]=e[c+88>>2],e[n+60>>2]=e[c+92>>2],e[n- -64>>2]=e[c+96>>2],e[v+4>>2]=n+68,_=1;break u}Sk(v,c+32|0),_=1}if(n=e[c+88>>2],!n)break u;for(;p=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=p,!!n;);}e[c+96>>2]=0,e[c+88>>2]=0,e[c+92>>2]=0,te(x);u:{if(!_){n=1;break u}if(n=0,(we(i,0)|0)!=26)break u;if(p=e[i+92>>2]&1,n=L+H(p,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!p,e[i+88>>2]=e[i+88>>2]-1,n=0,(we(i,0)&-2)==70)continue}break}if(b=c+144|0,(n|0)==1)break t;e[g+36>>2]=1;break s}te(n);break s}if(n=Zo(a+176|0,12750),Zo(n+12|0,11864),Zo(n+24|0,13772),e[a+76>>2]=3,e[a+72>>2]=n,o=e[a+76>>2],e[a+24>>2]=e[a+72>>2],e[a+28>>2]=o,o=xh(a+80|0,a+24|0),Cn(i,o,0),Nh(o),S[n+35|0]<0&&P(e[n+24>>2]),S[n+23|0]<0&&P(e[n+12>>2]),S[n+11|0]>=0)break s;P(e[n>>2])}if(n=Zo(a+80|0,13781),e[a+68>>2]=1,e[a+64>>2]=n,o=e[a+68>>2],e[a+16>>2]=e[a+64>>2],e[a+20>>2]=o,o=xh(a+176|0,a+16|0),p=Yk(i,o),Nh(o),S[n+11|0]<0&&P(e[n>>2]),(p|0)==1)break t;ta(a+176|0,i),e[g+184>>2]=e[a+192>>2],n=e[a+188>>2],e[g+176>>2]=e[a+184>>2],e[g+180>>2]=n,n=e[a+180>>2],e[g+168>>2]=e[a+176>>2],e[g+172>>2]=n,n=e[r+4>>2],n?(e[g+8>>2]=n,n=n+4|0):n=r,e[n>>2]=g,e[r+4>>2]=g}e[r+8>>2]=e[r+8>>2]+1}n=(Ve(i,39)|0)==1;break e}F[e[e[g>>2]+4>>2]](g),n=1}return b=a+240|0,n}function YZ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0;L=b-32|0,b=L,S[L+24|0]=y[r+16|0],o=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[L+16>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[L+20>>2]=o,o=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[L+8>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[L+12>>2]=o,S[L+25|0]=0,X=Z(8),e[L>>2]=0,a=b-96|0,b=a,nR(a,i,n,L+8|0),se=1,c=b+-64|0,b=c,x=Z(32),i=x,e[i>>2]=0,e[i+4>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,e[i+24>>2]=0,e[i+28>>2]=1065353216,e[c+16>>2]=i,r=we(a,0),i=we(a,1);e:{t:{i:{n:{if((r|0)!=26)break n;s:switch(i-11|0){default:if((i|0)!=128)break n;break;case 1:case 2:case 3:case 5:case 8:case 9:case 12:case 13:case 14:case 15:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 31:case 33:break n;case 0:case 4:case 6:case 7:case 10:case 11:case 16:case 30:case 32:case 34:break s}o=Z(384),i=o,e[i>>2]=0,e[i+4>>2]=0,e[i>>2]=53800,r=pn(i+8|0,0,212),e[i+224>>2]=0,e[i+228>>2]=0,e[i+220>>2]=1065353216,e[i+232>>2]=0,e[i+236>>2]=0,e[i+244>>2]=0,e[i+248>>2]=0,e[i+240>>2]=1065353216,e[i+252>>2]=0,e[i+256>>2]=0,e[i+264>>2]=0,e[i+268>>2]=0,e[i+260>>2]=1065353216,e[i+272>>2]=0,e[i+276>>2]=0,e[i+284>>2]=0,e[i+288>>2]=0,e[i+280>>2]=1065353216,e[i+292>>2]=0,e[i+296>>2]=0,e[i+304>>2]=0,e[i+308>>2]=0,e[i+300>>2]=1065353216,e[i+312>>2]=0,e[i+316>>2]=0,e[i+320>>2]=1065353216,e[i+324>>2]=0,e[i+328>>2]=0,e[i+332>>2]=0,e[i+336>>2]=0,e[i+344>>2]=0,e[i+348>>2]=0,e[i+340>>2]=1065353216,e[i+352>>2]=0,e[i+356>>2]=0,e[i+360>>2]=1065353216,e[i+364>>2]=0,e[i+368>>2]=0,e[i+372>>2]=0,e[i+376>>2]=0,e[i+380>>2]=1065353216,e[c+8>>2]=i,g=a+16|0;s:{if(e[a+88>>2]){V=e[a+92>>2];break s}ri(c+24|0,e[a>>2],a),i=e[a+88>>2],e[a+88>>2]=i+1,v=e[c+28>>2],V=e[a+92>>2],i=g+H(i+V&1,36)|0,e[i>>2]=e[c+24>>2],e[i+4>>2]=v,e[i+32>>2]=e[c+56>>2],v=e[c+52>>2],e[i+24>>2]=e[c+48>>2],e[i+28>>2]=v,v=e[c+44>>2],e[i+16>>2]=e[c+40>>2],e[i+20>>2]=v,v=e[c+36>>2],e[i+8>>2]=e[c+32>>2],e[i+12>>2]=v}if(j=1,i=g+H(V&1,36)|0,g=e[i+4>>2],e[r>>2]=e[i>>2],e[r+4>>2]=g,e[r+16>>2]=e[i+16>>2],g=e[i+12>>2],e[r+8>>2]=e[i+8>>2],e[r+12>>2]=g,(Ak(a,r)|0)==1){F[e[e[o>>2]+4>>2]](o);break t}i=e[x+4>>2];s:{if(i>>>0<nt[x+8>>2]){e[c+8>>2]=0,e[i>>2]=o,e[x+4>>2]=i+4;break s}hT(x,c+8|0)}if(i=e[c+8>>2],e[c+8>>2]=0,!i)break i;F[e[e[i>>2]+4>>2]](i);break i}i=we(a,0),r=we(a,1);n:{if((i|0)!=26)break n;s:switch(r-2|0){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 18:case 21:case 22:case 26:case 31:case 35:break s;default:break n}j=1,v=b-16|0,b=v;s:{for(;;){if(i=we(a,0),r=we(a,1),(i|0)!=26)break s;r:switch(r-2|0){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 18:case 21:case 22:case 26:case 31:case 35:break r;default:break s}e[v+8>>2]=0,g=v+8|0,i=1;r:{l:switch(we(a,1)-2|0){case 0:u:{if((Ve(a,26)|0)==1||(Ve(a,2)|0)==1)break u;r=Z(12),e[r>>2]=53908,e[r+4>>2]=10,e[r+8>>2]=0;a:{if((Bm(a,r+8|0)|0)==1||(Ve(a,39)|0)==1)break a;if(o=e[g>>2],e[g>>2]=r,i=0,!o)break u;F[e[e[o>>2]+4>>2]](o);break u}F[e[e[r>>2]+4>>2]](r)}break r;case 1:u:{if((Ve(a,26)|0)==1||(Ve(a,3)|0)==1)break u;r=Z(24),e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=54028,e[r+4>>2]=9,e[r+16>>2]=0,e[r+20>>2]=0;a:{if((Bm(a,r+8|0)|0)==1||($n(a,r+12|0)|0)==1||(Ve(a,39)|0)==1)break a;if(o=e[g>>2],e[g>>2]=r,i=0,!o)break u;F[e[e[o>>2]+4>>2]](o);break u}F[e[e[r>>2]+4>>2]](r)}break r;case 2:u:{if((Ve(a,26)|0)==1||(Ve(a,4)|0)==1)break u;r=Z(24),e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=54168,e[r+4>>2]=4,e[r+16>>2]=0,e[r+20>>2]=0;a:{if((Om(a,r+8|0)|0)==1||($n(a,r+12|0)|0)==1||(Ve(a,39)|0)==1)break a;if(o=e[g>>2],e[g>>2]=r,i=0,!o)break u;F[e[e[o>>2]+4>>2]](o);break u}F[e[e[r>>2]+4>>2]](r)}break r;case 3:u:{if((Ve(a,26)|0)==1||(Ve(a,5)|0)==1)break u;r=Z(24),e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=54304,e[r+4>>2]=3,e[r+16>>2]=0,e[r+20>>2]=0;a:{if((Om(a,r+8|0)|0)==1||($n(a,r+12|0)|0)==1||(Ve(a,39)|0)==1)break a;if(o=e[g>>2],e[g>>2]=r,i=0,!o)break u;F[e[e[o>>2]+4>>2]](o);break u}F[e[e[r>>2]+4>>2]](r)}break r;case 4:u:{if((Ve(a,26)|0)==1||(Ve(a,6)|0)==1)break u;r=Z(24),e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=54440,e[r+4>>2]=7,e[r+16>>2]=0,e[r+20>>2]=0;a:{if((Bm(a,r+8|0)|0)==1||(iN(a,r+12|0,1)|0)==1||(Ve(a,39)|0)==1)break a;if(o=e[g>>2],e[g>>2]=r,i=0,!o)break u;F[e[e[o>>2]+4>>2]](o);break u}F[e[e[r>>2]+4>>2]](r)}break r;case 5:u:{a:{i=1;c:{if((Ve(a,26)|0)==1||(i=1,(Ve(a,7)|0)==1))break c;o:{d:{m:{if((we(a,0)|0)!=26||(we(a,1)|0)!=28)break m;r=Z(24),i=r,e[i+8>>2]=0,e[i+12>>2]=0,e[i>>2]=54556,e[i+4>>2]=6,e[i+16>>2]=0,e[i+20>>2]=0;A:{if((Om(a,i+8|0)|0)==1||($n(a,r+12|0)|0)==1)break A;if(i=e[g>>2],e[g>>2]=r,i)break d;break o}F[e[e[r>>2]+4>>2]](r),i=1;break u}if(r=Z(24),i=r,e[i+8>>2]=0,e[i+12>>2]=0,e[i>>2]=54692,e[i+4>>2]=8,e[i+16>>2]=0,e[i+20>>2]=0,(Bm(a,i+8|0)|0)==1||($n(a,r+12|0)|0)==1)break a;if(i=e[g>>2],e[g>>2]=r,!i)break o}F[e[e[i>>2]+4>>2]](i)}i=(Ve(a,39)|0)==1}break u}F[e[e[r>>2]+4>>2]](r),i=1}break r;case 6:u:{if((Ve(a,26)|0)==1||(Ve(a,8)|0)==1)break u;r=Z(24),e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=54832,e[r+4>>2]=5,e[r+16>>2]=0,e[r+20>>2]=0;a:{if((Om(a,r+8|0)|0)==1||($n(a,r+12|0)|0)==1||(Ve(a,39)|0)==1)break a;if(o=e[g>>2],e[g>>2]=r,i=0,!o)break u;F[e[e[o>>2]+4>>2]](o);break u}F[e[e[r>>2]+4>>2]](r)}break r;case 18:case 21:if(i=Z(12),e[i>>2]=54968,e[i+4>>2]=1,e[i+8>>2]=0,(Bm(a,i+8|0)|0)!=1){if(r=e[g>>2],e[g>>2]=i,i=0,!r)break r;F[e[e[r>>2]+4>>2]](r);break r}F[e[e[i>>2]+4>>2]](i),i=1;break r;case 26:i=sN(a,x,g);break r;case 35:o=b-144|0,b=o,r=1;u:{a:{c:{if((Ve(a,26)|0)==1)break c;_=a+16|0;o:{if(e[a+88>>2]){i=e[a+92>>2];break o}ri(o+104|0,e[a>>2],a),p=e[a+88>>2],e[a+88>>2]=p+1,M=e[o+108>>2],i=e[a+92>>2],p=_+H(p+i&1,36)|0,e[p>>2]=e[o+104>>2],e[p+4>>2]=M,e[p+32>>2]=e[o+136>>2],M=e[o+132>>2],e[p+24>>2]=e[o+128>>2],e[p+28>>2]=M,M=e[o+124>>2],e[p+16>>2]=e[o+120>>2],e[p+20>>2]=M,M=e[o+116>>2],e[p+8>>2]=e[o+112>>2],e[p+12>>2]=M}if(i=_+H(i&1,36)|0,e[o+96>>2]=e[i+16>>2],p=e[i+12>>2],e[o+88>>2]=e[i+8>>2],e[o+92>>2]=p,p=e[i+4>>2],e[o+80>>2]=e[i>>2],e[o+84>>2]=p,(Ve(a,37)|0)==1)break c;e[o+72>>2]=0,e[o+64>>2]=0,e[o+68>>2]=0,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,e[o+40>>2]=0,e[o+44>>2]=0,M=Ne(o+104|0,-1,o+40|0);o:{if(($n(a,o- -64|0)|0)==1)break o;i=Ne(o,e[a+4>>2],o+80|0);d:{m:{if((we(a,0)|0)!=54&&(we(a,0)|0)!=126)break m;qt(a,M);break d}Di(M,i)}if(te(i),(Ve(a,39)|0)==1)break o;if(p=Z(56),r=e[o+68>>2],He=e[o+64>>2],i=y[o+75|0],e[p>>2]=53664,e[p+4>>2]=2,_=r,r=i<<24>>24<0,_=r?_:i,_>>>0>=4294967280)break a;d:{m:{if(_>>>0>=11){pe=_+16&-16,i=Z(pe),e[p+16>>2]=pe|-2147483648,e[p+8>>2]=i,e[p+12>>2]=_;break m}if(i=p+8|0,S[i+11|0]=_,!_)break d}Ce(i,r?He:o- -64|0,_)}if(r=0,S[i+_|0]=0,fe(p+20|0,M),i=e[g>>2],e[g>>2]=p,!i)break o;F[e[e[i>>2]+4>>2]](i)}if(te(M),S[o+75|0]>=0)break c;P(e[o+64>>2])}b=o+144|0,i=r;break u}Be(),Ie()}break r;case 22:i=b-176|0,b=i;u:{if((Ve(a,26)|0)==1)break u;g=a+16|0;a:{if(e[a+88>>2]){r=e[a+92>>2];break a}ri(i+136|0,e[a>>2],a),o=e[a+88>>2],e[a+88>>2]=o+1,p=e[i+140>>2],r=e[a+92>>2],o=g+H(o+r&1,36)|0,e[o>>2]=e[i+136>>2],e[o+4>>2]=p,e[o+32>>2]=e[i+168>>2],p=e[i+164>>2],e[o+24>>2]=e[i+160>>2],e[o+28>>2]=p,p=e[i+156>>2],e[o+16>>2]=e[i+152>>2],e[o+20>>2]=p,p=e[i+148>>2],e[o+8>>2]=e[i+144>>2],e[o+12>>2]=p}if(r=g+H(r&1,36)|0,e[i+128>>2]=e[r+16>>2],o=e[r+12>>2],e[i+120>>2]=e[r+8>>2],e[i+124>>2]=o,o=e[r+4>>2],e[i+112>>2]=e[r>>2],e[i+116>>2]=o,(Ve(a,24)|0)==1)break u;e[i+24>>2]=e[i+128>>2],r=e[i+124>>2],e[i+16>>2]=e[i+120>>2],e[i+20>>2]=r,r=e[i+116>>2],e[i+8>>2]=e[i+112>>2],e[i+12>>2]=r,Kt(a,i+8|0,16818,0),e[i+104>>2]=0,e[i+96>>2]=0,e[i+100>>2]=0,e[i+88>>2]=0,e[i+92>>2]=0,o=i+88|0,r=Ne(i+136|0,-1,o),e[i+80>>2]=0,e[i+72>>2]=0,e[i+76>>2]=0,e[i+104>>2]=0,e[i+96>>2]=0,e[i+100>>2]=0,e[i+88>>2]=0,e[i+92>>2]=0,o=Ne(i+32|0,-1,o);a:{c:{if((we(a,0)|0)!=54&&(we(a,0)|0)!=126)break c;qt(a,r);break a}Di(r,o)}te(o),($n(a,i+72|0)|0)!=1&&Ve(a,39),S[i+83|0]<0&&P(e[i+72>>2]),te(r)}b=i+176|0,i=1;break r;case 31:break l;default:break r}o=b-176|0,b=o;l:{if((Ve(a,26)|0)==1)break l;p=a+16|0;u:{if(e[a+88>>2]){r=e[a+92>>2];break u}ri(o+136|0,e[a>>2],a),g=e[a+88>>2],e[a+88>>2]=g+1,_=e[o+140>>2],r=e[a+92>>2],g=p+H(g+r&1,36)|0,e[g>>2]=e[o+136>>2],e[g+4>>2]=_,e[g+32>>2]=e[o+168>>2],_=e[o+164>>2],e[g+24>>2]=e[o+160>>2],e[g+28>>2]=_,_=e[o+156>>2],e[g+16>>2]=e[o+152>>2],e[g+20>>2]=_,_=e[o+148>>2],e[g+8>>2]=e[o+144>>2],e[g+12>>2]=_}if(r=p+H(r&1,36)|0,e[o+128>>2]=e[r+16>>2],g=e[r+12>>2],e[o+120>>2]=e[r+8>>2],e[o+124>>2]=g,g=e[r+4>>2],e[o+112>>2]=e[r>>2],e[o+116>>2]=g,(Ve(a,33)|0)==1)break l;e[o+24>>2]=e[o+128>>2],r=e[o+124>>2],e[o+16>>2]=e[o+120>>2],e[o+20>>2]=r,r=e[o+116>>2],e[o+8>>2]=e[o+112>>2],e[o+12>>2]=r,Kt(a,o+8|0,16786,0),e[o+104>>2]=0,e[o+96>>2]=0,e[o+100>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,g=o+88|0,r=Ne(o+136|0,-1,g),e[o+80>>2]=0,e[o+72>>2]=0,e[o+76>>2]=0,e[o+104>>2]=0,e[o+96>>2]=0,e[o+100>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,g=Ne(o+32|0,-1,g);u:{a:{if((we(a,0)|0)!=54&&(we(a,0)|0)!=126)break a;qt(a,r);break u}Di(r,g)}te(g);u:{if((we(a,0)|0)==125&&($n(a,o+72|0)|0)==1)break u;Ve(a,39)}S[o+83|0]<0&&P(e[o+72>>2]),te(r)}b=o+176|0}r:{if(!i){if(i=e[x+4>>2],i>>>0<nt[x+8>>2]){r=e[v+8>>2],e[v+8>>2]=0,e[i>>2]=r,e[x+4>>2]=i+4,i=0;break r}hT(x,v+8|0),i=0;break r}i=(e8(a,865)|0)==1}if(r=e[v+8>>2],e[v+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),!!i)break}V=1}if(b=v+16|0,!V)break i;break t}(we(a,0)|0)==26&&(r=e[a+92>>2]&1,i=H(r,36)+a|0,e[i+32>>2]=0,e[i+36>>2]=0,e[i+24>>2]=0,e[i+28>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[a+92>>2]=!r,e[a+88>>2]=e[a+88>>2]-1),i=Z(16),r=y[16052]|y[16053]<<8|(y[16054]<<16|y[16055]<<24),o=y[16048]|y[16049]<<8|(y[16050]<<16|y[16051]<<24),S[i+6|0]=o,S[i+7|0]=o>>>8,S[i+8|0]=o>>>16,S[i+9|0]=o>>>24,S[i+10|0]=r,S[i+11|0]=r>>>8,S[i+12|0]=r>>>16,S[i+13|0]=r>>>24,r=y[16046]|y[16047]<<8|(y[16048]<<16|y[16049]<<24),o=y[16042]|y[16043]<<8|(y[16044]<<16|y[16045]<<24),S[i|0]=o,S[i+1|0]=o>>>8,S[i+2|0]=o>>>16,S[i+3|0]=o>>>24,S[i+4|0]=r,S[i+5|0]=r>>>8,S[i+6|0]=r>>>16,S[i+7|0]=r>>>24,S[i+14|0]=0,r=Z(24),e[c+24>>2]=r,o=r+24|0,e[c+32>>2]=o,Ni(r,i,14),S[r+23|0]=9,ns[r+20>>1]=100,e[r+12>>2]=1868767329,e[r+16>>2]=1851878765,e[c+28>>2]=o,Cn(a,c+24|0,0),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r),P(i)}if(j=1,(Ve(a,16)|0)==1||(i=e[a+8>>2],e[i+4>>2]!=e[i>>2]))break t;if(r=e[c+16>>2],j=0,e[c+16>>2]=0,i=e[L>>2],e[L>>2]=r,!i)break e;GT(i)}if(i=e[c+16>>2],e[c+16>>2]=0,!i)break e;GT(i)}if(b=c- -64|0,!j){i=e[L>>2],c=b-192|0,b=c,e[c+12>>2]=0,e[c+16>>2]=0,e[c+4>>2]=n,e[c>>2]=52108,e[c+8>>2]=i,sa(c+20|0,c),e[c+80>>2]=0,e[c+84>>2]=0,e[c+72>>2]=0,e[c+76>>2]=0,r=e[i>>2],g=e[i+4>>2];e:{if((r|0)==(g|0)){e[c>>2]=52108,i=0;break e}for(x=c+108|0;;){t:{i:{n:{s:{r:switch(i=e[r>>2],e[i+4>>2]){case 4:break s;case 0:break r;case 6:break i;case 5:break n;default:break t}Fm(c,i+8|0);break t}e[c+184>>2]=0,e[c+176>>2]=0,e[c+180>>2]=0,e[c+100>>2]=0,e[c+104>>2]=0,e[c+96>>2]=e[c+8>>2],e[c+88>>2]=52108,e[c+92>>2]=c+176,sa(x,c+88|0),e[c+168>>2]=0,e[c+172>>2]=0,e[c+160>>2]=0,e[c+164>>2]=0,i=e[i+8>>2];s:{if(!(!e[i+4>>2]&&i)){e[c+88>>2]=52108;break s}if(Fm(c+88|0,i+8|0),e[c+88>>2]=52108,o=e[c+160>>2],!o)break s;if(n=e[c+164>>2],i=o,(n|0)!=(i|0)){for(;n=n-12|0,S[n+11|0]<0&&P(e[n>>2]),(n|0)!=(o|0););i=e[c+160>>2]}e[c+164>>2]=o,P(i)}if(i=e[c+148>>2],i&&(e[c+152>>2]=i,P(i)),i=e[c+136>>2],i&&(e[c+140>>2]=i,P(i)),i=e[c+124>>2],i&&(e[c+128>>2]=i,P(i)),i=e[c+112>>2],i&&(e[c+116>>2]=i,P(i)),o=e[c+176>>2],!o)break t;if(i=e[c+180>>2],n=o,(i|0)!=(o|0)){for(;n=i-36|0,S[n+35|0]<0&&P(e[i-12>>2]),i=n,(i|0)!=(o|0););n=e[c+176>>2]}e[c+180>>2]=o,P(n);break t}if(i=e[i+8>>2],!i|e[i+4>>2])break t;Fm(c,i+8|0);break t}if(i=e[i+8>>2],!i|e[i+4>>2])break t;Fm(c,i+8|0)}if(r=r+4|0,(g|0)==(r|0))break}if(e[c>>2]=52108,i=e[c+84>>2],o=e[c+72>>2],!o)break e;if(n=e[c+76>>2],r=o,(n|0)!=(r|0)){for(;n=n-12|0,S[n+11|0]<0&&P(e[n>>2]),(n|0)!=(o|0););r=e[c+72>>2]}e[c+76>>2]=o,P(r)}r=e[c+60>>2],r&&(e[c- -64>>2]=r,P(r)),r=e[c+48>>2],r&&(e[c+52>>2]=r,P(r)),r=e[c+36>>2],r&&(e[c+40>>2]=r,P(r)),r=e[c+24>>2],r&&(e[c+28>>2]=r,P(r)),b=c+192|0,se=(i|0)==1}i=e[a+88>>2];e:{if(!i)break e;if(o=a+16|0,c=i-1|0,n=e[a+92>>2],g=i&3,g)for(x=n+1|0;r=o+H(i+x&1,36)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,i=i-1|0,De=De+1|0,(g|0)!=(De|0););if(c>>>0<3)break e;for(r=i+n&1,n=o+H(r,36)|0,r=o+H(!r,36)|0;e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,i=i-4|0,!!i;);}return b=a+96|0,e[X>>2]=se,e[X+4>>2]=e[L>>2],b=L+32|0,X|0}function qE(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0;p=b-256|0,b=p,g=i+16|0,a=e[i+92>>2]&1,o=g+H(a,36)|0,L=e[o+20>>2],e[p+152>>2]=e[o+16>>2],e[p+156>>2]=L,L=e[o+12>>2],e[p+144>>2]=e[o+8>>2],e[p+148>>2]=L,L=e[o+4>>2],e[p+136>>2]=e[o>>2],e[p+140>>2]=L,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,L=e[o+24>>2],a=!a,e[i+92>>2]=a,o=e[i+88>>2]-1|0,e[i+88>>2]=o,o||(ri(p+192|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,_=e[p+196>>2],a=e[i+92>>2],o=g+H(o+a&1,36)|0,e[o>>2]=e[p+192>>2],e[o+4>>2]=_,e[o+32>>2]=e[p+224>>2],_=e[p+220>>2],e[o+24>>2]=e[p+216>>2],e[o+28>>2]=_,_=e[p+212>>2],e[o+16>>2]=e[p+208>>2],e[o+20>>2]=_,_=e[p+204>>2],e[o+8>>2]=e[p+200>>2],e[o+12>>2]=_),o=g+H(a&1,36)|0,a=e[o>>2],_=e[o+4>>2],x=e[o+8>>2],c=e[o+12>>2],e[r+16>>2]=e[o+16>>2],e[r+8>>2]=x,e[r+12>>2]=c,e[r>>2]=a,e[r+4>>2]=_,v=e[i+88>>2];e:{if(v){a=e[i+92>>2];break e}ri(p+192|0,e[i>>2],i),o=e[i+88>>2],v=o+1|0,e[i+88>>2]=v,_=e[p+196>>2],a=e[i+92>>2],o=g+H(o+a&1,36)|0,e[o>>2]=e[p+192>>2],e[o+4>>2]=_,e[o+32>>2]=e[p+224>>2],_=e[p+220>>2],e[o+24>>2]=e[p+216>>2],e[o+28>>2]=_,_=e[p+212>>2],e[o+16>>2]=e[p+208>>2],e[o+20>>2]=_,_=e[p+204>>2],e[o+8>>2]=e[p+200>>2],e[o+12>>2]=_}_=a&1,a=g+H(_,36)|0,e[p+128>>2]=e[a+32>>2],o=e[a+28>>2],e[p+120>>2]=e[a+24>>2],e[p+124>>2]=o,o=e[a+20>>2],e[p+112>>2]=e[a+16>>2],e[p+116>>2]=o,o=e[a+12>>2],e[p+104>>2]=e[a+8>>2],e[p+108>>2]=o,o=e[a+4>>2],e[p+96>>2]=e[a>>2],e[p+100>>2]=o;e:{t:{i:{if((L|0)!=229){n:{if(g=e[p+116>>2]-30|0,g>>>0<=24&&(o=1,1<<g&29360131))break n;r=Z(32),S[r+16|0]=y[12080],n=y[12076]|y[12077]<<8|(y[12078]<<16|y[12079]<<24),o=y[12072]|y[12073]<<8|(y[12074]<<16|y[12075]<<24),S[r+8|0]=o,S[r+9|0]=o>>>8,S[r+10|0]=o>>>16,S[r+11|0]=o>>>24,S[r+12|0]=n,S[r+13|0]=n>>>8,S[r+14|0]=n>>>16,S[r+15|0]=n>>>24,n=y[12068]|y[12069]<<8|(y[12070]<<16|y[12071]<<24),o=y[12064]|y[12065]<<8|(y[12066]<<16|y[12067]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+17|0]=0,n=Z(12),e[p+192>>2]=n,o=n+12|0,e[p+200>>2]=o,Ni(n,r,17),e[p+196>>2]=o,o=Cn(i,p+192|0,25233),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r);break e}n:switch(L-55|0){case 0:if(e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,g=e[a+20>>2],e[a+16>>2]=0,e[a+20>>2]=0,n=e[a+28>>2],a=e[a+32>>2],e[i+88>>2]=v-1,e[i+92>>2]=!_,g-52>>>0>2)break e;o=n,a=VT(o,o+a|0,p+192|0),n=e[p+192>>2],e[r+52>>2]=0,e[r+36>>2]=n,e[r+20>>2]=-1,e[r+24>>2]=-1;break t;case 1:if(e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,g=e[a+20>>2],e[a+16>>2]=0,e[a+20>>2]=0,n=e[a+28>>2],a=e[a+32>>2],e[i+88>>2]=v-1,e[i+92>>2]=!_,g-52>>>0>2)break e;o=n,a=n1(o,o+a|0,p+192|0,1),n=e[p+196>>2],o=e[p+192>>2],e[r+52>>2]=0,e[r+36>>2]=o,e[r+40>>2]=n,e[r+20>>2]=-2,e[r+24>>2]=-1;break t;case 3:break n;case 2:break i;default:break e}L=b-16|0,b=L;n:{s:{if((n|0)!=1)break s;n=2;r:switch(we(i,0)-30|0){case 1:n=1;break;case 0:break r;default:break s}a=e[i+92>>2]&1,o=H(a,36)+i|0,e[o+32>>2]=0,e[o+36>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,e[r+52>>2]=n,e[r+36>>2]=0,e[r+40>>2]=0,e[r+20>>2]=-4,e[r+24>>2]=-1,o=0;break n}if(j=e[i+92>>2]&1,g=H(j,36)+i|0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+24>>2]=0,e[g+28>>2]=0,_=e[g+36>>2],e[g+32>>2]=0,e[g+36>>2]=0,n=e[g+44>>2],a=e[g+48>>2],g=e[g+40>>2],e[i+92>>2]=!j,e[i+88>>2]=e[i+88>>2]-1,_-52>>>0>2)break n;o=n,o=aN(g,o,o+a|0,L+8|0),n=e[L+12>>2],a=e[L+8>>2],e[r+52>>2]=0,e[r+36>>2]=a,e[r+40>>2]=n,e[r+20>>2]=-4,e[r+24>>2]=-1}b=L+16|0,a=o;break t}e[p+184>>2]=229,W0(p+184|0,e[i+12>>2])||(e[p+176>>2]=e[p+152>>2],o=e[p+148>>2],e[p+168>>2]=e[p+144>>2],e[p+172>>2]=o,o=e[p+140>>2],e[p+160>>2]=e[p+136>>2],e[p+164>>2]=o,xe(p+192|0,p+184|0),o=e[p+172>>2],e[p+16>>2]=e[p+168>>2],e[p+20>>2]=o,e[p+24>>2]=e[p+176>>2],o=e[p+164>>2],e[p+8>>2]=e[p+160>>2],e[p+12>>2]=o,e[p>>2]=e[p+192>>2],Kt(i,p+8|0,10012,p)),c=b-224|0,b=c,se=1,L=16;n:{s:{r:{l:{u:{a:{c:{o:{d:switch(o=e[p+116>>2],o-46|0){case 0:break s;case 1:break l;case 5:break a;case 4:break c;case 3:break o;case 2:break d;default:break u}L=4;break r}L=2;break r}L=4,se=0;break s}L=2,se=0;break s}e[c+176>>2]=e[r+16>>2],n=e[r+12>>2],e[c+168>>2]=e[r+8>>2],e[c+172>>2]=n,n=e[r+4>>2],e[c+160>>2]=e[r>>2],e[c+164>>2]=n,r=WR(o),e[c+24>>2]=e[c+176>>2],n=e[c+172>>2],e[c+16>>2]=e[c+168>>2],e[c+20>>2]=n,e[c>>2]=r,r=e[c+164>>2],e[c+8>>2]=e[c+160>>2],e[c+12>>2]=r,Kt(i,c+8|0,26644,c),i=1;break n}L=8}}V=i+16|0,a=e[i+92>>2]&1,o=V+H(a,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,o=!a,e[i+92>>2]=o,a=e[i+88>>2]-1|0,e[i+88>>2]=a,a||(ri(c+184|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,g=e[c+188>>2],o=e[i+92>>2],a=V+H(a+o&1,36)|0,e[a>>2]=e[c+184>>2],e[a+4>>2]=g,e[a+32>>2]=e[c+216>>2],g=e[c+212>>2],e[a+24>>2]=e[c+208>>2],e[a+28>>2]=g,g=e[c+204>>2],e[a+16>>2]=e[c+200>>2],e[a+20>>2]=g,g=e[c+196>>2],e[a+8>>2]=e[c+192>>2],e[a+12>>2]=g),o=V+H(o&1,36)|0,a=e[o>>2],g=e[o+4>>2],_=e[o+8>>2],x=e[o+12>>2],e[r+16>>2]=e[o+16>>2],e[r+8>>2]=_,e[r+12>>2]=x,e[r>>2]=a,e[r+4>>2]=g,X=r+36|0,De=L-2|0,He=De>>>1|0;s:{for(;;){v=e[i+88>>2];r:{if(v){o=e[i+92>>2],a=V+H(o&1,36)|0,e[c+152>>2]=e[a+16>>2],g=e[a+12>>2],e[c+144>>2]=e[a+8>>2],e[c+148>>2]=g,g=e[a+4>>2],e[c+136>>2]=e[a>>2],e[c+140>>2]=g;break r}if(ri(c+184|0,e[i>>2],i),a=e[i+88>>2],v=a+1|0,e[i+88>>2]=v,g=e[c+188>>2],o=e[i+92>>2],a=V+H(a+o&1,36)|0,e[a>>2]=e[c+184>>2],e[a+4>>2]=g,e[a+32>>2]=e[c+216>>2],g=e[c+212>>2],e[a+24>>2]=e[c+208>>2],e[a+28>>2]=g,g=e[c+204>>2],e[a+16>>2]=e[c+200>>2],e[a+20>>2]=g,g=e[c+196>>2],e[a+8>>2]=e[c+192>>2],e[a+12>>2]=g,a=V+H(o&1,36)|0,g=e[a+12>>2],e[c+144>>2]=e[a+8>>2],e[c+148>>2]=g,e[c+152>>2]=e[a+16>>2],g=e[a+4>>2],e[c+136>>2]=e[a>>2],e[c+140>>2]=g,v)break r;ri(c+184|0,e[i>>2],i),a=e[i+88>>2],v=a+1|0,e[i+88>>2]=v,g=e[c+188>>2],o=e[i+92>>2],a=V+H(a+o&1,36)|0,e[a>>2]=e[c+184>>2],e[a+4>>2]=g,e[a+32>>2]=e[c+216>>2],g=e[c+212>>2],e[a+24>>2]=e[c+208>>2],e[a+28>>2]=g,g=e[c+204>>2],e[a+16>>2]=e[c+200>>2],e[a+20>>2]=g,g=e[c+196>>2],e[a+8>>2]=e[c+192>>2],e[a+12>>2]=g}g=o&1,a=V+H(g,36)|0,o=a,_=e[o+20>>2],e[c+112>>2]=e[o+16>>2],e[c+116>>2]=_,e[c+128>>2]=e[o+32>>2],_=e[o+28>>2],e[c+120>>2]=e[o+24>>2],e[c+124>>2]=_,_=e[o+12>>2],e[c+104>>2]=e[o+8>>2],e[c+108>>2]=_,_=e[o+4>>2],e[c+96>>2]=e[o>>2],e[c+100>>2]=_;r:{l:{u:{a:{c:{if(o=e[c+116>>2]-30|0,o>>>0<=24){if(o=1<<o,o&4194307)break a;if(o&25165824)break c}if(se)break s;r=Z(16),n=y[12016]|y[12017]<<8|(y[12018]<<16|y[12019]<<24),o=y[12012]|y[12013]<<8|(y[12014]<<16|y[12015]<<24),S[r+7|0]=o,S[r+8|0]=o>>>8,S[r+9|0]=o>>>16,S[r+10|0]=o>>>24,S[r+11|0]=n,S[r+12|0]=n>>>8,S[r+13|0]=n>>>16,S[r+14|0]=n>>>24,n=y[12009]|y[12010]<<8|(y[12011]<<16|y[12012]<<24),o=y[12005]|y[12006]<<8|(y[12007]<<16|y[12008]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+15|0]=0,n=Z(12),e[c+184>>2]=n,o=n+12|0,e[c+192>>2]=o,Ni(n,r,15),e[c+188>>2]=o,i=Cn(i,c+184|0,26008),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r);break n}if(!se)break u;e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,o=e[a+28>>2],a=e[a+32>>2],e[i+88>>2]=v-1,e[i+92>>2]=!g;c:switch(He|0){case 7:S[c+184|0]=0,g=o,_=o,o=a+o|0,x=b-16|0,b=x;o:{d:{m:{A:{w:switch(v=y[g|0],v-43|0){case 0:case 2:break w;default:break A}if(g=1,(k2(_+1|0,o,x+8|0)|0)==1)break o;if(a=e[x+8>>2],_=e[x+12>>2],(v|0)!=45)break m;if(!_&a>>>0>128|_)break o;a=256-a|0;break d}if(g=1,(k2(_,o,x+8|0)|0)==1)break o;if(a=e[x+8>>2],!e[x+12>>2]&a>>>0<=255)break d;break o}if(!_&a>>>0>255|_)break o}S[c+184|0]=a,g=0}if(b=x+16|0,o=g,a=y[c+184|0],e[r+20>>2]=-5,e[r+24>>2]=-1,e[r+28>>2]=-6,e[r+32>>2]=-1,S[M+X|0]=a,M>>>0>3)break l;e[((M<<2)+r|0)+52>>2]=0;break l;case 3:ns[c+184>>1]=0,g=o,_=o,o=a+o|0,x=b-16|0,b=x;o:{d:{m:{A:{w:switch(v=y[g|0],v-43|0){case 0:case 2:break w;default:break A}if(g=1,(k2(_+1|0,o,x+8|0)|0)==1)break o;if(a=e[x+8>>2],_=e[x+12>>2],(v|0)!=45)break m;if(!_&a>>>0>32768|_)break o;a=65536-a|0;break d}if(g=1,(k2(_,o,x+8|0)|0)==1)break o;if(a=e[x+8>>2],!e[x+12>>2]&a>>>0<=65535)break d;break o}if(!_&a>>>0>65535|_)break o}ns[c+184>>1]=a,g=0}if(b=x+16|0,o=g,a=Yn[c+184>>1],e[r+20>>2]=-5,e[r+24>>2]=-1,e[r+28>>2]=-7,e[r+32>>2]=-1,ns[(M<<1)+X>>1]=a,M>>>0>3)break l;e[((M<<2)+r|0)+52>>2]=0;break l;case 1:if(e[c+184>>2]=0,o=VT(o,a+o|0,c+184|0),a=e[c+184>>2],e[r+20>>2]=-5,e[r+24>>2]=-1,e[r+28>>2]=-1,e[r+32>>2]=-1,g=M<<2,e[g+X>>2]=a,M>>>0>3)break l;e[(r+g|0)+52>>2]=0;break l;case 0:break c;default:break r}if(e[c+184>>2]=0,e[c+188>>2]=0,o=n1(o,a+o|0,c+184|0,1),a=e[c+184>>2],g=e[c+188>>2],e[r+20>>2]=-5,e[r+24>>2]=-1,e[r+28>>2]=-2,e[r+32>>2]=-1,_=(M<<3)+X|0,e[_>>2]=a,e[_+4>>2]=g,M>>>0>3)break l;e[((M<<2)+r|0)+52>>2]=0;break l}if(se)break s}u:{a:switch(De|0){case 2:c:{if((n|0)==1){v=2;o:switch(we(i,0)-30|0){case 1:v=1;case 0:a=e[i+92>>2]&1,o=V+H(a,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,o=0,g=0;break c;default:break o}v=e[i+88>>2],g=e[i+92>>2]&1}if(o=V+H(g,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,x=e[o+20>>2],e[o+16>>2]=0,e[o+20>>2]=0,a=e[o+28>>2],_=e[o+32>>2],pe=e[o+24>>2],e[i+88>>2]=v-1,o=1,e[i+92>>2]=!g,v=0,g=0,x-52>>>0>2)break c;o=a,o=cN(pe,o,o+_|0,c+184|0),g=e[c+184>>2]}if(e[r+20>>2]=-5,e[r+24>>2]=-1,e[r+28>>2]=-3,e[r+32>>2]=-1,e[(M<<2)+X>>2]=g,M>>>0<4)break u;break l;case 0:c:{if((n|0)==1){v=2;o:switch(we(i,0)-30|0){case 1:v=1;case 0:g=e[i+92>>2]&1,o=V+H(g,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,j=0,o=0,g=0;break c;default:break o}v=e[i+88>>2],g=e[i+92>>2]&1}if(o=V+H(g,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,pe=e[o+20>>2],e[o+16>>2]=0,e[o+20>>2]=0,_=e[o+28>>2],x=e[o+32>>2],a=e[o+24>>2],e[i+88>>2]=v-1,o=1,e[i+92>>2]=!g,v=0,g=0,pe-52>>>0>2)break c;o=_,o=aN(a,o,o+x|0,c+184|0),j=e[c+188>>2],g=e[c+184>>2]}if(a=g,e[r+20>>2]=-5,e[r+24>>2]=-1,e[r+28>>2]=-4,e[r+32>>2]=-1,_=(M<<3)+X|0,e[_>>2]=a,e[_+4>>2]=j,M>>>0<4)break u;break l;default:break a}if(o=0,v=0,M>>>0>3)break r}e[((M<<2)+r|0)+52>>2]=v}if((o|0)!=1)break r;e[c+88>>2]=e[c+152>>2],r=e[c+148>>2],e[c+80>>2]=e[c+144>>2],e[c+84>>2]=r,r=e[c+140>>2],e[c+72>>2]=e[c+136>>2],e[c+76>>2]=r,r=c+184|0,K_(r,c+96|0),n=e[c+84>>2],e[c+56>>2]=e[c+80>>2],e[c+60>>2]=n,e[c- -64>>2]=e[c+88>>2],n=e[c+76>>2],e[c+48>>2]=e[c+72>>2],e[c+52>>2]=n,e[c+32>>2]=S[c+195|0]<0?e[c+184>>2]:r,Kt(i,c+48|0,28250,c+32|0),S[c+195|0]<0&&P(e[c+184>>2]),i=1;break n}if(M=M+1|0,(L|0)==(M|0))break}i=0;break n}r=Z(32),n=y[12041]|y[12042]<<8|(y[12043]<<16|y[12044]<<24),o=y[12037]|y[12038]<<8|(y[12039]<<16|y[12040]<<24),S[r+16|0]=o,S[r+17|0]=o>>>8,S[r+18|0]=o>>>16,S[r+19|0]=o>>>24,S[r+20|0]=n,S[r+21|0]=n>>>8,S[r+22|0]=n>>>16,S[r+23|0]=n>>>24,n=y[12033]|y[12034]<<8|(y[12035]<<16|y[12036]<<24),o=y[12029]|y[12030]<<8|(y[12031]<<16|y[12032]<<24),S[r+8|0]=o,S[r+9|0]=o>>>8,S[r+10|0]=o>>>16,S[r+11|0]=o>>>24,S[r+12|0]=n,S[r+13|0]=n>>>8,S[r+14|0]=n>>>16,S[r+15|0]=n>>>24,n=y[12025]|y[12026]<<8|(y[12027]<<16|y[12028]<<24),o=y[12021]|y[12022]<<8|(y[12023]<<16|y[12024]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+24|0]=0,n=Z(12),e[c+184>>2]=n,o=n+12|0,e[c+192>>2]=o,Ni(n,r,24),e[c+188>>2]=o,i=Cn(i,c+184|0,25598),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r)}b=c+224|0,o=(i|0)==1;break e}L=b-16|0,b=L;i:{n:{if((n|0)!=1)break n;n=2;s:switch(we(i,0)-30|0){case 1:n=1;break;case 0:break s;default:break n}a=e[i+92>>2]&1,o=H(a,36)+i|0,e[o+32>>2]=0,e[o+36>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,e[r+52>>2]=n,e[r+36>>2]=0,e[r+20>>2]=-3,e[r+24>>2]=-1,o=0;break i}if(j=e[i+92>>2]&1,g=H(j,36)+i|0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+24>>2]=0,e[g+28>>2]=0,_=e[g+36>>2],e[g+32>>2]=0,e[g+36>>2]=0,n=e[g+44>>2],a=e[g+48>>2],g=e[g+40>>2],e[i+92>>2]=!j,e[i+88>>2]=e[i+88>>2]-1,_-52>>>0>2)break i;o=n,o=cN(g,o,o+a|0,L+12|0),n=e[L+12>>2],e[r+52>>2]=0,e[r+36>>2]=n,e[r+20>>2]=-3,e[r+24>>2]=-1}b=L+16|0,a=o}if(o=0,(a|0)!=1)break e;e[p+88>>2]=e[r+16>>2],n=e[r+12>>2],e[p+80>>2]=e[r+8>>2],e[p+84>>2]=n,n=e[r+4>>2],e[p+72>>2]=e[r>>2],e[p+76>>2]=n,r=p+192|0,K_(r,p+96|0),n=e[p+84>>2],e[p+56>>2]=e[p+80>>2],e[p+60>>2]=n,e[p- -64>>2]=e[p+88>>2],n=e[p+76>>2],e[p+48>>2]=e[p+72>>2],e[p+52>>2]=n,e[p+32>>2]=S[p+203|0]<0?e[p+192>>2]:r,Kt(i,p+48|0,28250,p+32|0),S[p+203|0]<0&&P(e[p+192>>2]),o=1}return b=p+256|0,o}function ri(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0;a=b-368|0,b=a,o=e[r+36>>2],e[r+32>>2]=o,p=e[r+24>>2];e:{if(p>>>0>o>>>0)for(L=r+4|0;;){t:{i:{n:{s:{r:{l:{u:{a:{c:{o:{d:{m:{A:{w:{C:{_:{v:{f:{p:{k:{x:{N:switch(c=y[o|0],c-9|0){case 102:break o;case 101:break d;case 96:break m;case 88:break A;case 27:break w;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:break C;case 39:break _;case 34:case 36:break v;case 25:break f;case 0:case 1:case 4:case 23:break p;case 50:break k;case 32:break x;case 31:break N;default:break c}if(g=o>>>0<p>>>0,g)break n;break i}p=o+1|0,e[r+36>>2]=p,n=e[r+28>>2],g=e[r+4>>2],_=e[r+8>>2],c=y[r+15|0],e[a+352>>2]=e[r+16>>2],r=o-n|0,e[a+356>>2]=((r|0)>0?r:0)+1,r=p-n|0,r=((r|0)>0?r:0)+1|0,e[a+360>>2]=r,e[a+192>>2]=r,r=e[a+356>>2],e[a+184>>2]=e[a+352>>2],e[a+188>>2]=r,r=c<<24>>24<0,e[a+348>>2]=r?_:c,e[a+344>>2]=r?g:L,r=e[a+348>>2],e[a+176>>2]=e[a+344>>2],e[a+180>>2]=r,z0(i,a+176|0,39);break e}if(g=o>>>0<p>>>0,g)break r;break s}for(;;){p:{k:switch((c&255)-9|0){case 0:case 4:case 23:o=o+1|0,e[r+36>>2]=o;break p;case 1:break k;default:break t}o=o+1|0,e[r+36>>2]=o,e[r+28>>2]=o,e[r+16>>2]=e[r+16>>2]+1}if(o>>>0>=p>>>0)break t;c=y[o|0]}}v=0,o=b-256|0,b=o,c=e[r+36>>2],p=e[r+24>>2],c>>>0<p>>>0&&(c=c+1|0,e[r+36>>2]=c),L=r+4|0;f:{if(c>>>0<p>>>0)for(_=e[r+32>>2];;){g=c+1|0,e[r+36>>2]=g;p:{k:{x:{if(x=y[c|0],(x|0)!=10){if((x|0)==92)break x;if((x|0)!=34)break p;if(e[r+32>>2]=_,!v)break k;n=e[r+28>>2],p=e[r+4>>2],g=e[r+8>>2],c=y[r+15|0],v=e[r+36>>2],e[o+160>>2]=e[r+16>>2],r=_-n|0,e[o+164>>2]=((r|0)>0?r:0)+1,r=v-n|0,r=((r|0)>0?r:0)+1|0,e[o+168>>2]=r,e[o+112>>2]=r,r=e[o+164>>2],e[o+104>>2]=e[o+160>>2],e[o+108>>2]=r,r=c<<24>>24<0,e[o+156>>2]=r?g:c,e[o+152>>2]=r?p:L,r=e[o+156>>2],e[o+96>>2]=e[o+152>>2],e[o+100>>2]=r,z0(i,o+96|0,0);break f}e[r+32>>2]=c,p=e[r+28>>2],V=e[r+4>>2],j=e[r+8>>2],x=S[r+15|0],e[o+208>>2]=e[r+16>>2],v=1,g=g-p|0,g=((g|0)>0?g:0)+1|0,e[o+216>>2]=g,e[o+88>>2]=g,c=c-p|0,e[o+212>>2]=((c|0)>0?c:0)+1,c=e[o+212>>2],e[o+80>>2]=e[o+208>>2],e[o+84>>2]=c,c=(x|0)<0,e[o+204>>2]=c?j:x&255,e[o+200>>2]=c?V:L,c=e[o+204>>2],e[o+72>>2]=e[o+200>>2],e[o+76>>2]=c,Kt(n,o+72|0,12791,0),e[r+28>>2]=e[r+36>>2],e[r+16>>2]=e[r+16>>2]+1;break p}x:{N:{R:{if(p>>>0<=g>>>0)break R;g=c+2|0,e[r+36>>2]=g;E:switch(y[c+1|0]-34|0){case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 31:case 32:case 33:case 34:case 35:case 36:case 63:case 64:case 65:case 66:case 67:case 68:if(!(y[y[g|0]+51313|0]&4)|p>>>0<=g>>>0)break N;e[r+36>>2]=c+3;break p;case 0:case 5:case 58:case 76:case 80:case 82:break p;case 83:break E;default:break R}if(e[r+32>>2]=c,p>>>0<=g>>>0||(g=c+3|0,e[r+36>>2]=g,y[c+2|0]!=123))break x;c=0;E:{if(p>>>0<=g>>>0)break E;for(;;){if(p=y[g|0],y[p+51313|0]&4){if(e[r+36>>2]=g+1,Rh(S[g|0],o+232|0),g=e[r+36>>2],c=e[o+232>>2]|c<<4,c>>>0>1114111)break E;if(nt[r+24>>2]>g>>>0)continue;break E}break}if((p|0)!=125)break E;if((c&-2048)!=55296&e[r+32>>2]!=(g-3|0))break p;g=g+1|0,e[r+36>>2]=g}c=e[r+32>>2];break x}c=g-2|0}e[r+32>>2]=c}p=e[r+28>>2],V=e[r+4>>2],j=e[r+8>>2],x=y[r+15|0],e[o+184>>2]=e[r+16>>2],v=1,M=g-p|0,M=((M|0)>0?M:0)+1|0,e[o+192>>2]=M,e[o- -64>>2]=M,e[o+36>>2]=c,p=c-p|0,e[o+188>>2]=((p|0)>0?p:0)+1,p=e[o+188>>2],e[o+56>>2]=e[o+184>>2],e[o+60>>2]=p,p=x<<24>>24<0,e[o+180>>2]=p?j:x,e[o+176>>2]=p?V:L,e[o+32>>2]=g-c,c=e[o+180>>2],e[o+48>>2]=e[o+176>>2],e[o+52>>2]=c,Kt(n,o+48|0,28117,o+32|0);break p}n=e[r+28>>2],g=e[r+4>>2],v=e[r+8>>2],c=y[r+15|0],p=e[r+36>>2],e[o+240>>2]=e[r+16>>2],e[o+224>>2]=_,r=_-n|0,e[o+244>>2]=((r|0)>0?r:0)+1,r=p-n|0,r=((r|0)>0?r:0)+1|0,e[o+248>>2]=r,e[o+144>>2]=r,r=e[o+244>>2],e[o+136>>2]=e[o+240>>2],e[o+140>>2]=r,e[o+228>>2]=p-_,r=c<<24>>24<0,e[o+236>>2]=r?v:c,e[o+232>>2]=r?g:L,r=e[o+228>>2],e[o+120>>2]=e[o+224>>2],e[o+124>>2]=r,r=e[o+236>>2],e[o+128>>2]=e[o+232>>2],e[o+132>>2]=r,Qo(i,o+128|0,125,o+120|0);break f}if(c=e[r+36>>2],p=e[r+24>>2],!(c>>>0<p>>>0))break}n=e[r+28>>2],g=e[r+4>>2],_=e[r+8>>2],p=y[r+15|0],v=e[r+32>>2],e[o+240>>2]=e[r+16>>2],r=v-n|0,e[o+244>>2]=((r|0)>0?r:0)+1,r=c-n|0,r=((r|0)>0?r:0)+1|0,e[o+248>>2]=r,e[o+24>>2]=r,r=e[o+244>>2],e[o+16>>2]=e[o+240>>2],e[o+20>>2]=r,r=p<<24>>24<0,e[o+236>>2]=r?_:p,e[o+232>>2]=r?g:L,r=e[o+236>>2],e[o+8>>2]=e[o+232>>2],e[o+12>>2]=r,z0(i,o+8|0,16)}b=o+256|0;break e}n=o+1|0,e[r+36>>2]=n;v:{if(n>>>0>=p>>>0)break v;f:{if(n=y[n|0],n-49>>>0>=9){p:switch(n-105|0){case 0:LN(i,r);break e;case 1:case 2:case 3:case 4:break v;case 5:break p;default:break f}_N(i,r);break e}N8(i,r,53);break e}if((n|0)==48)break l}n=b+-64|0,b=n,o=e[r+36>>2],c=e[r+24>>2];v:{if(o>>>0>=c>>>0)break v;for(p=c-o|0,c=0;;){if(!(S[y[o|0]+51313|0]&1))break v;if(o=o+1|0,e[r+36>>2]=o,c=c+1|0,(p|0)==(c|0))break}}L=e[r+8>>2],p=y[r+15|0],g=e[r+28>>2],_=e[r+4>>2],c=e[r+32>>2],e[n+48>>2]=e[r+16>>2],v=c-g|0,e[n+52>>2]=((v|0)>0?v:0)+1,g=o-g|0,g=((g|0)>0?g:0)+1|0,e[n+56>>2]=g,e[n+24>>2]=g,g=e[n+52>>2],e[n+16>>2]=e[n+48>>2],e[n+20>>2]=g,e[n+32>>2]=c,e[n+36>>2]=o-c,o=p<<24>>24<0,e[n+44>>2]=o?L:p,e[n+40>>2]=o?_:r+4|0,r=e[n+36>>2],e[n>>2]=e[n+32>>2],e[n+4>>2]=r,r=e[n+44>>2],e[n+8>>2]=e[n+40>>2],e[n+12>>2]=r,Qo(i,n+8|0,124,n),b=n- -64|0;break e}if(o>>>0>=p>>>0||(n=o+1|0,e[r+36>>2]=n,y[o|0]!=48))break u;if(n>>>0<p>>>0)break a;break u}N8(i,r,54);break e}n=i,c=b-96|0,b=c,g=e[r+36>>2],i=e[r+24>>2],g>>>0<i>>>0&&(g=g+1|0,e[r+36>>2]=g);w:{C:{if(i>>>0>g>>>0){o=i-g|0,i=0;_:{for(;;){if(!(S[y[g|0]+51313|0]&1))break _;if(g=g+1|0,e[r+36>>2]=g,i=i+1|0,(o|0)==(i|0))break}i=o}if(i)break C}L=e[r+8>>2],o=y[r+15|0],p=e[r+28>>2],_=e[r+4>>2],i=e[r+32>>2],e[c+80>>2]=e[r+16>>2],v=i-p|0,e[c+84>>2]=((v|0)>0?v:0)+1,p=g-p|0,p=((p|0)>0?p:0)+1|0,e[c+88>>2]=p,e[c+24>>2]=p,p=e[c+84>>2],e[c+16>>2]=e[c+80>>2],e[c+20>>2]=p,e[c+64>>2]=i,e[c+68>>2]=g-i,i=o<<24>>24<0,e[c+76>>2]=i?L:o,e[c+72>>2]=i?_:r+4|0,i=e[c+68>>2],e[c>>2]=e[c+64>>2],e[c+4>>2]=i,i=e[c+76>>2],e[c+8>>2]=e[c+72>>2],e[c+12>>2]=i,Qo(n,c+8|0,124,c);break w}L=e[r+8>>2],o=y[r+15|0],p=e[r+28>>2],_=e[r+4>>2],i=e[r+32>>2],e[c+80>>2]=e[r+16>>2],v=i-p|0,e[c+84>>2]=((v|0)>0?v:0)+1,p=g-p|0,p=((p|0)>0?p:0)+1|0,e[c+88>>2]=p,e[c+56>>2]=p,p=e[c+84>>2],e[c+48>>2]=e[c+80>>2],e[c+52>>2]=p,e[c+64>>2]=i,e[c+68>>2]=g-i,i=o<<24>>24<0,e[c+76>>2]=i?L:o,e[c+72>>2]=i?_:r+4|0,i=e[c+68>>2],e[c+32>>2]=e[c+64>>2],e[c+36>>2]=i,i=e[c+76>>2],e[c+40>>2]=e[c+72>>2],e[c+44>>2]=i,Qo(n,c+40|0,126,c+32|0)}b=c+96|0;break e}e[a+300>>2]=6,e[a+296>>2]=25145,n=e[a+300>>2],e[a+256>>2]=e[a+296>>2],e[a+260>>2]=n,gN(i,r,a+256|0,121);break e}LN(i,r);break e}_N(i,r);break e}e[a+292>>2]=7,e[a+288>>2]=25137,n=e[a+292>>2],e[a+88>>2]=e[a+288>>2],e[a+92>>2]=n,gN(i,r,a+88|0,123);break e}if(g=y[c+51313|0],g&2){H_(i,r);break e}if(g&1){n=o;c:{if(!(S[c+51313|0]&1))break c;for(p=p-o|0,c=0;;){if(n=n+1|0,e[r+36>>2]=n,c=c+1|0,(p|0)==(c|0))break c;if(!(S[y[n|0]+51313|0]&1))break}}c=e[r+28>>2],g=e[r+4>>2],_=e[r+8>>2],p=y[r+15|0],e[a+352>>2]=e[r+16>>2],e[a+336>>2]=o,r=o-c|0,e[a+356>>2]=((r|0)>0?r:0)+1,r=n-c|0,r=((r|0)>0?r:0)+1|0,e[a+360>>2]=r,e[a+80>>2]=r,r=e[a+356>>2],e[a+72>>2]=e[a+352>>2],e[a+76>>2]=r,e[a+340>>2]=n-o,r=p<<24>>24<0,e[a+348>>2]=r?_:p,e[a+344>>2]=r?g:L,r=e[a+340>>2],e[a+56>>2]=e[a+336>>2],e[a+60>>2]=r,r=e[a+348>>2],e[a+64>>2]=e[a+344>>2],e[a+68>>2]=r,Qo(i,a- -64|0,124,a+56|0);break e}g=o+1|0,e[r+36>>2]=g,c=e[r+28>>2],_=e[r+4>>2],v=e[r+8>>2],p=S[r+15|0],e[a+272>>2]=e[r+16>>2],g=g-c|0,g=((g|0)>0?g:0)+1|0,e[a+280>>2]=g,e[a+48>>2]=g,o=o-c|0,e[a+276>>2]=((o|0)>0?o:0)+1,o=e[a+276>>2],e[a+40>>2]=e[a+272>>2],e[a+44>>2]=o,o=(p|0)<0,e[a+268>>2]=o?v:p&255,e[a+264>>2]=o?_:L,o=e[a+268>>2],e[a+32>>2]=e[a+264>>2],e[a+36>>2]=o,Kt(n,a+32|0,10528,0);break t}if(e[r+36>>2]=o+2,y[o+1|0]!=120)break u;ZR(i,r,54);break e}e[r+36>>2]=o,N8(i,r,54);break e}if(e[a+308>>2]=2,e[a+304>>2]=2510,n=e[a+308>>2],e[a+248>>2]=e[a+304>>2],e[a+252>>2]=n,n=r,p=1,r=e[a+252>>2],r){g=e[a+248>>2],L=r+g|0;l:{u:{a:{if(o=e[n+36>>2],_=e[n+24>>2],o>>>0<_>>>0){r=o;break a}if(y[g|0]!=255)break u;for(;;){if(g=g+1|0,(L|0)==(g|0))break l;if(y[g|0]!=255)break}break u}for(;;){if(v=S[g|0],p=-1,r>>>0<_>>>0&&(c=r+1|0,e[n+36>>2]=c,p=y[r|0],r=c),(p|0)!=(v|0))break u;if(p=1,g=g+1|0,(L|0)==(g|0))break}break l}e[n+36>>2]=o,p=0}}if(p){ZR(i,n,53);break e}N8(i,n,53);break e}if(c=o+1|0,e[r+36>>2]=c,y[o|0]!=59|c>>>0>=p>>>0||(c=o+2|0,e[r+36>>2]=c,y[o+1|0]!=59))break s;r:{for(;;){if(c>>>0>=p>>>0)break r;if(g=c+1|0,e[r+36>>2]=g,_=y[c|0],c=g,(_|0)==10)break}e[r+28>>2]=c,e[r+16>>2]=e[r+16>>2]+1;break t}n=e[r+28>>2],g=e[r+4>>2],_=e[r+8>>2],p=y[r+15|0],e[a+352>>2]=e[r+16>>2],r=o-n|0,e[a+356>>2]=((r|0)>0?r:0)+1,r=c-n|0,r=((r|0)>0?r:0)+1|0,e[a+360>>2]=r,e[a+216>>2]=r,r=e[a+356>>2],e[a+208>>2]=e[a+352>>2],e[a+212>>2]=r,r=p<<24>>24<0,e[a+348>>2]=r?_:p,e[a+344>>2]=r?g:L,r=e[a+348>>2],e[a+200>>2]=e[a+344>>2],e[a+204>>2]=r,z0(i,a+200|0,16);break e}g=o+g|0,e[r+36>>2]=g,c=e[r+28>>2],_=e[r+4>>2],v=e[r+8>>2],p=S[r+15|0],e[a+320>>2]=e[r+16>>2],g=g-c|0,g=((g|0)>0?g:0)+1|0,e[a+328>>2]=g,e[a+240>>2]=g,o=o-c|0,e[a+324>>2]=((o|0)>0?o:0)+1,o=e[a+324>>2],e[a+232>>2]=e[a+320>>2],e[a+236>>2]=o,o=(p|0)<0,e[a+316>>2]=o?v:p&255,e[a+312>>2]=o?_:L,o=e[a+316>>2],e[a+224>>2]=e[a+312>>2],e[a+228>>2]=o,Kt(n,a+224|0,10528,0);break t}c=o+1|0,e[r+36>>2]=c;n:{if(y[o|0]!=40|c>>>0>=p>>>0||(e[r+36>>2]=o+2,y[o+1|0]!=59))break n;g=b-48|0,b=g,o=e[r+36>>2],_=e[r+24>>2];s:{if(o>>>0<_>>>0)for(p=1;;){c=o,o=o+1|0,e[r+36>>2]=o;r:{l:{u:{a:switch(v=y[c|0],v-40|0){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:break r;case 0:break l;case 19:break u;default:break a}if((v|0)!=10)break r;e[r+28>>2]=o,e[r+16>>2]=e[r+16>>2]+1;break r}if(y[o|0]!=41|o>>>0>=_>>>0||(o=c+2|0,e[r+36>>2]=o,p=p-1|0,p))break r;o=1;break s}if(y[o|0]!=59|o>>>0>=_>>>0)break r;o=c+2|0,e[r+36>>2]=o,p=p+1|0}if(!(o>>>0<_>>>0))break}_=e[r+8>>2],c=y[r+15|0],p=e[r+28>>2],v=e[r+4>>2],x=e[r+32>>2],e[g+32>>2]=e[r+16>>2],x=x-p|0,e[g+36>>2]=((x|0)>0?x:0)+1,o=o-p|0,o=((o|0)>0?o:0)+1|0,e[g+40>>2]=o,e[g+16>>2]=o,o=e[g+36>>2],e[g+8>>2]=e[g+32>>2],e[g+12>>2]=o,o=c<<24>>24<0,e[g+28>>2]=o?_:c,e[g+24>>2]=o?v:r+4|0,o=e[g+28>>2],e[g>>2]=e[g+24>>2],e[g+4>>2]=o,Kt(n,g,6477,0),o=0}if(b=g+48|0,o)break t;n=e[r+28>>2],c=e[r+4>>2],p=e[r+8>>2],o=y[r+15|0],g=e[r+36>>2],_=e[r+32>>2],e[a+352>>2]=e[r+16>>2],r=_-n|0,e[a+356>>2]=((r|0)>0?r:0)+1,r=g-n|0,r=((r|0)>0?r:0)+1|0,e[a+360>>2]=r,e[a+112>>2]=r,r=e[a+356>>2],e[a+104>>2]=e[a+352>>2],e[a+108>>2]=r,r=o<<24>>24<0,e[a+348>>2]=r?p:o,e[a+344>>2]=r?c:L,r=e[a+348>>2],e[a+96>>2]=e[a+344>>2],e[a+100>>2]=r,z0(i,a+96|0,16);break e}if(n=o+1|0,e[r+36>>2]=n,y[o|0]!=40|n>>>0>=p>>>0||(c=o+2|0,e[r+36>>2]=c,y[o+1|0]!=64))break i;n:{if(c>>>0>=p>>>0)break n;for(n=p-c|0,p=0;;){if(!(S[y[c|0]+51313|0]&1))break n;if(c=c+1|0,e[r+36>>2]=c,p=p+1|0,(n|0)==(p|0))break}}n=e[r+28>>2],g=e[r+4>>2],_=e[r+8>>2],p=y[r+15|0],e[a+352>>2]=e[r+16>>2],r=o-n|0,e[a+356>>2]=((r|0)>0?r:0)+1,r=c-n|0,r=((r|0)>0?r:0)+1|0,e[a+360>>2]=r,e[a+144>>2]=r,r=e[a+356>>2],e[a+136>>2]=e[a+352>>2],e[a+140>>2]=r,e[a+340>>2]=(c-o|0)-2,e[a+336>>2]=o+2,r=p<<24>>24<0,e[a+348>>2]=r?_:p,e[a+344>>2]=r?g:L,r=e[a+340>>2],e[a+120>>2]=e[a+336>>2],e[a+124>>2]=r,r=e[a+348>>2],e[a+128>>2]=e[a+344>>2],e[a+132>>2]=r,Qo(i,a+128|0,122,a+120|0);break e}p=o+g|0,e[r+36>>2]=p,n=e[r+28>>2],g=e[r+4>>2],_=e[r+8>>2],c=y[r+15|0],e[a+352>>2]=e[r+16>>2],r=o-n|0,e[a+356>>2]=((r|0)>0?r:0)+1,r=p-n|0,r=((r|0)>0?r:0)+1|0,e[a+360>>2]=r,e[a+168>>2]=r,r=e[a+356>>2],e[a+160>>2]=e[a+352>>2],e[a+164>>2]=r,r=c<<24>>24<0,e[a+348>>2]=r?_:c,e[a+344>>2]=r?g:L,r=e[a+348>>2],e[a+152>>2]=e[a+344>>2],e[a+156>>2]=r,z0(i,a+152|0,26);break e}if(o=e[r+36>>2],e[r+32>>2]=o,p=e[r+24>>2],!(p>>>0>o>>>0))break}c=e[r+8>>2],n=y[r+15|0],p=e[r+28>>2],g=e[r+4>>2],e[a+352>>2]=e[r+16>>2],o=o-p|0,o=((o|0)>0?o:0)+1|0,e[a+356>>2]=o,e[a+360>>2]=o,e[a+24>>2]=o,o=e[a+356>>2],e[a+16>>2]=e[a+352>>2],e[a+20>>2]=o,o=n,n=n<<24>>24<0,e[a+348>>2]=n?c:o,e[a+344>>2]=n?g:r+4|0,r=e[a+348>>2],e[a+8>>2]=e[a+344>>2],e[a+12>>2]=r,z0(i,a+8|0,16)}b=a+368|0}function G_(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;x=b-16|0,b=x;e:{t:{i:{n:{s:{r:{l:{u:{a:{c:{o:{if(i>>>0<=244){if(a=e[98219],p=i>>>0<11?16:i+11&-8,n=p>>>3|0,r=a>>>n|0,r&3){n=n+((r^-1)&1)|0,i=n<<3,r=i+392916|0,o=e[i+392924>>2],i=e[o+8>>2];d:{if((r|0)==(i|0)){M=392876,V=x2(n)&a,e[M>>2]=V;break d}e[i+12>>2]=r,e[r+8>>2]=i}i=o+8|0,r=n<<3,e[o+4>>2]=r|3,r=r+o|0,e[r+4>>2]=e[r+4>>2]|1;break e}if(L=e[98221],L>>>0>=p>>>0)break o;if(r){i=2<<n,i=(0-i|i)&r<<n,r=(0-i&i)-1|0,i=r>>>12&16,n=i,r=r>>>i|0,i=r>>>5&8,n=n|i,r=r>>>i|0,i=r>>>2&4,n=n|i,r=r>>>i|0,i=r>>>1&2,n=n|i,r=r>>>i|0,i=r>>>1&1,o=(n|i)+(r>>>i|0)|0,i=o<<3,r=i+392916|0,g=e[i+392924>>2],i=e[g+8>>2];d:{if((r|0)==(i|0)){a=x2(o)&a,e[98219]=a;break d}e[i+12>>2]=r,e[r+8>>2]=i}if(e[g+4>>2]=p|3,n=g+p|0,i=o<<3,o=i-p|0,e[n+4>>2]=o|1,e[i+g>>2]=o,L){i=L>>>3|0,r=(i<<3)+392916|0,c=e[98224],i=1<<i;d:{if(!(i&a)){e[98219]=i|a,i=r;break d}i=e[r+8>>2]}e[r+8>>2]=c,e[i+12>>2]=c,e[c+12>>2]=r,e[c+8>>2]=i}i=g+8|0,e[98224]=n,e[98221]=o;break e}if(v=e[98220],!v)break o;for(r=(v&0-v)-1|0,i=r>>>12&16,n=i,r=r>>>i|0,i=r>>>5&8,n=n|i,r=r>>>i|0,i=r>>>2&4,n=n|i,r=r>>>i|0,i=r>>>1&2,n=n|i,r=r>>>i|0,i=r>>>1&1,r=e[((n|i)+(r>>>i|0)<<2)+393180>>2],o=(e[r+4>>2]&-8)-p|0,n=r;;){d:{if(i=e[n+16>>2],!i&&(i=e[n+20>>2],!i))break d;n=(e[i+4>>2]&-8)-p|0,c=n>>>0<o>>>0,o=c?n:o,r=c?i:r,n=i;continue}break}if(_=e[r+24>>2],c=e[r+12>>2],(c|0)!=(r|0)){i=e[r+8>>2],e[i+12>>2]=c,e[c+8>>2]=i;break t}if(n=r+20|0,i=e[n>>2],!i){if(i=e[r+16>>2],!i)break c;n=r+16|0}for(;g=n,c=i,n=i+20|0,i=e[n>>2],!(!i&&(n=c+16|0,i=e[c+16>>2],!i)););e[g>>2]=0;break t}if(p=-1,i>>>0>4294967231||(i=i+11|0,p=i&-8,v=e[98220],!v))break o;o=0-p|0,a=0;d:{if(p>>>0<256||(a=31,p>>>0>16777215))break d;i=i>>>8|0,g=i+1048320>>>16&8,i=i<<g,n=i+520192>>>16&4,i=i<<n,r=i+245760>>>16&2,i=(i<<r>>>15|0)-(r|(n|g))|0,a=(i<<1|p>>>i+21&1)+28|0}n=e[(a<<2)+393180>>2];d:{m:{A:{if(!n){i=0;break A}for(i=0,r=p<<((a|0)==31?0:25-(a>>>1|0)|0);;){w:{if(g=(e[n+4>>2]&-8)-p|0,g>>>0>=o>>>0||(c=n,o=g,o))break w;o=0,i=n;break m}if(g=e[n+20>>2],n=e[((r>>>29&4)+n|0)+16>>2],i=g?(g|0)==(n|0)?i:g:i,r=r<<1,!n)break}}if(!(i|c)){if(c=0,i=2<<a,i=(0-i|i)&v,!i)break o;r=(i&0-i)-1|0,i=r>>>12&16,n=i,r=r>>>i|0,i=r>>>5&8,n=n|i,r=r>>>i|0,i=r>>>2&4,n=n|i,r=r>>>i|0,i=r>>>1&2,n=n|i,r=r>>>i|0,i=r>>>1&1,i=e[((n|i)+(r>>>i|0)<<2)+393180>>2]}if(!i)break d}for(;r=(e[i+4>>2]&-8)-p|0,n=r>>>0<o>>>0,o=n?r:o,c=n?i:c,r=e[i+16>>2],r?i=r:i=e[i+20>>2],!!i;);}if(!c|e[98221]-p>>>0<=o>>>0)break o;if(a=e[c+24>>2],r=e[c+12>>2],(c|0)!=(r|0)){i=e[c+8>>2],e[i+12>>2]=r,e[r+8>>2]=i;break i}if(n=c+20|0,i=e[n>>2],!i){if(i=e[c+16>>2],!i)break a;n=c+16|0}for(;g=n,r=i,n=i+20|0,i=e[n>>2],!(!i&&(n=r+16|0,i=e[r+16>>2],!i)););e[g>>2]=0;break i}if(n=e[98221],n>>>0>=p>>>0){o=e[98224],r=n-p|0;o:{if(r>>>0>=16){e[98221]=r,i=o+p|0,e[98224]=i,e[i+4>>2]=r|1,e[n+o>>2]=r,e[o+4>>2]=p|3;break o}e[98224]=0,e[98221]=0,e[o+4>>2]=n|3,i=n+o|0,e[i+4>>2]=e[i+4>>2]|1}i=o+8|0;break e}if(_=e[98222],_>>>0>p>>>0){r=_-p|0,e[98222]=r,n=e[98225],i=n+p|0,e[98225]=i,e[i+4>>2]=r|1,e[n+4>>2]=p|3,i=n+8|0;break e}if(i=0,v=p+47|0,e[98337]?n=e[98339]:(e[98340]=-1,e[98341]=-1,e[98338]=4096,e[98339]=4096,e[98337]=x+12&-16^1431655768,e[98342]=0,e[98330]=0,n=4096),g=v+n|0,c=0-n|0,n=g&c,n>>>0<=p>>>0||(o=e[98329],o&&(r=e[98327],a=r+n|0,o>>>0<a>>>0|r>>>0>=a>>>0)))break e;if(y[393320]&4)break r;o:{d:{if(o=e[98225],o)for(i=393324;;){if(r=e[i>>2],r>>>0<=o>>>0&o>>>0<r+e[i+4>>2]>>>0)break d;if(i=e[i+8>>2],!i)break}if(r=Th(0),(r|0)==-1||(a=n,o=e[98338],i=o-1|0,i&r&&(a=(n-r|0)+(i+r&0-o)|0),a>>>0<=p>>>0|a>>>0>2147483646)||(o=e[98329],o&&(i=e[98327],c=i+a|0,o>>>0<c>>>0|i>>>0>=c>>>0)))break l;if(i=Th(a),(r|0)!=(i|0))break o;break s}if(a=c&g-_,a>>>0>2147483646)break l;if(r=Th(a),(r|0)==(e[i>>2]+e[i+4>>2]|0))break u;i=r}if(!((i|0)==-1|p+48>>>0<=a>>>0)){if(r=e[98339],r=r+(v-a|0)&0-r,r>>>0>2147483646){r=i;break s}if((Th(r)|0)!=-1){a=r+a|0,r=i;break s}Th(0-a|0);break l}if(r=i,(i|0)!=-1)break s;break l}c=0;break t}r=0;break i}if((r|0)!=-1)break s}e[98330]=e[98330]|4}if(n>>>0>2147483646||(r=Th(n),i=Th(0),(r|0)==-1|(i|0)==-1|i>>>0<=r>>>0)||(a=i-r|0,a>>>0<=p+40>>>0))break n}i=e[98327]+a|0,e[98327]=i,i>>>0>nt[98328]&&(e[98328]=i);s:{r:{l:{if(g=e[98225],g){for(i=393324;;){if(o=e[i>>2],n=e[i+4>>2],(o+n|0)==(r|0))break l;if(i=e[i+8>>2],!i)break}break r}for(i=e[98223],i>>>0<=r>>>0&&i||(e[98223]=r),i=0,e[98332]=a,e[98331]=r,e[98227]=-1,e[98228]=e[98337],e[98334]=0;o=i<<3,n=o+392916|0,e[o+392924>>2]=n,e[o+392928>>2]=n,i=i+1|0,(i|0)!=32;);o=a-40|0,i=r+8&7?-8-r&7:0,n=o-i|0,e[98222]=n,i=i+r|0,e[98225]=i,e[i+4>>2]=n|1,e[(r+o|0)+4>>2]=40,e[98226]=e[98341];break s}if(y[i+12|0]&8|o>>>0>g>>>0|r>>>0<=g>>>0)break r;e[i+4>>2]=n+a,i=g+8&7?-8-g&7:0,n=i+g|0,e[98225]=n,r=e[98222]+a|0,i=r-i|0,e[98222]=i,e[n+4>>2]=i|1,e[(r+g|0)+4>>2]=40,e[98226]=e[98341];break s}nt[98223]>r>>>0&&(e[98223]=r),n=r+a|0,i=393324;r:{l:{u:{a:{c:{o:{for(;;){if((n|0)!=e[i>>2]){if(i=e[i+8>>2],i)continue;break o}break}if(!(y[i+12|0]&8))break c}for(i=393324;;){if(n=e[i>>2],n>>>0<=g>>>0&&(c=n+e[i+4>>2]|0,c>>>0>g>>>0))break a;i=e[i+8>>2]}}if(e[i>>2]=r,e[i+4>>2]=e[i+4>>2]+a,v=(r+8&7?-8-r&7:0)+r|0,e[v+4>>2]=p|3,a=n+(n+8&7?-8-n&7:0)|0,_=p+v|0,n=a-_|0,(a|0)==(g|0)){e[98225]=_,i=e[98222]+n|0,e[98222]=i,e[_+4>>2]=i|1;break l}if(e[98224]==(a|0)){e[98224]=_,i=e[98221]+n|0,e[98221]=i,e[_+4>>2]=i|1,e[i+_>>2]=i;break l}if(i=e[a+4>>2],(i&3)==1){g=i&-8;c:{if(i>>>0<=255){if(o=e[a+8>>2],i=i>>>3|0,r=e[a+12>>2],(r|0)==(o|0)){M=392876,V=e[98219]&x2(i),e[M>>2]=V;break c}e[o+12>>2]=r,e[r+8>>2]=o;break c}p=e[a+24>>2],r=e[a+12>>2];o:{if((a|0)!=(r|0)){i=e[a+8>>2],e[i+12>>2]=r,e[r+8>>2]=i;break o}d:{if(i=a+20|0,o=e[i>>2],o||(i=a+16|0,o=e[i>>2],o))break d;r=0;break o}for(;c=i,r=o,i=r+20|0,o=e[i>>2],!(!o&&(i=r+16|0,o=e[r+16>>2],!o)););e[c>>2]=0}if(!p)break c;o=e[a+28>>2],i=(o<<2)+393180|0;o:{if(e[i>>2]==(a|0)){if(e[i>>2]=r,r)break o;M=392880,V=e[98220]&x2(o),e[M>>2]=V;break c}if(e[p+(e[p+16>>2]==(a|0)?16:20)>>2]=r,!r)break c}if(e[r+24>>2]=p,i=e[a+16>>2],i&&(e[r+16>>2]=i,e[i+24>>2]=r),i=e[a+20>>2],!i)break c;e[r+20>>2]=i,e[i+24>>2]=r}n=n+g|0,a=a+g|0,i=e[a+4>>2]}if(e[a+4>>2]=i&-2,e[_+4>>2]=n|1,e[n+_>>2]=n,n>>>0<=255){i=n>>>3|0,r=(i<<3)+392916|0,n=e[98219],i=1<<i;c:{if(!(n&i)){e[98219]=i|n,i=r;break c}i=e[r+8>>2]}e[r+8>>2]=_,e[i+12>>2]=_,e[_+12>>2]=r,e[_+8>>2]=i;break l}i=31,n>>>0<=16777215&&(i=n>>>8|0,c=i+1048320>>>16&8,i=i<<c,o=i+520192>>>16&4,i=i<<o,r=i+245760>>>16&2,i=(i<<r>>>15|0)-(r|(o|c))|0,i=(i<<1|n>>>i+21&1)+28|0),e[_+28>>2]=i,e[_+16>>2]=0,e[_+20>>2]=0,c=(i<<2)+393180|0,o=e[98220],r=1<<i;c:{if(!(o&r)){e[98220]=r|o,e[c>>2]=_,e[_+24>>2]=c;break c}for(i=n<<((i|0)==31?0:25-(i>>>1|0)|0),r=e[c>>2];;){if(o=r,(e[r+4>>2]&-8)==(n|0))break u;if(r=i>>>29|0,i=i<<1,c=o+(r&4)|0,r=e[c+16>>2],!r)break}e[c+16>>2]=_,e[_+24>>2]=o}e[_+12>>2]=_,e[_+8>>2]=_;break l}for(o=a-40|0,i=r+8&7?-8-r&7:0,n=o-i|0,e[98222]=n,i=i+r|0,e[98225]=i,e[i+4>>2]=n|1,e[(r+o|0)+4>>2]=40,e[98226]=e[98341],i=(c+(c-39&7?39-c&7:0)|0)-47|0,n=i>>>0<g+16>>>0?g:i,e[n+4>>2]=27,i=e[98334],e[n+16>>2]=e[98333],e[n+20>>2]=i,i=e[98332],e[n+8>>2]=e[98331],e[n+12>>2]=i,e[98333]=n+8,e[98332]=a,e[98331]=r,e[98334]=0,i=n+24|0;e[i+4>>2]=7,r=i+8|0,i=i+4|0,r>>>0<c>>>0;);if((n|0)==(g|0))break s;if(e[n+4>>2]=e[n+4>>2]&-2,c=n-g|0,e[g+4>>2]=c|1,e[n>>2]=c,c>>>0<=255){i=c>>>3|0,r=(i<<3)+392916|0,n=e[98219],i=1<<i;a:{if(!(n&i)){e[98219]=i|n,i=r;break a}i=e[r+8>>2]}e[r+8>>2]=g,e[i+12>>2]=g,e[g+12>>2]=r,e[g+8>>2]=i;break s}i=31,c>>>0<=16777215&&(i=c>>>8|0,o=i+1048320>>>16&8,i=i<<o,n=i+520192>>>16&4,i=i<<n,r=i+245760>>>16&2,i=(i<<r>>>15|0)-(r|(n|o))|0,i=(i<<1|c>>>i+21&1)+28|0),e[g+28>>2]=i,e[g+16>>2]=0,e[g+20>>2]=0,o=(i<<2)+393180|0,n=e[98220],r=1<<i;a:{if(!(n&r)){e[98220]=r|n,e[o>>2]=g,e[g+24>>2]=o;break a}for(i=c<<((i|0)==31?0:25-(i>>>1|0)|0),r=e[o>>2];;){if(n=r,(c|0)==(e[r+4>>2]&-8))break r;if(r=i>>>29|0,i=i<<1,o=n+(r&4)|0,r=e[o+16>>2],!r)break}e[o+16>>2]=g,e[g+24>>2]=n}e[g+12>>2]=g,e[g+8>>2]=g;break s}i=e[o+8>>2],e[i+12>>2]=_,e[o+8>>2]=_,e[_+24>>2]=0,e[_+12>>2]=o,e[_+8>>2]=i}i=v+8|0;break e}i=e[n+8>>2],e[i+12>>2]=g,e[n+8>>2]=g,e[g+24>>2]=0,e[g+12>>2]=n,e[g+8>>2]=i}if(i=e[98222],i>>>0<=p>>>0)break n;r=i-p|0,e[98222]=r,n=e[98225],i=n+p|0,e[98225]=i,e[i+4>>2]=r|1,e[n+4>>2]=p|3,i=n+8|0;break e}e[98173]=48,i=0;break e}i:{if(!a)break i;n=e[c+28>>2],i=(n<<2)+393180|0;n:{if(e[i>>2]==(c|0)){if(e[i>>2]=r,r)break n;v=x2(n)&v,e[98220]=v;break i}if(e[a+(e[a+16>>2]==(c|0)?16:20)>>2]=r,!r)break i}if(e[r+24>>2]=a,i=e[c+16>>2],i&&(e[r+16>>2]=i,e[i+24>>2]=r),i=e[c+20>>2],!i)break i;e[r+20>>2]=i,e[i+24>>2]=r}i:{if(o>>>0<=15){i=o+p|0,e[c+4>>2]=i|3,i=i+c|0,e[i+4>>2]=e[i+4>>2]|1;break i}if(e[c+4>>2]=p|3,a=c+p|0,e[a+4>>2]=o|1,e[o+a>>2]=o,o>>>0<=255){i=o>>>3|0,r=(i<<3)+392916|0,n=e[98219],i=1<<i;n:{if(!(n&i)){e[98219]=i|n,i=r;break n}i=e[r+8>>2]}e[r+8>>2]=a,e[i+12>>2]=a,e[a+12>>2]=r,e[a+8>>2]=i;break i}i=31,o>>>0<=16777215&&(i=o>>>8|0,g=i+1048320>>>16&8,i=i<<g,n=i+520192>>>16&4,i=i<<n,r=i+245760>>>16&2,i=(i<<r>>>15|0)-(r|(n|g))|0,i=(i<<1|o>>>i+21&1)+28|0),e[a+28>>2]=i,e[a+16>>2]=0,e[a+20>>2]=0,r=(i<<2)+393180|0;n:{n=1<<i;s:{if(!(n&v)){e[98220]=n|v,e[r>>2]=a;break s}for(i=o<<((i|0)==31?0:25-(i>>>1|0)|0),p=e[r>>2];;){if(r=p,(e[r+4>>2]&-8)==(o|0))break n;if(n=i>>>29|0,i=i<<1,n=(n&4)+r|0,p=e[n+16>>2],!p)break}e[n+16>>2]=a}e[a+24>>2]=r,e[a+12>>2]=a,e[a+8>>2]=a;break i}i=e[r+8>>2],e[i+12>>2]=a,e[r+8>>2]=a,e[a+24>>2]=0,e[a+12>>2]=r,e[a+8>>2]=i}i=c+8|0;break e}t:{if(!_)break t;n=e[r+28>>2],i=(n<<2)+393180|0;i:{if(e[i>>2]==(r|0)){if(e[i>>2]=c,c)break i;M=392880,V=x2(n)&v,e[M>>2]=V;break t}if(e[_+(e[_+16>>2]==(r|0)?16:20)>>2]=c,!c)break t}if(e[c+24>>2]=_,i=e[r+16>>2],i&&(e[c+16>>2]=i,e[i+24>>2]=c),i=e[r+20>>2],!i)break t;e[c+20>>2]=i,e[i+24>>2]=c}t:{if(o>>>0<=15){i=o+p|0,e[r+4>>2]=i|3,i=i+r|0,e[i+4>>2]=e[i+4>>2]|1;break t}if(e[r+4>>2]=p|3,c=r+p|0,e[c+4>>2]=o|1,e[o+c>>2]=o,L){i=L>>>3|0,n=(i<<3)+392916|0,g=e[98224],i=1<<i;i:{if(!(i&a)){e[98219]=i|a,i=n;break i}i=e[n+8>>2]}e[n+8>>2]=g,e[i+12>>2]=g,e[g+12>>2]=n,e[g+8>>2]=i}e[98224]=c,e[98221]=o}i=r+8|0}return b=x+16|0,i|0}function $Z(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0;r=b-144|0,b=r,e[r+4>>2]=0,e[r>>2]=48292,De=sa(r+8|0,r),j=r+76|0,n=j,e[n>>2]=0,e[n+4>>2]=0,pe=r+68|0,n=pe,e[n>>2]=0,e[n+4>>2]=0,e[r+60>>2]=0,e[r+64>>2]=0,e[r+84>>2]=0,g=i,e[r+4>>2]=i;e:{t:{if(c=e[i+100>>2],L=e[i+104>>2],(c|0)!=(L|0))for(se=r- -64|0,M=r+72|0,a=r+80|0;;){i:{n:{s:{r:{l:{u:{a:switch(x=e[c>>2],e[x+28>>2]){case 1:break u;case 0:break a;case 4:break s;case 3:break r;case 2:break l;default:break i}_=x+32|0,v=e[r+4>>2]+216|0,i=se;break n}_=x+32|0,v=e[r+4>>2]+296|0,i=pe;break n}_=x+32|0,v=e[r+4>>2]+316|0,i=M;break n}_=x+32|0,v=e[r+4>>2]+236|0,i=j;break n}_=x+32|0,v=e[r+4>>2]+196|0,i=a}if(X=e[i>>2],e[i>>2]=X+1,e[r+112>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,i=y[x+15|0],V=i<<24>>24<0,p=V?e[x+8>>2]:i,i=p+1|0,i>>>0>=4294967280)break t;o=e[x+4>>2];n:{s:{if(i>>>0>=11){i=p+17&-16,n=Z(i),e[r+112>>2]=i|-2147483648,e[r+104>>2]=n,e[r+108>>2]=p;break s}if(S[r+115|0]=p,n=r+104|0,!p)break n}Ce(n,V?o:x+4|0,p)}if(S[n+p|0]=0,i=r+104|0,Qs(i,46),o=i,n=y[x+27|0],i=n<<24>>24<0,n=Mn(o,i?e[x+16>>2]:x+16|0,i?e[x+20>>2]:n),e[r+96>>2]=e[n+8>>2],i=e[n+4>>2],e[r+88>>2]=e[n>>2],e[r+92>>2]=i,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,S[r+115|0]<0&&P(e[r+104>>2]),o=0,i=S[r+99|0],V=y[_+11|0],n=V<<24>>24,!((n|0)<0?e[_+4>>2]:V)){for(V=(i|0)<0?e[r+88>>2]:r+88|0;;){n:{if(n<<24>>24<0){e[_+4>>2]=1,i=e[x+32>>2];break n}S[_+11|0]=1,i=_}S[i|0]=36,S[i+1|0]=0,Pn(_,V);n:{if(!o||(i=r+128|0,h1(i,o),r5(i,S[r+139|0]<0?e[r+128>>2]:i),e[r+112>>2]=e[r+136>>2],e[r+136>>2]=0,n=e[r+132>>2],i=e[r+128>>2],e[r+104>>2]=i,e[r+108>>2]=n,e[r+128>>2]=0,e[r+132>>2]=0,p=i,n=S[r+115|0],i=(n|0)<0,Mn(_,i?p:r+104|0,i?e[r+108>>2]:n&255),S[r+115|0]<0&&P(e[r+104>>2]),S[r+139|0]>=0))break n;P(e[r+128>>2])}if(Br(v,_)){o=o+1|0,n=y[_+11|0];continue}break}e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=X,gn(r+128|0,v,_,r+104|0),ln(v,e[r+128>>2]),i=y[r+99|0]}if(i<<24>>24>=0)break i;P(e[r+88>>2])}if(c=c+4|0,(L|0)==(c|0))break}if(v=e[g+112>>2],se=e[g+116>>2],(v|0)!=(se|0))for(;;){i:{n:{s:{r:{l:{u:{a:switch(M=e[v>>2],e[M+12>>2]){case 4:break s;case 3:break r;case 2:break l;case 1:break u;case 0:break a;default:break i}if(i=M+16|0,o=vl(e[r+4>>2],i),!o)break i;c=T2(e[r+4>>2],i),a=e[r+4>>2]+216|0;break n}if(i=M+16|0,o=Xc(e[r+4>>2],i),!o)break i;c=no(e[r+4>>2],i),a=e[r+4>>2]+296|0;break n}if(i=M+16|0,o=Oh(e[r+4>>2],i),!o)break i;c=Ys(e[r+4>>2],i),a=e[r+4>>2]+316|0;break n}if(i=M+16|0,o=op(e[r+4>>2],i),!o)break i;c=Wh(e[r+4>>2],i),a=e[r+4>>2]+236|0;break n}if(i=M+16|0,o=lp(e[r+4>>2],i),!o)break i;c=_p(e[r+4>>2],i),a=e[r+4>>2]+196|0}if(_=0,i=y[o+11|0],n=i<<24>>24,(n|0)<0?e[o+4>>2]:i)break i;for(M=S[M+11|0]<0?e[M>>2]:M;;){n:{if(n<<24>>24<0){e[o+4>>2]=1,i=e[o>>2];break n}S[o+11|0]=1,i=o}S[i|0]=36,S[i+1|0]=0,Pn(o,M);n:{if(!_||(i=r+128|0,h1(i,_),r5(i,S[r+139|0]<0?e[r+128>>2]:i),e[r+112>>2]=e[r+136>>2],e[r+136>>2]=0,n=e[r+132>>2],i=e[r+128>>2],e[r+104>>2]=i,e[r+108>>2]=n,e[r+128>>2]=0,e[r+132>>2]=0,j=i,n=S[r+115|0],i=(n|0)<0,Mn(o,i?j:r+104|0,i?e[r+108>>2]:n&255),S[r+115|0]<0&&P(e[r+104>>2]),S[r+139|0]>=0))break n;P(e[r+128>>2])}if(Br(a,o)){_=_+1|0,n=y[o+11|0];continue}break}e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=c,gn(r+128|0,a,o,r+104|0),ln(a,e[r+128>>2])}if(v=v+4|0,(se|0)==(v|0))break}if(i=e[g+92>>2],o=e[g+88>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+11|0],!(a<<24>>24<0?e[c+4>>2]:a)){for(i=e[r+4>>2]+236|0,o=0;A2(r,13142,n,o,c),o=o+1|0,!!Br(i,c););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,i,c,r+104|0),ln(i,e[r+128>>2]),o=e[g+88>>2],i=e[g+92>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}if(i=e[g+128>>2],o=e[g+124>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+35|0],!(a<<24>>24<0?e[c+28>>2]:a)){for(a=e[r+4>>2]+276|0,i=c+24|0,o=0;A2(r,7334,n,o,i),o=o+1|0,!!Br(a,i););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,a,i,r+104|0),ln(a,e[r+128>>2]),o=e[g+124>>2],i=e[g+128>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}o=e[g+76>>2];i:{if((o|0)==e[g+80>>2])break i;for(V=0;;){if(L=e[(V<<2)+o>>2],i=y[L+11|0],!(i<<24>>24<0?e[L+4>>2]:i)){for(i=e[r+4>>2]+216|0,o=0;A2(r,13276,V,o,L),o=o+1|0,!!Br(i,L););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=V,gn(r+128|0,i,L,r+104|0),ln(i,e[r+128>>2])}e[r+112>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,j=L+128|0,$_((e[L+56>>2]-e[L+52>>2]>>3)+G0(L+116|0)|0,j,r+104|0),n=e[r+104>>2],o=e[r+108>>2];n:{if((n|0)==(o|0)){n=o;break n}for(pe=L+136|0,_=0;;){if(se=H(_,12),i=se+n|0,a=y[i+11|0],!(a<<24>>24<0?e[i+4>>2]:a)){for(n=e[L+52>>2],i=e[L+56>>2],o=0,e[r+136>>2]=0,e[r+128>>2]=0,e[r+132>>2]=0,n=i-n>>3>>>0>_>>>0?10741:12324;i=r+128|0,A2(r,n,_,o,i),o=o+1|0,!!Br(j,i););p=Z(44),X=p+8|0;s:{if(S[r+139|0]>=0){i=e[r+132>>2],e[X>>2]=e[r+128>>2],e[X+4>>2]=i,e[X+8>>2]=e[r+136>>2];break s}Ni(X,e[r+128>>2],e[r+132>>2])}e[p+36>>2]=0,e[p+28>>2]=0,e[p+32>>2]=0,e[p+20>>2]=0,e[p+24>>2]=0,e[p+40>>2]=_,i=S[p+19|0],n=(i|0)<0,i=n?e[p+12>>2]:i&255,v=i,o=n?e[p+8>>2]:X,n=o,c=i,M=i>>>0<4;s:{if(M||(n=o,a=i,v=i,c=i-4|0,c&4||(n=H(y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),1540483477),v=H(n>>>24^n,1540483477)^H(i,1540483477),a=c,n=o+4|0),c>>>0<4))break s;for(;c=H(y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),1540483477),x=H(c>>>24^c,1540483477),c=H(y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),1540483477),v=x^H(H(c>>>24^c,1540483477)^H(v,1540483477),1540483477),n=n+8|0,a=a-8|0,c=a,c>>>0>3;);}s:switch(c-1|0){case 2:v=y[n+2|0]<<16^v;case 1:v=y[n+1|0]<<8^v;case 0:v=H(y[n|0]^v,1540483477);break;default:break s}e[p>>2]=0,n=H(v>>>13^v,1540483477),e[p+4>>2]=n>>>15^n;s:{if(M){n=i,a=i;break s}a=i-4|0;r:{if(a&4){n=i;break r}n=H(y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),1540483477),n=H(n>>>24^n,1540483477)^H(i,1540483477),o=o+4|0,i=a}if(a>>>0<4)break s;for(;a=H(y[o+4|0]|y[o+5|0]<<8|(y[o+6|0]<<16|y[o+7|0]<<24),1540483477),c=H(a>>>24^a,1540483477),a=H(y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),1540483477),n=c^H(H(a>>>24^a,1540483477)^H(n,1540483477),1540483477),o=o+8|0,i=i-8|0,a=i,i>>>0>3;);}s:switch(a-1|0){case 2:n=y[o+2|0]<<16^n;case 1:n=y[o+1|0]<<8^n;case 0:n=H(y[o|0]^n,1540483477);break;default:break s}i=H(n>>>13^n,1540483477),i=i>>>15^i,e[p+4>>2]=i,i=lN(j,i,X),o=e[p+4>>2],c=e[L+132>>2],a=rs(c)>>>0>1;s:{if(!a){o=c-1&o;break s}if(o>>>0<c>>>0)break s;o=(o>>>0)%(c>>>0)|0}s:{r:{if(!i){if(e[p>>2]=e[L+136>>2],e[L+136>>2]=p,e[e[j>>2]+(o<<2)>>2]=pe,i=e[p>>2],!i)break s;if(n=e[i+4>>2],!a){n=c-1&n;break r}if(n>>>0<c>>>0)break r;n=(n>>>0)%(c>>>0)|0;break r}if(e[p>>2]=e[i>>2],e[i>>2]=p,i=e[p>>2],!i)break s;n=e[i+4>>2];l:{if(!a){n=c-1&n;break l}if(n>>>0<c>>>0)break l;n=(n>>>0)%(c>>>0)|0}if((n|0)==(o|0))break s}e[e[j>>2]+(n<<2)>>2]=p}e[L+140>>2]=e[L+140>>2]+1,a=se+e[r+104>>2]|0;s:{if((a|0)==(r+128|0))break s;if(n=y[r+139|0],i=n<<24>>24,S[a+11|0]>=0){if((i|0)>=0){i=e[r+132>>2],e[a>>2]=e[r+128>>2],e[a+4>>2]=i,e[a+8>>2]=e[r+136>>2];break s}Er(a,e[r+128>>2],e[r+132>>2]);break s}i=(i|0)<0,So(a,i?e[r+128>>2]:r+128|0,i?e[r+132>>2]:n)}S[r+139|0]<0&&P(e[r+128>>2]),o=e[r+108>>2],n=e[r+104>>2]}if(_=_+1|0,!(_>>>0<(o-n|0)/12>>>0))break}}if(n){if((n|0)!=(o|0)){for(;o=o-12|0,S[o+11|0]<0&&P(e[o>>2]),(n|0)!=(o|0););o=e[r+104>>2]}e[r+108>>2]=n,P(o)}if(e[r+60>>2]=0,(b8(De,L)|0)==1)break i;if(V=V+1|0,o=e[g+76>>2],!(V>>>0<e[g+80>>2]-o>>2>>>0))break}}if(i=e[g+140>>2],o=e[g+136>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+11|0],!(a<<24>>24<0?e[c+4>>2]:a)){for(i=e[r+4>>2]+296|0,o=0;A2(r,24613,n,o,c),o=o+1|0,!!Br(i,c););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,i,c,r+104|0),ln(i,e[r+128>>2]),o=e[g+136>>2],i=e[g+140>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}if(i=e[g+164>>2],o=e[g+160>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+11|0],!(a<<24>>24<0?e[c+4>>2]:a)){for(i=e[r+4>>2]+316|0,o=0;A2(r,24666,n,o,c),o=o+1|0,!!Br(i,c););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,i,c,r+104|0),ln(i,e[r+128>>2]),o=e[g+160>>2],i=e[g+164>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}if(i=e[g+68>>2],o=e[g+64>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+11|0],!(a<<24>>24<0?e[c+4>>2]:a)){for(i=e[r+4>>2]+196|0,o=0;A2(r,15660,n,o,c),o=o+1|0,!!Br(i,c););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,i,c,r+104|0),ln(i,e[r+128>>2]),o=e[g+64>>2],i=e[g+68>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}if(i=e[g+176>>2],o=e[g+172>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+15|0],!(a<<24>>24<0?e[c+8>>2]:a)){for(a=e[r+4>>2]+336|0,i=c+4|0,o=0;A2(r,24154,n,o,i),o=o+1|0,!!Br(a,i););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,a,i,r+104|0),ln(a,e[r+128>>2]),o=e[g+172>>2],i=e[g+176>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}if(i=e[g+152>>2],o=e[g+148>>2],(i|0)!=(o|0))for(n=0;;){if(c=e[(n<<2)+o>>2],a=y[c+15|0],!(a<<24>>24<0?e[c+8>>2]:a)){for(a=e[r+4>>2]+356|0,i=c+4|0,o=0;A2(r,15660,n,o,i),o=o+1|0,!!Br(a,i););e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+124>>2]=n,gn(r+128|0,a,i,r+104|0),ln(a,e[r+128>>2]),o=e[g+148>>2],i=e[g+152>>2]}if(n=n+1|0,!(n>>>0<i-o>>2>>>0))break}e[r>>2]=48292,e[r+4>>2]=0,i=e[r+48>>2],i&&(e[r+52>>2]=i,P(i)),i=e[r+36>>2],i&&(e[r+40>>2]=i,P(i)),i=e[r+24>>2],i&&(e[r+28>>2]=i,P(i)),i=e[r+12>>2],i&&(e[r+16>>2]=i,P(i)),b=r+144|0;break e}Be(),Ie()}return 0}function KZ(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0;p=b-176|0,b=p,x=Ph(p+136|0,0),S[p+127|0]=0,S[p+128|0]=0,S[p+123|0]=0,S[p+124|0]=0,S[p+125|0]=0,S[p+126|0]=0,S[p+121|0]=1,S[p+122|0]=1,S[p+113|0]=1,S[p+114|0]=1,S[p+115|0]=1,S[p+116|0]=1,S[p+117|0]=0,S[p+118|0]=0,S[p+119|0]=1,S[p+120|0]=0,S[p+112|0]=0,S[p+131|0]=(g|0)!=0,S[p+130|0]=(c|0)!=0,S[p+129|0]=(a|0)!=0,e[p+104>>2]=0,e[p+96>>2]=0,e[p+100>>2]=0,_=o?x:0,M=Ph(p+72|0,_),n=n||r,e[p+48>>2]=n,X=p,se=Ge(n),e[X+52>>2]=se,n=e[p+52>>2],e[p+24>>2]=e[p+48>>2],e[p+28>>2]=n,n=e[p+24>>2],g=e[p+28>>2];e:{if(!g){c=-1;break e}for(a=n+g|0,c=-1;;){if((n|0)==(a|0))break e;if(a=a-1|0,y[a|0]==46)break}c=a-n|0}if(e[p+160>>2]=n,e[p+164>>2]=c>>>0>g>>>0?g:c,n=e[p+164>>2],n>>>0<4294967280){c=e[p+160>>2];e:{t:{if(n>>>0>=11){g=n+16&-16,a=Z(g),e[p+64>>2]=g|-2147483648,e[p+56>>2]=a,e[p+60>>2]=n;break t}if(S[p+67|0]=n,a=p+56|0,!n)break e}Ce(a,c,n)}S[n+a|0]=0,v=Z(24),n=v,e[n+4>>2]=0,e[n+8>>2]=0,e[n+20>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[p+40>>2]=r,X=p,se=Ge(r),e[X+44>>2]=se,n=S[p+67|0],r=(n|0)<0,e[p+36>>2]=r?e[p+60>>2]:n&255,e[p+32>>2]=r?e[p+56>>2]:p+56|0,r=e[p+44>>2],e[p+16>>2]=e[p+40>>2],e[p+20>>2]=r,r=e[p+36>>2],e[p+8>>2]=e[p+32>>2],e[p+12>>2]=r,g=b-128|0,b=g,e[g+120>>2]=_,e[g+124>>2]=p+96,e[g+104>>2]=g+120,e[g+96>>2]=47604,e[g>>2]=47604,e[g+100>>2]=g+124,r=e[g+104>>2],e[g+4>>2]=e[g+100>>2],e[g+8>>2]=r,e[g+112>>2]=g+96,e[g+16>>2]=g,_=e[p+16>>2],n=e[p+20>>2],V=e[p+8>>2],c=e[p+12>>2],j=p+112|0,r=g+24|0,e[r+4>>2]=M,e[r>>2]=0,a=e[g+16>>2];e:{if(!a){e[r+24>>2]=0;break e}if((a|0)==(g|0)){a=r+8|0,e[r+24>>2]=a,L=e[g+16>>2],F[e[e[L>>2]+12>>2]](L,a);break e}X=r,se=F[e[e[a>>2]+8>>2]](a)|0,e[X+24>>2]=se}e:{t:{if(n>>>0>=4294967280)break t;i:{n:{if(n>>>0>=11){L=n+16&-16,a=Z(L),e[r+40>>2]=L|-2147483648,e[r+32>>2]=a,e[r+36>>2]=n;break n}if(a=r+32|0,S[a+11|0]=n,!n)break i}Ce(a,_,n)}if(S[n+a|0]=0,c>>>0>=4294967280)break t;i:{n:{if(c>>>0>=11){n=c+16&-16,a=Z(n),e[r+52>>2]=n|-2147483648,e[r+44>>2]=a,e[r+48>>2]=c;break n}if(a=r+44|0,S[a+11|0]=c,!c)break i}Ce(a,V,c)}S[a+c|0]=0,e[r+60>>2]=0,e[r+64>>2]=0,e[r+56>>2]=j;break e}Be(),Ie()}n=r,r=e[g+16>>2];e:{t:{if((g|0)==(r|0)){r=g,a=e[r>>2]+16|0;break t}if(!r)break e;a=e[r>>2]+20|0}F[e[a>>2]](r)}r=b-496|0,b=r,e[n>>2]=i,ee(e[n+4>>2],28804,0),i=y[n+43|0],a=i<<24>>24<0,Ma(n,a?e[n+32>>2]:n+32|0,a?e[n+36>>2]:i),ee(e[n+4>>2],29515,0);e:{t:{if(a=e[n>>2],i=e[a>>2],(i|0)!=e[a+4>>2])for(c=0;;){a=e[(c<<2)+i>>2],c&&(ee(e[n+4>>2],28838,0),ee(e[n+4>>2],35623,0)),ee(e[n+4>>2],1028,0),i=e[n+4>>2],e[r+448>>2]=14425,ee(i,28797,r+448|0),i=e[n+4>>2],e[r+432>>2]=e[(e[a+4>>2]<<2)+47552>>2],ee(i,28384,r+432|0),ee(e[n+4>>2],28838,0);i:{n:switch(e[a+4>>2]){case 0:if(uT(r+472|0,n,e[14643]),i=e[n+4>>2],e[r+64>>2]=14435,ee(i,28797,r- -64|0),i=e[n+4>>2],e[r+48>>2]=e[a+16>>2],ee(i,24153,r+48|0),ee(e[n+4>>2],28838,0),i=y[a+39|0],(i<<24>>24<0?e[a+32>>2]:i)&&(i=e[n+4>>2],e[r+32>>2]=15087,ee(i,28797,r+32|0),i=y[a+39|0],_=i<<24>>24<0,Ma(n,_?e[a+28>>2]:a+28|0,_?e[a+32>>2]:i),ee(e[n+4>>2],28838,0)),i=e[n+4>>2],e[r+16>>2]=14877,ee(i,28797,r+16|0),_=y[r+483|0],i=_<<24>>24<0,e[r+460>>2]=i?e[r+476>>2]:_,L=r+472|0,e[r+456>>2]=i?e[r+472>>2]:L,i=e[r+460>>2],e[r+8>>2]=e[r+456>>2],e[r+12>>2]=i,RT(r+464|0,r+8|0),Ma(n,e[r+464>>2],e[r+468>>2]),i=y[r+483|0],_=i<<24>>24<0,i=_?e[r+476>>2]:i,e[r+488>>2]=_?e[r+472>>2]:L,e[r+492>>2]=i,i=e[n+24>>2],!i)break t;if(i=_k(F[e[e[i>>2]+24>>2]](i,r+488|0)|0,a+8|0,e[n+56>>2]),e[n+64>>2]=e[n+64>>2]+1,e[n+60>>2]=e[n+60>>2]==1|(i|0)==1,S[r+483|0]>=0)break i;P(e[r+472>>2]);break i;case 1:_=e[n+4>>2],i=e[a+8>>2],e[r+112>>2]=14435,ee(_,28797,r+112|0),a=e[n+4>>2],e[r+96>>2]=e[i+12>>2],ee(a,24153,r+96|0),ee(e[n+4>>2],28838,0),$m(n,i),ee(e[n+4>>2],28838,0),a=e[n+4>>2],e[r+80>>2]=16884,ee(a,28797,r+80|0),l8(n,i);break i;case 2:if(i=e[n+4>>2],e[r+192>>2]=14435,ee(i,28797,r+192|0),i=e[n+4>>2],e[r+176>>2]=e[a+28>>2],ee(i,24153,r+176|0),ee(e[n+4>>2],28838,0),e[a+40>>2]==1){i=e[n+4>>2],e[r+160>>2]=15087,ee(i,28797,r+160|0);s:{if(!e[a+40>>2]){i=e[n+4>>2],e[r+144>>2]=e[a+44>>2],ee(i,27999,r+144|0);break s}i=a+44|0,V=e[i>>2],L=i,i=y[a+55|0],_=i<<24>>24<0,Ma(n,_?V:L,_?e[a+48>>2]:i)}ee(e[n+4>>2],28838,0)}i=e[n+4>>2],e[r+128>>2]=8017,ee(i,28797,r+128|0),i=y[a+19|0],_=i<<24>>24<0,Ma(n,_?e[a+8>>2]:a+8|0,_?e[a+12>>2]:i);break i;case 3:i=y[a+23|0],_=i<<24>>24<0,Y_(n,e[a+8>>2],_?e[a+12>>2]:a+12|0,_?e[a+16>>2]:i),e[n+64>>2]=e[n+64>>2]+1;break i;case 4:i=y[a+23|0],_=i<<24>>24<0,Y_(n,e[a+8>>2],_?e[a+12>>2]:a+12|0,_?e[a+16>>2]:i),e[n+64>>2]=e[n+64>>2]+1;break i;case 5:i=y[a+23|0],_=i<<24>>24<0,Y_(n,e[a+8>>2],_?e[a+12>>2]:a+12|0,_?e[a+16>>2]:i),e[n+64>>2]=e[n+64>>2]+1;break i;case 6:i=y[a+23|0],_=i<<24>>24<0,Y_(n,e[a+8>>2],_?e[a+12>>2]:a+12|0,_?e[a+16>>2]:i),e[n+64>>2]=e[n+64>>2]+1;break i;case 7:i=e[n+4>>2],_=e[a+8>>2],e[r+240>>2]=14435,ee(i,28797,r+240|0),i=e[n+4>>2],e[r+224>>2]=e[_+12>>2],ee(i,24153,r+224|0),ee(e[n+4>>2],28838,0),$m(n,e[a+8>>2]),ee(e[n+4>>2],28838,0),i=e[n+4>>2],e[r+208>>2]=16884,ee(i,28797,r+208|0),oN(n,a+12|0);break i;case 8:i=e[n+4>>2],_=e[a+8>>2],e[r+304>>2]=14435,ee(i,28797,r+304|0),i=e[n+4>>2],e[r+288>>2]=e[_+12>>2],ee(i,24153,r+288|0),ee(e[n+4>>2],28838,0),$m(n,e[a+8>>2]),ee(e[n+4>>2],28838,0),i=e[n+4>>2],e[r+272>>2]=5609,ee(i,28797,r+272|0),i=y[a+23|0],_=i<<24>>24<0,Ma(n,_?e[a+12>>2]:a+12|0,_?e[a+16>>2]:i),ee(e[n+4>>2],28838,0),i=e[n+4>>2],e[r+256>>2]=16884,ee(i,28797,r+256|0),l8(n,e[a+8>>2]);break i;case 9:i=e[n+4>>2],_=e[a+8>>2],e[r+368>>2]=14435,ee(i,28797,r+368|0),i=e[n+4>>2],e[r+352>>2]=e[_+12>>2],ee(i,24153,r+352|0),ee(e[n+4>>2],28838,0),$m(n,e[a+8>>2]),ee(e[n+4>>2],28838,0),i=e[n+4>>2],e[r+336>>2]=5609,ee(i,28797,r+336|0),i=y[a+23|0],_=i<<24>>24<0,Ma(n,_?e[a+12>>2]:a+12|0,_?e[a+16>>2]:i),ee(e[n+4>>2],28838,0),i=e[n+4>>2],e[r+320>>2]=16884,ee(i,28797,r+320|0),l8(n,e[a+8>>2]);break i;case 10:break n;default:break i}i=e[n+4>>2],_=e[a+8>>2],e[r+416>>2]=14435,ee(i,28797,r+416|0),i=e[n+4>>2],e[r+400>>2]=e[_+12>>2],ee(i,24153,r+400|0),ee(e[n+4>>2],28838,0),$m(n,e[a+8>>2]),ee(e[n+4>>2],28838,0),i=e[n+4>>2],e[r+384>>2]=16884,ee(i,28797,r+384|0),l8(n,e[a+8>>2])}if(ee(e[n+4>>2],1024,0),a=e[n>>2],i=e[a>>2],c=c+1|0,!(c>>>0<e[a+4>>2]-i>>2>>>0))break}ee(e[n+4>>2],28841,0),b=r+496|0,i=e[n+60>>2];break e}Nr(),Ie()}S[n+55|0]<0&&P(e[n+44>>2]),S[n+43|0]<0&&P(e[n+32>>2]),r=n+8|0,n=e[n+24>>2];e:{t:{if((r|0)==(n|0)){n=e[r>>2]+16|0;break t}if(!n)break e;r=n,n=e[n>>2]+20|0}F[e[n>>2]](r)}r=e[g+112>>2];e:{t:{if((r|0)==(g+96|0)){r=g+96|0,n=e[g+96>>2]+16|0;break t}if(!r)break e;n=e[r>>2]+20|0}F[e[n>>2]](r)}b=g+128|0,e[v>>2]=i;e:{if(i||(r=Bh(M),i=e[v+4>>2],e[v+4>>2]=r,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),o?r=Bh(x):r=0,i=e[v+8>>2],e[v+8>>2]=r,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),n=e[p+96>>2],g=e[p+100>>2],(n|0)==(g|0)))break e;for(;;){i=Bh(e[n+12>>2]);t:{if(S[n+11|0]>=0){e[p+168>>2]=e[n+8>>2],r=e[n+4>>2],e[p+160>>2]=e[n>>2],e[p+164>>2]=r;break t}Ni(p+160|0,e[n>>2],e[n+4>>2])}e[p+172>>2]=i,i=e[v+16>>2];t:{if(i>>>0<nt[v+20>>2]){r=e[p+164>>2],e[i>>2]=e[p+160>>2],e[i+4>>2]=r,e[i+8>>2]=e[p+168>>2],e[p+168>>2]=0,e[p+160>>2]=0,e[p+164>>2]=0,r=e[p+172>>2],e[p+172>>2]=0,e[i+12>>2]=r,e[v+16>>2]=i+16;break t}i:{n:{s:{if(r=e[v+12>>2],o=e[v+16>>2]-r>>4,i=o+1|0,i>>>0>=268435456||(r=e[v+20>>2]-r|0,a=r>>3,i=r>>>0<2147483632?i>>>0<a>>>0?a:i:268435455,i>>>0>=268435456))break s;if(i=i<<4,r=Z(i),a=r+(o<<4)|0,o=e[p+164>>2],e[a>>2]=e[p+160>>2],e[a+4>>2]=o,e[a+8>>2]=e[p+168>>2],e[p+160>>2]=0,e[p+164>>2]=0,e[p+168>>2]=0,o=e[p+172>>2],e[p+172>>2]=0,e[a+12>>2]=o,r=i+r|0,o=a+16|0,c=e[v+12>>2],i=e[v+16>>2],(c|0)==(i|0))break n;for(;i=i-16|0,_=e[i+4>>2],a=a-16|0,e[a>>2]=e[i>>2],e[a+4>>2]=_,e[a+8>>2]=e[i+8>>2],e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,_=e[i+12>>2],e[i+12>>2]=0,e[a+12>>2]=_,(i|0)!=(c|0););if(e[v+20>>2]=r,i=e[v+16>>2],e[v+16>>2]=o,c=e[v+12>>2],e[v+12>>2]=a,(i|0)==(c|0))break i;for(;i=i-16|0,r=e[i+12>>2],e[i+12>>2]=0,r&&(o=e[r>>2],o&&(e[r+4>>2]=o,P(o)),P(r)),S[i+11|0]<0&&P(e[i>>2]),(i|0)!=(c|0););break i}Be(),Ie()}e[v+20>>2]=r,e[v+16>>2]=o,e[v+12>>2]=a}c&&P(c)}if(i=e[p+172>>2],e[p+172>>2]=0,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),S[p+171|0]<0&&P(e[p+160>>2]),n=n+16|0,(g|0)==(n|0))break}}if(S[p+67|0]<0&&P(e[p+56>>2]),e[M>>2]=48944,i=e[M+16>>2],e[M+16>>2]=0,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),i=e[p+96>>2],i){if(n=e[p+100>>2],r=i,(n|0)!=(r|0)){for(;n=n-16|0,r=e[n+12>>2],e[n+12>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),S[n+11|0]<0&&P(e[n>>2]),(i|0)!=(n|0););r=e[p+96>>2]}e[p+100>>2]=i,P(r)}return e[x>>2]=48944,i=e[x+16>>2],e[x+16>>2]=0,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),b=p+176|0,v|0}Be(),Ie()}function Ck(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;e[i+8>>2]=e[i+4>>2],e[i+20>>2]=e[i+16>>2],e[i+32>>2]=e[i+28>>2],e[i+44>>2]=e[i+40>>2],Sh(i,r),r=e[i+8>>2];e:{if((r|0)!=e[i+4>>2])for(;;){o=e[i+20>>2]-4|0,a=e[o>>2];t:{i:{n:{s:{r:{l:{u:{a:switch(r=r-4|0,e[r>>2]){case 1:break u;case 0:break a;case 6:break i;case 5:break n;case 4:break s;case 3:break r;case 2:break l;default:break t}e[i+20>>2]=o,e[i+8>>2]=r,r=1;a:{c:{o:switch(e[a+32>>2]){case 0:if(o=1,n=e[i>>2],(F[e[e[n>>2]+244>>2]](n,a)|0)!=1)break c;break a;case 3:if(o=1,n=e[i>>2],(F[e[e[n>>2]+248>>2]](n,a)|0)!=1)break c;break a;case 1:if(o=1,n=e[i>>2],(F[e[e[n>>2]+252>>2]](n,a)|0)!=1)break c;break a;case 2:if(o=1,n=e[i>>2],(F[e[e[n>>2]+256>>2]](n,a)|0)!=1)break c;break a;case 6:if(o=1,n=e[i>>2],(F[e[e[n>>2]+232>>2]](n,a)|0)!=1)break c;break a;case 5:if(o=1,n=e[i>>2],(F[e[e[n>>2]+236>>2]](n,a)|0)!=1)break c;break a;case 4:if(o=1,n=e[i>>2],(F[e[e[n>>2]+240>>2]](n,a)|0)!=1)break c;break a;case 7:if(o=1,n=e[i>>2],(F[e[e[n>>2]+8>>2]](n,a)|0)!=1)break c;break a;case 8:if(o=1,n=e[i>>2],(F[e[e[n>>2]+12>>2]](n,a)|0)==1)break a;zm(i,1,a,a+152|0);break c;case 9:if(o=1,n=e[i>>2],(F[e[e[n>>2]+20>>2]](n,a)|0)!=1)break c;break a;case 10:if(o=1,n=e[i>>2],(F[e[e[n>>2]+24>>2]](n,a)|0)!=1)break c;break a;case 11:if(o=1,n=e[i>>2],(F[e[e[n>>2]+28>>2]](n,a)|0)!=1)break c;break a;case 12:if(o=1,n=e[i>>2],(F[e[e[n>>2]+32>>2]](n,a)|0)!=1)break c;break a;case 13:if(o=1,n=e[i>>2],(F[e[e[n>>2]+36>>2]](n,a)|0)!=1)break c;break a;case 14:if(o=1,n=e[i>>2],(F[e[e[n>>2]+40>>2]](n,a)|0)!=1)break c;break a;case 15:if(o=1,n=e[i>>2],(F[e[e[n>>2]+44>>2]](n,a)|0)!=1)break c;break a;case 16:if(o=1,n=e[i>>2],(F[e[e[n>>2]+48>>2]](n,a)|0)!=1)break c;break a;case 17:if(o=1,n=e[i>>2],(F[e[e[n>>2]+52>>2]](n,a)|0)!=1)break c;break a;case 18:if(o=1,n=e[i>>2],(F[e[e[n>>2]+56>>2]](n,a)|0)!=1)break c;break a;case 19:if(o=1,n=e[i>>2],(F[e[e[n>>2]+60>>2]](n,a)|0)!=1)break c;break a;case 20:if(o=1,n=e[i>>2],(F[e[e[n>>2]+64>>2]](n,a)|0)!=1)break c;break a;case 21:if(o=1,n=e[i>>2],(F[e[e[n>>2]+68>>2]](n,a)|0)!=1)break c;break a;case 22:if(o=1,n=e[i>>2],(F[e[e[n>>2]+72>>2]](n,a)|0)==1)break a;zm(i,2,a,a+152|0);break c;case 23:if(o=1,n=e[i>>2],(F[e[e[n>>2]+84>>2]](n,a)|0)!=1)break c;break a;case 47:if(o=1,n=e[i>>2],(F[e[e[n>>2]+280>>2]](n,a)|0)!=1)break c;break a;case 48:if(o=1,n=e[i>>2],(F[e[e[n>>2]+284>>2]](n,a)|0)!=1)break c;break a;case 24:if(o=1,n=e[i>>2],(F[e[e[n>>2]+88>>2]](n,a)|0)!=1)break c;break a;case 25:if(o=1,n=e[i>>2],(F[e[e[n>>2]+92>>2]](n,a)|0)!=1)break c;break a;case 26:if(o=1,n=e[i>>2],(F[e[e[n>>2]+96>>2]](n,a)|0)!=1)break c;break a;case 27:if(o=1,n=e[i>>2],(F[e[e[n>>2]+100>>2]](n,a)|0)==1)break a;zm(i,4,a,a+152|0);break c;case 28:if(o=1,n=e[i>>2],(F[e[e[n>>2]+108>>2]](n,a)|0)!=1)break c;break a;case 29:if(o=1,n=e[i>>2],(F[e[e[n>>2]+112>>2]](n,a)|0)!=1)break c;break a;case 30:if(o=1,n=e[i>>2],(F[e[e[n>>2]+116>>2]](n,a)|0)!=1)break c;break a;case 31:if(o=1,n=e[i>>2],(F[e[e[n>>2]+120>>2]](n,a)|0)!=1)break c;break a;case 32:if(o=1,n=e[i>>2],(F[e[e[n>>2]+124>>2]](n,a)|0)!=1)break c;break a;case 33:if(o=1,n=e[i>>2],(F[e[e[n>>2]+128>>2]](n,a)|0)!=1)break c;break a;case 50:if(o=1,n=e[i>>2],(F[e[e[n>>2]+132>>2]](n,a)|0)!=1)break c;break a;case 51:if(o=1,n=e[i>>2],(F[e[e[n>>2]+136>>2]](n,a)|0)!=1)break c;break a;case 52:if(o=1,n=e[i>>2],(F[e[e[n>>2]+140>>2]](n,a)|0)!=1)break c;break a;case 53:if(o=1,n=e[i>>2],(F[e[e[n>>2]+144>>2]](n,a)|0)!=1)break c;break a;case 56:if(o=1,n=e[i>>2],(F[e[e[n>>2]+148>>2]](n,a)|0)!=1)break c;break a;case 54:if(o=1,n=e[i>>2],(F[e[e[n>>2]+152>>2]](n,a)|0)!=1)break c;break a;case 55:if(o=1,n=e[i>>2],(F[e[e[n>>2]+156>>2]](n,a)|0)!=1)break c;break a;case 57:if(o=1,n=e[i>>2],(F[e[e[n>>2]+160>>2]](n,a)|0)!=1)break c;break a;case 36:if(o=1,n=e[i>>2],(F[e[e[n>>2]+164>>2]](n,a)|0)!=1)break c;break a;case 37:if(o=1,n=e[i>>2],(F[e[e[n>>2]+168>>2]](n,a)|0)!=1)break c;break a;case 35:if(o=1,n=e[i>>2],(F[e[e[n>>2]+172>>2]](n,a)|0)!=1)break c;break a;case 34:if(o=1,n=e[i>>2],(F[e[e[n>>2]+176>>2]](n,a)|0)!=1)break c;break a;case 38:if(o=1,n=e[i>>2],(F[e[e[n>>2]+228>>2]](n,a)|0)!=1)break c;break a;case 39:if(o=1,n=e[i>>2],(F[e[e[n>>2]+180>>2]](n,a)|0)!=1)break c;break a;case 40:if(o=1,n=e[i>>2],(F[e[e[n>>2]+184>>2]](n,a)|0)!=1)break c;break a;case 41:if(o=1,n=e[i>>2],(F[e[e[n>>2]+188>>2]](n,a)|0)!=1)break c;break a;case 42:if(o=1,n=e[i>>2],(F[e[e[n>>2]+192>>2]](n,a)|0)!=1)break c;break a;case 49:if(o=1,n=e[i>>2],(F[e[e[n>>2]+196>>2]](n,a)|0)!=1)break c;break a;case 59:if(o=1,n=e[i>>2],(F[e[e[n>>2]+224>>2]](n,a)|0)!=1)break c;break a;case 60:if(o=1,n=e[i>>2],(F[e[e[n>>2]+208>>2]](n,a)|0)==1)break a;zm(i,5,a,a+156|0);break c;case 61:if(o=1,n=e[i>>2],(F[e[e[n>>2]+200>>2]](n,a)|0)!=1)break c;break a;case 58:if(o=1,n=e[i>>2],(F[e[e[n>>2]+260>>2]](n,a)|0)!=1)break c;break a;case 43:if(o=1,n=e[i>>2],(F[e[e[n>>2]+264>>2]](n,a)|0)!=1)break c;break a;case 44:if(o=1,n=e[i>>2],(F[e[e[n>>2]+268>>2]](n,a)|0)!=1)break c;break a;case 45:if(o=1,n=e[i>>2],(F[e[e[n>>2]+272>>2]](n,a)|0)!=1)break c;break a;case 46:if(o=1,n=e[i>>2],(F[e[e[n>>2]+276>>2]](n,a)|0)!=1)break c;break a;case 62:break o;default:break c}if(o=1,n=e[i>>2],(F[e[e[n>>2]+204>>2]](n,a)|0)==1)break a}o=0}if(!o)break t;break e}if(r=e[i+32>>2]-4|0,o=e[r>>2],o){e[r>>2]=e[e[r>>2]+4>>2],Sh(i,o);break t}if(r=1,o=e[i>>2],(F[e[e[o>>2]+16>>2]](o,a)|0)==1)break e;e[i+8>>2]=e[i+8>>2]-4,e[i+20>>2]=e[i+20>>2]-4,e[i+32>>2]=e[i+32>>2]-8;break t}if(r=e[i+32>>2]-4|0,o=e[r>>2],o){e[r>>2]=e[e[r>>2]+4>>2],Sh(i,o);break t}if(r=1,o=e[i>>2],(F[e[e[o>>2]+76>>2]](o,a)|0)==1)break e;e[i+8>>2]=e[i+8>>2]-4,e[i+20>>2]=e[i+20>>2]-4,e[i+32>>2]=e[i+32>>2]-8,zm(i,3,a,a+184|0);break t}if(r=e[i+32>>2]-4|0,o=e[r>>2],o){e[r>>2]=e[e[r>>2]+4>>2],Sh(i,o);break t}if(r=1,o=e[i>>2],(F[e[e[o>>2]+80>>2]](o,a)|0)==1)break e;e[i+8>>2]=e[i+8>>2]-4,e[i+20>>2]=e[i+20>>2]-4,e[i+32>>2]=e[i+32>>2]-8;break t}if(r=e[i+32>>2]-4|0,o=e[r>>2],o){e[r>>2]=e[e[r>>2]+4>>2],Sh(i,o);break t}if(r=1,o=e[i>>2],(F[e[e[o>>2]+104>>2]](o,a)|0)==1)break e;e[i+8>>2]=e[i+8>>2]-4,e[i+20>>2]=e[i+20>>2]-4,e[i+32>>2]=e[i+32>>2]-8;break t}if(c=e[i+32>>2],n=c-4|0,g=e[n>>2],g){e[n>>2]=e[e[n>>2]+4>>2],Sh(i,g);break t}e[i+20>>2]=o,e[i+8>>2]=r,e[i+32>>2]=c-8;n:switch(e[a+36>>2]){case 1:if(o=e[i>>2],n=e[o>>2],c=e[a+188>>2],(c|0)!=e[a+192>>2]){if(r=1,(F[e[n+212>>2]](o,a,c)|0)==1)break e;SN(i,a,0,c+56|0);break t}if(r=1,(F[e[n+220>>2]](o,a)|0)!=1)break t;break e;case 2:if(r=1,o=e[i>>2],(F[e[e[o>>2]+216>>2]](o,a)|0)!=1)break t;break e;case 0:break n;default:break t}if(r=1,o=e[i>>2],(F[e[e[o>>2]+220>>2]](o,a)|0)!=1)break t;break e}if(c=e[i+32>>2],n=c-4|0,g=e[n>>2],g){e[n>>2]=e[e[n>>2]+4>>2],Sh(i,g);break t}if(n=e[a+188>>2],g=e[i+44>>2]-4|0,p=e[g>>2],e[i+44>>2]=g,e[i+32>>2]=c-8,e[i+20>>2]=o,e[i+8>>2]=r,o=p+1|0,o>>>0<(e[a+192>>2]-n|0)/68>>>0){if(r=1,c=e[i>>2],n=H(o,68)+n|0,(F[e[e[c>>2]+212>>2]](c,a,n)|0)==1)break e;SN(i,a,o,n+56|0);break t}if(r=1,o=e[i>>2],(F[e[e[o>>2]+220>>2]](o,a)|0)==1)break e}if(r=e[i+8>>2],(r|0)==e[i+4>>2])break}r=0}return r}function eN(i,r,n,o,a,c,g,p,_){var v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0,bi=0,Fi=0,Ii=0,Ti=0,mn=0,os=0,cr=0,ra=0,qc=0,Uh=0,m1=0,p1=0,A1=0;x=b-336|0,b=x,M=_&65535,X=o,se=a&65535,De=(a^_)&-2147483648,L=p,Ut=_>>>16&32767,oi=a>>>16&32767;e:{t:{if(Ut-32767>>>0>4294934529&oi-32767>>>0>=4294934530)break t;if(v=a&2147483647,!(!o&(v|0)==2147418112?!(r|n):v>>>0<2147418112)){j=o,De=a|32768;break e}if(a=_&2147483647,!(!p&(a|0)==2147418112?!(c|g):a>>>0<2147418112)){j=p,De=_|32768,r=c,n=g;break e}if(!(r|o|(v^2147418112|n))){if(!(c|p|(a^2147418112|g))){r=0,n=0,De=2147450880;break e}De=De|2147418112,r=0,n=0;break e}if(!(c|p|(a^2147418112|g))){r=0,n=0;break e}if(!(r|o|(n|v))){r=!(c|p|(a|g)),j=r?0:j,De=r?2147450880:De,r=0,n=0;break e}if(!(c|p|(a|g))){De=De|2147418112,r=0,n=0;break e}if((v|0)==65535|v>>>0<65535&&(_=r,o=!(X|se),p=o<<6,v=Gi(o?r:X)+32|0,r=Gi(o?n:se),r=p+((r|0)==32?v:r)|0,Dr(x+320|0,_,n,X,se,r-15|0),V=16-r|0,X=e[x+328>>2],se=e[x+332>>2],n=e[x+324>>2],r=e[x+320>>2]),a>>>0>65535)break t;o=!(L|M),a=o<<6,p=Gi(o?c:L)+32|0,o=Gi(o?g:M),o=a+((o|0)==32?p:o)|0,Dr(x+304|0,c,g,L,M,o-15|0),V=(o+V|0)-16|0,L=e[x+312>>2],M=e[x+316>>2],c=e[x+304>>2],g=e[x+308>>2]}a=M|65536,bi=a,Fi=L,o=L,L=a<<15|o>>>17,o=o<<15|g>>>17,p=0-o|0,a=L,_=1963258675-(a+((o|0)!=0)|0)|0,Wr(x+288|0,o,a,0,0,p,_,0,0),v=e[x+296>>2],Wr(x+272|0,0-v|0,0-(e[x+300>>2]+((v|0)!=0)|0)|0,0,0,p,_,0,0),p=e[x+280>>2],_=p<<1|e[x+276>>2]>>>31,p=e[x+284>>2]<<1|p>>>31,Wr(x+256|0,_,p,0,0,o,a,0,0),v=p,p=e[x+264>>2],Wr(x+240|0,_,v,0,0,0-p|0,0-(e[x+268>>2]+((p|0)!=0)|0)|0,0,0),p=e[x+248>>2],_=p<<1|e[x+244>>2]>>>31,p=e[x+252>>2]<<1|p>>>31,Wr(x+224|0,_,p,0,0,o,a,0,0),v=p,p=e[x+232>>2],Wr(x+208|0,_,v,0,0,0-p|0,0-(e[x+236>>2]+((p|0)!=0)|0)|0,0,0),p=e[x+216>>2],_=p<<1|e[x+212>>2]>>>31,p=e[x+220>>2]<<1|p>>>31,Wr(x+192|0,_,p,0,0,o,a,0,0),a=p,p=e[x+200>>2],Wr(x+176|0,_,a,0,0,0-p|0,0-(e[x+204>>2]+((p|0)!=0)|0)|0,0,0),_=o,p=e[x+184>>2],o=p<<1|e[x+180>>2]>>>31,a=o-1|0,p=(e[x+188>>2]<<1|p>>>31)-!o|0,Wr(x+160|0,_,L,0,0,a,p,0,0),o=c,v=g<<15|o>>>17,Wr(x+144|0,o<<15,v,0,0,a,p,0,0),L=e[x+172>>2],M=e[x+160>>2],Ii=e[x+152>>2],o=M+Ii|0,_=e[x+164>>2],v=_+e[x+156>>2]|0,v=o>>>0<Ii>>>0?v+1|0:v,M=(_|0)==(v|0)&o>>>0<M>>>0|_>>>0>v>>>0,_=M+e[x+168>>2]|0,L=_>>>0<M>>>0?L+1|0:L,M=!v&o>>>0>1|(v|0)!=0,_=M+_|0,L=_>>>0<M>>>0?L+1|0:L,Wr(x+112|0,a,p,0,0,0-_|0,0-(((_|0)!=0)+L|0)|0,0,0),Wr(x+128|0,1-o|0,0-((o>>>0>1)+v|0)|0,0,0,a,p,0,0),ra=(oi-Ut|0)+V|0,a=e[x+116>>2],Ct=a,o=e[x+112>>2],v=a<<1|o>>>31,M=o<<1,V=v,o=v,p=e[x+140>>2],Xe=p,a=e[x+136>>2],v=p<<1|a>>>31,_=a<<1|e[x+132>>2]>>>31,p=_+M|0,v=o+v|0,v=p>>>0<_>>>0?v+1|0:v,_=p,a=v,v=v-(p>>>0<13927)|0,pe=v,L=se|65536,m1=L,Ii=X,v=X,L=L<<1|v>>>31,X=v<<1|n>>>31,o=0,v=o|L,se=v,at=ki(pe,o,v,0),o=At,He=o,v=r,o=n<<1|v>>>31,Ut=v<<1,oi=o,p=p-13927|0,v=(a|0)==(pe|0)&p>>>0<_>>>0|a>>>0>pe>>>0,a=(a|0)==(V|0)&_>>>0<M>>>0|a>>>0<V>>>0,o=e[x+120>>2],L=e[x+124>>2]<<1|o>>>31,_=o<<1,M=v,V=a,a=Xe>>>31|0,o=a+(Ct>>>31|_)|0,v=L,v=o>>>0<a>>>0?v+1|0:v,a=o,o=V+o|0,v=o>>>0<a>>>0?v+1|0:v,a=o,o=M+o|0,L=o>>>0<a>>>0?v+1|0:v,a=o,o=o-1|0,Ti=L-!a|0,mn=0,_=ki(oi,j,Ti,mn),a=_+at|0,L=At+He|0,L=a>>>0<_>>>0?L+1|0:L,M=(L|0)==(He|0)&a>>>0<at>>>0|L>>>0<He>>>0,at=o,_=ki(o,0,X,0),o=_+a|0,v=At+L|0,v=o>>>0<_>>>0?v+1|0:v,V=o,_=v,a=(v|0)==(L|0)&o>>>0<a>>>0|v>>>0<L>>>0,o=M+a|0,L=0,L=o>>>0<a>>>0?1:L,a=ki(se,j,Ti,mn),o=a+o|0,v=At+L|0,Xe=o,o=o>>>0<a>>>0?v+1|0:v,M=ki(se,j,at,j),L=At,Ct=ki(Ti,mn,X,j),a=Ct+M|0,v=At+L|0,v=a>>>0<Ct>>>0?v+1|0:v,Ct=a,a=v,v=(L|0)==(v|0)&M>>>0>Ct>>>0|v>>>0<L>>>0,M=Xe+a|0,o=o+v|0,v=M,M=v>>>0<a>>>0?o+1|0:o,Xe=v,a=0,o=a+V|0,v=_+Ct|0,v=o>>>0<a>>>0?v+1|0:v,a=v,L=(v|0)==(_|0)&o>>>0<V>>>0|_>>>0>v>>>0,_=Xe+L|0,v=M,Xe=_,_=_>>>0<L>>>0?v+1|0:v,V=o,M=a,Ct=p,p=ki(p,0,X,j),a=At,He=ki(pe,j,oi,j),o=He+p|0,v=At+a|0,v=o>>>0<He>>>0?v+1|0:v,a=(a|0)==(v|0)&o>>>0<p>>>0|a>>>0>v>>>0,p=v,os=Xe,He=a,cr=Ut&-2,L=ki(at,j,cr,0),a=L+o|0,v=At+v|0,v=a>>>0<L>>>0?v+1|0:v,Xe=a,L=a,a=v,p=(v|0)==(p|0)&o>>>0>L>>>0|p>>>0>v>>>0,o=He+p|0,L=0,L=o>>>0<p>>>0?1:L,v=o,p=V+o|0,o=L+M|0,o=p>>>0<v>>>0?o+1|0:o,He=p,v=p,p=o,L=(o|0)==(M|0)&v>>>0<V>>>0|o>>>0<M>>>0,o=os+L|0,v=_,p1=o,V=o>>>0<L>>>0?v+1|0:v,qc=ki(se,j,Ct,j),os=At,_=ki(Ti,mn,cr,j),o=_+qc|0,v=At+os|0,v=o>>>0<_>>>0?v+1|0:v,Ti=o,L=ki(pe,j,X,j),_=o+L|0,M=v,o=v+At|0,o=_>>>0<L>>>0?o+1|0:o,Uh=_,v=ki(oi,j,at,j),_=_+v|0,L=At+o|0,mn=_,L=_>>>0<v>>>0?L+1|0:L,_=L,at=0,A1=(o|0)==(L|0)&mn>>>0<Uh>>>0|o>>>0>L>>>0,v=(o|0)==(M|0)&Ti>>>0>Uh>>>0|o>>>0<M>>>0,o=v+((M|0)==(os|0)&Ti>>>0<qc>>>0|M>>>0<os>>>0)|0,L=0,o=A1+o|0,M=_|0,L=M+He|0,v=(o|at)+p|0,at=L,o=L,v=o>>>0<M>>>0?v+1|0:v,M=v,p=(p|0)==(v|0)&o>>>0<He>>>0|p>>>0>v>>>0,o=p+p1|0,v=V,os=o,p=o>>>0<p>>>0?v+1|0:v,He=ki(pe,j,cr,j),pe=At,L=ki(oi,j,Ct,j),o=L+He|0,v=At+pe|0,v=o>>>0<L>>>0?v+1|0:v,V=0,L=(v|0)==(pe|0)&o>>>0<He>>>0|v>>>0<pe>>>0,pe=v,o=v+Xe|0,v=(L|V)+a|0,V=o,v=o>>>0<pe>>>0?v+1|0:v,Xe=(a|0)==(v|0)&o>>>0<Xe>>>0|a>>>0>v>>>0,_=0,a=_+o|0,o=v,L=mn+o|0,L=a>>>0<_>>>0?L+1|0:L,a=(o|0)==(L|0)&a>>>0<V>>>0|o>>>0>L>>>0,o=Xe+a|0,v=0,v=o>>>0<a>>>0?1:v,a=o,o=o+at|0,v=v+M|0,v=o>>>0<a>>>0?v+1|0:v,a=v,v=(M|0)==(v|0)&o>>>0<at>>>0|v>>>0<M>>>0,_=v+os|0,L=p,p=_,L=p>>>0<v>>>0?L+1|0:L,_=L;t:{if((L|0)==131071|L>>>0<131071){Wr(x+80|0,o,a,p,_,c,g,Fi,bi),v=r<<17,r=0,n=e[x+88>>2],V=r-n|0,L=e[x+80>>2],M=e[x+84>>2],Ii=(L|M)!=0,pe=V-Ii|0,V=(v-(e[x+92>>2]+(r>>>0<n>>>0)|0)|0)-(V>>>0<Ii>>>0)|0,r=L,L=0-L|0,M=0-(((r|0)!=0)+M|0)|0,r=ra+16382|0;break t}L=p<<31,o=(a&1)<<31|o>>>1,a=a>>>1|L,p=(_&1)<<31|p>>>1,_=_>>>1|0,Wr(x+96|0,o,a,p,_,c,g,Fi,bi),se=0,M=e[x+104>>2],V=se-M|0,L=e[x+96>>2],X=e[x+100>>2],Ut=(L|X)!=0,pe=V-Ut|0,V=((r<<16)-(e[x+108>>2]+(M>>>0>se>>>0)|0)|0)-(V>>>0<Ut>>>0)|0,v=L,L=0-v|0,M=0-(((v|0)!=0)+X|0)|0,Ut=r,oi=n,X=Ii,se=m1,r=ra+16383|0}if((r|0)>=32767){De=De|2147418112,r=0,n=0;break e}t:{if((r|0)>0){n=pe,v=V<<1|n>>>31,pe=n<<1|M>>>31,V=v,X=p,se=_&65535|r<<16,v=M<<1|L>>>31,r=L<<1;break t}if((r|0)<=-113){r=0,n=0;break e}Ih(x- -64|0,o,a,p,_,1-r|0),Dr(x+48|0,Ut,oi,X,se,r+112|0),o=e[x+64>>2],a=e[x+68>>2],X=e[x+72>>2],se=e[x+76>>2],Wr(x+32|0,c,g,Fi,bi,o,a,X,se),n=e[x+40>>2],_=n<<1,n=e[x+44>>2]<<1|n>>>31,r=e[x+56>>2],p=e[x+36>>2],V=p>>>31|_,_=r-V|0,V=e[x+60>>2]-((r>>>0<V>>>0)+n|0)|0,n=e[x+32>>2],L=p<<1|n>>>31,n=n<<1,v=e[x+52>>2],r=e[x+48>>2],p=(L|0)==(v|0)&n>>>0>r>>>0|v>>>0<L>>>0,pe=_-p|0,V=V-(p>>>0>_>>>0)|0,p=r,r=p-n|0,v=v-((n>>>0>p>>>0)+L|0)|0}Wr(x+16|0,c,g,Fi,bi,3,0,0,0),Wr(x,c,g,Fi,bi,5,0,0,0),p=o,M=X,X=o&1,n=r+X|0,o=0,L=v+o|0,L=r>>>0>n>>>0?L+1|0:L,_=n,n=L,g=(L|0)==(g|0)&_>>>0>c>>>0|g>>>0<L>>>0,o=(o|0)==(L|0)&_>>>0<X>>>0|o>>>0>L>>>0,r=o+pe|0,v=V,v=r>>>0<o>>>0?v+1|0:v,c=r,o=r,r=v,g=(o|0)==(Fi|0)&(v|0)==(bi|0)?g:(bi|0)==(v|0)&o>>>0>Fi>>>0|v>>>0>bi>>>0,o=p+g|0,L=a,L=o>>>0<g>>>0?L+1|0:L,g=(a|0)==(L|0)&o>>>0<p>>>0|a>>>0>L>>>0,a=M+g|0,v=se,v=a>>>0<g>>>0?v+1|0:v,g=a,a=o,M=g,o=e[x+20>>2],p=(o|0)==(n|0)&nt[x+16>>2]<_>>>0|n>>>0>o>>>0,o=e[x+28>>2],g=e[x+24>>2],p=v>>>0<2147418112&((c|0)==(g|0)&(r|0)==(o|0)?p:(o|0)==(r|0)&g>>>0<c>>>0|r>>>0>o>>>0),g=a+p|0,o=L,o=g>>>0<p>>>0?o+1|0:o,p=(o|0)==(L|0)&a>>>0>g>>>0|o>>>0<L>>>0,a=M+p|0,L=a>>>0<p>>>0?v+1|0:v,p=a,a=e[x+4>>2],_=(a|0)==(n|0)&nt[x>>2]<_>>>0|n>>>0>a>>>0,n=e[x+12>>2],a=e[x+8>>2],n=L>>>0<2147418112&((a|0)==(c|0)&(r|0)==(n|0)?_:(n|0)==(r|0)&a>>>0<c>>>0|r>>>0>n>>>0),r=n+g|0,v=r>>>0<n>>>0?o+1|0:o,n=v,c=(o|0)==(v|0)&r>>>0<g>>>0|o>>>0>v>>>0,a=p+c|0,o=L,j=a|j,De=De|(a>>>0<c>>>0?o+1|0:o)}e[i>>2]=r,e[i+4>>2]=n,e[i+8>>2]=j,e[i+12>>2]=De,b=x+336|0}function j_(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0;M=b-16|0,b=M,V=1;e:{t:{if((we(i,0)|0)!=125)break t;for(V=i+16|0;;){v=e[i+92>>2]&1,p=V+H(v,36)|0,e[p>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,e[p+16>>2]=0,e[p+20>>2]=0,a=e[p+24>>2],o=e[p+28>>2],e[i+92>>2]=!v,e[i+88>>2]=e[i+88>>2]-1;i:{if(n>>>0>L>>>0){e[L>>2]=a,e[L+4>>2]=o,L=L+8|0;break i}if(L=L-x|0,c=L>>3,p=c+1|0,p>>>0>=536870912)break e;if(v=n-x|0,n=v>>2,v=v>>>0<2147483640?n>>>0>p>>>0?n:p:536870911,v){if(v>>>0>=536870912)break e;p=Z(v<<3)}else p=0;c=p+(c<<3)|0,e[c>>2]=a,e[c+4>>2]=o,(L|0)>0&&Ce(p,x,L),n=p+(v<<3)|0,L=c+8|0,x&&P(x),x=p}if((we(i,0)|0)!=125)break}V=(L|0)==(x|0);i:{if(V){V=1;break i}for(v=x;;){i=e[v+4>>2];n:{if(i>>>0<3||(p=i-1|0,i=i-2|0,i=i>>>0>p>>>0?p:i,(i|0)<=0))break n;for(n=i,i=e[v>>2],j=(n+i|0)+1|0,i=i+1|0;;){o=y[i|0];s:{if((o|0)==92){p=i+1|0;r:{l:{u:{a:{c:{o:{d:{m:{A:switch(n=S[i+1|0],n-92|0){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 19:case 20:case 21:case 23:break r;case 25:break l;case 0:break c;case 24:break o;case 22:break d;case 18:break m;default:break A}switch(n-34|0){case 0:break u;case 5:break a;default:break r}}if(i=e[r+4>>2],o=e[r+8>>2],i>>>0<o>>>0){S[i|0]=10,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(o=o-a|0,c=o<<1,o=o>>>0<1073741823?n>>>0<c>>>0?c:n:2147483647,o?n=Z(o):n=0,c=n+i|0,S[c|0]=10,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+o,e[r+4>>2]=c+1,e[r>>2]=n,!a)break s;P(a);break s}if(i=e[r+4>>2],o=e[r+8>>2],i>>>0<o>>>0){S[i|0]=13,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(o=o-a|0,c=o<<1,o=o>>>0<1073741823?n>>>0<c>>>0?c:n:2147483647,o?n=Z(o):n=0,c=n+i|0,S[c|0]=13,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+o,e[r+4>>2]=c+1,e[r>>2]=n,!a)break s;P(a);break s}if(i=e[r+4>>2],o=e[r+8>>2],i>>>0<o>>>0){S[i|0]=9,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(o=o-a|0,c=o<<1,o=o>>>0<1073741823?n>>>0<c>>>0?c:n:2147483647,o?n=Z(o):n=0,c=n+i|0,S[c|0]=9,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+o,e[r+4>>2]=c+1,e[r>>2]=n,!a)break s;P(a);break s}if(i=e[r+4>>2],o=e[r+8>>2],i>>>0<o>>>0){S[i|0]=92,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(o=o-a|0,c=o<<1,o=o>>>0<1073741823?n>>>0<c>>>0?c:n:2147483647,o?n=Z(o):n=0,c=n+i|0,S[c|0]=92,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+o,e[r+4>>2]=c+1,e[r>>2]=n,!a)break s;P(a);break s}if(i=e[r+4>>2],o=e[r+8>>2],i>>>0<o>>>0){S[i|0]=39,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(o=o-a|0,c=o<<1,o=o>>>0<1073741823?n>>>0<c>>>0?c:n:2147483647,o?n=Z(o):n=0,c=n+i|0,S[c|0]=39,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+o,e[r+4>>2]=c+1,e[r>>2]=n,!a)break s;P(a);break s}if(i=e[r+4>>2],o=e[r+8>>2],i>>>0<o>>>0){S[i|0]=34,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(o=o-a|0,c=o<<1,o=o>>>0<1073741823?n>>>0<c>>>0?c:n:2147483647,o?n=Z(o):n=0,c=n+i|0,S[c|0]=34,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+o,e[r+4>>2]=c+1,e[r>>2]=n,!a)break s;P(a);break s}for(o=i+3|0,n=y[i+3|0],i=0;p=Rh(n<<24>>24,M+12|0),i=p?i:e[M+12>>2]|i<<4,n=y[o+1|0],p=o+1|0,o=p,(n|0)!=125;);if(i>>>0<=127){if(n=e[r+4>>2],c=e[r+8>>2],n>>>0<c>>>0){S[n|0]=i,e[r+4>>2]=n+1;break s}if(o=e[r>>2],n=n-o|0,a=n+1|0,(a|0)<0)break e;if(c=c-o|0,g=c<<1,c=c>>>0<1073741823?a>>>0<g>>>0?g:a:2147483647,c?a=Z(c):a=0,g=a+n|0,S[g|0]=i,(n|0)>0&&Ce(a,o,n),e[r+8>>2]=a+c,e[r+4>>2]=g+1,e[r>>2]=a,!o)break s;P(o);break s}l:{if(i>>>0<=2047){if(c=i>>>6|-64,n=e[r+4>>2],g=e[r+8>>2],n>>>0<g>>>0){S[n|0]=c,e[r+4>>2]=n+1;break l}if(o=e[r>>2],n=n-o|0,a=n+1|0,(a|0)<0)break e;if(g=g-o|0,_=g<<1,g=g>>>0<1073741823?a>>>0<_>>>0?_:a:2147483647,g?a=Z(g):a=0,_=a+n|0,S[_|0]=c,(n|0)>0&&Ce(a,o,n),e[r+8>>2]=a+g,e[r+4>>2]=_+1,e[r>>2]=a,!o)break l;P(o);break l}u:{if(i>>>0<=65535){if(c=i>>>12|-32,n=e[r+4>>2],g=e[r+8>>2],n>>>0<g>>>0){S[n|0]=c,e[r+4>>2]=n+1;break u}if(o=e[r>>2],n=n-o|0,a=n+1|0,(a|0)<0)break e;if(g=g-o|0,_=g<<1,g=g>>>0<1073741823?a>>>0<_>>>0?_:a:2147483647,g?a=Z(g):a=0,_=a+n|0,S[_|0]=c,(n|0)>0&&Ce(a,o,n),e[r+8>>2]=a+g,e[r+4>>2]=_+1,e[r>>2]=a,!o)break u;P(o);break u}o=i>>>18|-16,n=e[r+4>>2],g=e[r+8>>2];a:{if(n>>>0<g>>>0){S[n|0]=o,o=n+1|0,e[r+4>>2]=o;break a}if(c=e[r>>2],n=n-c|0,a=n+1|0,(a|0)<0)break e;if(g=g-c|0,_=g<<1,g=g>>>0<1073741823?a>>>0<_>>>0?_:a:2147483647,g?a=Z(g):a=0,_=a+n|0,S[_|0]=o,o=_+1|0,(n|0)>0&&Ce(a,c,n),e[r+8>>2]=a+g,e[r+4>>2]=o,e[r>>2]=a,!c)break a;P(c),o=e[r+4>>2]}if(c=i>>>12&63|-128,g=e[r+8>>2],g>>>0>o>>>0){S[o|0]=c,e[r+4>>2]=o+1;break u}if(n=o,o=e[r>>2],n=n-o|0,a=n+1|0,(a|0)<0)break e;if(g=g-o|0,_=g<<1,g=g>>>0<1073741823?a>>>0<_>>>0?_:a:2147483647,g?a=Z(g):a=0,_=a+n|0,S[_|0]=c,(n|0)>0&&Ce(a,o,n),e[r+8>>2]=a+g,e[r+4>>2]=_+1,e[r>>2]=a,!o)break u;P(o)}if(c=i>>>6&63|-128,n=e[r+4>>2],g=e[r+8>>2],n>>>0<g>>>0){S[n|0]=c,e[r+4>>2]=n+1;break l}if(o=e[r>>2],n=n-o|0,a=n+1|0,(a|0)<0)break e;if(g=g-o|0,_=g<<1,g=g>>>0<1073741823?a>>>0<_>>>0?_:a:2147483647,g?a=Z(g):a=0,_=a+n|0,S[_|0]=c,(n|0)>0&&Ce(a,o,n),e[r+8>>2]=a+g,e[r+4>>2]=_+1,e[r>>2]=a,!o)break l;P(o)}if(o=i&63|-128,i=e[r+4>>2],c=e[r+8>>2],i>>>0<c>>>0){S[i|0]=o,e[r+4>>2]=i+1;break s}if(a=e[r>>2],i=i-a|0,n=i+1|0,(n|0)<0)break e;if(c=c-a|0,g=c<<1,c=c>>>0<1073741823?n>>>0<g>>>0?g:n:2147483647,c?n=Z(c):n=0,g=n+i|0,S[g|0]=o,(i|0)>0&&Ce(n,a,i),e[r+8>>2]=n+c,e[r+4>>2]=g+1,e[r>>2]=n,!a)break s;P(a);break s}r:{if(Rh(n,M+8|0)||Rh(S[i+2|0],M+4|0))break r;if(o=e[M+4>>2]|e[M+8>>2]<<4,p=e[r+4>>2],c=e[r+8>>2],p>>>0<c>>>0){S[p|0]=o,e[r+4>>2]=p+1,p=i+2|0;break s}if(a=e[r>>2],p=p-a|0,n=p+1|0,(n|0)<0)break e;if(c=c-a|0,g=c<<1,c=c>>>0<1073741823?n>>>0<g>>>0?g:n:2147483647,c?n=Z(c):n=0,g=n+p|0,S[g|0]=o,(p|0)>0&&Ce(n,a,p),e[r+8>>2]=n+c,e[r+4>>2]=g+1,e[r>>2]=n,!a)break r;P(a)}p=i+2|0;break s}p=e[r+4>>2],c=e[r+8>>2];r:{if(p>>>0<c>>>0){S[p|0]=o,e[r+4>>2]=p+1;break r}if(a=e[r>>2],p=p-a|0,n=p+1|0,(n|0)<0)break e;if(c=c-a|0,g=c<<1,c=c>>>0<1073741823?n>>>0<g>>>0?g:n:2147483647,c?n=Z(c):n=0,g=n+p|0,S[g|0]=o,(p|0)>0&&Ce(n,a,p),e[r+8>>2]=n+c,e[r+4>>2]=g+1,e[r>>2]=n,!a)break r;P(a)}p=i}if(i=p+1|0,!(j>>>0>i>>>0))break}}if(v=v+8|0,(L|0)==(v|0))break}}if(!x)break t;P(x)}return b=M+16|0,!V}Be(),Ie()}function vh(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0;n=b+-64|0,b=n;e:{t:{if(p=e[r>>2],p)for(j=i+40|0,se=n+24|4;;){r=0,a=0,v=b-16|0,b=v;i:{n:switch(e[p+32>>2]){case 3:case 49:case 56:S[n+16|0]=0,e[n+8>>2]=2,e[n+12>>2]=0;break i;case 8:a=e[p+100>>2],r=e[p+104>>2],S[n+16|0]=0,e[n+8>>2]=0,e[n+12>>2]=r-a>>3;break i;case 9:r=Wk(i,p+36|0),S[n+16|0]=1,e[n+12>>2]=1,e[n+8>>2]=r;break i;case 10:r=Wk(i,p+36|0),S[n+16|0]=0,e[n+12>>2]=r,e[n+8>>2]=r+1;break i;case 11:r=Wk(i,p+48|0),S[n+16|0]=1,e[n+12>>2]=1,e[n+8>>2]=r+1;break i;case 12:o=p+36|0,c=vl(e[i>>2],o),c&&(a=e[c+56>>2]-e[c+52>>2]>>3),o=vl(e[i>>2],o),o&&(r=e[o+68>>2]-e[o- -64>>2]>>3),S[n+16|0]=0,e[n+12>>2]=r,e[n+8>>2]=a;break i;case 40:o=p+36|0,c=vl(e[i>>2],o),c&&(a=e[c+56>>2]-e[c+52>>2]>>3),o=vl(e[i>>2],o),o&&(r=e[o+68>>2]-e[o- -64>>2]>>3),S[n+16|0]=1,e[n+12>>2]=r,e[n+8>>2]=a;break i;case 13:c=e[p+76>>2],o=e[p+80>>2],a=e[p+88>>2],r=e[p+92>>2],S[n+16|0]=0,e[n+12>>2]=r-a>>3,e[n+8>>2]=(o-c>>3)+1;break i;case 14:o=p+36|0,r=vl(e[i>>2],o),r?a=(e[r+56>>2]-e[r+52>>2]>>3)+1|0:a=1,r=0,o=vl(e[i>>2],o),o&&(r=e[o+68>>2]-e[o- -64>>2]>>3),S[n+16|0]=0,e[n+12>>2]=r,e[n+8>>2]=a;break i;case 41:c=e[p+76>>2],o=e[p+80>>2],a=e[p+88>>2],r=e[p+92>>2],S[n+16|0]=1,e[n+12>>2]=r-a>>3,e[n+8>>2]=(o-c>>3)+1;break i;case 17:case 20:case 24:case 33:case 36:case 37:case 55:S[n+16|0]=0,e[n+8>>2]=0,e[n+12>>2]=1;break i;case 62:S[n+16|0]=1,e[n+8>>2]=0,e[n+12>>2]=1;break i;case 5:case 15:case 29:case 51:e[n+8>>2]=0,e[n+12>>2]=0,S[n+16|0]=0;break i;case 28:case 30:case 32:case 50:case 52:case 57:S[n+16|0]=0,e[n+8>>2]=3,e[n+12>>2]=0;break i;case 0:case 18:case 23:case 26:case 31:case 35:case 47:case 48:case 53:case 61:S[n+16|0]=0,e[n+8>>2]=1,e[n+12>>2]=1;break i;case 19:case 21:case 25:S[n+16|0]=0,e[n+8>>2]=1,e[n+12>>2]=0;break i;case 22:a=e[p+100>>2],r=e[p+104>>2],S[n+16|0]=0,e[n+8>>2]=1,e[n+12>>2]=r-a>>3;break i;case 27:a=e[p+100>>2],r=e[p+104>>2],S[n+16|0]=0,e[n+8>>2]=0,e[n+12>>2]=r-a>>3;break i;case 34:e[n+8>>2]=0,e[n+12>>2]=0,S[n+16|0]=0;break i;case 39:r=e[i+4>>2],a=e[r- -64>>2],r=e[r+68>>2],S[n+16|0]=1,e[n+12>>2]=1,e[n+8>>2]=r-a>>3;break i;case 38:S[n+16|0]=1,e[n+8>>2]=0,e[n+12>>2]=0;break i;case 2:case 6:case 42:S[n+16|0]=0,e[n+8>>2]=3,e[n+12>>2]=1;break i;case 59:a=lp(e[i>>2],p+36|0),a&&(r=e[a+56>>2]-e[a+52>>2]>>3),S[n+16|0]=1,e[n+12>>2]=0,e[n+8>>2]=r;break i;case 60:a=e[p+104>>2],r=e[p+108>>2],S[n+16|0]=0,e[n+8>>2]=0,e[n+12>>2]=r-a>>3;break i;case 58:S[n+16|0]=0,e[n+8>>2]=3,e[n+12>>2]=1;break i;case 43:if(r=e[p+36>>2]-238|0,r>>>0<=13){if(1<<r&5467){S[n+16|0]=0,e[n+8>>2]=1,e[n+12>>2]=1;break i}S[n+16|0]=0,e[n+8>>2]=2,e[n+12>>2]=1;break i}e[v>>2]=e[(e[p+32>>2]<<2)+48640>>2],up(e[14179],28927,v),S[n+16|0]=0,e[n+8>>2]=0,e[n+12>>2]=0;break i;case 44:case 45:S[n+16|0]=0,e[n+8>>2]=2,e[n+12>>2]=1;break i;case 46:S[n+16|0]=0,e[n+8>>2]=2,e[n+12>>2]=1;break i;default:Be(),Ie();case 1:case 4:case 7:case 16:case 54:break n}S[n+16|0]=0,e[n+8>>2]=2,e[n+12>>2]=1}b=v+16|0,X=e[n+12>>2],o=e[i+44>>2],a=o,x=0,v=e[n+8>>2];i:{if(!v)break i;for(r=e[j>>2],a=o;;){if((r|0)!=(a|0)){if(a=a-20|0,x=e[a+16>>2]+x|0,(v|0)==(x|0)){x=v;break i}if(v>>>0>=x>>>0)continue}break}a=o}e[n+40>>2]=X,g=0,e[n+36>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+24>>2]=p;i:{if(!v|(v|0)!=(x|0)||(r=0,_=a,(o|0)==(a|0)))break i;for(;;){n:{if(r>>>0<g>>>0){c=e[_>>2],e[r+12>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=c,e[r+4>>2]=e[_+4>>2],e[r+8>>2]=e[_+8>>2],e[r+12>>2]=e[_+12>>2],e[_+12>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,e[r+16>>2]=e[_+16>>2],e[n+32>>2]=r+20;break n}if(c=r,r=e[n+28>>2],L=(c-r|0)/20|0,M=L+1|0,M>>>0>=214748365)break t;if(c=(g-r|0)/20|0,r=c<<1,r=c>>>0<107374182?r>>>0>M>>>0?r:M:214748364,r>>>0>=214748365)break e;c=H(r,20),r=Z(c),g=r+H(L,20)|0,e[g>>2]=e[_>>2],e[g+4>>2]=e[_+4>>2],e[g+8>>2]=e[_+8>>2],e[g+12>>2]=e[_+12>>2],e[_+12>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,e[g+16>>2]=e[_+16>>2],M=r+c|0,L=g+20|0,c=e[n+32>>2],V=e[n+28>>2];s:{if((c|0)!=(V|0)){for(r=c;g=g-20|0,r=r-20|0,e[g>>2]=e[r>>2],e[g+4>>2]=e[r+4>>2],e[g+8>>2]=e[r+8>>2],e[g+12>>2]=e[r+12>>2],e[r+12>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[g+16>>2]=e[r+16>>2],(r|0)!=(V|0););for(e[n+36>>2]=M,e[n+32>>2]=L,e[n+28>>2]=g;c=c-20|0,r=e[c+4>>2],r&&(ds(c+4|0,r),P(e[c+4>>2])),(c|0)!=(V|0););break s}e[n+36>>2]=M,e[n+32>>2]=L,e[n+28>>2]=g}if(!V)break n;P(V)}if(_=_+20|0,(o|0)!=(_|0)){g=e[n+36>>2],r=e[n+32>>2];continue}break}if(r=e[i+40>>2],r=H((a-r|0)/20|0,20)+r|0,g=r+H((o-a|0)/20|0,20)|0,o=e[i+44>>2],(g|0)!=(o|0))for(;e[r>>2]=e[g>>2],a=e[r+4>>2],a&&(ds(r+4|0,a),P(e[r+4>>2]),e[r+12>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0),e[r+4>>2]=e[g+4>>2],e[r+8>>2]=e[g+8>>2],e[r+12>>2]=e[g+12>>2],e[g+12>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[r+16>>2]=e[g+16>>2],r=r+20|0,g=g+20|0,(o|0)!=(g|0););ds(j,r),o=e[i+44>>2]}r=e[i+48>>2];i:{if(r>>>0>o>>>0){e[o>>2]=e[n+24>>2],e[o+4>>2]=e[n+28>>2],e[o+8>>2]=e[n+32>>2],e[o+12>>2]=e[n+36>>2],e[n+36>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[o+16>>2]=e[n+40>>2],e[i+44>>2]=o+20;break i}if(L=e[j>>2],c=(o-L|0)/20|0,_=c+1|0,_>>>0>=214748365)break t;if(a=(r-L|0)/20|0,r=a<<1,r=a>>>0<107374182?r>>>0>_>>>0?r:_:214748364,r>>>0>=214748365)break e;_=H(c,20),c=H(r,20),a=Z(c),r=_+a|0,e[r>>2]=e[n+24>>2],e[r+4>>2]=e[n+28>>2],e[r+8>>2]=e[n+32>>2],e[r+12>>2]=e[n+36>>2],e[n+36>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[r+16>>2]=e[n+40>>2],c=a+c|0,a=r+20|0;n:{if((o|0)==(L|0)){e[i+40>>2]=r,e[i+48>>2]=c,e[i+44>>2]=a;break n}for(;r=r-20|0,o=o-20|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],e[o+12>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[r+16>>2]=e[o+16>>2],(o|0)!=(L|0););if(e[i+48>>2]=c,o=e[i+40>>2],e[i+40>>2]=r,r=e[i+44>>2],e[i+44>>2]=a,(r|0)==(o|0))break n;for(;r=r-20|0,a=e[r+4>>2],a&&(ds(r+4|0,a),P(e[r+4>>2])),(r|0)!=(o|0););}if(!o)break i;P(o)}i:{if(v>>>0>=x>>>0&&X||(r=e[i+40>>2],e[n+48>>2]=r,e[n+52>>2]=e[i+44>>2],e[n+56>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(j,0),Ia(i,n+48|0),!r))break i;ds(n+48|0,r),P(e[n+48>>2])}if(r=e[n+28>>2],r&&(ds(se,r),P(e[n+28>>2])),p=e[p+4>>2],!p)break}b=n- -64|0;return}Nr(),Ie()}Be(),Ie()}function tN(i,r,n,o,a,c){var g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0,bi=0,Fi=0,Ii=0,Ti=0,mn=0;if(p=b-80|0,b=p,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,X=e[r>>2],bi=e[r+4>>2],(X|0)!=(bi|0))for(;;){r=y[c+11|0],g=r<<24>>24,_=e[c+4>>2],g=(g|0)<0?_:r,r=((g|0)!=0)<<1,S[p+75|0]=r;e:{t:{i:{if(!g){S[p- -64|r]=0;break i}if(g=p- -64|0,pn(g,32,r),g=r|g,r=S[p+75|0],S[g|0]=0,(r|0)<0)break t}e[p+40>>2]=e[p+72>>2],g=e[p+68>>2],e[p+32>>2]=e[p+64>>2],e[p+36>>2]=g,at=0;break e}Ni(p+32|0,e[p+64>>2],e[p+68>>2]),at=1}Pn(p+32|0,y[a+4|0]?11625:35624),e[X+8>>2]&&(_=p+32|0,Mn(_,e[X+4>>2],e[X+8>>2]),Pn(_,25167));e:{if(!n){if(g=e[X+16>>2],e[p>>2]=e[X+12>>2],e[p+4>>2]=g,g=p+48|0,U0(g,28789,p),L=g,g=y[p+59|0],_=g<<24>>24<0,Mn(p+32|0,_?e[p+48>>2]:L,_?e[p+52>>2]:g),S[p+59|0]>=0)break e;P(e[p+48>>2]);break e}if(g=e[X+12>>2],(g|0)==-1||(e[p+16>>2]=g,g=p+48|0,U0(g,28581,p+16|0),L=g,g=y[p+59|0],_=g<<24>>24<0,Mn(p+32|0,_?e[p+48>>2]:L,_?e[p+52>>2]:g),S[p+59|0]>=0))break e;P(e[p+48>>2])}Pn(p+32|0,y[a+4|0]?11630:35624),_=12825;e:switch(e[X>>2]){default:Be(),Ie();case 1:_=10303;break;case 0:break e}g=p+32|0,Pn(g,_),Pn(g,28822),Pn(g,y[a+4|0]?11636:35624),_=y[X+35|0],x=_<<24>>24<0,Mn(g,x?e[X+24>>2]:X+24|0,x?e[X+28>>2]:_),Qs(g,10),e[p+56>>2]=0,e[p+48>>2]=0,e[p+52>>2]=0;e:{if(!o)break e;pe=p+48|0,_=b-48|0,b=_,Fi=e[X+20>>2],De=e[X+16>>2],e[_+40>>2]=0,e[_+44>>2]=0,g=0,V=b-16|0,b=V;t:{i:{j=e[X+12>>2],x=e[o+4>>2];n:{if(j>>>0<e[o+8>>2]-x>>3>>>0){x=x+(j<<3)|0,L=e[x+4>>2],e[_+40>>2]=e[x>>2],e[_+44>>2]=L;break n}x=pn(Z(65536),0,65536),e[V+12>>2]=0;s:{for(;;){if(g=1,y[o+21|0])break s;if(e[V+12>>2]=e[e[o>>2]+8>>2],g=e[o>>2],L=e[g+8>>2],v=e[g+4>>2]-L|0,M=v>>>0<65536?v:65536,M&&(Ce(x,L+e[g>>2]|0,M),e[g+8>>2]=M+e[g+8>>2]),M>>>0<=65535&&(S[o+21|0]=1),(M|0)>0)for(Ii=x+M|0,g=x;;){if(L=y[g|0],(L|0)==10){v=y[o+20|0],He=e[V+12>>2]+g-(x+v)|0,L=e[o+8>>2],Xe=e[o+12>>2];r:{if(L>>>0<Xe>>>0){se=e[o+16>>2],e[L+4>>2]=He,e[L>>2]=se,e[o+8>>2]=L+8;break r}if(se=e[o+4>>2],oi=L-se|0,Ct=oi>>3,L=Ct+1|0,L>>>0>=536870912)break i;if(Xe=Xe-se|0,Ut=Xe>>2,Xe=Xe>>>0<2147483640?L>>>0<Ut>>>0?Ut:L:536870911,Xe){if(Xe>>>0>=536870912)break i;L=Z(Xe<<3)}else L=0;if(Ut=e[o+16>>2],Ct=(Ct<<3)+L|0,e[Ct+4>>2]=He,e[Ct>>2]=Ut,(oi|0)>0&&Ce(L,se,oi),e[o+12>>2]=(Xe<<3)+L,e[o+8>>2]=Ct+8,e[o+4>>2]=L,!se)break r;P(se),v=y[o+20|0]}e[o+16>>2]=(v+He|0)+1,L=y[g|0]}if(S[o+20|0]=(L&255)==13,g=g+1|0,!(Ii>>>0>g>>>0))break}r:{if(!y[o+21|0])break r;if(M=M+e[V+12>>2]|0,g=e[o+8>>2],v=e[o+12>>2],g>>>0<v>>>0){L=e[o+16>>2],e[g+4>>2]=M,e[g>>2]=L,e[o+8>>2]=g+8;break r}if(L=e[o+4>>2],se=g-L|0,He=se>>3,g=He+1|0,g>>>0>=536870912)break i;if(v=v-L|0,Xe=v>>2,v=v>>>0<2147483640?g>>>0<Xe>>>0?Xe:g:536870911,v){if(v>>>0>=536870912)break i;g=Z(v<<3)}else g=0;if(Xe=e[o+16>>2],He=g+(He<<3)|0,e[He+4>>2]=M,e[He>>2]=Xe,(se|0)>0&&Ce(g,L,se),e[o+12>>2]=g+(v<<3),e[o+8>>2]=He+8,e[o+4>>2]=g,!L)break r;P(L)}if(g=e[o+4>>2],!(e[o+8>>2]-g>>3>>>0<=j>>>0))break}g=g+(j<<3)|0,L=e[g+4>>2],e[_+40>>2]=e[g>>2],e[_+44>>2]=L,g=0}P(x)}b=V+16|0;break t}Be(),Ie()}t:{if((g|0)==1)break t;i:{n:{g=e[_+44>>2],x=e[_+40>>2];s:{if(g-x>>>0<=80){e[pe+12>>2]=0;break s}L=g-80|0,v=(Fi-De>>>0<=80?(De+Fi|0)/2|0:De)-1|0,v=v>>>0>40?v+(x-40|0)|0:x,v=v>>>0>L>>>0?L:v,e[pe+12>>2]=v-x,L=v+80|0;r:{if((v|0)!=(x|0)){if(Pn(pe,26640),x=v+3|0,(g|0)==(L|0))break r;g=L-3|0,L=0;break i}if((g|0)!=(L|0))break n}g=L}L=1;break i}g=L-3|0,L=0}e[_+32>>2]=0,e[_+24>>2]=0,e[_+28>>2]=0,se=e[o>>2],e[_+8>>2]=x,e[_+12>>2]=g,e[_+16>>2]=x,e[_+20>>2]=g;i:{n:{if(g=e[se+4>>2],x=e[_+12>>2],x=g>>>0<x>>>0?g:x,v=e[_+8>>2],De=g>>>0<v>>>0?g:v,(x|0)!=(De|0)){g=x-De|0,M=e[_+28>>2],x=e[_+24>>2],v=M-x|0;s:{if(g>>>0>v>>>0){if(V=g-v|0,j=e[_+32>>2],V>>>0<=j-M>>>0){Ti=_,mn=pn(M,0,V)+V|0,e[Ti+28>>2]=mn;break s}if((g|0)<0)break n;if(M=j-x|0,j=M<<1,j=M>>>0<1073741823?g>>>0<j>>>0?j:g:2147483647,M=Z(j),pn(M+v|0,0,V),(v|0)>0&&Ce(M,x,v),e[_+32>>2]=M+j,e[_+28>>2]=g+M,e[_+24>>2]=M,!x)break s;P(x);break s}if(g>>>0>=v>>>0)break s;e[_+28>>2]=g+x}Ce(e[_+24>>2],De+e[se>>2]|0,g)}break i}Be(),Ie()}x=b-16|0,b=x;i:{n:{v=e[_+24>>2],se=e[_+28>>2];s:{if((v|0)==(se|0))break s;if(De=e[pe+8>>2],M=se-v|0,g=e[pe>>2],V=y[pe+11|0],j=V<<24>>24<0,He=j?g:pe,V=j?e[pe+4>>2]:V,!(He>>>0<=v>>>0&He+V>>>0>=v>>>0)){if(j=j?(De&2147483647)-1|0:10,M>>>0<=j-V>>>0?De=De>>>24|0:(_8(pe,j,(M+V|0)-j|0,V,V,0),g=e[pe>>2],De=y[pe+11|0]),He=se+(v^-1)|0,j=0,g=V+(De<<24>>24<0?g:pe)|0,De=M&7,De)for(;S[g|0]=y[v|0],v=v+1|0,g=g+1|0,j=j+1|0,(De|0)!=(j|0););if(He>>>0>=7)for(;S[g|0]=y[v|0],S[g+1|0]=y[v+1|0],S[g+2|0]=y[v+2|0],S[g+3|0]=y[v+3|0],S[g+4|0]=y[v+4|0],S[g+5|0]=y[v+5|0],S[g+6|0]=y[v+6|0],S[g+7|0]=y[v+7|0],g=g+8|0,v=v+8|0,(se|0)!=(v|0););if(S[g|0]=0,g=M+V|0,S[pe+11|0]<0){e[pe+4>>2]=g;break s}S[pe+11|0]=g;break s}if(M>>>0>=4294967280)break n;r:{if(M>>>0<=10){S[x+11|0]=M,g=x;break r}V=M+16&-16,g=Z(V),e[x+8>>2]=V|-2147483648,e[x>>2]=g,e[x+4>>2]=M}if(Ti=Ce(g,v,M)+M|0,mn=0,S[Ti|0]=mn,g=y[x+11|0],v=g<<24>>24<0,Mn(pe,v?e[x>>2]:x,v?e[x+4>>2]:g),S[x+11|0]>=0)break s;P(e[x>>2])}b=x+16|0;break i}Be(),Ie()}if(L||Pn(pe,26640),g=e[_+24>>2],!g)break t;e[_+28>>2]=g,P(g)}if(b=_+48|0,_=y[p+59|0],g=_<<24>>24,((g|0)<0?e[p+52>>2]:_)&&(g=p+32|0,_=p- -64|0,Mn(g,at?e[p+64>>2]:_,at?e[p+68>>2]:r&255),r=y[p+59|0],x=r<<24>>24<0,Mn(g,x?e[p+48>>2]:p+48|0,x?e[p+52>>2]:r),Qs(g,10),L=_,r=y[p+75|0],_=r<<24>>24<0,Mn(g,_?e[p+64>>2]:L,_?e[p+68>>2]:r),_=e[X+20>>2],x=e[p+52>>2],r=y[p+59|0],L=e[X+16>>2],at=L+(e[p+60>>2]^-1)|0,uR(g,at,32),Pn(g,y[a+4|0]?11625:35624),Pn(g,y[a+4|0]?11619:35624),r=(r<<24>>24<0?x:r)-at|0,_=_-L|0,r=r>>>0<_>>>0?r:_,uR(g,r>>>0>1?r:1,94),Pn(g,y[a+4|0]?11636:35624),Qs(g,10),g=y[p+59|0]),g<<24>>24>=0)break e;P(e[p+48>>2])}if(S[p+75|0]<0&&P(e[p+64>>2]),r=S[p+43|0],g=(r|0)<0,Mn(i,g?e[p+32>>2]:p+32|0,g?e[p+36>>2]:r&255),S[p+43|0]<0&&P(e[p+32>>2]),X=X+36|0,(bi|0)==(X|0))break}b=p+80|0}function iN(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;a=b-272|0,b=a,L=i+16|0;e:{t:{for(;;){i:{if((we(i,0)|0)==26&&(we(i,1)|0)==73||(we(i,0)|0)==26&&(we(i,1)|0)==97||(we(i,0)|0)==26&&(we(i,1)|0)==94)break i;if(o=0,(we(i,0)|0)!=26||(we(i,1)|0)!=95)break t}c=e[i+92>>2]&1,o=H(c,36)+L|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[a+120>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,e[a+104>>2]=0,e[a+108>>2]=0,e[a+156>>2]=0,e[a+140>>2]=0,e[a+124>>2]=-1,e[a+128>>2]=-1;i:{n:{s:switch(we(i,0)-73|0){case 24:if(c=e[i+92>>2]&1,o=H(c,36)+L|0,g=e[o+20>>2],e[a+96>>2]=e[o+16>>2],e[a+100>>2]=g,g=e[o+12>>2],e[a+88>>2]=e[o+8>>2],e[a+92>>2]=g,g=e[o+4>>2],e[a+80>>2]=e[o>>2],e[a+84>>2]=g,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,o=e[o+24>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,(xN(i,a+72|0)|0)==1)break i;e[a+176>>2]=o,W0(a+176|0,e[i+12>>2])||(e[a+200>>2]=e[a+96>>2],o=e[a+92>>2],e[a+192>>2]=e[a+88>>2],e[a+196>>2]=o,o=e[a+84>>2],e[a+184>>2]=e[a+80>>2],e[a+188>>2]=o,xe(a+208|0,a+176|0),o=e[a+196>>2],e[a+16>>2]=e[a+192>>2],e[a+20>>2]=o,e[a+24>>2]=e[a+200>>2],o=e[a+188>>2],e[a+8>>2]=e[a+184>>2],e[a+12>>2]=o,e[a>>2]=e[a+208>>2],Kt(i,a+8|0,10012,a));r:{if(e[i+88>>2]){o=e[i+92>>2];break r}ri(a+208|0,e[i>>2],i),c=e[i+88>>2],e[i+88>>2]=c+1,g=e[a+212>>2],o=e[i+92>>2],c=H(c+o&1,36)+L|0,e[c>>2]=e[a+208>>2],e[c+4>>2]=g,e[c+32>>2]=e[a+240>>2],g=e[a+236>>2],e[c+24>>2]=e[a+232>>2],e[c+28>>2]=g,g=e[a+228>>2],e[c+16>>2]=e[a+224>>2],e[c+20>>2]=g,g=e[a+220>>2],e[c+8>>2]=e[a+216>>2],e[c+12>>2]=g}o=H(o&1,36)+L|0,e[a+120>>2]=e[o+16>>2],c=e[o+12>>2],e[a+112>>2]=e[o+8>>2],e[a+116>>2]=c,c=e[o+4>>2],e[a+104>>2]=e[o>>2],e[a+108>>2]=c,e[a+156>>2]=0,e[a+140>>2]=-1,o=e[a+76>>2],e[a+124>>2]=e[a+72>>2],e[a+128>>2]=o;break n;case 22:c=e[i+92>>2]&1,o=H(c,36)+L|0,g=e[o+20>>2],e[a+96>>2]=e[o+16>>2],e[a+100>>2]=g,g=e[o+12>>2],e[a+88>>2]=e[o+8>>2],e[a+92>>2]=g,g=e[o+4>>2],e[a+80>>2]=e[o>>2],e[a+84>>2]=g,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,o=e[o+24>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[a+72>>2]=o,W0(a+72|0,e[i+12>>2])||(e[a+200>>2]=e[a+96>>2],o=e[a+92>>2],e[a+192>>2]=e[a+88>>2],e[a+196>>2]=o,o=e[a+84>>2],e[a+184>>2]=e[a+80>>2],e[a+188>>2]=o,xe(a+208|0,a+72|0),o=e[a+196>>2],e[a+56>>2]=e[a+192>>2],e[a+60>>2]=o,e[a- -64>>2]=e[a+200>>2],o=e[a+188>>2],e[a+48>>2]=e[a+184>>2],e[a+52>>2]=o,e[a+32>>2]=e[a+208>>2],Kt(i,a+48|0,10012,a+32|0));r:{if(e[i+88>>2]){o=e[i+92>>2];break r}ri(a+208|0,e[i>>2],i),c=e[i+88>>2],e[i+88>>2]=c+1,g=e[a+212>>2],o=e[i+92>>2],c=H(c+o&1,36)+L|0,e[c>>2]=e[a+208>>2],e[c+4>>2]=g,e[c+32>>2]=e[a+240>>2],g=e[a+236>>2],e[c+24>>2]=e[a+232>>2],e[c+28>>2]=g,g=e[a+228>>2],e[c+16>>2]=e[a+224>>2],e[c+20>>2]=g,g=e[a+220>>2],e[c+8>>2]=e[a+216>>2],e[c+12>>2]=g}o=H(o&1,36)+L|0,e[a+120>>2]=e[o+16>>2],c=e[o+12>>2],e[a+112>>2]=e[o+8>>2],e[a+116>>2]=c,c=e[o+4>>2],e[a+104>>2]=e[o>>2],e[a+108>>2]=c,e[a+156>>2]=0,e[a+140>>2]=0,e[a+124>>2]=-16,e[a+128>>2]=-1;break n;case 21:c=b-144|0,b=c,p=1,g=i+16|0,_=e[i+92>>2]&1,o=g+H(_,36)|0,e[c+96>>2]=e[o+32>>2],v=e[o+28>>2],e[c+88>>2]=e[o+24>>2],e[c+92>>2]=v,v=e[o+20>>2],e[c+80>>2]=e[o+16>>2],e[c+84>>2]=v,v=e[o+12>>2],e[c+72>>2]=e[o+8>>2],e[c+76>>2]=v,v=e[o+4>>2],e[c+64>>2]=e[o>>2],e[c+68>>2]=v,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,_=!_,e[i+92>>2]=_,o=e[i+88>>2]-1|0,e[i+88>>2]=o;r:{if(!y[e[i+12>>2]+10|0]){e[c+24>>2]=e[c+80>>2],o=e[c+76>>2],e[c+16>>2]=e[c+72>>2],e[c+20>>2]=o,o=e[c+68>>2],e[c+8>>2]=e[c+64>>2],e[c+12>>2]=o,Kt(i,c+8|0,16495,0);break r}if(o||(ri(c+104|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,p=e[c+108>>2],_=e[i+92>>2],o=g+H(o+_&1,36)|0,e[o>>2]=e[c+104>>2],e[o+4>>2]=p,e[o+32>>2]=e[c+136>>2],p=e[c+132>>2],e[o+24>>2]=e[c+128>>2],e[o+28>>2]=p,p=e[c+124>>2],e[o+16>>2]=e[c+120>>2],e[o+20>>2]=p,p=e[c+116>>2],e[o+8>>2]=e[c+112>>2],e[o+12>>2]=p),o=g+H(_&1,36)|0,p=e[o>>2],_=e[o+4>>2],v=e[o+12>>2],x=e[o+8>>2],e[a+120>>2]=e[o+16>>2],e[a+112>>2]=x,e[a+116>>2]=v,e[a+104>>2]=p,e[a+108>>2]=_,p=0,we(i,0)-53>>>0<=1){if(_=e[i+92>>2]&1,o=g+H(_,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,g=e[o+32>>2],o=e[o+28>>2],e[i+92>>2]=!_,e[i+88>>2]=e[i+88>>2]-1,_=n1(o,o+g|0,c+104|0,0),v=e[c+104>>2],e[a+156>>2]=0,e[a+140>>2]=v,e[a+124>>2]=-17,e[a+128>>2]=-1,(_|0)!=1)break r;e[c+56>>2]=e[a+120>>2],p=e[a+116>>2],e[c+48>>2]=e[a+112>>2],e[c+52>>2]=p,p=e[a+108>>2],e[c+40>>2]=e[a+104>>2],e[c+44>>2]=p,e[c+32>>2]=g,e[c+36>>2]=o,Kt(i,c+40|0,28094,c+32|0),p=1;break r}o=Z(32),S[o+16|0]=y[12080],g=y[12076]|y[12077]<<8|(y[12078]<<16|y[12079]<<24),p=y[12072]|y[12073]<<8|(y[12074]<<16|y[12075]<<24),S[o+8|0]=p,S[o+9|0]=p>>>8,S[o+10|0]=p>>>16,S[o+11|0]=p>>>24,S[o+12|0]=g,S[o+13|0]=g>>>8,S[o+14|0]=g>>>16,S[o+15|0]=g>>>24,g=y[12068]|y[12069]<<8|(y[12070]<<16|y[12071]<<24),p=y[12064]|y[12065]<<8|(y[12066]<<16|y[12067]<<24),S[o|0]=p,S[o+1|0]=p>>>8,S[o+2|0]=p>>>16,S[o+3|0]=p>>>24,S[o+4|0]=g,S[o+5|0]=g>>>8,S[o+6|0]=g>>>16,S[o+7|0]=g>>>24,S[o+17|0]=0,g=Z(12),e[c+104>>2]=g,p=g+12|0,e[c+112>>2]=p,Ni(g,o,17),e[c+108>>2]=p,p=Cn(i,c+104|0,25598),S[g+11|0]<0&&P(e[g>>2]),P(g),P(o)}if(b=c+144|0,(p|0)==1)break i;break n;case 0:break s;default:break i}if((qE(i,a+104|0,n)|0)==1)break i}if((Ve(i,39)|0)==1)break i;if(o=e[r+4>>2],(o|0)!=e[r+8>>2]){M=r,V=Ce(o,a+104|0,68)+68|0,e[M+4>>2]=V;continue}if(c=e[r>>2],g=o-c|0,p=(g|0)/68|0,o=p+1|0,o>>>0>=63161284)break e;if(_=p<<1,_=p>>>0<31580641?o>>>0<_>>>0?_:o:63161283,_){if(_>>>0>=63161284)break e;o=Z(H(_,68))}else o=0;if(v=Ce(o+H(p,68)|0,a+104|0,68),p=v+H((g|0)/-68|0,68)|0,(g|0)>0&&Ce(p,c,g),e[r+8>>2]=o+H(_,68),e[r+4>>2]=v+68,e[r>>2]=p,!c)continue;P(c);continue}break}o=1}return b=a+272|0,o}Be(),Ie()}function XZ(i,r,n,o,a,c){i=i|0,r=+r,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0;x=b-560|0,b=x,e[x+44>>2]=0,V_(+r),g=F0(1)|0,F0(0)|0;e:{if((g|0)<0){De=1,at=2494,r=-r,V_(+r),g=F0(1)|0,F0(0)|0;break e}if(a&2048){De=1,at=2497;break e}De=a&1,at=De?2500:2495,oi=!De}e:{if((g&2146435072)==2146435072){o=De+3|0,xr(i,32,n,o,a&-65537),lr(i,at,De),c=c&32,lr(i,r!=r?c?11571:24662:c?13144:24695,3),xr(i,32,n,o,a^8192),_=(n|0)<(o|0)?o:n;break e}Xe=x+16|0;t:{i:{n:{if(r=rR(r,x+44|0),r=r+r,r!=0){if(g=e[x+44>>2],e[x+44>>2]=g-1,pe=c|32,(pe|0)!=97)break n;break t}if(pe=c|32,(pe|0)==97)break t;L=e[x+44>>2],M=(o|0)<0?6:o;break i}L=g-29|0,e[x+44>>2]=L,r=r*268435456,M=(o|0)<0?6:o}for(X=(x+48|0)+((L|0)<0?0:288)|0,p=X;r<4294967296&r>=0?o=~~r>>>0:o=0,e[p>>2]=o,p=p+4|0,r=(r-+(o>>>0))*1e9,r!=0;);i:{if((L|0)<=0){o=L,g=p,v=X;break i}for(v=X,o=L;;){o=(o|0)<29?o:29,g=p-4|0;n:{if(v>>>0>g>>>0)break n;for(_=0;j=e[g>>2],V=o&31,Ct=_,(o&63)>>>0>=32?(_=j<<V,j=0):(_=(1<<V)-1&j>>>32-V,j=j<<V),V=Ct+j|0,_=_+Ut|0,_=V>>>0<j>>>0?_+1|0:_,_=Mk(V,_,1e9),j=ki(_,At,1e9,0),e[g>>2]=V-j,g=g-4|0,v>>>0<=g>>>0;);if(!_)break n;v=v-4|0,e[v>>2]=_}for(;g=p,v>>>0<g>>>0&&(p=g-4|0,!e[p>>2]););if(o=e[x+44>>2]-o|0,e[x+44>>2]=o,p=g,!((o|0)>0))break}}if((o|0)<0)for(He=((M+25>>>0)/9|0)+1|0,V=(pe|0)==102;;){o=0-o|0,_=(o|0)<9?o:9;i:{if(g>>>0<=v>>>0){p=e[v>>2];break i}for(j=1e9>>>_|0,Ut=-1<<_^-1,o=0,p=v;Ct=o,o=e[p>>2],e[p>>2]=Ct+(o>>>_|0),o=H(j,o&Ut),p=p+4|0,p>>>0<g>>>0;);if(p=e[v>>2],!o)break i;e[g>>2]=o,g=g+4|0}if(o=_+e[x+44>>2]|0,e[x+44>>2]=o,v=(!p<<2)+v|0,p=V?X:v,g=g-p>>2>(He|0)?p+(He<<2)|0:g,!((o|0)<0))break}o=0;i:{if(g>>>0<=v>>>0||(o=H(X-v>>2,9),p=10,_=e[v>>2],_>>>0<10))break i;for(;o=o+1|0,p=H(p,10),_>>>0>=p>>>0;);}if(p=(M-((pe|0)==102?0:o)|0)-((pe|0)==103&(M|0)!=0)|0,(p|0)<(H(g-X>>2,9)-9|0)){if(_=p+9216|0,V=(_|0)/9|0,L=((((L|0)<0?4:292)+x|0)+(V<<2)|0)-4048|0,p=10,_=_-H(V,9)|0,(_|0)<=7)for(;p=H(p,10),_=_+1|0,(_|0)!=8;);V=e[L>>2],He=(V>>>0)/(p>>>0)|0,_=V-H(p,He)|0,j=L+4|0;i:{if(!_&(j|0)==(g|0))break i;n:{if(!(He&1)&&(r=9007199254740992,!(S[L-4|0]&1)|((p|0)!=1e9|v>>>0>=L>>>0)))break n;r=9007199254740994}if(se=(g|0)==(j|0)?1:1.5,j=p>>>1|0,se=_>>>0<j>>>0?.5:(j|0)==(_|0)?se:1.5,y[at|0]!=45|oi||(se=-se,r=-r),_=V-_|0,e[L>>2]=_,r+se==r)break i;if(o=p+_|0,e[L>>2]=o,o>>>0>=1e9)for(;e[L>>2]=0,L=L-4|0,L>>>0<v>>>0&&(v=v-4|0,e[v>>2]=0),o=e[L>>2]+1|0,e[L>>2]=o,o>>>0>999999999;);if(o=H(X-v>>2,9),p=10,_=e[v>>2],_>>>0<10)break i;for(;o=o+1|0,p=H(p,10),_>>>0>=p>>>0;);}p=L+4|0,g=g>>>0>p>>>0?p:g}for(;p=g,_=g>>>0<=v>>>0,!_&&(g=p-4|0,!e[g>>2]););i:{if((pe|0)!=103){L=a&8;break i}if(g=M||1,L=(g|0)>(o|0)&(o|0)>-5,M=(L?o^-1:-1)+g|0,c=(L?-1:-2)+c|0,L=a&8,L)break i;g=-9;n:{if(_||(V=e[p-4>>2],!V)||(_=10,g=0,(V>>>0)%10|0))break n;for(;L=g,g=g+1|0,_=H(_,10),!((V>>>0)%(_>>>0)|0););g=L^-1}if(_=H(p-X>>2,9),(c&-33)==70){L=0,g=(g+_|0)-9|0,g=(g|0)>0?g:0,M=(g|0)>(M|0)?M:g;break i}L=0,g=((o+_|0)+g|0)-9|0,g=(g|0)>0?g:0,M=(g|0)>(M|0)?M:g}if(_=-1,pe=L|M,((pe?2147483645:2147483646)|0)<(M|0))break e;V=(((pe|0)!=0)+M|0)+1|0,j=c&-33;i:{if((j|0)==70){if((2147483647-V|0)<(o|0))break e;g=(o|0)>0?o:0;break i}if(g=o>>31,g=o1((g^o)-g|0,0,Xe),(Xe-g|0)<=1)for(;g=g-1|0,S[g|0]=48,(Xe-g|0)<2;);if(He=g-2|0,S[He|0]=c,S[g-1|0]=(o|0)<0?45:43,g=Xe-He|0,(g|0)>(2147483647-V|0))break e}if(o=g+V|0,(o|0)>(De^2147483647))break e;c=o+De|0,xr(i,32,n,c,a),lr(i,at,De),xr(i,48,n,c,a^65536);i:{n:{s:{if((j|0)==70){for(g=x+16|0,o=g|8,L=g|9,_=v>>>0>X>>>0?X:v,v=_;;){g=o1(e[v>>2],0,L);r:{if((_|0)!=(v|0)){if(x+16>>>0>=g>>>0)break r;for(;g=g-1|0,S[g|0]=48,x+16>>>0<g>>>0;);break r}if((g|0)!=(L|0))break r;S[x+24|0]=48,g=o}if(lr(i,g,L-g|0),v=v+4|0,!(X>>>0>=v>>>0))break}if(pe&&lr(i,26756,1),(M|0)<=0|p>>>0<=v>>>0)break s;for(;;){if(g=o1(e[v>>2],0,L),g>>>0>x+16>>>0)for(;g=g-1|0,S[g|0]=48,x+16>>>0<g>>>0;);if(lr(i,g,(M|0)<9?M:9),g=M-9|0,v=v+4|0,p>>>0<=v>>>0)break n;if(o=(M|0)>9,M=g,!o)break}break n}r:{if((M|0)<0)break r;for(_=p>>>0>v>>>0?p:v+4|0,g=x+16|0,o=g|8,X=g|9,p=v;;){g=o1(e[p>>2],0,X),(X|0)==(g|0)&&(S[x+24|0]=48,g=o);l:{if((p|0)!=(v|0)){if(x+16>>>0>=g>>>0)break l;for(;g=g-1|0,S[g|0]=48,x+16>>>0<g>>>0;);break l}if(lr(i,g,1),g=g+1|0,!(L|M))break l;lr(i,26756,1)}if(Ct=g,g=X-g|0,lr(i,Ct,(g|0)>(M|0)?M:g),M=M-g|0,p=p+4|0,_>>>0<=p>>>0)break r;if(!((M|0)>=0))break}}xr(i,48,M+18|0,18,0),lr(i,He,Xe-He|0);break i}g=M}xr(i,48,g+9|0,9,0)}xr(i,32,n,c,a^8192),_=(n|0)<(c|0)?c:n;break e}M=(c<<26>>31&9)+at|0;t:{if(o>>>0>11)break t;for(g=12-o|0,se=16;se=se*16,g=g-1|0,!!g;);if(y[M|0]==45){r=-(se+(-r-se));break t}r=r+se-se}for(p=e[x+44>>2],g=p>>31,g=o1((g^p)-g|0,0,Xe),(Xe|0)==(g|0)&&(S[x+15|0]=48,g=x+15|0),L=De|2,v=c&32,p=e[x+44>>2],X=g-2|0,S[X|0]=c+15,S[g-1|0]=(p|0)<0?45:43,_=a&8,p=x+16|0;c=p,HZ(r)<2147483648?g=~~r:g=-2147483648,S[p|0]=v|y[g+57264|0],r=(r-+(g|0))*16,p=c+1|0,!(_|(o|0)>0)&r==0|(p-(x+16|0)|0)!=1||(S[c+1|0]=46,p=c+2|0),r!=0;);if(_=-1,V=Xe-X|0,c=V+L|0,(2147483645-c|0)<(o|0))break e;t:{i:{if(!o||(v=p-(x+16|0)|0,(v-2|0)>=(o|0)))break i;g=o+2|0;break t}v=p-(x+16|0)|0,g=v}o=g+c|0,xr(i,32,n,o,a),lr(i,M,L),xr(i,48,n,o,a^65536),lr(i,x+16|0,v),xr(i,48,g-v|0,0,0),lr(i,X,V),xr(i,32,n,o,a^8192),_=(n|0)<(o|0)?o:n}return b=x+560|0,_|0}function Om(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;o=b-80|0,b=o,n=1;e:{if((Ve(i,26)|0)==1)break e;c=i+16|0;t:{if(e[i+88>>2]){g=e[i+92>>2];break t}ri(o+40|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,p=e[o+44>>2],g=e[i+92>>2],a=c+H(a+g&1,36)|0,e[a>>2]=e[o+40>>2],e[a+4>>2]=p,e[a+32>>2]=e[o+72>>2],p=o- -64|0,_=e[p+4>>2],e[a+24>>2]=e[p>>2],e[a+28>>2]=_,p=e[o+60>>2],e[a+16>>2]=e[o+56>>2],e[a+20>>2]=p,p=e[o+52>>2],e[a+8>>2]=e[o+48>>2],e[a+12>>2]=p}if(a=c+H(g&1,36)|0,e[o+56>>2]=e[a+16>>2],g=e[a+12>>2],e[o+48>>2]=e[a+8>>2],e[o+52>>2]=g,g=e[a+4>>2],e[o+40>>2]=e[a>>2],e[o+44>>2]=g,(Ve(i,28)|0)==1)break e;e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,to(i,o+24|0);t:{i:{n:{if(n=we(i,0),(n|0)!=36){if((n|0)!=9)break n;if(a=e[i+92>>2]&1,n=c+H(a,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,!j_(i,o+8|0)){i=e[o+8>>2],i&&(e[o+12>>2]=i,P(i)),n=1;break t}n=Z(52),e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=55348,e[n+4>>2]=1,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,e[n+40>>2]=0,e[n+44>>2]=0,e[n+48>>2]=0,a=n+28|0;s:{if(S[o+35|0]>=0){c=e[o+28>>2],e[a>>2]=e[o+24>>2],e[a+4>>2]=c,e[a+8>>2]=e[o+32>>2],e[n+24>>2]=e[o+56>>2],a=e[o+52>>2],e[n+16>>2]=e[o+48>>2],e[n+20>>2]=a,a=e[o+44>>2],e[n+8>>2]=e[o+40>>2],e[n+12>>2]=a;break s}if(Er(a,e[o+24>>2],e[o+28>>2]),a=e[n+40>>2],e[n+24>>2]=e[o+56>>2],c=e[o+52>>2],e[n+16>>2]=e[o+48>>2],e[n+20>>2]=c,c=e[o+44>>2],e[n+8>>2]=e[o+40>>2],e[n+12>>2]=c,!a)break s;e[n+44>>2]=a,P(a),e[n+48>>2]=0,e[n+40>>2]=0,e[n+44>>2]=0}if(e[n+40>>2]=e[o+8>>2],e[n+44>>2]=e[o+12>>2],e[n+48>>2]=e[o+16>>2],e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,a=e[r>>2],e[r>>2]=n,!a||(F[e[e[a>>2]+4>>2]](a),r=e[o+8>>2],!r))break i;e[o+12>>2]=r,P(r);break i}if(a=e[i+92>>2]&1,n=c+H(a,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,!j_(i,o+8|0)){i=e[o+8>>2],i&&(e[o+12>>2]=i,P(i)),n=1;break t}n=Z(52),e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=55532,e[n+4>>2]=2,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,e[n+40>>2]=0,e[n+44>>2]=0,e[n+48>>2]=0,a=n+28|0;s:{if(S[o+35|0]>=0){c=e[o+28>>2],e[a>>2]=e[o+24>>2],e[a+4>>2]=c,e[a+8>>2]=e[o+32>>2],e[n+24>>2]=e[o+56>>2],a=e[o+52>>2],e[n+16>>2]=e[o+48>>2],e[n+20>>2]=a,a=e[o+44>>2],e[n+8>>2]=e[o+40>>2],e[n+12>>2]=a;break s}if(Er(a,e[o+24>>2],e[o+28>>2]),a=e[n+40>>2],e[n+24>>2]=e[o+56>>2],c=e[o+52>>2],e[n+16>>2]=e[o+48>>2],e[n+20>>2]=c,c=e[o+44>>2],e[n+8>>2]=e[o+40>>2],e[n+12>>2]=c,!a)break s;e[n+44>>2]=a,P(a),e[n+48>>2]=0,e[n+40>>2]=0,e[n+44>>2]=0}if(e[n+40>>2]=e[o+8>>2],e[n+44>>2]=e[o+12>>2],e[n+48>>2]=e[o+16>>2],e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,a=e[r>>2],e[r>>2]=n,!a||(F[e[e[a>>2]+4>>2]](a),r=e[o+8>>2],!r))break i;e[o+12>>2]=r,P(r);break i}g=Z(384),n=g,e[n>>2]=0,e[n+4>>2]=0,e[n>>2]=55684,a=pn(n+8|0,0,212),e[n+224>>2]=0,e[n+228>>2]=0,e[n+220>>2]=1065353216,e[n+232>>2]=0,e[n+236>>2]=0,e[n+244>>2]=0,e[n+248>>2]=0,e[n+240>>2]=1065353216,e[n+252>>2]=0,e[n+256>>2]=0,e[n+264>>2]=0,e[n+268>>2]=0,e[n+260>>2]=1065353216,e[n+272>>2]=0,e[n+276>>2]=0,e[n+284>>2]=0,e[n+288>>2]=0,e[n+280>>2]=1065353216,e[n+292>>2]=0,e[n+296>>2]=0,e[n+304>>2]=0,e[n+308>>2]=0,e[n+300>>2]=1065353216,e[n+312>>2]=0,e[n+316>>2]=0,e[n+320>>2]=1065353216,e[n+324>>2]=0,e[n+328>>2]=0,e[n+332>>2]=0,e[n+336>>2]=0,e[n+344>>2]=0,e[n+348>>2]=0,e[n+340>>2]=1065353216,e[n+352>>2]=0,e[n+356>>2]=0,e[n+360>>2]=1065353216,e[n+364>>2]=0,e[n+368>>2]=0,e[n+372>>2]=0,e[n+376>>2]=0,e[n+380>>2]=1065353216,n=n+28|0;n:{if(S[o+35|0]>=0){p=e[o+28>>2],e[n>>2]=e[o+24>>2],e[n+4>>2]=p,e[n+8>>2]=e[o+32>>2];break n}Er(n,e[o+24>>2],e[o+28>>2])}n=e[o+44>>2],e[a>>2]=e[o+40>>2],e[a+4>>2]=n,e[a+16>>2]=e[o+56>>2],n=e[o+52>>2],e[a+8>>2]=e[o+48>>2],e[a+12>>2]=n,p=we(i,0),n=we(i,1);n:{s:{r:{if((p|0)!=26)break r;l:switch(n-11|0){default:if((n|0)!=128)break r;break;case 1:case 2:case 3:case 5:case 8:case 9:case 12:case 13:case 14:case 15:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 31:case 33:break r;case 0:case 4:case 6:case 7:case 10:case 11:case 16:case 30:case 32:case 34:break l}if(n=1,(Ak(i,a)|0)==1)break s;break n}if((we(i,0)|0)==39)break n;(we(i,0)|0)==26&&(n=e[i+92>>2]&1,r=c+H(n,36)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[i+92>>2]=!n,e[i+88>>2]=e[i+88>>2]-1),r=Z(16),n=y[16052]|y[16053]<<8|(y[16054]<<16|y[16055]<<24),a=y[16048]|y[16049]<<8|(y[16050]<<16|y[16051]<<24),S[r+6|0]=a,S[r+7|0]=a>>>8,S[r+8|0]=a>>>16,S[r+9|0]=a>>>24,S[r+10|0]=n,S[r+11|0]=n>>>8,S[r+12|0]=n>>>16,S[r+13|0]=n>>>24,n=y[16046]|y[16047]<<8|(y[16048]<<16|y[16049]<<24),a=y[16042]|y[16043]<<8|(y[16044]<<16|y[16045]<<24),S[r|0]=a,S[r+1|0]=a>>>8,S[r+2|0]=a>>>16,S[r+3|0]=a>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+14|0]=0,a=Z(12),e[o+8>>2]=a,n=a+12|0,e[o+16>>2]=n,Ni(a,r,14),e[o+12>>2]=n,n=Cn(i,o+8|0,0),S[a+11|0]<0&&P(e[a>>2]),P(a),P(r)}F[e[e[g>>2]+4>>2]](g);break t}if(n=e[r>>2],e[r>>2]=g,!n)break i;F[e[e[n>>2]+4>>2]](n)}n=(Ve(i,39)|0)==1}if(S[o+35|0]>=0)break e;P(e[o+24>>2])}return b=o+80|0,n}function nN(i,r,n,o,a,c,g){var p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0,bi=0;p=b-80|0,b=p,e[p+76>>2]=r,Ut=p+55|0,De=p+56|0,r=0;e:{t:{i:{n:{s:for(;;){if((2147483647-j|0)<(r|0))break n;j=r+j|0;r:{l:{u:{if(v=e[p+76>>2],r=v,x=y[r|0],x)for(;;){a:{_=x&255;c:{if(!_){x=r;break c}if((_|0)!=37)break a;for(x=r;;){if(y[r+1|0]!=37)break c;if(_=r+2|0,e[p+76>>2]=_,x=x+1|0,L=y[r+2|0],r=_,(L|0)!=37)break}}if(r=x-v|0,Ct=2147483647-j|0,(r|0)>(Ct|0))break n;if(i&&lr(i,v,r),r)continue s;pe=-1,_=1,V=!wp(S[e[p+76>>2]+1|0]),r=e[p+76>>2],V|y[r+2|0]!=36||(pe=S[r+1|0]-48|0,Xe=1,_=3),r=_+r|0,e[p+76>>2]=r,X=0,M=S[r|0],x=M-32|0;c:{if(x>>>0>31){_=r;break c}if(_=r,L=1<<x,!(L&75913))break c;for(;;){if(_=r+1|0,e[p+76>>2]=_,X=L|X,M=S[r+1|0],x=M-32|0,x>>>0>=32)break c;if(r=_,L=1<<x,!(L&75913))break}}c:{if((M|0)==42){o:{d:{if(!wp(S[_+1|0])||(r=e[p+76>>2],y[r+2|0]!=36))break d;e[((S[r+1|0]<<2)+a|0)-192>>2]=10,se=e[((S[r+1|0]<<3)+o|0)-384>>2],Xe=1,r=r+3|0;break o}if(Xe)break u;Xe=0,se=0,i&&(r=e[n>>2],e[n>>2]=r+4,se=e[r>>2]),r=e[p+76>>2]+1|0}if(e[p+76>>2]=r,(se|0)>=0)break c;se=0-se|0,X=X|8192;break c}if(se=cR(p+76|0),(se|0)<0)break n;r=e[p+76>>2]}_=0,L=-1,V=0;c:{if(y[r|0]!=46)break c;if(y[r+1|0]==42){o:{d:{if(!wp(S[r+2|0])||(r=e[p+76>>2],y[r+3|0]!=36))break d;e[((S[r+2|0]<<2)+a|0)-192>>2]=10,L=e[((S[r+2|0]<<3)+o|0)-384>>2],r=r+4|0;break o}if(Xe)break u;i?(r=e[n>>2],e[n>>2]=r+4,L=e[r>>2]):L=0,r=e[p+76>>2]+2|0}e[p+76>>2]=r,V=(L^-1)>>>31|0;break c}e[p+76>>2]=r+1,L=cR(p+76|0),r=e[p+76>>2],V=1}for(at=V;;){if(He=_,x=28,S[r|0]-123>>>0<4294967238)break i;if(M=r+1|0,e[p+76>>2]=M,_=S[r|0],r=M,_=y[(_+H(He,58)|0)+56735|0],!(_-1>>>0<8))break}c:{o:{if((_|0)!=27){if(!_)break i;if((pe|0)>=0){e[(pe<<2)+a>>2]=_,r=(pe<<3)+o|0,_=e[r+4>>2],e[p+64>>2]=e[r>>2],e[p+68>>2]=_;break o}if(!i)break r;nT(p- -64|0,_,n,g),M=e[p+76>>2];break c}if((pe|0)>=0)break i}if(r=0,!i)continue s}V=X&-65537,_=X&8192?V:X,X=0,pe=2484,x=De;c:{o:{d:{m:{A:{w:{C:{_:{v:{f:{p:{k:{x:{N:{R:{E:switch(r=S[M-1|0],r=He&&(r&15)==3?r&-33:r,r-88|0){case 11:break c;case 9:case 13:case 14:case 15:break o;case 27:break C;case 12:case 17:break f;case 23:break p;case 0:case 32:break k;case 24:break x;case 22:break N;case 29:break R;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 10:case 16:case 18:case 19:case 20:case 21:case 25:case 26:case 28:case 30:case 31:break l;default:break E}E:switch(r-65|0){case 0:case 4:case 5:case 6:break o;case 2:break A;case 1:case 3:break l;default:break E}if((r|0)==83)break w;break l}M=e[p+64>>2],v=e[p+68>>2],pe=2484;break v}r=0;N:switch(He&255){case 0:e[e[p+64>>2]>>2]=j;continue s;case 1:e[e[p+64>>2]>>2]=j;continue s;case 2:_=e[p+64>>2],e[_>>2]=j,e[_+4>>2]=j>>31;continue s;case 3:ns[e[p+64>>2]>>1]=j;continue s;case 4:S[e[p+64>>2]]=j;continue s;case 6:e[e[p+64>>2]>>2]=j;continue s;case 7:break N;default:continue s}_=e[p+64>>2],e[_>>2]=j,e[_+4>>2]=j>>31;continue s}L=L>>>0>8?L:8,_=_|8,r=120}if(V=De,oi=r&32,M=e[p+64>>2],v=e[p+68>>2],M|v)for(;V=V-1|0,S[V|0]=oi|y[(M&15)+57264|0],bi=!v&M>>>0>15|(v|0)!=0,He=v,v=v>>>4|0,M=(He&15)<<28|M>>>4,!!bi;);if(v=V,!(_&8)|!(e[p+64>>2]|e[p+68>>2]))break _;pe=(r>>>4|0)+2484|0,X=2;break _}if(r=De,M=e[p+64>>2],v=e[p+68>>2],M|v)for(;r=r-1|0,S[r|0]=M&7|48,He=!v&M>>>0>7|(v|0)!=0,V=v,v=v>>>3|0,M=(V&7)<<29|M>>>3,!!He;);if(v=r,!(_&8))break _;r=De-v|0,L=(r|0)<(L|0)?L:r+1|0;break _}if(r=e[p+68>>2],v=r,M=e[p+64>>2],(r|0)<0){v=0-(v+((M|0)!=0)|0)|0,M=0-M|0,e[p+64>>2]=M,e[p+68>>2]=v,X=1,pe=2484;break v}if(_&2048){X=1,pe=2485;break v}X=_&1,pe=X?2486:2484}v=o1(M,v,De)}if((L|0)<0&&at)break n;if(_=at?_&-65537:_,V=e[p+64>>2],r=e[p+68>>2],!((V|r)!=0|L)){v=De,x=v,L=0;break l}r=!(r|V)+(De-v|0)|0,L=(r|0)<(L|0)?L:r;break l}if(r=e[p+64>>2],v=r||27694,r=L>>>0<2147483647?L:2147483647,_=i5(v,0,r),r=_?_-v|0:r,x=r+v|0,(L|0)>=0){_=V,L=r;break l}if(_=V,L=r,y[x|0])break n;break l}if(L){x=e[p+64>>2];break m}r=0,xr(i,32,se,0,_);break d}e[p+12>>2]=0,e[p+8>>2]=e[p+64>>2],x=p+8|0,e[p+64>>2]=x,L=-1}r=0;m:{for(;;){if(v=e[x>>2],!v)break m;if(v=MT(p+4|0,v),V=(v|0)<0,!(V|v>>>0>L-r>>>0)){if(x=x+4|0,r=r+v|0,L>>>0>r>>>0)continue;break m}break}if(V)break t}if(x=61,(r|0)<0)break i;if(xr(i,32,se,r,_),!r){r=0;break d}for(L=0,x=e[p+64>>2];;){if(v=e[x>>2],!v||(v=MT(p+4|0,v),L=v+L|0,L>>>0>r>>>0))break d;if(lr(i,p+4|0,v),x=x+4|0,!(r>>>0>L>>>0))break}}xr(i,32,se,r,_^8192),r=(r|0)<(se|0)?se:r;continue s}if((L|0)<0&&at)break n;if(x=61,r=F[c|0](i,B0[p+64>>3],se,L,_,r)|0,(r|0)>=0)continue s;break i}S[p+55|0]=e[p+64>>2],L=1,v=Ut,_=V;break l}_=r+1|0,e[p+76>>2]=_,x=y[r+1|0],r=_}if(i)break e;if(!Xe)break r;for(r=1;;){if(i=e[(r<<2)+a>>2],i){if(nT((r<<3)+o|0,i,n,g),j=1,r=r+1|0,(r|0)!=10)continue;break e}break}if(j=1,r>>>0>=10)break e;for(;;){if(e[(r<<2)+a>>2])break u;if(r=r+1|0,(r|0)==10)break}break e}x=28;break i}if(V=x-v|0,M=(L|0)>(V|0)?L:V,(M|0)>(2147483647-X|0))break n;if(x=61,L=M+X|0,r=(L|0)<(se|0)?se:L,(Ct|0)<(r|0))break i;xr(i,32,r,L,_),lr(i,pe,X),xr(i,48,r,L,_^65536),xr(i,48,M,V,0),lr(i,v,V),xr(i,32,r,L,_^8192);continue}break}j=0;break e}x=61}e[98173]=x}j=-1}return b=p+80|0,j}function Fm(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;o=b-192|0,b=o,e[i+12>>2]=r,e[o+176>>2]=11603,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+356|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}e[o+176>>2]=11043,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+216|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}e[o+176>>2]=12312,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+236|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}e[o+176>>2]=14425,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+276|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}e[o+176>>2]=15348,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+296|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}e[o+176>>2]=1137,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+316|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}e[o+176>>2]=13136,e[o+172>>2]=i,e[o+168>>2]=52452,n=o+168|0,e[o+184>>2]=n,Hc(r+196|0,n),a=e[o+184>>2];e:{t:{if((n|0)==(a|0)){a=o+168|0,n=e[o+168>>2]+16|0;break t}if(!a)break e;n=e[a>>2]+20|0}F[e[n>>2]](a)}if(n=e[r+76>>2],g=e[r+80>>2],(n|0)!=(g|0))for(_=i+20|0;;){a=e[n>>2],e[i+16>>2]=a;e:{if(!y[a+12|0]|e[a+36>>2]!=1)break e;if(c=a+16|0,p=di(e[i+12>>2]+276|0,c),(p|0)==-1){p=a+40|0,L=e[p>>2],v=S[a+51|0],e[o+160>>2]=14425,e[o+164>>2]=(v|0)<0?L:p,ss(i,c,28271,o+160|0);break e}As(c,p)}e[o+176>>2]=i,e[o+168>>2]=52956,e[o+172>>2]=a,p=o+168|0,e[o+184>>2]=p,Hc(a+128|0,p),c=e[o+184>>2];e:{t:{if((p|0)==(c|0)){c=o+168|0,p=e[o+168>>2]+16|0;break t}if(!c)break e;p=e[c>>2]+20|0}F[e[p>>2]](c)}if(b8(_,a),e[i+16>>2]=0,n=n+4|0,(g|0)==(n|0))break}if(a=e[r+112>>2],p=e[r+116>>2],(a|0)!=(p|0))for(;;){e:{t:{i:{n:{s:{r:switch(n=e[a>>2],e[n+12>>2]){case 4:break t;case 3:break i;case 2:break n;case 1:break s;case 0:break r;default:break e}if(e[n+36>>2]!=1)break e;if(c=n+16|0,g=di(e[i+12>>2]+216|0,c),(g|0)==-1){g=n+40|0,_=e[g>>2],n=S[n+51|0],e[o+80>>2]=11043,e[o+84>>2]=(n|0)<0?_:g,ss(i,c,28271,o+80|0);break e}As(c,g);break e}if(e[n+36>>2]!=1)break e;if(c=n+16|0,g=di(e[i+12>>2]+296|0,c),(g|0)==-1){g=n+40|0,_=e[g>>2],n=S[n+51|0],e[o+96>>2]=15348,e[o+100>>2]=(n|0)<0?_:g,ss(i,c,28271,o+96|0);break e}As(c,g);break e}if(e[n+36>>2]!=1)break e;if(c=n+16|0,g=di(e[i+12>>2]+316|0,c),(g|0)==-1){g=n+40|0,_=e[g>>2],n=S[n+51|0],e[o+112>>2]=1137,e[o+116>>2]=(n|0)<0?_:g,ss(i,c,28271,o+112|0);break e}As(c,g);break e}if(e[n+36>>2]!=1)break e;if(c=n+16|0,g=di(e[i+12>>2]+236|0,c),(g|0)==-1){g=n+40|0,_=e[g>>2],n=S[n+51|0],e[o+128>>2]=12312,e[o+132>>2]=(n|0)<0?_:g,ss(i,c,28271,o+128|0);break e}As(c,g);break e}if(e[n+36>>2]!=1)break e;if(c=n+16|0,g=di(e[i+12>>2]+196|0,c),(g|0)==-1){g=n+40|0,_=e[g>>2],n=S[n+51|0],e[o+144>>2]=13136,e[o+148>>2]=(n|0)<0?_:g,ss(i,c,28271,o+144|0);break e}As(c,g)}if(a=a+4|0,(p|0)==(a|0))break}if(a=e[r+88>>2],n=e[r+92>>2],(a|0)!=(n|0))for(c=i+20|0;Fa(c,e[a>>2]+24|0),a=a+4|0,(n|0)!=(a|0););if(a=e[r+64>>2],p=e[r+68>>2],(a|0)!=(p|0))for(;;){n=e[a>>2];e:{if(!y[n+12|0]|e[n+36>>2]!=1)break e;if(c=n+16|0,g=di(e[i+12>>2]+276|0,c),(g|0)==-1){g=n+40|0,_=e[g>>2],n=S[n+51|0],e[o+64>>2]=14425,e[o+68>>2]=(n|0)<0?_:g,ss(i,c,28271,o- -64|0);break e}As(c,g)}if(a=a+4|0,(p|0)==(a|0))break}if(n=e[r+148>>2],g=e[r+152>>2],(n|0)!=(g|0))for(_=i+20|0;;){c=e[n>>2];e:{if(e[c+36>>2]!=1)break e;if(a=c+16|0,p=di(e[i+12>>2]+296|0,a),(p|0)==-1){p=c+40|0,L=e[p>>2],v=S[c+51|0],e[o+48>>2]=15348,e[o+52>>2]=(v|0)<0?L:p,ss(i,a,28271,o+48|0);break e}As(a,p)}if(Fa(_,c+60|0),a=e[c+72>>2],L=e[c+76>>2],(a|0)!=(L|0))for(;;){e:{if(e[a+8>>2]!=1||(c=e[a>>2],e[c+32>>2]!=36|e[c+56>>2]!=1))break e;if(p=c+36|0,v=di(e[i+12>>2]+216|0,p),(v|0)==-1){v=c+60|0,x=e[v>>2],c=S[c+71|0],e[o+32>>2]=11043,e[o+36>>2]=(c|0)<0?x:v,ss(i,p,28271,o+32|0);break e}As(p,v)}if(a=a+12|0,(L|0)==(a|0))break}if(n=n+4|0,(g|0)==(n|0))break}if(a=e[r+172>>2],p=e[r+176>>2],(a|0)!=(p|0))for(g=i+20|0;;){n=e[a>>2];e:{if(e[n+36>>2]!=1)break e;if(c=n+16|0,_=di(e[i+12>>2]+316|0,c),(_|0)==-1){_=n+40|0,L=e[_>>2],v=S[n+51|0],e[o+16>>2]=1137,e[o+20>>2]=(v|0)<0?L:_,ss(i,c,28271,o+16|0);break e}As(c,_)}if(Fa(g,n+52|0),a=a+4|0,(p|0)==(a|0))break}if(a=e[r+184>>2],n=e[r+188>>2],(a|0)!=(n|0))for(;;){r=e[a>>2];e:{if(e[r+20>>2]!=1)break e;if(c=di(e[i+12>>2]+216|0,r),(c|0)==-1){c=S[r+35|0],p=e[r+24>>2],e[o>>2]=11043,e[o+4>>2]=(c|0)<0?p:r+24|0,ss(i,r,28271,o);break e}As(r,c)}if(a=a+4|0,(n|0)==(a|0))break}return e[i+12>>2]=0,b=o+192|0,e[i+84>>2]}function Ia(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;if(n=b-128|0,b=n,g=e[r>>2],x=e[r+4>>2],(g|0)!=(x|0))for(_=i+40|0,L=n+32|4;;){a=e[g>>2],e[n+44>>2]=0,e[n+36>>2]=0,e[n+40>>2]=0,e[n+32>>2]=a,o=e[g+8>>2],c=e[g+4>>2],p=o-c|0,r=(p|0)/20|0,v=0;e:{t:{i:{n:{if((o|0)!=(c|0)){if(r>>>0>=214748365)break n;if(v=Z(p),e[n+36>>2]=v,e[n+44>>2]=H(r,20)+v,r=v,o=e[g+4>>2],c=e[g+8>>2],(o|0)!=(c|0))for(;WT(r,o),r=r+20|0,o=o+20|0,(c|0)!=(o|0););e[n+40>>2]=r}e[n+48>>2]=e[g+16>>2];s:{r:{l:{u:{a:switch(r=e[a+32>>2],r-8|0){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 15:case 16:case 17:case 18:break s;case 14:break l;case 19:break u;case 0:break a;default:break r}be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,o=n- -64|0,xe(o,91940),Km(i,2,a+36|0,e[n+64>>2]),vh(i,a+152|0),r=e[i+40>>2],e[n+64>>2]=r,e[n+68>>2]=e[i+44>>2],e[n+72>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(_,0),Ia(i,o),r&&(ds(n- -64|0,r),P(e[n+64>>2])),e[i+36>>2]!=3&&(e[i+36>>2]=0);break t}be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,o=n- -64|0,xe(o,91944),Km(i,3,a+36|0,e[n+64>>2]),vh(i,a+152|0),r=e[i+40>>2],e[n+64>>2]=r,e[n+68>>2]=e[i+44>>2],e[n+72>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(_,0),Ia(i,o),r&&(ds(n- -64|0,r),P(e[n+64>>2])),e[i+36>>2]!=3&&(e[i+36>>2]=0);break t}be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,o=n- -64|0,xe(o,91948),Km(i,4,a+36|0,e[n+64>>2]),Ia(i,L),be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],11566,4,0,0),e[i+36>>2]=2,e[i+32>>2]=e[i+32>>2]+2,vh(i,a+152|0),r=e[i+40>>2],e[n+64>>2]=r,e[n+68>>2]=e[i+44>>2],e[n+72>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(_,0),Ia(i,o),r&&(ds(n- -64|0,r),P(e[n+64>>2])),e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,e[a+192>>2]&&(be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],13800,4,0,0),e[i+36>>2]=2,e[i+32>>2]=e[i+32>>2]+2,vh(i,a+184|0),r=e[i+40>>2],e[n+64>>2]=r,e[n+68>>2]=e[i+44>>2],e[n+72>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(_,0),Ia(i,n- -64|0),r&&(ds(n- -64|0,r),P(e[n+64>>2])),e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0)),e[i+36>>2]=0;break t}if((r|0)==60)break i}be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,e[n+60>>2]=i,e[n+56>>2]=56360,Ck(sa(n- -64|0,n+56|0),a),r=e[n+104>>2],r&&(e[n+108>>2]=r,P(r)),r=e[n+92>>2],r&&(e[n+96>>2]=r,P(r)),r=e[n+80>>2],r&&(e[n+84>>2]=r,P(r)),r=e[n+68>>2],r&&(e[n+72>>2]=r,P(r)),e[i+32>>2]=e[i+32>>2]+2,Ia(i,L),e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2;break e}Nr(),Ie()}be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,o=n- -64|0,xe(o,91956),Km(i,6,a+40|0,e[n+64>>2]),be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],10936,2,0,0),e[i+36>>2]=2,e[i+32>>2]=e[i+32>>2]+2,Ia(i,L),vh(i,a+156|0),r=e[i+40>>2],e[n+64>>2]=r,e[n+68>>2]=e[i+44>>2],e[n+72>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(_,0),Ia(i,o),r&&(ds(n- -64|0,r),P(e[n+64>>2])),e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2;i:{n:switch(e[a+36>>2]-1|0){case 0:if(o=e[a+188>>2],a=e[a+192>>2],(o|0)==(a|0))break i;for(;;){if(r=e[i+24>>2],S[n+64|0]=10,U(r,n- -64|0,1,0,0),r=e[i+32>>2],r>>>0>=142)for(;U(e[i+24>>2],354288,142,0,0),r=r-142|0,r>>>0>141;);r&&U(e[i+24>>2],354288,r,0,0),e[i+36>>2]=0,U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,r=o+44|0;s:{if(!(e[o+40>>2]|e[r>>2]!=-1)){be(i),U(e[i+24>>2],11864,9,0,0),e[i+36>>2]=2;break s}if(xe(n- -64|0,91960),c=e[n+64>>2],p=Ge(c),be(i),U(e[i+24>>2],c,p,0,0),e[i+36>>2]=1,!e[o+40>>2]){e[n>>2]=e[r>>2],yt(i,5606,n),e[i+36>>2]=2;break s}p=r,r=y[o+55|0],c=r<<24>>24<0,Ki(i,c?e[o+44>>2]:p,c?e[o+48>>2]:r,2)}e[i+32>>2]=e[i+32>>2]+2,vh(i,o+56|0),r=e[i+40>>2],e[n+64>>2]=r,e[n+68>>2]=e[i+44>>2],e[n+72>>2]=e[i+48>>2],e[i+48>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,ds(_,0),Ia(i,n- -64|0),r&&(ds(n- -64|0,r),P(e[n+64>>2])),e[i+32>>2]=e[i+32>>2]-2;s:{if(e[i+36>>2]!=3)break s;if(r=e[i+24>>2],S[n+64|0]=10,U(r,n- -64|0,1,0,0),r=e[i+32>>2],r>>>0>=142)for(;U(e[i+24>>2],354288,142,0,0),r=r-142|0,r>>>0>141;);if(!r)break s;U(e[i+24>>2],354288,r,0,0)}if(e[i+36>>2]=0,U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,o=o+68|0,(a|0)==(o|0))break}break i;case 1:break n;default:break i}be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,xe(n- -64|0,92012),r=e[n+64>>2],o=Ge(r),be(i),U(e[i+24>>2],r,o,0,0),e[i+36>>2]=1,r=a+224|0;n:{if(!e[a+220>>2]){e[n+16>>2]=e[r>>2],yt(i,5606,n+16|0),e[i+36>>2]=0;break n}p=r,r=y[a+235|0],o=r<<24>>24<0,Ki(i,o?e[a+224>>2]:p,o?e[a+228>>2]:r,0)}be(i),U(e[i+24>>2],27978,1,0,0)}e[i+36>>2]=0}e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,S5(i)}if(v&&(ds(L,v),P(e[n+36>>2])),g=g+20|0,(x|0)==(g|0))break}b=n+128|0}function JZ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0;_=b-208|0,b=_,g=e[i+4>>2];e:{t:switch(e[r+56>>2]+5|0){case 4:xe(_+80|0,92056),i=e[_+80>>2],n=Ge(i),be(g),U(e[g+24>>2],i,n,0,0),e[g+36>>2]=1,e[_>>2]=e[r+72>>2],yt(g,24153,_),e[g+36>>2]==3&&be(g),e[g+36>>2]=2;break e;case 3:xe(_+80|0,92060),i=e[_+80>>2],n=Ge(i),be(g),U(e[g+24>>2],i,n,0,0),e[g+36>>2]=1,i=e[r+76>>2],e[_+16>>2]=e[r+72>>2],e[_+20>>2]=i,yt(g,16037,_+16|0),e[g+36>>2]==3&&be(g),e[g+36>>2]=2;break e;case 2:L=_+80|0,xe(L,92064),i=e[_+80>>2],n=Ge(i),be(g),U(e[g+24>>2],i,n,0,0),e[g+36>>2]=1,i=b-32|0,b=i,p=e[r+72>>2],c=p>>>23&255,n=c-127|0,a=i,(p|0)<0&&(S[i|0]=45,a=i|1),v=p&8388607;i:{if((n|0)==128){if(!v){S[a|0]=105,S[a+1|0]=110,S[a+2|0]=102,S[a+3|0]=0,o=a+3|0;break i}if(S[a|0]=110,S[a+1|0]=97,S[a+2|0]=110,S[a+3|0]=0,o=a+3|0,(v|0)==4194304)break i;for(S[o|0]=58,S[o+1|0]=48,S[o+2|0]=120,S[o+3|0]=0,n=8;p=n,n=n-1|0,o=v>>>0<16777216,c=v<<4,v=c,!!o;);if(o=a+6|0,!n)break i;if(a=n&3,a)for(v=0;S[o|0]=y[(c>>>28|0)+51280|0],n=n-1|0,c=c<<4,o=o+1|0,v=v+1|0,(a|0)!=(v|0););if(p-2>>>0<3)break i;for(;S[o|0]=y[(c>>>28|0)+51280|0],S[o+3|0]=y[(c>>>16&15)+51280|0],S[o+2|0]=y[(c>>>20&15)+51280|0],S[o+1|0]=y[(c>>>24&15)+51280|0],c=c<<16,o=o+4|0,n=n-4|0,!!n;);break i}S[a|0]=48,S[a+1|0]=120,v=c|v,S[a+2|0]=v?49:48;n:{s:{r:{l:{u:{o=p<<9;a:{if(!o){c=a+3|0;break a}c:{if(c){S[a+3|0]=46,c=a+4|0;break c}if(S[a+3|0]=46,c=a+4|0,p=Gi(o),(p|0)==31)break u;if(n=-127-p|0,o=o<<p+1,!o)break a}for(;S[c|0]=y[(o>>>28|0)+51280|0],c=c+1|0,o=o<<4,!!o;);}if(S[c|0]=112,o=c+1|0,!v)break l;if((n|0)>=0)break r;break s}if(S[a+4|0]=112,o=a+5|0,n=-158,v)break s}S[o+2|0]=y[26015],n=y[26013]|y[26014]<<8,S[o|0]=n,S[o+1|0]=n>>>8,o=c+3|0;break i}S[c+1|0]=43;break n}S[o|0]=45,n=0-n|0}n:{s:{r:{l:{if(n>>>0>=1e3){S[c+2|0]=49,c=c+3|0;break l}if(c=c+2|0,n>>>0<100)break r}S[c|0]=((n>>>0)/100>>>0)%10|48,c=c+1|0;break s}if(n>>>0<10)break n}S[c|0]=((n>>>0)/10>>>0)%10|48,c=c+1|0}S[c|0]=(n>>>0)%10|48,o=c+1|0}n=o-i|0,n=n>>>0<128?n:127,M=Ce(L,i,n)+n|0,V=0,S[M|0]=V,b=i+32|0,i=Ge(L),be(g),U(e[g+24>>2],L,i,0,0),e[g+36>>2]=1,B0[_+32>>3]=In[r+72>>2],yt(g,27855,_+32|0),e[g+36>>2]==3&&be(g),e[g+36>>2]=2;break e;case 1:L=_+80|0,xe(L,92068),i=e[_+80>>2],n=Ge(i),be(g),U(e[g+24>>2],i,n,0,0),e[g+36>>2]=1,i=e[r+76>>2],v=i,c=b-48|0,b=c,p=e[r+72>>2],o=i>>>20&2047,a=o-1023|0,n=c,(i|0)<0&&(S[c|0]=45,n=c|1),i=v&1048575;i:{if((a|0)==1024){if(!(i|p)){S[n|0]=105,S[n+1|0]=110,S[n+2|0]=102,S[n+3|0]=0,o=n+3|0;break i}if(S[n|0]=110,S[n+1|0]=97,S[n+2|0]=110,S[n+3|0]=0,o=n+3|0,!p&(i|0)==524288)break i;for(S[o|0]=58,S[o+1|0]=48,S[o+2|0]=120,S[o+3|0]=0,a=16;v=a,a=a-1|0,o=i>>>0<16777216,i=i<<4|p>>>28,p=p<<4,!!o;);if(o=n+6|0,!a)break i;if(x=a&3,x)for(n=0;S[o|0]=y[(i>>>28|0)+51280|0],a=a-1|0,i=i<<4|p>>>28,p=p<<4,o=o+1|0,n=n+1|0,(x|0)!=(n|0););if(v-2>>>0<3)break i;for(;S[o|0]=y[(i>>>28|0)+51280|0],S[o+3|0]=y[(i>>>16&15)+51280|0],S[o+2|0]=y[(i>>>20&15)+51280|0],S[o+1|0]=y[(i>>>24&15)+51280|0],n=p,i=i<<16|n>>>16,p=n<<16,o=o+4|0,a=a-4|0,!!a;);break i}S[n|0]=48,S[n+1|0]=120,x=!(o|(i|p)),S[n+2|0]=x?48:49,i=v<<12|p>>>20;n:{s:{r:{l:{u:{p=p<<12;a:{if(!(i|p)){o=n+3|0;break a}c:{if(o){S[n+3|0]=46,o=n+4|0;break c}if(S[n+3|0]=46,o=n+4|0,a=Gi(i),v=(a|0)==32?Gi(p)+32|0:a,a=v,(a|0)==63)break u;if(a=-1023-a|0,n=v+1|0,v=n,n=n&31,(v&63)>>>0>=32?(i=p<<n,p=0):(i=(1<<n)-1&p>>>32-n|i<<n,p=p<<n),!(p|i))break a}for(;S[o|0]=y[(i>>>28|0)+51280|0],o=o+1|0,n=p,i=i<<4|n>>>28,p=n<<4,!!(i|p););}if(S[o|0]=112,n=o+1|0,x)break l;if((a|0)>=0)break r;break s}if(S[n+4|0]=112,n=n+5|0,a=-1086,!x)break s}S[n+2|0]=y[26015],i=y[26013]|y[26014]<<8,S[n|0]=i,S[n+1|0]=i>>>8,o=o+3|0;break i}S[o+1|0]=43;break n}S[n|0]=45,a=0-a|0}n:{s:{r:{l:{if(a>>>0>=1e3){S[o+2|0]=49,o=o+3|0;break l}if(o=o+2|0,a>>>0<100)break r}S[o|0]=((a>>>0)/100>>>0)%10|48,o=o+1|0;break s}if(a>>>0<10)break n}S[o|0]=((a>>>0)/10>>>0)%10|48,o=o+1|0}S[o|0]=(a>>>0)%10|48,o=o+1|0}i=o-c|0,i=i>>>0<128?i:127,M=Ce(L,c,i)+i|0,V=0,S[M|0]=V,b=c+48|0,i=Ge(L),be(g),U(e[g+24>>2],L,i,0,0),e[g+36>>2]=1,i=e[r+76>>2],m2(0,e[r+72>>2]),m2(1,i|0),M=_,j=+W_(),B0[M+48>>3]=j,yt(g,27855,_+48|0),e[g+36>>2]==3&&be(g),e[g+36>>2]=2;break e;case 0:break t;default:break e}xe(_+80|0,92132),i=e[_+80>>2],n=Ge(i),be(g),U(e[g+24>>2],i,n,0,0),e[g+36>>2]=1,i=e[r+72>>2],n=e[r+76>>2],a=e[r+84>>2],e[_+72>>2]=e[r+80>>2],e[_+76>>2]=a,e[_+64>>2]=i,e[_+68>>2]=n,yt(g,2438,_- -64|0),e[g+36>>2]==3&&be(g),e[g+36>>2]=2}return b=_+208|0,0}function Vc(i){var r=0,n=0,o=0,a=0,c=0,g=0;a=b-16|0,b=a,e[a+12>>2]=i;e:{if(i>>>0<=211){o=e[iR(57280,57472,a+12|0)>>2];break e}for(i>>>0>=4294967292&&(Nr(),Ie()),c=(i>>>0)/210|0,o=H(c,210),e[a+8>>2]=i-o,g=iR(57472,57664,a+8|0)-57472>>2;;){o=e[(g<<2)+57472>>2]+o|0,i=5;t:{for(;;){i:{if((i|0)==47){for(i=211;;){if(r=(o>>>0)/(i>>>0)|0,r>>>0<i>>>0)break t;if((H(i,r)|0)==(o|0))break i;if(r=i+10|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+12|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+16|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+18|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+22|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+28|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+30|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+36|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+40|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+42|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+46|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+52|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+58|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+60|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+66|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+70|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+72|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+78|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+82|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+88|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+96|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+100|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+102|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+106|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+108|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+112|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+120|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+126|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+130|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+136|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+138|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+142|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+148|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+150|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+156|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+162|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+166|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+168|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+172|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+178|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+180|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+186|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+190|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+192|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+196|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+198|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if((H(r,n)|0)==(o|0))break i;if(r=i+208|0,n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if(i=i+210|0,(H(r,n)|0)==(o|0))break}break i}if(r=e[(i<<2)+57280>>2],n=(o>>>0)/(r>>>0)|0,r>>>0>n>>>0)break t;if(i=i+1|0,(H(r,n)|0)!=(o|0))continue}break}o=g+1|0,i=(o|0)==48,g=i?0:o,c=i+c|0,o=H(c,210);continue}break}e[a+12>>2]=o}return b=a+16|0,o}function qZ(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;r=b-192|0,b=r,e[r+100>>2]=0,e[r+104>>2]=0,e[r+96>>2]=35636,L=sa(r+108|0,r+96|0),e[r+176>>2]=0,e[r+180>>2]=0,e[r+168>>2]=0,e[r+172>>2]=0,e[r+160>>2]=0,e[r+164>>2]=0,e[r+100>>2]=i,o=e[i+76>>2];e:{if((o|0)!=e[i+80>>2])for(c=r+160|0;;){o=e[(n<<2)+o>>2],e[r+104>>2]=o;t:{if(!y[o+12|0])break t;if(p=o+16|0,a=a1(e[r+100>>2],p),!a){a=1;break e}if(e[o+36>>2]==1||(_=y[a+35|0],g=_<<24>>24<0,_=g?e[a+28>>2]:_,!_))break t;v=e[a+24>>2],e[r+188>>2]=_,e[r+184>>2]=g?v:a+24|0,a=e[r+188>>2],e[r+88>>2]=e[r+184>>2],e[r+92>>2]=a,Ji(p,r+88|0)}if($_((e[o+56>>2]-e[o+52>>2]>>3)+G0(o+116|0)|0,o+128|0,c),a=1,(b8(L,o)|0)==1)break e;if(e[r+104>>2]=0,n=n+1|0,o=e[i+76>>2],!(n>>>0<e[i+80>>2]-o>>2>>>0))break}if(n=e[i+88>>2],(n|0)!=e[i+92>>2])for(o=0,a=1;;){if((Fa(L,e[(o<<2)+n>>2]+24|0)|0)==1)break e;if(o=o+1|0,n=e[i+88>>2],!(o>>>0<e[i+92>>2]-n>>2>>>0))break}if(n=e[i+64>>2],a=e[i+68>>2],(n|0)!=(a|0))for(o=0;;){if(g=e[(o<<2)+n>>2],y[g+12|0]){if(c=g+16|0,n=a1(e[r+100>>2],c),!n){a=1;break e}t:{if(e[g+36>>2]==1||(g=y[n+35|0],a=g<<24>>24<0,g=a?e[n+28>>2]:g,!g))break t;p=e[n+24>>2],e[r+188>>2]=g,e[r+184>>2]=a?p:n+24|0,n=e[r+188>>2],e[r+80>>2]=e[r+184>>2],e[r+84>>2]=n,Ji(c,r+80|0)}a=e[i+68>>2],n=e[i+64>>2]}if(o=o+1|0,!(o>>>0<a-n>>2>>>0))break}if(n=e[i+112>>2],(n|0)!=e[i+116>>2])for(o=0;;){a=e[r+100>>2];t:{i:{n:{s:{r:{l:switch(n=e[(o<<2)+n>>2],e[n+12>>2]){case 4:break i;case 3:break n;case 2:break s;case 1:break r;case 0:break l;default:break t}if(g=n+16|0,a=vl(a,g),!a|e[n+36>>2]==1||(c=y[a+11|0],n=c<<24>>24<0,c=n?e[a+4>>2]:c,!c))break t;p=e[a>>2],e[r+188>>2]=c,e[r+184>>2]=n?p:a,n=e[r+188>>2],e[r+40>>2]=e[r+184>>2],e[r+44>>2]=n,Ji(g,r+40|0);break t}if(g=n+16|0,a=Xc(a,g),!a|e[n+36>>2]==1||(c=y[a+11|0],n=c<<24>>24<0,c=n?e[a+4>>2]:c,!c))break t;p=e[a>>2],e[r+188>>2]=c,e[r+184>>2]=n?p:a,n=e[r+188>>2],e[r+48>>2]=e[r+184>>2],e[r+52>>2]=n,Ji(g,r+48|0);break t}if(g=n+16|0,a=Oh(a,g),!a|e[n+36>>2]==1||(c=y[a+11|0],n=c<<24>>24<0,c=n?e[a+4>>2]:c,!c))break t;p=e[a>>2],e[r+188>>2]=c,e[r+184>>2]=n?p:a,n=e[r+188>>2],e[r+56>>2]=e[r+184>>2],e[r+60>>2]=n,Ji(g,r+56|0);break t}if(g=n+16|0,a=op(a,g),!a|e[n+36>>2]==1||(c=y[a+11|0],n=c<<24>>24<0,c=n?e[a+4>>2]:c,!c))break t;p=e[a>>2],e[r+188>>2]=c,e[r+184>>2]=n?p:a,n=e[r+188>>2],e[r+64>>2]=e[r+184>>2],e[r+68>>2]=n,Ji(g,r- -64|0);break t}if(g=n+16|0,a=lp(a,g),!a|e[n+36>>2]==1||(c=y[a+11|0],n=c<<24>>24<0,c=n?e[a+4>>2]:c,!c))break t;p=e[a>>2],e[r+188>>2]=c,e[r+184>>2]=n?p:a,n=e[r+188>>2],e[r+72>>2]=e[r+184>>2],e[r+76>>2]=n,Ji(g,r+72|0)}if(o=o+1|0,n=e[i+112>>2],!(o>>>0<e[i+116>>2]-n>>2>>>0))break}if(o=e[i+148>>2],(o|0)!=e[i+152>>2])for(a=1,g=0;;){if(n=e[(g<<2)+o>>2],p=n+16|0,o=Xc(e[r+100>>2],p),!o)break e;t:{if(e[n+36>>2]==1||(_=y[o+11|0],c=_<<24>>24<0,_=c?e[o+4>>2]:_,!_))break t;v=e[o>>2],e[r+188>>2]=_,e[r+184>>2]=c?v:o,o=e[r+188>>2],e[r+32>>2]=e[r+184>>2],e[r+36>>2]=o,Ji(p,r+32|0)}if((Fa(L,n+60|0)|0)==1)break e;if(o=e[n+72>>2],p=e[n+76>>2],(o|0)!=(p|0))for(;;){c=e[o>>2];t:{if(e[c+32>>2]!=36)break t;if(_=c+36|0,n=vl(e[r+100>>2],_),!n)break e;if(e[c+56>>2]==1||(v=y[n+11|0],c=v<<24>>24<0,v=c?e[n+4>>2]:v,!v))break t;x=e[n>>2],e[r+188>>2]=v,e[r+184>>2]=c?x:n,n=e[r+188>>2],e[r+24>>2]=e[r+184>>2],e[r+28>>2]=n,Ji(_,r+24|0)}if(o=o+12|0,(p|0)==(o|0))break}if(g=g+1|0,o=e[i+148>>2],!(g>>>0<e[i+152>>2]-o>>2>>>0))break}if(o=e[i+172>>2],(o|0)!=e[i+176>>2])for(n=0;;){if(g=e[(n<<2)+o>>2],c=g+16|0,o=Oh(e[r+100>>2],c),!o){a=1;break e}t:{if(e[g+36>>2]==1||(p=y[o+11|0],a=p<<24>>24<0,p=a?e[o+4>>2]:p,!p))break t;_=e[o>>2],e[r+188>>2]=p,e[r+184>>2]=a?_:o,o=e[r+188>>2],e[r+16>>2]=e[r+184>>2],e[r+20>>2]=o,Ji(c,r+16|0)}if(a=1,(Fa(L,g+52|0)|0)==1)break e;if(n=n+1|0,o=e[i+172>>2],!(n>>>0<e[i+176>>2]-o>>2>>>0))break}if(o=e[i+184>>2],(o|0)!=e[i+188>>2])for(a=1,n=0;;){if(L=e[(n<<2)+o>>2],o=vl(e[r+100>>2],L),!o)break e;t:{if(e[L+20>>2]==1||(c=y[o+11|0],g=c<<24>>24<0,c=g?e[o+4>>2]:c,!c))break t;p=e[o>>2],e[r+188>>2]=c,e[r+184>>2]=g?p:o,o=e[r+188>>2],e[r+8>>2]=e[r+184>>2],e[r+12>>2]=o,Ji(L,r+8|0)}if(n=n+1|0,o=e[i+184>>2],!(n>>>0<e[i+188>>2]-o>>2>>>0))break}a=0,e[r+100>>2]=0}return $k(r+96|0),b=r+192|0,a|0}function on(i,r,n,o,a,c,g,p,_){var v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0,oi=0,bi=0,Fi=0,Ii=0,Ti=0,mn=0,os=0,cr=0,ra=0,qc=0,Uh=0,m1=0,p1=0,A1=0,K5=0,X5=0,J5=0,iM=0;L=b-96|0,b=L,He=p,Xe=_&65535,M=(a^_)&-2147483648,x=a&65535,X=x,bi=x,Uh=_>>>16&32767,m1=a>>>16&32767;e:{t:{if(Uh-32767>>>0>4294934529&m1-32767>>>0>=4294934530)break t;if(x=a&2147483647,v=o,!(!o&(x|0)==2147418112?!(r|n):x>>>0<2147418112)){j=o,M=a|32768;break e}if(a=_&2147483647,!(!p&(a|0)==2147418112?!(c|g):a>>>0<2147418112)){j=p,M=_|32768,r=c,n=g;break e}if(!(r|v|(x^2147418112|n))){if(!(c|p|(a|g))){M=2147450880,r=0,n=0;break e}M=M|2147418112,r=0,n=0;break e}if(!(c|p|(a^2147418112|g))){if(o=r|v,a=n|x,r=0,n=0,!(o|a)){M=2147450880;break e}M=M|2147418112;break e}if(!(r|v|(n|x))){r=0,n=0;break e}if(!(c|p|(a|g))){r=0,n=0;break e}if((x|0)==65535|x>>>0<65535&&(v=r,p=!(o|X),_=p<<6,x=Gi(p?r:o)+32|0,r=Gi(p?n:X),r=_+((r|0)==32?x:r)|0,Dr(L+80|0,v,n,o,X,r-15|0),De=16-r|0,o=e[L+88>>2],bi=e[L+92>>2],n=e[L+84>>2],r=e[L+80>>2]),a>>>0>65535)break t;a=!(He|Xe),p=a<<6,_=Gi(a?c:He)+32|0,a=Gi(a?g:Xe),a=p+((a|0)==32?_:a)|0,Dr(L- -64|0,c,g,He,Xe,a-15|0),De=(De-a|0)+16|0,He=e[L+72>>2],Xe=e[L+76>>2],c=e[L+64>>2],g=e[L+68>>2]}a=c,v=g<<15|a>>>17,p=a<<15,a=v,X=p&-32768,se=n,Fi=ki(X,0,n,0),n=At,Ct=n,Ii=a,_=0,v=ki(a,0,r,_),a=v+Fi|0,p=At+n|0,p=a>>>0<v>>>0?p+1|0:p,n=a,v=a,V=ki(r,_,X,_),x=0+V|0,a=At+a|0,a=x>>>0<V>>>0?a+1|0:a,Ut=x,V=x,x=a,Ti=(v|0)==(a|0)&pe>>>0>V>>>0|a>>>0<v>>>0,pe=o,p1=ki(X,_,o,0),cr=At,a=ki(se,_,Ii,_),o=a+p1|0,v=At+cr|0,V=o,o=o>>>0<a>>>0?v+1|0:v,a=He,v=Xe<<15|a>>>17,oi=a<<15|g>>>17,g=v,v=ki(oi,0,r,_),a=v+V|0,c=At+o|0,ra=a,c=a>>>0<v>>>0?c+1|0:c,Xe=c,a=c,c=(p|0)==(Ct|0)&n>>>0<Fi>>>0|p>>>0<Ct>>>0,n=p+ra|0,c=a+c|0,Fi=n,c=n>>>0<p>>>0?c+1|0:c,He=c,n=c,mn=bi|65536,bi=at,A1=ki(X,_,mn,at),qc=At,p=ki(pe,j,Ii,_),c=p+A1|0,a=At+qc|0,K5=c,a=c>>>0<p>>>0?a+1|0:a,at=a,os=g|-2147483648,Ct=0,g=ki(os,Ct,r,_),r=g+c|0,c=At+a|0,c=r>>>0<g>>>0?c+1|0:c,X5=r,a=ki(oi,j,se,_),r=r+a|0,X=c,v=c+At|0,J5=r,g=r>>>0<a>>>0?v+1|0:v,c=0,r=c+Fi|0,a=n+J5|0,a=r>>>0<c>>>0?a+1|0:a,iM=r,n=r,r=r+Ti|0,Ti=a,c=r>>>0<n>>>0?a+1|0:a,n=c,De=((m1+Uh|0)+De|0)-16383|0,v=ki(os,Ct,se,_),p=At,_=ki(mn,bi,Ii,_),a=_+v|0,c=At+p|0,c=a>>>0<_>>>0?c+1|0:c,_=(c|0)==(p|0)&a>>>0<v>>>0|c>>>0<p>>>0,p=a,se=_,_=ki(oi,j,pe,j),a=_+a|0,v=At+c|0,v=a>>>0<_>>>0?v+1|0:v,_=(c|0)==(v|0)&a>>>0<p>>>0|c>>>0>v>>>0,c=se+_|0,p=0,p=c>>>0<_>>>0?1:p,se=ki(os,Ct,mn,bi),_=se+c|0,c=At+p|0,c=_>>>0<se>>>0?c+1|0:c,se=a,p=v,Ii=_,a=(o|0)==(Xe|0)&V>>>0>ra>>>0|o>>>0>Xe>>>0,o=a+((o|0)==(cr|0)&V>>>0<p1>>>0|o>>>0<cr>>>0)|0,v=0,v=o>>>0<a>>>0?1:v,_=o,o=se+o|0,a=p+v|0,a=o>>>0<_>>>0?a+1|0:a,V=o,_=a,a=(a|0)==(p|0)&o>>>0<se>>>0|a>>>0<p>>>0,o=Ii+a|0,p=o>>>0<a>>>0?c+1|0:c,se=o,v=ki(oi,j,mn,bi),a=At,pe=ki(os,Ct,pe,j),o=pe+v|0,c=At+a|0,c=o>>>0<pe>>>0?c+1|0:c,pe=o,o=c,c=(a|0)==(c|0)&v>>>0>pe>>>0|a>>>0>c>>>0,oi=o+se|0,a=c+p|0,a=o>>>0>oi>>>0?a+1|0:a,p=0,o=p+V|0,c=_+pe|0,c=o>>>0<p>>>0?c+1|0:c,p=c,v=(_|0)==(c|0)&o>>>0<V>>>0|c>>>0<_>>>0,_=v+oi|0,V=_,_=_>>>0<v>>>0?a+1|0:a,pe=o,a=o,o=p,v=(X|0)==(at|0)&K5>>>0>X5>>>0|X>>>0<at>>>0,c=v+((at|0)==(qc|0)&K5>>>0<A1>>>0|at>>>0<qc>>>0)|0,p=0,v=c+((g|0)==(X|0)&X5>>>0>J5>>>0|g>>>0<X>>>0)|0,c=g+a|0,a=o+v|0,a=c>>>0<g>>>0?a+1|0:a,g=c,p=(o|0)==(a|0)&c>>>0<pe>>>0|o>>>0>a>>>0,o=p+V|0,c=_,c=o>>>0<p>>>0?c+1|0:c,p=a,V=o,_=(He|0)==(Ti|0)&Fi>>>0>iM>>>0|He>>>0>Ti>>>0,o=_+((He|0)==(Xe|0)&Fi>>>0<ra>>>0|He>>>0<Xe>>>0)|0,v=0,v=o>>>0<_>>>0?1:v,_=o,o=o+g|0,a=a+v|0,a=o>>>0<_>>>0?a+1|0:a,p=(a|0)==(p|0)&o>>>0<g>>>0|a>>>0<p>>>0,g=V+p|0,c=g>>>0<p>>>0?c+1|0:c,p=g,_=c;t:{if(c&65536){De=De+1|0;break t}at=x>>>31|0,c=_<<1|p>>>31,p=g<<1|a>>>31,_=c,c=a<<1|o>>>31,o=o<<1|n>>>31,a=c,g=Ut,c=x<<1|g>>>31,Ut=g<<1,x=c,c=n<<1|r>>>31,r=r<<1|at,n=c}if((De|0)>=32767){M=M|2147418112,r=0,n=0;break e}t:{if((De|0)<=0){if(c=1-De|0,c>>>0>=128){r=0,n=0;break e}g=De+127|0,Dr(L+48|0,Ut,x,r,n,g),Dr(L+32|0,o,a,p,_,g),Ih(L+16|0,Ut,x,r,n,c),Ih(L,o,a,p,_,c),Ut=e[L+32>>2]|e[L+16>>2]|(e[L+48>>2]|e[L+56>>2]|(e[L+52>>2]|e[L+60>>2]))!=0,x=e[L+36>>2]|e[L+20>>2],r=e[L+40>>2]|e[L+24>>2],n=e[L+44>>2]|e[L+28>>2],o=e[L>>2],a=e[L+4>>2],c=e[L+8>>2],g=e[L+12>>2];break t}c=p,g=_&65535|De<<16}if(j=c|j,M=g|M,!(!r&(n|0)==-2147483648?!(x|Ut):(n|0)>0|(n|0)>=0)){r=o+1|0,v=r?a:a+1|0,n=v,c=(a|0)==(v|0)&r>>>0<o>>>0|a>>>0>v>>>0,o=c+j|0,a=M,j=o,M=o>>>0<c>>>0?a+1|0:a;break e}if(r|Ut|(n^-2147483648|x)){r=o,n=a;break e}v=M,n=o&1,r=n+o|0,c=r>>>0<n>>>0?a+1|0:a,n=c,a=(a|0)==(c|0)&r>>>0<o>>>0|a>>>0>c>>>0,o=a+j|0,j=o,M=o>>>0<a>>>0?v+1|0:v}e[i>>2]=r,e[i+4>>2]=n,e[i+8>>2]=j,e[i+12>>2]=M,b=L+96|0}function eQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;X=e[e[e[i+12>>2]+76>>2]+(r<<2)>>2],r=e[i+52>>2],c=e[i+44>>2],o=e[i+40>>2],j=c-o|0,V=j>>2,_=(o|0)==(c|0);e:{if((r+e[i+56>>2]|0)!=((_?0:H(V,146)-1|0)|0)){r=c;break e}t:{i:{if(r>>>0>=146){e[i+52>>2]=r-146,x=e[o>>2],r=o+4|0,e[i+40>>2]=r;n:{if(e[i+48>>2]!=(c|0)){o=c;break n}if(_=e[i+36>>2],_>>>0<r>>>0){o=c-r|0,n=((r-_>>2)+1|0)/-2<<2,a=n+r|0,(r|0)!=(c|0)&&(wl(a,r,o),c=e[i+40>>2]),o=o+a|0,e[i+44>>2]=o,e[i+40>>2]=n+c;break n}if(a=(c|0)==(_|0)?1:c-_>>1,a>>>0>=1073741824)break i;n=a<<2,L=Z(n),v=n+L|0,a=L+(a&-4)|0,o=a;s:{if((r|0)==(c|0))break s;n=c-r|0,c=n&-4,g=n-4|0,p=(g>>>2|0)+1&7;r:{if(!p){n=a;break r}for(o=0,n=a;e[n>>2]=e[r>>2],r=r+4|0,n=n+4|0,o=o+1|0,(p|0)!=(o|0););}if(o=a+c|0,g>>>0<28)break s;for(;e[n>>2]=e[r>>2],e[n+4>>2]=e[r+4>>2],e[n+8>>2]=e[r+8>>2],e[n+12>>2]=e[r+12>>2],e[n+16>>2]=e[r+16>>2],e[n+20>>2]=e[r+20>>2],e[n+24>>2]=e[r+24>>2],e[n+28>>2]=e[r+28>>2],r=r+32|0,n=n+32|0,(o|0)!=(n|0););}if(e[i+48>>2]=v,e[i+36>>2]=L,e[i+44>>2]=o,e[i+40>>2]=a,!_)break n;P(_),o=e[i+44>>2]}e[o>>2]=x,r=e[i+44>>2]+4|0,e[i+44>>2]=r;break e}if(a=e[i+48>>2],n=e[i+36>>2],r=a-n|0,r>>2>>>0>V>>>0){if(x=Z(4088),(a|0)!=(c|0)){e[c>>2]=x,r=e[i+44>>2]+4|0,e[i+44>>2]=r;break e}n:{if((n|0)!=(o|0)){a=o;break n}if(n=_?1:a-o>>1,n>>>0>=1073741824)break i;r=n<<2,L=Z(r),v=r+L|0,a=L+(n+3&-4)|0,c=a;s:{if(_)break s;if(r=a,n=o,g=j-4|0,p=(g>>>2|0)+1&7,p)for(c=0;e[r>>2]=e[n>>2],n=n+4|0,r=r+4|0,c=c+1|0,(p|0)!=(c|0););if(c=(V<<2)+a|0,g>>>0<28)break s;for(;e[r>>2]=e[n>>2],e[r+4>>2]=e[n+4>>2],e[r+8>>2]=e[n+8>>2],e[r+12>>2]=e[n+12>>2],e[r+16>>2]=e[n+16>>2],e[r+20>>2]=e[n+20>>2],e[r+24>>2]=e[n+24>>2],e[r+28>>2]=e[n+28>>2],n=n+32|0,r=r+32|0,(c|0)!=(r|0););}if(e[i+36>>2]=L,e[i+48>>2]=v,e[i+44>>2]=c,e[i+40>>2]=a,!o)break n;P(o),a=e[i+40>>2]}e[a-4>>2]=x,r=e[i+40>>2],n=r-4|0,e[i+40>>2]=n,x=e[n>>2],e[i+40>>2]=r,n=e[i+44>>2];n:{if((n|0)!=e[i+48>>2]){o=n;break n}if(_=e[i+36>>2],_>>>0<r>>>0){p=n-r|0,a=((r-_>>2)+1|0)/-2<<2,o=a+r|0,(r|0)!=(n|0)&&(wl(o,r,p),r=e[i+40>>2]),o=o+p|0,e[i+44>>2]=o,e[i+40>>2]=r+a;break n}if(o=(n|0)==(_|0)?1:n-_>>1,o>>>0>=1073741824)break i;a=o<<2,L=Z(a),v=a+L|0,a=L+(o&-4)|0,o=a;s:{if((r|0)==(n|0))break s;n=n-r|0,c=n&-4,g=n-4|0,p=(g>>>2|0)+1&7;r:{if(!p){n=a;break r}for(o=0,n=a;e[n>>2]=e[r>>2],r=r+4|0,n=n+4|0,o=o+1|0,(p|0)!=(o|0););}if(o=a+c|0,g>>>0<28)break s;for(;e[n>>2]=e[r>>2],e[n+4>>2]=e[r+4>>2],e[n+8>>2]=e[r+8>>2],e[n+12>>2]=e[r+12>>2],e[n+16>>2]=e[r+16>>2],e[n+20>>2]=e[r+20>>2],e[n+24>>2]=e[r+24>>2],e[n+28>>2]=e[r+28>>2],r=r+32|0,n=n+32|0,(o|0)!=(n|0););}if(e[i+36>>2]=L,e[i+48>>2]=v,e[i+44>>2]=o,e[i+40>>2]=a,!_)break n;P(_),o=e[i+44>>2]}e[o>>2]=x,r=e[i+44>>2]+4|0,e[i+44>>2]=r;break e}if(v=(n|0)==(a|0)?1:r>>1,v>>>0>=1073741824)break i;r=v<<2,a=Z(r),n=a+r|0,g=(V<<2)+a|0,p=Z(4088);n:{if((v|0)!=(V|0))break n;if((j|0)>0){g=((V+1|0)/-2<<2)+g|0;break n}if(o=_?1:j>>1,o>>>0>=1073741824)break i;n=o<<2,r=Z(n),P(a),n=r+n|0,g=r+(o&-4)|0,o=e[i+40>>2],c=e[i+44>>2],a=r}if(e[g>>2]=p,r=g+4|0,(o|0)==(c|0))break t;for(;;){n:{if((a|0)!=(g|0)){p=g;break n}if(r>>>0<n>>>0){if(o=(((n-r>>2)+1|0)/2<<2)+r|0,(r|0)==(g|0)){a=r,p=o,r=o;break n}r=r-g|0,p=o-r|0,wl(p,g,r),a=g,r=o;break n}if(n=(n|0)==(g|0)?1:n-g>>1,n>>>0>=1073741824)break i;_=n<<2,a=Z(_),p=a+(n+3&-4)|0,o=p;s:{if((r|0)==(g|0))break s;if(v=r-g|0,L=v&-4,o=0,r=p,n=g,x=v-4|0,v=(x>>>2|0)+1&7,v)for(;e[r>>2]=e[n>>2],n=n+4|0,r=r+4|0,o=o+1|0,(v|0)!=(o|0););if(o=p+L|0,x>>>0<28)break s;for(;e[r>>2]=e[n>>2],e[r+4>>2]=e[n+4>>2],e[r+8>>2]=e[n+8>>2],e[r+12>>2]=e[n+12>>2],e[r+16>>2]=e[n+16>>2],e[r+20>>2]=e[n+20>>2],e[r+24>>2]=e[n+24>>2],e[r+28>>2]=e[n+28>>2],n=n+32|0,r=r+32|0,(o|0)!=(r|0););}n=a+_|0,P(g),r=o}if(g=p-4|0,c=c-4|0,e[g>>2]=e[c>>2],e[i+40>>2]==(c|0))break}break t}Be(),Ie()}if(e[i+48>>2]=n,e[i+44>>2]=r,e[i+40>>2]=g,n=e[i+36>>2],e[i+36>>2]=a,!n)break e;P(n),r=e[i+44>>2]}return a=e[i+40>>2],(a|0)!=(r|0)&&(n=e[i+56>>2]+e[i+52>>2]|0,r=(n>>>0)/146|0,M=e[a+(r<<2)>>2]+H(n-H(r,146)|0,28)|0),e[M+4>>2]=0,e[M+8>>2]=0,e[M>>2]=X,e[M+12>>2]=0,e[M+16>>2]=0,e[M+20>>2]=0,e[M+24>>2]=0,e[i+56>>2]=e[i+56>>2]+1,0}function tQ(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0;c=e[e[i+4>>2]+8>>2],a=e[i+32>>2],r=Ge(a),_=Z(40),e[_+12>>2]=a,e[_+4>>2]=0,e[_+8>>2]=0,e[_+32>>2]=4,e[_+36>>2]=0,e[_>>2]=37188,e[_+24>>2]=0,e[_+28>>2]=0,e[_+20>>2]=c,e[_+16>>2]=r,g=Z(52),r=g,e[r+4>>2]=0,e[r+8>>2]=0,e[r+36>>2]=1,e[r+40>>2]=0,e[r+44>>2]=0,e[r>>2]=37496,S[r+35|0]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+17|0]=0,S[r+18|0]=0,S[r+19|0]=0,S[r+20|0]=0,S[r+21|0]=0,S[r+22|0]=0,S[r+23|0]=0,S[r+24|0]=0,e[r+48>>2]=0;e:{if(!n){e[_+36>>2]=g;break e}a=e[g+48>>2],c=e[g+44>>2];t:{if((a-c|0)/24>>>0>=n>>>0){i:{if(!n)break i;if(r=c,v=H(n,24)-24|0,p=((v>>>0)/24|0)+1&7,p)for(a=0;e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=-1,e[r+12>>2]=-64,r=r+24|0,a=a+1|0,(p|0)!=(a|0););if(c=H(n,24)+c|0,v>>>0<168)break i;for(;e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+32>>2]=0,e[r+36>>2]=0,e[r+40>>2]=0,e[r+44>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,a=r- -64|0,e[a>>2]=0,e[a+4>>2]=0,e[r+80>>2]=0,e[r+84>>2]=0,e[r+88>>2]=0,e[r+92>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+48>>2]=0,e[r+52>>2]=0,e[r+72>>2]=0,e[r+76>>2]=0,e[r+16>>2]=-1,e[r+12>>2]=-64,e[r+36>>2]=-64,e[r+40>>2]=-1,e[r+60>>2]=-64,e[a>>2]=-1,e[r+84>>2]=-64,e[r+88>>2]=-1,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+96>>2]=0,e[r+100>>2]=0,e[r+108>>2]=-64,e[r+112>>2]=-1,e[r+136>>2]=0,e[r+140>>2]=0,e[r+128>>2]=0,e[r+132>>2]=0,e[r+120>>2]=0,e[r+124>>2]=0,e[r+132>>2]=-64,e[r+136>>2]=-1,e[r+160>>2]=0,e[r+164>>2]=0,e[r+152>>2]=0,e[r+156>>2]=0,e[r+144>>2]=0,e[r+148>>2]=0,e[r+156>>2]=-64,e[r+160>>2]=-1,e[r+184>>2]=0,e[r+188>>2]=0,e[r+176>>2]=0,e[r+180>>2]=0,e[r+168>>2]=0,e[r+172>>2]=0,e[r+180>>2]=-64,e[r+184>>2]=-1,r=r+192|0,(c|0)!=(r|0););}e[g+44>>2]=c;break t}i:{n:{s:{if(r=e[g+40>>2],v=(c-r|0)/24|0,x=v+n|0,x>>>0>=178956971)break s;if(a=(a-r|0)/24|0,r=a<<1,V=a>>>0<89478485?r>>>0>x>>>0?r:x:178956970,V){if(V>>>0>=178956971)break s;j=Z(H(V,24))}if(a=H(v,24)+j|0,r=a,L=H(n,24),x=L-24|0,v=((x>>>0)/24|0)+1&7,v)for(r=a;e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=-1,e[r+12>>2]=-64,r=r+24|0,p=p+1|0,(p|0)!=(v|0););if(L=a+L|0,x>>>0>=168)for(;e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+32>>2]=0,e[r+36>>2]=0,e[r+40>>2]=0,e[r+44>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,p=r- -64|0,e[p>>2]=0,e[p+4>>2]=0,e[r+80>>2]=0,e[r+84>>2]=0,e[r+88>>2]=0,e[r+92>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+48>>2]=0,e[r+52>>2]=0,e[r+72>>2]=0,e[r+76>>2]=0,e[r+16>>2]=-1,e[r+12>>2]=-64,e[r+36>>2]=-64,e[r+40>>2]=-1,e[r+60>>2]=-64,e[p>>2]=-1,e[r+84>>2]=-64,e[r+88>>2]=-1,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+96>>2]=0,e[r+100>>2]=0,e[r+108>>2]=-64,e[r+112>>2]=-1,e[r+136>>2]=0,e[r+140>>2]=0,e[r+128>>2]=0,e[r+132>>2]=0,e[r+120>>2]=0,e[r+124>>2]=0,e[r+132>>2]=-64,e[r+136>>2]=-1,e[r+160>>2]=0,e[r+164>>2]=0,e[r+152>>2]=0,e[r+156>>2]=0,e[r+144>>2]=0,e[r+148>>2]=0,e[r+156>>2]=-64,e[r+160>>2]=-1,e[r+184>>2]=0,e[r+188>>2]=0,e[r+176>>2]=0,e[r+180>>2]=0,e[r+168>>2]=0,e[r+172>>2]=0,e[r+180>>2]=-64,e[r+184>>2]=-1,r=r+192|0,(L|0)!=(r|0););if(v=H(V,24)+j|0,p=e[g+40>>2],(p|0)==(c|0))break n;for(;c=c-24|0,r=e[c+4>>2],a=a-24|0,e[a>>2]=e[c>>2],e[a+4>>2]=r,e[a+8>>2]=e[c+8>>2],e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,S[a+20|0]=y[c+20|0],r=e[c+16>>2],e[a+12>>2]=e[c+12>>2],e[a+16>>2]=r,(c|0)!=(p|0););if(e[g+48>>2]=v,r=e[g+44>>2],e[g+44>>2]=L,c=e[g+40>>2],e[g+40>>2]=a,(r|0)==(c|0))break i;for(;r=r-24|0,S[r+11|0]<0&&P(e[r>>2]),(r|0)!=(c|0););break i}Be(),Ie()}e[g+48>>2]=v,e[g+44>>2]=L,e[g+40>>2]=a}c&&P(c)}if(x=n&1,c=e[g+40>>2],(n|0)!=1)for(v=n&-2,n=0;p=H(M,12)+o|0,r=e[p+4>>2],a=c,c=H(M,24),a=a+c|0,e[a+12>>2]=e[p>>2],e[a+16>>2]=r,r=e[g+40>>2],S[(r+c|0)+20|0]=y[p+8|0],a=r,r=M|1,p=H(r,24),a=a+p|0,L=H(r,12)+o|0,r=e[L+4>>2],e[a+12>>2]=e[L>>2],e[a+16>>2]=r,c=e[g+40>>2],S[(p+c|0)+20|0]=y[L+8|0],M=M+2|0,n=n+2|0,(v|0)!=(n|0););if(x&&(o=H(M,12)+o|0,r=e[o+4>>2],a=H(M,24),n=a+c|0,e[n+12>>2]=e[o>>2],e[n+16>>2]=r,S[(a+e[g+40>>2]|0)+20|0]=y[o+8|0]),r=e[_+36>>2],e[_+36>>2]=g,!r)break e;F[e[e[r>>2]+4>>2]](r)}return Yf(e[i+12>>2],_),0}function sN(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;a=b-128|0,b=a,e[a+104>>2]=0,o=1;e:{if((Om(i,a+104|0)|0)==1){g=e[a+104>>2];break e}v=Z(384),o=v,e[o>>2]=0,e[o+4>>2]=0,e[o>>2]=53800,_=pn(o+8|0,0,212),e[o+224>>2]=0,e[o+228>>2]=0,e[o+220>>2]=1065353216,e[o+232>>2]=0,e[o+236>>2]=0,e[o+244>>2]=0,e[o+248>>2]=0,e[o+240>>2]=1065353216,e[o+252>>2]=0,e[o+256>>2]=0,e[o+264>>2]=0,e[o+268>>2]=0,e[o+260>>2]=1065353216,e[o+272>>2]=0,e[o+276>>2]=0,e[o+284>>2]=0,e[o+288>>2]=0,e[o+280>>2]=1065353216,e[o+292>>2]=0,e[o+296>>2]=0,e[o+304>>2]=0,e[o+308>>2]=0,e[o+300>>2]=1065353216,e[o+312>>2]=0,e[o+316>>2]=0,e[o+320>>2]=1065353216,e[o+324>>2]=0,e[o+328>>2]=0,e[o+332>>2]=0,e[o+336>>2]=0,e[o+344>>2]=0,e[o+348>>2]=0,e[o+340>>2]=1065353216,e[o+352>>2]=0,e[o+356>>2]=0,e[o+364>>2]=0,e[o+368>>2]=0,e[o+360>>2]=1065353216,e[o+372>>2]=0,e[o+376>>2]=0,e[o+380>>2]=1065353216;t:{i:{n:{s:{r:{l:switch(g=e[a+104>>2],e[g+4>>2]){case 0:break s;case 2:break r;case 1:break l;default:break t}e[a+92>>2]=0,e[a+96>>2]=65792,o=e[i+12>>2],c=y[o+12|0]|y[o+13|0]<<8|(y[o+14|0]<<16|y[o+15|0]<<24),e[a+80>>2]=y[o+8|0]|y[o+9|0]<<8|(y[o+10|0]<<16|y[o+11|0]<<24),e[a+84>>2]=c,S[a+88|0]=y[o+16|0],c=y[o+4|0]|y[o+5|0]<<8|(y[o+6|0]<<16|y[o+7|0]<<24),e[a+72>>2]=y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),e[a+76>>2]=c,e[a+120>>2]=0,e[a+112>>2]=0,e[a+116>>2]=0,o=e[g+40>>2],$E(25068,o,e[g+44>>2]-o|0,a+72|0,a+112|0,_);l:{if((g|0)==(v|0))break l;if(c=g+28|0,L=y[c+11|0],p=L<<24>>24,o=v+28|0,S[o+11|0]>=0){if((p|0)>=0){p=e[c+4>>2],e[o>>2]=e[c>>2],e[o+4>>2]=p,e[o+8>>2]=e[c+8>>2];break l}Er(o,e[g+28>>2],e[g+32>>2]);break l}M=o,o=(p|0)<0,So(M,o?e[g+28>>2]:c,o?e[g+32>>2]:L)}if(o=e[g+12>>2],e[_>>2]=e[g+8>>2],e[_+4>>2]=o,e[_+16>>2]=e[g+24>>2],o=e[g+20>>2],e[_+8>>2]=e[g+16>>2],e[_+12>>2]=o,o=e[a+112>>2],c=e[a+116>>2],(o|0)==(c|0))break i;for(;;){l:{if(e[o+12>>2]==-1){p=S[o+35|0],L=e[o+24>>2],e[a+24>>2]=e[g+24>>2],x=e[g+20>>2],e[a+16>>2]=e[g+16>>2],e[a+20>>2]=x,x=e[g+12>>2],e[a+8>>2]=e[g+8>>2],e[a+12>>2]=x,e[a>>2]=(p|0)<0?L:o+24|0,Kt(i,a+8|0,9958,a);break l}p=S[o+35|0],L=e[o+24>>2],x=e[o+12>>2],e[a- -64>>2]=e[g+24>>2],V=e[g+20>>2],e[a+56>>2]=e[g+16>>2],e[a+60>>2]=V,V=e[g+12>>2],M=e[g+8>>2],e[a+32>>2]=x,e[a+48>>2]=M,e[a+52>>2]=V,e[a+36>>2]=(p|0)<0?L:o+24|0,Kt(i,a+48|0,9750,a+32|0)}if(o=o+36|0,(c|0)==(o|0))break}break n}r=Z(16),n=y[15117]|y[15118]<<8|(y[15119]<<16|y[15120]<<24),o=y[15113]|y[15114]<<8|(y[15115]<<16|y[15116]<<24),S[r+7|0]=o,S[r+8|0]=o>>>8,S[r+9|0]=o>>>16,S[r+10|0]=o>>>24,S[r+11|0]=n,S[r+12|0]=n>>>8,S[r+13|0]=n>>>16,S[r+14|0]=n>>>24,n=y[15110]|y[15111]<<8|(y[15112]<<16|y[15113]<<24),o=y[15106]|y[15107]<<8|(y[15108]<<16|y[15109]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+15|0]=0,n=Z(16),o=y[15131]|y[15132]<<8|(y[15133]<<16|y[15134]<<24),c=y[15127]|y[15128]<<8|(y[15129]<<16|y[15130]<<24),S[n+5|0]=c,S[n+6|0]=c>>>8,S[n+7|0]=c>>>16,S[n+8|0]=c>>>24,S[n+9|0]=o,S[n+10|0]=o>>>8,S[n+11|0]=o>>>16,S[n+12|0]=o>>>24,o=y[15126]|y[15127]<<8|(y[15128]<<16|y[15129]<<24),c=y[15122]|y[15123]<<8|(y[15124]<<16|y[15125]<<24),S[n|0]=c,S[n+1|0]=c>>>8,S[n+2|0]=c>>>16,S[n+3|0]=c>>>24,S[n+4|0]=o,S[n+5|0]=o>>>8,S[n+6|0]=o>>>16,S[n+7|0]=o>>>24,S[n+13|0]=0,c=Z(24),e[a+72>>2]=c,o=c+24|0,e[a+80>>2]=o,Ni(c,r,15),Ni(c+12|0,n,13),e[a+76>>2]=o,o=Cn(i,a+72|0,0),S[c+23|0]<0&&P(e[c+12>>2]),S[c+11|0]<0&&P(e[c>>2]),P(c),P(n),P(r),F[e[e[v>>2]+4>>2]](v);break e}uN(_,g+8|0);break t}o=e[a+112>>2]}if(!o)break t;if(p=o,c=e[a+116>>2],(c|0)!=(o|0)){for(;p=c-36|0,S[p+35|0]<0&&P(e[c-12>>2]),c=p,(c|0)!=(o|0););p=e[a+112>>2]}e[a+116>>2]=o,P(p)}if(r&&(o=e[r+4>>2]-e[r>>2]>>2,c=y[v+39|0],(c<<24>>24<0?e[v+32>>2]:c)&&(e[a+88>>2]=e[_+16>>2],c=e[_+12>>2],e[a+80>>2]=e[_+8>>2],e[a+84>>2]=c,c=e[_+4>>2],e[a+72>>2]=e[_>>2],e[a+76>>2]=c,e[a+92>>2]=o,r=r+12|0,gn(a+112|0,r,v+28|0,a+72|0),ln(r,e[a+112>>2])),e[i+4>>2]=o),i=e[n>>2],e[n>>2]=v,o=0,!i)break e;F[e[e[i>>2]+4>>2]](i)}return g&&F[e[e[g>>2]+4>>2]](g),b=a+128|0,o}function rN(i,r,n,o,a,c,g){var p=0,_=0,v=0,L=0,x=0;p=b-192|0,b=p;e:{t:{if(_=e[r+36>>2],L=e[r+24>>2],_>>>0>=L>>>0)break t;i:{for(;;){if(!(y[y[_|0]+51313|0]&g))break t;if(v=_+1|0,e[r+36>>2]=v,v>>>0>=L>>>0)break i;n:{x=y[v|0];s:{if((x|0)==95){_=_+2|0,e[r+36>>2]=_;break s}if(!(y[x+51313|0]&g))break n;_=v}if(_>>>0<L>>>0)continue;break t}break}if(y[v|0]!=46||(v=_+2|0,e[r+36>>2]=v,n=52,v>>>0>=L>>>0)||(_=y[y[v|0]+51313|0]&g,!_))break i;n:{if(!_){_=v;break n}for(;;){_=v+1|0,e[r+36>>2]=_;s:{if(_>>>0<L>>>0){if(x=y[_|0],(x|0)==95){_=v+2|0,e[r+36>>2]=_;break s}v=x+1|0}else v=0;if(y[v+51312|0]&g)break s;v=_;break i}if(_>>>0>=L>>>0)break n;if(v=_,!(y[y[_|0]+51313|0]&g))break}}n:{if(_>>>0>=L>>>0)break n;for(n=L-_|0,v=0;;){if(!(S[y[_|0]+51313|0]&1))break n;if(_=_+1|0,e[r+36>>2]=_,v=v+1|0,(n|0)==(v|0))break}}c=e[r+8>>2],o=y[r+15|0],a=e[r+28>>2],g=e[r+4>>2],n=e[r+32>>2],e[p+176>>2]=e[r+16>>2],v=n-a|0,e[p+180>>2]=((v|0)>0?v:0)+1,a=_-a|0,a=((a|0)>0?a:0)+1|0,e[p+184>>2]=a,e[p+144>>2]=a,a=e[p+180>>2],e[p+136>>2]=e[p+176>>2],e[p+140>>2]=a,e[p+152>>2]=n,e[p+156>>2]=_-n,n=o<<24>>24<0,e[p+172>>2]=n?c:o,e[p+168>>2]=n?g:r+4|0,r=e[p+156>>2],e[p+120>>2]=e[p+152>>2],e[p+124>>2]=r,r=e[p+172>>2],e[p+128>>2]=e[p+168>>2],e[p+132>>2]=r,Qo(i,p+128|0,124,p+120|0);break e}if(!(y[v|0]!=(c|0)&y[v|0]!=(a|0)|v>>>0>=L>>>0)){_=v+1|0,e[r+36>>2]=_;i:{if(_>>>0>=L>>>0)break i;n:switch(y[_|0]-43|0){case 0:case 2:break n;default:break i}_=v+2|0,e[r+36>>2]=_}i:{n:{if(_>>>0>=L>>>0)break n;for(;;){if(!(y[y[_|0]+51313|0]&8))break n;v=_+1|0,e[r+36>>2]=v;s:{if(v>>>0<L>>>0){if(n=y[v|0],(n|0)==95){_=_+2|0,e[r+36>>2]=_;break s}n=n+1|0}else n=0;if(!(y[n+51312|0]&8))break i;_=v}if(!(_>>>0<L>>>0))break}}n:{if(_>>>0>=L>>>0)break n;for(n=L-_|0,v=0;;){if(!(S[y[_|0]+51313|0]&1))break n;if(_=_+1|0,e[r+36>>2]=_,v=v+1|0,(n|0)==(v|0))break}}c=e[r+8>>2],o=y[r+15|0],a=e[r+28>>2],g=e[r+4>>2],n=e[r+32>>2],e[p+176>>2]=e[r+16>>2],v=n-a|0,e[p+180>>2]=((v|0)>0?v:0)+1,a=_-a|0,a=((a|0)>0?a:0)+1|0,e[p+184>>2]=a,e[p- -64>>2]=a,a=e[p+180>>2],e[p+56>>2]=e[p+176>>2],e[p+60>>2]=a,e[p+152>>2]=n,e[p+156>>2]=_-n,n=o<<24>>24<0,e[p+172>>2]=n?c:o,e[p+168>>2]=n?g:r+4|0,r=e[p+156>>2],e[p+40>>2]=e[p+152>>2],e[p+44>>2]=r,r=e[p+172>>2],e[p+48>>2]=e[p+168>>2],e[p+52>>2]=r,Qo(i,p+48|0,124,p+40|0);break e}n=52}i:{if(v>>>0>=L>>>0){_=v;break i}c=L-v|0,a=0;n:{for(;;){if(!(S[y[v|0]+51313|0]&1))break n;if(v=v+1|0,e[r+36>>2]=v,a=a+1|0,(c|0)==(a|0))break}a=c}if(_=v,a)break t}if((n|0)==52){g=e[r+8>>2],a=y[r+15|0],c=e[r+28>>2],v=e[r+4>>2],n=e[r+32>>2],e[p+176>>2]=e[r+16>>2],L=n-c|0,e[p+180>>2]=((L|0)>0?L:0)+1,c=_-c|0,c=((c|0)>0?c:0)+1|0,e[p+184>>2]=c,e[p+88>>2]=c,c=a,a=a<<24>>24<0,e[p+172>>2]=a?g:c,e[p+168>>2]=a?v:r+4|0,e[p+160>>2]=_-n,r=e[p+180>>2],e[p+80>>2]=e[p+176>>2],e[p+84>>2]=r,e[p+156>>2]=n,e[p+152>>2]=o,r=e[p+172>>2],e[p+72>>2]=e[p+168>>2],e[p+76>>2]=r,sp(i,p+72|0,52,p+152|0);break e}g=e[r+8>>2],a=y[r+15|0],c=e[r+28>>2],v=e[r+4>>2],o=e[r+32>>2],e[p+176>>2]=e[r+16>>2],L=o-c|0,e[p+180>>2]=((L|0)>0?L:0)+1,c=_-c|0,c=((c|0)>0?c:0)+1|0,e[p+184>>2]=c,e[p+112>>2]=c,c=a,a=a<<24>>24<0,e[p+172>>2]=a?g:c,e[p+168>>2]=a?v:r+4|0,e[p+160>>2]=_-o,r=e[p+180>>2],e[p+104>>2]=e[p+176>>2],e[p+108>>2]=r,e[p+156>>2]=o,e[p+152>>2]=0,r=e[p+172>>2],e[p+96>>2]=e[p+168>>2],e[p+100>>2]=r,sp(i,p+96|0,n,p+152|0);break e}t:{if(_>>>0>=L>>>0)break t;for(n=L-_|0,v=0;;){if(!(S[y[_|0]+51313|0]&1))break t;if(_=_+1|0,e[r+36>>2]=_,v=v+1|0,(n|0)==(v|0))break}}c=e[r+8>>2],o=y[r+15|0],a=e[r+28>>2],g=e[r+4>>2],n=e[r+32>>2],e[p+176>>2]=e[r+16>>2],v=n-a|0,e[p+180>>2]=((v|0)>0?v:0)+1,a=_-a|0,a=((a|0)>0?a:0)+1|0,e[p+184>>2]=a,e[p+32>>2]=a,a=e[p+180>>2],e[p+24>>2]=e[p+176>>2],e[p+28>>2]=a,e[p+152>>2]=n,e[p+156>>2]=_-n,n=o<<24>>24<0,e[p+172>>2]=n?c:o,e[p+168>>2]=n?g:r+4|0,r=e[p+156>>2],e[p+8>>2]=e[p+152>>2],e[p+12>>2]=r,r=e[p+172>>2],e[p+16>>2]=e[p+168>>2],e[p+20>>2]=r,Qo(i,p+16|0,124,p+8|0)}b=p+192|0}function oN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;if(n=b-608|0,b=n,o=i,ee(e[o+4>>2],24508,0),i=e[r>>2],(i|0)!=e[r+4>>2])for(;;){ee(e[o+4>>2],1030,0),c=e[o+4>>2],e[n+576>>2]=14425,ee(c,28797,n+576|0);e:{t:{i:{n:{s:{r:{l:{u:{a:switch(c=H(v,68)+i|0,e[c+20>>2]+17|0){case 14:break u;case 15:break a;case 16:break t;case 12:break n;case 0:break s;case 1:break r;case 13:break l;default:break i}i=e[o+4>>2],e[n+80>>2]=25406,ee(i,28384,n+80|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+64>>2]=13721,ee(i,28797,n- -64|0),i=e[o+4>>2],a=e[c+40>>2],e[n+48>>2]=e[c+36>>2],e[n+52>>2]=a,ee(i,27986,n+48|0);break e}i=e[o+4>>2],e[n+160>>2]=25687,ee(i,28384,n+160|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+144>>2]=13721,ee(i,28797,n+144|0),i=e[o+4>>2];u:switch(e[c+52>>2]){case 0:e[n+96>>2]=e[c+36>>2],ee(i,27999,n+96|0);break e;case 2:e[n+112>>2]=24233,ee(i,28384,n+112|0);break e;case 1:break u;default:break e}e[n+128>>2]=12187,ee(i,28384,n+128|0);break e}i=e[o+4>>2],e[n+240>>2]=25441,ee(i,28384,n+240|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+224>>2]=13721,ee(i,28797,n+224|0),i=e[o+4>>2];l:switch(e[c+52>>2]){case 0:a=e[c+40>>2],e[n+176>>2]=e[c+36>>2],e[n+180>>2]=a,ee(i,27986,n+176|0);break e;case 2:e[n+192>>2]=24233,ee(i,28384,n+192|0);break e;case 1:break l;default:break e}e[n+208>>2]=12187,ee(i,28384,n+208|0);break e}if(i=e[o+4>>2],e[n+288>>2]=13248,ee(i,28384,n+288|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+272>>2]=13721,ee(i,28797,n+272|0),i=e[o+4>>2],c=e[c+36>>2],(c|0)==-1){ee(i,28395,0);break e}e[n+256>>2]=c,ee(i,27993,n+256|0);break e}if(i=e[o+4>>2],e[n+336>>2]=13238,ee(i,28384,n+336|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+320>>2]=13721,ee(i,28797,n+320|0),i=e[o+4>>2],c=e[c+36>>2],(c|0)==-1){ee(i,28395,0);break e}e[n+304>>2]=c,ee(i,27993,n+304|0);break e}for(i=e[o+4>>2],e[n+560>>2]=25249,ee(i,28384,n+560|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+544>>2]=13924,ee(i,28797,n+544|0),i=e[c+32>>2],e[n+584>>2]=e[c+28>>2],e[n+588>>2]=i,i=n+592|0,ci(i,n+584|0),a=e[o+4>>2],e[n+528>>2]=S[n+603|0]<0?e[n+592>>2]:i,ee(a,28384,n+528|0),S[n+603|0]<0&&P(e[n+592>>2]),i=0,ee(e[o+4>>2],28838,0),a=e[o+4>>2],e[n+512>>2]=13721,ee(a,28797,n+512|0),ee(e[o+4>>2],24508,0),p=c+36|0;;){if(a=e[c+28>>2],a>>>0<=4294967288||(a=a+7|0,!(123>>>a&1)))break i;if(nt[(a<<2)+48228>>2]<=i>>>0){ee(e[o+4>>2],24467,0);break e}n:{s:{r:{l:{u:{a:{c:{o:switch(a|0){case 0:a=e[o+4>>2],e[n+368>>2]=Yn[(i<<1)+p>>1],ee(a,27999,n+368|0);break n;case 6:a=e[o+4>>2],e[n+384>>2]=e[(i<<2)+p>>2],ee(a,27999,n+384|0);break n;case 5:a=e[o+4>>2],g=(i<<3)+p|0,_=e[g+4>>2],e[n+400>>2]=e[g>>2],e[n+404>>2]=_,ee(a,27986,n+400|0);break n;case 4:if(g=i<<2,_=e[g+p>>2],i>>>0<4)break c;a=e[o+4>>2];break s;case 3:if(a=(i<<3)+p|0,g=e[a>>2],_=e[a+4>>2],i>>>0<4)break a;a=e[o+4>>2];break u;case 1:break o;default:break i}a=e[o+4>>2],e[n+352>>2]=y[i+p|0],ee(a,27999,n+352|0);break n}switch(a=e[o+4>>2],e[(c+g|0)+52>>2]){case 0:break s;case 2:break r;case 1:break l;default:break n}}a=e[o+4>>2];a:switch(e[(c+(i<<2)|0)+52>>2]){case 1:e[n+496>>2]=12187,ee(a,28384,n+496|0);break n;case 0:break u;case 2:break a;default:break n}e[n+480>>2]=24233,ee(a,28384,n+480|0);break n}e[n+464>>2]=g,e[n+468>>2]=_,ee(a,27986,n+464|0);break n}e[n+448>>2]=12187,ee(a,28384,n+448|0);break n}e[n+432>>2]=24233,ee(a,28384,n+432|0);break n}e[n+416>>2]=_,ee(a,27999,n+416|0)}if(a=e[c+28>>2],a>>>0<=4294967288||(a=a+7|0,!(123>>>a&1)))break i;e[(a<<2)+48256>>2]!=(i|0)&&ee(e[o+4>>2],28838,0),i=i+1|0}}Be(),Ie()}i=e[o+4>>2],e[n+32>>2]=25651,ee(i,28384,n+32|0),ee(e[o+4>>2],28838,0),i=e[o+4>>2],e[n+16>>2]=13721,ee(i,28797,n+16|0),i=e[o+4>>2],e[n>>2]=e[c+36>>2],ee(i,27999,n)}if(ee(e[o+4>>2],1024,0),i=e[r>>2],c=(e[r+4>>2]-i|0)/68|0,(c-1|0)!=(v|0)&&(ee(e[o+4>>2],28838,0),i=e[r>>2],c=(e[r+4>>2]-i|0)/68|0),v=v+1|0,!(c>>>0>v>>>0))break}ee(e[o+4>>2],24467,0),b=n+608|0}function lN(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=Ft(0),X=0,se=0,pe=Ft(0),De=0,He=0,Xe=0,at=0;if(p=e[i+4>>2],pe=Ft(e[i+12>>2]+1>>>0),j=In[i+16>>2],!(!(pe>Ft(j*Ft(p>>>0)))&&p)){a=2,o=(p-1&p)!=0|p>>>0<3|p<<1,j=Ft(Bc(Ft(pe/j)));e:{if(j<Ft(4294967296)&j>=Ft(0)){g=~~j>>>0;break e}g=0}g=o>>>0>g>>>0?o:g;e:{if((g|0)==1)break e;if(!(g&g-1)){a=g;break e}a=Vc(g),p=e[i+4>>2]}e:{if(a>>>0<=p>>>0){if(a>>>0>=p>>>0)break e;o=p>>>0<3,j=Ft(Bc(Ft(Ft(nt[i+12>>2])/In[i+16>>2])));t:{if(j<Ft(4294967296)&j>=Ft(0)){g=~~j>>>0;break t}g=0}if(o|rs(p)>>>0>1?g=Vc(g):g=g>>>0<2?g:1<<32-Gi(g-1|0),a=a>>>0>g>>>0?a:g,p>>>0<=a>>>0)break e}g=0,p=0,L=a;t:{if(a){if(L>>>0<1073741824){if(o=Z(L<<2),a=e[i>>2],e[i>>2]=o,a&&P(a),e[i+4>>2]=L,o=0,L-1>>>0>=3)for(c=L&-4;a=o<<2,e[a+e[i>>2]>>2]=0,e[e[i>>2]+(a|4)>>2]=0,e[e[i>>2]+(a|8)>>2]=0,e[e[i>>2]+(a|12)>>2]=0,o=o+4|0,p=p+4|0,(c|0)!=(p|0););if(a=L&3,a)for(;e[e[i>>2]+(o<<2)>>2]=0,o=o+1|0,g=g+1|0,(a|0)!=(g|0););if(_=e[i+8>>2],!_)break t;a=i+8|0,x=e[_+4>>2],o=rs(L);i:{if(o>>>0<=1){x=L-1&x;break i}if(L>>>0>x>>>0)break i;x=(x>>>0)%(L>>>0)|0}if(e[e[i>>2]+(x<<2)>>2]=a,g=e[_>>2],!g)break t;for(De=L-1|0,He=o>>>0>1;;){o=e[g+4>>2];i:{if(!He){o=o&De;break i}if(o>>>0<L>>>0)break i;o=(o>>>0)%(L>>>0)|0}i:{if((o|0)==(x|0)){_=g;break i}n:{s:{r:{if(se=o<<2,a=se+e[i>>2]|0,e[a>>2]){if(o=e[g>>2],!o){a=g;break s}if(M=y[g+19|0],a=M<<24>>24,c=(a|0)<0,v=c?e[g+12>>2]:M,V=g+8|0,c){a=y[o+19|0],p=a<<24>>24<0,c=p?e[o+12>>2]:a;l:{if(v){if((c|0)!=(v|0)){a=g;break n}M=o+8|0,V=e[V>>2],a=g;break l}if(a=g,c)break n;for(;;){if(a=o,o=e[o>>2],!o)break s;if(c=y[o+19|0],!!(c<<24>>24<0?e[o+12>>2]:c))break}break n}for(;;){if(c=o,En(V,p&1?e[o+8>>2]:M,v))break n;if(o=e[c>>2],o){if(M=o+8|0,a=c,c=y[o+19|0],p=c<<24>>24<0,(v|0)!=((p?e[o+12>>2]:c)|0))break n;continue}break}a=c;break s}if(!a)break r;for(a=g;;){if(c=o,p=y[o+19|0],X=p<<24>>24<0,(v|0)!=((X?e[o+12>>2]:p)|0))break n;if(p=M,o=c+8|0,X=X?e[o>>2]:o,o=V,y[X|0]!=y[o|0]){o=c;break n}l:{for(;;){if(p=p-1|0,!p)break l;if(Xe=y[X+1|0],at=y[o+1|0],o=o+1|0,X=X+1|0,(Xe|0)!=(at|0))break}o=c;break n}if(a=c,o=e[a>>2],!o)break}break s}e[a>>2]=_,_=g,x=o;break i}if(a=g,c=y[o+19|0],(v|0)!=((c<<24>>24<0?e[o+12>>2]:c)|0))break n;for(;;){if(a=o,o=e[o>>2],!o)break s;if(c=y[o+19|0],(v|0)!=((c<<24>>24<0?e[o+12>>2]:c)|0))break}break n}o=0}e[_>>2]=o,e[a>>2]=e[e[e[i>>2]+se>>2]>>2],e[e[e[i>>2]+se>>2]>>2]=g}if(g=e[_>>2],!g)break}break t}Be(),Ie()}a=e[i>>2],e[i>>2]=0,a&&P(a),e[i+4>>2]=0}}p=e[i+4>>2]}a=p-1&r,g=rs(p);e:{if(g>>>0<=1||(a=r,p>>>0>a>>>0))break e;a=(r>>>0)%(p>>>0)|0}if(L=a,i=e[e[i>>2]+(a<<2)>>2],!i)return 0;a=0,c=y[n+11|0],_=c<<24>>24<0,o=_?e[n>>2]:n,M=_?e[n+4>>2]:c;e:{if(g>>>0<=1){for(V=p-1|0;;){if(g=i,i=e[i>>2],!i||(c=e[i+4>>2],(L|0)!=(c&V)))break e;_=a,n=0;t:{if((r|0)!=(c|0)||(a=y[i+19|0],c=a<<24>>24,(M|0)!=(((c|0)<0?e[i+12>>2]:a)|0)))break t;if(p=i+8|0,x=e[p>>2],v=(c|0)<0,!v){if(!c){n=1;break t}if(c=o,y[o|0]!=(x&255))break t;for(;;){if(a=a-1|0,n=!a,!a)break t;if(x=y[c+1|0],v=y[p+1|0],p=p+1|0,c=c+1|0,(x|0)!=(v|0))break}break t}if(!M){n=1;break t}n=!En(v?x:p,o,M)}if(a=n|_,!!(_&(n^1)))break}break e}for(;;){if(g=i,i=e[i>>2],!i||(c=e[i+4>>2],n=c,c>>>0>=p>>>0&&(n=(c>>>0)%(p>>>0)|0),(n|0)!=(L|0)))break e;x=a,n=0;t:{if((r|0)!=(c|0)||(a=y[i+19|0],_=a<<24>>24,(M|0)!=(((_|0)<0?e[i+12>>2]:a)|0)))break t;c=i+8|0,V=e[c>>2];i:{if(v=(_|0)<0,!v){if(_)break i;n=1;break t}if(!M){n=1;break t}n=!En(v?V:c,o,M);break t}if(_=o,y[o|0]!=(V&255))break t;for(;;){if(a=a-1|0,n=!a,!a)break t;if(V=y[_+1|0],v=y[c+1|0],c=c+1|0,_=_+1|0,(v|0)!=(V|0))break}}if(a=n|x,(x&(n^1))==1)break}}return g}function aN(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;x=o;e:{t:{i:{n:{s:switch(i|0){case 2:if(L=y[r|0],o=(L|0)==45,r=((o|(L|0)==43)+r|0)+2|0,n>>>0<=r>>>0)break t;r:{l:{for(;;){i=y[r|0];u:{if((i|0)==46){g=1;break u}if((i|0)==95)break u;_=i<<24>>24,i=_-48|0;a:{if(i>>>0<10)break a;if(_-97>>>0<=5){i=_-87|0;break a}if(_-65>>>0>5)break l;i=_-55|0}if(_=Gi(c),((_|0)==32?Gi(a)+32|0:_)>>>0>=11){p=g?p-4|0:p,_=i,i=c<<4|a>>>28,a=a<<4,c=_+a|0,i=a>>>0>c>>>0?i+1|0:i,a=c,c=i;break u}p=g?p:p+4|0,v=v&255?v:i?1:v}if(r=r+1|0,!(n>>>0>r>>>0))break}if(r=0,a|c)break r;break t}if(!(a|c))break t;o=0,i=r+2|0,_=i,i=y[r+1|0],g=(i|0)==43,i=(i|0)==45,r=i||g?_:r+1|0;l:{if(n>>>0<=r>>>0)break l;for(g=i?0-p|0:g?p:0;;){if(_=S[r|0],(_|0)!=95&&(o=(_+H(o,10)|0)-48|0,(g+o|0)>1023))break l;if(r=r+1|0,(n|0)==(r|0))break}}r=i?0-o|0:o}if(i=Gi(c),n=(i|0)==32?Gi(a)+32|0:i,i=n,r=r+(p-i|0)|0,o=r- -64|0,r=r+63|0,(r|0)<=-1023){r:{if(i>>>0<=11){i=11-n|0,g=i&31,(i&63)>>>0>=32?(i=-1<<g,g=0):(i=(1<<g)-1&-1>>>32-g,g=-1<<g,i=i|g),v=((g^-1)&a|(i^-1)&c)!=0|v,i=12-n|0,n=i&31,(i&63)>>>0>=32?(i=0,a=c>>>n|0):(i=c>>>n|0,a=((1<<n)-1&c)<<32-n|a>>>n),c=i;break r}if((i|0)==12)break r;i=n-12|0,n=i,i=i&31,(n&63)>>>0>=32?(c=a<<i,a=0):(c=(1<<i)-1&a>>>32-i|c<<i,a=a<<i)}r:{if(r>>>0<4294966221||((r|0)!=-1023&&(r=c,n=-1023-o|0,i=n,g=i&31,(i&63)>>>0>=32?(i=1<<g,p=0):(p=1<<g,i=p-1&1>>>32-g),_=p,g=i,_=p,p=n&31,(n&63)>>>0>=32?(i=-1<<p,n=0):(n=-1<<p,i=n|(1<<p)-1&-1>>>32-p),i=(((n^-1)&a|(i^-1)&c)!=0|v)&255,n=i?_:0,p=i?g:0,M=n,n=-1022-o|0,i=n&31,i=((n&63)>>>0>=32?c>>>i|0:((1<<i)-1&c)<<32-i|a>>>i)&1,c=i?_:M,o=c+a|0,i=(i?g:p)+r|0,i=o>>>0<c>>>0?i+1|0:i,r=i,c=o,o=n&31,(n&63)>>>0>=32?(i=0,a=r>>>o|0):(i=r>>>o|0,a=((1<<o)-1&r)<<32-o|c>>>o),c=i&1048575),!(a|c)))break r;r=a,i=((L|0)==45)<<31|c;break e}r=0,i=((L|0)==45)<<31;break e}r:{if(i>>>0<=10){g=c,i=10-n|0,p=i&31,M=a,(i&63)>>>0>=32?(i=1<<p,_=0):(_=1<<p,i=_-1&1>>>32-p),p=a,n=11-n|0,a=n&31,a=((n&63)>>>0>=32?c>>>a|0:((1<<a)-1&c)<<32-a|p>>>a)&1,p=v&255,v=p||a?_:0,c=M+v|0,i=(p||a?i:0)+g|0,i=c>>>0<v>>>0?i+1|0:i,g=c,a=n&31,(n&63)>>>0>=32?(c=0,a=i>>>a|0):(c=i>>>a|0,a=((1<<a)-1&i)<<32-a|g>>>a),r=c>>>0>2097151?o:r;break r}if((i|0)==11)break r;o=a,i=n-11|0,n=i,i=i&31,(n&63)>>>0>=32?(c=o<<i,a=0):(c=(1<<i)-1&o>>>32-i|c<<i,a=o<<i)}if(i=1,(r|0)>1023)break n;n=c&1048575|((L|0)==45)<<31,i=r+1023<<20,r=a,i=i|n;break e;case 3:return i=y[r|0]==45,e[o>>2]=i&0,e[o+4>>2]=i?-1048576:2146435072,0;case 4:if(i=y[r|0],g=(i|0)==45,r=(g|(i|0)==43)+r|0,(r+3|0)==(n|0)){c=524288;break i}if(r=r+6|0,i=1,n>>>0<=r>>>0)break n;for(;;){r:{if(i=S[r|0],(i|0)==95)break r;p=i-48|0;l:{if(p>>>0<10)break l;if(i-97>>>0<=5){p=i-87|0;break l}if(i-65>>>0>5)return 1;p=i-55|0}if(i=c<<4|a>>>28,a=a<<4,c=a+p|0,i=a>>>0>c>>>0?i+1|0:i,a=c,c=i,(i|0)==1048575|i>>>0<1048575)break r;return 1}if(r=r+1|0,!(n>>>0>r>>>0))break}if(a|c)break i;return 1;default:Be(),Ie();case 0:case 1:break s}i=b-16|0,c=i,b=i,a=n-r|0,i=i-(a+16&-16)|0,b=i,g=i;s:{if((r|0)==(n|0))break s;if(x=(r^-1)+n|0,a=a&3,a)for(;v=y[r|0],(v|0)!=95&&(S[g|0]=v,g=g+1|0),r=r+1|0,p=p+1|0,(a|0)!=(p|0););if(x>>>0<3)break s;for(;a=y[r|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),a=y[r+1|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),a=y[r+2|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),a=y[r+3|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),r=r+4|0,(n|0)!=(r|0););}S[g|0]=0,r=1,n=b-16|0,b=n,JE(n,i,c+12|0,1),i=n,V=WN(e[i>>2],e[i+4>>2],e[i+8>>2],e[i+12>>2]),b=i+16|0,b=c+16|0,V==-jf|V==jf|e[c+12>>2]!=(g|0)||(B0[o>>3]=V,r=0),i=r}return i}return e[o>>2]=a,e[o+4>>2]=(g?-1048576:2146435072)|c,0}r=0,i=o<<31}return e[x>>2]=r,e[x+4>>2]=i,0}function iQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;c=b-32|0,b=c,S[c+24|0]=y[r+16|0],a=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[c+16>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[c+20>>2]=a,a=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[c+8>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[c+12>>2]=a,S[c+25|0]=0,v=Z(8),e[c>>2]=0,o=b-96|0,b=o,nR(o,i,n,c+8|0),a=b-32|0,b=a,g=Z(376),p=pn(g,0,212),i=p,e[i+216>>2]=0,e[i+220>>2]=0,e[i+212>>2]=1065353216,e[i+224>>2]=0,e[i+228>>2]=0,e[i+236>>2]=0,e[i+240>>2]=0,e[i+232>>2]=1065353216,e[i+244>>2]=0,e[i+248>>2]=0,e[i+256>>2]=0,e[i+260>>2]=0,e[i+252>>2]=1065353216,e[i+264>>2]=0,e[i+268>>2]=0,e[i+276>>2]=0,e[i+280>>2]=0,e[i+272>>2]=1065353216,e[i+284>>2]=0,e[i+288>>2]=0,e[i+296>>2]=0,e[i+300>>2]=0,e[i+292>>2]=1065353216,e[i+304>>2]=0,e[i+308>>2]=0,e[i+312>>2]=1065353216,e[i+316>>2]=0,e[i+320>>2]=0,e[i+324>>2]=0,e[i+328>>2]=0,e[i+336>>2]=0,e[i+340>>2]=0,e[i+332>>2]=1065353216,e[i+344>>2]=0,e[i+348>>2]=0,e[i+352>>2]=1065353216,e[i+356>>2]=0,e[i+360>>2]=0,e[i+364>>2]=0,e[i+368>>2]=0,e[i+372>>2]=1065353216;e:{t:{i:{n:{if((we(o,0)|0)!=26||(we(o,1)|0)!=28)break n;if(e[a+16>>2]=0,r=sN(o,0,a+16|0),i=e[a+16>>2],(r|0)==1){i&&F[e[e[i>>2]+4>>2]](i),n=1;break t}if(uN(p,i+8|0),!i)break i;F[e[e[i>>2]+4>>2]](i);break i}r=we(o,0),i=we(o,1);n:{if((r|0)!=26)break n;s:switch(i-11|0){default:if((i|0)!=128)break n;break;case 1:case 2:case 3:case 5:case 8:case 9:case 12:case 13:case 14:case 15:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 31:case 33:break n;case 0:case 4:case 6:case 7:case 10:case 11:case 16:case 30:case 32:case 34:break s}if(n=1,(Ak(o,p)|0)!=1)break i;break t}(we(o,0)|0)==26&&(r=e[o+92>>2]&1,i=o+H(r,36)|0,e[i+32>>2]=0,e[i+36>>2]=0,e[i+24>>2]=0,e[i+28>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[o+92>>2]=!r,e[o+88>>2]=e[o+88>>2]-1),i=Z(16),r=y[16052]|y[16053]<<8|(y[16054]<<16|y[16055]<<24),n=y[16048]|y[16049]<<8|(y[16050]<<16|y[16051]<<24),S[i+6|0]=n,S[i+7|0]=n>>>8,S[i+8|0]=n>>>16,S[i+9|0]=n>>>24,S[i+10|0]=r,S[i+11|0]=r>>>8,S[i+12|0]=r>>>16,S[i+13|0]=r>>>24,r=y[16046]|y[16047]<<8|(y[16048]<<16|y[16049]<<24),n=y[16042]|y[16043]<<8|(y[16044]<<16|y[16045]<<24),S[i|0]=n,S[i+1|0]=n>>>8,S[i+2|0]=n>>>16,S[i+3|0]=n>>>24,S[i+4|0]=r,S[i+5|0]=r>>>8,S[i+6|0]=r>>>16,S[i+7|0]=r>>>24,S[i+14|0]=0,r=Z(24),e[a+16>>2]=r,_=r+24|0,e[a+24>>2]=_,Ni(r,i,14),S[r+20|0]=0,e[r+12>>2]=1869422689,e[r+16>>2]=1701606756,n=Yn[a+14>>1],S[r+23|0]=8,S[r+21|0]=n,S[r+22|0]=n>>>8,e[a+20>>2]=_,Cn(o,a+16|0,0),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r),P(i)}if(n=1,(Ve(o,16)|0)==1||(i=e[o+8>>2],e[i+4>>2]!=e[i>>2]))break t;if(g=e[c>>2],e[c>>2]=p,n=0,!g)break e}P(kh(g))}b=a+32|0,a=n,i=e[o+88>>2];e:{if(!i)break e;if(g=o+16|0,p=i-1|0,n=e[o+92>>2],_=i&3,_)for(x=n+1|0;r=g+H(i+x&1,36)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,i=i-1|0,L=L+1|0,(_|0)!=(L|0););if(p>>>0<3)break e;for(r=i+n&1,n=g+H(r,36)|0,r=g+H(!r,36)|0;e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,i=i-4|0,!!i;);}return b=o+96|0,e[v>>2]=(a|0)==1,e[v+4>>2]=e[c>>2],b=c+32|0,v|0}function cN(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=Ft(0),j=0;v=o;e:{t:{i:{n:{s:switch(i|0){case 2:if(p=y[r|0],L=(p|0)==45,r=((L|(p|0)==43)+r|0)+2|0,n>>>0<=r>>>0)break t;r:{l:{for(;;){i=y[r|0];u:{if((i|0)==46){g=1;break u}if((i|0)==95)break u;o=i<<24>>24,i=o-48|0;a:{if(i>>>0<10)break a;if(o-97>>>0<=5){i=o-87|0;break a}if(o-65>>>0>5)break l;i=o-55|0}if(a>>>0<=16777215){c=g?c-4|0:c,a=(a<<4)+i|0;break u}c=g?c:c+4|0,_=_&255?_:i?1:_}if(r=r+1|0,!(n>>>0>r>>>0))break}if(i=0,a)break r;break t}if(!a)break t;o=0,i=r+2|0,M=i,i=y[r+1|0],g=(i|0)==43,i=(i|0)==45,r=i||g?M:r+1|0;l:{if(n>>>0<=r>>>0)break l;for(g=i?0-c|0:g?c:0;;){if(L=S[r|0],(L|0)!=95&&(o=(L+H(o,10)|0)-48|0,(g+o|0)>127))break l;if(r=r+1|0,(n|0)==(r|0))break}}i=i?0-o|0:o}if(n=Gi(a),i=i+(c-n|0)|0,o=i+32|0,r=i+31|0,(r|0)<=-127){r:{if(a>>>0>=8388608){_=((-1<<8-n^-1)&a)!=0|_,c=a>>>9-n|0;break r}if(c=a,(n|0)==9)break r;c=a<<n-9}r:{if(r>>>0<4294967146||((r|0)!=-127&&(i=-127-o|0,r=1<<i,n=(((-1<<i^-1)&c)!=0|_)&255?r:0,i=-126-o|0,c=(c>>>i&1?r:n)+c>>>i&8388607),!c))break r;i=((p|0)==45)<<31|c;break e}i=((p|0)==45)<<31;break e}r:{if(a>>>0>=16777216){i=1<<7-n,c=i,i=8-n|0,a=(_&255||a>>>i&1?c:0)+a>>>i|0,r=a>>>0>16777215?o:r;break r}if((n|0)==8)break r;a=a<<n-8}if(i=1,(r|0)>127)break n;i=(r<<23)+1065353216|(a&8388607|((p|0)==45)<<31);break e;case 3:return e[o>>2]=y[r|0]==45?-8388608:2139095040,0;case 4:if(i=y[r|0],g=(i|0)==45,r=(g|(i|0)==43)+r|0,(r+3|0)==(n|0)){a=4194304;break i}if(r=r+6|0,i=1,n>>>0<=r>>>0)break n;for(;;){r:{if(i=S[r|0],(i|0)==95)break r;c=i-48|0;l:{if(c>>>0<10)break l;if(i-97>>>0<=5){c=i-87|0;break l}if(i-65>>>0>5)return 1;c=i-55|0}if(a=(a<<4)+c|0,a>>>0<=8388607)break r;return 1}if(r=r+1|0,!(n>>>0>r>>>0))break}if(a)break i;return 1;default:Be(),Ie();case 0:case 1:break s}i=b-16|0,M=i,b=i,a=n-r|0,i=i-(a+16&-16)|0,b=i,g=i;s:{if((r|0)==(n|0))break s;if(v=(r^-1)+n|0,a=a&3,a)for(;_=y[r|0],(_|0)!=95&&(S[g|0]=_,g=g+1|0),r=r+1|0,c=c+1|0,(a|0)!=(c|0););if(v>>>0<3)break s;for(;a=y[r|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),a=y[r+1|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),a=y[r+2|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),a=y[r+3|0],(a|0)!=95&&(S[g|0]=a,g=g+1|0),r=r+4|0,(n|0)!=(r|0););}S[g|0]=0,r=1,_=b-16|0,b=_,JE(_,i,M+12|0,0),p=e[_>>2],L=e[_+4>>2],i=e[_+12>>2],n=i,v=b-32|0,b=v,i=i&2147483647,c=i,x=i-1065418752|0,i=i-1082064896|0,a=e[_+8>>2];s:{if((x|0)==(i|0)&a>>>0<a>>>0|i>>>0>x>>>0){if(c=(n&33554431)<<7|a>>>25,i=0,j=i,x=a&33554431,!(!i&(x|0)==16777216?!(p|L):!i&x>>>0<16777216)){i=c+1073741825|0;break s}if(i=c+1073741824|0,x^16777216|p|(L|j))break s;i=(c&1)+i|0;break s}if(!(!a&(c|0)==2147418112?!(p|L):c>>>0<2147418112)){i=((n&33554431)<<7|a>>>25)&4194303|2143289344;break s}if(i=2139095040,c>>>0>1082064895||(i=0,c=c>>>16|0,c>>>0<16145))break s;if(i=n&65535|65536,Dr(v+16|0,p,L,a,i,c-16129|0),Ih(v,p,L,a,i,16257-c|0),p=e[v+8>>2],i=(e[v+12>>2]&33554431)<<7|p>>>25,x=e[v>>2]|(e[v+16>>2]|e[v+24>>2]|(e[v+20>>2]|e[v+28>>2]))!=0,L=e[v+4>>2],c=0,p=p&33554431,!(!c&(p|0)==16777216?!(x|L):!c&p>>>0<16777216)){i=i+1|0;break s}if(p^16777216|x|(c|L))break s;i=(i&1)+i|0}b=v+32|0,b=_+16|0,b=M+16|0,V=(m2(2,n&-2147483648|i),QE()),V==Ft(-jf)|V==Ft(jf)|e[M+12>>2]!=(g|0)||(In[o>>2]=V,r=0),i=r}return i}return e[o>>2]=(g?-8388608:2139095040)|a,0}i=L<<31}return e[v>>2]=i,0}function wk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;e:for(;;){for(L=r-8|0,g=r-4|0;;){t:{i:{n:{s:{r:{l:switch(n=r-i|0,o=n>>2,o|0){case 0:case 1:break t;case 5:break n;case 4:break s;case 3:break r;case 2:break l;default:break i}if(o=r-4|0,r=e[o>>2],g=e[r+20>>2],n=e[i>>2],c=e[n+20>>2],(g|0)>=(c|0)&((c|0)!=(g|0)|e[r+24>>2]>=e[n+24>>2]))break t;e[i>>2]=r,e[o>>2]=n;return}Zc(i,i+4|0,r-4|0);return}if(Zc(i,i+4|0,i+8|0),o=r-4|0,r=e[o>>2],g=e[r+20>>2],n=e[i+8>>2],c=e[n+20>>2],(g|0)>=(c|0)&((c|0)!=(g|0)|e[r+24>>2]>=e[n+24>>2])||(e[i+8>>2]=r,e[o>>2]=n,r=e[i+8>>2],o=e[r+20>>2],n=e[i+4>>2],g=e[n+20>>2],(o|0)>=(g|0)&((o|0)!=(g|0)|e[r+24>>2]>=e[n+24>>2]))||(e[i+8>>2]=n,e[i+4>>2]=r,o=e[r+20>>2],n=e[i>>2],g=e[n+20>>2],(o|0)>=(g|0)&((o|0)!=(g|0)|e[r+24>>2]>=e[n+24>>2])))break t;e[i+4>>2]=n,e[i>>2]=r;return}Dk(i,i+4|0,i+8|0,i+12|0,r-4|0);break t}if((n|0)<=123){if(n=i+8|0,Zc(i,i+4|0,n),c=i+12|0,(c|0)==(r|0))break t;for(;;){if(a=e[c>>2],g=e[a+20>>2],o=e[n>>2],L=e[o+20>>2],!((g|0)>=(L|0)&((g|0)!=(L|0)|e[a+24>>2]>=e[o+24>>2]))){e[c>>2]=o,o=i;i:{if((i|0)==(n|0))break i;for(;;){n:{if(p=e[a+20>>2],g=n-4|0,L=e[g>>2],_=e[L+20>>2],(p|0)<(_|0))break n;if(o=n,(p|0)!=(_|0))break i;if(e[a+24>>2]<e[L+24>>2])break n;o=n;break i}if(e[n>>2]=L,n=g,(n|0)==(i|0))break}o=i}e[o>>2]=a}if(n=c,c=n+4|0,(c|0)==(r|0))break}break t}p=((o|0)/2<<2)+i|0;i:{if(n>>>0>=3997){n=(o|0)/4<<2,c=Dk(i,n+i|0,p,n+p|0,g);break i}c=Zc(i,p,g)}i:{n:{_=e[i>>2],n=e[_+20>>2],v=e[p>>2],a=e[v+20>>2];s:{if((n|0)<(a|0)){o=g;break s}if(!((n|0)!=(a|0)|e[_+24>>2]>=e[v+24>>2])){o=g;break s}if(o=L,(o|0)==(i|0))break n;for(;;){if(x=e[o>>2],M=e[x+20>>2],!((M|0)<(a|0)|(a|0)==(M|0)&e[x+24>>2]<e[v+24>>2])){if(o=o-4|0,(o|0)!=(i|0))continue;break n}break}e[i>>2]=x,e[o>>2]=_,c=c+1|0}s:{if(n=i+4|0,o>>>0<=n>>>0)break s;for(;;){for(x=e[p>>2],_=e[x+20>>2];;){if(M=e[n>>2],a=e[M+20>>2],!((a|0)>=(_|0)&((a|0)!=(_|0)|e[M+24>>2]>=e[x+24>>2]))){n=n+4|0;continue}break}o=o-4|0,a=e[o>>2],v=e[a+20>>2];r:{if((_|0)>(v|0))break r;for(;;){if((_|0)==(v|0)&e[a+24>>2]<e[x+24>>2])break r;if(o=o-4|0,a=e[o>>2],v=e[a+20>>2],!((_|0)<=(v|0)))break}}if(n>>>0>o>>>0)break s;e[n>>2]=a,e[o>>2]=M,p=(n|0)==(p|0)?o:p,n=n+4|0,c=c+1|0}}s:{if((n|0)==(p|0)||(o=e[p>>2],_=e[o+20>>2],a=e[n>>2],v=e[a+20>>2],(_|0)>=(v|0)&((_|0)!=(v|0)|e[o+24>>2]>=e[a+24>>2])))break s;e[n>>2]=o,e[p>>2]=a,c=c+1|0}if(!c){if(c=DN(i,n),a=n+4|0,DN(a,r)){if(r=n,!c)continue e;break t}if(o=2,c)break i}if((n-i|0)<(r-n|0)){wk(i,n),i=n+4|0;continue}wk(n+4|0,r),r=n;continue e}a=i+4|0;n:{if(o=e[g>>2],c=e[o+20>>2],(c|0)>(n|0)|(n|0)==(c|0)&e[_+24>>2]<e[o+24>>2])break n;if((a|0)==(g|0))break t;for(;;){if(c=e[a>>2],p=e[c+20>>2],!((p|0)<=(n|0)&((n|0)!=(p|0)|e[_+24>>2]>=e[c+24>>2]))){e[a>>2]=o,e[g>>2]=c,a=a+4|0;break n}if(a=a+4|0,(g|0)==(a|0))break}break t}if(c=g,(a|0)==(c|0))break t;for(;;){o=e[a>>2],v=e[o+20>>2],p=e[i>>2],n=e[p+20>>2];n:{if((v|0)>(n|0))break n;for(;;){if(!((n|0)!=(v|0)|e[p+24>>2]>=e[o+24>>2]))break n;if(o=e[a+4>>2],a=a+4|0,v=e[o+20>>2],!((n|0)>=(v|0)))break}}for(;c=c-4|0,_=e[c>>2],v=e[_+20>>2],!!((v|0)>(n|0)|(n|0)==(v|0)&e[p+24>>2]<e[_+24>>2]););if(a>>>0<c>>>0){e[a>>2]=_,e[c>>2]=o,a=a+4|0;continue}break}o=4}if(i=a,(o|0)==4|(o|0)==2)continue}break}break}}function nQ(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;e:{if(o){if((o|0)<0)break e;c=Z(o),v=Ce(c,n,o)+o|0}if(o=Z(56),a=e[i+60>>2],n=e[i+64>>2],e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+28>>2]=0,e[o+32>>2]=15,e[o+52>>2]=v,e[o+48>>2]=v,e[o+44>>2]=c,e[o+36>>2]=a,e[o+40>>2]=n,e[o>>2]=46524,e[o+20>>2]=r,n=e[i+40>>2],r=(e[i+56>>2]+e[i+52>>2]|0)-1|0,i=(r>>>0)/146|0,a=e[n+(i<<2)>>2]+H(r-H(i,146)|0,28)|0,g=a+4|0,r=e[a+24>>2],i=r+e[a+20>>2]|0,n=e[a+12>>2],c=e[a+8>>2],(i|0)==(((n|0)==(c|0)?0:(n-c<<8)-1|0)|0)){p=b-32|0,b=p;t:{i:{n:{s:{if(i=e[g+16>>2],i>>>0>=1024){e[g+16>>2]=i-1024,i=e[g+4>>2],x=e[i>>2],c=i+4|0,e[g+4>>2]=c,i=e[g+8>>2];r:{if((i|0)!=e[g+12>>2]){n=i;break r}if(_=e[g>>2],_>>>0<c>>>0){a=i-c|0,r=((c-_>>2)+1|0)/-2<<2,n=r+c|0,(i|0)!=(c|0)&&(wl(n,c,a),c=e[g+4>>2]),n=n+a|0,e[g+8>>2]=n,e[g+4>>2]=r+c;break r}if(n=(i|0)==(_|0)?1:i-_>>1,n>>>0>=1073741824)break s;r=n<<2,L=Z(r),M=r+L|0,r=L+(n&-4)|0,n=r;l:{if((i|0)==(c|0))break l;i=i-c|0,V=i&-4,v=i-4|0,a=(v>>>2|0)+1&7;u:{if(!a){i=r;break u}for(n=0,i=r;e[i>>2]=e[c>>2],c=c+4|0,i=i+4|0,n=n+1|0,(a|0)!=(n|0););}if(n=r+V|0,v>>>0<28)break l;for(;e[i>>2]=e[c>>2],e[i+4>>2]=e[c+4>>2],e[i+8>>2]=e[c+8>>2],e[i+12>>2]=e[c+12>>2],e[i+16>>2]=e[c+16>>2],e[i+20>>2]=e[c+20>>2],e[i+24>>2]=e[c+24>>2],e[i+28>>2]=e[c+28>>2],c=c+32|0,i=i+32|0,(n|0)!=(i|0););}if(e[g+12>>2]=M,e[g+8>>2]=n,e[g+4>>2]=r,e[g>>2]=L,!_)break r;P(_),n=e[g+8>>2]}e[n>>2]=x,e[g+8>>2]=e[g+8>>2]+4;break t}if(i=e[g+8>>2],n=i-e[g+4>>2]>>2,c=e[g+12>>2],a=e[g>>2],r=c-a|0,n>>>0<r>>2>>>0){if((i|0)!=(c|0)){j=p,X=Z(4096),e[j+8>>2]=X,zN(g,p+8|0);break t}j=p,X=Z(4096),e[j+8>>2]=X,GN(g,p+8|0),i=e[g+4>>2],x=e[i>>2],c=i+4|0,e[g+4>>2]=c,i=e[g+8>>2];r:{if((i|0)!=e[g+12>>2]){n=i;break r}if(_=e[g>>2],_>>>0<c>>>0){a=i-c|0,r=((c-_>>2)+1|0)/-2<<2,n=r+c|0,(i|0)!=(c|0)&&(wl(n,c,a),c=e[g+4>>2]),n=n+a|0,e[g+8>>2]=n,e[g+4>>2]=r+c;break r}if(n=(i|0)==(_|0)?1:i-_>>1,n>>>0>=1073741824)break s;r=n<<2,L=Z(r),M=r+L|0,r=L+(n&-4)|0,n=r;l:{if((i|0)==(c|0))break l;i=i-c|0,V=i&-4,v=i-4|0,a=(v>>>2|0)+1&7;u:{if(!a){i=r;break u}for(n=0,i=r;e[i>>2]=e[c>>2],c=c+4|0,i=i+4|0,n=n+1|0,(a|0)!=(n|0););}if(n=r+V|0,v>>>0<28)break l;for(;e[i>>2]=e[c>>2],e[i+4>>2]=e[c+4>>2],e[i+8>>2]=e[c+8>>2],e[i+12>>2]=e[c+12>>2],e[i+16>>2]=e[c+16>>2],e[i+20>>2]=e[c+20>>2],e[i+24>>2]=e[c+24>>2],e[i+28>>2]=e[c+28>>2],c=c+32|0,i=i+32|0,(n|0)!=(i|0););}if(e[g+12>>2]=M,e[g+8>>2]=n,e[g+4>>2]=r,e[g>>2]=L,!_)break r;P(_),n=e[g+8>>2]}e[n>>2]=x,e[g+8>>2]=e[g+8>>2]+4;break t}if(e[p+24>>2]=g+12,i=(a|0)==(c|0)?1:r>>1,i>>>0>=1073741824)break s;if(r=i<<2,a=Z(r),e[p+8>>2]=a,i=a+(n<<2)|0,e[p+16>>2]=i,e[p+20>>2]=r+a,e[p+12>>2]=i,j=p,X=Z(4096),e[j+4>>2]=X,zN(p+8|0,p+4|0),c=e[g+8>>2],(c|0)==e[g+4>>2]){i=c;break i}for(;c=c-4|0,GN(p+8|0,c),e[g+4>>2]!=(c|0););break n}Be(),Ie()}i=e[g+8>>2]}if(n=e[g>>2],e[g>>2]=e[p+8>>2],e[p+8>>2]=n,e[g+4>>2]=e[p+12>>2],e[p+12>>2]=c,e[g+8>>2]=e[p+16>>2],e[p+16>>2]=i,r=e[g+12>>2],e[g+12>>2]=e[p+20>>2],e[p+20>>2]=r,(i|0)!=(c|0)&&(e[p+16>>2]=i+((c-i|0)+3&-4)),!n)break t;P(n)}b=p+32|0,c=e[g+4>>2],r=e[g+20>>2],i=r+e[g+16>>2]|0}return e[e[(i>>>8&16777212)+c>>2]+((i&1023)<<2)>>2]=o,e[g+20>>2]=r+1,0}Be(),Ie()}function sQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;a=e[r+36>>2],o=e[r+40>>2]-a>>3,L=b-96|0,b=L,e[L+24>>2]=23,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],g=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=g,g=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=g,g=y[n+116|0],g&&(xe(L+32|0,L+24|0),e[L+16>>2]=e[L+32>>2],Ye(n,r,9809,L+16|0)),V=(g|0)!=0;e:{if(o>>>0>=2){e[L>>2]=o,r=(Ye(n,r,26290,L)|0)==1|V;break e}e[L+40>>2]=0,e[L+32>>2]=0,e[L+36>>2]=0,o&&(r=o<<3,o=Z(r),e[L+32>>2]=o,g=r+o|0,e[L+40>>2]=g,Ce(o,a,r),e[L+36>>2]=g),g=b-80|0,b=g,_=1,a=n+24|0,c=e[a+40>>2],o=e[a+36>>2];t:{if((c|0)==(o|0)){e[g+48>>2]=0,e[g+52>>2]=-1,xt(a,27759,g+48|0),o=e[a+36>>2],c=e[a+40>>2],r=1;break t}if(n=e[a+24>>2],p=e[a+28>>2]-n>>3,r=H(((c-o|0)/36|0)-1|0,36)+o|0,p>>>0<=nt[r+28>>2]){r=!y[r+32|0];break t}r=e[(n+(p<<3)|0)-8>>2]-1>>>0<4294967294}t:{if((o|0)==(c|0)){e[g+32>>2]=0,e[g+36>>2]=-1,xt(a,27759,g+32|0),o=e[a+36>>2],c=e[a+40>>2],n=-1,p=0,v=1;break t}if(n=-1,p=e[a+24>>2],x=e[a+28>>2]-p>>3,v=H(((c-o|0)/36|0)-1|0,36)+o|0,x>>>0<=e[v+28>>2]+1>>>0){p=0,v=y[v+32|0]^1;break t}n=(p+(x<<3)|0)-16|0,v=e[n+4>>2],p=e[n>>2],n=v,v=0}v=r|(v|0)==1;t:{if((o|0)==(c|0)){e[g+16>>2]=0,e[g+20>>2]=-1,xt(a,27759,g+16|0),x=-1,o=0;break t}if(x=-1,r=H(((c-o|0)/36|0)-1|0,36)+o|0,o=e[a+24>>2],c=e[a+28>>2]-o>>3,e[r+28>>2]+2>>>0>=c>>>0){_=y[r+32|0]^1,o=0;break t}r=(o+(c<<3)|0)-24|0,c=e[r+4>>2],o=e[r>>2],x=c,_=0}M=v|(_|0)==1,r=e[L+32>>2];t:{i:{if((r|0)==e[L+36>>2]){if(v=0,r=-1,c=p+21|0,1<<c&49&&c>>>0<=5||(c=o+21|0,1<<c&49&&c>>>0<=5))break i;c=0,r=n,v=p,_=0;n:{if(!o||(_=0,!p)||(_=(n|0)!=(x|0),!((o|0)!=-21|(p|0)!=-21)))break n;_=(o|0)!=(p|0)}if(_|M)break i;break t}v=e[r+4>>2],_=0,r=e[r>>2],c=0;n:{if(!r||(c=0,!p)||(c=(n|0)!=(v|0),!((r|0)!=-21|(p|0)!=-21)))break n;c=(r|0)!=(p|0)}n=c|M;n:{if(!r|!o)break n;if(!((r|0)!=-21|(o|0)!=-21)){_=(v|0)!=(x|0);break n}_=(r|0)!=(o|0)}if(c=0,v=0,r=-1,(n|_)!=1)break t}n=Z(24),e[g+64>>2]=n,o=n+24|0,e[g+72>>2]=o,e[n+16>>2]=-1,e[n+20>>2]=-1,e[n+8>>2]=v,e[n+12>>2]=r,e[n>>2]=v,e[n+4>>2]=r,e[g+68>>2]=o,c=1,p2(a,1,7141,g- -64|0,0),P(n)}n=e[a+40>>2],o=e[a+36>>2];t:{if((n|0)==(o|0)){e[g>>2]=0,e[g+4>>2]=-1,xt(a,27759,g),o=1;break t}if(x=e[a+28>>2],M=e[a+24>>2],p=x-M>>3,_=((n-o|0)/36|0)-1|0,n=e[(o+H(_,36)|0)+28>>2],p>>>0<n+3>>>0){i:{if(n>>>0>p>>>0){ys(a+24|0,n-p|0);break i}if(n>>>0>=p>>>0)break i;e[a+28>>2]=M+(n<<3)}o=!y[(o+H(_,36)|0)+32|0];break t}e[a+28>>2]=x-24,o=0}t:{i:{n:{if((v|0)==-64)break n;if(n=e[a+28>>2],(n|0)!=e[a+32>>2]){e[n>>2]=v,e[n+4>>2]=r,e[a+28>>2]=n+8;break n}if(_=e[a+24>>2],p=n-_|0,M=p>>3,n=M+1|0,n>>>0>=536870912)break i;if(x=p>>2,x=p>>>0<2147483640?n>>>0<x>>>0?x:n:536870911,x){if(x>>>0>=536870912)break i;n=Z(x<<3)}else n=0;if(M=n+(M<<3)|0,e[M>>2]=v,e[M+4>>2]=r,(p|0)>0&&Ce(n,_,p),e[a+32>>2]=n+(x<<3),e[a+28>>2]=M+8,e[a+24>>2]=n,!_)break n;P(_)}b=g+80|0,r=o|c;break t}Be(),Ie()}n=(r|0)==1,r=e[L+32>>2],r&&(e[L+36>>2]=r,P(r)),r=n|V}return b=L+96|0,n=i,i=e[i+316>>2]==1|(r|0)==1,e[n+316>>2]=i,i|0}function ql(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;v=b-48|0,b=v,p=-1;e:{t:{i:{n:{s:{r:{l:{u:switch(L=e[r+36>>2],e[L+28>>2]){case 4:break n;case 3:break s;case 2:break r;case 1:break l;case 0:break u;default:break t}g=L+32|0,n=e[i+80>>2],a=e[i+76>>2],_=n-a|0,p=_>>2,o=e[i+84>>2];u:{if(o>>>0>n>>>0){e[n>>2]=g,e[i+80>>2]=n+4;break u}if(n=p+1|0,n>>>0>=1073741824)break e;if(o=o-a|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=n+(p<<2)|0,e[c>>2]=g,(_|0)>0&&Ce(n,a,_),e[i+84>>2]=n+(o<<2),e[i+80>>2]=c+4,e[i+76>>2]=n,!a)break u;P(a)}a=i+48|0,n=i+216|0;break i}g=L+32|0,n=e[i+140>>2],a=e[i+136>>2],_=n-a|0,p=_>>2,o=e[i+144>>2];l:{if(o>>>0>n>>>0){e[n>>2]=g,e[i+140>>2]=n+4;break l}if(n=p+1|0,n>>>0>=1073741824)break e;if(o=o-a|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=n+(p<<2)|0,e[c>>2]=g,(_|0)>0&&Ce(n,a,_),e[i+144>>2]=n+(o<<2),e[i+140>>2]=c+4,e[i+136>>2]=n,!a)break l;P(a)}a=i+52|0,n=i+296|0;break i}g=L+32|0,n=e[i+164>>2],a=e[i+160>>2],_=n-a|0,p=_>>2,o=e[i+168>>2];r:{if(o>>>0>n>>>0){e[n>>2]=g,e[i+164>>2]=n+4;break r}if(n=p+1|0,n>>>0>=1073741824)break e;if(o=o-a|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=n+(p<<2)|0,e[c>>2]=g,(_|0)>0&&Ce(n,a,_),e[i+168>>2]=n+(o<<2),e[i+164>>2]=c+4,e[i+160>>2]=n,!a)break r;P(a)}a=i+56|0,n=i+316|0;break i}g=L+32|0,n=e[i+92>>2],a=e[i+88>>2],_=n-a|0,p=_>>2,o=e[i+96>>2];s:{if(o>>>0>n>>>0){e[n>>2]=g,e[i+92>>2]=n+4;break s}if(n=p+1|0,n>>>0>=1073741824)break e;if(o=o-a|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=n+(p<<2)|0,e[c>>2]=g,(_|0)>0&&Ce(n,a,_),e[i+96>>2]=n+(o<<2),e[i+92>>2]=c+4,e[i+88>>2]=n,!a)break s;P(a)}a=i+60|0,n=i+236|0;break i}g=L+32|0,n=e[i+68>>2],a=e[i+64>>2],_=n-a|0,p=_>>2,o=e[i+72>>2];n:{if(o>>>0>n>>>0){e[n>>2]=g,e[i+68>>2]=n+4;break n}if(n=p+1|0,n>>>0>=1073741824)break e;if(o=o-a|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=n+(p<<2)|0,e[c>>2]=g,(_|0)>0&&Ce(n,a,_),e[i+72>>2]=n+(o<<2),e[i+68>>2]=c+4,e[i+64>>2]=n,!a)break n;P(a)}a=i+44|0,n=i+196|0}e[a>>2]=e[a>>2]+1}a=y[g+11|0],(a<<24>>24<0?e[g+4>>2]:a)&&(e[v+24>>2]=e[r+28>>2],a=e[r+24>>2],e[v+16>>2]=e[r+20>>2],e[v+20>>2]=a,a=e[r+16>>2],e[v+8>>2]=e[r+12>>2],e[v+12>>2]=a,e[v+28>>2]=p,gn(v+32|0,n,g,v+8|0),ln(n,e[v+32>>2])),n=e[i+104>>2];t:{if((n|0)!=e[i+108>>2]){e[n>>2]=L,e[i+104>>2]=n+4;break t}if(p=e[i+100>>2],g=n-p|0,o=g>>2,n=o+1|0,n>>>0>=1073741824)break e;if(a=g>>1,a=g>>>0<2147483644?n>>>0<a>>>0?a:n:1073741823,a){if(a>>>0>=1073741824)break e;n=Z(a<<2)}else n=0;if(o=n+(o<<2)|0,e[o>>2]=L,(g|0)>0&&Ce(n,p,g),e[i+108>>2]=n+(a<<2),e[i+104>>2]=o+4,e[i+100>>2]=n,!p)break t;P(p)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=v+48|0;return}Be(),Ie()}function P(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;e:{if(!i)break e;o=i-8|0,r=e[i-4>>2],i=r&-8,c=o+i|0;t:{if(r&1)break t;if(!(r&3)||(r=e[o>>2],o=o-r|0,o>>>0<nt[98223]))break e;if(i=i+r|0,e[98224]!=(o|0)){if(r>>>0<=255){if(a=e[o+8>>2],r=r>>>3|0,n=e[o+12>>2],(n|0)==(a|0)){_=392876,v=e[98219]&x2(r),e[_>>2]=v;break t}e[a+12>>2]=n,e[n+8>>2]=a;break t}p=e[o+24>>2],r=e[o+12>>2];i:{if((o|0)!=(r|0)){n=e[o+8>>2],e[n+12>>2]=r,e[r+8>>2]=n;break i}n:{if(a=o+20|0,n=e[a>>2],n||(a=o+16|0,n=e[a>>2],n))break n;r=0;break i}for(;g=a,r=n,a=r+20|0,n=e[a>>2],!(!n&&(a=r+16|0,n=e[r+16>>2],!n)););e[g>>2]=0}if(!p)break t;a=e[o+28>>2],n=(a<<2)+393180|0;i:{if(e[n>>2]==(o|0)){if(e[n>>2]=r,r)break i;_=392880,v=e[98220]&x2(a),e[_>>2]=v;break t}if(e[p+(e[p+16>>2]==(o|0)?16:20)>>2]=r,!r)break t}if(e[r+24>>2]=p,n=e[o+16>>2],n&&(e[r+16>>2]=n,e[n+24>>2]=r),n=e[o+20>>2],!n)break t;e[r+20>>2]=n,e[n+24>>2]=r;break t}if(r=e[c+4>>2],(r&3)!=3)break t;e[98221]=i,e[c+4>>2]=r&-2,e[o+4>>2]=i|1,e[i+o>>2]=i;return}if(o>>>0>=c>>>0||(r=e[c+4>>2],!(r&1)))break e;t:{if(!(r&2)){if(e[98225]==(c|0)){if(e[98225]=o,i=e[98222]+i|0,e[98222]=i,e[o+4>>2]=i|1,e[98224]!=(o|0))break e;e[98221]=0,e[98224]=0;return}if(e[98224]==(c|0)){e[98224]=o,i=e[98221]+i|0,e[98221]=i,e[o+4>>2]=i|1,e[i+o>>2]=i;return}i=(r&-8)+i|0;i:{if(r>>>0<=255){if(a=e[c+8>>2],r=r>>>3|0,n=e[c+12>>2],(n|0)==(a|0)){_=392876,v=e[98219]&x2(r),e[_>>2]=v;break i}e[a+12>>2]=n,e[n+8>>2]=a;break i}p=e[c+24>>2],r=e[c+12>>2];n:{if((c|0)!=(r|0)){n=e[c+8>>2],e[n+12>>2]=r,e[r+8>>2]=n;break n}s:{if(a=c+20|0,n=e[a>>2],n||(a=c+16|0,n=e[a>>2],n))break s;r=0;break n}for(;g=a,r=n,a=r+20|0,n=e[a>>2],!(!n&&(a=r+16|0,n=e[r+16>>2],!n)););e[g>>2]=0}if(!p)break i;a=e[c+28>>2],n=(a<<2)+393180|0;n:{if(e[n>>2]==(c|0)){if(e[n>>2]=r,r)break n;_=392880,v=e[98220]&x2(a),e[_>>2]=v;break i}if(e[p+(e[p+16>>2]==(c|0)?16:20)>>2]=r,!r)break i}if(e[r+24>>2]=p,n=e[c+16>>2],n&&(e[r+16>>2]=n,e[n+24>>2]=r),n=e[c+20>>2],!n)break i;e[r+20>>2]=n,e[n+24>>2]=r}if(e[o+4>>2]=i|1,e[i+o>>2]=i,e[98224]!=(o|0))break t;e[98221]=i;return}e[c+4>>2]=r&-2,e[o+4>>2]=i|1,e[i+o>>2]=i}if(i>>>0<=255){i=i>>>3|0,r=(i<<3)+392916|0,n=e[98219],i=1<<i;t:{if(!(n&i)){e[98219]=i|n,i=r;break t}i=e[r+8>>2]}e[r+8>>2]=o,e[i+12>>2]=o,e[o+12>>2]=r,e[o+8>>2]=i;return}a=31,i>>>0<=16777215&&(r=i>>>8|0,g=r+1048320>>>16&8,r=r<<g,a=r+520192>>>16&4,r=r<<a,n=r+245760>>>16&2,r=(r<<n>>>15|0)-(n|(a|g))|0,a=(r<<1|i>>>r+21&1)+28|0),e[o+28>>2]=a,e[o+16>>2]=0,e[o+20>>2]=0,g=(a<<2)+393180|0;t:{i:{n=e[98220],r=1<<a;n:{if(!(n&r)){e[98220]=r|n,e[g>>2]=o,e[o+24>>2]=g;break n}for(a=i<<((a|0)==31?0:25-(a>>>1|0)|0),r=e[g>>2];;){if(n=r,(e[r+4>>2]&-8)==(i|0))break i;if(r=a>>>29|0,a=a<<1,g=n+(r&4)|0,r=e[g+16>>2],!r)break}e[g+16>>2]=o,e[o+24>>2]=n}e[o+12>>2]=o,e[o+8>>2]=o;break t}i=e[n+8>>2],e[i+12>>2]=o,e[n+8>>2]=o,e[o+24>>2]=0,e[o+12>>2]=n,e[o+8>>2]=i}i=e[98227]-1|0,e[98227]=i||-1}}function wo(i,r,n,o,a,c,g,p,_){var v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0;v=b-112|0,b=v,L=_&2147483647,x=a&2147483647,M=x;e:{t:{if(X=!(r|n),!(o|x?x-2147418112>>>0<2147549184:X)&&(V=L-2147418112|0,!p&(V|0)==-2147418112?c|g:(V|0)==-2147418112&(p|0)!=0|V>>>0>2147549184))break t;if(!(!o&(M|0)==2147418112?X:M>>>0<2147418112)){p=o,_=a|32768,c=r,g=n;break e}if(!(!p&(L|0)==2147418112?!(c|g):L>>>0<2147418112)){_=_|32768;break e}if(!(r|o|(M^2147418112|n))){M=o,o=!(r^c|o^p|(n^g|a^_^-2147483648)),p=o?0:M,_=o?2147450880:a,c=o?0:r,g=o?0:n;break e}if(!(c|p|(L^2147418112|g)))break e;if(!(r|o|(n|M))){if(c|p|(g|L))break e;c=r&c,g=n&g,p=o&p,_=a&_;break e}if(c|p|(g|L))break t;c=r,g=n,p=o,_=a;break e}x=(L|0)==(M|0),L=x&(o|0)==(p|0)?(n|0)==(g|0)&r>>>0<c>>>0|n>>>0<g>>>0:x&o>>>0<p>>>0|L>>>0>M>>>0,j=L?c:r,x=L?g:n,M=L?_:a,pe=M,se=L?p:o,V=M&65535,a=L?a:_,De=a,p=L?o:p,M=a>>>16&32767,X=pe>>>16&32767,X||(o=!(V|se),a=o<<6,_=Gi(o?j:se)+32|0,o=Gi(o?x:V),o=a+((o|0)==32?_:o)|0,Dr(v+96|0,j,x,se,V,o-15|0),se=e[v+104>>2],V=e[v+108>>2],j=e[v+96>>2],X=16-o|0,x=e[v+100>>2]),c=L?r:c,g=L?n:g,_=De&65535,M||(r=!(p|_),n=r<<6,o=Gi(r?c:p)+32|0,r=Gi(r?g:_),r=n+((r|0)==32?o:r)|0,Dr(v+80|0,c,g,p,_,r-15|0),M=16-r|0,p=e[v+88>>2],_=e[v+92>>2],g=e[v+84>>2],c=e[v+80>>2]),r=p,L=_<<3|r>>>29,o=r<<3|g>>>29,a=L|524288,r=se,n=V<<3|r>>>29,p=r<<3|x>>>29,_=n,r=c,n=g<<3|r>>>29,r=r<<3,g=pe^De;t:{if((M|0)==(X|0))break t;if(c=X-M|0,c>>>0>127){o=0,a=0,r=1,n=0;break t}Dr(v- -64|0,r,n,o,a,128-c|0),Ih(v+48|0,r,n,o,a,c),r=e[v+48>>2]|(e[v+64>>2]|e[v+72>>2]|(e[v+68>>2]|e[v+76>>2]))!=0,n=e[v+52>>2],o=e[v+56>>2],a=e[v+60>>2]}M=p,se=_|524288,c=j,L=x<<3|c>>>29,V=c<<3;t:{if((g|0)<0){if(c=0,g=0,p=0,_=0,!(r^V|o^M|(n^L|a^se)))break e;if(j=V-r|0,x=L-((r>>>0>V>>>0)+n|0)|0,c=M-o|0,r=(n|0)==(L|0)&r>>>0>V>>>0|n>>>0>L>>>0,_=(se-((o>>>0>M>>>0)+a|0)|0)-(c>>>0<r>>>0)|0,p=c-r|0,_>>>0>524287)break t;r=!(p|_),n=r<<6,o=Gi(r?j:p)+32|0,r=Gi(r?x:_),r=n+((r|0)==32?o:r)|0,r=r-12|0,Dr(v+32|0,j,x,p,_,r),X=X-r|0,p=e[v+40>>2],_=e[v+44>>2],j=e[v+32>>2],x=e[v+36>>2];break t}if(L=n+L|0,c=r+V|0,L=c>>>0<V>>>0?L+1|0:L,j=c,x=L,c=(n|0)==(L|0)&r>>>0>c>>>0|n>>>0>L>>>0,n=a+se|0,r=o+M|0,n=r>>>0<M>>>0?n+1|0:n,o=r,r=c+r|0,p=r,_=r>>>0<o>>>0?n+1|0:n,!(_&1048576))break t;j=j&1|((x&1)<<31|j>>>1),n=p,x=n<<31|x>>>1,X=X+1|0,p=(_&1)<<31|n>>>1,_=_>>>1|0}if(o=0,a=pe&-2147483648,(X|0)>=32767){p=o,_=a|2147418112,c=0,g=0;break e}M=0;t:{if((X|0)>0){M=X;break t}Dr(v+16|0,j,x,p,_,X+127|0),Ih(v,j,x,p,_,1-X|0),j=e[v>>2]|(e[v+16>>2]|e[v+24>>2]|(e[v+20>>2]|e[v+28>>2]))!=0,x=e[v+4>>2],p=e[v+8>>2],_=e[v+12>>2]}n=p<<29,r=x>>>3|0,V=(x&7)<<29|j>>>3,x=j&7,g=x>>>0>4,c=V+g|0,r=r|n,L=c>>>0<g>>>0?r+1|0:r,n=c,g=L,r=(r|0)==(L|0)&n>>>0<V>>>0|r>>>0>L>>>0,n=o|((_&7)<<29|p>>>3),r=r+n|0,_=a|(_>>>3&65535|M<<16),_=r>>>0<n>>>0?_+1|0:_,p=r;t:{if((x|0)==4){n=g+0|0,a=c&1,r=c+a|0,n=r>>>0<c>>>0?n+1|0:n,c=r,g=n,n=(o|0)==(n|0)&r>>>0<a>>>0|n>>>0<o>>>0,r=n+p|0,_=r>>>0<n>>>0?_+1|0:_,p=r;break t}if(!x)break e}}e[i>>2]=c,e[i+4>>2]=g,e[i+8>>2]=p,e[i+12>>2]=_,b=v+112|0}function rQ(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0;a=b-112|0,b=a;e:{t:switch(r-5|0){case 5:if(g=e[o+4>>2],!g)break e;if(c=e[i+12>>2],r=e[c+64>>2],e[c+68>>2]-r>>2>>>0<=n>>>0){e[a+48>>2]=n,Yt(i,5331,a+48|0);break e}r=e[r+(n<<2)>>2],p=a+56|0,ia(p,e[o>>2],g),Ea(a+80|0,c+196|0,p),S[a+67|0]<0&&P(e[a+56>>2]);i:{if((r|0)==(a+80|0))break i;if(c=y[a+91|0],o=c<<24>>24,S[r+11|0]>=0){if((o|0)>=0){o=e[a+84>>2],e[r>>2]=e[a+80>>2],e[r+4>>2]=o,e[r+8>>2]=e[a+88>>2];break i}Er(r,e[a+80>>2],e[a+84>>2]);break i}g=r,r=(o|0)<0,So(g,r?e[a+80>>2]:a+80|0,r?e[a+84>>2]:c)}if(i=e[i+12>>2],e[a+72>>2]=0,r=a- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[a+56>>2]=0,e[a+60>>2]=0,e[a+76>>2]=n,i=i+236|0,gn(a+96|0,i,a+80|0,a+56|0),ln(i,e[a+96>>2]),S[a+91|0]>=0)break e;P(e[a+80>>2]);break e;case 2:oT(i,n,e[o>>2],e[o+4>>2]);break e;case 0:rT(i,n,e[o>>2],e[o+4>>2]);break e;case 4:if(g=e[o+4>>2],!g)break e;if(r=e[i+12>>2],c=e[r+172>>2],e[r+176>>2]-c>>2>>>0<=n>>>0){e[a+32>>2]=n,Yt(i,5193,a+32|0);break e}c=e[c+(n<<2)>>2],p=a+56|0,ia(p,e[o>>2],g),Ea(a+80|0,r+336|0,p),S[a+67|0]<0&&P(e[a+56>>2]),r=c+4|0;i:{if((r|0)==(a+80|0))break i;if(c=y[a+91|0],o=c<<24>>24,S[r+11|0]>=0){if((o|0)>=0){o=e[a+84>>2],e[r>>2]=e[a+80>>2],e[r+4>>2]=o,e[r+8>>2]=e[a+88>>2];break i}Er(r,e[a+80>>2],e[a+84>>2]);break i}g=r,r=(o|0)<0,So(g,r?e[a+80>>2]:a+80|0,r?e[a+84>>2]:c)}if(i=e[i+12>>2],e[a+72>>2]=0,r=a- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[a+56>>2]=0,e[a+60>>2]=0,e[a+76>>2]=n,i=i+336|0,gn(a+96|0,i,a+80|0,a+56|0),ln(i,e[a+96>>2]),S[a+91|0]>=0)break e;P(e[a+80>>2]);break e;case 1:if(g=e[o+4>>2],!g)break e;if(c=e[i+12>>2],r=e[c+160>>2],e[c+164>>2]-r>>2>>>0<=n>>>0){e[a+16>>2]=n,Yt(i,5137,a+16|0);break e}r=e[r+(n<<2)>>2],p=a+56|0,ia(p,e[o>>2],g),Ea(a+80|0,c+316|0,p),S[a+67|0]<0&&P(e[a+56>>2]);i:{if((r|0)==(a+80|0))break i;if(c=y[a+91|0],o=c<<24>>24,S[r+11|0]>=0){if((o|0)>=0){o=e[a+84>>2],e[r>>2]=e[a+80>>2],e[r+4>>2]=o,e[r+8>>2]=e[a+88>>2];break i}Er(r,e[a+80>>2],e[a+84>>2]);break i}g=r,r=(o|0)<0,So(g,r?e[a+80>>2]:a+80|0,r?e[a+84>>2]:c)}if(i=e[i+12>>2],e[a+72>>2]=0,r=a- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[a+56>>2]=0,e[a+60>>2]=0,e[a+76>>2]=n,i=i+316|0,gn(a+96|0,i,a+80|0,a+56|0),ln(i,e[a+96>>2]),S[a+91|0]>=0)break e;P(e[a+80>>2]);break e;case 3:break t;default:break e}if(g=e[o+4>>2],!g)break e;if(r=e[i+12>>2],c=e[r+148>>2],e[r+152>>2]-c>>2>>>0<=n>>>0){e[a>>2]=n,Yt(i,5162,a);break e}c=e[c+(n<<2)>>2],p=a+56|0,ia(p,e[o>>2],g),Ea(a+80|0,r+356|0,p),S[a+67|0]<0&&P(e[a+56>>2]),r=c+4|0;t:{if((r|0)==(a+80|0))break t;if(c=y[a+91|0],o=c<<24>>24,S[r+11|0]>=0){if((o|0)>=0){o=e[a+84>>2],e[r>>2]=e[a+80>>2],e[r+4>>2]=o,e[r+8>>2]=e[a+88>>2];break t}Er(r,e[a+80>>2],e[a+84>>2]);break t}g=r,r=(o|0)<0,So(g,r?e[a+80>>2]:a+80|0,r?e[a+84>>2]:c)}if(i=e[i+12>>2],e[a+72>>2]=0,r=a- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[a+56>>2]=0,e[a+60>>2]=0,e[a+76>>2]=n,i=i+356|0,gn(a+96|0,i,a+80|0,a+56|0),ln(i,e[a+96>>2]),S[a+91|0]>=0)break e;P(e[a+80>>2])}return b=a+112|0,0}function uN(i,r){var n=0,o=0;if(n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n,e[i+16>>2]=e[r+16>>2],n=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=n,S[i+31|0]<0&&P(e[i+20>>2]),n=e[r+24>>2],e[i+20>>2]=e[r+20>>2],e[i+24>>2]=n,e[i+28>>2]=e[r+28>>2],S[r+20|0]=0,S[r+31|0]=0,o=e[i+32>>2],o)for(;n=e[o+4>>2],F[e[e[o>>2]+4>>2]](o),o=n,!!n;);e[i+32>>2]=0,e[i+36>>2]=0,e[i+40>>2]=0,e[i+32>>2]=e[r+32>>2],e[i+36>>2]=e[r+36>>2],e[i+40>>2]=e[r+40>>2],e[r+40>>2]=0,e[r+32>>2]=0,e[r+36>>2]=0,n=e[r+56>>2],e[i+52>>2]=e[r+52>>2],e[i+56>>2]=n,e[i+60>>2]=e[r+60>>2],n=e[r+48>>2],e[i+44>>2]=e[r+44>>2],e[i+48>>2]=n,n=e[i+64>>2],n&&(e[i+68>>2]=n,P(n),e[i+72>>2]=0,e[i+64>>2]=0,e[i+68>>2]=0),e[i+64>>2]=e[r+64>>2],e[i+68>>2]=e[r+68>>2],e[i+72>>2]=e[r+72>>2],e[r+72>>2]=0,e[r+64>>2]=0,e[r+68>>2]=0,n=e[i+76>>2],n&&(e[i+80>>2]=n,P(n),e[i+84>>2]=0,e[i+76>>2]=0,e[i+80>>2]=0),e[i+76>>2]=e[r+76>>2],e[i+80>>2]=e[r+80>>2],e[i+84>>2]=e[r+84>>2],e[r+84>>2]=0,e[r+76>>2]=0,e[r+80>>2]=0,n=e[i+88>>2],n&&(e[i+92>>2]=n,P(n),e[i+96>>2]=0,e[i+88>>2]=0,e[i+92>>2]=0),e[i+88>>2]=e[r+88>>2],e[i+92>>2]=e[r+92>>2],e[i+96>>2]=e[r+96>>2],e[r+96>>2]=0,e[r+88>>2]=0,e[r+92>>2]=0,n=e[i+100>>2],n&&(e[i+104>>2]=n,P(n),e[i+108>>2]=0,e[i+100>>2]=0,e[i+104>>2]=0),e[i+100>>2]=e[r+100>>2],e[i+104>>2]=e[r+104>>2],e[i+108>>2]=e[r+108>>2],e[r+108>>2]=0,e[r+100>>2]=0,e[r+104>>2]=0,n=e[i+112>>2],n&&(e[i+116>>2]=n,P(n),e[i+120>>2]=0,e[i+112>>2]=0,e[i+116>>2]=0),e[i+112>>2]=e[r+112>>2],e[i+116>>2]=e[r+116>>2],e[i+120>>2]=e[r+120>>2],e[r+120>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,n=e[i+124>>2],n&&(e[i+128>>2]=n,P(n),e[i+132>>2]=0,e[i+124>>2]=0,e[i+128>>2]=0),e[i+124>>2]=e[r+124>>2],e[i+128>>2]=e[r+128>>2],e[i+132>>2]=e[r+132>>2],e[r+132>>2]=0,e[r+124>>2]=0,e[r+128>>2]=0,n=e[i+136>>2],n&&(e[i+140>>2]=n,P(n),e[i+144>>2]=0,e[i+136>>2]=0,e[i+140>>2]=0),e[i+136>>2]=e[r+136>>2],e[i+140>>2]=e[r+140>>2],e[i+144>>2]=e[r+144>>2],e[r+144>>2]=0,e[r+136>>2]=0,e[r+140>>2]=0,n=e[i+148>>2],n&&(e[i+152>>2]=n,P(n),e[i+156>>2]=0,e[i+148>>2]=0,e[i+152>>2]=0),e[i+148>>2]=e[r+148>>2],e[i+152>>2]=e[r+152>>2],e[i+156>>2]=e[r+156>>2],e[r+156>>2]=0,e[r+148>>2]=0,e[r+152>>2]=0,n=e[i+160>>2],n&&(e[i+164>>2]=n,P(n),e[i+168>>2]=0,e[i+160>>2]=0,e[i+164>>2]=0),e[i+160>>2]=e[r+160>>2],e[i+164>>2]=e[r+164>>2],e[i+168>>2]=e[r+168>>2],e[r+168>>2]=0,e[r+160>>2]=0,e[r+164>>2]=0,n=e[i+172>>2],n&&(e[i+176>>2]=n,P(n),e[i+180>>2]=0,e[i+172>>2]=0,e[i+176>>2]=0),e[i+172>>2]=e[r+172>>2],e[i+176>>2]=e[r+176>>2],e[i+180>>2]=e[r+180>>2],e[r+180>>2]=0,e[r+172>>2]=0,e[r+176>>2]=0,n=e[i+184>>2],n&&(e[i+188>>2]=n,P(n),e[i+192>>2]=0,e[i+184>>2]=0,e[i+188>>2]=0),e[i+184>>2]=e[r+184>>2],e[i+188>>2]=e[r+188>>2],e[i+192>>2]=e[r+192>>2],e[r+192>>2]=0,e[r+184>>2]=0,e[r+188>>2]=0,V0(i+196|0,r+196|0),V0(i+216|0,r+216|0),V0(i+236|0,r+236|0),V0(i+256|0,r+256|0),V0(i+276|0,r+276|0),V0(i+296|0,r+296|0),V0(i+316|0,r+316|0),V0(i+336|0,r+336|0),V0(i+356|0,r+356|0)}function Hc(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0;o=b-48|0,b=o;e:{if(!e[i+12>>2])break e;e[o+40>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0;t:{i:{if(p=e[i+8>>2],c=e[p>>2],c)for(i=1;;){_=i,i=1,L=y[p+19|0],V=L<<24>>24,n=(V|0)<0,g=y[c+19|0],v=g<<24>>24<0,x=n?e[p+12>>2]:L,a=c;n:{if((x|0)!=((v?e[c+12>>2]:g)|0))break n;j=c+8|0,g=v?e[j>>2]:j,v=p+8|0,M=e[v>>2];s:{if(!n){if(!V)break s;if(n=v,a=c,y[g|0]!=(M&255))break n;for(;;){if(L=L-1|0,!L)break s;if(a=y[g+1|0],x=y[n+1|0],n=n+1|0,g=g+1|0,(a|0)!=(x|0))break}a=c;break n}if(!x)break s;if(a=c,En(n?M:v,g,x))break n}s:{if(!(_&1))break s;if(i=e[o+36>>2],n=e[o+40>>2],i>>>0<n>>>0){e[i>>2]=v,e[o+36>>2]=i+4;break s}if(a=e[o+32>>2],_=i-a|0,g=_>>2,i=g+1|0,i>>>0>=1073741824)break i;if(n=n-a|0,L=n>>1,n=n>>>0<2147483644?i>>>0<L>>>0?L:i:1073741823,n){if(n>>>0>=1073741824)break i;i=Z(n<<2)}else i=0;if(g=i+(g<<2)|0,e[g>>2]=v,(_|0)>0&&Ce(i,a,_),e[o+40>>2]=i+(n<<2),e[o+36>>2]=g+4,e[o+32>>2]=i,!a)break s;P(a)}i=e[o+36>>2],n=e[o+40>>2];s:{if(i>>>0<n>>>0){e[i>>2]=j,e[o+36>>2]=i+4,i=0;break s}if(a=e[o+32>>2],v=i-a|0,_=v>>2,i=_+1|0,i>>>0>=1073741824)break i;if(n=n-a|0,g=n>>1,n=n>>>0<2147483644?i>>>0<g>>>0?g:i:1073741823,n){if(n>>>0>=1073741824)break i;i=Z(n<<2)}else i=0;if(_=i+(_<<2)|0,e[_>>2]=j,(v|0)>0&&Ce(i,a,v),e[o+40>>2]=i+(n<<2),e[o+36>>2]=_+4,e[o+32>>2]=i,i=0,!a)break s;P(a)}a=p}if(p=a,c=e[c>>2],!c)break}break t}Be(),Ie()}L=e[o+32>>2],wk(L,e[o+36>>2]),i=e[r+16>>2];t:{if(!i){e[o+24>>2]=0;break t}if((i|0)==(r|0)){i=o+8|0,e[o+24>>2]=i,F[e[e[r>>2]+12>>2]](r,i);break t}se=o,pe=F[e[e[i>>2]+8>>2]](i)|0,e[se+24>>2]=pe}j=o+8|0;t:{if(i=e[o+32>>2],v=e[o+36>>2],(i|0)==(v|0))break t;for(r=v,a=i;;){i:{n:{if((i|0)==(r|0))break n;if(_=e[a>>2],c=y[_+11|0],g=c<<24>>24<0,x=g?e[_+4>>2]:c,!x)for(;;){n=e[i>>2],c=y[n+11|0],p=c<<24>>24;s:{if((p|0)<0?e[n+4>>2]:c)break s;if((p|0)<=0){r=i;break n}if(p=g?e[_>>2]:_,y[p|0]!=y[n|0])break s;for(;;){if(c=c-1|0,!c){r=i;break n}if(x=y[p+1|0],M=y[n+1|0],n=n+1|0,p=p+1|0,(x|0)!=(M|0))break}}if(i=i+4|0,(r|0)==(i|0))break n}for(;;){n=e[i>>2],c=y[n+11|0],X=c<<24>>24,M=(X|0)<0;s:{if((x|0)!=((M?e[n+4>>2]:c)|0))break s;p=g?e[_>>2]:_,V=e[n>>2];r:{if(!M){if(X)break r;r=i;break n}if(En(V,p,x))break s;r=i;break n}if(y[p|0]!=(V&255))break s;for(;;){if(c=c-1|0,!c){r=i;break n}if(M=y[p+1|0],V=y[n+1|0],n=n+1|0,p=p+1|0,(M|0)!=(V|0))break}}if(i=i+4|0,(r|0)==(i|0))break}}if((r|0)!=(a|0)){if(i=e[j+16>>2],!i)break i;F[e[e[i>>2]+24>>2]](i,e[r>>2],e[a>>2])}if(a=a+4|0,(v|0)==(a|0))break t;r=e[o+36>>2],i=e[o+32>>2];continue}break}Nr(),Ie()}i=e[o+24>>2];t:{i:{if((j|0)==(i|0)){i=o+8|0,r=e[o+8>>2]+16|0;break i}if(!i)break t;r=e[i>>2]+20|0}F[e[r>>2]](i)}if(!L)break e;P(L)}b=o+48|0}function W0(i,r){var n=0;e:switch(e[i>>2]-6|0){case 0:case 1:case 2:case 3:case 14:return y[r|0]!=0;case 11:case 12:return y[r+8|0]!=0;case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:return y[r+2|0]!=0;case 176:case 177:case 178:case 179:case 180:return y[r+3|0]!=0;case 447:case 448:case 449:case 450:case 451:case 452:case 453:case 454:case 455:case 456:case 457:case 458:case 459:case 460:case 461:case 462:case 463:case 464:case 465:case 466:case 467:case 468:case 469:case 470:case 471:case 472:case 473:case 474:case 475:case 476:case 477:case 478:case 479:case 480:case 481:case 482:case 483:case 484:case 485:case 486:case 487:case 488:case 489:case 490:case 491:case 492:case 493:case 494:case 495:case 496:case 497:case 498:case 499:case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 508:case 509:case 510:case 511:case 512:case 513:return y[r+5|0]!=0;case 211:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:case 256:case 257:case 258:case 259:case 260:case 261:case 262:case 263:case 264:case 265:case 266:case 267:case 268:case 269:case 270:case 271:case 272:case 273:case 274:case 275:case 276:case 277:case 278:case 279:case 280:case 281:case 282:case 283:case 284:case 285:case 286:case 287:case 288:case 289:case 291:case 292:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 300:case 301:case 302:case 307:case 308:case 310:case 311:case 314:case 315:case 316:case 317:case 318:case 319:case 320:case 321:case 322:case 332:case 333:case 335:case 336:case 343:case 344:case 345:case 346:case 347:case 348:case 349:case 350:case 351:case 352:case 362:case 363:case 364:case 365:case 370:case 371:case 372:case 373:case 374:case 375:case 386:case 387:case 388:case 393:case 394:case 395:case 396:case 397:case 417:case 418:case 419:case 420:case 421:case 422:case 423:case 424:case 425:case 426:case 427:case 428:case 429:case 430:case 431:case 432:case 433:case 434:case 435:case 436:case 437:case 438:case 439:case 440:case 441:case 442:return y[r+4|0]!=0;case 196:case 197:case 198:case 199:case 200:case 201:case 202:return y[r+9|0]!=0;case 203:case 204:case 205:case 206:case 208:case 209:return y[r+10|0]!=0;case 13:return y[r+6|0]!=0;default:n=1;break;case 181:case 182:case 183:case 184:case 185:break e}return n}function vk(i,r,n){var o=0,a=0,c=0,g=0,p=0;e:{t:{i:{if(i>>>0>=r>>>0||(a=S[i|0],(a|0)<0))break i;c=a&255,g=1;break t}i:{if(i+1>>>0>=r>>>0||(a=S[i+1|0],(a|0)<0))break i;o=y[i|0]&127,i=a&255,r=i>>>25|0,c=o|i<<7,o=r,g=2;break t}i:{if(i+2>>>0>=r>>>0||(a=S[i+2|0],(a|0)<0))break i;o=y[i|0]&127,i=y[i+1|0]&127,r=i>>>25|0,o=o|i<<7,i=r,c=o,o=a&255,r=o>>>18|0,c=c|o<<14,o=i|r,g=3;break t}i:{if(i+3>>>0>=r>>>0||(a=S[i+3|0],(a|0)<0))break i;o=y[i+1|0]&127,r=o>>>25|0,g=y[i|0]&127|o<<7,o=r,i=y[i+2|0]&127,r=i>>>18|0,i=i<<14|g,o=r|o,c=i,i=a&255,r=i>>>11|0,c=c|i<<21,o=r|o,g=4;break t}i:{if(i+4>>>0>=r>>>0||(g=S[i+4|0],(g|0)<0))break i;o=y[i+1|0]&127,r=o>>>25|0,a=y[i|0]&127|o<<7,o=r,c=a,a=y[i+2|0]&127,r=a>>>18|0,a=c|a<<14,o=r|o,i=y[i+3|0]&127,r=i>>>11|0,i=i<<21|a,o=r|o,a=i,i=g&255,r=i>>>4|0,c=a|i<<28,o=r|o,g=5;break t}i:{if(i+5>>>0>=r>>>0||(g=S[i+5|0],(g|0)<0))break i;o=y[i+1|0]&127,r=o>>>25|0,a=y[i|0]&127|o<<7,o=r,c=a,a=y[i+2|0]&127,r=a>>>18|0,a=c|a<<14,c=r|o,o=y[i+3|0]&127,r=o>>>11|0,o=o<<21|a,a=r|c,i=y[i+4|0]&127,r=i>>>4|0,c=o|i<<28,o=r|a|(g&255)<<3,g=6;break t}i:{if(i+6>>>0>=r>>>0||(a=S[i+6|0],(a|0)<0))break i;p=(y[i+5|0]&127)<<3|(a&255)<<10,o=y[i+1|0]&127,r=o>>>25|0,a=y[i|0]&127|o<<7,o=r,c=a,a=y[i+2|0]&127,r=a>>>18|0,a=c|a<<14,c=r|o,o=y[i+3|0]&127,r=o>>>11|0,o=o<<21|a,a=r|c,i=y[i+4|0]&127,r=i>>>4|0,c=o|i<<28,o=r|a|p,g=7;break t}i:{if(i+7>>>0>=r>>>0||(a=S[i+7|0],(a|0)<0))break i;o=(y[i+6|0]&127)<<10,r=(a&255)<<17,g=0,p=r|o|(y[i+5|0]&127)<<3,o=y[i+1|0]&127,r=o>>>25|0,a=y[i|0]&127|o<<7,o=r,c=a,a=y[i+2|0]&127,r=a>>>18|0,a=c|a<<14,c=r|o,o=y[i+3|0]&127,r=o>>>11|0,o=o<<21|a,a=r|c,i=y[i+4|0]&127,r=i>>>4|0,c=i<<28|o|g,o=r|a|p,g=8;break t}i:{if(i+8>>>0>=r>>>0||(a=S[i+8|0],(a|0)<0))break i;o=(y[i+7|0]&127)<<17,r=(a&255)<<24,g=0,p=r|o|(y[i+6|0]&127)<<10|(y[i+5|0]&127)<<3,o=y[i+1|0]&127,r=o>>>25|0,a=y[i|0]&127|o<<7,o=r,c=a,a=y[i+2|0]&127,r=a>>>18|0,a=c|a<<14,c=r|o,o=y[i+3|0]&127,r=o>>>11|0,o=o<<21|a,a=r|c,i=y[i+4|0]&127,r=i>>>4|0,c=i<<28|o|g,o=r|a|p,g=9;break t}if(g=0,i+9>>>0>=r>>>0||(a=y[i+9|0],a&128))break t;if(a&240)break e;o=(y[i+8|0]&127)<<24,r=a<<31,p=r|o|(y[i+7|0]&127)<<17|(y[i+6|0]&127)<<10|(y[i+5|0]&127)<<3,o=y[i+1|0]&127,r=o>>>25|0,a=y[i|0]&127|o<<7,o=r,c=a,a=y[i+2|0]&127,r=a>>>18|0,a=c|a<<14,c=r|o,o=y[i+3|0]&127,r=o>>>11|0,o=o<<21|a,a=r|c,i=y[i+4|0]&127,r=i>>>4|0,c=i<<28|o|g,o=r|a|p,g=10}e[n>>2]=c,e[n+4>>2]=o}return g}function hN(i,r,n){var o=0,a=0,c=0,g=0;c=b-48|0,b=c,a=y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),o=y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),S[i|0]=o,S[i+1|0]=o>>>8,S[i+2|0]=o>>>16,S[i+3|0]=o>>>24,S[i+4|0]=a,S[i+5|0]=a>>>8,S[i+6|0]=a>>>16,S[i+7|0]=a>>>24,S[i+16|0]=y[n+16|0],a=y[n+12|0]|y[n+13|0]<<8|(y[n+14|0]<<16|y[n+15|0]<<24),o=y[n+8|0]|y[n+9|0]<<8|(y[n+10|0]<<16|y[n+11|0]<<24),S[i+8|0]=o,S[i+9|0]=o>>>8,S[i+10|0]=o>>>16,S[i+11|0]=o>>>24,S[i+12|0]=a,S[i+13|0]=a>>>8,S[i+14|0]=a>>>16,S[i+15|0]=a>>>24,e[i+48>>2]=0,e[i+52>>2]=0,e[i+40>>2]=0,e[i+20>>2]=r,e[i+56>>2]=0,e[i+60>>2]=0,r=i- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[i+72>>2]=0,r=y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),a=y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),S[i+76|0]=a,S[i+77|0]=a>>>8,S[i+78|0]=a>>>16,S[i+79|0]=a>>>24,S[i+80|0]=r,S[i+81|0]=r>>>8,S[i+82|0]=r>>>16,S[i+83|0]=r>>>24,r=y[n+12|0]|y[n+13|0]<<8|(y[n+14|0]<<16|y[n+15|0]<<24),a=y[n+8|0]|y[n+9|0]<<8|(y[n+10|0]<<16|y[n+11|0]<<24),S[i+84|0]=a,S[i+85|0]=a>>>8,S[i+86|0]=a>>>16,S[i+87|0]=a>>>24,S[i+88|0]=r,S[i+89|0]=r>>>8,S[i+90|0]=r>>>16,S[i+91|0]=r>>>24,S[i+92|0]=y[n+16|0],r=i+128|0,e[r>>2]=0,e[r+4>>2]=0,e[i+120>>2]=0,S[i+116|0]=0,e[i+104>>2]=-1,e[i+96>>2]=0,e[i+100>>2]=0,e[i+124>>2]=r,r=i+140|0,e[r>>2]=0,e[r+4>>2]=0,e[i+136>>2]=r,r=i+152|0,e[r>>2]=0,e[r+4>>2]=0,e[i+148>>2]=r,r=i+260|0,e[r>>2]=0,e[r+4>>2]=0,pn(i+160|0,0,96),n=i+272|0,e[n>>2]=0,e[n+4>>2]=0,e[i+256>>2]=r,e[i+288>>2]=0,e[i+280>>2]=0,e[i+284>>2]=0,e[i+268>>2]=n,e[c+4>>2]=i,e[c>>2]=50104,e[c+16>>2]=c,e[c+28>>2]=i,e[c+24>>2]=50104,r=c+24|0,e[c+40>>2]=r,a=b-16|0,b=a,n=i+24|0;e:{if((n|0)==(r|0))break e;if(o=e[n+16>>2],g=e[r+16>>2],(r|0)==(g|0)){if((n|0)==(o|0)){F[e[e[r>>2]+12>>2]](r,a),o=e[r+16>>2],F[e[e[o>>2]+16>>2]](o),e[r+16>>2]=0,o=e[n+16>>2],F[e[e[o>>2]+12>>2]](o,r),o=e[n+16>>2],F[e[e[o>>2]+16>>2]](o),e[n+16>>2]=0,e[r+16>>2]=r,F[e[e[a>>2]+12>>2]](a,n),F[e[e[a>>2]+16>>2]](a),e[n+16>>2]=n;break e}F[e[e[r>>2]+12>>2]](r,n),o=e[r+16>>2],F[e[e[o>>2]+16>>2]](o),e[r+16>>2]=e[n+16>>2],e[n+16>>2]=n;break e}if((n|0)==(o|0)){F[e[e[n>>2]+12>>2]](n,r),o=e[n+16>>2],F[e[e[o>>2]+16>>2]](o),e[n+16>>2]=e[r+16>>2],e[r+16>>2]=r;break e}e[r+16>>2]=o,e[n+16>>2]=g}b=a+16|0,n=e[c+40>>2];e:{t:{if((r|0)==(n|0)){n=c+24|0,r=e[c+24>>2]+16|0;break t}if(!n)break e;r=e[n>>2]+20|0}F[e[r>>2]](n)}n=e[c+16>>2];e:{t:{if((c|0)==(n|0)){n=c,r=e[n>>2]+16|0;break t}if(!n)break e;r=e[n>>2]+20|0}F[e[r>>2]](n)}return b=c+48|0,i}function we(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;if(n=b-176|0,b=n,p=i+16|0,nt[i+88>>2]<=r>>>0)for(;;){ri(n+136|0,e[i>>2],i);e:{if(e[n+156>>2]!=122){o=e[i+88>>2],c=o+1|0,e[i+88>>2]=c,a=e[n+140>>2],o=H(o+e[i+92>>2]&1,36)+p|0,e[o>>2]=e[n+136>>2],e[o+4>>2]=a,e[o+32>>2]=e[n+168>>2],a=e[n+164>>2],e[o+24>>2]=e[n+160>>2],e[o+28>>2]=a,a=e[n+156>>2],e[o+16>>2]=e[n+152>>2],e[o+20>>2]=a,a=e[n+148>>2],e[o+8>>2]=e[n+144>>2],e[o+12>>2]=a;break e}if(o=e[i+12>>2],!y[o+11|0]){e[n+128>>2]=e[n+152>>2],o=e[n+148>>2],e[n+120>>2]=e[n+144>>2],e[n+124>>2]=o,o=e[n+140>>2],e[n+112>>2]=e[n+136>>2],e[n+116>>2]=o,o=n+72|0,K_(o,n+136|0),c=e[n+124>>2],e[n+56>>2]=e[n+120>>2],e[n+60>>2]=c,e[n- -64>>2]=e[n+128>>2],c=e[n+116>>2],e[n+48>>2]=e[n+112>>2],e[n+52>>2]=c,e[n+32>>2]=S[n+83|0]<0?e[n+72>>2]:o,Kt(i,n+48|0,10035,n+32|0),S[n+83|0]<0&&P(e[n+72>>2]),o=e[n+148>>2],e[n+16>>2]=e[n+144>>2],e[n+20>>2]=o,e[n+24>>2]=e[n+152>>2],o=e[n+140>>2],e[n+8>>2]=e[n+136>>2],e[n+12>>2]=o,o=z0(n+72|0,n+8|0,0),a=e[i+88>>2],c=a+1|0,e[i+88>>2]=c,g=e[o+4>>2],a=H(a+e[i+92>>2]&1,36)+p|0,e[a>>2]=e[o>>2],e[a+4>>2]=g,e[a+32>>2]=e[o+32>>2],g=e[o+28>>2],e[a+24>>2]=e[o+24>>2],e[a+28>>2]=g,g=e[o+20>>2],e[a+16>>2]=e[o+16>>2],e[a+20>>2]=g,g=e[o+12>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=g;break e}t:{if(!y[o+12|0]||(a=e[n+164>>2],(a|0)<14))break t;for(o=e[n+160>>2],g=o+a|0,c=o;;){if(c=i5(c,109,a-13|0),!c)break t;if(En(c,26447,14)){if(c=c+1|0,a=g-c|0,(a|0)<14)break t;continue}break}if((c|0)==(g|0)|(o|0)!=(c|0))break t;o=e[i+88>>2],c=o+1|0,e[i+88>>2]=c,a=e[n+140>>2],o=H(o+e[i+92>>2]&1,36)+p|0,e[o>>2]=e[n+136>>2],e[o+4>>2]=a,e[o+32>>2]=e[n+168>>2],a=e[n+164>>2],e[o+24>>2]=e[n+160>>2],e[o+28>>2]=a,a=e[n+156>>2],e[o+16>>2]=e[n+152>>2],e[o+20>>2]=a,a=e[n+148>>2],e[o+8>>2]=e[n+144>>2],e[o+12>>2]=a;break e}for(a=1;;){ri(n+72|0,e[i>>2],i),o=e[n+92>>2],e[n+152>>2]=e[n+88>>2],e[n+156>>2]=o,e[n+168>>2]=e[n+104>>2],o=e[n+100>>2],e[n+160>>2]=e[n+96>>2],e[n+164>>2]=o,o=e[n+84>>2],e[n+144>>2]=e[n+80>>2],e[n+148>>2]=o,o=e[n+76>>2],e[n+136>>2]=e[n+72>>2],e[n+140>>2]=o;t:{i:{n:{s:switch(o=e[n+156>>2],o-26|0){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:break t;case 13:break i;case 0:break n;default:break s}if((o|0)!=122)break t}a=a+1|0;break t}a=a-1|0}if(!((a|0)>0))break}c=e[i+88>>2]}if(!(r>>>0>=c>>>0))break}return b=n+176|0,e[(H(e[i+92>>2]+r&1,36)+p|0)+20>>2]}function $n(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;a=b+-64|0,b=a;e:{if((we(i,0)|0)!=125){r=Z(16),n=y[12820]|y[12821]<<8|(y[12822]<<16|y[12823]<<24),o=y[12816]|y[12817]<<8|(y[12818]<<16|y[12819]<<24),S[r+7|0]=o,S[r+8|0]=o>>>8,S[r+9|0]=o>>>16,S[r+10|0]=o>>>24,S[r+11|0]=n,S[r+12|0]=n>>>8,S[r+13|0]=n>>>16,S[r+14|0]=n>>>24,n=y[12813]|y[12814]<<8|(y[12815]<<16|y[12816]<<24),o=y[12809]|y[12810]<<8|(y[12811]<<16|y[12812]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+15|0]=0,n=Z(12),e[a+32>>2]=n,o=n+12|0,e[a+40>>2]=o,Ni(n,r,15),e[a+36>>2]=o,c=Cn(i,a+32|0,28389),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r);break e}c=e[i+92>>2]&1,n=H(c,36)+i|0,o=e[n+36>>2],e[a+48>>2]=e[n+32>>2],e[a+52>>2]=o,o=e[n+28>>2],e[a+40>>2]=e[n+24>>2],e[a+44>>2]=o,o=e[n+20>>2],e[a+32>>2]=e[n+16>>2],e[a+36>>2]=o,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,o=e[n+40>>2],n=e[n+44>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1;t:{if(n>>>0<3||(c=n-1|0,n=n-2|0,n=n>>>0>c>>>0?c:n,(n|0)<=0))break t;for(p=(n+o|0)+1|0,n=o+1|0;;){o=y[n|0];i:{if((o|0)==92){o=n+1|0;n:{s:{r:{l:{u:{a:{c:{o:{d:switch(c=S[n+1|0],c-92|0){case 0:break u;case 24:break a;case 22:break c;case 18:break o;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 19:case 20:case 21:case 23:break n;case 25:break s;default:break d}switch(c-34|0){case 0:break r;case 5:break l;default:break n}}Qs(r,10);break i}Qs(r,13);break i}Qs(r,9);break i}Qs(r,92);break i}Qs(r,39);break i}Qs(r,34);break i}for(o=n+3|0,c=y[n+3|0],n=0;c=Rh(c<<24>>24,a+60|0),n=c?n:e[a+60>>2]|n<<4,c=y[o+1|0],o=o+1|0,(c|0)!=125;);n>>>0>127&&(n>>>0<=2047?c=n>>>6|-64:(c=r,n>>>0<=65535?g=n>>>12|-32:(Qs(r,n>>>18|-16),g=n>>>12&63|-128),Qs(c,g),c=n>>>6&63|-128),Qs(r,c),n=n&63|-128),Qs(r,n<<24>>24);break i}n:{if(Rh(c,a+60|0)||Rh(S[n+2|0],a+56|0))break n;Qs(r,(e[a+56>>2]|e[a+60>>2]<<4)<<24>>24)}o=n+2|0;break i}Qs(r,o<<24>>24),o=n}if(n=o+1|0,!(p>>>0>n>>>0))break}}if(c=0,n=y[r+11|0],o=n<<24>>24<0,vT(o?e[r>>2]:r,o?e[r+4>>2]:n))break e;e[a+24>>2]=e[a+48>>2],r=e[a+44>>2],e[a+16>>2]=e[a+40>>2],e[a+20>>2]=r,r=e[a+36>>2],e[a+8>>2]=e[a+32>>2],e[a+12>>2]=r,Kt(i,a+8|0,12881,0)}return b=a- -64|0,c}function dN(i,r,n,o,a,c){var g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0;p=b-144|0,b=p,V=i+16|0,se=p+56|0;e:{for(;;){t:{if((we(i,0)|0)!=26){g=0;break t}if((we(i,1)|0)!=(r|0)){g=0;break t}v=e[i+92>>2]&1,g=H(v,36)+V|0,e[g>>2]=0,e[g+4>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,_=e[i+88>>2],g=H(!v,36)+V|0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g>>2]=0,e[g+4>>2]=0,e[i+88>>2]=_-2,e[i+92>>2]=v;i:{if((we(i,0)|0)==126){e[p+80>>2]=0,e[p+72>>2]=0,e[p+76>>2]=0,e[p+104>>2]=0,e[p+96>>2]=0,e[p+100>>2]=0,e[p+88>>2]=0,e[p+92>>2]=0,j=Ne(p+32|0,-1,p+88|0);n:{if(e[i+88>>2]){g=e[i+92>>2];break n}ri(p+88|0,e[i>>2],i),v=e[i+88>>2],e[i+88>>2]=v+1,_=e[p+92>>2],g=e[i+92>>2],v=H(v+g&1,36)+V|0,e[v>>2]=e[p+88>>2],e[v+4>>2]=_,e[v+32>>2]=e[p+120>>2],_=e[p+116>>2],e[v+24>>2]=e[p+112>>2],e[v+28>>2]=_,_=e[p+108>>2],e[v+16>>2]=e[p+104>>2],e[v+20>>2]=_,_=e[p+100>>2],e[v+8>>2]=e[p+96>>2],e[v+12>>2]=_}g=H(g&1,36)+V|0,e[p+24>>2]=e[g+16>>2],v=e[g+12>>2],e[p+16>>2]=e[g+8>>2],e[p+20>>2]=v,v=e[g+4>>2],e[p+8>>2]=e[g>>2],e[p+12>>2]=v,to(i,p+72|0),X=Zf(i,j);n:{if((X|0)==1)break n;if(g=e[n>>2],v=e[n+4>>2],e[p+104>>2]=e[p+24>>2],_=e[p+20>>2],e[p+96>>2]=e[p+16>>2],e[p+100>>2]=_,_=e[p+12>>2],e[p+88>>2]=e[p+8>>2],e[p+92>>2]=_,e[p+108>>2]=(v-g>>3)+c,gn(p+128|0,o,p+72|0,p+88|0),ln(o,e[p+128>>2]),!e[p+52>>2]){if(M=e[p+56>>2],g=e[n+4>>2],_=e[n+8>>2],g>>>0<_>>>0){e[g>>2]=M,e[g+4>>2]=-1,e[n+4>>2]=g+8;break n}if(v=e[n>>2],x=g-v|0,L=x>>3,g=L+1|0,g>>>0>=536870912)break e;if(pe=L<<3,_=_-v|0,L=_>>2,_=_>>>0<2147483640?g>>>0<L>>>0?L:g:536870911,_){if(_>>>0>=536870912)break e;g=Z(_<<3)}else g=0;if(L=pe+g|0,e[L>>2]=M,e[L+4>>2]=-1,(x|0)>0&&Ce(g,v,x),e[n+8>>2]=g+(_<<3),e[n+4>>2]=L+8,e[n>>2]=g,!v)break n;P(v);break n}if(e[p+128>>2]=(e[n+4>>2]-e[n>>2]>>3)+c,kN(p+88|0,a,p+128|0,se),g=e[n+4>>2],_=e[n+8>>2],g>>>0<_>>>0){e[g>>2]=-21,e[g+4>>2]=-1,e[n+4>>2]=g+8;break n}if(v=e[n>>2],M=g-v|0,x=M>>3,g=x+1|0,g>>>0>=536870912)break e;if(_=_-v|0,L=_>>2,_=_>>>0<2147483640?g>>>0<L>>>0?L:g:536870911,_){if(_>>>0>=536870912)break e;g=Z(_<<3)}else g=0;if(x=g+(x<<3)|0,e[x>>2]=-21,e[x+4>>2]=-1,(M|0)>0&&Ce(g,v,M),e[n+8>>2]=g+(_<<3),e[n+4>>2]=x+8,e[n>>2]=g,!v)break n;P(v)}if(te(j),S[p+83|0]<0&&P(e[p+72>>2]),g=1,(X|0)!=1)break i;break t}if(g=1,(Hm(i,n,a)|0)==1)break t}if((Ve(i,39)|0)!=1)continue}break}return b=p+144|0,g}Be(),Ie()}function oQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;if(_=b-32|0,b=_,S[_+24|0]=y[r+16|0],a=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[_+16>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[_+20>>2]=a,a=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[_+8>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[_+12>>2]=a,r=0,o=b-368|0,b=o,e[o+44>>2]=0,e[o+36>>2]=n,e[o+32>>2]=_+8,e[o+40>>2]=i,x=e[i>>2],V=e[i+4>>2],(x|0)!=(V|0)){for(X=o- -64|0;;){e:{t:{i:{n:{s:{r:{l:{u:{a:switch(i=e[x>>2],e[i+4>>2]){case 1:break u;case 0:break a;case 10:break n;case 9:break s;case 8:break r;case 7:break l;default:break e}r=e[o+36>>2],e[o+56>>2]=r,n=e[o+32>>2],e[o+52>>2]=n,e[o+48>>2]=50420,r=hN(X,r,n),e[o+364>>2]=0,e[o+360>>2]=i+8,XE(o+48|0),e[o+48>>2]=50420,J_(r);break e}Vm(o+48|0,o+32|0,e[i+8>>2]);break e}if(p=e[i+8>>2],Vm(o+48|0,o+32|0,p),r=0,n=0,a=0,c=e[i+12>>2],j=e[i+16>>2],(c|0)==(j|0))break t;for(;;){g=e[c+20>>2],v=e[c+24>>2];l:{if(n>>>0<a>>>0){e[n>>2]=g,e[n+4>>2]=v,n=n+8|0;break l}if(L=n-r|0,M=L>>3,i=M+1|0,i>>>0>=536870912)break i;if(n=a-r|0,a=n>>2,n=n>>>0<2147483640?i>>>0<a>>>0?a:i:536870911,n){if(n>>>0>=536870912)break i;i=Z(n<<3)}else i=0;M=i+(M<<3)|0,a=M,e[a>>2]=g,e[a+4>>2]=v,(L|0)>0&&Ce(i,r,L),a=i+(n<<3)|0,n=M+8|0,r&&P(r),r=i}if(c=c+68|0,(j|0)==(c|0))break}break t}Vm(o+48|0,o+32|0,e[i+8>>2]);break e}Vm(o+48|0,o+32|0,e[i+8>>2]);break e}Vm(o+48|0,o+32|0,e[i+8>>2]);break e}Be(),Ie()}t:{i:{n:switch(e[o+48>>2]-1|0){case 0:if(p=p+4|0,g=e[o+52>>2],c=e[g>>2],i=n-r>>3,a=e[g+4>>2]-c>>3,(i|0)==(a|0)){if((r|0)==(n|0))break i;for(v=(i>>>0>1?i:1)-1|0,n=0;;){if(a=n<<3,i=a+r|0,L=e[i+4>>2],a=a+c|0,c=e[a+4>>2],Zk(o+32|0,p,e[i>>2],L,e[a>>2],c,11337,n,6717),(n|0)==(v|0))break t;n=n+1|0,c=e[g>>2]}}e[o+4>>2]=i,e[o>>2]=a,zc(o+32|0,p,15662,o);break i;case 1:break n;default:break i}i=e[o+52>>2],a=e[o+56>>2],g=Z(8),c=g,e[c>>2]=i,e[c+4>>2]=a,p=p+4|0,c=n-r|0,v=c>>3;n:{if((c|0)==8){if(c=0,(r|0)==(n|0))break n;for(;;){if(n=(c<<3)+r|0,L=e[n+4>>2],Zk(o+32|0,p,e[n>>2],L,i,a,11337,c,6717),c=c+1|0,(v|0)==(c|0))break n;n=g+(c<<3)|0,i=e[n>>2],a=e[n+4>>2]}}e[o+20>>2]=v,e[o+16>>2]=1,zc(o+32|0,p,15662,o+16|0)}P(g)}if(!r)break e}P(r)}if(x=x+4|0,(V|0)==(x|0))break}r=e[o+44>>2]}return b=o+368|0,b=_+32|0,r|0}function Bm(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-144|0,b=o,a=1;e:{if((Ve(i,26)|0)==1)break e;a=i+16|0;t:{if(e[i+88>>2]){c=e[i+92>>2];break t}ri(o+104|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,g=e[o+108>>2],c=e[i+92>>2],n=a+H(n+c&1,36)|0,e[n>>2]=e[o+104>>2],e[n+4>>2]=g,e[n+32>>2]=e[o+136>>2],g=e[o+132>>2],e[n+24>>2]=e[o+128>>2],e[n+28>>2]=g,g=e[o+124>>2],e[n+16>>2]=e[o+120>>2],e[n+20>>2]=g,g=e[o+116>>2],e[n+8>>2]=e[o+112>>2],e[n+12>>2]=g}n=a+H(c&1,36)|0,e[o+96>>2]=e[n+16>>2],c=e[n+12>>2],e[o+88>>2]=e[n+8>>2],e[o+92>>2]=c,c=e[n+4>>2],e[o+80>>2]=e[n>>2],e[o+84>>2]=c;t:{i:{n:{s:switch(we(i,0)-20|0){case 3:c=e[i+92>>2]&1,n=a+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,n=Z(88),e[n>>2]=55232,a=e[o+84>>2],e[n+4>>2]=e[o+80>>2],e[n+8>>2]=a,a=e[o+92>>2],e[n+12>>2]=e[o+88>>2],e[n+16>>2]=a,e[n+20>>2]=e[o+96>>2],e[o+120>>2]=0,e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,a=Ne(n+24|0,-1,o+104|0),e[n+84>>2]=0,e[n+76>>2]=0,e[n+80>>2]=0,e[n>>2]=55104,e[n+68>>2]=0,e[n+72>>2]=0,e[n+60>>2]=0,e[n+64>>2]=0,g=n+60|0,c=Ne(o+40|0,e[i+4>>2],o+80|0);r:{l:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break l;qt(i,a);break r}Di(a,c)}te(c),a=1;r:{if(($n(i,g)|0)==1||(iN(i,n+76|0,0)|0)==1)break r;if(a=e[r>>2],e[r>>2]=n,a)break i;break t}F[e[e[n>>2]+4>>2]](n);break e;case 0:c=e[i+92>>2]&1,n=a+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,n=Z(76),e[n>>2]=55232,a=e[o+84>>2],e[n+4>>2]=e[o+80>>2],e[n+8>>2]=a,a=e[o+92>>2],e[n+12>>2]=e[o+88>>2],e[n+16>>2]=a,e[n+20>>2]=e[o+96>>2],e[o+120>>2]=0,e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,a=Ne(n+24|0,-1,o+104|0),e[n+60>>2]=0,e[n+64>>2]=0,e[n+68>>2]=0,e[n+72>>2]=1,e[n>>2]=55248,g=n+60|0,c=Ne(o,e[i+4>>2],o+80|0);r:{l:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break l;qt(i,a);break r}Di(a,c)}if(te(c),a=1,($n(i,g)|0)!=1)break n;F[e[e[n>>2]+4>>2]](n);break e;default:break s}r=Z(24),e[o+104>>2]=r,n=r+24|0,e[o+112>>2]=n,S[r+23|0]=3,e[r+12>>2]=7628135,S[r+11|0]=6,e[r>>2]=1870032489,e[r+4>>2]=25963,e[o+108>>2]=n,a=Cn(i,o+104|0,0),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r);break e}if(a=e[r>>2],e[r>>2]=n,!a)break t}F[e[e[a>>2]+4>>2]](a)}a=(Ve(i,39)|0)==1}return b=o+144|0,a}function fN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;c=b-80|0,b=c,n=c- -64|0,e[n>>2]=0,e[n+4>>2]=0,e[c+56>>2]=0,e[c+60>>2]=0,e[c+48>>2]=0,e[c+52>>2]=0,r=fe(c+8|0,r),_=Xf(i,r,c+48|0),te(r);e:{r=e[i+164>>2];t:{if((r|0)!=e[i+168>>2]){if(e[r+8>>2]=0,e[r>>2]=0,e[r+4>>2]=0,n=e[c+52>>2],o=e[c+48>>2],(n|0)!=(o|0)){if(o=n-o|0,(o|0)<0)break e;n=Z(o),e[r>>2]=n,e[r+4>>2]=n,e[r+8>>2]=n+(o>>3<<3),g=e[c+48>>2],o=e[c+52>>2]-g|0,(o|0)>0&&(n=Ce(n,g,o)+o|0),e[r+4>>2]=n}if(e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,n=e[c- -64>>2],o=e[c+60>>2],(n|0)!=(o|0)){if(n=n-o|0,(n|0)<0)break e;o=Z(n),e[r+12>>2]=o,e[r+16>>2]=o,e[r+20>>2]=o+(n>>3<<3),n=e[c+60>>2],g=e[c+64>>2]-n|0,(g|0)>0&&(o=Ce(o,n,g)+g|0),e[r+16>>2]=o}e[r+24>>2]=e[c+72>>2],e[i+164>>2]=r+28;break t}o=c+48|0;i:{n:{s:{if(n=e[i+160>>2],a=(e[i+164>>2]-n|0)/28|0,r=a+1|0,r>>>0>=153391690)break s;if(n=(e[i+168>>2]-n|0)/28|0,g=n<<1,r=n>>>0<76695844?r>>>0<g>>>0?g:r:153391689,r){if(r>>>0>=153391690)break s;n=Z(H(r,28))}else n=0;g=n+H(r,28)|0,r=n+H(a,28)|0,e[r+8>>2]=0,e[r>>2]=0,e[r+4>>2]=0;r:{l:{if(n=e[o+4>>2],a=e[o>>2],(n|0)!=(a|0)){if(a=n-a|0,(a|0)<0)break l;n=Z(a),e[r>>2]=n,e[r+4>>2]=n,e[r+8>>2]=n+(a>>3<<3),p=e[o>>2],a=e[o+4>>2]-p|0,(a|0)>0&&(n=Ce(n,p,a)+a|0),e[r+4>>2]=n}if(e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,n=e[o+16>>2],a=e[o+12>>2],(n|0)!=(a|0)){if(a=n-a|0,(a|0)<0)break l;n=Z(a),e[r+12>>2]=n,e[r+16>>2]=n,e[r+20>>2]=n+(a>>3<<3),p=e[o+12>>2],a=e[o+16>>2]-p|0,(a|0)>0&&(n=Ce(n,p,a)+a|0),e[r+16>>2]=n}e[r+24>>2]=e[o+24>>2];break r}Be(),Ie()}if(n=r,a=r+28|0,r=e[i+164>>2],o=e[i+160>>2],(r|0)==(o|0))break n;for(;n=n-28|0,e[n+8>>2]=0,e[n>>2]=0,e[n+4>>2]=0,r=r-28|0,e[n>>2]=e[r>>2],e[n+4>>2]=e[r+4>>2],e[n+8>>2]=e[r+8>>2],e[r+8>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[n+20>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+12>>2]=e[r+12>>2],e[n+16>>2]=e[r+16>>2],e[n+20>>2]=e[r+20>>2],e[r+20>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[n+24>>2]=e[r+24>>2],(r|0)!=(o|0););if(e[i+168>>2]=g,r=e[i+164>>2],e[i+164>>2]=a,o=e[i+160>>2],e[i+160>>2]=n,(r|0)==(o|0))break i;for(;i=r-28|0,n=e[i+12>>2],n&&(e[r-12>>2]=n,P(n)),n=e[i>>2],n&&(e[r-24>>2]=n,P(n)),r=i,(o|0)!=(r|0););break i}Be(),Ie()}e[i+168>>2]=g,e[i+164>>2]=a,e[i+160>>2]=n}o&&P(o),n=e[c+60>>2]}return n&&(e[c- -64>>2]=n,P(n)),i=e[c+48>>2],i&&(e[c+52>>2]=i,P(i)),b=c+80|0,(_|0)==1}Be(),Ie()}function gN(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;c=b-96|0,b=c,p=e[r+24>>2],a=e[r+36>>2],g=e[n>>2];e:{t:{i:{n:{s:{r:{if(x=e[n+4>>2],!x)break r;L=g+x|0;l:{if(a>>>0<p>>>0){n=a;break l}if(y[g|0]!=255)break n;for(;;){if(g=g+1|0,(L|0)==(g|0))break r;if(y[g|0]!=255)break}break n}for(;;){if(M=S[g|0],_=-1,n>>>0<p>>>0&&(v=n+1|0,e[r+36>>2]=v,_=y[n|0],n=v),(_|0)!=(M|0))break n;if(g=g+1|0,(L|0)==(g|0))break}break s}n=a}if(n>>>0<p>>>0)break i;a=n}e[r+36>>2]=a;break t}g=n+1|0,e[r+36>>2]=g;i:{if(y[n|0]!=48|g>>>0>=p>>>0||(g=n+2|0,e[r+36>>2]=g,y[n+1|0]!=120))break i;if(g>>>0>=p>>>0)break t;n:{for(;;){if(!(y[y[g|0]+51313|0]&4))break t;if(n=g+1|0,e[r+36>>2]=n,n>>>0>=p>>>0)break n;s:{a=y[n|0];r:{if((a|0)==95){g=g+2|0,e[r+36>>2]=g;break r}if(!(y[a+51313|0]&4))break s;g=n}if(g>>>0>=p>>>0)break t;continue}break}a=p-n|0,g=0;s:{for(;;){if(!(S[y[n|0]+51313|0]&1))break s;if(n=n+1|0,e[r+36>>2]=n,g=g+1|0,(a|0)==(g|0))break}g=a}if(g)break t}p=e[r+8>>2],g=y[r+15|0],a=e[r+28>>2],L=e[r+4>>2],v=e[r+32>>2],e[c+80>>2]=e[r+16>>2],_=v-a|0,e[c+84>>2]=((_|0)>0?_:0)+1,a=n-a|0,a=((a|0)>0?a:0)+1|0,e[c+88>>2]=a,e[c+24>>2]=a,a=e[c+84>>2],e[c+16>>2]=e[c+80>>2],e[c+20>>2]=a,a=v+x|0,e[c+64>>2]=a,e[c+68>>2]=n-a,n=g<<24>>24<0,e[c+76>>2]=n?p:g,e[c+72>>2]=n?L:r+4|0,r=e[c+68>>2],e[c>>2]=e[c+64>>2],e[c+4>>2]=r,r=e[c+76>>2],e[c+8>>2]=e[c+72>>2],e[c+12>>2]=r,Qo(i,c+8|0,o,c);break e}e[r+36>>2]=n;i:{for(;;){if(!(y[y[n|0]+51313|0]&8))break t;if(g=n+1|0,e[r+36>>2]=g,g>>>0>=p>>>0)break i;n:{a=y[g|0];s:{if((a|0)==95){n=n+2|0,e[r+36>>2]=n;break s}if(!(y[a+51313|0]&8))break n;n=g}if(n>>>0>=p>>>0)break t;continue}break}a=p-g|0,n=0;n:{for(;;){if(!(S[y[g|0]+51313|0]&1))break n;if(g=g+1|0,e[r+36>>2]=g,n=n+1|0,(a|0)==(n|0))break}n=a}if(n)break t}p=e[r+8>>2],n=y[r+15|0],a=e[r+28>>2],L=e[r+4>>2],v=e[r+32>>2],e[c+80>>2]=e[r+16>>2],_=v-a|0,e[c+84>>2]=((_|0)>0?_:0)+1,a=g-a|0,a=((a|0)>0?a:0)+1|0,e[c+88>>2]=a,e[c+56>>2]=a,a=e[c+84>>2],e[c+48>>2]=e[c+80>>2],e[c+52>>2]=a,a=v+x|0,e[c+64>>2]=a,e[c+68>>2]=g-a,a=n,n=n<<24>>24<0,e[c+76>>2]=n?p:a,e[c+72>>2]=n?L:r+4|0,r=e[c+68>>2],e[c+32>>2]=e[c+64>>2],e[c+36>>2]=r,r=e[c+76>>2],e[c+40>>2]=e[c+72>>2],e[c+44>>2]=r,Qo(i,c+40|0,o,c+32|0);break e}H_(i,r)}b=c+96|0}function lQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0,Xe=0,at=0,Ct=0,Ut=0;a=b-16|0,b=a,v=e[r+36>>2],g=y[r+52|0]|y[r+53|0]<<8|(y[r+54|0]<<16|y[r+55|0]<<24),e[a+8>>2]=y[r+48|0]|y[r+49|0]<<8|(y[r+50|0]<<16|y[r+51|0]<<24),e[a+12>>2]=g,g=y[r+44|0]|y[r+45|0]<<8|(y[r+46|0]<<16|y[r+47|0]<<24),e[a>>2]=y[r+40|0]|y[r+41|0]<<8|(y[r+42|0]<<16|y[r+43|0]<<24),e[a+4>>2]=g,o=b-96|0,b=o,e[o+24>>2]=v,_=i+16|0,r=r+12|0,e[_+112>>2]=e[r+16>>2],g=e[r+12>>2],e[_+104>>2]=e[r+8>>2],e[_+108>>2]=g,g=e[r+4>>2],e[_+96>>2]=e[r>>2],e[_+100>>2]=g;e:{if(!y[_+116|0]||(g=v-28|0,1<<g&2013265921&&g>>>0<=30))break e;t:switch(v-214|0){case 0:case 2:break e;default:break t}t:{if(!y[_+16|0]||(g=v-96|0,g>>>0>=21))break t;if(1835015>>>g&1)break e}xe(o+32|0,o+24|0),e[o+16>>2]=e[o+32>>2],Ye(_,r,9809,o+16|0),Ut=1}return r=y[a+12|0]|y[a+13|0]<<8|(y[a+14|0]<<16|y[a+15|0]<<24),e[o+8>>2]=y[a+8|0]|y[a+9|0]<<8|(y[a+10|0]<<16|y[a+11|0]<<24),e[o+12>>2]=r,r=y[a+4|0]|y[a+5|0]<<8|(y[a+6|0]<<16|y[a+7|0]<<24),e[o>>2]=y[a|0]|y[a+1|0]<<8|(y[a+2|0]<<16|y[a+3|0]<<24),e[o+4>>2]=r,c=_+24|0,n=b-256|0,b=n,L=y[o+15|0],x=y[o+14|0],M=y[o+13|0],V=y[o+12|0],j=y[o+11|0],X=y[o+10|0],se=y[o+9|0],pe=y[o+8|0],De=y[o+7|0],He=y[o+6|0],Xe=y[o+5|0],at=y[o+4|0],Ct=y[o+3|0],_=y[o+2|0],g=y[o+1|0],r=y[o|0],r>>>0>=32&&(e[n+240>>2]=r,xt(c,27787,n+240|0),p=1),g>>>0>=32&&(e[n+224>>2]=g,xt(c,27787,n+224|0),p=1),_>>>0>=32&&(e[n+208>>2]=_,xt(c,27787,n+208|0),p=1),Ct>>>0>=32&&(e[n+192>>2]=Ct,xt(c,27787,n+192|0),p=1),at>>>0>=32&&(e[n+176>>2]=at,xt(c,27787,n+176|0),p=1),Xe>>>0>=32&&(e[n+160>>2]=Xe,xt(c,27787,n+160|0),p=1),He>>>0>=32&&(e[n+144>>2]=He,xt(c,27787,n+144|0),p=1),De>>>0>=32&&(e[n+128>>2]=De,xt(c,27787,n+128|0),p=1),pe>>>0>=32&&(e[n+112>>2]=pe,xt(c,27787,n+112|0),p=1),se>>>0>=32&&(e[n+96>>2]=se,xt(c,27787,n+96|0),p=1),X>>>0>=32&&(e[n+80>>2]=X,xt(c,27787,n+80|0),p=1),j>>>0>=32&&(e[n+64>>2]=j,xt(c,27787,n- -64|0),p=1),V>>>0>=32&&(e[n+48>>2]=V,xt(c,27787,n+48|0),p=1),M>>>0>=32&&(e[n+32>>2]=M,xt(c,27787,n+32|0),p=1),x>>>0>=32&&(e[n+16>>2]=x,xt(c,27787,n+16|0),p=1),L>>>0>=32&&(e[n>>2]=L,xt(c,27787,n),p=1),r=Qm(c,v,0),b=n+256|0,b=o+96|0,e[i+316>>2]=Ut|((r|0)==1|p)|e[i+316>>2]==1,b=a+16|0,0}function aQ(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;g=b-80|0,b=g,c=Z(84),e[c+4>>2]=0,e[c+8>>2]=0,e[c+36>>2]=0,e[c+40>>2]=0,e[c>>2]=40372,e[c+20>>2]=0,e[c+24>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+28>>2]=0,e[c+32>>2]=11,e[c+44>>2]=0,e[g+56>>2]=0,e[g+48>>2]=0,e[g+52>>2]=0,e[g+40>>2]=0,e[g+44>>2]=0,a=g+40|0,_=Ne(c+48|0,-1,a),e[g+32>>2]=0,e[g+24>>2]=0,e[g+28>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,o=Ne(a,o,g+16|0),Di(_,o),te(o),o=e[c+40>>2],a=e[c+36>>2],p=(o-a|0)/36|0;e:{t:{if(p>>>0<r>>>0){_=b-32|0,b=_,p=r-p|0,v=e[c+44>>2],a=e[c+40>>2];i:{if(p>>>0<=(v-a|0)/36>>>0){if(p){for(o=H(p,36)+a|0;e[_+24>>2]=0,e[_+16>>2]=0,e[_+20>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,a=Ne(a,-1,_+8|0)+36|0,(o|0)!=(a|0););a=o}e[c+40>>2]=a;break i}n:{s:{r:{if(o=a,a=e[c+36>>2],L=(o-a|0)/36|0,o=L+p|0,o>>>0>=119304648)break r;if(a=(v-a|0)/36|0,v=a<<1,v=a>>>0<59652323?o>>>0<v>>>0?v:o:119304647,v){if(v>>>0>=119304648)break r;x=Z(H(v,36))}for(o=H(L,36)+x|0,L=o+H(p,36)|0,a=o;e[_+24>>2]=0,e[_+16>>2]=0,e[_+20>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,a=Ne(a,-1,_+8|0)+36|0,(L|0)!=(a|0););if(v=H(v,36)+x|0,a=e[c+40>>2],p=e[c+36>>2],(a|0)==(p|0))break s;for(;a=a-36|0,o=fe(o-36|0,a),(a|0)!=(p|0););if(e[c+44>>2]=v,a=e[c+40>>2],e[c+40>>2]=L,p=e[c+36>>2],e[c+36>>2]=o,(a|0)==(p|0))break n;for(;a=te(a-36|0),(p|0)!=(a|0););break n}Be(),Ie()}e[c+44>>2]=v,e[c+40>>2]=L,e[c+36>>2]=o}if(!p)break i;P(p)}b=_+32|0;break t}if(r>>>0<p>>>0){if(a=a+H(r,36)|0,(a|0)!=(o|0))for(;o=te(o-36|0),(a|0)!=(o|0););e[c+40>>2]=a}if(!r)break e}for(o=0;a=e[(o<<2)+n>>2],e[g+32>>2]=0,e[g+24>>2]=0,e[g+28>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,a=Ne(g+40|0,a,g+16|0),Di(e[c+36>>2]+H(o,36)|0,a),te(a),o=o+1|0,(o|0)!=(r|0););}r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],o=Ge(n),e[c+24>>2]=0,e[c+28>>2]=0,e[c+20>>2]=r,e[c+16>>2]=o,e[c+12>>2]=n,o=e[i+24>>2],r=e[i+20>>2],n=(o-r|0)/12|0;e:{if((r|0)!=(o|0)){i=e[(r+H(n,12)|0)-8>>2],r=e[i+4>>2],r?(e[c+8>>2]=r,r=r+4|0):r=i,e[r>>2]=c,e[i+4>>2]=c,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[g+4>>2]=n,e[g>>2]=0,Yt(i,15800,g),F[e[e[c>>2]+4>>2]](c),i=1}return b=g+80|0,i|0}function xa(i,r,n,o,a,c){var g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;if(g=b-80|0,b=g,(n|0)>0)for(_=r+n|0,L=o-r|0,x=(a|0)!=1;;){for(e[g+48>>2]=r+L,ee(i,28581,g+48|0),n=0;;){o=r+n|0;e:{if(o>>>0<_>>>0){e[g+32>>2]=y[o|0],ee(i,2479,g+32|0);break e}S[g+79|0]=32,o=e[i+4>>2];t:{if(e[i+8>>2]==1){o=o+1|0;break t}if(a=e[i+12>>2],a&&xa(a,g+79|0,1,o,0,0),a=F[e[e[i>>2]+12>>2]](i,o,g+79|0,1)|0,e[i+8>>2]=a,o=e[i+4>>2]+1|0,e[i+4>>2]=o,S[g+79|0]=32,(a|0)==1)break t;a=e[i+12>>2],a&&xa(a,g+79|0,1,o,0,0),M=i,V=F[e[e[i>>2]+12>>2]](i,o,g+79|0,1)|0,e[M+8>>2]=V,o=e[i+4>>2]}e[i+4>>2]=o+1}v=n|1,o=v+r|0;e:{if(o>>>0>=_>>>0){S[g+79|0]=32,o=e[i+4>>2];t:{if(e[i+8>>2]!=1){if(a=e[i+12>>2],a&&xa(a,g+79|0,1,o,0,0),a=1,p=F[e[e[i>>2]+12>>2]](i,o,g+79|0,1)|0,e[i+8>>2]=p,o=e[i+4>>2]+1|0,e[i+4>>2]=o,S[g+79|0]=32,(p|0)==1)break t;a=e[i+12>>2],a&&xa(a,g+79|0,1,o,0,0),a=F[e[e[i>>2]+12>>2]](i,o,g+79|0,1)|0,e[i+8>>2]=a,o=e[i+4>>2];break t}a=1,o=o+1|0}o=o+1|0,e[i+4>>2]=o;break e}e[g+16>>2]=y[o|0],ee(i,2479,g+16|0),a=e[i+8>>2],o=e[i+4>>2]}if(S[g+79|0]=32,p=1,n=n+2|0,(a|0)!=1&&(a=e[i+12>>2],a&&xa(a,g+79|0,1,o,0,0),p=F[e[e[i>>2]+12>>2]](i,o,g+79|0,1)|0,e[i+8>>2]=p,o=e[i+4>>2]),a=o+1|0,e[i+4>>2]=a,!(v>>>0<15))break}e:{if(x){r=r+16|0;break e}S[g+79|0]=32;t:{if((p|0)!=1){if(n=e[i+12>>2],n&&xa(n,g+79|0,1,a,0,0),p=F[e[e[i>>2]+12>>2]](i,a,g+79|0,1)|0,e[i+8>>2]=p,a=e[i+4>>2]+1|0,e[i+4>>2]=a,r>>>0>=_>>>0)break e;if(n=0,(p|0)==1)break t;for(o=p;;){if(v=y[r|0],S[g+79|0]=v-32>>>0<95?v:46,(o|0)==1?o=1:(o=e[i+12>>2],o&&xa(o,g+79|0,1,a,0,0),p=F[e[e[i>>2]+12>>2]](i,a,g+79|0,1)|0,e[i+8>>2]=p,a=e[i+4>>2],o=p),a=a+1|0,e[i+4>>2]=a,r=r+1|0,n>>>0>14)break e;if(n=n+1|0,!(r>>>0<_>>>0))break}break e}if(a=o+2|0,e[i+4>>2]=a,p=1,r>>>0>=_>>>0)break e}for(n=0;;){t:{if(r=r+1|0,a=a+1|0,n>>>0>14)break t;if(n=n+1|0,r>>>0<_>>>0)continue}break}e[i+4>>2]=a,p=1}if(!c|r>>>0<_>>>0||(e[g>>2]=c,ee(i,9743,g),p=e[i+8>>2],a=e[i+4>>2]),S[g+79|0]=10,(p|0)!=1&&(n=e[i+12>>2],n&&xa(n,g+79|0,1,a,0,0),M=i,V=F[e[e[i>>2]+12>>2]](i,a,g+79|0,1)|0,e[M+8>>2]=V,a=e[i+4>>2]),e[i+4>>2]=a+1,!(r>>>0<_>>>0))break}b=g+80|0}function mN(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;c=b-144|0,b=c;e:{M=e[r+4>>2],_=e[r>>2],L=M-_>>3,p=e[n>>2],g=e[n+4>>2]-p>>3;t:{if((L|0)==(g|0)){if(L=0,(_|0)==(M|0))break t;for(;;){if(g=V<<3,x=g+_|0,L=e[x>>2],v=e[x+4>>2],x=g+p|0,g=e[x+4>>2],x=e[x>>2],e[c+112>>2]=x,e[c+116>>2]=g,e[c+108>>2]=v,e[c+104>>2]=L,(L|0)!=(x|0)){e[c+100>>2]=1,g=c+72|0,ci(g,c+104|0),v=e[c+72>>2],_=S[c+83|0],p=c+56|0,ci(p,c+112|0),e[c+16>>2]=S[c+67|0]<0?e[c+56>>2]:p,e[c>>2]=o,e[c+4>>2]=V,e[c+8>>2]=11043,e[c+12>>2]=(_|0)<0?v:g,U0(c+88|0,9692,c),g=e[a+4>>2];i:{if(g>>>0<nt[a+8>>2]){if(_=e[c+92>>2],M=e[c+88>>2],v=y[c+99|0],e[c+136>>2]=e[i+16>>2],p=e[i+12>>2],e[c+128>>2]=e[i+8>>2],e[c+132>>2]=p,p=e[i+4>>2],e[c+120>>2]=e[i>>2],e[c+124>>2]=p,e[g>>2]=1,p=e[c+124>>2],e[g+4>>2]=e[c+120>>2],e[g+8>>2]=p,p=e[c+132>>2],e[g+12>>2]=e[c+128>>2],e[g+16>>2]=p,e[g+20>>2]=e[c+136>>2],p=_,_=v<<24>>24<0,v=_?p:v,v>>>0>=4294967280)break e;n:{s:{if(v>>>0>=11){j=v+16&-16,p=Z(j),e[g+32>>2]=j|-2147483648,e[g+24>>2]=p,e[g+28>>2]=v;break s}if(p=g+24|0,S[p+11|0]=v,!v)break n}Ce(p,_?M:c+88|0,v)}S[p+v|0]=0,e[a+4>>2]=g+36;break i}X_(a,c+100|0,i,c+88|0)}S[c+99|0]<0&&P(e[c+88>>2]),S[c+67|0]<0&&P(e[c+56>>2]),S[c+83|0]<0&&P(e[c+72>>2]),M=e[r+4>>2],_=e[r>>2]}if(X=(L|0)!=(x|0)|X,V=V+1|0,L=X,V>>>0>=M-_>>3>>>0)break t;p=e[n>>2]}}e[c+72>>2]=1,e[c+32>>2]=g,e[c+36>>2]=o,e[c+40>>2]=L,U0(c+88|0,15692,c+32|0),r=e[a+4>>2];i:{if(r>>>0<nt[a+8>>2]){if(o=e[c+92>>2],L=e[c+88>>2],n=y[c+99|0],e[c+136>>2]=e[i+16>>2],g=e[i+12>>2],e[c+128>>2]=e[i+8>>2],e[c+132>>2]=g,g=e[i+4>>2],e[c+120>>2]=e[i>>2],e[c+124>>2]=g,e[r>>2]=1,i=e[c+124>>2],e[r+4>>2]=e[c+120>>2],e[r+8>>2]=i,i=e[c+132>>2],e[r+12>>2]=e[c+128>>2],e[r+16>>2]=i,e[r+20>>2]=e[c+136>>2],i=n,n=n<<24>>24<0,i=n?o:i,i>>>0>=4294967280)break e;n:{s:{if(i>>>0>=11){o=i+16&-16,_=Z(o),e[r+32>>2]=o|-2147483648,e[r+24>>2]=_,e[r+28>>2]=i;break s}if(_=r+24|0,S[_+11|0]=i,!i)break n}Ce(_,n?L:c+88|0,i)}S[i+_|0]=0,e[a+4>>2]=r+36;break i}X_(a,c+72|0,i,c+88|0)}S[c+99|0]<0&&P(e[c+88>>2]),L=1}return b=c+144|0,L}Be(),Ie()}function p2(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0;c=b-96|0,b=c;e:{if(!r)break e;g=e[i+40>>2],r=e[i+36>>2];t:{if((g|0)==(r|0)){e[c+32>>2]=0,e[c+36>>2]=-1,xt(i,27759,c+32|0),r=0;break t}r=e[(r+H((g-r|0)/36|0,36)|0)-8>>2]}t:{if(g=e[o+4>>2],_=e[o>>2],M=(g|0)==(_|0)?4:g-_>>3,V=(e[i+28>>2]-e[i+24>>2]>>3)-r|0,p=M>>>0<V>>>0?M:V,!p){_=0,r=0;break t}for(r=0,_=0;;){L=e[i+40>>2],g=e[i+36>>2];i:{if((L|0)==(g|0)){e[c+16>>2]=0,e[c+20>>2]=-1,xt(i,27759,c+16|0);break i}if(j=0,X=-1,se=e[i+24>>2],pe=e[i+28>>2]-se>>3,pe>>>0<=e[(g+H((L-g|0)/36|0,36)|0)-8>>2]+((x^-1)+p|0)>>>0)break i;g=((x-p|0)+pe<<3)+se|0,j=e[g>>2],X=e[g+4>>2]}i:{n:{if((r|0)!=(v|0)){e[r>>2]=j,e[r+4>>2]=X,r=r+8|0;break n}if(r=r-_|0,L=r>>3,g=L+1|0,g>>>0>=536870912)break i;if(v=r>>2,v=r>>>0<2147483640?g>>>0<v>>>0?v:g:536870911,v){if(v>>>0>=536870912)break i;g=Z(v<<3)}else g=0;L=g+(L<<3)|0,e[L>>2]=j,e[L+4>>2]=X,(r|0)>0&&Ce(g,_,r),v=g+(v<<3)|0,r=L+8|0,_&&P(_),_=g}if(x=x+1|0,(x|0)==(p|0))break t;continue}break}Be(),Ie()}if(e[c+88>>2]=v,e[c+84>>2]=r,e[c+80>>2]=_,r=Z(32),e[c+64>>2]=r,e[c+68>>2]=17,e[c+72>>2]=-2147483616,S[r+17|0]=0,S[r+16|0]=y[28542],g=y[28538]|y[28539]<<8|(y[28540]<<16|y[28541]<<24),p=y[28534]|y[28535]<<8|(y[28536]<<16|y[28537]<<24),S[r+8|0]=p,S[r+9|0]=p>>>8,S[r+10|0]=p>>>16,S[r+11|0]=p>>>24,S[r+12|0]=g,S[r+13|0]=g>>>8,S[r+14|0]=g>>>16,S[r+15|0]=g>>>24,g=y[28530]|y[28531]<<8|(y[28532]<<16|y[28533]<<24),p=y[28526]|y[28527]<<8|(y[28528]<<16|y[28529]<<24),S[r|0]=p,S[r+1|0]=p>>>8,S[r+2|0]=p>>>16,S[r+3|0]=p>>>24,S[r+4|0]=g,S[r+5|0]=g>>>8,S[r+6|0]=g>>>16,S[r+7|0]=g>>>24,a&&Cl(c- -64|0,28544,24),r=c- -64|0,Pn(r,n),Pn(r,28569),n=c+48|0,$c(n,o,0),o=r,a=n,r=y[c+59|0],n=r<<24>>24<0,Mn(o,n?e[c+48>>2]:a,n?e[c+52>>2]:r),S[c+59|0]<0&&P(e[c+48>>2]),r=c- -64|0,Pn(r,28511),n=c+48|0,$c(n,c+80|0,M>>>0<V>>>0?28833:0),o=r,a=n,r=y[c+59|0],n=r<<24>>24<0,Mn(o,n?e[c+48>>2]:a,n?e[c+52>>2]:r),S[c+59|0]<0&&P(e[c+48>>2]),e[c>>2]=S[c+75|0]<0?e[c+64>>2]:c- -64|0,xt(i,10204,c),S[c+75|0]<0&&P(e[c+64>>2]),!_)break e;P(_)}b=c+96|0}function pN(i,r,n,o,a,c,g,p,_){var v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0,He=0;v=b-128|0,b=v;e:{t:{i:{if(!Lh(c,g,p,_,0,0,0,0))break i;M=_&65535,V=_>>>16&32767;n:{s:{if((V|0)!=32767){if(x=4,V)break s;x=c|p|(g|M)?3:2;break n}x=!(c|p|(g|M))}}if(pe=a>>>16|0,j=pe&32767,(j|0)==32767)break i;if(x)break t}on(v+16|0,r,n,o,a,c,g,p,_),a=e[v+16>>2],o=e[v+20>>2],n=e[v+24>>2],r=e[v+28>>2],eN(v,a,o,n,r,a,o,n,r),o=e[v+8>>2],a=e[v+12>>2],p=e[v>>2],_=e[v+4>>2];break e}if(M=a&65535|j<<16,X=M,x=o,M=p,se=_>>>16&32767,L=_&65535|se<<16,(Lh(r,n,x,X,c,g,p,L)|0)<=0){if(Lh(r,n,x,X,c,g,M,L)){p=r,_=n;break e}on(v+112|0,r,n,o,a,0,0,0,0),o=e[v+120>>2],a=e[v+124>>2],p=e[v+112>>2],_=e[v+116>>2];break e}if(j?(_=n,p=r):(on(v+96|0,r,n,x,X,0,0,0,1081540608),p=e[v+108>>2],X=p,x=e[v+104>>2],j=(p>>>16|0)-120|0,_=e[v+100>>2],p=e[v+96>>2]),se||(on(v+80|0,c,g,M,L,0,0,0,1081540608),c=e[v+92>>2],L=c,M=e[v+88>>2],se=(L>>>16|0)-120|0,g=e[v+84>>2],c=e[v+80>>2]),De=L&65535|65536,X=X&65535|65536,(j|0)>(se|0)){for(;;){He=x-M|0,L=(g|0)==(_|0)&c>>>0>p>>>0|g>>>0>_>>>0,V=(X-((x>>>0<M>>>0)+De|0)|0)-(He>>>0<L>>>0)|0,L=He-L|0;t:{if((V|0)>0|(V|0)>=0){if(x=p,p=p-c|0,_=_-((c>>>0>x>>>0)+g|0)|0,!(p|L|(_|V))){on(v+32|0,r,n,o,a,0,0,0,0),o=e[v+40>>2],a=e[v+44>>2],p=e[v+32>>2],_=e[v+36>>2];break e}V=V<<1|L>>>31,x=L<<1|_>>>31,X=V;break t}V=X<<1|x>>>31,x=x<<1|_>>>31,X=V}if(V=_<<1|p>>>31,p=p<<1,_=V,j=j-1|0,!((se|0)<(j|0)))break}j=se}se=x-M|0,V=(g|0)==(_|0)&c>>>0>p>>>0|g>>>0>_>>>0,L=(X-((x>>>0<M>>>0)+De|0)|0)-(se>>>0<V>>>0)|0,M=se-V|0;t:{if((L|0)<0){M=x,L=X;break t}if(x=p,p=p-c|0,_=_-((c>>>0>x>>>0)+g|0)|0,p|M|(_|L))break t;on(v+48|0,r,n,o,a,0,0,0,0),o=e[v+56>>2],a=e[v+60>>2],p=e[v+48>>2],_=e[v+52>>2];break e}if((L|0)==65535|L>>>0<65535)for(;r=_>>>31|0,j=j-1|0,X=_<<1|p>>>31,p=p<<1,_=X,n=r,r=M,L=L<<1|r>>>31,M=n|r<<1,L>>>0<65536;);if(r=pe&32768,(j|0)<=0){on(v- -64|0,p,_,M,L&65535|(r|j+120)<<16,0,0,0,1065811968),o=e[v+72>>2],a=e[v+76>>2],p=e[v+64>>2],_=e[v+68>>2];break e}o=M,a=L&65535|(r|j)<<16}e[i>>2]=p,e[i+4>>2]=_,e[i+8>>2]=o,e[i+12>>2]=a,b=v+128|0}function rr(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;if(c=b-16|0,b=c,e[c+12>>2]=r,a=e[i+84>>2],!(e[a+4>>2]==e[i+88>>2]&&a)){p=dp(e[i+100>>2]),v=e[i+88>>2],a=e[i+76>>2],_=e[i+80>>2];e:{if(a>>>0<_>>>0){e[a+8>>2]=0,e[a+12>>2]=0,e[a+4>>2]=v,e[a>>2]=p,e[a+16>>2]=0,e[i+76>>2]=a+20;break e}t:{i:{n:{if(g=e[i+72>>2],L=(a-g|0)/20|0,o=L+1|0,o>>>0<214748365){if(_=(_-g|0)/20|0,x=_<<1,o=_>>>0<107374182?o>>>0<x>>>0?x:o:214748364,o>>>0>=214748365)break n;if(x=H(L,20),_=H(o,20),L=Z(_),o=x+L|0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+4>>2]=v,e[o>>2]=p,e[o+16>>2]=0,p=_+L|0,v=o+20|0,(a|0)==(g|0))break i;for(;a=a-20|0,_=e[a+4>>2],o=o-20|0,e[o>>2]=e[a>>2],e[o+4>>2]=_,e[o+8>>2]=e[a+8>>2],e[o+12>>2]=e[a+12>>2],e[o+16>>2]=e[a+16>>2],e[a+16>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,(a|0)!=(g|0););if(e[i+80>>2]=p,a=e[i+72>>2],e[i+72>>2]=o,o=e[i+76>>2],e[i+76>>2]=v,(a|0)==(o|0))break t;for(;g=o-20|0,p=e[g+8>>2],p&&(e[o-8>>2]=p,P(p)),o=g,(o|0)!=(a|0););break t}Nr(),Ie()}Be(),Ie()}e[i+72>>2]=o,e[i+80>>2]=p,e[i+76>>2]=v}if(!a)break e;P(a)}a=e[i+76>>2]-20|0,e[i+84>>2]=a}e[c+8>>2]=e[e[i>>2]+4>>2]-e[i+104>>2];e:{t:{i:{n:switch(r|0){case 20:if(o=e[i+36>>2],e[i+40>>2]-o>>2>>>0>n>>>0)break i;break e;case 7:if(o=e[i+48>>2],e[i+52>>2]-o>>2>>>0>n>>>0)break i;break e;default:n=e[14179],e[c>>2]=r>>>0<=22?e[(r<<2)+58480>>2]:25075,up(n,28961,c);break e;case 6:break t;case 0:break n}if(o=e[i+24>>2],e[i+28>>2]-o>>2>>>0<=n>>>0)break e}n=e[(n<<2)+o>>2]}if(e[c+4>>2]=n,(n|0)==-1)break e;t:{if(i=e[a+12>>2],n=e[a+16>>2],i>>>0<n>>>0){M=a,V=TR(i,e[c+12>>2],e[c+8>>2],e[c+4>>2])+16|0,e[M+12>>2]=V;break t}i:{if(o=e[a+8>>2],g=i-o>>4,r=g+1|0,r>>>0>=268435456)break i;if(i=0,n=n-o|0,o=n>>3,r=n>>>0<2147483632?r>>>0<o>>>0?o:r:268435455,r){if(r>>>0>=268435456)break i;i=Z(r<<4)}if(p=TR((g<<4)+i|0,e[c+12>>2],e[c+8>>2],e[c+4>>2]),n=e[a+8>>2],o=e[a+12>>2]-n|0,g=p-o|0,(o|0)>0&&Ce(g,n,o),e[a+16>>2]=(r<<4)+i,e[a+12>>2]=p+16,e[a+8>>2]=g,!n)break t;P(n);break t}Be(),Ie()}}b=c+16|0}function qt(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-144|0,b=o;e:{if((we(i,0)|0)==54){a=e[i+92>>2]&1,n=H(a,36)+i|0,e[o+136>>2]=e[n+48>>2],c=e[n+44>>2],e[o+128>>2]=e[n+40>>2],e[o+132>>2]=c,c=e[n+36>>2],e[o+120>>2]=e[n+32>>2],e[o+124>>2]=c,c=e[n+28>>2],e[o+112>>2]=e[n+24>>2],e[o+116>>2]=c,c=e[n+20>>2],e[o+104>>2]=e[n+16>>2],e[o+108>>2]=c,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,c=e[o+136>>2],g=e[o+132>>2],n=e[o+132>>2],a=e[o+136>>2],e[o+96>>2]=-1,e[o+100>>2]=0,(k2(n,n+a|0,o+96|0)|0)==1&&(e[o+32>>2]=e[o+120>>2],n=e[o+116>>2],e[o+24>>2]=e[o+112>>2],e[o+28>>2]=n,n=e[o+108>>2],e[o+16>>2]=e[o+104>>2],e[o+20>>2]=n,e[o>>2]=c,e[o+4>>2]=g,Kt(i,o+16|0,28028,o)),i=Ne(o+56|0,e[o+96>>2],o+104|0),Di(r,i),te(i),i=0;break e}if((we(i,0)|0)==126){a=e[i+92>>2]&1,n=H(a,36)+i|0,e[o+136>>2]=e[n+48>>2],c=e[n+44>>2],e[o+128>>2]=e[n+40>>2],e[o+132>>2]=c,c=e[n+36>>2],e[o+120>>2]=e[n+32>>2],e[o+124>>2]=c,c=e[n+28>>2],e[o+112>>2]=e[n+24>>2],e[o+116>>2]=c,c=e[n+20>>2],e[o+104>>2]=e[n+16>>2],e[o+108>>2]=c,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,i=e[o+132>>2],n=e[o+128>>2],e[o+48>>2]=n,e[o+52>>2]=i,e[o+40>>2]=n,e[o+44>>2]=i,i=zT(o+56|0,o+40|0,o+104|0),Di(r,i),te(i),i=0;break e}r=Z(16),n=y[2209]|y[2210]<<8|(y[2211]<<16|y[2212]<<24),a=y[2205]|y[2206]<<8|(y[2207]<<16|y[2208]<<24),S[r+7|0]=a,S[r+8|0]=a>>>8,S[r+9|0]=a>>>16,S[r+10|0]=a>>>24,S[r+11|0]=n,S[r+12|0]=n>>>8,S[r+13|0]=n>>>16,S[r+14|0]=n>>>24,n=y[2202]|y[2203]<<8|(y[2204]<<16|y[2205]<<24),a=y[2198]|y[2199]<<8|(y[2200]<<16|y[2201]<<24),S[r|0]=a,S[r+1|0]=a>>>8,S[r+2|0]=a>>>16,S[r+3|0]=a>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+15|0]=0,n=Z(24),e[o+104>>2]=n,a=n+24|0,e[o+112>>2]=a,Ni(n,r,15),S[n+23|0]=6,e[n+12>>2]=1634607201,e[n+16>>2]=25965,e[o+108>>2]=a,i=Cn(i,o+104|0,10925),S[n+23|0]<0&&P(e[n+12>>2]),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r)}return b=o+144|0,i}function cQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0;_=b+-64|0,b=_,X=1,a=b-128|0,b=a,e[a+56>>2]=19,L=i+16|0,x=r+12|0,e[L+112>>2]=e[x+16>>2],n=e[x+12>>2],e[L+104>>2]=e[x+8>>2],e[L+108>>2]=n,n=e[x+4>>2],e[L+96>>2]=e[x>>2],e[L+100>>2]=n,se=y[L+116|0],se&&(xe(a- -64|0,a+56|0),e[a>>2]=e[a+64>>2],Ye(L,x,9809,a)),j=1,o=b-96|0,b=o,p=L+24|0,v=e[p+40>>2],g=e[p+36>>2];e:{t:{if((v|0)!=(g|0)){M=-1;i:{if(c=e[p+24>>2],V=e[p+28>>2]-c>>3,n=H(((v-g|0)/36|0)-1|0,36)+g|0,V>>>0>nt[n+28>>2]){if(n=(c+(V<<3)|0)-8|0,c=e[n+4>>2],n=e[n>>2],M=c,!n|(n|0)==-21)break i;g=Z(8),e[g>>2]=n,e[g+4>>2]=c,n=g+8|0,e[o+88>>2]=n,e[o+84>>2]=n,e[o+80>>2]=g;break t}if(n=y[n+32|0],n)break i;n=n^1;break e}e[a+56>>2]=M,n=0;break e}e[o+32>>2]=0,e[o+36>>2]=-1,xt(p,27759,o+32|0),g=0,e[o+88>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0}n=o+48|0,$c(n,o+80|0,0),n=XT(n,28466),e[o+72>>2]=e[n+8>>2],c=e[n+4>>2],e[o+64>>2]=e[n>>2],e[o+68>>2]=c,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,S[o+59|0]<0&&P(e[o+48>>2]),e[o+16>>2]=S[o+75|0]<0?e[o+64>>2]:o- -64|0,xt(p,10204,o+16|0),S[o+75|0]<0&&P(e[o+64>>2]),g&&(e[o+84>>2]=g,P(g)),g=e[p+36>>2],v=e[p+40>>2],n=1}e:{if((g|0)==(v|0)){e[o>>2]=0,e[o+4>>2]=-1,xt(p,27759,o),c=1;break e}if(M=((v-g|0)/36|0)-1|0,c=e[(H(M,36)+g|0)+28>>2],V=e[p+28>>2],pe=e[p+24>>2],v=V-pe>>3,c+1>>>0>v>>>0){t:{if(c>>>0>v>>>0){ys(p+24|0,c-v|0);break t}if(c>>>0>=v>>>0)break t;e[p+28>>2]=pe+(c<<3)}c=!y[(H(M,36)+g|0)+32|0];break e}e[p+28>>2]=V-8,c=0}b=o+96|0;e:{if((c|(n|0)==1)==1|se||(e[a+80>>2]=0,e[a+84>>2]=0,e[a+72>>2]=0,e[a+76>>2]=0,e[a+64>>2]=0,e[a+68>>2]=0,n=Ne(a+16|0,e[a+56>>2],x),c=a- -64|0,o=Xf(L,n,c),te(n),j=(o|0)==1|(bR(p,c,a+76|0)|0)==1,j||(e[_+60>>2]=e[a+56>>2]),n=e[a+76>>2],n&&(e[a+80>>2]=n,P(n)),n=e[a+64>>2],!n))break e;e[a+68>>2]=n,P(n)}return b=a+128|0,c=i,i=j|e[i+316>>2]==1,e[c+316>>2]=i,i||(i=e[_+60>>2],e[_+16>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,e[_>>2]=0,e[_+4>>2]=0,i=Ne(_+24|0,i,_),Di(r+36|0,i),te(i),X=0),b=_- -64|0,X|0}function kh(i){var r=0,n=0;if(r=e[i+364>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+356>>2],e[i+356>>2]=0,r&&P(r),r=e[i+344>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+336>>2],e[i+336>>2]=0,r&&P(r),r=e[i+324>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+316>>2],e[i+316>>2]=0,r&&P(r),r=e[i+304>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+296>>2],e[i+296>>2]=0,r&&P(r),r=e[i+284>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+276>>2],e[i+276>>2]=0,r&&P(r),r=e[i+264>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+256>>2],e[i+256>>2]=0,r&&P(r),r=e[i+244>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+236>>2],e[i+236>>2]=0,r&&P(r),r=e[i+224>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+216>>2],e[i+216>>2]=0,r&&P(r),r=e[i+204>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(r=e[i+196>>2],e[i+196>>2]=0,r&&P(r),r=e[i+184>>2],r&&(e[i+188>>2]=r,P(r)),r=e[i+172>>2],r&&(e[i+176>>2]=r,P(r)),r=e[i+160>>2],r&&(e[i+164>>2]=r,P(r)),r=e[i+148>>2],r&&(e[i+152>>2]=r,P(r)),r=e[i+136>>2],r&&(e[i+140>>2]=r,P(r)),r=e[i+124>>2],r&&(e[i+128>>2]=r,P(r)),r=e[i+112>>2],r&&(e[i+116>>2]=r,P(r)),r=e[i+100>>2],r&&(e[i+104>>2]=r,P(r)),r=e[i+88>>2],r&&(e[i+92>>2]=r,P(r)),r=e[i+76>>2],r&&(e[i+80>>2]=r,P(r)),r=e[i+64>>2],r&&(e[i+68>>2]=r,P(r)),r=e[i+32>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+32>>2]=0,e[i+36>>2]=0,e[i+40>>2]=0,S[i+31|0]<0&&P(e[i+20>>2]),i}function uQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;L=b-48|0,b=L,_=fe(L+8|0,r+36|0),p=b-144|0,b=p,n=e[r+16>>2],o=i+16|0,e[o+96>>2]=e[r+12>>2],e[o+100>>2]=n,e[o+112>>2]=e[r+28>>2],n=e[r+24>>2],e[o+104>>2]=e[r+20>>2],e[o+108>>2]=n,n=fe(p+24|0,_),a=fe(p- -64|0,n),r=fe(p+104|0,a),c=e[r+24>>2],g=(e[o+164>>2]-e[o+160>>2]|0)/28|0;e:{t:{if(c>>>0>=g>>>0){if(e[p+8>>2]=g,e[p+4>>2]=c,e[p>>2]=11043,c=Ye(o,r,27451,p),te(r),te(a),te(n),r=1,(c|0)!=1)break t;break e}te(r),te(a),te(n)}t:{if(y[o+116|0]){c=e[_+24>>2],a=o+272|0,r=a,n=e[o+272>>2];i:{if(!n)break i;for(;;){if(r=n,n=e[n+16>>2],n>>>0>c>>>0){if(a=r,n=e[r>>2],n)continue;break i}if(n>>>0>=c>>>0)break t;if(n=e[r+4>>2],!n)break}a=r+4|0}n=Z(20),e[n+8>>2]=r,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=c,e[a>>2]=n,r=e[e[o+268>>2]>>2],r&&(e[o+268>>2]=r,n=e[a>>2]),_2(e[o+272>>2],n),e[o+276>>2]=e[o+276>>2]+1;break t}if(r=e[o+284>>2],(r|0)!=e[o+288>>2]){x=o,M=fe(r,_)+36|0,e[x+284>>2]=M;break t}kT(o+280|0,_)}r=e[(e[o+160>>2]+H(e[_+24>>2],28)|0)+24>>2],a=e[o+56>>2],n=e[o+52>>2];t:{i:{n:{if(y[o+82|0]){if((n|0)!=(a|0)){e[n>>2]=-21,e[n+4>>2]=r;break i}if(c=e[o+48>>2],a=n-c|0,v=a>>3,n=v+1|0,n>>>0>=536870912)break n;if(g=a>>2,g=a>>>0<2147483640?n>>>0<g>>>0?g:n:536870911,g){if(g>>>0>=536870912)break n;n=Z(g<<3)}else n=0;if(v=n+(v<<3)|0,e[v>>2]=-21,e[v+4>>2]=r,(a|0)>0&&Ce(n,c,a),e[o+56>>2]=n+(g<<3),e[o+52>>2]=v+8,e[o+48>>2]=n,!c)break t;P(c);break t}if((n|0)!=(a|0)){e[n>>2]=-16,e[n+4>>2]=-1;break i}if(a=e[o+48>>2],n=n-a|0,g=n>>3,r=g+1|0,r>>>0>=536870912)break n;if(c=n>>2,c=n>>>0<2147483640?r>>>0<c>>>0?c:r:536870911,c){if(c>>>0>=536870912)break n;r=Z(c<<3)}else r=0;if(g=r+(g<<3)|0,e[g>>2]=-16,e[g+4>>2]=-1,(n|0)>0&&Ce(r,a,n),e[o+56>>2]=r+(c<<3),e[o+52>>2]=g+8,e[o+48>>2]=r,!a)break t;P(a);break t}Be(),Ie()}e[o+52>>2]=n+8}r=0}return b=p+144|0,e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,te(_),b=L+48|0,0}function AN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;a=b-96|0,b=a,e[a+80>>2]=0,e[a+84>>2]=0;e:{n=e[i+12>>2],v=n+1|0,p=e[i>>2];t:{if(v>>>0>p>>>0){e[a+4>>2]=7652,e[a>>2]=7319,Q(i,9787,a),g=1;break t}if(L=n,n=e[i+4>>2],o=y[L+n|0],e[i+12>>2]=v,o>>>0>=8){e[a+64>>2]=o,Q(i,24032,a- -64|0),g=1;break t}if(_=o&2,!(y[e[i+88>>2]+5|0]|!_)){Q(i,16449,0),g=1;break t}x=o&1,o=o&4;i:{if(o){if(!y[e[i+88>>2]+14|0]){Q(i,16578,0),g=1;break t}if(n=vk(n+v|0,n+p|0,a+88|0),!n){e[a+48>>2]=6343,Q(i,10087,a+48|0),g=1;break t}if(e[i+12>>2]=n+e[i+12>>2],!x)break i;g=1,c=b-16|0,b=c,n=e[i+4>>2],n=vk(n+e[i+12>>2]|0,n+e[i>>2]|0,a+80|0);n:{if(!n){e[c>>2]=6321,Q(i,10087,c),n=1;break n}e[i+12>>2]=n+e[i+12>>2],n=0}if(b=c+16|0,(n|0)==1)break t;g=e[a+80>>2],c=e[a+84>>2];break i}if(n=qe(n+v|0,n+p|0,a+76|0),!n){e[a+16>>2]=6343,Q(i,10147,a+16|0),g=1;break t}if(n=n+e[i+12>>2]|0,e[i+12>>2]=n,e[a+88>>2]=e[a+76>>2],e[a+92>>2]=0,!x)break i;if(L=n,n=e[i+4>>2],n=qe(L+n|0,n+e[i>>2]|0,a+72|0),!n){e[a+32>>2]=6321,Q(i,10147,a+32|0),g=1;break t}e[i+12>>2]=n+e[i+12>>2],g=e[a+72>>2],e[a+80>>2]=g,e[a+84>>2]=0}if(S[r+18|0]=o>>>2,S[r+17|0]=_>>>1,S[r+16|0]=x,o=e[a+88>>2],n=e[a+92>>2],e[r+8>>2]=g,e[r+12>>2]=c,e[r>>2]=o,e[r+4>>2]=n,o=e[i+136>>2],(o|0)!=e[i+140>>2]){n=e[r+4>>2],e[o>>2]=e[r>>2],e[o+4>>2]=n,n=e[r+20>>2],e[o+16>>2]=e[r+16>>2],e[o+20>>2]=n,n=e[r+12>>2],e[o+8>>2]=e[r+8>>2],e[o+12>>2]=n,e[i+136>>2]=o+24,g=0;break t}if(p=e[i+132>>2],g=o-p|0,c=(g|0)/24|0,o=c+1|0,o>>>0>=178956971)break e;if(n=c<<1,_=c>>>0<89478485?n>>>0>o>>>0?n:o:178956970,_){if(_>>>0>=178956971)break e;n=Z(H(_,24))}else n=0;if(c=n+H(c,24)|0,o=e[r+4>>2],e[c>>2]=e[r>>2],e[c+4>>2]=o,o=e[r+20>>2],e[c+16>>2]=e[r+16>>2],e[c+20>>2]=o,o=e[r+12>>2],e[c+8>>2]=e[r+8>>2],e[c+12>>2]=o,r=c+H((g|0)/-24|0,24)|0,(g|0)>0&&Ce(r,p,g),e[i+140>>2]=n+H(_,24),e[i+136>>2]=c+24,e[i+132>>2]=r,g=0,!p)break t;P(p)}return b=a+96|0,g}Be(),Ie()}function hQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;L=b-80|0,b=L,e[L+8>>2]=215,n=i+16|0,c=r+12|0,e[n+112>>2]=e[c+16>>2],r=e[c+12>>2],e[n+104>>2]=e[c+8>>2],e[n+108>>2]=r,r=e[c+4>>2],e[n+96>>2]=e[c>>2],e[n+100>>2]=r,x=y[n+116|0],x&&(xe(L+16|0,L+8|0),e[L>>2]=e[L+16>>2],Ye(n,c,9809,L)),o=b-96|0,b=o,g=n+24|0,p=e[g+40>>2],a=e[g+36>>2];e:{t:{if((p|0)!=(a|0)){if(c=e[g+24>>2],r=e[g+28>>2]-c>>3,n=H(((p-a|0)/36|0)-1|0,36)+a|0,r>>>0<=nt[n+28>>2]){c=y[n+32|0]^1;break e}if(r=(c+(r<<3)|0)-8|0,_=e[r>>2],n=e[r+4>>2],r=_+21|0,r>>>0<=21&&(c=0,1<<r&2097201))break e;a=Z(8),e[a>>2]=_,e[a+4>>2]=n,r=a+8|0,e[o+88>>2]=r,e[o+84>>2]=r,e[o+80>>2]=a;break t}e[o+32>>2]=0,e[o+36>>2]=-1,xt(g,27759,o+32|0),a=0,e[o+88>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0}r=o+48|0,$c(r,o+80|0,0),c=XT(r,28408),e[o+72>>2]=e[c+8>>2],r=e[c+4>>2],e[o+64>>2]=e[c>>2],e[o+68>>2]=r,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,S[o+59|0]<0&&P(e[o+48>>2]),e[o+16>>2]=S[o+75|0]<0?e[o+64>>2]:o- -64|0,xt(g,10204,o+16|0),S[o+75|0]<0&&P(e[o+64>>2]),a&&(e[o+84>>2]=a,P(a)),a=e[g+36>>2],p=e[g+40>>2],c=1}e:{if((a|0)==(p|0)){e[o>>2]=0,e[o+4>>2]=-1,xt(g,27759,o),r=1;break e}if(_=((p-a|0)/36|0)-1|0,v=e[(H(_,36)+a|0)+28>>2],n=e[g+28>>2],r=e[g+24>>2],p=n-r>>3,v+1>>>0>p>>>0){t:{if(p>>>0<v>>>0){ys(g+24|0,v-p|0);break t}if(p>>>0<=v>>>0)break t;e[g+28>>2]=r+(v<<3)}r=!y[(H(_,36)+a|0)+32|0];break e}e[g+28>>2]=n-8,r=0}e:{t:{n=e[g+28>>2];i:{if((n|0)!=e[g+32>>2]){e[n>>2]=-1,e[n+4>>2]=-1,e[g+28>>2]=n+8;break i}if(v=e[g+24>>2],a=n-v|0,_=a>>3,p=_+1|0,p>>>0>=536870912)break t;if(n=a>>2,p=a>>>0<2147483640?n>>>0>p>>>0?n:p:536870911,p){if(p>>>0>=536870912)break t;n=Z(p<<3)}else n=0;if(_=n+(_<<3)|0,e[_>>2]=-1,e[_+4>>2]=-1,(a|0)>0&&Ce(n,v,a),e[g+32>>2]=n+(p<<3),e[g+28>>2]=_+8,e[g+24>>2]=n,!v)break i;P(v)}b=o+96|0,r=r|(c|0)==1;break e}Be(),Ie()}return b=L+80|0,e[i+316>>2]=(r|0)==1|(x|0)!=0|e[i+316>>2]==1,0}function Br(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;c=y[r+11|0],n=c<<24>>24<0,p=n?e[r+4>>2]:c,o=p,c=n?e[r>>2]:r,r=c,n=o;e:{if(n>>>0<4)break e;n=p-4|0;t:{if(n&4){a=p,o=a,r=c;break t}r=H(y[c|0]|y[c+1|0]<<8|(y[c+2|0]<<16|y[c+3|0]<<24),1540483477),o=H(r>>>24^r,1540483477)^H(p,1540483477),a=n,r=c+4|0}if(n>>>0<4)break e;for(n=a;a=H(y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),1540483477),_=H(a>>>24^a,1540483477),a=H(y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),1540483477),o=_^H(H(a>>>24^a,1540483477)^H(o,1540483477),1540483477),r=r+8|0,n=n-8|0,n>>>0>3;);}e:switch(n-1|0){case 2:o=y[r+2|0]<<16^o;case 1:o=y[r+1|0]<<8^o;case 0:o=H(y[r|0]^o,1540483477);break;default:break e}e:{g=e[i+4>>2];t:{if(!g)break t;r=e[i>>2],i=H(o>>>13^o,1540483477),_=i>>>15^i,n=rs(g),i=_&g-1;i:{if(n>>>0<=1||(i=_,i>>>0<g>>>0))break i;i=(_>>>0)%(g>>>0)|0}if(r=e[r+(i<<2)>>2],!r||(r=e[r>>2],!r))break t;L=i;i:{if(n>>>0<=1){for(v=g-1|0;;){n:{if(i=e[r+4>>2],(i|0)!=(_|0)){if((i&v)==(L|0))break n;break i}if(a=y[r+19|0],n=a<<24>>24,i=(n|0)<0,((i?e[r+12>>2]:a)|0)!=(p|0))break n;if(o=r+8|0,g=e[o>>2],!i){if(!n)break e;if(n=c,y[n|0]!=(g&255))break n;for(;;){if(a=a-1|0,!a)break e;if(i=y[n+1|0],g=y[o+1|0],o=o+1|0,n=n+1|0,(i|0)!=(g|0))break}break n}if(!p)break e;if(En(i?g:o,c,p))break n;break e}if(r=e[r>>2],!r)break}break i}for(;;){n:{if(i=e[r+4>>2],(i|0)!=(_|0)){if(i>>>0>=g>>>0&&(i=(i>>>0)%(g>>>0)|0),(i|0)==(L|0))break n;break i}if(a=y[r+19|0],n=a<<24>>24,i=(n|0)<0,((i?e[r+12>>2]:a)|0)!=(p|0))break n;o=r+8|0,v=e[o>>2];s:{if(!i){if(n)break s;break e}if(!p)break e;if(En(i?v:o,c,p))break n;break e}if(n=c,y[n|0]!=(v&255))break n;for(;;){if(a=a-1|0,a){if(i=y[n+1|0],v=y[o+1|0],o=o+1|0,n=n+1|0,(i|0)==(v|0))continue;break n}break}break e}if(r=e[r>>2],!r)break}}}return 0}return r}function _N(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;n=b-96|0,b=n;e:{t:{i:{n:{if(o=e[r+36>>2],a=e[r+24>>2],o>>>0>=a>>>0||(c=o+1|0,e[r+36>>2]=c,y[o|0]!=110|c>>>0>=a>>>0)||(c=o+2|0,e[r+36>>2]=c,y[o+1|0]!=97|c>>>0>=a>>>0)||(c=o+3|0,e[r+36>>2]=c,y[o+2|0]!=110))break n;if(c>>>0<a>>>0){if(y[c|0]==58){if(c=o+4|0,a>>>0<=c>>>0||(g=o+5|0,e[r+36>>2]=g,y[o+4|0]!=48|g>>>0>=a>>>0)||(g=o+6|0,e[r+36>>2]=g,y[o+5|0]!=120))break i;if(g>>>0>=a>>>0)break t;s:{for(;;){if(!(y[y[g|0]+51313|0]&4))break t;if(o=g+1|0,e[r+36>>2]=o,o>>>0>=a>>>0)break s;r:{c=y[o|0];l:{if((c|0)==95){g=g+2|0,e[r+36>>2]=g;break l}if(!(y[c+51313|0]&4))break r;g=o}if(g>>>0>=a>>>0)break t;continue}break}g=a-o|0,c=0;r:{for(;;){if(!(S[y[o|0]+51313|0]&1))break r;if(o=o+1|0,e[r+36>>2]=o,c=c+1|0,(g|0)==(c|0))break}c=g}if(c)break t}_=e[r+8>>2],g=y[r+15|0],a=e[r+28>>2],v=e[r+4>>2],c=e[r+32>>2],e[n+80>>2]=e[r+16>>2],p=c-a|0,e[n+84>>2]=((p|0)>0?p:0)+1,a=o-a|0,a=((a|0)>0?a:0)+1|0,e[n+88>>2]=a,e[n+24>>2]=a,a=g,g=g<<24>>24<0,e[n+76>>2]=g?_:a,e[n+72>>2]=g?v:r+4|0,e[n- -64>>2]=o-c,r=e[n+84>>2],e[n+16>>2]=e[n+80>>2],e[n+20>>2]=r,e[n+60>>2]=c,e[n+56>>2]=4,r=e[n+76>>2],e[n+8>>2]=e[n+72>>2],e[n+12>>2]=r,sp(i,n+8|0,52,n+56|0);break e}g=a-c|0,o=0;s:{for(;;){if(!(S[y[c|0]+51313|0]&1))break s;if(c=c+1|0,e[r+36>>2]=c,o=o+1|0,(g|0)==(o|0))break}o=g}if(o)break t}_=e[r+8>>2],g=y[r+15|0],a=e[r+28>>2],v=e[r+4>>2],o=e[r+32>>2],e[n+80>>2]=e[r+16>>2],p=o-a|0,e[n+84>>2]=((p|0)>0?p:0)+1,a=c-a|0,a=((a|0)>0?a:0)+1|0,e[n+88>>2]=a,e[n+48>>2]=a,a=g,g=g<<24>>24<0,e[n+76>>2]=g?_:a,e[n+72>>2]=g?v:r+4|0,e[n- -64>>2]=c-o,r=e[n+84>>2],e[n+40>>2]=e[n+80>>2],e[n+44>>2]=r,e[n+60>>2]=o,e[n+56>>2]=4,r=e[n+76>>2],e[n+32>>2]=e[n+72>>2],e[n+36>>2]=r,sp(i,n+32|0,52,n+56|0);break e}c=o}e[r+36>>2]=c}H_(i,r)}b=n+96|0}function CN(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;a=b-112|0,b=a,p=0;e:{if(e[i+176>>2]==e[i+172>>2]||(p=0,y[i+10|0]))break e;p=(Ye(i,r,16661,0)|0)==1}g=e[o>>2],c=e[o+4>>2],(c|0)==1|c>>>0>1&&(e[a+80>>2]=-1,e[a+84>>2]=0,e[a+72>>2]=g,e[a+76>>2]=c,e[a+64>>2]=7595,_=(Ye(i,r,27303,a- -64|0)|0)==1);e:{if(!y[o+16|0]||(g=e[o+8>>2],c=e[o+12>>2],(c|0)==1|c>>>0>1&&(e[a+48>>2]=-1,e[a+52>>2]=0,e[a+40>>2]=g,e[a+44>>2]=c,e[a+32>>2]=7595,_=(Ye(i,r,27271,a+32|0)|0)==1|_,g=e[o+8>>2],c=e[o+12>>2]),v=e[o+4>>2],L=e[o>>2],(v|0)==(c|0)&L>>>0<=g>>>0|c>>>0>v>>>0))break e;e[a+24>>2]=L,e[a+28>>2]=v,e[a+16>>2]=7595,e[a+8>>2]=g,e[a+12>>2]=c,e[a>>2]=7595,_=(Ye(i,r,27228,a)|0)==1|_}_=(_|p)!=0,y[o+17|0]&&(_=(Ye(i,r,16893,0)|0)==1|_),p=e[n>>2];e:{if((p|0)==-16)break e;y[i+10|0]||(_=(Ye(i,r,14214,0)|0)==1|_);t:switch(p+21|0){case 0:case 4:break e;default:break t}_=(Ye(i,r,7831,0)|0)==1|(_|0)!=0}g=e[n>>2],v=e[n+4>>2],r=e[o+20>>2],e[a+104>>2]=e[o+16>>2],e[a+108>>2]=r,r=e[o+12>>2],e[a+96>>2]=e[o+8>>2],e[a+100>>2]=r,r=e[o+4>>2],e[a+88>>2]=e[o>>2],e[a+92>>2]=r;e:{r=e[i+176>>2],n=e[i+180>>2];t:{if(r>>>0<n>>>0){e[r>>2]=g,e[r+4>>2]=v,n=e[a+92>>2],e[r+8>>2]=e[a+88>>2],e[r+12>>2]=n,n=e[a+100>>2],e[r+16>>2]=e[a+96>>2],e[r+20>>2]=n,n=e[a+108>>2],e[r+24>>2]=e[a+104>>2],e[r+28>>2]=n,e[i+176>>2]=r+32;break t}if(p=e[i+172>>2],L=r-p|0,c=L>>5,r=c+1|0,r>>>0>=134217728)break e;if(x=c<<5,n=n-p|0,c=n>>4,c=n>>>0<2147483616?r>>>0<c>>>0?c:r:134217727,c){if(c>>>0>=134217728)break e;r=Z(c<<5)}else r=0;if(n=x+r|0,e[n>>2]=g,e[n+4>>2]=v,g=e[o+4>>2],e[n+8>>2]=e[o>>2],e[n+12>>2]=g,g=e[o+12>>2],e[n+16>>2]=e[o+8>>2],e[n+20>>2]=g,g=e[o+20>>2],e[n+24>>2]=e[o+16>>2],e[n+28>>2]=g,(L|0)>0&&Ce(r,p,L),e[i+180>>2]=r+(c<<5),e[i+176>>2]=n+32,e[i+172>>2]=r,!p)break t;P(p)}return b=a+112|0,_}Be(),Ie()}function Zf(i,r){var n=0,o=0,a=0,c=0;n=b-160|0,b=n,o=0;e:{if(!y[e[i+12>>2]+6|0]||(o=0,(we(i,0)|0)!=26))break e;o=(we(i,1)|0)==35}e:{if(!(o|(we(i,0)|0)==127)){r=Z(72),e[n+64>>2]=r,o=r+72|0,e[n+72>>2]=o,S[r+71|0]=9,ns[r+68>>1]=102,e[r+60>>2]=1702131813,e[r+64>>2]=1701998194,S[r+59|0]=4,e[r+48>>2]=942813558,e[r+52>>2]=0,S[r+47|0]=3,e[r+36>>2]=3421798,S[r+35|0]=3,e[r+24>>2]=3289958,S[r+23|0]=3,e[r+12>>2]=3421801,S[r+11|0]=3,e[r>>2]=3289961,e[n+68>>2]=o,a=Cn(i,n- -64|0,0),S[r+71|0]<0&&P(e[r+60>>2]),S[r+59|0]<0&&P(e[r+48>>2]),S[r+47|0]<0&&P(e[r+36>>2]),S[r+35|0]<0&&P(e[r+24>>2]),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r);break e}if(o){if(a=1,(Ve(i,26)|0)==1||(Ve(i,35)|0)==1||(qt(i,r)|0)==1)break e;a=(Ve(i,39)|0)==1;break e}a=e[i+92>>2]&1,o=H(a,36)+i|0,c=e[o+36>>2],e[n+152>>2]=e[o+32>>2],e[n+156>>2]=c,c=e[o+28>>2],e[n+144>>2]=e[o+24>>2],e[n+148>>2]=c,c=e[o+20>>2],e[n+136>>2]=e[o+16>>2],e[n+140>>2]=c,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,c=e[o+44>>2],o=e[o+40>>2],e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,e[n+128>>2]=o,e[n+132>>2]=c;t:{i:{n:switch(o+17|0){case 12:if(y[e[i+12>>2]+4|0])break i;break t;case 0:case 1:break n;default:break i}if(!y[e[i+12>>2]+10|0])break t}a=0,e[n+56>>2]=0,e[n+48>>2]=0,e[n+52>>2]=0,e[n+40>>2]=0,e[n+44>>2]=0,i=Ne(n- -64|0,o,n+40|0),Di(r,i),te(i);break e}e[n+120>>2]=e[n+152>>2],r=e[n+148>>2],e[n+112>>2]=e[n+144>>2],e[n+116>>2]=r,r=e[n+140>>2],e[n+104>>2]=e[n+136>>2],e[n+108>>2]=r,r=n- -64|0,ci(r,n+128|0),o=e[n+116>>2],e[n+24>>2]=e[n+112>>2],e[n+28>>2]=o,e[n+32>>2]=e[n+120>>2],o=e[n+108>>2],e[n+16>>2]=e[n+104>>2],e[n+20>>2]=o,e[n>>2]=S[n+75|0]<0?e[n+64>>2]:r,Kt(i,n+16|0,9985,n),S[n+75|0]<0&&P(e[n+64>>2]),a=1}return b=n+160|0,a}function Z_(i,r,n){var o=0,a=0,c=0,g=0,p=0;a=b-80|0,b=a;e:{t:{if((we(i,0)|0)==54||(we(i,0)|0)==53)break t;r=Z(48),S[r+32|0]=y[27967],n=y[27963]|y[27964]<<8|(y[27965]<<16|y[27966]<<24),o=y[27959]|y[27960]<<8|(y[27961]<<16|y[27962]<<24),S[r+24|0]=o,S[r+25|0]=o>>>8,S[r+26|0]=o>>>16,S[r+27|0]=o>>>24,S[r+28|0]=n,S[r+29|0]=n>>>8,S[r+30|0]=n>>>16,S[r+31|0]=n>>>24,n=y[27955]|y[27956]<<8|(y[27957]<<16|y[27958]<<24),o=y[27951]|y[27952]<<8|(y[27953]<<16|y[27954]<<24),S[r+16|0]=o,S[r+17|0]=o>>>8,S[r+18|0]=o>>>16,S[r+19|0]=o>>>24,S[r+20|0]=n,S[r+21|0]=n>>>8,S[r+22|0]=n>>>16,S[r+23|0]=n>>>24,n=y[27947]|y[27948]<<8|(y[27949]<<16|y[27950]<<24),o=y[27943]|y[27944]<<8|(y[27945]<<16|y[27946]<<24),S[r+8|0]=o,S[r+9|0]=o>>>8,S[r+10|0]=o>>>16,S[r+11|0]=o>>>24,S[r+12|0]=n,S[r+13|0]=n>>>8,S[r+14|0]=n>>>16,S[r+15|0]=n>>>24,n=y[27939]|y[27940]<<8|(y[27941]<<16|y[27942]<<24),o=y[27935]|y[27936]<<8|(y[27937]<<16|y[27938]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+33|0]=0,n=Z(12),e[a+64>>2]=n,o=n+12|0,e[a+72>>2]=o,Ni(n,r,33),e[a+68>>2]=o,c=Cn(i,a- -64|0,0),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r);break e}if(c=1,p=e[i+92>>2]&1,o=H(p,36)+i|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,g=e[o+48>>2],o=e[o+44>>2],e[i+92>>2]=!p,e[i+88>>2]=e[i+88>>2]-1,(n1(o,o+g|0,n,0)|0)==1){e[a+24>>2]=e[r+16>>2],n=e[r+12>>2],e[a+16>>2]=e[r+8>>2],e[a+20>>2]=n,n=e[r+4>>2],e[a+8>>2]=e[r>>2],e[a+12>>2]=n,e[a>>2]=g,e[a+4>>2]=o,Kt(i,a+8|0,28094,a);break e}if(c=0,!e[n+4>>2]&nt[n>>2]<256)break e;e[a+56>>2]=e[r+16>>2],n=e[r+12>>2],e[a+48>>2]=e[r+8>>2],e[a+52>>2]=n,n=e[r+4>>2],e[a+40>>2]=e[r>>2],e[a+44>>2]=n,e[a+32>>2]=g,e[a+36>>2]=o,Kt(i,a+40|0,27896,a+32|0),c=1}return b=a+80|0,c}function wN(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;g=b-80|0,b=g,x=e[o>>2],V=e[o+4>>2],o=e[i+36>>2],v=e[i+40>>2];e:{if((o|0)==(v|0)){e[g+48>>2]=0,e[g+52>>2]=-1,xt(i,27759,g+48|0),o=e[i+36>>2],v=e[i+40>>2],_=1;break e}if(c=e[i+24>>2],M=e[i+28>>2]-c>>3,p=H(((v-o|0)/36|0)-1|0,36)+o|0,M>>>0<=nt[p+28>>2]){_=!y[p+32|0];break e}if(!x||(c=(c+(M<<3)|0)-8|0,p=e[c>>2],c=e[c+4>>2],!p))break e;if(!((x|0)!=-21|(p|0)!=-21)){_=(c|0)!=(V|0);break e}_=(p|0)!=(x|0)}p=e[n>>2],M=e[n+4>>2];e:{if((o|0)==(v|0)){e[g+32>>2]=0,e[g+36>>2]=-1,xt(i,27759,g+32|0),o=e[i+36>>2],v=e[i+40>>2],n=1;break e}if(c=e[i+24>>2],L=e[i+28>>2]-c>>3,n=H(((v-o|0)/36|0)-1|0,36)+o|0,L>>>0<=e[n+28>>2]+1>>>0){n=!y[n+32|0];break e}if(n=0,!p||(L=(c+(L<<3)|0)-16|0,c=e[L>>2],L=e[L+4>>2],!c))break e;if(!((p|0)!=-21|(c|0)!=-21)){n=(L|0)!=(M|0);break e}n=(c|0)!=(p|0)}c=e[r>>2],L=e[r+4>>2];e:{t:{if((o|0)==(v|0)){e[g+16>>2]=0,e[g+20>>2]=-1,xt(i,27759,g+16|0);break t}X=n|_,_=e[i+24>>2],j=e[i+28>>2]-_>>3,r=H(((v-o|0)/36|0)-1|0,36)+o|0;i:{if(j>>>0<=e[r+28>>2]+2>>>0){n=!y[r+32|0];break i}if(n=0,!c||(_=(_+(j<<3)|0)-24|0,r=e[_>>2],_=e[_+4>>2],!r))break i;if(!((c|0)!=-21|(r|0)!=-21)){n=(_|0)!=(L|0);break i}n=(r|0)!=(c|0)}if(r=0,(n|X)!=1)break e}r=Z(24),e[g+64>>2]=r,n=r+24|0,e[g+72>>2]=n,e[r+16>>2]=x,e[r+20>>2]=V,e[r+8>>2]=p,e[r+12>>2]=M,e[r>>2]=c,e[r+4>>2]=L,e[g+68>>2]=n,p2(i,1,a,g- -64|0,0),P(r),o=e[i+36>>2],v=e[i+40>>2],r=1}e:{if((o|0)==(v|0)){e[g>>2]=0,e[g+4>>2]=-1,xt(i,27759,g),i=1;break e}if(p=e[i+28>>2],c=e[i+24>>2],a=p-c>>3,x=((v-o|0)/36|0)-1|0,n=e[(H(x,36)+o|0)+28>>2],a>>>0<n+3>>>0){t:{if(n>>>0>a>>>0){ys(i+24|0,n-a|0);break t}if(n>>>0>=a>>>0)break t;e[i+28>>2]=c+(n<<3)}i=!y[(H(x,36)+o|0)+32|0];break e}e[i+28>>2]=p-24,i=0}return b=g+80|0,i|r}function vN(i,r){var n=0,o=0,a=0,c=0,g=0,p=Ft(0),_=0,v=0,L=0,x=0,M=0,V=Ft(0);if(v=e[r+8>>2],e[r+4>>2]=v,g=i,n=e[i+4>>2],p=Ft(e[i+12>>2]+1>>>0),V=In[i+16>>2],!(!(p>Ft(V*Ft(n>>>0)))&&n)){o=2,i=(n-1&n)!=0|n>>>0<3|n<<1,p=Ft(Bc(Ft(p/V)));e:{if(p<Ft(4294967296)&p>=Ft(0)){a=~~p>>>0;break e}a=0}i=i>>>0>a>>>0?i:a;e:{if((i|0)==1)break e;if(!(i&i-1)){o=i;break e}o=Vc(i),n=e[g+4>>2]}e:{if(n>>>0>=o>>>0){if(n>>>0<=o>>>0)break e;a=n>>>0<3,p=Ft(Bc(Ft(Ft(nt[g+12>>2])/In[g+16>>2])));t:{if(p<Ft(4294967296)&p>=Ft(0)){i=~~p>>>0;break t}i=0}if(a|rs(n)>>>0>1?i=Vc(i):i=i>>>0<2?i:1<<32-Gi(i-1|0),o=i>>>0<o>>>0?o:i,o>>>0>=n>>>0)break e}EN(g,o)}n=e[g+4>>2]}e:{t:{i:{n:{if(a=rs(n),a>>>0>=2){if(L=n>>>0<=v>>>0?(v>>>0)%(n>>>0)|0:v,i=e[e[g>>2]+(L<<2)>>2],i)break n;a=0;break e}if(L=v&n-1,i=e[e[g>>2]+(L<<2)>>2],i)break i;a=0;break e}if(x=e[r+8>>2],o=x,a>>>0<=1)break t;for(o=0;;){if(a=i,i=e[i>>2],!i||(_=e[i+4>>2],_>>>0>=n>>>0?c=(_>>>0)%(n>>>0)|0:c=_,(c|0)!=(L|0)))break e;if(M=0,M=(_|0)==(v|0)?(x|0)==e[i+8>>2]:M,c=!M&o,o=o|M,(c|0)==1)break}break e}o=e[r+8>>2]}for(c=o,x=n-1|0,o=0;;){if(a=i,i=e[i>>2],!i||(_=e[i+4>>2],(_&x)!=(L|0)))break e;if(n=0,n=(_|0)==(v|0)?(c|0)==e[i+8>>2]:n,_=(n^1)&o,o=n|o,!!_)break}}i=a,a=e[r+4>>2],c=e[g+4>>2],o=rs(c);e:{if(o>>>0<=1){a=c-1&a;break e}if(a>>>0<c>>>0)break e;a=(a>>>0)%(c>>>0)|0}e:{t:{if(!i){if(e[r>>2]=e[g+8>>2],e[g+8>>2]=r,e[e[g>>2]+(a<<2)>>2]=g+8,i=e[r>>2],!i)break e;if(i=e[i+4>>2],o>>>0<=1){i=c-1&i;break t}if(i>>>0<c>>>0)break t;i=(i>>>0)%(c>>>0)|0;break t}if(e[r>>2]=e[i>>2],e[i>>2]=r,i=e[r>>2],!i)break e;i=e[i+4>>2];i:{if(o>>>0<=1){i=c-1&i;break i}if(i>>>0<c>>>0)break i;i=(i>>>0)%(c>>>0)|0}if((i|0)==(a|0))break e}e[e[g>>2]+(i<<2)>>2]=r}e[g+12>>2]=e[g+12>>2]+1}function kN(i,r,n,o){var a=0,c=0,g=0,p=Ft(0),_=0,v=0,L=0,x=Ft(0);g=Z(24),n=e[n>>2],e[g+8>>2]=n,_=g+12|0,a=g+8|0;e:{if(S[o+11|0]>=0){c=e[o+4>>2],e[_>>2]=e[o>>2],e[_+4>>2]=c,e[_+8>>2]=e[o+8>>2];break e}Ni(_,e[o>>2],e[o+4>>2]),n=e[a>>2]}e[g+4>>2]=n,e[g>>2]=0;e:{t:{if(c=e[r+4>>2],!c)break t;v=rs(c);i:{if(v>>>0>=2){if(n=n>>>0>=c>>>0?(n>>>0)%(c>>>0)|0:n,o=e[e[r>>2]+(n<<2)>>2],!o)break t;if(L=e[a>>2],a=L,v>>>0<=1)break i;for(;;){if(o=e[o>>2],!o||(a=e[o+4>>2],a>>>0>=c>>>0&&(a=(a>>>0)%(c>>>0)|0),(n|0)!=(a|0)))break t;if(e[o+8>>2]==(L|0))break}break e}if(n=c-1&n,o=e[e[r>>2]+(n<<2)>>2],!o)break t;a=e[a>>2]}for(v=c-1|0;;){if(o=e[o>>2],!o|(v&e[o+4>>2])!=(n|0))break t;if((a|0)==e[o+8>>2])break}break e}if(p=In[r+16>>2],x=Ft(e[r+12>>2]+1>>>0),c&&(o=0,!(Ft(p*Ft(c>>>0))<x)))break e;n=2,a=(c-1&c)!=0|c>>>0<3|c<<1,p=Ft(Bc(Ft(x/p)));t:{if(p<Ft(4294967296)&p>=Ft(0)){o=~~p>>>0;break t}o=0}o=o>>>0<a>>>0?a:o;t:{if((o|0)==1)break t;if(!(o&o-1)){n=o;break t}n=Vc(o),c=e[r+4>>2]}if(n>>>0<=c>>>0){if(o=0,n>>>0>=c>>>0)break e;v=c>>>0<3,p=Ft(Bc(Ft(Ft(nt[r+12>>2])/In[r+16>>2])));t:{if(p<Ft(4294967296)&p>=Ft(0)){a=~~p>>>0;break t}a=0}if(v|rs(c)>>>0>1?a=Vc(a):a=a>>>0<2?a:1<<32-Gi(a-1|0),n=n>>>0>a>>>0?n:a,c>>>0<=n>>>0)break e}EN(r,n),o=0}if(!o){o=e[g+4>>2],n=e[r+4>>2],a=rs(n);e:{if(a>>>0<=1){o=n-1&o;break e}if(n>>>0>o>>>0)break e;o=(o>>>0)%(n>>>0)|0}c=e[r>>2]+(o<<2)|0,o=e[c>>2];e:{t:{if(!o){if(o=r+8|0,e[g>>2]=e[o>>2],e[r+8>>2]=g,e[c>>2]=o,o=e[g>>2],!o)break e;o=e[o+4>>2];i:{if(a>>>0<=1){o=n-1&o;break i}if(n>>>0>o>>>0)break i;o=(o>>>0)%(n>>>0)|0}o=e[r>>2]+(o<<2)|0;break t}e[g>>2]=e[o>>2]}e[o>>2]=g}e[r+12>>2]=e[r+12>>2]+1,S[i+4|0]=1,e[i>>2]=g;return}S[i+4|0]=0,e[i>>2]=o,S[_+11|0]<0&&P(e[_>>2]),P(g)}function ci(i,r){var n=0,o=0;o=b-32|0,b=o;e:{t:{i:{n:{s:{r:{l:{u:{a:{c:{o:{d:{m:{A:{w:switch(n=e[r>>2],n- -64|0){case 58:break c;case 59:break o;case 60:break d;case 61:break m;case 62:break A;case 63:break w;case 43:break i;case 47:break n;case 64:break s;case 0:break r;case 32:break l;case 48:break u;case 57:break a;default:break t}S[i+11|0]=3,r=y[25651]|y[25652]<<8,S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=y[25653],S[i+3|0]=0;break e}S[i+11|0]=3,r=y[25406]|y[25407]<<8,S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=y[25408],S[i+3|0]=0;break e}S[i+11|0]=3,r=y[25687]|y[25688]<<8,S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=y[25689],S[i+3|0]=0;break e}S[i+11|0]=3,r=y[25441]|y[25442]<<8,S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=y[25443],S[i+3|0]=0;break e}S[i+4|0]=0,e[i>>2]=942813558,S[i+11|0]=4;break e}S[i+2|0]=0,ns[i>>1]=14441,S[i+11|0]=2;break e}S[i+11|0]=3,r=y[25260]|y[25261]<<8,S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=y[25262],S[i+3|0]=0;break e}S[i+11|0]=7,r=y[13248]|y[13249]<<8|(y[13250]<<16|y[13251]<<24),S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=r>>>16,S[i+3|0]=r>>>24,r=y[13251]|y[13252]<<8|(y[13253]<<16|y[13254]<<24),S[i+3|0]=r,S[i+4|0]=r>>>8,S[i+5|0]=r>>>16,S[i+6|0]=r>>>24,S[i+7|0]=0;break e}S[i+4|0]=0,e[i>>2]=1668183398,S[i+11|0]=4;break e}S[i+4|0]=0,e[i>>2]=1684631414,S[i+11|0]=4;break e}S[i+11|0]=3,r=y[1259]|y[1260]<<8,S[i|0]=r,S[i+1|0]=r>>>8,S[i+2|0]=y[1261],S[i+3|0]=0;break e}S[i+11|0]=9,r=y[13242]|y[13243]<<8|(y[13244]<<16|y[13245]<<24),n=y[13238]|y[13239]<<8|(y[13240]<<16|y[13241]<<24),S[i|0]=n,S[i+1|0]=n>>>8,S[i+2|0]=n>>>16,S[i+3|0]=n>>>24,S[i+4|0]=r,S[i+5|0]=r>>>8,S[i+6|0]=r>>>16,S[i+7|0]=r>>>24,S[i+8|0]=y[13246],S[i+9|0]=0;break e}e[o+16>>2]=e[r+4>>2],U0(i,27828,o+16|0);break e}e[o>>2]=n,U0(i,25117,o)}b=o+32|0}function Q_(i,r,n,o){var a=0,c=0,g=0,p=0;a=b+-64|0,b=a;e:{t:{if(!y[n|0])break t;if(r=a1(r,n+4|0),r){g=(mN(i,n+52|0,r+52|0,6717,o)|0)==1|(mN(i,n+40|0,r+40|0,6402,o)|0)==1;break t}if(e[n+40>>2]==e[n+44>>2]&e[n+52>>2]==e[n+56>>2])break t;i:{if(!e[n+24>>2]){e[a+36>>2]=1,e[a>>2]=e[n+28>>2],U0(a+24|0,5110,a),r=e[o+4>>2];n:{if(r>>>0<nt[o+8>>2]){if(g=e[a+28>>2],p=e[a+24>>2],n=y[a+35|0],e[a+56>>2]=e[i+16>>2],c=e[i+12>>2],e[a+48>>2]=e[i+8>>2],e[a+52>>2]=c,c=e[i+4>>2],e[a+40>>2]=e[i>>2],e[a+44>>2]=c,e[r>>2]=1,i=e[a+44>>2],e[r+4>>2]=e[a+40>>2],e[r+8>>2]=i,i=e[a+52>>2],e[r+12>>2]=e[a+48>>2],e[r+16>>2]=i,e[r+20>>2]=e[a+56>>2],i=g,g=n<<24>>24<0,n=g?i:n,n>>>0>=4294967280)break e;s:{r:{if(n>>>0>=11){c=n+16&-16,i=Z(c),e[r+32>>2]=c|-2147483648,e[r+24>>2]=i,e[r+28>>2]=n;break r}if(i=r+24|0,S[i+11|0]=n,!n)break s}Ce(i,g?p:a+24|0,n)}S[i+n|0]=0,e[o+4>>2]=r+36;break n}X_(o,a+36|0,i,a+24|0)}if(S[a+35|0]>=0)break i;P(e[a+24>>2]);break i}e[a+36>>2]=1,r=n+28|0,e[a+16>>2]=S[n+39|0]<0?e[r>>2]:r,U0(a+24|0,9618,a+16|0),r=e[o+4>>2];n:{if(r>>>0<nt[o+8>>2]){if(g=e[a+28>>2],p=e[a+24>>2],n=y[a+35|0],e[a+56>>2]=e[i+16>>2],c=e[i+12>>2],e[a+48>>2]=e[i+8>>2],e[a+52>>2]=c,c=e[i+4>>2],e[a+40>>2]=e[i>>2],e[a+44>>2]=c,e[r>>2]=1,i=e[a+44>>2],e[r+4>>2]=e[a+40>>2],e[r+8>>2]=i,i=e[a+52>>2],e[r+12>>2]=e[a+48>>2],e[r+16>>2]=i,e[r+20>>2]=e[a+56>>2],i=g,g=n<<24>>24<0,n=g?i:n,n>>>0>=4294967280)break e;s:{r:{if(n>>>0>=11){c=n+16&-16,i=Z(c),e[r+32>>2]=c|-2147483648,e[r+24>>2]=i,e[r+28>>2]=n;break r}if(i=r+24|0,S[i+11|0]=n,!n)break s}Ce(i,g?p:a+24|0,n)}S[i+n|0]=0,e[o+4>>2]=r+36;break n}X_(o,a+36|0,i,a+24|0)}if(S[a+35|0]>=0)break i;P(e[a+24>>2])}g=1}return b=a- -64|0,g}Be(),Ie()}function dQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;L=b-48|0,b=L,M=fe(L+8|0,r+36|0),g=M,p=b-80|0,b=p,e[p+8>>2]=9,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],c=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=c,c=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=c,V=y[o+116|0],V&&(xe(p+16|0,p+8|0),e[p>>2]=e[p+16>>2],Ye(o,r,9809,p)),c=b-16|0,b=c,x=1,r=b+-64|0,b=r,o=o+24|0,n=e[o+36>>2],g=e[g+24>>2],a=(e[o+40>>2]-n|0)/36|0;e:{t:{if(g>>>0>=a>>>0){e[r+16>>2]=g,e[r+20>>2]=a-1,xt(o,27759,r+16|0),e[c+12>>2]=0;break t}if(a=n+H(a+(g^-1)|0,36)|0,e[c+12>>2]=a,n=0,e[a>>2]==7)break e;e[r+56>>2]=0,e[r+48>>2]=0,e[r+52>>2]=0,n=e[o+36>>2],a=e[o+40>>2];i:{if((n|0)==(a|0)){a=0,_=0;break i}for(_=(a-n|0)/36|0;e[H((v^-1)+_|0,36)+n>>2]==7&&(n=y[r+59|0],(n<<24>>24<0?e[r+52>>2]:n)&&Pn(r+48|0,28838),n=r+32|0,h1(n,v),_=n,n=y[r+43|0],a=n<<24>>24<0,Mn(r+48|0,a?e[r+32>>2]:_,a?e[r+36>>2]:n),S[r+43|0]<0&&P(e[r+32>>2]),a=e[o+40>>2],n=e[o+36>>2]),v=v+1|0,_=(a-n|0)/36|0,v>>>0<_>>>0;);a=y[r+59|0],_=e[r+52>>2]}n=a<<24>>24;i:{if(!((n|0)<0?_:a&255)){xt(o,12497,0);break i}e[r>>2]=g,e[r+4>>2]=(n|0)<0?e[r+48>>2]:r+48|0,xt(o,27654,r)}if(e[c+12>>2]=0,S[r+59|0]>=0)break t;P(e[r+48>>2])}n=1}b=r- -64|0;e:{if((n|0)==1)break e;if(n=e[o+40>>2],r=e[o+36>>2],(n|0)!=(r|0)){if(r=(r+H((n-r|0)/36|0,36)|0)-36|0,S[r+32|0]=1,r=e[r+28>>2],g=e[o+24>>2],n=e[o+28>>2]-g>>3,r>>>0>n>>>0){ys(o+24|0,r-n|0),x=0;break e}if(x=0,r>>>0>=n>>>0)break e;e[o+28>>2]=g+(r<<3);break e}e[c>>2]=0,e[c+4>>2]=-1,xt(o,27759,c)}return b=c+16|0,b=p+80|0,e[i+316>>2]=(V|0)!=0|x|e[i+316>>2]==1,te(M),b=L+48|0,0}function kk(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-96|0,b=o;e:{t:{if((we(i,0)|0)!=26||(we(i,1)|0)!=29)break t;a=i+16|0,c=e[i+92>>2]&1,n=a+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,g=e[i+88>>2],n=a+H(!c,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=g-2,e[i+92>>2]=c,S[r+20|0]=1,n=0,e[o+72>>2]=0,c=o- -64|0,e[c>>2]=0,e[c+4>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0;i:{c=Ne(o+16|0,-1,o+56|0);n:{if((Zf(i,c)|0)==1||(e[r+12>>2]=e[c+24>>2],e[r+16>>2]=-1,r=Z(48),e[o>>2]=r,g=r+48|0,e[o+8>>2]=g,S[r+47|0]=3,e[r+36>>2]=3421798,S[r+35|0]=3,e[r+24>>2]=3289958,S[r+23|0]=3,e[r+12>>2]=3421801,S[r+11|0]=3,e[r>>2]=3289961,e[o+4>>2]=g,(we(i,0)|0)==26&&(g=e[i+92>>2]&1,n=a+H(g,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!g,n=e[i+88>>2]-1|0,e[i+88>>2]=n,n||(ri(o+56|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,n=a+H(n+e[i+92>>2]&1,36)|0,a=e[o+60>>2],e[n>>2]=e[o+56>>2],e[n+4>>2]=a,e[n+32>>2]=e[o+88>>2],a=e[o+84>>2],e[n+24>>2]=e[o+80>>2],e[n+28>>2]=a,a=e[o+76>>2],e[n+16>>2]=e[o+72>>2],e[n+20>>2]=a,a=o- -64|0,g=e[a+4>>2],e[n+8>>2]=e[a>>2],e[n+12>>2]=g),n=(Cn(i,o,0)|0)==1),S[r+47|0]<0&&P(e[r+36>>2]),S[r+35|0]<0&&P(e[r+24>>2]),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r),n))break n;if((Ve(i,39)|0)!=1)break i}te(c),n=1;break e}te(c),n=0;break e}if(e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,n=1,a=i,i=Ne(o+56|0,-1,o+16|0),(Zf(a,i)|0)!=1){e[r+12>>2]=e[i+24>>2],e[r+16>>2]=-1,te(i),n=0;break e}te(i)}return b=o+96|0,n}function Y_(i,r,n,o){var a=0,c=0,g=0,p=0,_=0;a=b-128|0,b=a,c=35624,_=35624;e:{t:switch(e[r+4>>2]){case 0:c=e[14643],_=1159;break e;case 1:c=e[14643],_=1159;break e;case 2:break t;default:break e}c=e[14644],_=5609}p=F[e[e[r>>2]+8>>2]](r)|0,g=e[i+4>>2],e[a+80>>2]=14435,ee(g,28797,a+80|0),g=e[i+4>>2],e[a+64>>2]=e[p+8>>2],ee(g,24153,a- -64|0),ee(e[i+4>>2],28838,0),p=a+104|0,uT(p,i,c),c=e[i+4>>2],e[a+48>>2]=14877,ee(c,28797,a+48|0),g=y[a+115|0],c=g<<24>>24<0,e[a+92>>2]=c?e[a+108>>2]:g,e[a+88>>2]=c?e[a+104>>2]:p,c=e[a+92>>2],e[a+40>>2]=e[a+88>>2],e[a+44>>2]=c,RT(a+96|0,a+40|0),Ma(i,e[a+96>>2],e[a+100>>2]),ee(e[i+4>>2],28838,0),c=e[i+4>>2],e[a+32>>2]=5609,ee(c,28797,a+32|0),Ma(i,n,o),ee(e[i+4>>2],28838,0),n=e[i+4>>2],e[a+16>>2]=13934,ee(n,28797,a+16|0),n=e[i+4>>2],e[a>>2]=_,ee(n,28384,a),n=y[a+115|0],o=n<<24>>24<0,n=o?e[a+108>>2]:n,o=o?e[a+104>>2]:p;e:{t:{i:{n:switch(e[r+4>>2]){case 0:if(e[a+120>>2]=o,e[a+124>>2]=n,n=e[i+24>>2],!n)break t;r=_k(F[e[e[n>>2]+24>>2]](n,a+120|0)|0,r+8|0,e[i+56>>2]),e[i+60>>2]=e[i+60>>2]==1|(r|0)==1;break i;case 1:if(e[a+120>>2]=o,e[a+124>>2]=n,i=e[i+24>>2],!i)break t;if(n=F[e[e[i>>2]+24>>2]](i,a+120|0)|0,i=e[r+44>>2],r=e[r+40>>2],(i|0)==(r|0))break i;if(i=i-r|0,(i|0)<0)break e;r=Ce(Z(i),r,i),U(n,r,i,35624,0),P(r);break i;case 2:break n;default:break i}if(e[a+120>>2]=o,e[a+124>>2]=n,i=e[i+24>>2],!i)break t;if(n=F[e[e[i>>2]+24>>2]](i,a+120|0)|0,i=e[r+44>>2],r=e[r+40>>2],(i|0)==(r|0))break i;if(i=i-r|0,(i|0)<0)break e;r=Ce(Z(i),r,i),U(n,r,i,35624,0),P(r)}S[a+115|0]<0&&P(e[a+104>>2]),b=a+128|0;return}Nr(),Ie()}Be(),Ie()}function bN(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;c=b-96|0,b=c,v=0;e:{if(e[i+188>>2]==e[i+184>>2]||(v=0,y[i+15|0]))break e;v=(Ye(i,r,16631,0)|0)==1}o=y[n+18|0],_=o?0:65536,g=e[n+4>>2],a=o?65536:0,o=e[n>>2],(g|0)==(a|0)&_>>>0<o>>>0|a>>>0<g>>>0&&(e[c+80>>2]=_,e[c+84>>2]=a,e[c+72>>2]=o,e[c+76>>2]=g,e[c+64>>2]=7898,L=(Ye(i,r,27303,c- -64|0)|0)==1);e:{if(!y[n+16|0]||(p=e[n+12>>2],o=p,g=e[n+8>>2],(o|0)==(a|0)&g>>>0>_>>>0|a>>>0<o>>>0&&(e[c+48>>2]=_,e[c+52>>2]=a,e[c+40>>2]=g,e[c+44>>2]=p,e[c+32>>2]=7898,L=(Ye(i,r,27271,c+32|0)|0)==1|L,p=e[n+12>>2],g=e[n+8>>2]),a=e[n+4>>2],o=e[n>>2],(a|0)==(p|0)&o>>>0<=g>>>0|a>>>0<p>>>0))break e;e[c+24>>2]=o,e[c+28>>2]=a,e[c+16>>2]=7898,e[c+8>>2]=g,e[c+12>>2]=p,e[c>>2]=7898,L=(Ye(i,r,27228,c)|0)==1|L}v=(L|v)!=0;e:{if(!y[n+17|0])break e;if(y[i+5|0]){if(y[n+16|0])break e;p=7752}else p=16918;v=(Ye(i,r,p,0)|0)==1|v}e:{r=e[i+188>>2],o=e[i+192>>2];t:{if(r>>>0<o>>>0){p=e[n+8>>2],_=e[n+12>>2],g=e[n>>2],a=e[n+4>>2],o=e[n+20>>2],e[r+16>>2]=e[n+16>>2],e[r+20>>2]=o,e[r+8>>2]=p,e[r+12>>2]=_,e[r>>2]=g,e[r+4>>2]=a,e[i+188>>2]=r+24;break t}if(p=e[i+184>>2],_=r-p|0,a=(_|0)/24|0,g=a+1|0,g>>>0>=178956971)break e;if(o=(o-p|0)/24|0,r=o<<1,g=o>>>0<89478485?r>>>0>g>>>0?r:g:178956970,g){if(g>>>0>=178956971)break e;r=Z(H(g,24))}else r=0;if(a=r+H(a,24)|0,o=e[n+4>>2],e[a>>2]=e[n>>2],e[a+4>>2]=o,o=e[n+20>>2],e[a+16>>2]=e[n+16>>2],e[a+20>>2]=o,o=e[n+12>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=o,n=a+H((_|0)/-24|0,24)|0,(_|0)>0&&Ce(n,p,_),e[i+192>>2]=r+H(g,24),e[i+188>>2]=a+24,e[i+184>>2]=n,!p)break t;P(p)}return b=c+96|0,v}Be(),Ie()}function SN(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;e:{a=e[i+8>>2],c=e[i+12>>2];t:{if(a>>>0<c>>>0){e[a>>2]=6,e[i+8>>2]=a+4;break t}if(p=e[i+4>>2],_=a-p|0,g=_>>2,a=g+1|0,a>>>0>=1073741824)break e;if(v=g<<2,c=c-p|0,g=c>>1,c=c>>>0<2147483644?a>>>0<g>>>0?g:a:1073741823,c){if(c>>>0>=1073741824)break e;a=Z(c<<2)}else a=0;if(g=v+a|0,e[g>>2]=6,(_|0)>0&&Ce(a,p,_),e[i+12>>2]=a+(c<<2),e[i+8>>2]=g+4,e[i+4>>2]=a,!p)break t;P(p)}a=e[i+20>>2],c=e[i+24>>2];t:{if(a>>>0<c>>>0){e[a>>2]=r,e[i+20>>2]=a+4;break t}if(p=e[i+16>>2],_=a-p|0,g=_>>2,a=g+1|0,a>>>0>=1073741824)break e;if(v=g<<2,c=c-p|0,g=c>>1,c=c>>>0<2147483644?a>>>0<g>>>0?g:a:1073741823,c){if(c>>>0>=1073741824)break e;a=Z(c<<2)}else a=0;if(g=v+a|0,e[g>>2]=r,(_|0)>0&&Ce(a,p,_),e[i+24>>2]=a+(c<<2),e[i+20>>2]=g+4,e[i+16>>2]=a,!p)break t;P(p)}c=e[o>>2],r=e[i+32>>2],p=e[i+36>>2];t:{if(r>>>0<p>>>0){e[r+4>>2]=c,e[r>>2]=o,e[i+32>>2]=r+8;break t}if(a=e[i+28>>2],_=r-a|0,g=_>>3,r=g+1|0,r>>>0>=536870912)break e;if(v=g<<3,p=p-a|0,g=p>>2,p=p>>>0<2147483640?r>>>0<g>>>0?g:r:536870911,p){if(p>>>0>=536870912)break e;r=Z(p<<3)}else r=0;if(g=v+r|0,e[g+4>>2]=c,e[g>>2]=o,(_|0)>0&&Ce(r,a,_),e[i+36>>2]=r+(p<<3),e[i+32>>2]=g+8,e[i+28>>2]=r,!a)break t;P(a)}if(r=e[i+44>>2],a=e[i+48>>2],r>>>0<a>>>0){e[r>>2]=n,e[i+44>>2]=r+4;return}if(o=e[i+40>>2],p=r-o|0,c=p>>2,r=c+1|0,r>>>0>=1073741824)break e;if(a=a-o|0,_=a>>1,a=a>>>0<2147483644?r>>>0<_>>>0?_:r:1073741823,a){if(a>>>0>=1073741824)break e;r=Z(a<<2)}else r=0;c=r+(c<<2)|0,e[c>>2]=n,(p|0)>0&&Ce(r,o,p),e[i+48>>2]=r+(a<<2),e[i+44>>2]=c+4,e[i+40>>2]=r,o&&P(o);return}Be(),Ie()}function fQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;c=b-16|0,b=c,o=e[r+4>>2],e[c+8>>2]=e[r>>2],e[c+12>>2]=o,a=e[e[i+4>>2]>>2],r=e[i+8>>2],g=Ph(Z(20),e[r>>2]),e[c>>2]=g;e:{o=e[a+4>>2];t:{if(o>>>0<nt[a+8>>2]){if(e[c>>2]=0,p=e[c+8>>2],r=e[c+12>>2],n=r,r>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){_=n+16&-16,r=Z(_),e[o+8>>2]=_|-2147483648,e[o>>2]=r,e[o+4>>2]=n;break n}if(S[o+11|0]=r,r=o,!n)break i}Ce(r,p,n)}S[r+n|0]=0,e[o+12>>2]=g,e[a+4>>2]=o+16;break t}o=a,r=e[o>>2];i:{n:{s:{if(_=e[o+4>>2]-r>>4,a=_+1|0,a>>>0>=268435456)break s;if(r=e[o+8>>2]-r|0,n=r>>3,r=r>>>0<2147483632?n>>>0>a>>>0?n:a:268435455,r){if(r>>>0>=268435456)break s;p=Z(r<<4)}if(x=e[c>>2],n=e[c+8>>2],a=e[c+12>>2],e[c>>2]=0,g=a,a>>>0>=4294967280)break s;v=r<<4,a=(_<<4)+p|0;r:{l:{if(g>>>0>=11){L=g+16&-16,r=Z(L),e[a+8>>2]=L|-2147483648,e[a>>2]=r,e[a+4>>2]=g;break l}if(S[a+11|0]=g,r=a,!g)break r}Ce(r,n,g)}if(v=p+v|0,S[r+g|0]=0,e[((_<<4)+p|0)+12>>2]=x,g=a+16|0,r=e[o>>2],n=e[o+4>>2],(r|0)==(n|0))break n;for(;n=n-16|0,p=e[n+4>>2],a=a-16|0,e[a>>2]=e[n>>2],e[a+4>>2]=p,e[a+8>>2]=e[n+8>>2],e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,p=e[n+12>>2],e[n+12>>2]=0,e[a+12>>2]=p,(r|0)!=(n|0););if(e[o+8>>2]=v,n=e[o+4>>2],e[o+4>>2]=g,r=e[o>>2],e[o>>2]=a,(r|0)==(n|0))break i;for(;n=n-16|0,o=e[n+12>>2],e[n+12>>2]=0,o&&F[e[e[o>>2]+4>>2]](o),S[n+11|0]<0&&P(e[n>>2]),(r|0)!=(n|0););break i}Be(),Ie()}e[o+8>>2]=v,e[o+4>>2]=g,e[o>>2]=a}r&&P(r)}return r=e[c>>2],e[c>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),b=c+16|0,e[e[e[e[i+4>>2]>>2]+4>>2]-4>>2]}Be(),Ie()}function gQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;_=b-80|0,b=_,a=r+12|0;e:{if(y[r+36|0]){fe(_+40|0,r+40|0);break e}Ne(_+40|0,ko(e[i+312>>2],r+36|0),a)}x=_+40|0,c=x,M=fe(_,r+140|0),r=M,o=b-208|0,b=o,e[o+168>>2]=16,g=e[a+12>>2],n=i+16|0,e[n+104>>2]=e[a+8>>2],e[n+108>>2]=g,g=e[a+4>>2],e[n+96>>2]=e[a>>2],e[n+100>>2]=g,e[n+112>>2]=e[a+16>>2],V=y[n+116|0],V&&(xe(o+104|0,o+168|0),e[o+16>>2]=e[o+104>>2],Ye(n,a,9809,o+16|0)),a=fe(o- -64|0,r),g=fe(o+168|0,a),r=fe(o+104|0,g),p=e[r+24>>2],v=e[n+176>>2]-e[n+172>>2]>>5;e:{if(p>>>0>=v>>>0){e[o+8>>2]=v,e[o+4>>2]=p,e[o>>2]=15348,p=Ye(n,r,27451,o),te(r),r=(p|0)==1;break e}te(r),r=0}te(g),te(a),e[o+120>>2]=0,e[o+124>>2]=0,e[o+112>>2]=0,e[o+116>>2]=0,e[o+104>>2]=0,e[o+108>>2]=0,a=fe(o+24|0,c),c=o+104|0,v=Xf(n,a,c),te(a),g=o+116|0,a=b-48|0,b=a,e[a+40>>2]=-1,e[a+44>>2]=-1,e[a+32>>2]=-1,e[a+36>>2]=-1,n=n+24|0,p=C2(n,a+32|0,7093),L=eo(n,c,7093),X=Go(n,e[c+4>>2]-e[c>>2]>>3),c=e[n+36>>2];e:{t:{if((c|0)==e[n+40>>2]){e[a>>2]=-1,e[a+4>>2]=-1,xt(n,27759,a);break t}if(g=fT(n,g,c+16|0),j=e[n+40>>2],c=e[n+36>>2],(j|0)!=(c|0)){if(g=(p|0)==1|(L|0)==1|(X|0)==1|(g|0)==1,c=(c+H((j-c|0)/36|0,36)|0)-36|0,S[c+32|0]=1,c=e[c+28>>2],L=e[n+24>>2],p=e[n+28>>2]-L>>3,c>>>0>p>>>0){ys(n+24|0,c-p|0);break e}if(c>>>0>=p>>>0)break e;e[n+28>>2]=L+(c<<3);break e}e[a+16>>2]=0,e[a+20>>2]=-1,xt(n,27759,a+16|0)}g=1}return b=a+48|0,n=e[o+116>>2],n&&(e[o+120>>2]=n,P(n)),n=e[o+104>>2],n&&(e[o+108>>2]=n,P(n)),b=o+208|0,e[i+316>>2]=e[i+316>>2]==1|((V|0)!=0|r|(v|0)==1|(g|0)==1)==1,te(M),te(x),b=_+80|0,0}function $_(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0;if(o=e[n+4>>2],a=e[n>>2],(o|0)!=(a|0)){for(;o=o-12|0,S[o+11|0]<0&&P(e[o>>2]),(o|0)!=(a|0););o=e[n>>2]}e[n+4>>2]=a,g=(a-o|0)/12|0;e:{if(g>>>0<i>>>0){if(i=i-g|0,c=e[n+8>>2],o=e[n+4>>2],i>>>0<=(c-o|0)/12>>>0){i&&(i=H(i,12)-12|0,i=(i-((i>>>0)%12|0)|0)+12|0,o=pn(o,0,i)+i|0),e[n+4>>2]=o;break e}t:{i:{n:{if(g=e[n>>2],p=(o-g|0)/12|0,a=p+i|0,a>>>0>=357913942)break n;if(c=(c-g|0)/12|0,_=c<<1,c=c>>>0<178956970?a>>>0<_>>>0?_:a:357913941,c){if(c>>>0>=357913942)break n;v=Z(H(c,12))}if(a=H(p,12)+v|0,i=H(i,12)-12|0,p=(i-((i>>>0)%12|0)|0)+12|0,i=pn(a,0,p),p=i+p|0,c=H(c,12)+v|0,(o|0)==(g|0))break i;for(;o=o-12|0,i=e[o+4>>2],a=a-12|0,e[a>>2]=e[o>>2],e[a+4>>2]=i,e[a+8>>2]=e[o+8>>2],e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,(o|0)!=(g|0););if(e[n+8>>2]=c,i=e[n+4>>2],e[n+4>>2]=p,o=e[n>>2],e[n>>2]=a,(i|0)==(o|0))break t;for(;i=i-12|0,S[i+11|0]<0&&P(e[i>>2]),(i|0)!=(o|0););break t}Be(),Ie()}e[n+8>>2]=c,e[n+4>>2]=p,e[n>>2]=i}o&&P(o);break e}if(i>>>0>=g>>>0)break e;if(i=H(i,12)+o|0,(i|0)!=(a|0))for(;a=a-12|0,S[a+11|0]<0&&P(e[a>>2]),(i|0)!=(a|0););e[n+4>>2]=i}if(o=e[r+8>>2],o)for(;;){i=e[n>>2]+H(e[o+40>>2],12)|0,r=o+8|0;e:{if((i|0)==(r|0))break e;if(g=y[r+11|0],a=g<<24>>24,S[i+11|0]>=0){if((a|0)>=0){a=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=a,e[i+8>>2]=e[r+8>>2];break e}Er(i,e[o+8>>2],e[o+12>>2]);break e}c=i,i=(a|0)<0,So(c,i?e[o+8>>2]:r,i?e[o+12>>2]:g)}if(o=e[o>>2],!o)break}}function yN(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0;o=b-96|0,b=o,e[o+80>>2]=0,e[o+84>>2]=0,e[o+72>>2]=0,e[o+76>>2]=0,e[o+64>>2]=0,e[o+68>>2]=0,n=fe(o+24|0,n),g=Xf(i,n,o- -64|0),te(n),e[o+76>>2]==e[o+80>>2]?g=(g|0)==1:g=(g|0)==1|(Ye(i,r,26331,0)|0)==1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0;e:{if(r=e[o+68>>2],n=e[o+64>>2],(r|0)!=(n|0)){if(a=r-n|0,(a|0)<0)break e;r=Z(a),e[o+8>>2]=r,e[o+16>>2]=r+(a>>3<<3),_=o,v=Ce(r,n,a)+a|0,e[_+12>>2]=v}r=e[i+212>>2];t:{if(r>>>0<nt[i+216>>2]){e[r>>2]=e[o+8>>2],e[r+4>>2]=e[o+12>>2],e[r+8>>2]=e[o+16>>2],e[i+212>>2]=r+12;break t}n=0;i:{n:{s:{if(r=e[i+208>>2],p=(e[i+212>>2]-r|0)/12|0,c=p+1|0,c>>>0>=357913942)break s;if(a=(e[i+216>>2]-r|0)/12|0,r=a<<1,r=a>>>0<178956970?r>>>0>c>>>0?r:c:357913941,r){if(r>>>0>=357913942)break s;n=Z(H(r,12))}if(c=H(p,12)+n|0,e[c>>2]=e[o+8>>2],e[c+4>>2]=e[o+12>>2],e[c+8>>2]=e[o+16>>2],e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,p=H(r,12)+n|0,a=c+12|0,r=e[i+212>>2],n=e[i+208>>2],(r|0)==(n|0))break n;for(;c=c-12|0,r=r-12|0,e[c>>2]=e[r>>2],e[c+4>>2]=e[r+4>>2],e[c+8>>2]=e[r+8>>2],e[r+8>>2]=0,e[r>>2]=0,e[r+4>>2]=0,(r|0)!=(n|0););if(e[i+216>>2]=p,r=e[i+212>>2],e[i+212>>2]=a,n=e[i+208>>2],e[i+208>>2]=c,(r|0)==(n|0))break i;for(;i=r-12|0,a=e[i>>2],a&&(e[r-8>>2]=a,P(a)),r=i,(n|0)!=(r|0););break i}Be(),Ie()}e[i+216>>2]=p,e[i+212>>2]=a,e[i+208>>2]=c}if(n&&P(n),i=e[o+8>>2],!i)break t;e[o+12>>2]=i,P(i)}return i=e[o+76>>2],i&&(e[o+80>>2]=i,P(i)),i=e[o+64>>2],i&&(e[o+68>>2]=i,P(i)),b=o+96|0,g}Be(),Ie()}function mQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;if(a=e[i+8>>2],i=e[a+4>>2],(i|0)!=e[a+8>>2]){n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n,n=e[r+20>>2],e[i+16>>2]=e[r+16>>2],e[i+20>>2]=n,n=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=n,n=i+24|0;e:{if(S[r+35|0]>=0){g=e[r+28>>2],e[n>>2]=e[r+24>>2],e[n+4>>2]=g,e[n+8>>2]=e[r+32>>2];break e}Ni(n,e[r+24>>2],e[r+28>>2])}return e[a+4>>2]=i+36,1}e:{t:{i:{if(n=e[a+4>>2],g=e[a>>2],o=(n-g|0)/36|0,i=o+1|0,i>>>0>=119304648)break i;if(c=(e[a+8>>2]-g|0)/36|0,_=c<<1,c=c>>>0<59652323?i>>>0<_>>>0?_:i:119304647,c){if(c>>>0>=119304648)break i;p=Z(H(c,36))}i=H(o,36)+p|0,o=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=o,o=e[r+20>>2],e[i+16>>2]=e[r+16>>2],e[i+20>>2]=o,o=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=o,o=H(c,36),c=i+24|0;n:{if(S[r+35|0]>=0){_=e[r+28>>2],e[c>>2]=e[r+24>>2],e[c+4>>2]=_,e[c+8>>2]=e[r+32>>2];break n}Ni(c,e[r+24>>2],e[r+28>>2]),n=e[a+4>>2],g=e[a>>2]}if(c=o+p|0,p=i+36|0,(n|0)==(g|0))break t;for(;n=n-36|0,r=n,o=e[r+4>>2],i=i-36|0,e[i>>2]=e[r>>2],e[i+4>>2]=o,o=e[r+20>>2],e[i+16>>2]=e[r+16>>2],e[i+20>>2]=o,o=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=o,e[i+32>>2]=e[r+32>>2],o=e[r+28>>2],e[i+24>>2]=e[r+24>>2],e[i+28>>2]=o,e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0,(r|0)!=(g|0););if(e[a+8>>2]=c,r=e[a+4>>2],e[a+4>>2]=p,n=e[a>>2],e[a>>2]=i,(r|0)==(n|0))break e;for(;i=r-36|0,S[i+35|0]<0&&P(e[r-12>>2]),r=i,(r|0)!=(n|0););break e}Be(),Ie()}e[a+8>>2]=c,e[a+4>>2]=p,e[a>>2]=i}return n&&P(n),1}function pQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;p=b-16|0,b=p;e:{if(!e[i+56>>2]||(c=i+40|0,_=i+52|0,n=e[_>>2],r=(n>>>0)/146|0,g=e[e[c>>2]+(r<<2)>>2],o=n-H(r,146)|0,a=g+H(o,28)|0,r=e[i+16>>2],e[a>>2]!=(r|0)))break e;n=a+4|0;t:{i:{if(!e[a+24>>2]){_T(n),a=g+H(o,28)|0,r=e[a+8>>2],o=e[a+12>>2];n:{if((r|0)==(o|0))break n;for(;P(e[r>>2]),r=r+4|0,(o|0)!=(r|0););if(o=e[a+12>>2],r=e[a+8>>2],(o|0)==(r|0))break n;e[a+12>>2]=o+((r-o|0)+3&-4)}if(r=e[n>>2],r&&P(r),e[i+56>>2]=e[i+56>>2]-1,n=e[i+52>>2]+1|0,e[i+52>>2]=n,r=0,n>>>0<=291)break e;n=-146;break i}if(c=e[r+168>>2],r=e[n+16>>2],o=e[e[n+4>>2]+(r>>>8&16777212)>>2]+((r&1023)<<2)|0,a=e[o>>2],r=e[e[i+4>>2]+8>>2]-1|0,(c+e[a+20>>2]|0)!=(r|0))break e;if(e[a+20>>2]=r,e[a+12>>2]=0,e[a+16>>2]=0,r=e[o>>2],e[o>>2]=0,c=n+4|0,_=n+16|0,o=e[_>>2],a=e[e[c>>2]+(o>>>8&16777212)>>2]+((o&1023)<<2)|0,g=e[a>>2],e[a>>2]=0,g&&(F[e[e[g>>2]+4>>2]](g),o=e[n+16>>2]),o=o+1|0,e[n+16>>2]=o,e[n+20>>2]=e[n+20>>2]-1,n=-1024,o>>>0<2048)break t}P(e[e[c>>2]>>2]),e[c>>2]=e[c>>2]+4,e[_>>2]=e[_>>2]+n}if(!r)break e;if(a=e[e[i+4>>2]+8>>2],o=e[i+32>>2],n=Ge(o),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=a,e[r+16>>2]=n,e[r+12>>2]=o,n=e[i+24>>2],a=e[i+20>>2],o=(n-a|0)/12|0,(n|0)!=(a|0)){n=e[(a+H(o,12)|0)-8>>2],i=e[n+4>>2],i?(e[r+8>>2]=i,i=i+4|0):i=n,e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1;break e}e[p+4>>2]=o,e[p>>2]=0,Yt(i,15800,p),F[e[e[r>>2]+4>>2]](r),v=1}return b=p+16|0,v|0}function LN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;n=b-96|0,b=n;e:{t:{if(o=e[r+36>>2],a=e[r+24>>2],o>>>0>=a>>>0||(c=o+1|0,e[r+36>>2]=c,y[o|0]!=105|a>>>0<=c>>>0)||(c=o+2|0,e[r+36>>2]=c,y[o+1|0]!=110|a>>>0<=c>>>0)||(g=o+3|0,e[r+36>>2]=g,y[o+2|0]!=102))break t;i:{if(a>>>0>g>>>0){c=a-g|0,o=0;n:{for(;;){if(!(S[y[g|0]+51313|0]&1))break n;if(g=g+1|0,e[r+36>>2]=g,o=o+1|0,(c|0)==(o|0))break}o=c}if(o)break i}_=e[r+8>>2],c=y[r+15|0],a=e[r+28>>2],v=e[r+4>>2],o=e[r+32>>2],e[n+80>>2]=e[r+16>>2],p=o-a|0,e[n+84>>2]=((p|0)>0?p:0)+1,a=g-a|0,a=((a|0)>0?a:0)+1|0,e[n+88>>2]=a,e[n+16>>2]=a,a=c,c=c<<24>>24<0,e[n+76>>2]=c?_:a,e[n+72>>2]=c?v:r+4|0,e[n- -64>>2]=g-o,r=e[n+84>>2],e[n+8>>2]=e[n+80>>2],e[n+12>>2]=r,e[n+60>>2]=o,e[n+56>>2]=3,r=e[n+76>>2],e[n>>2]=e[n+72>>2],e[n+4>>2]=r,sp(i,n,52,n+56|0);break e}i:{if(a>>>0<=g>>>0)break i;for(c=a-g|0,o=0;;){if(!(S[y[g|0]+51313|0]&1))break i;if(g=g+1|0,e[r+36>>2]=g,o=o+1|0,(c|0)==(o|0))break}}_=e[r+8>>2],c=y[r+15|0],a=e[r+28>>2],v=e[r+4>>2],o=e[r+32>>2],e[n+80>>2]=e[r+16>>2],p=o-a|0,e[n+84>>2]=((p|0)>0?p:0)+1,a=g-a|0,a=((a|0)>0?a:0)+1|0,e[n+88>>2]=a,e[n+48>>2]=a,a=e[n+84>>2],e[n+40>>2]=e[n+80>>2],e[n+44>>2]=a,e[n+56>>2]=o,e[n+60>>2]=g-o,o=c<<24>>24<0,e[n+76>>2]=o?_:c,e[n+72>>2]=o?v:r+4|0,r=e[n+60>>2],e[n+24>>2]=e[n+56>>2],e[n+28>>2]=r,r=e[n+76>>2],e[n+32>>2]=e[n+72>>2],e[n+36>>2]=r,Qo(i,n+32|0,124,n+24|0);break e}e[r+36>>2]=o,H_(i,r)}b=n+96|0}function Wm(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;n=b-128|0,b=n,g=i+16|0;e:{if(e[i+88>>2]){a=e[i+92>>2];break e}ri(n+88|0,e[i>>2],i),o=e[i+88>>2],e[i+88>>2]=o+1,c=e[n+92>>2],a=e[i+92>>2],o=g+H(o+a&1,36)|0,e[o>>2]=e[n+88>>2],e[o+4>>2]=c,e[o+32>>2]=e[n+120>>2],c=e[n+116>>2],e[o+24>>2]=e[n+112>>2],e[o+28>>2]=c,c=e[n+108>>2],e[o+16>>2]=e[n+104>>2],e[o+20>>2]=c,c=e[n+100>>2],e[o+8>>2]=e[n+96>>2],e[o+12>>2]=c}L=1,a=g+H(a&1,36)|0,e[n+104>>2]=e[a+16>>2],o=e[a+12>>2],e[n+96>>2]=e[a+8>>2],e[n+100>>2]=o,o=e[a+4>>2],e[n+88>>2]=e[a>>2],e[n+92>>2]=o,e[n+80>>2]=0,e[n+72>>2]=0,e[n+76>>2]=0;e:{if((H0(i,n+72|0)|0)==1||(L=0,o=y[n+83|0],a=o<<24>>24,g=(a|0)<0?e[n+76>>2]:o,!g))break e;if(p=y[r+11|0],c=p<<24>>24,_=(c|0)<0?e[r+4>>2]:p,!_){r=e[n+100>>2],e[n+16>>2]=e[n+96>>2],e[n+20>>2]=r,e[n+24>>2]=e[n+104>>2],r=e[n+92>>2],e[n+8>>2]=e[n+88>>2],e[n+12>>2]=r,e[n>>2]=(a|0)<0?e[n+72>>2]:n+72|0,Kt(i,n+8|0,28228,n);break e}o=(a|0)<0?e[n+72>>2]:n+72|0,v=e[r>>2];t:{if((g|0)!=(_|0))break t;if((c|0)>=0){if(!c)break e;if(y[o|0]!=(v&255))break t;for(a=r,g=o;;){if(p=p-1|0,!p)break e;if(_=y[g+1|0],x=y[a+1|0],a=a+1|0,g=g+1|0,(_|0)!=(x|0))break}break t}if(!En(v,o,g))break e}e[n- -64>>2]=e[n+104>>2],a=e[n+100>>2],e[n+56>>2]=e[n+96>>2],e[n+60>>2]=a,a=e[n+92>>2],e[n+48>>2]=e[n+88>>2],e[n+52>>2]=a,e[n+36>>2]=o,e[n+32>>2]=(c|0)<0?v:r,Kt(i,n+48|0,28358,n+32|0)}return S[n+83|0]<0&&P(e[n+72>>2]),b=n+128|0,L}function AQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;j=b-48|0,b=j,X=fe(j+8|0,r+36|0),n=X,o=b-160|0,b=o,e[o+88>>2]=27,p=i+16|0,a=r+12|0,e[p+112>>2]=e[a+16>>2],r=e[a+12>>2],e[p+104>>2]=e[a+8>>2],e[p+108>>2]=r,r=e[a+4>>2],e[p+96>>2]=e[a>>2],e[p+100>>2]=r;e:{if(y[p+116|0]){xe(o+96|0,o+88|0),e[o+32>>2]=e[o+96>>2],Ye(p,a,9809,o+32|0),r=1;break e}c=fe(o+48|0,n);t:{i:{if(r=e[p+244>>2],_=e[p+248>>2],(r|0)==(_|0))r=0;else{for(v=e[c+24>>2],L=(_-r|0)/12|0;x=L>>>1|0,a=H(x,12)+r|0,V=v>>>0<nt[a+8>>2],r=V?r:a+12|0,L=V?x:(x^-1)+L|0,!!L;);if((r|0)!=(_|0))break i;r=e[_-4>>2]}e[o+16>>2]=r,a=0,n=-1,r=(Ye(p,c,27489,o+16|0)|0)==1;break t}g=e[r>>2],a=0,n=e[r+4>>2],r=0}te(c),g=a|g,e[o+8>>2]=g,n=n|M,e[o+12>>2]=n,e[o+40>>2]=g,e[o+44>>2]=n,g=b-16|0,b=g,n=e[o+12>>2],V=n,_=e[o+8>>2],e[g>>2]=_,e[g+4>>2]=n,e[g+8>>2]=_,e[g+12>>2]=n,c=p+24|0,a=C2(c,g,15526);t:{i:{n:{if((_|0)==-64)break n;if(n=e[c+28>>2],(n|0)!=e[c+32>>2]){e[n>>2]=_,e[n+4>>2]=V,e[c+28>>2]=n+8;break n}if(x=e[c+24>>2],L=n-x|0,M=L>>3,v=M+1|0,v>>>0>=536870912)break i;if(n=L>>2,v=L>>>0<2147483640?n>>>0>v>>>0?n:v:536870911,v){if(v>>>0>=536870912)break i;n=Z(v<<3)}else n=0;if(M=n+(M<<3)|0,e[M>>2]=_,e[M+4>>2]=V,(L|0)>0&&Ce(n,x,L),e[c+32>>2]=n+(v<<3),e[c+28>>2]=M+8,e[c+24>>2]=n,!x)break n;P(x)}b=g+16|0,n=(a|0)==1;break t}Be(),Ie()}r=r|n}return b=o+160|0,e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,te(X),b=j+48|0,0}function _Q(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,r=e[r>>2],n=Z(12),FR(n,e[r>>2],e[r+4>>2]),e[n+8>>2]=e[r+8>>2],r=Z(24),e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=n,e[r+12>>2]=0,e[r+16>>2]=0,ns[r+20>>1]=0,e[n+4>>2]&&(e[n+8>>2]=0);e:{if(n=e[r+8>>2],o=e[r+12>>2],n>>>0<o>>>0){e[n>>2]=0,e[n+4>>2]=0,e[r+8>>2]=n+8;break e}t:{if(a=e[r+4>>2],g=n-a|0,p=g>>3,n=p+1|0,n>>>0>=536870912)break t;if(o=o-a|0,v=o>>2,o=o>>>0<2147483640?n>>>0<v>>>0?v:n:536870911,o){if(o>>>0>=536870912)break t;n=Z(o<<3)}else n=0;p=n+(p<<3)|0,e[p>>2]=0,e[p+4>>2]=0,(g|0)>0&&Ce(n,a,g),e[r+12>>2]=n+(o<<3),e[r+8>>2]=p+8,e[r+4>>2]=n,a&&P(a);break e}Be(),Ie()}a=UR(c+24|0),e[c+16>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,n=r,tN(c+32|0,i,0,r,a,c+8|0),S[c+19|0]<0&&P(e[c+8>>2]),g=Z(12),e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,a=y[c+43|0],i=a<<24>>24,r=(i|0)<0;e:{if(a=r?e[c+36>>2]:a,a){for(r=r?e[c+32>>2]:c+32|0,L=a+r|0,i=0;;){v=y[r|0];t:{if(i>>>0<_>>>0){S[i|0]=v;break t}if(p=e[g>>2],a=i-p|0,o=a+1|0,(o|0)<0)break e;if(i=_-p|0,_=i<<1,_=i>>>0<1073741823?o>>>0<_>>>0?_:o:2147483647,_?o=Z(_):o=0,i=o+a|0,S[i|0]=v,(a|0)>0&&Ce(o,p,a),_=o+_|0,e[g>>2]=o,!p)break t;P(p)}if(i=i+1|0,r=r+1|0,(L|0)==(r|0))break}e[g+8>>2]=_,e[g+4>>2]=i,i=y[c+43|0]}return i<<24>>24<0&&P(e[c+32>>2]),i=e[n+4>>2],i&&(e[n+8>>2]=i,P(i)),i=e[n>>2],e[n>>2]=0,i&&P(i),P(n),b=c+48|0,g|0}e[g+8>>2]=_,e[g+4>>2]=i,Be(),Ie()}function CQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;x=b-48|0,b=x,M=fe(x+8|0,r+36|0),p=M,a=b-192|0,b=a,e[a+152>>2]=211,c=i+16|0,n=r+12|0,e[c+112>>2]=e[n+16>>2],r=e[n+12>>2],e[c+104>>2]=e[n+8>>2],e[c+108>>2]=r,r=e[n+4>>2],e[c+96>>2]=e[n>>2],e[c+100>>2]=r,V=y[c+116|0],V&&(xe(a+88|0,a+152|0),e[a+32>>2]=e[a+88>>2],Ye(c,n,9809,a+32|0)),n=fe(a+48|0,p),_=fe(a+152|0,n),g=fe(a+88|0,_),p=e[g+24>>2],r=e[c+176>>2]-e[c+172>>2]>>5;e:{t:{if(p>>>0>=r>>>0){if(e[a+24>>2]=r,e[a+20>>2]=p,e[a+16>>2]=15348,p=Ye(c,g,27451,a+16|0),te(g),!p)break t;g=0,r=-1,p=(p|0)==1;break e}te(g)}p=e[c+172>>2]+(e[_+24>>2]<<5)|0,r=e[p+4>>2],g=0,o=e[p>>2],p=0}te(_),te(n),o=o|g,e[a+8>>2]=o,e[a+12>>2]=r,e[a+40>>2]=o,e[a+44>>2]=r,n=b-32|0,b=n,o=e[a+12>>2],r=e[a+8>>2],e[n+24>>2]=r,e[n+28>>2]=o,e[n+16>>2]=-1,e[n+20>>2]=-1,e[n+8>>2]=r,e[n+12>>2]=o,e[n>>2]=-1,e[n+4>>2]=-1,v=c+24|0,r=bk(v,n+8|0,n,2642);e:{t:{o=e[v+28>>2];i:{if((o|0)!=e[v+32>>2]){e[o>>2]=-1,e[o+4>>2]=-1,e[v+28>>2]=o+8;break i}if(c=e[v+24>>2],L=o-c|0,g=L>>3,_=g+1|0,_>>>0>=536870912)break t;if(o=L>>2,_=L>>>0<2147483640?o>>>0>_>>>0?o:_:536870911,_){if(_>>>0>=536870912)break t;o=Z(_<<3)}else o=0;if(g=o+(g<<3)|0,e[g>>2]=-1,e[g+4>>2]=-1,(L|0)>0&&Ce(o,c,L),e[v+32>>2]=o+(_<<3),e[v+28>>2]=g+8,e[v+24>>2]=o,!c)break i;P(c)}b=n+32|0;break e}Be(),Ie()}return b=a+192|0,e[i+316>>2]=e[i+316>>2]==1|((V|0)!=0|p|(r|0)==1)==1,te(M),b=x+48|0,0}function wQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;a=b-16|0,b=a,o=r+48|0;e:{if(y[o|0]){n=e[r+76>>2],e[a+12>>2]=-1,e[a+8>>2]=n;break e}c=e[i+312>>2];t:{if(e[r+88>>2]!=e[r+92>>2])break t;if(n=e[r+100>>2],g=e[r+104>>2],(n|0)==(g|0)){e[a+8>>2]=-64,e[a+12>>2]=-1;break e}if((g-n|0)!=8)break t;o=e[n+4>>2],e[a+8>>2]=e[n>>2],e[a+12>>2]=o;break e}n=ko(c,o),e[a+12>>2]=-1,e[a+8>>2]=n}n=e[a+12>>2],e[a>>2]=e[a+8>>2],e[a+4>>2]=n,n=b-112|0,b=n,e[n+32>>2]=4,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],c=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=c,c=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=c,_=y[o+116|0],_&&(xe(n+48|0,n+32|0),e[n+16>>2]=e[n+48>>2],Ye(o,r,9809,n+16|0)),e[n+56>>2]=0,e[n+48>>2]=0,e[n+52>>2]=0,e[n+40>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,c=e[a+4>>2],g=e[a>>2],e[n+8>>2]=g,e[n+12>>2]=c,e[n+24>>2]=g,e[n+28>>2]=c,c=n+48|0,g=n+32|0,L=Vk(o,r,4,n+8|0,c,g),r=b-32|0,b=r,e[r+16>>2]=-1,e[r+20>>2]=-1,e[r+8>>2]=-1,e[r+12>>2]=-1,o=o+24|0,x=C2(o,r+8|0,13187),M=eo(o,c,13187),V=Go(o,e[c+4>>2]-e[c>>2]>>3),e[r+28>>2]=4,v=e[o+28>>2]-e[o+24>>2]>>3,e[r+24>>2]=v,p=e[o+40>>2];e:{if(p>>>0<nt[o+44>>2]){t1(p,4,c,g,v),e[o+40>>2]=p+36;break e}Zm(o+36|0,r+28|0,c,g,r+24|0)}return S2(o,c),b=r+32|0,r=e[n+32>>2],r&&(e[n+36>>2]=r,P(r)),r=e[n+48>>2],r&&(e[n+52>>2]=r,P(r)),b=n+112|0,e[i+316>>2]=(x|0)==1|(M|0)==1|(V|0)==1|((L|0)==1|(_|0)!=0)|e[i+316>>2]==1,b=a+16|0,0}function K_(i,r){var n=0,o=0,a=0,c=0;c=b+-64|0,b=c;e:{n=e[r+20>>2];t:{if(n>>>0<=51){if(o=e[(n<<2)+50752>>2],n=Ge(o),n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){a=n+16&-16,r=Z(a),e[i+8>>2]=a|-2147483648,e[i>>2]=r,e[i+4>>2]=n,i=r;break n}if(S[i+11|0]=n,!n)break i}Ce(i,o,n)}S[i+n|0]=0;break t}if(n-52>>>0<=2){if(n=e[r+32>>2],n>>>0>=4294967280)break e;o=e[r+28>>2];i:{n:{if(n>>>0>=11){a=n+16&-16,r=Z(a),e[i+8>>2]=a|-2147483648,e[i>>2]=r,e[i+4>>2]=n,i=r;break n}if(S[i+11|0]=n,!n)break i}Ce(i,o,n)}S[i+n|0]=0;break t}if(n-55>>>0<=65){if(xe(c,r+24|0),o=e[c>>2],n=Ge(o),n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){a=n+16&-16,r=Z(a),e[i+8>>2]=a|-2147483648,e[i>>2]=r,e[i+4>>2]=n,i=r;break n}if(S[i+11|0]=n,!n)break i}Ce(i,o,n)}S[i+n|0]=0;break t}if(n-121>>>0<=5){if(n=e[r+28>>2],n>>>0>=4294967280)break e;o=e[r+24>>2];i:{n:{if(n>>>0>=11){a=n+16&-16,r=Z(a),e[i+8>>2]=a|-2147483648,e[i>>2]=r,e[i+4>>2]=n,i=r;break n}if(S[i+11|0]=n,!n)break i}Ce(i,o,n)}S[i+n|0]=0;break t}if(r=r+24|0,n-128>>>0<=2){o=24220;i:{n:switch(e[r>>2]+34|0){case 17:o=10984;break i;case 1:o=7086;break i;case 0:o=1311;break i;case 18:break i;default:break n}o=25107}if(n=Ge(o),n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){a=n+16&-16,r=Z(a),e[i+8>>2]=a|-2147483648,e[i>>2]=r,e[i+4>>2]=n,i=r;break n}if(S[i+11|0]=n,!n)break i}Ce(i,o,n)}S[i+n|0]=0;break t}ci(i,r)}b=c- -64|0;return}Be(),Ie()}function vQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;M=b-48|0,b=M,V=fe(M+8|0,r+36|0),p=V,n=b-192|0,b=n,e[n+152>>2]=209,c=i+16|0,a=r+12|0,e[c+112>>2]=e[a+16>>2],r=e[a+12>>2],e[c+104>>2]=e[a+8>>2],e[c+108>>2]=r,r=e[a+4>>2],e[c+96>>2]=e[a>>2],e[c+100>>2]=r,j=y[c+116|0],j&&(xe(n+88|0,n+152|0),e[n+32>>2]=e[n+88>>2],Ye(c,a,9809,n+32|0)),a=fe(n+48|0,p),_=fe(n+152|0,a),g=fe(n+88|0,_),p=e[g+24>>2],r=e[c+176>>2]-e[c+172>>2]>>5;e:{t:{if(p>>>0>=r>>>0){if(e[n+24>>2]=r,e[n+20>>2]=p,e[n+16>>2]=15348,p=Ye(c,g,27451,n+16|0),te(g),!p)break t;g=0,r=-1,p=(p|0)==1;break e}te(g)}p=e[c+172>>2]+(e[_+24>>2]<<5)|0,r=e[p+4>>2],g=0,o=e[p>>2],p=0}te(_),te(a),o=o|g,e[n+8>>2]=o,e[n+12>>2]=r,e[n+40>>2]=o,e[n+44>>2]=r,a=b-16|0,b=a,e[a+8>>2]=-1,e[a+12>>2]=-1,e[a>>2]=-1,e[a+4>>2]=-1,v=c+24|0,r=C2(v,a,7020),X=e[n+12>>2];e:{t:{c=e[n+8>>2];i:{if((c|0)==-64)break i;if(o=e[v+28>>2],(o|0)!=e[v+32>>2]){e[o>>2]=c,e[o+4>>2]=X,e[v+28>>2]=o+8;break i}if(x=e[v+24>>2],L=o-x|0,g=L>>3,_=g+1|0,_>>>0>=536870912)break t;if(o=L>>2,_=L>>>0<2147483640?o>>>0>_>>>0?o:_:536870911,_){if(_>>>0>=536870912)break t;o=Z(_<<3)}else o=0;if(g=o+(g<<3)|0,e[g>>2]=c,e[g+4>>2]=X,(L|0)>0&&Ce(o,x,L),e[v+32>>2]=o+(_<<3),e[v+28>>2]=g+8,e[v+24>>2]=o,!x)break i;P(x)}b=a+16|0;break e}Be(),Ie()}return b=n+192|0,e[i+316>>2]=e[i+316>>2]==1|((j|0)!=0|p|(r|0)==1)==1,te(V),b=M+48|0,0}function Cn(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0;o=b-128|0,b=o,c=e[i+92>>2]&1,a=H(c,36)+i|0,e[o+120>>2]=e[a+48>>2],g=e[a+44>>2],e[o+112>>2]=e[a+40>>2],e[o+116>>2]=g,g=e[a+36>>2],e[o+104>>2]=e[a+32>>2],e[o+108>>2]=g,g=e[a+28>>2],e[o+96>>2]=e[a+24>>2],e[o+100>>2]=g,g=e[a+20>>2],e[o+88>>2]=e[a+16>>2],e[o+92>>2]=g,e[a+16>>2]=0,e[a+20>>2]=0,e[a+24>>2]=0,e[a+28>>2]=0,e[a+32>>2]=0,e[a+36>>2]=0,e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[o+80>>2]=0,e[o+72>>2]=0,e[o+76>>2]=0;e:{if(e[r>>2]==e[r+4>>2])break e;Cl(o+72|0,28569,11),a=e[r>>2];t:{if((a|0)==e[r+4>>2]||(c=y[a+11|0],g=c<<24>>24<0,Mn(o+72|0,g?e[a>>2]:a,g?e[a+4>>2]:c),a=1,c=(e[r+4>>2]-e[r>>2]|0)/12|0,c>>>0<=1))break t;for(;p=o+72|0,Pn(p,(c-1|0)==(a|0)?28521:28838),c=e[r>>2]+H(a,12)|0,_=y[c+11|0],g=_<<24>>24<0,Mn(p,g?e[c>>2]:c,g?e[c+4>>2]:_),a=a+1|0,c=(e[r+4>>2]-e[r>>2]|0)/12|0,a>>>0<c>>>0;);}if(!n)break e;r=o+72|0,Pn(r,28825),Pn(r,n),Pn(r,27978)}return r=o- -64|0,e[r>>2]=e[o+104>>2],n=e[o+100>>2],e[o+56>>2]=e[o+96>>2],e[o+60>>2]=n,n=e[o+92>>2],e[o+48>>2]=e[o+88>>2],e[o+52>>2]=n,n=o+32|0,c8(n,o+88|0),a=e[o+60>>2],e[o+16>>2]=e[o+56>>2],e[o+20>>2]=a,e[o+24>>2]=e[r>>2],r=e[o+52>>2],e[o+8>>2]=e[o+48>>2],e[o+12>>2]=r,e[o>>2]=S[o+43|0]<0?e[o+32>>2]:n,e[o+4>>2]=S[o+83|0]<0?e[o+72>>2]:o+72|0,Kt(i,o+8|0,26366,o),S[o+43|0]<0&&P(e[o+32>>2]),S[o+83|0]<0&&P(e[o+72>>2]),b=o+128|0,1}function Vm(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;o=b-80|0,b=o,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0;e:{t:{i:{n:{s:{r:switch(e[n+72>>2]){case 0:if(a=E5(e[r+8>>2],n+24|0),!a){zc(r,n+4|0,15136,0);break i}if(c=e[n+60>>2],_=y[n+71|0],g=_<<24>>24<0,e[o+76>>2]=g?e[n- -64>>2]:_,v=c,c=n+60|0,e[o+72>>2]=g?v:c,g=e[o+76>>2],e[o+40>>2]=e[o+72>>2],e[o+44>>2]=g,g=m8(a,o+40|0),!g){e[o>>2]=S[n+71|0]<0?e[n+60>>2]:c,zc(r,n+4|0,28135,o);break i}if(g=vl(a,g+16|0),!g)break i;if(_=e[g+52>>2],L=e[g+56>>2]-_>>3,v=e[n+80>>2],c=e[n+76>>2],a=(v-c|0)/68|0,(L|0)==(a|0)){if((c|0)==(v|0))break s;for(L=a>>>0>1?a:1;;){if(a=H(p,68)+c|0,v=a,c=e[a+24>>2],x=e[a+20>>2],M=c,a=(p<<3)+_|0,c=e[a+4>>2],Zk(r,v,x,M,e[a>>2],c,15458,p,6402),p=p+1|0,(L|0)==(p|0))break s;_=e[g+52>>2],c=e[n+76>>2]}}e[o+20>>2]=a,e[o+24>>2]=L,e[o+16>>2]=a>>>0>L>>>0?1258:2706,zc(r,n+4|0,15747,o+16|0);break i;case 1:break r;default:break e}if(a=E5(e[r+8>>2],n+24|0),!a){zc(r,n+4|0,15136,0),r=0;break t}if(g=e[n+60>>2],c=y[n+71|0],p=c<<24>>24<0,e[o+76>>2]=p?e[n- -64>>2]:c,c=g,g=n+60|0,e[o+72>>2]=p?c:g,p=e[o+76>>2],e[o+64>>2]=e[o+72>>2],e[o+68>>2]=p,p=m8(a,o- -64|0),!p){e[o+48>>2]=S[n+71|0]<0?e[n+60>>2]:g,zc(r,n+4|0,28164,o+48|0);break n}if(r=op(a,p+16|0),!r)break n;n=e[r+16>>2],e[i+4>>2]=e[r+12>>2],e[i+8>>2]=n,r=2;break t}p=g- -64|0;break i}r=0;break t}e[i+4>>2]=p,r=(p|0)!=0}e[i>>2]=r}b=o+80|0}function kQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0;L=b-80|0,b=L,V=fe(L+40|0,r+36|0),j=fe(L,r+72|0),n=b-240|0,b=n,e[n+200>>2]=206,o=i+16|0,v=r+12|0,e[o+112>>2]=e[v+16>>2],r=e[v+12>>2],e[o+104>>2]=e[v+8>>2],e[o+108>>2]=r,r=e[v+4>>2],e[o+96>>2]=e[v>>2],e[o+100>>2]=r,X=y[o+116|0],X&&(xe(n+136|0,n+200|0),e[n+32>>2]=e[n+136>>2],Ye(o,v,9809,n+32|0)),p=fe(n+96|0,j),c=fe(n+200|0,p),r=fe(n+136|0,c),g=e[r+24>>2],a=e[o+176>>2]-e[o+172>>2]>>5;e:{t:{if(g>>>0>=a>>>0){if(e[n+24>>2]=a,e[n+20>>2]=g,e[n+16>>2]=15348,g=Ye(o,r,27451,n+16|0),te(r),!g)break t;r=-1,g=(g|0)==1;break e}te(r)}g=e[o+172>>2]+(e[c+24>>2]<<5)|0,r=e[g+4>>2],pe=e[g>>2],g=0}te(c),te(p),se=fe(n+56|0,V),c=b-96|0,b=c,x=n+136|0,M=fe(c+16|0,se),a=fe(c+56|0,M),p=e[a+24>>2];e:{t:{i:{if(_=e[o+224>>2]-e[o+220>>2]>>3,p>>>0>=_>>>0){if(e[c+8>>2]=_,e[c+4>>2]=p,e[c>>2]=6498,p=Ye(o,a,27451,c),te(a),!x)break e;if(a=0,_=0,p)break t;break i}if(te(a),x)break i;p=0;break e}p=0,_=e[o+220>>2]+(e[M+24>>2]<<3)|0,a=e[_>>2],_=e[_+4>>2]}e[x>>2]=a,e[x+4>>2]=_}return te(M),b=c+96|0,te(se),c=bh(o+24|0,206,0,0,0),a=De|pe,e[n+40>>2]=a,e[n+44>>2]=r,e[n>>2]=a,e[n+4>>2]=r,r=e[n+140>>2],a=e[n+136>>2],e[n+48>>2]=a,e[n+52>>2]=r,e[n+8>>2]=a,e[n+12>>2]=r,r=t5(o,v,n+8|0,n,6792),b=n+240|0,e[i+316>>2]=e[i+316>>2]==1|((X|0)!=0|g|(p|0)==1|(c|0)==1|(r|0)==1)==1,te(j),te(V),b=L+80|0,0}function bk(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;a=b+-64|0,b=a,v=e[n>>2],x=e[n+4>>2],n=e[i+36>>2],_=e[i+40>>2];e:{if((n|0)==(_|0)){e[a+32>>2]=0,e[a+36>>2]=-1,xt(i,27759,a+32|0),n=e[i+36>>2],_=e[i+40>>2],M=1;break e}if(p=e[i+24>>2],g=e[i+28>>2]-p>>3,c=H(((_-n|0)/36|0)-1|0,36)+n|0,g>>>0<=nt[c+28>>2]){M=!y[c+32|0];break e}if(!v||(p=(p+(g<<3)|0)-8|0,c=e[p>>2],p=e[p+4>>2],!c))break e;if(!((v|0)!=-21|(c|0)!=-21)){M=(p|0)!=(x|0);break e}M=(c|0)!=(v|0)}c=e[r>>2],p=e[r+4>>2];e:{t:{if((n|0)==(_|0)){e[a+16>>2]=0,e[a+20>>2]=-1,xt(i,27759,a+16|0);break t}g=e[i+24>>2],L=e[i+28>>2]-g>>3,r=H(((_-n|0)/36|0)-1|0,36)+n|0;i:{if(L>>>0<=e[r+28>>2]+1>>>0){r=!y[r+32|0];break i}if(r=0,!c||(L=(g+(L<<3)|0)-16|0,g=e[L>>2],L=e[L+4>>2],!g))break i;if(!((c|0)!=-21|(g|0)!=-21)){r=(p|0)!=(L|0);break i}r=(c|0)!=(g|0)}if(g=0,!(r|M))break e}r=Z(16),e[a+48>>2]=r,n=r+16|0,e[a+56>>2]=n,e[r+8>>2]=v,e[r+12>>2]=x,e[r>>2]=c,e[r+4>>2]=p,e[a+52>>2]=n,p2(i,1,o,a+48|0,0),P(r),n=e[i+36>>2],_=e[i+40>>2],g=1}e:{if((n|0)==(_|0)){e[a>>2]=0,e[a+4>>2]=-1,xt(i,27759,a),i=1;break e}if(c=e[i+28>>2],x=e[i+24>>2],o=c-x>>3,v=((_-n|0)/36|0)-1|0,r=e[(H(v,36)+n|0)+28>>2],o>>>0<r+2>>>0){t:{if(r>>>0>o>>>0){ys(i+24|0,r-o|0);break t}if(r>>>0>=o>>>0)break t;e[i+28>>2]=x+(r<<3)}i=!y[(H(v,36)+n|0)+32|0];break e}e[i+28>>2]=c-16,i=0}return b=a- -64|0,i|g}function DN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;c=1;e:{t:switch(r-i>>2){case 2:if(a=r-4|0,g=e[a>>2],n=e[g+20>>2],o=e[i>>2],r=e[o+20>>2],(n|0)>=(r|0)&((r|0)!=(n|0)|e[g+24>>2]>=e[o+24>>2]))break e;return e[i>>2]=g,e[a>>2]=o,1;case 3:return Zc(i,i+4|0,r-4|0),1;case 4:if(Zc(i,i+4|0,i+8|0),a=r-4|0,g=e[a>>2],n=e[g+20>>2],o=e[i+8>>2],r=e[o+20>>2],(n|0)>=(r|0)&((r|0)!=(n|0)|e[g+24>>2]>=e[o+24>>2])||(e[i+8>>2]=g,e[a>>2]=o,o=e[i+8>>2],n=e[o+20>>2],a=e[i+4>>2],r=e[a+20>>2],(n|0)>=(r|0)&((r|0)!=(n|0)|e[o+24>>2]>=e[a+24>>2]))||(e[i+8>>2]=a,e[i+4>>2]=o,n=e[o+20>>2],a=e[i>>2],r=e[a+20>>2],(n|0)>=(r|0)&((r|0)!=(n|0)|e[o+24>>2]>=e[a+24>>2])))break e;return e[i+4>>2]=a,e[i>>2]=o,1;case 5:return Dk(i,i+4|0,i+8|0,i+12|0,r-4|0),1;case 0:case 1:break e;default:break t}if(a=i+8|0,Zc(i,i+4|0,a),n=i+12|0,(n|0)==(r|0))break e;t:{for(;;){if(c=a,a=n,v=e[n>>2],o=e[v+20>>2],p=e[c>>2],n=e[p+20>>2],!((o|0)>=(n|0)&((n|0)!=(o|0)|e[v+24>>2]>=e[p+24>>2]))){e[a>>2]=p,_=i;i:{if((i|0)==(c|0))break i;for(;;){n:{if(o=c-4|0,n=e[o>>2],L=e[n+20>>2],p=e[v+20>>2],(L|0)>(p|0))break n;if(_=c,(p|0)!=(L|0))break i;if(e[v+24>>2]<e[n+24>>2])break n;_=c;break i}if(e[c>>2]=n,c=o,(o|0)==(i|0))break}_=i}if(e[_>>2]=v,g=g+1|0,(g|0)==8)break t}if(n=a+4|0,(n|0)==(r|0))break}return 1}c=(a+4|0)==(r|0)}return c}function bQ(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0;c=b+-64|0,b=c,a=e[o+4>>2];e:{if(!a)break e;r=e[e[e[i+12>>2]+76>>2]+(r<<2)>>2],i=c+32|0,ia(i,e[o>>2],a),a=c+48|0,o=r+128|0,Ea(a,o,i),e[c+24>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+28>>2]=n,g=Z(44),e[g+16>>2]=e[a+8>>2],i=e[a+4>>2],e[g+8>>2]=e[a>>2],e[g+12>>2]=i,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,i=e[c+28>>2],e[g+36>>2]=e[c+24>>2],e[g+40>>2]=i,i=e[c+20>>2],e[g+28>>2]=e[c+16>>2],e[g+32>>2]=i,i=e[c+12>>2],e[g+20>>2]=e[c+8>>2],e[g+24>>2]=i,r=S[g+19|0],i=(r|0)<0,a=i?e[g+8>>2]:g+8|0,i=i?e[g+12>>2]:r&255;t:{if(i>>>0<4){n=i,r=i;break t}r=i-4|0;i:{if(r&4){n=i;break i}n=H(y[a|0]|y[a+1|0]<<8|(y[a+2|0]<<16|y[a+3|0]<<24),1540483477),n=H(n>>>24^n,1540483477)^H(i,1540483477),a=a+4|0,i=r}if(r>>>0<4)break t;for(r=i;i=H(y[a+4|0]|y[a+5|0]<<8|(y[a+6|0]<<16|y[a+7|0]<<24),1540483477),p=H(i>>>24^i,1540483477),i=H(y[a|0]|y[a+1|0]<<8|(y[a+2|0]<<16|y[a+3|0]<<24),1540483477),n=p^H(H(i>>>24^i,1540483477)^H(n,1540483477),1540483477),a=a+8|0,r=r-8|0,r>>>0>3;);}t:switch(r-1|0){case 2:n=y[a+2|0]<<16^n;case 1:n=y[a+1|0]<<8^n;case 0:n=H(y[a|0]^n,1540483477);break;default:break t}if(e[g>>2]=0,i=H(n>>>13^n,1540483477),e[g+4>>2]=i>>>15^i,ln(o,g),S[c+59|0]<0&&P(e[c+48>>2]),S[c+43|0]>=0)break e;P(e[c+32>>2])}return b=c- -64|0,0}function Hm(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;for(c=b-80|0,b=c,x=c- -64|0;;){e:{t:{i:{n:{if(!y[e[i+12>>2]+6|0]||(we(i,0)|0)!=26)break n;if((we(i,1)|0)==35)break i}if(o=0,(we(i,0)|0)!=127)break t}if(e[c+32>>2]=0,e[c+24>>2]=0,e[c+28>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,v=Ne(c+40|0,-1,c+16|0),(Zf(i,v)|0)!=1)break e;te(v),o=1}return b=c+80|0,o}e:{t:{if(!e[c+60>>2]){if(L=e[c+64>>2],o=e[r+4>>2],a=e[r+8>>2],o>>>0<a>>>0){e[o>>2]=L,e[o+4>>2]=-1,e[r+4>>2]=o+8,te(v);continue}if(p=e[r>>2],_=o-p|0,g=_>>3,o=g+1|0,o>>>0>=536870912)break e;if(M=g<<3,a=a-p|0,g=a>>2,a=a>>>0<2147483640?o>>>0<g>>>0?g:o:536870911,a){if(a>>>0>=536870912)break e;o=Z(a<<3)}else o=0;if(g=M+o|0,e[g>>2]=L,e[g+4>>2]=-1,(_|0)>0&&Ce(o,p,_),e[r+8>>2]=o+(a<<3),e[r+4>>2]=g+8,e[r>>2]=o,!p)break t;P(p),te(v);continue}if(e[c+12>>2]=e[r+4>>2]-e[r>>2]>>3,kN(c+16|0,n,c+12|0,x),o=e[r+4>>2],a=e[r+8>>2],o>>>0<a>>>0){e[o>>2]=-21,e[o+4>>2]=-1,e[r+4>>2]=o+8,te(v);continue}if(p=e[r>>2],L=o-p|0,_=L>>3,o=_+1|0,o>>>0>=536870912)break e;if(a=a-p|0,g=a>>2,a=a>>>0<2147483640?o>>>0<g>>>0?g:o:536870911,a){if(a>>>0>=536870912)break e;o=Z(a<<3)}else o=0;if(_=o+(_<<3)|0,e[_>>2]=-21,e[_+4>>2]=-1,(L|0)>0&&Ce(o,p,L),e[r+8>>2]=o+(a<<3),e[r+4>>2]=_+8,e[r>>2]=o,!p)break t;P(p)}te(v);continue}break}Be(),Ie()}function SQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;L=b-48|0,b=L,x=fe(L+8|0,r+200|0),g=b-80|0,b=g,e[g+8>>2]=20,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o,M=y[n+116|0],M&&(xe(g+16|0,g+8|0),e[g>>2]=e[g+16>>2],Ye(n,r,9809,g)),o=b+-64|0,b=o,c=1,r=n+24|0,v=e[r+40>>2],n=e[r+36>>2],a=(v-n|0)/36|0,_=e[x+24>>2]+1|0;e:{if(a>>>0<=_>>>0){e[o+32>>2]=_,e[o+36>>2]=a-1,xt(r,27759,o+32|0);break e}if((n|0)==(v|0)){e[o>>2]=0,e[o+4>>2]=-1,xt(r,27759,o);break e}a=a-1|0,c=n+H(a,36)|0,v=e[c>>2],_=c+16|0,V=eo(r,_,12476),j=Go(r,e[c+20>>2]-e[c+16>>2]>>3),p=e[r+40>>2],c=e[r+36>>2];t:{if((p|0)==(c|0)){e[o+16>>2]=0,e[o+20>>2]=-1,xt(r,27759,o+16|0),c=1;break t}c=e[(c+H((p-c|0)/36|0,36)|0)-8>>2],p=e[r+28>>2],X=e[r+24>>2],e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,c=(c|0)!=p-X>>3,p2(r,c,12476,o+48|0,1)}n=e[(n+H(a,36)|0)+28>>2],p=e[r+24>>2],a=e[r+28>>2]-p>>3;t:{if(n>>>0>a>>>0){ys(r+24|0,n-a|0);break t}if(n>>>0>=a>>>0)break t;e[r+28>>2]=p+(n<<3)}S2(r,_),n=e[r+40>>2],a=e[n-20>>2],a&&(e[n-16>>2]=a,P(a)),a=e[n-32>>2],a&&(e[n-28>>2]=a,P(a)),c=(V|0)==1|(v|0)!=6|(j|0)==1|c,e[r+40>>2]=n-36}return b=o- -64|0,b=g+80|0,e[i+316>>2]=(c|0)==1|(M|0)!=0|e[i+316>>2]==1,te(x),b=L+48|0,0}function yQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;a=b-16|0,b=a,o=r+52|0;e:{if(y[o|0]){n=e[r+80>>2],e[a+12>>2]=-1,e[a+8>>2]=n;break e}c=e[i+312>>2];t:{if(e[r+92>>2]!=e[r+96>>2])break t;if(n=e[r+104>>2],g=e[r+108>>2],(n|0)==(g|0)){e[a+8>>2]=-64,e[a+12>>2]=-1;break e}if((g-n|0)!=8)break t;o=e[n+4>>2],e[a+8>>2]=e[n>>2],e[a+12>>2]=o;break e}n=ko(c,o),e[a+12>>2]=-1,e[a+8>>2]=n}n=e[a+12>>2],e[a>>2]=e[a+8>>2],e[a+4>>2]=n,n=b-112|0,b=n,e[n+32>>2]=6,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],c=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=c,c=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=c,_=y[o+116|0],_&&(xe(n+48|0,n+32|0),e[n+16>>2]=e[n+48>>2],Ye(o,r,9809,n+16|0)),e[n+56>>2]=0,e[n+48>>2]=0,e[n+52>>2]=0,e[n+40>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,c=e[a+4>>2],g=e[a>>2],e[n+8>>2]=g,e[n+12>>2]=c,e[n+24>>2]=g,e[n+28>>2]=c,c=n+48|0,p=n+32|0,L=Vk(o,r,6,n+8|0,c,p),g=b-16|0,b=g,r=o+24|0,x=eo(r,c,1133),M=Go(r,e[c+4>>2]-e[c>>2]>>3),e[g+12>>2]=6,v=e[r+28>>2]-e[r+24>>2]>>3,e[g+8>>2]=v,o=e[r+40>>2];e:{if(o>>>0<nt[r+44>>2]){t1(o,6,c,p,v),e[r+40>>2]=o+36;break e}Zm(r+36|0,g+12|0,c,p,g+8|0)}return S2(r,c),b=g+16|0,r=e[n+32>>2],r&&(e[n+36>>2]=r,P(r)),r=e[n+48>>2],r&&(e[n+52>>2]=r,P(r)),b=n+112|0,e[i+316>>2]=(x|0)==1|(M|0)==1|((L|0)==1|(_|0)!=0)|e[i+316>>2]==1,b=a+16|0,0}function LQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-32|0,b=a,n=Z(216),e[n+4>>2]=0,e[n+8>>2]=0,e[n+36>>2]=0,e[n+40>>2]=0,e[n>>2]=41408,e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+28>>2]=0,e[n+32>>2]=22,S[n+41|0]=0,S[n+42|0]=0,S[n+43|0]=0,S[n+44|0]=0,S[n+45|0]=0,S[n+46|0]=0,S[n+47|0]=0,S[n+48|0]=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ne(n+52|0,-1,a+8|0),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+132>>2]=0,e[n+136>>2]=0,e[n+128>>2]=1065353216,e[n+140>>2]=0,e[n+144>>2]=0,g=n+152|0,o=g,e[o>>2]=0,e[o+4>>2]=0,e[n+148>>2]=1065353216,e[n+160>>2]=0,e[n+164>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+176>>2]=0,e[n+180>>2]=0,e[n+184>>2]=0,e[n+188>>2]=0,e[n+192>>2]=0,e[n+196>>2]=0,e[n+200>>2]=0,e[n+204>>2]=0,e[n+208>>2]=0,e[n+212>>2]=0,o=e[r+4>>2],l5(i,n+48|0,e[r>>2],o),r=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[n+24>>2]=0,e[n+28>>2]=0,e[n+20>>2]=r,e[n+16>>2]=c,e[n+12>>2]=o,c=e[i+24>>2],r=e[i+20>>2],o=(c-r|0)/12|0;e:{if((r|0)!=(c|0)){o=e[(r+H(o,12)|0)-8>>2],r=o,c=e[o+4>>2],c&&(e[n+8>>2]=c,r=c+4|0),e[r>>2]=n,e[o+4>>2]=n,e[o+8>>2]=e[o+8>>2]+1,Dh(i,4,g,0),i=0;break e}e[a+4>>2]=o,e[a>>2]=0,Yt(i,15800,a),F[e[e[n>>2]+4>>2]](n),i=1}return b=a+32|0,i|0}function IN(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;c=b-16|0,b=c,g=r+48|0;e:{if(y[g|0]){a=e[r+76>>2],e[c+12>>2]=-1,e[c+8>>2]=a;break e}p=e[i+312>>2];t:{if(e[r+88>>2]!=e[r+92>>2])break t;if(a=e[r+100>>2],_=e[r+104>>2],(a|0)==(_|0)){e[c+8>>2]=-64,e[c+12>>2]=-1;break e}if((_-a|0)!=8)break t;g=e[a+4>>2],e[c+8>>2]=e[a>>2],e[c+12>>2]=g;break e}a=ko(p,g),e[c+12>>2]=-1,e[c+8>>2]=a}a=e[c+12>>2],e[c>>2]=e[c+8>>2],e[c+4>>2]=a,a=b-112|0,b=a,e[a+32>>2]=n,g=i+16|0,r=r+12|0,e[g+112>>2]=e[r+16>>2],p=e[r+12>>2],e[g+104>>2]=e[r+8>>2],e[g+108>>2]=p,p=e[r+4>>2],e[g+96>>2]=e[r>>2],e[g+100>>2]=p,L=y[g+116|0],L&&(xe(a+48|0,a+32|0),e[a+16>>2]=e[a+48>>2],Ye(g,r,9809,a+16|0)),e[a+56>>2]=0,e[a+48>>2]=0,e[a+52>>2]=0,e[a+40>>2]=0,e[a+32>>2]=0,e[a+36>>2]=0,p=e[c+4>>2],_=e[c>>2],e[a+8>>2]=_,e[a+12>>2]=p,e[a+24>>2]=_,e[a+28>>2]=p,p=a+48|0,v=a+32|0,M=Vk(g,r,n,a+8|0,p,v),_=b-16|0,b=_,r=g+24|0,g=eo(r,p,o),V=Go(r,e[p+4>>2]-e[p>>2]>>3),e[_+12>>2]=n,x=e[r+28>>2]-e[r+24>>2]>>3,e[_+8>>2]=x,o=e[r+40>>2];e:{if(o>>>0<nt[r+44>>2]){t1(o,n,p,v,x),e[r+40>>2]=o+36;break e}Zm(r+36|0,_+12|0,p,v,_+8|0)}return S2(r,p),b=_+16|0,r=e[a+32>>2],r&&(e[a+36>>2]=r,P(r)),r=e[a+48>>2],r&&(e[a+52>>2]=r,P(r)),b=a+112|0,e[i+316>>2]=(g|0)==1|(V|0)==1|((M|0)==1|(L|0)!=0)|e[i+316>>2]==1,b=c+16|0,0}function xN(i,r){var n=0,o=0,a=0,c=0;n=b-112|0,b=n;e:{if(we(i,0)-128>>>0>=3){r=Z(36),e[n+88>>2]=r,o=r+36|0,e[n+96>>2]=o,S[r+35|0]=3,e[r+24>>2]=7239781,S[r+23|0]=6,e[r+12>>2]=1702131813,e[r+16>>2]=28274,S[r+11|0]=4,e[r>>2]=1668183398,e[r+4>>2]=0,e[n+92>>2]=o,i=Cn(i,n+88|0,0),S[r+35|0]<0&&P(e[r+24>>2]),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r);break e}c=e[i+92>>2]&1,o=H(c,36)+i|0,a=e[o+36>>2],e[n+104>>2]=e[o+32>>2],e[n+108>>2]=a,a=e[o+28>>2],e[n+96>>2]=e[o+24>>2],e[n+100>>2]=a,a=e[o+20>>2],e[n+88>>2]=e[o+16>>2],e[n+92>>2]=a,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,a=e[o+40>>2],o=e[o+44>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[n+80>>2]=a,e[n+84>>2]=o;t:{i:{n:switch(a+34|0){case 0:case 1:if(y[e[i+12>>2]+13|0])break i;break t;case 17:break n;default:break i}if(!y[e[i+12>>2]+10|0])break t}e[r>>2]=a,e[r+4>>2]=o,i=0;break e}e[n+72>>2]=e[n+104>>2],o=e[n+100>>2],r=n- -64|0,e[r>>2]=e[n+96>>2],e[r+4>>2]=o,o=e[n+92>>2],e[n+56>>2]=e[n+88>>2],e[n+60>>2]=o,o=n+40|0,ci(o,n+80|0),a=e[r+4>>2],e[n+24>>2]=e[r>>2],e[n+28>>2]=a,e[n+32>>2]=e[n+72>>2],r=e[n+60>>2],e[n+16>>2]=e[n+56>>2],e[n+20>>2]=r,e[n>>2]=S[n+51|0]<0?e[n+40>>2]:o,Kt(i,n+16|0,9985,n),S[n+51|0]<0&&P(e[n+40>>2]),i=1}return b=n+112|0,i}function X_(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;e:{t:{i:{if(c=e[i>>2],_=(e[i+4>>2]-c|0)/36|0,a=_+1|0,a>>>0>=119304648)break i;if(c=(e[i+8>>2]-c|0)/36|0,p=c<<1,c=c>>>0<59652323?a>>>0<p>>>0?p:a:119304647,c){if(c>>>0>=119304648)break i;g=Z(H(c,36))}if(v=e[o+4>>2],L=e[o>>2],p=y[o+11|0],a=H(_,36)+g|0,e[a>>2]=e[r>>2],r=e[n+4>>2],e[a+4>>2]=e[n>>2],e[a+8>>2]=r,r=e[n+12>>2],e[a+12>>2]=e[n+8>>2],e[a+16>>2]=r,e[a+20>>2]=e[n+16>>2],r=p,p=p<<24>>24<0,n=p?v:r,n>>>0>=4294967280)break i;c=H(c,36),r=a+24|0;n:{s:{if(n>>>0>=11){x=r,v=n+16&-16,r=Z(v),e[x>>2]=r,_=H(_,36)+g|0,e[_+28>>2]=n,e[_+32>>2]=v|-2147483648;break s}if(S[r+11|0]=n,!n)break n}Ce(r,p?L:o,n)}if(o=c+g|0,S[r+n|0]=0,c=a+36|0,r=e[i>>2],n=e[i+4>>2],(r|0)==(n|0))break t;for(;n=n-36|0,g=e[n+4>>2],a=a-36|0,e[a>>2]=e[n>>2],e[a+4>>2]=g,g=e[n+20>>2],e[a+16>>2]=e[n+16>>2],e[a+20>>2]=g,g=e[n+12>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=g,e[a+32>>2]=e[n+32>>2],g=e[n+28>>2],e[a+24>>2]=e[n+24>>2],e[a+28>>2]=g,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,(r|0)!=(n|0););if(e[i+8>>2]=o,o=e[i+4>>2],e[i+4>>2]=c,r=e[i>>2],e[i>>2]=a,(r|0)==(o|0))break e;for(;i=o-36|0,S[i+35|0]<0&&P(e[o-12>>2]),o=i,(i|0)!=(r|0););break e}Be(),Ie()}e[i+8>>2]=o,e[i+4>>2]=c,e[i>>2]=a}r&&P(r)}function EN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;e:{t:{i:{if(r){if(r>>>0>=1073741824)break i;if(n=Z(r<<2),o=e[i>>2],e[i>>2]=n,o&&P(o),e[i+4>>2]=r,r-1>>>0>=3)for(g=r&-4,o=0;n=a<<2,e[n+e[i>>2]>>2]=0,e[e[i>>2]+(n|4)>>2]=0,e[e[i>>2]+(n|8)>>2]=0,e[e[i>>2]+(n|12)>>2]=0,a=a+4|0,o=o+4|0,(g|0)!=(o|0););if(o=r&3,o)for(;e[e[i>>2]+(a<<2)>>2]=0,a=a+1|0,c=c+1|0,(o|0)!=(c|0););if(o=e[i+8>>2],!o)break e;if(a=i+8|0,g=e[o+4>>2],n=r-1|0,!(n&r))break t;for(g=r>>>0<=g>>>0?(g>>>0)%(r>>>0)|0:g,e[e[i>>2]+(g<<2)>>2]=a;;){if(n=e[o>>2],!n)break e;if(c=e[n+4>>2],c>>>0>=r>>>0&&(c=(c>>>0)%(r>>>0)|0),(g|0)==(c|0)){o=n;continue}if(a=n,p=c<<2,_=p+e[i>>2]|0,e[_>>2]){for(;c=a,a=e[a>>2],!!(e[n+8>>2]==e[a+8>>2]&&a););e[o>>2]=a,e[c>>2]=e[e[p+e[i>>2]>>2]>>2],e[e[p+e[i>>2]>>2]>>2]=n}else e[_>>2]=o,o=n,g=c}}r=e[i>>2],e[i>>2]=0,r&&P(r),e[i+4>>2]=0;break e}Be(),Ie()}if(g=n&g,e[e[i>>2]+(g<<2)>>2]=a,n=e[o>>2],!n)break e;for(p=r-1|0;;){r=p&e[n+4>>2];t:{if((r|0)==(g|0)){o=n;break t}if(a=n,c=r<<2,_=c+e[i>>2]|0,e[_>>2]){for(;r=a,a=e[r>>2],!!(e[n+8>>2]==e[a+8>>2]&&a););e[o>>2]=a,e[r>>2]=e[e[c+e[i>>2]>>2]>>2],e[e[c+e[i>>2]>>2]>>2]=n;break t}e[_>>2]=o,o=n,g=r}if(n=e[o>>2],!n)break}}}function Qf(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b+-64|0,b=a;e:{if((we(i,0)|0)!=54){r=Z(32),n=y[10520]|y[10521]<<8|(y[10522]<<16|y[10523]<<24),o=y[10516]|y[10517]<<8|(y[10518]<<16|y[10519]<<24),S[r+8|0]=o,S[r+9|0]=o>>>8,S[r+10|0]=o>>>16,S[r+11|0]=o>>>24,S[r+12|0]=n,S[r+13|0]=n>>>8,S[r+14|0]=n>>>16,S[r+15|0]=n>>>24,n=y[10512]|y[10513]<<8|(y[10514]<<16|y[10515]<<24),o=y[10508]|y[10509]<<8|(y[10510]<<16|y[10511]<<24),S[r|0]=o,S[r+1|0]=o>>>8,S[r+2|0]=o>>>16,S[r+3|0]=o>>>24,S[r+4|0]=n,S[r+5|0]=n>>>8,S[r+6|0]=n>>>16,S[r+7|0]=n>>>24,S[r+16|0]=0,n=Z(12),e[a+32>>2]=n,o=n+12|0,e[a+40>>2]=o,Ni(n,r,16),e[a+36>>2]=o,i=Cn(i,a+32|0,25598),S[n+11|0]<0&&P(e[n>>2]),P(n),P(r);break e}g=e[i+92>>2]&1,o=H(g,36)+i|0,e[a+56>>2]=e[o+40>>2],c=e[o+36>>2],e[a+48>>2]=e[o+32>>2],e[a+52>>2]=c,c=e[o+28>>2],e[a+40>>2]=e[o+24>>2],e[a+44>>2]=c,c=e[o+20>>2],e[a+32>>2]=e[o+16>>2],e[a+36>>2]=c,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,c=e[o+48>>2],o=e[o+44>>2],e[i+92>>2]=!g,e[i+88>>2]=e[i+88>>2]-1,g=c,p=(k2(o,c+o|0,r)|0)!=1,_=0,v=!e[r+4>>2]|n,!(v?p:_)&&(e[a+24>>2]=e[a+48>>2],r=e[a+44>>2],e[a+16>>2]=e[a+40>>2],e[a+20>>2]=r,r=e[a+36>>2],e[a+8>>2]=e[a+32>>2],e[a+12>>2]=r,e[a>>2]=g,e[a+4>>2]=o,Kt(i,a+8|0,28028,a)),i=0}return b=a- -64|0,i}function DQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0;x=b-80|0,b=x,V=fe(x+40|0,r+36|0),c=V,j=fe(x,r+72|0),n=b-256|0,b=n,e[n+216>>2]=208,o=i+16|0,_=r+12|0,e[o+112>>2]=e[_+16>>2],r=e[_+12>>2],e[o+104>>2]=e[_+8>>2],e[o+108>>2]=r,r=e[_+4>>2],e[o+96>>2]=e[_>>2],e[o+100>>2]=r,X=y[o+116|0],X&&(xe(n+152|0,n+216|0),e[n+48>>2]=e[n+152>>2],Ye(o,_,9809,n+48|0)),g=fe(n+112|0,c),a=fe(n+216|0,g),p=fe(n+152|0,a),c=e[p+24>>2],r=e[o+176>>2]-e[o+172>>2]>>5;e:{t:{if(c>>>0>=r>>>0){if(e[n+40>>2]=r,e[n+36>>2]=c,e[n+32>>2]=15348,r=Ye(o,p,27451,n+32|0),te(p),!r)break t;p=-1,c=(r|0)==1;break e}te(p)}c=e[o+172>>2]+(e[a+24>>2]<<5)|0,p=e[c+4>>2],se=e[c>>2],c=0}te(a),te(g),g=fe(n+72|0,j),M=fe(n+216|0,g),v=fe(n+152|0,M),a=e[v+24>>2],r=e[o+176>>2]-e[o+172>>2]>>5;e:{t:{if(a>>>0>=r>>>0){if(e[n+24>>2]=r,e[n+20>>2]=a,e[n+16>>2]=15348,a=Ye(o,v,27451,n+16|0),te(v),!a)break t;r=-1,v=(a|0)==1;break e}te(v)}L=e[o+172>>2]+(e[M+24>>2]<<5)|0,r=e[L+4>>2],L=e[L>>2],v=0}return te(M),te(g),a=bh(o+24|0,208,0,0,0),g=pe|se,e[n+56>>2]=g,e[n+60>>2]=p,L=L|pe,e[n+64>>2]=L,e[n+68>>2]=r,e[n+8>>2]=L,e[n+12>>2]=r,e[n>>2]=g,e[n+4>>2]=p,r=t5(o,_,n+8|0,n,1226),b=n+256|0,e[i+316>>2]=e[i+316>>2]==1|(v|(c|(X|0)!=0)|(a|0)==1|(r|0)==1)==1,te(j),te(V),b=x+80|0,0}function ln(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;g=r+8|0,o=y[r+19|0],n=o<<24>>24<0,a=n?e[r+8>>2]:g,o=n?e[r+12>>2]:o;e:{if(o>>>0<4){n=o,c=o;break e}c=o-4|0;t:{if(c&4){n=o;break t}n=H(y[a|0]|y[a+1|0]<<8|(y[a+2|0]<<16|y[a+3|0]<<24),1540483477),n=H(n>>>24^n,1540483477)^H(o,1540483477),a=a+4|0,o=c}if(c>>>0<4)break e;for(c=o;o=H(y[a+4|0]|y[a+5|0]<<8|(y[a+6|0]<<16|y[a+7|0]<<24),1540483477),p=H(o>>>24^o,1540483477),o=H(y[a|0]|y[a+1|0]<<8|(y[a+2|0]<<16|y[a+3|0]<<24),1540483477),n=p^H(H(o>>>24^o,1540483477)^H(n,1540483477),1540483477),a=a+8|0,c=c-8|0,c>>>0>3;);}e:switch(c-1|0){case 2:n=y[a+2|0]<<16^n;case 1:n=y[a+1|0]<<8^n;case 0:n=H(y[a|0]^n,1540483477);break;default:break e}o=H(n>>>13^n,1540483477),o=o>>>15^o,e[r+4>>2]=o,n=lN(i,o,g),a=e[r+4>>2],o=e[i+4>>2],c=rs(o);e:{if(c>>>0<=1){a=o-1&a;break e}if(a>>>0<o>>>0)break e;a=(a>>>0)%(o>>>0)|0}e:{t:{if(!n){if(e[r>>2]=e[i+8>>2],e[i+8>>2]=r,e[e[i>>2]+(a<<2)>>2]=i+8,n=e[r>>2],!n)break e;if(n=e[n+4>>2],c>>>0<=1){n=o-1&n;break t}if(n>>>0<o>>>0)break t;n=(n>>>0)%(o>>>0)|0;break t}if(e[r>>2]=e[n>>2],e[n>>2]=r,n=e[r>>2],!n)break e;n=e[n+4>>2];i:{if(c>>>0<=1){n=o-1&n;break i}if(n>>>0<o>>>0)break i;n=(n>>>0)%(o>>>0)|0}if((n|0)==(a|0))break e}e[e[i>>2]+(n<<2)>>2]=r}e[i+12>>2]=e[i+12>>2]+1}function NN(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;g=e[r+72>>2],c=ar(r+72|0,e[r+80>>2],e[r+84>>2]),_=At,v=e[r+96>>2],p=e[r+100>>2],n=b-176|0,b=n,e[n+104>>2]=g,e[n+80>>2]=g,o=i+16|0,a=r+12|0,e[o+112>>2]=e[a+16>>2],r=e[a+12>>2],e[o+104>>2]=e[a+8>>2],e[o+108>>2]=r,r=e[a+4>>2],e[o+96>>2]=e[a>>2],e[o+100>>2]=r;e:{if(!y[o+116|0]||(r=g-28|0,1<<r&2013265921&&r>>>0<=30))break e;t:switch(g-214|0){case 0:case 2:break e;default:break t}t:{if(!y[o+16|0]||(r=g-96|0,r>>>0>=21))break t;if(1835015>>>r&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(o,a,9809,n+32|0),x=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,r=Ne(n+40|0,0,a),g=vo(o,r,n+80|0),te(r),xe(n+112|0,n+104|0);e:{t:{if((rs(c)|0)!=1){e[n+16>>2]=c,e[n+20>>2]=_,Ye(o,a,25872,n+16|0);break t}if(r=e[n+156>>2],M=c,c=e[n+152>>2],L=0,(r|0)==(_|0)&M>>>0<=c>>>0|r>>>0>_>>>0)break e;e[n>>2]=c,e[n+4>>2]=r,Ye(o,a,27169,n)}L=1}return r=L,a=o+24|0,o=b-32|0,b=o,e[o+24>>2]=e[n+104>>2],c=eR(o+24|0),!p&c>>>0<=v>>>0|p&&(e[o+8>>2]=v,e[o+12>>2]=p,e[o>>2]=c,xt(a,27339,o)),a=Qm(a,e[o+24>>2],n+80|0),b=o+32|0,b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(!p&c>>>0<=v>>>0|(p|0)!=0|(a|0)==1|(r|((g|0)==1|x)))==1,0}function J_(i){var r=0,n=0,o=0,a=0;if(o=e[i+280>>2],o){if(r=e[i+284>>2],n=o,(r|0)!=(n|0)){for(;r=te(r-36|0),(o|0)!=(r|0););n=e[i+280>>2]}e[i+284>>2]=o,P(n)}if(Fh(i+268|0,e[i+272>>2]),M5(i+256|0,e[i+260>>2]),r=e[i+244>>2],r&&(e[i+248>>2]=r,P(r)),r=e[i+220>>2],r&&(e[i+224>>2]=r,P(r)),o=e[i+208>>2],o){if(r=o,n=e[i+212>>2],(r|0)!=(n|0)){for(;r=n-12|0,a=e[r>>2],a&&(e[n-8>>2]=a,P(a)),n=r,(r|0)!=(o|0););r=e[i+208>>2]}e[i+212>>2]=o,P(r)}if(r=e[i+196>>2],r&&(e[i+200>>2]=r,P(r)),r=e[i+184>>2],r&&(e[i+188>>2]=r,P(r)),r=e[i+172>>2],r&&(e[i+176>>2]=r,P(r)),o=e[i+160>>2],o){if(r=o,n=e[i+164>>2],(r|0)!=(n|0)){for(;r=n-28|0,a=e[r+12>>2],a&&(e[n-12>>2]=a,P(a)),a=e[r>>2],a&&(e[n-24>>2]=a,P(a)),n=r,(r|0)!=(o|0););r=e[i+160>>2]}e[i+164>>2]=o,P(r)}if(W5(i+148|0,e[i+152>>2]),R5(i+136|0,e[i+140>>2]),D5(i+124|0,e[i+128>>2]),o=e[i+60>>2],o){if(r=e[i- -64>>2],n=o,(r|0)!=(o|0)){for(;n=r-36|0,a=e[n+16>>2],a&&(e[r-16>>2]=a,P(a)),a=e[r-32>>2],a&&(e[r-28>>2]=a,P(a)),r=n,(o|0)!=(r|0););n=e[i+60>>2]}e[i+64>>2]=o,P(n)}r=i+24|0,n=e[i+48>>2],n&&(e[i+52>>2]=n,P(n)),i=e[i+40>>2];e:{if((i|0)==(r|0))i=e[r>>2]+16|0;else{if(!i)break e;r=i,i=e[i>>2]+20|0}F[e[i>>2]](r)}}function IQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;o=b-32|0,b=o,n=Z(236),e[n+4>>2]=0,e[n+8>>2]=0,e[n+36>>2]=0,e[n+40>>2]=0,e[n>>2]=44968,e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+28>>2]=0,e[n+32>>2]=60,e[n+44>>2]=0,e[n+48>>2]=0,a=n+52|0,S[a|0]=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,c=o+8|0,Ne(n+56|0,-1,c),e[n+124>>2]=0,e[n+128>>2]=0,e[n+116>>2]=0,e[n+120>>2]=0,e[n+108>>2]=0,e[n+112>>2]=0,e[n+100>>2]=0,e[n+104>>2]=0,e[n+92>>2]=0,e[n+96>>2]=0,e[n+136>>2]=0,e[n+140>>2]=0,e[n+132>>2]=1065353216,e[n+144>>2]=0,e[n+148>>2]=0,g=n+156|0,e[g>>2]=0,e[g+4>>2]=0,e[n+152>>2]=1065353216,e[n+164>>2]=0,e[n+168>>2]=0,e[n+172>>2]=0,e[n+176>>2]=0,e[n+180>>2]=0,e[n+184>>2]=0,e[n+188>>2]=0,e[n+192>>2]=0,e[n+196>>2]=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,Ne(n+200|0,-1,c),c=a,a=e[r+4>>2],l5(i,c,e[r>>2],a),r=e[e[i+4>>2]+8>>2],a=e[i+32>>2],c=Ge(a),e[n+24>>2]=0,e[n+28>>2]=0,e[n+20>>2]=r,e[n+16>>2]=c,e[n+12>>2]=a,c=e[i+24>>2],r=e[i+20>>2],a=(c-r|0)/12|0;e:{if((r|0)!=(c|0)){a=e[(r+H(a,12)|0)-8>>2],r=a,c=e[a+4>>2],c&&(e[n+8>>2]=c,r=c+4|0),e[r>>2]=n,e[a+4>>2]=n,e[a+8>>2]=e[a+8>>2]+1,Dh(i,6,g,n),i=0;break e}e[o+4>>2]=a,e[o>>2]=0,Yt(i,15800,o),F[e[e[n>>2]+4>>2]](n),i=1}return b=o+32|0,i|0}function Ea(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;a=b-48|0,b=a;e:{if(S[n+11|0]>=0){o=e[n+4>>2],e[i>>2]=e[n>>2],e[i+4>>2]=o,e[i+8>>2]=e[n+8>>2];break e}Ni(i,e[n>>2],e[n+4>>2])}e:{if(JN(r,i))for(L=1;;){if(e[a+32>>2]=0,e[a+24>>2]=0,e[a+28>>2]=0,o=y[n+11|0],g=o<<24>>24<0,o=g?e[n+4>>2]:o,c=o+1|0,c>>>0>=4294967280)break e;p=e[n>>2];t:{i:{if(c>>>0>=11){_=o+17&-16,c=Z(_),e[a+32>>2]=_|-2147483648,e[a+24>>2]=c,e[a+28>>2]=o;break i}if(S[a+35|0]=o,c=a+24|0,!o)break t}Ce(c,g?p:n,o)}if(S[o+c|0]=0,g=a+24|0,Mn(g,26756,1),p=b-32|0,b=p,x=p+8|0,o=p+21|0,_=p+32|0,c=L,(o|0)==(_|0)|(c|0)>=0?v=o:(S[o|0]=45,c=0-c|0,v=o+1|0),HT(x,v,_,c),c=a+8|0,KT(c,o,e[p+8>>2]),b=_,v=c,o=y[a+19|0],c=o<<24>>24<0,o=Mn(g,c?e[a+8>>2]:v,c?e[a+12>>2]:o),g=e[o>>2],e[a+40>>2]=e[o+4>>2],c=y[o+7|0]|y[o+8|0]<<8|(y[o+9|0]<<16|y[o+10|0]<<24),S[a+43|0]=c,S[a+44|0]=c>>>8,S[a+45|0]=c>>>16,S[a+46|0]=c>>>24,e[o>>2]=0,e[o+4>>2]=0,c=y[o+11|0],e[o+8>>2]=0,S[i+11|0]<0&&P(e[i>>2]),e[i>>2]=g,o=y[a+43|0]|y[a+44|0]<<8|(y[a+45|0]<<16|y[a+46|0]<<24),S[i+7|0]=o,S[i+8|0]=o>>>8,S[i+9|0]=o>>>16,S[i+10|0]=o>>>24,e[i+4>>2]=e[a+40>>2],S[i+11|0]=c,S[a+19|0]<0&&P(e[a+8>>2]),S[a+35|0]<0&&P(e[a+24>>2]),L=L+1|0,!JN(r,i))break}b=a+48|0;return}Be(),Ie()}function TN(i){var r=0,n=0,o=0,a=0,c=0;e:{t:{i:{n:{s:{r=e[i+4>>2];r:{if((r|0)!=e[i+104>>2]){e[i+4>>2]=r+1,r=y[r|0];break r}r=Os(i)}switch(r-43|0){case 0:case 2:break s;default:break n}}c=(r|0)==45,r=e[i+4>>2];s:{if((r|0)!=e[i+104>>2]){e[i+4>>2]=r+1,r=y[r|0];break s}r=Os(i)}if(a=r-58|0,a>>>0>4294967285)break i;if(e[i+116>>2]<0)break t;e[i+4>>2]=e[i+4>>2]-1;break t}a=r-58|0}if(a>>>0<4294967286)break t;if(a=r-48|0,a>>>0<10){for(;;){o=(H(o,10)+r|0)-48|0,n=(o|0)<214748364,r=e[i+4>>2];i:{if((r|0)!=e[i+104>>2]){e[i+4>>2]=r+1,r=y[r|0];break i}r=Os(i)}if(a=r-48|0,!(n&a>>>0<=9))break}n=o>>31}i:{if(a>>>0>=10)break i;for(;;){n=ki(o,n,10,0),o=n+r|0,r=At,r=n>>>0>o>>>0?r+1|0:r,n=o,o=n-48|0,n=r-(n>>>0<48)|0,r=e[i+4>>2];n:{if((r|0)!=e[i+104>>2]){e[i+4>>2]=r+1,r=y[r|0];break n}r=Os(i)}if(a=r-48|0,a>>>0>9)break i;if(!(o>>>0<2061584302&(n|0)<=21474836|(n|0)<21474836))break}}if(a>>>0<10)for(;;){r=e[i+4>>2];i:{if((r|0)!=e[i+104>>2]){e[i+4>>2]=r+1,r=y[r|0];break i}r=Os(i)}if(!(r-48>>>0<10))break}r=e[i+116>>2],(r|0)>0|(r|0)>=0&&(e[i+4>>2]=e[i+4>>2]-1),i=o,o=c?0-i|0:i,n=c?0-(((i|0)!=0)+n|0)|0:n;break e}if(n=-2147483648,e[i+116>>2]<0)break e;return e[i+4>>2]=e[i+4>>2]-1,At=-2147483648,0}return At=n,o}function Um(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;e:{t:{i:{if(a=e[i>>2],p=(e[i+4>>2]-a|0)/36|0,c=p+1|0,c>>>0>=119304648)break i;if(a=(e[i+8>>2]-a|0)/36|0,g=a<<1,g=a>>>0<59652323?c>>>0<g>>>0?g:c:119304647,g){if(g>>>0>=119304648)break i;c=Z(H(g,36))}else c=0;if(_=e[o>>2],a=Ge(_),o=c+H(p,36)|0,e[o>>2]=e[r>>2],r=e[n+4>>2],e[o+4>>2]=e[n>>2],e[o+8>>2]=r,r=e[n+12>>2],e[o+12>>2]=e[n+8>>2],e[o+16>>2]=r,e[o+20>>2]=e[n+16>>2],a>>>0>=4294967280)break i;r=H(g,36),n=o+24|0;n:{s:{if(a>>>0>=11){v=n,g=a+16&-16,n=Z(g),e[v>>2]=n,p=c+H(p,36)|0,e[p+28>>2]=a,e[p+32>>2]=g|-2147483648;break s}if(S[n+11|0]=a,!a)break n}Ce(n,_,a)}if(g=r+c|0,S[n+a|0]=0,a=o+36|0,r=e[i+4>>2],c=e[i>>2],(r|0)==(c|0))break t;for(;r=r-36|0,p=e[r+4>>2],o=o-36|0,e[o>>2]=e[r>>2],e[o+4>>2]=p,n=e[r+20>>2],e[o+16>>2]=e[r+16>>2],e[o+20>>2]=n,n=e[r+12>>2],e[o+8>>2]=e[r+8>>2],e[o+12>>2]=n,e[o+32>>2]=e[r+32>>2],n=e[r+28>>2],e[o+24>>2]=e[r+24>>2],e[o+28>>2]=n,e[r+24>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0,(r|0)!=(c|0););if(e[i+8>>2]=g,n=e[i+4>>2],e[i+4>>2]=a,c=e[i>>2],e[i>>2]=o,(n|0)==(c|0))break e;for(;i=n-36|0,S[i+35|0]<0&&P(e[n-12>>2]),n=i,(c|0)!=(n|0););break e}Be(),Ie()}e[i+8>>2]=g,e[i+4>>2]=a,e[i>>2]=o}c&&P(c)}function xQ(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0;return a=b+-64|0,b=a,r=Z(212),e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=37592,S[r+32|0]=0,e[r+28>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+43|0]=0,S[r+44|0]=0,e[a+56>>2]=0,e[a+48>>2]=0,e[a+52>>2]=0,e[a+40>>2]=0,e[a+44>>2]=0,g=a+40|0,Ne(r+48|0,-1,g),e[r+116>>2]=0,e[r+120>>2]=0,e[r+108>>2]=0,e[r+112>>2]=0,e[r+100>>2]=0,e[r+104>>2]=0,e[r+92>>2]=0,e[r+96>>2]=0,e[r+84>>2]=0,e[r+88>>2]=0,e[r+128>>2]=0,e[r+132>>2]=0,e[r+124>>2]=1065353216,e[r+136>>2]=0,e[r+140>>2]=0,e[r+148>>2]=0,e[r+152>>2]=0,e[r+144>>2]=1065353216,e[r+156>>2]=0,e[r+160>>2]=0,e[r+164>>2]=0,e[r+168>>2]=0,e[r+180>>2]=0,e[r+184>>2]=0,e[r+172>>2]=0,e[r+176>>2]=1065353216,e[r+188>>2]=0,e[r+192>>2]=0,e[r+196>>2]=0,e[r+200>>2]=0,e[r+204>>2]=0,e[r+208>>2]=0,p=e[n+4>>2],Cl(r+4|0,e[n>>2],p),Cl(r+16|0,e[o>>2],e[o+4>>2]),o=e[e[i+4>>2]+8>>2],n=e[i+32>>2],e[a+52>>2]=0,e[a+56>>2]=0,p=Ge(n),e[a+48>>2]=o,e[a+44>>2]=p,e[a+40>>2]=n,n=Ne(a,c,g),l1(i,r+44|0,n),te(n),n=e[e[i+4>>2]+8>>2],o=e[i+12>>2],c=e[i+32>>2],g=Ge(c),i=Z(40),e[i+32>>2]=2,e[i+12>>2]=c,e[i+4>>2]=0,e[i+8>>2]=0,e[i+36>>2]=r,e[i>>2]=37736,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=n,e[i+16>>2]=g,ql(o,i),b=a- -64|0,0}function RN(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0;g=b-112|0,b=g,c=Z(176),e[c+4>>2]=0,e[c+8>>2]=0,S[c+36|0]=0,e[c>>2]=a,e[c+20>>2]=0,e[c+24>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+28>>2]=0,e[c+32>>2]=o,e[g+48>>2]=0,e[g+40>>2]=0,e[g+44>>2]=0,e[g+32>>2]=0,e[g+36>>2]=0,o=g+32|0,Ne(c+40|0,-1,o),e[c+108>>2]=0,e[c+112>>2]=0,e[c+100>>2]=0,e[c+104>>2]=0,e[c+92>>2]=0,e[c+96>>2]=0,e[c+84>>2]=0,e[c+88>>2]=0,e[c+76>>2]=0,e[c+80>>2]=0,e[c+120>>2]=0,e[c+124>>2]=0,e[c+116>>2]=1065353216,e[c+128>>2]=0,e[c+132>>2]=0,e[c+136>>2]=1065353216,e[g+48>>2]=0,e[g+40>>2]=0,e[g+44>>2]=0,e[g+32>>2]=0,e[g+36>>2]=0,p=Ne(c+140|0,-1,o),_=e[e[i+4>>2]+8>>2],a=e[i+32>>2],e[g+44>>2]=0,e[g+48>>2]=0,v=Ge(a),e[g+40>>2]=_,e[g+36>>2]=v,e[g+32>>2]=a,r=Ne(g+72|0,r,o),l1(i,c+36|0,r),te(r),e[g+24>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,r=Ne(o,n,g+8|0),Di(p,r),te(r),r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],o=Ge(n),e[c+24>>2]=0,e[c+28>>2]=0,e[c+20>>2]=r,e[c+16>>2]=o,e[c+12>>2]=n,o=e[i+24>>2],r=e[i+20>>2],n=(o-r|0)/12|0;e:{if((r|0)!=(o|0)){r=e[(r+H(n,12)|0)-8>>2],i=r,n=e[r+4>>2],n&&(e[c+8>>2]=n,i=n+4|0),e[i>>2]=c,e[r+4>>2]=c,e[r+8>>2]=e[r+8>>2]+1,i=0;break e}e[g+4>>2]=n,e[g>>2]=0,Yt(i,15800,g),F[e[e[c>>2]+4>>2]](c),i=1}return b=g+112|0,i}function Sk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;e:{t:{i:{if(n=e[i>>2],a=(e[i+4>>2]-n|0)/68|0,o=a+1|0,o>>>0>=63161284)break i;if(n=(e[i+8>>2]-n|0)/68|0,g=n<<1,o=n>>>0<31580641?o>>>0<g>>>0?g:o:63161283,o){if(o>>>0>=63161284)break i;c=Z(H(o,68))}if(n=H(a,68)+c|0,a=e[r+4>>2],e[n>>2]=e[r>>2],e[n+4>>2]=a,e[n+16>>2]=e[r+16>>2],a=e[r+12>>2],e[n+8>>2]=e[r+8>>2],e[n+12>>2]=a,fe(n+20|0,r+20|0),e[n+56>>2]=e[r+56>>2],e[n+60>>2]=e[r+60>>2],a=r- -64|0,e[n- -64>>2]=e[a>>2],e[a>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,g=H(o,68)+c|0,_=n+68|0,o=e[i+4>>2],a=e[i>>2],(o|0)==(a|0))break t;for(;r=o-68|0,p=e[r+4>>2],c=n-68|0,e[c>>2]=e[r>>2],e[c+4>>2]=p,e[c+16>>2]=e[r+16>>2],p=e[r+12>>2],e[c+8>>2]=e[r+8>>2],e[c+12>>2]=p,fe(n-48|0,o-48|0),e[c+56>>2]=e[r+56>>2],e[c+60>>2]=e[r+60>>2],o=r- -64|0,e[c- -64>>2]=e[o>>2],e[o>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,n=c,o=r,(r|0)!=(a|0););if(e[i+8>>2]=g,o=e[i+4>>2],e[i+4>>2]=_,a=e[i>>2],e[i>>2]=n,(o|0)==(a|0))break e;for(;;){if(i=o-68|0,r=e[i+56>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);if(e[i+60>>2]=0,e[i+56>>2]=0,e[i- -64>>2]=0,te(o-48|0),o=i,(i|0)==(a|0))break}break e}Be(),Ie()}e[i+8>>2]=g,e[i+4>>2]=_,e[i>>2]=n}a&&P(a)}function zm(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;e:{a=e[i+8>>2],g=e[i+12>>2];t:{if(a>>>0<g>>>0){e[a>>2]=r,e[i+8>>2]=a+4;break t}if(c=e[i+4>>2],p=a-c|0,_=p>>2,a=_+1|0,a>>>0>=1073741824)break e;if(v=_<<2,g=g-c|0,_=g>>1,g=g>>>0<2147483644?a>>>0<_>>>0?_:a:1073741823,g){if(g>>>0>=1073741824)break e;a=Z(g<<2)}else a=0;if(_=v+a|0,e[_>>2]=r,(p|0)>0&&Ce(a,c,p),e[i+12>>2]=a+(g<<2),e[i+8>>2]=_+4,e[i+4>>2]=a,!c)break t;P(c)}r=e[i+20>>2],c=e[i+24>>2];t:{if(r>>>0<c>>>0){e[r>>2]=n,e[i+20>>2]=r+4;break t}if(a=e[i+16>>2],g=r-a|0,p=g>>2,r=p+1|0,r>>>0>=1073741824)break e;if(c=c-a|0,_=c>>1,c=c>>>0<2147483644?r>>>0<_>>>0?_:r:1073741823,c){if(c>>>0>=1073741824)break e;r=Z(c<<2)}else r=0;if(p=r+(p<<2)|0,e[p>>2]=n,(g|0)>0&&Ce(r,a,g),e[i+24>>2]=r+(c<<2),e[i+20>>2]=p+4,e[i+16>>2]=r,!a)break t;P(a)}if(c=e[o>>2],r=e[i+32>>2],a=e[i+36>>2],r>>>0<a>>>0){e[r+4>>2]=c,e[r>>2]=o,e[i+32>>2]=r+8;return}if(n=e[i+28>>2],g=r-n|0,p=g>>3,r=p+1|0,r>>>0>=536870912)break e;if(a=a-n|0,_=a>>2,a=a>>>0<2147483640?r>>>0<_>>>0?_:r:536870911,a){if(a>>>0>=536870912)break e;r=Z(a<<3)}else r=0;p=r+(p<<3)|0,e[p+4>>2]=c,e[p>>2]=o,(g|0)>0&&Ce(r,n,g),e[i+36>>2]=r+(a<<3),e[i+32>>2]=p+8,e[i+28>>2]=r,n&&P(n);return}Be(),Ie()}function bh(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0;c=b-128|0,b=c,e[c+56>>2]=r,xe(c- -64|0,c+56|0),g=e[c+80>>2],_=e[c+84>>2],r=(n|o|a)!=0;e:{if(!(!n|(!r|!y[n+18|0]))){e[c+48>>2]=-2,e[c+52>>2]=-1;break e}e[c+48>>2]=g,e[c+52>>2]=_}xe(c- -64|0,c+56|0),n=e[c+88>>2],g=e[c+92>>2];e:{if(!(!o|(!r|!y[o+18|0]))){e[c+40>>2]=-2,e[c+44>>2]=-1;break e}e[c+40>>2]=n,e[c+44>>2]=g}xe(c- -64|0,c+56|0),n=e[c+96>>2],o=e[c+100>>2];e:{if(!(!a|(!r|!y[a+18|0]))){e[c+32>>2]=-2,e[c+36>>2]=-1;break e}e[c+32>>2]=n,e[c+36>>2]=o}r=c- -64|0,n=c+56|0,xe(r,n),o=e[c+52>>2],e[c+24>>2]=e[c+48>>2],e[c+28>>2]=o,o=e[c+44>>2],e[c+16>>2]=e[c+40>>2],e[c+20>>2]=o,o=e[c+36>>2],e[c+8>>2]=e[c+32>>2],e[c+12>>2]=o,v=wN(i,c+24|0,c+16|0,c+8|0,e[c+64>>2]),xe(r,n),g=e[c+76>>2];e:{_=e[c+72>>2];t:{if((_|0)==-64)break t;if(r=e[i+28>>2],(r|0)!=e[i+32>>2]){e[r>>2]=_,e[r+4>>2]=g,e[i+28>>2]=r+8;break t}if(o=e[i+24>>2],n=r-o|0,p=n>>3,r=p+1|0,r>>>0>=536870912)break e;if(a=n>>2,a=n>>>0<2147483640?r>>>0<a>>>0?a:r:536870911,a){if(a>>>0>=536870912)break e;r=Z(a<<3)}else r=0;if(p=r+(p<<3)|0,e[p>>2]=_,e[p+4>>2]=g,(n|0)>0&&Ce(r,o,n),e[i+32>>2]=r+(a<<3),e[i+28>>2]=p+8,e[i+24>>2]=r,!o)break t;P(o)}return b=c+128|0,v}Be(),Ie()}function EQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;_=b-48|0,b=_,v=fe(_+8|0,r+36|0),a=v,o=b-144|0,b=o,e[o+48>>2]=17,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],c=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=c,c=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=c,L=y[n+116|0],L&&(xe(o+80|0,o+48|0),e[o>>2]=e[o+80>>2],Ye(n,r,9809,o)),r=o- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,r=fe(o+8|0,a),a=fe(o+80|0,r),c=o+48|0,M=yk(n,a,n+160|0,c),te(a),te(r),g=o+60|0,a=b-32|0,b=a,r=n+24|0,p=eo(r,c,11852),c=Go(r,e[c+4>>2]-e[c>>2]>>3),n=e[r+36>>2];e:{t:{if((n|0)==e[r+40>>2]){e[a>>2]=-1,e[a+4>>2]=-1,xt(r,27759,a);break t}if(g=fT(r,g,n+16|0),x=e[r+40>>2],n=e[r+36>>2],(x|0)!=(n|0)){if(c=(p|0)==1|(c|0)==1|(g|0)==1,n=(n+H((x-n|0)/36|0,36)|0)-36|0,S[n+32|0]=1,n=e[n+28>>2],p=e[r+24>>2],g=e[r+28>>2]-p>>3,n>>>0>g>>>0){ys(r+24|0,n-g|0);break e}if(n>>>0>=g>>>0)break e;e[r+28>>2]=p+(n<<3);break e}e[a+16>>2]=0,e[a+20>>2]=-1,xt(r,27759,a+16|0)}c=1}return b=a+32|0,r=e[o+60>>2],r&&(e[o- -64>>2]=r,P(r)),r=e[o+48>>2],r&&(e[o+52>>2]=r,P(r)),b=o+144|0,e[i+316>>2]=(M|0)==1|(L|0)!=0|(c|0)==1|e[i+316>>2]==1,te(v),b=_+48|0,0}function NQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0,pe=0,De=0;return n=b-320|0,b=n,o=e[i+4>>2],xe(n+256|0,r+36|0),a=e[n+256>>2],c=Ge(a),be(o),U(e[o+24>>2],a,c,0,0),e[o+36>>2]=1,o=y[r+55|0],a=y[r+54|0],c=y[r+53|0],g=y[r+52|0],p=y[r+51|0],_=y[r+50|0],v=y[r+49|0],L=y[r+48|0],x=y[r+47|0],M=y[r+46|0],V=y[r+45|0],j=y[r+44|0],X=y[r+43|0],se=y[r+42|0],pe=y[r+41|0],De=e[i+4>>2],e[n+240>>2]=y[r+40|0],yt(De,5606,n+240|0),r=e[i+4>>2],e[n+224>>2]=pe,yt(r,5606,n+224|0),r=e[i+4>>2],e[n+208>>2]=se,yt(r,5606,n+208|0),r=e[i+4>>2],e[n+192>>2]=X,yt(r,5606,n+192|0),r=e[i+4>>2],e[n+176>>2]=j,yt(r,5606,n+176|0),r=e[i+4>>2],e[n+160>>2]=V,yt(r,5606,n+160|0),r=e[i+4>>2],e[n+144>>2]=M,yt(r,5606,n+144|0),r=e[i+4>>2],e[n+128>>2]=x,yt(r,5606,n+128|0),r=e[i+4>>2],e[n+112>>2]=L,yt(r,5606,n+112|0),r=e[i+4>>2],e[n+96>>2]=v,yt(r,5606,n+96|0),r=e[i+4>>2],e[n+80>>2]=_,yt(r,5606,n+80|0),r=e[i+4>>2],e[n+64>>2]=p,yt(r,5606,n- -64|0),r=e[i+4>>2],e[n+48>>2]=g,yt(r,5606,n+48|0),r=e[i+4>>2],e[n+32>>2]=c,yt(r,5606,n+32|0),r=e[i+4>>2],e[n+16>>2]=a,yt(r,5606,n+16|0),r=e[i+4>>2],e[n>>2]=o,yt(r,5606,n),i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=n+320|0,0}function TQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;g=b-80|0,b=g,a=r+12|0;e:{if(y[r+36|0]){fe(g+40|0,r+40|0);break e}Ne(g+40|0,ko(e[i+312>>2],r+36|0),a)}v=g+40|0,p=v,L=fe(g,r+140|0),c=L,n=b-240|0,b=n,e[n+200>>2]=16,r=e[a+12>>2],o=i+16|0,e[o+104>>2]=e[a+8>>2],e[o+108>>2]=r,r=e[a+4>>2],e[o+96>>2]=e[a>>2],e[o+100>>2]=r,e[o+112>>2]=e[a+16>>2],x=y[o+116|0],x&&(xe(n+136|0,n+200|0),e[n+16>>2]=e[n+136>>2],Ye(o,a,9809,n+16|0)),e[n+120>>2]=0,e[n+124>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,r=fe(n- -64|0,p),M=Xf(o,r,n+104|0),te(r),a=fe(n+24|0,c),p=fe(n+200|0,a),_=fe(n+136|0,p),c=e[_+24>>2],r=e[o+176>>2]-e[o+172>>2]>>5;e:{if(c>>>0>=r>>>0){e[n+8>>2]=r,e[n+4>>2]=c,e[n>>2]=15348,r=Ye(o,_,27451,n),te(_),c=(r|0)==1;break e}te(_),c=0}return te(p),te(a),r=b-16|0,b=r,e[r+8>>2]=-1,e[r+12>>2]=-1,e[r>>2]=-1,e[r+4>>2]=-1,o=o+24|0,_=C2(o,r,7100),a=eo(o,n+104|0,7100),p=Go(o,e[n+108>>2]-e[n+104>>2]>>3),S2(o,n+116|0),b=r+16|0,r=e[n+116>>2],r&&(e[n+120>>2]=r,P(r)),r=e[n+104>>2],r&&(e[n+108>>2]=r,P(r)),b=n+240|0,e[i+316>>2]=e[i+316>>2]==1|((_|0)==1|(a|0)==1|(p|0)==1|(c|((M|0)==1|(x|0)!=0)))==1,te(L),te(v),b=g+80|0,0}function RQ(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0;return c=b-32|0,b=c,S[c+27|0]=0,S[c+25|0]=1,S[c+26|0]=1,e[c+20>>2]=0,g=y[o+12|0]|y[o+13|0]<<8|(y[o+14|0]<<16|y[o+15|0]<<24),e[c+8>>2]=y[o+8|0]|y[o+9|0]<<8|(y[o+10|0]<<16|y[o+11|0]<<24),e[c+12>>2]=g,S[c+16|0]=y[o+16|0],g=y[o+4|0]|y[o+5|0]<<8|(y[o+6|0]<<16|y[o+7|0]<<24),e[c>>2]=y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),e[c+4>>2]=g,S[c+24|0]=(n|0)!=0,o=Z(8),n=pn(Z(376),0,212),e[n+216>>2]=0,e[n+220>>2]=0,e[n+212>>2]=1065353216,e[n+224>>2]=0,e[n+228>>2]=0,e[n+236>>2]=0,e[n+240>>2]=0,e[n+232>>2]=1065353216,e[n+244>>2]=0,e[n+248>>2]=0,e[n+256>>2]=0,e[n+260>>2]=0,e[n+252>>2]=1065353216,e[n+264>>2]=0,e[n+268>>2]=0,e[n+276>>2]=0,e[n+280>>2]=0,e[n+272>>2]=1065353216,e[n+284>>2]=0,e[n+288>>2]=0,e[n+296>>2]=0,e[n+300>>2]=0,e[n+292>>2]=1065353216,e[n+304>>2]=0,e[n+308>>2]=0,e[n+312>>2]=1065353216,e[n+316>>2]=0,e[n+320>>2]=0,e[n+324>>2]=0,e[n+328>>2]=0,e[n+336>>2]=0,e[n+340>>2]=0,e[n+332>>2]=1065353216,e[n+344>>2]=0,e[n+348>>2]=0,e[n+352>>2]=1065353216,e[n+356>>2]=0,e[n+360>>2]=0,e[n+364>>2]=0,e[n+368>>2]=0,e[n+372>>2]=1065353216,i=$E(25059,i,r,c,a,n),e[o+4>>2]=n,e[o>>2]=i,b=c+32|0,o|0}function MN(i,r,n,o,a){var c=0,g=0,p=0;g=b-32|0,b=g,c=Z(184),e[c+4>>2]=0,e[c+8>>2]=0,e[c+36>>2]=0,e[c+40>>2]=0,e[c>>2]=a,e[c+20>>2]=0,e[c+24>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+28>>2]=0,e[c+32>>2]=o,S[c+41|0]=0,S[c+42|0]=0,S[c+43|0]=0,S[c+44|0]=0,S[c+45|0]=0,S[c+46|0]=0,S[c+47|0]=0,S[c+48|0]=0,e[g+24>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,Ne(c+52|0,-1,g+8|0),e[c+120>>2]=0,e[c+124>>2]=0,e[c+112>>2]=0,e[c+116>>2]=0,e[c+104>>2]=0,e[c+108>>2]=0,e[c+96>>2]=0,e[c+100>>2]=0,e[c+88>>2]=0,e[c+92>>2]=0,e[c+132>>2]=0,e[c+136>>2]=0,e[c+128>>2]=1065353216,e[c+140>>2]=0,e[c+144>>2]=0,p=c+152|0,o=p,e[o>>2]=0,e[o+4>>2]=0,e[c+148>>2]=1065353216,e[c+160>>2]=0,e[c+164>>2]=0,e[c+168>>2]=0,e[c+172>>2]=0,e[c+176>>2]=0,e[c+180>>2]=0,l5(i,c+48|0,e[r>>2],e[r+4>>2]),r=e[e[i+4>>2]+8>>2],o=e[i+32>>2],a=Ge(o),e[c+24>>2]=0,e[c+28>>2]=0,e[c+20>>2]=r,e[c+16>>2]=a,e[c+12>>2]=o,a=e[i+24>>2],r=e[i+20>>2],o=(a-r|0)/12|0;e:{if((r|0)!=(a|0)){o=e[(r+H(o,12)|0)-8>>2],r=o,a=e[o+4>>2],a&&(e[c+8>>2]=a,r=a+4|0),e[r>>2]=c,e[o+4>>2]=c,e[o+8>>2]=e[o+8>>2]+1,Dh(i,n,p,0),i=0;break e}e[g+4>>2]=o,e[g>>2]=0,Yt(i,15800,g),F[e[e[c>>2]+4>>2]](c),i=1}return b=g+32|0,i}function yk(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;a=b-96|0,b=a;e:{t:{i:{n:{s:{if(g=fe(a+56|0,r),p=e[g+24>>2],v=(e[n+4>>2]-e[n>>2]|0)/28|0,p>>>0>=v>>>0){if(e[a+8>>2]=v,e[a+4>>2]=p,e[a>>2]=11043,i=Ye(i,g,27451,a),te(g),!o)break t;if(i)break s;break n}if(te(g),o)break n;i=0;break t}n=0,e[a+48>>2]=0,e[a+40>>2]=0,e[a+44>>2]=0,e[a+32>>2]=0,e[a+36>>2]=0,e[a+24>>2]=0,e[a+28>>2]=0,p=0,g=0,r=0;break i}if(p=e[n>>2],v=e[r+24>>2],n=0,e[a+32>>2]=0,e[a+24>>2]=0,e[a+28>>2]=0,g=0,r=0,i=p+H(v,28)|0,c=e[i+4>>2],_=e[i>>2],(c|0)!=(_|0)){if(g=c-_|0,(g|0)<0)break e;r=Z(g),e[a+24>>2]=r,e[a+32>>2]=(g>>3<<3)+r,g=r,_=e[i>>2],c=e[i+4>>2]-_|0,(c|0)>0&&(g=Ce(r,_,c)+c|0),e[a+28>>2]=g}if(e[a+44>>2]=0,e[a+36>>2]=0,e[a+40>>2]=0,c=e[i+16>>2],_=e[i+12>>2],(c|0)!=(_|0)){if(c=c-_|0,(c|0)<0)break e;n=Z(c),e[a+36>>2]=n,e[a+44>>2]=(c>>3<<3)+n,c=e[i+12>>2],i=e[i+16>>2]-c|0,(i|0)>0?i=Ce(n,c,i)+i|0:i=n,e[a+40>>2]=i}p=e[(p+H(v,28)|0)+24>>2],e[a+48>>2]=p,i=0}if((a+24|0)!=(o|0)&&(or(o,r,g),or(o+12|0,e[a+36>>2],e[a+40>>2]),p=e[a+48>>2],n=e[a+36>>2]),e[o+24>>2]=p,n&&(e[a+40>>2]=n,P(n)),r=e[a+24>>2],!r)break t;e[a+28>>2]=r,P(r)}return b=a+96|0,i}Be(),Ie()}function Lk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;_=b-16|0,b=_;e:{t:{if(n=e[i+52>>2],n)for(o=e[r>>2],a=e[r+4>>2];;){c=e[n+16>>2],g=e[n+20>>2],v=g>>>0<a>>>0;i:{n:{s:{r:{l:{u:{if(p=v?g:a,p){if(L=En(o,c,p),L)break u;if(a>>>0>=g>>>0)break l;break i}if(a>>>0>=g>>>0)break r;break i}if((L|0)<0)break i}if(c=En(c,o,p),c)break s}if(v)break n;break t}if((c|0)>=0)break t}n=n+4|0}if(n=e[n>>2],!n)break}c=r;i:{n:{a=i+48|0,n=e[a+4>>2];s:{if(!n){o=a+4|0,i=o;break s}for(i=e[r+4>>2],r=e[r>>2],g=i;;){i=n,o=e[n+20>>2],n=e[n+16>>2],v=o>>>0<g>>>0;r:{l:{u:{a:{p=v?o:g;c:{if(p){if(L=En(r,n,p),!L){if(o>>>0>g>>>0)break c;break a}if((L|0)>=0)break a;break c}if(o>>>0<=g>>>0)break u}if(o=i,n=e[i>>2],n)continue;break s}if(n=En(n,r,p),n)break l}if(v)break r;break n}if((n|0)>=0)break n}if(n=e[i+4>>2],!n)break}o=i+4|0}r=Z(24),n=e[c>>2],c=e[c+4>>2],e[r+8>>2]=i,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=n,e[r+20>>2]=c,e[o>>2]=r,n=r,i=e[e[a>>2]>>2],i&&(e[a>>2]=i,n=e[o>>2]),_2(e[a+4>>2],n),e[a+8>>2]=e[a+8>>2]+1,i=1;break i}r=i,i=0}S[_+12|0]=i,e[_+8>>2]=r,i=0;break e}e[_>>2]=o,up(e[14179],28851,_),i=1}return b=_+16|0,i}function q_(i,r){var n=0,o=0,a=0,c=0;n=b-112|0,b=n;e:{if((we(i,0)|0)!=127){r=Z(24),e[n+88>>2]=r,o=r+24|0,e[n+96>>2]=o,S[r+23|0]=9,ns[r+20>>1]=102,e[r+12>>2]=1702131813,e[r+16>>2]=1701998194,S[r+11|0]=7,e[r>>2]=1668183398,e[r+4>>2]=6710642,e[n+92>>2]=o,i=Cn(i,n+88|0,0),S[r+23|0]<0&&P(e[r+12>>2]),S[r+11|0]<0&&P(e[r>>2]),P(r);break e}if(c=e[i+92>>2]&1,o=H(c,36)+i|0,a=e[o+36>>2],e[n+104>>2]=e[o+32>>2],e[n+108>>2]=a,a=e[o+28>>2],e[n+96>>2]=e[o+24>>2],e[n+100>>2]=a,a=e[o+20>>2],e[n+88>>2]=e[o+16>>2],e[n+92>>2]=a,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,a=e[o+40>>2],o=e[o+44>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,e[n+80>>2]=a,e[n+84>>2]=o,!(y[e[i+12>>2]+10|0]|(a|0)!=-17)){e[n+72>>2]=e[n+104>>2],o=e[n+100>>2],r=n- -64|0,e[r>>2]=e[n+96>>2],e[r+4>>2]=o,o=e[n+92>>2],e[n+56>>2]=e[n+88>>2],e[n+60>>2]=o,o=n+40|0,ci(o,n+80|0),a=e[r+4>>2],e[n+24>>2]=e[r>>2],e[n+28>>2]=a,e[n+32>>2]=e[n+72>>2],r=e[n+60>>2],e[n+16>>2]=e[n+56>>2],e[n+20>>2]=r,e[n>>2]=S[n+51|0]<0?e[n+40>>2]:o,Kt(i,n+16|0,9985,n),S[n+51|0]<0&&P(e[n+40>>2]),i=1;break e}e[r>>2]=a,e[r+4>>2]=o,i=0}return b=n+112|0,i}function Dk(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0,L=0;_=Zc(i,r,n);e:{t:{if(p=e[o>>2],c=e[p+20>>2],g=e[n>>2],v=e[g+20>>2],(c|0)<(v|0))break t;if(L=_,(c|0)!=(v|0))break e;if(e[p+24>>2]<e[g+24>>2])break t;L=_;break e}if(e[n>>2]=p,e[o>>2]=g,v=e[n>>2],g=e[v+20>>2],p=e[r>>2],c=e[p+20>>2],(g|0)>=(c|0)&&(L=_+1|0,(c|0)!=(g|0)|e[v+24>>2]>=e[p+24>>2])||(e[r>>2]=v,e[n>>2]=p,v=e[r>>2],g=e[v+20>>2],p=e[i>>2],c=e[p+20>>2],(g|0)>=(c|0)&&(L=_+2|0,(c|0)!=(g|0)|e[v+24>>2]>=e[p+24>>2])))break e;e[i>>2]=v,e[r>>2]=p,L=_+3|0}v=L;e:{if(p=e[a>>2],c=e[p+20>>2],g=e[o>>2],_=e[g+20>>2],(c|0)<(_|0))break e;if((c|0)!=(_|0))return v;if(e[p+24>>2]<e[g+24>>2])break e;return v}e[o>>2]=p,e[a>>2]=g,p=e[o>>2],c=e[p+20>>2],g=e[n>>2],_=e[g+20>>2];e:{if((c|0)>=(_|0)&&(a=v+1|0,(c|0)!=(_|0)|e[p+24>>2]>=e[g+24>>2])||(e[n>>2]=p,e[o>>2]=g,g=e[n>>2],_=e[g+20>>2],c=e[r>>2],o=e[c+20>>2],(_|0)>=(o|0)&&(a=v+2|0,(o|0)!=(_|0)|e[g+24>>2]>=e[c+24>>2]))||(e[r>>2]=g,e[n>>2]=c,c=e[r>>2],o=e[c+20>>2],_=e[i>>2],n=e[_+20>>2],(o|0)>=(n|0)&&(a=v+3|0,(n|0)!=(o|0)|e[c+24>>2]>=e[_+24>>2])))break e;e[i>>2]=c,e[r>>2]=_,a=v+4|0}return a}function MQ(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0;if(Yo(i,e[r+8>>2],a)){P5(r,n,o);return}e:{if(Yo(i,e[r>>2],a)){if(!(e[r+16>>2]!=(n|0)&e[r+20>>2]!=(n|0))){if((o|0)!=1)break e;e[r+32>>2]=1;return}if(e[r+32>>2]=o,e[r+44>>2]!=4){c=i+16|0,p=c+(e[i+12>>2]<<3)|0,o=0;t:{i:{for(;;){n:{if(c>>>0>=p>>>0||(ns[r+52>>1]=0,I5(c,r,n,n,1,a),y[r+54|0]))break n;s:{if(!y[r+53|0])break s;if(y[r+52|0]){if(o=1,e[r+24>>2]==1)break i;if(g=1,y[i+8|0]&2)break s;break i}if(g=1,!(S[i+8|0]&1))break i}c=c+8|0;continue}break}if(i=4,!g)break t}i=3}if(e[r+44>>2]=i,o&1)break e}if(e[r+20>>2]=n,e[r+40>>2]=e[r+40>>2]+1,e[r+36>>2]!=1|e[r+24>>2]!=2)break e;S[r+54|0]=1;return}if(g=e[i+12>>2],p=i+16|0,S8(p,r,n,o,a),c=i+24|0,g=p+(g<<3)|0,c>>>0>=g>>>0)break e;if(i=e[i+8>>2],!(!(i&2)&e[r+36>>2]!=1)){for(;;){if(y[r+54|0])break e;if(S8(c,r,n,o,a),c=c+8|0,!(g>>>0>c>>>0))break}break e}if(!(i&1))for(;;){if(y[r+54|0]|e[r+36>>2]==1)break e;if(S8(c,r,n,o,a),c=c+8|0,!(g>>>0>c>>>0))break e}for(;;){if(y[r+54|0]|e[r+36>>2]==1&e[r+24>>2]==1)break e;if(S8(c,r,n,o,a),c=c+8|0,!(g>>>0>c>>>0))break}}}function PN(i,r,n,o,a){var c=0,g=0,p=0,_=0;e:{t:{i:{if(c=e[i>>2],p=(e[i+4>>2]-c|0)/40|0,g=p+1|0,g>>>0>=107374183)break i;if(c=(e[i+8>>2]-c|0)/40|0,_=c<<1,g=c>>>0<53687091?g>>>0<_>>>0?_:g:107374182,g){if(g>>>0>=107374183)break i;c=Z(H(g,40))}else c=0;if(g=c+H(g,40)|0,n=zk(c+H(p,40)|0,e[r>>2],n,o,a),a=n+40|0,r=e[i+4>>2],o=e[i>>2],(r|0)==(o|0))break t;for(;r=r-40|0,c=e[r+4>>2],n=n-40|0,e[n>>2]=e[r>>2],e[n+4>>2]=c,e[n+8>>2]=e[r+8>>2],e[r+8>>2]=0,e[r>>2]=0,e[r+4>>2]=0,c=e[r+12>>2],e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=c,e[n+16>>2]=e[r+16>>2],e[n+20>>2]=e[r+20>>2],e[n+24>>2]=e[r+24>>2],e[r+24>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[n+36>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+28>>2]=e[r+28>>2],e[n+32>>2]=e[r+32>>2],e[n+36>>2]=e[r+36>>2],e[r+36>>2]=0,e[r+28>>2]=0,e[r+32>>2]=0,(r|0)!=(o|0););if(e[i+8>>2]=g,r=e[i+4>>2],e[i+4>>2]=a,o=e[i>>2],e[i>>2]=n,(r|0)==(o|0))break e;for(;i=r-40|0,n=e[i+28>>2],n&&(e[r-8>>2]=n,P(n)),n=e[r-24>>2],n&&(e[r-20>>2]=n,P(n)),S[i+11|0]<0&&P(e[i>>2]),r=i,(o|0)!=(r|0););break e}Be(),Ie()}e[i+8>>2]=g,e[i+4>>2]=a,e[i>>2]=n}o&&P(o)}function PQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;g=b-48|0,b=g,o=e[r+72>>2],L=fe(g+8|0,r+36|0),p=ar(r+72|0,e[r+80>>2],e[r+84>>2]),_=At,n=b-176|0,b=n,e[n+104>>2]=o,e[n+80>>2]=o,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],c=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=c,c=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=c;e:{if(!y[a+116|0]||(c=o-28|0,1<<c&2013265921&&c>>>0<=30))break e;t:switch(o-214|0){case 0:case 2:break e;default:break t}t:{if(!y[a+16|0]||(o=o-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(a,r,9809,n+32|0),M=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,o=fe(n+40|0,L),c=vo(a,o,n+80|0),te(o),xe(n+112|0,n+104|0);e:{t:{if((rs(p)|0)!=1){e[n+16>>2]=p,e[n+20>>2]=_,Ye(a,r,25872,n+16|0);break t}if(o=e[n+156>>2],x=e[n+152>>2],v=0,(o|0)==(_|0)&p>>>0<=x>>>0|o>>>0>_>>>0)break e;e[n>>2]=x,e[n+4>>2]=o,Ye(a,r,27169,n)}v=1}return o=v,r=KR(a+24|0,e[n+104>>2],n+80|0),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(o|((c|0)==1|M)|(r|0)==1)==1,te(L),b=g+48|0,0}function OQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;g=b-48|0,b=g,o=e[r+72>>2],L=fe(g+8|0,r+36|0),p=ar(r+72|0,e[r+80>>2],e[r+84>>2]),_=At,n=b-176|0,b=n,e[n+104>>2]=o,e[n+80>>2]=o,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],c=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=c,c=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=c;e:{if(!y[a+116|0]||(c=o-28|0,1<<c&2013265921&&c>>>0<=30))break e;t:switch(o-214|0){case 0:case 2:break e;default:break t}t:{if(!y[a+16|0]||(o=o-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(a,r,9809,n+32|0),M=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,o=fe(n+40|0,L),c=vo(a,o,n+80|0),te(o),xe(n+112|0,n+104|0);e:{t:{if((rs(p)|0)!=1){e[n+16>>2]=p,e[n+20>>2]=_,Ye(a,r,25872,n+16|0);break t}if(o=e[n+156>>2],x=e[n+152>>2],v=0,(o|0)==(_|0)&p>>>0<=x>>>0|o>>>0>_>>>0)break e;e[n>>2]=x,e[n+4>>2]=o,Ye(a,r,27169,n)}v=1}return o=v,r=Q5(a+24|0,e[n+104>>2],n+80|0),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(o|((c|0)==1|M)|(r|0)==1)==1,te(L),b=g+48|0,0}function Ik(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0;e[i>>2]=36176,r=e[i+40>>2],n=e[i+44>>2];e:{if((r|0)==(n|0)){p=i+56|0,n=r;break e}if(g=e[i+52>>2],c=(g>>>0)/146|0,a=(c<<2)+r|0,o=e[a>>2]+H(g-H(c,146)|0,28)|0,p=i+56|0,g=g+e[p>>2]|0,c=(g>>>0)/146|0,c=e[(c<<2)+r>>2]+H(g-H(c,146)|0,28)|0,(o|0)==(c|0))break e;for(;;){_T(o+4|0),r=e[o+8>>2],n=e[o+12>>2];t:{if((r|0)==(n|0))break t;for(;P(e[r>>2]),r=r+4|0,(n|0)!=(r|0););if(r=e[o+12>>2],n=e[o+8>>2],(r|0)==(n|0))break t;e[o+12>>2]=r+((n-r|0)+3&-4)}if(n=e[o+4>>2],n&&P(n),o=o+28|0,(o-e[a>>2]|0)==4088&&(o=e[a+4>>2],a=a+4|0),(o|0)==(c|0))break}n=e[i+44>>2],r=e[i+40>>2]}if(e[p>>2]=0,a=n-r|0,a>>>0>8)for(;P(e[r>>2]),r=e[i+40>>2]+4|0,e[i+40>>2]=r,n=e[i+44>>2],a=n-r|0,a>>>0>8;);o=73;e:switch((a>>>2|0)-1|0){case 1:o=146;case 0:e[i+52>>2]=o;break;default:break e}e:{if((r|0)==(n|0))break e;for(;P(e[r>>2]),r=r+4|0,(n|0)!=(r|0););if(r=e[i+44>>2],n=e[i+40>>2],(r|0)==(n|0))break e;e[i+44>>2]=r+((n-r|0)+3&-4)}return n=e[i+36>>2],n&&P(n),n=e[i+20>>2],n&&(e[i+24>>2]=n,P(n)),i|0}function Os(i){var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;r=e[i+112>>2],o=e[i+116>>2],a=!!(r|o),n=r;e:{if(_=a,a=e[i+4>>2],c=e[i+44>>2],r=a-c|0,p=r,g=r+e[i+120>>2]|0,r=e[i+124>>2]+(r>>31)|0,r=g>>>0<p>>>0?r+1|0:r,!(_&(n>>>0<=g>>>0&(r|0)>=(o|0)|(r|0)>(o|0)))){o=b-16|0,b=o,a=-1,n=e[i+72>>2],e[i+72>>2]=n-1|n,e[i+20>>2]!=e[i+28>>2]&&F[e[i+36>>2]](i,0,0)|0,e[i+28>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,n=e[i>>2];t:{if(n&4){e[i>>2]=n|32,n=-1;break t}c=e[i+44>>2]+e[i+48>>2]|0,e[i+8>>2]=c,e[i+4>>2]=c,n=n<<27>>31}t:{if(n||(F[e[i+32>>2]](i,o+15|0,1)|0)!=1)break t;a=y[o+15|0]}if(b=o+16|0,(a|0)>=0)break e;c=e[i+44>>2],a=e[i+4>>2]}return e[i+112>>2]=-1,e[i+116>>2]=-1,e[i+104>>2]=a,o=c-a|0,a=o+g|0,r=(o>>31)+r|0,e[i+120>>2]=a,e[i+124>>2]=o>>>0>a>>>0?r+1|0:r,-1}o=g+1|0,r=o?r:r+1|0,g=e[i+4>>2],c=e[i+8>>2],n=e[i+112>>2],p=e[i+116>>2];e:{if(!(n|p)||(_=n-o|0,n=p-(r+(o>>>0>n>>>0)|0)|0,v=c-g|0,p=v>>31,(n|0)>=(p|0)&_>>>0>=v>>>0|(n|0)>(p|0)))break e;c=g+_|0}return e[i+104>>2]=c,n=e[i+44>>2],c=n-g|0,o=c+o|0,r=(c>>31)+r|0,e[i+120>>2]=o,e[i+124>>2]=o>>>0<c>>>0?r+1|0:r,n>>>0>=g>>>0&&(S[g-1|0]=a),a}function Gm(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0;c=b-48|0,b=c;e:{if((we(i,0)|0)!=26)break e;for(p=i+16|0;;){if((we(i,1)|0)!=18||(_=1,(Ve(i,26)|0)==1))break e;t:{if(e[i+88>>2]){g=e[i+92>>2];break t}ri(c+8|0,e[i>>2],i),a=e[i+88>>2],e[i+88>>2]=a+1,o=e[c+12>>2],g=e[i+92>>2],a=H(a+g&1,36)+p|0,e[a>>2]=e[c+8>>2],e[a+4>>2]=o,e[a+32>>2]=e[c+40>>2],o=e[c+36>>2],e[a+24>>2]=e[c+32>>2],e[a+28>>2]=o,o=e[c+28>>2],e[a+16>>2]=e[c+24>>2],e[a+20>>2]=o,o=e[c+20>>2],e[a+8>>2]=e[c+16>>2],e[a+12>>2]=o}o=Z(88),e[o+4>>2]=0,e[o+8>>2]=0,a=H(g&1,36)+p|0,g=e[a+4>>2],e[o+12>>2]=e[a>>2],e[o+16>>2]=g,g=e[a+16>>2],v=e[a+8>>2],a=e[a+12>>2],e[o>>2]=38764,e[o+36>>2]=0,e[o+40>>2]=0,e[o+32>>2]=3,e[o+20>>2]=v,e[o+24>>2]=a,e[o+28>>2]=g,e[o+44>>2]=0,e[c+24>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,Ne(o+52|0,-1,c+8|0),e[o+48>>2]=n;t:{if((Ve(i,18)|0)==1||($n(i,o+36|0)|0)==1||(Ve(i,39)|0)==1)break t;if(a=e[r+4>>2],a?(e[o+8>>2]=a,a=a+4|0):a=r,e[a>>2]=o,e[r+4>>2]=o,e[r+8>>2]=e[r+8>>2]+1,_=0,(we(i,0)|0)==26)continue;break e}break}F[e[e[o>>2]+4>>2]](o)}return b=c+48|0,_}function jm(i,r,n){var o=0,a=0,c=0,g=0,p=0;e:{if(!y[e[i+20>>2]+1|0]||(g=i+56|0,o=e[g>>2],!o))break e;for(;;){t:{a=e[o+16>>2];i:{if((a|0)>(r|0)){g=o;break i}if((r|0)<=(a|0)){if(a=e[o+20>>2],a>>>0>n>>>0){g=o;break i}if(n>>>0<=a>>>0)break t}o=o+4|0}if(o=e[o>>2],o)continue;break e}break}if(a=o,c=e[o>>2],c)for(;;){p=e[c+16>>2];t:{if((p|0)<(r|0)){c=c+4|0;break t}if(!((r|0)<(p|0)|nt[c+20>>2]>=n>>>0)){c=c+4|0;break t}a=c}if(c=e[c>>2],!c)break}if(o=e[o+4>>2],o)for(;;){c=e[o+16>>2];t:{if((c|0)>(r|0)){g=o;break t}if(!(nt[o+20>>2]<=n>>>0|(r|0)>(c|0))){g=o;break t}o=o+4|0}if(o=e[o>>2],!o)break}if((a|0)==(g|0))break e;for(;;){r=e[a+24>>2],be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],5780,6,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,n=y[r+11|0],o=n<<24>>24<0,Qc(i,o?e[r>>2]:r,o?e[r+4>>2]:n),e[i+36>>2]=0,e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1,r=e[a+4>>2];t:{if(r){for(;;)if(o=r,r=e[o>>2],!r)break t}for(;o=e[a+8>>2],r=e[o>>2]!=(a|0),a=o,!!r;);}if(a=o,(o|0)==(g|0))break}}}function Uc(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;e:{a=e[i+4>>2];t:{if(!a)break t;if(a-1>>>0>=3)for(g=a&-4;c=n<<2,e[c+e[i>>2]>>2]=0,e[e[i>>2]+(c|4)>>2]=0,e[e[i>>2]+(c|8)>>2]=0,e[e[i>>2]+(c|12)>>2]=0,n=n+4|0,p=p+4|0,(g|0)!=(p|0););if(a=a&3,a)for(;e[e[i>>2]+(n<<2)>>2]=0,n=n+1|0,o=o+1|0,(a|0)!=(o|0););if(o=e[i+8>>2],e[i+8>>2]=0,e[i+12>>2]=0,!o)break t;for(;;){if(n=o,!r){for(;;)if(i=e[n>>2],S[n+23|0]<0&&P(e[n+12>>2]),P(n),n=i,!n)break e}e[n+8>>2]=e[r+8>>2];i:{if((r|0)==(n|0))break i;if(a=r+12|0,g=y[a+11|0],c=g<<24>>24,o=n+12|0,S[o+11|0]>=0){if((c|0)>=0){c=e[a+4>>2],e[o>>2]=e[a>>2],e[o+4>>2]=c,e[o+8>>2]=e[a+8>>2];break i}Er(o,e[r+12>>2],e[r+16>>2]);break i}p=o,o=(c|0)<0,So(p,o?e[r+12>>2]:a,o?e[r+16>>2]:g)}if(o=e[n>>2],vN(i,n),r=e[r>>2],!o)break}}if(!r)break e;for(;;){n=Z(24),o=e[r+8>>2],e[n+8>>2]=o,a=n+12|0;t:{if(S[r+23|0]>=0){c=e[r+16>>2],e[a>>2]=e[r+12>>2],e[a+4>>2]=c,e[a+8>>2]=e[r+20>>2];break t}Ni(a,e[r+12>>2],e[r+16>>2]),o=e[n+8>>2]}if(e[n>>2]=0,e[n+4>>2]=o,vN(i,n),r=e[r>>2],!r)break}}}function xk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;n=b-128|0,b=n,S[n|0]=0,e[n+120>>2]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,g=Ne(n|4,-1,n+104|0),e[n+48>>2]=0,e[n+52>>2]=0,e[n+56>>2]=0,e[n+60>>2]=0,o=n- -64|0,e[o>>2]=0,e[o+4>>2]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+84>>2]=0,e[n+88>>2]=0,e[n+80>>2]=1065353216,e[n+92>>2]=0,e[n+96>>2]=0,e[n+100>>2]=1065353216,e[n+40>>2]=0,e[n+44>>2]=0,_=n+40|0;e:{t:{i:{if((we(i,0)|0)!=26||(c=1,(we(i,1)|0)!=45))break i;if(a=i+16|0,p=e[i+92>>2]&1,o=a+H(p,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,o=e[i+88>>2],a=a+H(!p,36)|0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[i+88>>2]=o-2,e[i+92>>2]=p,S[n|0]=1,(qt(i,g)|0)==1)break e;if((Ve(i,39)|0)!=1)break t;break e}S[n|0]=0}if(c=1,($f(i,_)|0)==1)break e;if(S[r|0]=y[n|0],Di(r+4|0,g),(r|0)==(n|0)){c=0;break e}or(r+40|0,e[n+40>>2],e[n+44>>2]),or(r+52|0,e[n+52>>2],e[n+56>>2]),In[r+80>>2]=In[n+80>>2],c=0,Uc(r- -64|0,e[n+72>>2]),In[r+100>>2]=In[n+100>>2],Uc(r+84|0,e[n+92>>2])}return bo(_),te(g),b=n+128|0,c}function ON(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;o=e[r+36>>2],g=ar(r+36|0,e[r+40>>2],e[r+44>>2]),p=At,n=b-176|0,b=n,e[n+104>>2]=o,e[n+80>>2]=o,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],c=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=c,c=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=c;e:{if(!y[a+116|0]||(c=o-28|0,1<<c&2013265921&&c>>>0<=30))break e;t:switch(o-214|0){case 0:case 2:break e;default:break t}t:{if(!y[a+16|0]||(o=o-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(a,r,9809,n+32|0),L=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,o=Ne(n+40|0,0,r),c=vo(a,o,n+80|0),te(o),xe(n+112|0,n+104|0);e:{t:{if((rs(g)|0)!=1){e[n+16>>2]=g,e[n+20>>2]=p,Ye(a,r,25872,n+16|0);break t}if(o=e[n+156>>2],v=e[n+152>>2],_=0,(o|0)==(p|0)&g>>>0<=v>>>0|o>>>0>p>>>0)break e;e[n>>2]=v,e[n+4>>2]=o,Ye(a,r,27169,n)}_=1}return o=_,r=Q5(a+24|0,e[n+104>>2],n+80|0),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(o|((c|0)==1|L)|(r|0)==1)==1,0}function FN(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;o=e[r+36>>2],g=ar(r+36|0,e[r+40>>2],e[r+44>>2]),_=At,n=b-176|0,b=n,e[n+104>>2]=o,e[n+80>>2]=o,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],c=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=c,c=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=c;e:{if(!y[a+116|0]||(c=o-28|0,1<<c&2013265921&&c>>>0<=30))break e;t:switch(o-214|0){case 0:case 2:break e;default:break t}t:{if(!y[a+16|0]||(o=o-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(a,r,9809,n+32|0),v=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,o=Ne(n+40|0,0,r),c=vo(a,o,n+80|0),te(o),xe(n+112|0,n+104|0);e:{t:{if((rs(g)|0)!=1){e[n+16>>2]=g,e[n+20>>2]=_,Ye(a,r,25872,n+16|0);break t}if(o=e[n+152>>2],L=(g|0)==(o|0),g=e[n+156>>2],p=0,L&(g|0)==(_|0))break e;e[n>>2]=o,e[n+4>>2]=g,Ye(a,r,27117,n)}p=1}return o=p,r=bh(a+24|0,e[n+104>>2],n+80|0,0,0),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(o|((c|0)==1|v)|(r|0)==1)==1,0}function FQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;p=b-48|0,b=p,_=fe(p+8|0,r+36|0),c=_,n=b-192|0,b=n,e[n+152>>2]=213,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],o=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=o,o=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=o,v=y[a+116|0],v&&(xe(n+88|0,n+152|0),e[n+32>>2]=e[n+88>>2],Ye(a,r,9809,n+32|0)),L=fe(n+48|0,c),c=fe(n+152|0,L),r=fe(n+88|0,c),o=e[r+24>>2],g=e[a+176>>2]-e[a+172>>2]>>5;e:{t:{if(o>>>0>=g>>>0){if(e[n+24>>2]=g,e[n+20>>2]=o,e[n+16>>2]=15348,o=Ye(a,r,27451,n+16|0),te(r),!o)break t;g=0,r=-1,o=(o|0)==1;break e}te(r)}o=e[a+172>>2]+(e[c+24>>2]<<5)|0,r=e[o+4>>2],g=0,x=e[o>>2],o=0}return te(c),te(L),c=g|x,e[n+8>>2]=c,e[n+12>>2]=r,e[n+40>>2]=c,e[n+44>>2]=r,r=b-48|0,b=r,e[r+40>>2]=-1,e[r+44>>2]=-1,c=e[n+8>>2],g=e[n+12>>2],e[r>>2]=-1,e[r+4>>2]=-1,e[r+16>>2]=-1,e[r+20>>2]=-1,e[r+24>>2]=-1,e[r+28>>2]=-1,e[r+32>>2]=c,e[r+36>>2]=g,e[r+8>>2]=c,e[r+12>>2]=g,a=wN(a+24|0,r+16|0,r+8|0,r,11803),b=r+48|0,b=n+192|0,e[i+316>>2]=e[i+316>>2]==1|(o|(v|0)!=0|(a|0)==1)==1,te(_),b=p+48|0,0}function BQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;o=e[r+36>>2],g=ar(r+36|0,e[r+40>>2],e[r+44>>2]),_=At,n=b-176|0,b=n,e[n+104>>2]=o,e[n+80>>2]=o,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],c=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=c,c=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=c;e:{if(!y[a+116|0]||(c=o-28|0,1<<c&2013265921&&c>>>0<=30))break e;t:switch(o-214|0){case 0:case 2:break e;default:break t}t:{if(!y[a+16|0]||(o=o-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(a,r,9809,n+32|0),v=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,o=Ne(n+40|0,0,r),c=vo(a,o,n+80|0),te(o),xe(n+112|0,n+104|0);e:{t:{if((rs(g)|0)!=1){e[n+16>>2]=g,e[n+20>>2]=_,Ye(a,r,25872,n+16|0);break t}if(o=e[n+152>>2],L=(g|0)==(o|0),g=e[n+156>>2],p=0,L&(g|0)==(_|0))break e;e[n>>2]=o,e[n+4>>2]=g,Ye(a,r,27117,n)}p=1}return o=p,r=Q5(a+24|0,e[n+104>>2],n+80|0),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(o|((c|0)==1|v)|(r|0)==1)==1,0}function Ek(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;o=e[r+36>>2],g=ar(r+36|0,e[r+40>>2],e[r+44>>2]),_=At,n=b-176|0,b=n,e[n+104>>2]=o,e[n+80>>2]=o,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],c=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=c,c=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=c;e:{if(!y[a+116|0]||(c=o-28|0,1<<c&2013265921&&c>>>0<=30))break e;t:switch(o-214|0){case 0:case 2:break e;default:break t}t:{if(!y[a+16|0]||(o=o-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(n+112|0,n+80|0),e[n+32>>2]=e[n+112>>2],Ye(a,r,9809,n+32|0),v=1}S[n+95|0]=0,S[n+96|0]=0,S[n+97|0]=0,S[n+98|0]=0,e[n+88>>2]=0,e[n+92>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,o=Ne(n+40|0,0,r),c=vo(a,o,n+80|0),te(o),xe(n+112|0,n+104|0);e:{t:{if((rs(g)|0)!=1){e[n+16>>2]=g,e[n+20>>2]=_,Ye(a,r,25872,n+16|0);break t}if(o=e[n+152>>2],L=(g|0)==(o|0),g=e[n+156>>2],p=0,L&(g|0)==(_|0))break e;e[n>>2]=o,e[n+4>>2]=g,Ye(a,r,27117,n)}p=1}return o=p,r=KR(a+24|0,e[n+104>>2],n+80|0),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(o|((c|0)==1|v)|(r|0)==1)==1,0}function A2(i,r,n,o,a){var c=0,g=0;c=b-32|0,b=c;e:{if(S[a+11|0]<0){e[a+4>>2]=1,g=e[a>>2];break e}S[a+11|0]=1,g=a}S[g|0]=36,S[g+1|0]=0,Pn(a,r);e:{if((n|0)==-1)break e;if(S[i+84|0]&1){t:{i:{if(k5(r,10741)&&k5(r,12324))break i;i=S[a+11|0];n:{if((i|0)<0){i=e[a+4>>2]-1|0,e[a+4>>2]=i,i=i+e[a>>2]|0;break n}i=(i&255)-1|0,S[a+11|0]=i,i=i+a|0}S[i|0]=0;break t}Qs(a,95)}for(e[c+24>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0;i=(n>>>0)/26|0,Qs(c+16|0,(n-H(i,26)<<24)+1627389952>>24),r=n>>>0>25,n=i-1|0,!!r;);if(i=y[c+27|0],r=i<<24>>24<0,Mn(a,r?e[c+16>>2]:c+16|0,r?e[c+20>>2]:i),S[c+27|0]>=0)break e;P(e[c+16>>2]);break e}if(i=c+16|0,h1(i,n),n=i,i=y[c+27|0],r=i<<24>>24<0,Mn(a,r?e[c+16>>2]:n,r?e[c+20>>2]:i),S[c+27|0]>=0)break e;P(e[c+16>>2])}e:{if(!o||(h1(c,o),r5(c,S[c+11|0]<0?e[c>>2]:c),e[c+24>>2]=e[c+8>>2],e[c+8>>2]=0,i=e[c+4>>2],r=e[c>>2],e[c+16>>2]=r,e[c+20>>2]=i,e[c>>2]=0,e[c+4>>2]=0,n=r,i=S[c+27|0],r=(i|0)<0,Mn(a,r?n:c+16|0,r?e[c+20>>2]:i&255),S[c+27|0]<0&&P(e[c+16>>2]),S[c+11|0]>=0))break e;P(e[c>>2])}b=c+32|0}function Zm(i,r,n,o,a){var c=0,g=0,p=0,_=0;e:{t:{i:{if(g=e[i>>2],p=(e[i+4>>2]-g|0)/36|0,c=p+1|0,c>>>0>=119304648)break i;if(_=H(p,36),g=(e[i+8>>2]-g|0)/36|0,p=g<<1,g=g>>>0<59652323?c>>>0<p>>>0?p:c:119304647,g){if(g>>>0>=119304648)break i;p=Z(H(g,36))}else p=0;if(c=_+p|0,t1(c,e[r>>2],n,o,e[a>>2]),o=p+H(g,36)|0,a=c+36|0,r=e[i+4>>2],n=e[i>>2],(r|0)==(n|0))break t;for(;r=r-36|0,g=e[r>>2],c=c-36|0,e[c+12>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c>>2]=g,e[c+4>>2]=e[r+4>>2],e[c+8>>2]=e[r+8>>2],e[c+12>>2]=e[r+12>>2],e[r+12>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[c+24>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+16>>2]=e[r+16>>2],e[c+20>>2]=e[r+20>>2],e[c+24>>2]=e[r+24>>2],e[r+24>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[c+28>>2]=e[r+28>>2],S[c+32|0]=y[r+32|0],(r|0)!=(n|0););if(e[i+8>>2]=o,r=e[i+4>>2],e[i+4>>2]=a,n=e[i>>2],e[i>>2]=c,(r|0)==(n|0))break e;for(;i=r-36|0,o=e[i+16>>2],o&&(e[r-16>>2]=o,P(o)),o=e[r-32>>2],o&&(e[r-28>>2]=o,P(o)),r=i,(n|0)!=(r|0););break e}Be(),Ie()}e[i+8>>2]=o,e[i+4>>2]=a,e[i>>2]=c}n&&P(n)}function WQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;v=b-48|0,b=v,L=fe(v+8|0,r+36|0),a=b-176|0,b=a,e[a+136>>2]=212,o=i+16|0,n=r+12|0,e[o+112>>2]=e[n+16>>2],r=e[n+12>>2],e[o+104>>2]=e[n+8>>2],e[o+108>>2]=r,r=e[n+4>>2],e[o+96>>2]=e[n>>2],e[o+100>>2]=r,x=y[o+116|0],x&&(xe(a+72|0,a+136|0),e[a+16>>2]=e[a+72>>2],Ye(o,n,9809,a+16|0)),c=fe(a+32|0,L),g=fe(a+136|0,c),p=fe(a+72|0,g),n=e[p+24>>2],r=e[o+176>>2]-e[o+172>>2]>>5;e:{if(n>>>0>=r>>>0){e[a+8>>2]=r,e[a+4>>2]=n,e[a>>2]=15348,r=Ye(o,p,27451,a),te(p),r=(r|0)==1;break e}te(p),r=0}te(g),te(c);e:{if(n=e[o+52>>2],(n|0)!=e[o+56>>2]){e[n>>2]=-1,e[n+4>>2]=-1,e[o+52>>2]=n+8;break e}t:{if(p=e[o+48>>2],_=n-p|0,g=_>>3,c=g+1|0,c>>>0>=536870912)break t;if(n=_>>2,c=_>>>0<2147483640?n>>>0>c>>>0?n:c:536870911,c){if(c>>>0>=536870912)break t;n=Z(c<<3)}else n=0;g=n+(g<<3)|0,e[g>>2]=-1,e[g+4>>2]=-1,(_|0)>0&&Ce(n,p,_),e[o+56>>2]=n+(c<<3),e[o+52>>2]=g+8,e[o+48>>2]=n,p&&P(p);break e}Be(),Ie()}return b=a+176|0,e[i+316>>2]=e[i+316>>2]==1|(r|(x|0)!=0)==1,te(L),b=v+48|0,0}function gn(i,r,n,o){var a=0,c=0;a=Z(44),e[i+4>>2]=r+8,e[i>>2]=a,r=a+8|0;e:{if(S[n+11|0]>=0){c=e[n+4>>2],e[r>>2]=e[n>>2],e[r+4>>2]=c,e[r+8>>2]=e[n+8>>2];break e}Ni(r,e[n>>2],e[n+4>>2])}n=e[o+4>>2],e[a+20>>2]=e[o>>2],e[a+24>>2]=n,n=e[o+20>>2],e[a+36>>2]=e[o+16>>2],e[a+40>>2]=n,n=e[o+12>>2],e[a+28>>2]=e[o+8>>2],e[a+32>>2]=n,S[i+8|0]=1,n=r,i=y[a+19|0],r=i<<24>>24<0,o=r?e[a+8>>2]:n,r=r?e[a+12>>2]:i;e:{if(r>>>0<4){i=r,n=r;break e}n=r-4|0;t:{if(n&4){i=r;break t}i=H(y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),1540483477),i=H(i>>>24^i,1540483477)^H(r,1540483477),o=o+4|0,r=n}if(n>>>0<4)break e;for(n=r;r=H(y[o+4|0]|y[o+5|0]<<8|(y[o+6|0]<<16|y[o+7|0]<<24),1540483477),c=H(r>>>24^r,1540483477),r=H(y[o|0]|y[o+1|0]<<8|(y[o+2|0]<<16|y[o+3|0]<<24),1540483477),i=c^H(H(r>>>24^r,1540483477)^H(i,1540483477),1540483477),o=o+8|0,n=n-8|0,n>>>0>3;);}e:switch(n-1|0){case 2:i=y[o+2|0]<<16^i;case 1:i=y[o+1|0]<<8^i;case 0:i=H(y[o|0]^i,1540483477);break;default:break e}e[a>>2]=0,i=H(i>>>13^i,1540483477),e[a+4>>2]=i>>>15^i}function e8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;for(n=b-128|0,b=n,p=i+16|0;;){e:{if(_=n,v=we(i,0),e[_+120>>2]=v,_=n,v=we(i,1),e[_+124>>2]=v,o=e[n+124>>2],e[n+32>>2]=e[n+120>>2],e[n+36>>2]=o,F[r|0](n+32|0)|0){o=0;break e}a=e[i+92>>2]&1,o=H(a,36)+p|0,e[n+112>>2]=e[o+32>>2],c=e[o+28>>2],e[n+104>>2]=e[o+24>>2],e[n+108>>2]=c,c=e[o+20>>2],e[n+96>>2]=e[o+16>>2],e[n+100>>2]=c,c=e[o+12>>2],e[n+88>>2]=e[o+8>>2],e[n+92>>2]=c,c=e[o+4>>2],e[n+80>>2]=e[o>>2],e[n+84>>2]=c,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1;t:{if(e[n+100>>2]!=124||(e[n+72>>2]=e[n+96>>2],a=e[n+92>>2],o=n- -64|0,e[o>>2]=e[n+88>>2],e[o+4>>2]=a,a=e[n+84>>2],e[n+56>>2]=e[n+80>>2],e[n+60>>2]=a,a=n+40|0,c8(a,n+80|0),c=e[o+4>>2],e[n+16>>2]=e[o>>2],e[n+20>>2]=c,e[n+24>>2]=e[n+72>>2],o=e[n+60>>2],e[n+8>>2]=e[n+56>>2],e[n+12>>2]=o,e[n>>2]=S[n+51|0]<0?e[n+40>>2]:a,Kt(i,n+8|0,26391,n),S[n+51|0]>=0))break t;P(e[n+40>>2])}if(o=1,g=g+1|0,(g|0)!=10)continue}break}return b=n+128|0,o}function VQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0;o=b-32|0,b=o,a=e[i+4>>2],g=e[a+8>>2],c=e[i+32>>2],p=Ge(c),n=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[o+24>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[o+28>>2]=n,n=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[o+16>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[o+20>>2]=n,n=Z(104),e[n+32>>2]=17,e[n+4>>2]=0,e[n+8>>2]=0,e[n+36>>2]=c,e[n>>2]=41088,e[n+56>>2]=-5,e[n+60>>2]=-1,e[n+48>>2]=0,e[n+52>>2]=0,e[n+44>>2]=g,e[n+40>>2]=p,g=e[o+12>>2],r=n- -64|0,e[r>>2]=e[o+8>>2],e[r+4>>2]=g,r=e[o+20>>2],e[n+72>>2]=e[o+16>>2],e[n+76>>2]=r,r=e[o+28>>2],e[n+80>>2]=e[o+24>>2],e[n+84>>2]=r,e[n+88>>2]=0,r=e[a+8>>2],a=Ge(c),e[n+24>>2]=0,e[n+28>>2]=0,e[n+20>>2]=r,e[n+16>>2]=a,e[n+12>>2]=c,a=e[i+24>>2],r=e[i+20>>2],c=(a-r|0)/12|0;e:{if((r|0)!=(a|0)){i=e[(r+H(c,12)|0)-8>>2],r=e[i+4>>2],r?(e[n+8>>2]=r,r=r+4|0):r=i,e[r>>2]=n,e[i+4>>2]=n,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[o+4>>2]=c,e[o>>2]=0,Yt(i,15800,o),P(n),i=1}return b=o+32|0,i|0}function _2(i,r){var n=0,o=0,a=0;n=(i|0)==(r|0),S[r+12|0]=n;e:{if(n)break e;for(;;){if(o=e[r+8>>2],y[o+12|0])break e;t:{if(n=e[o+8>>2],a=e[n>>2],(a|0)==(o|0)){if(a=e[n+4>>2],!(!a|y[a+12|0]))break t;i:{if(e[o>>2]==(r|0)){r=o;break i}r=e[o+4>>2],i=e[r>>2],e[o+4>>2]=i,i&&(e[i+8>>2]=o,n=e[o+8>>2]),e[r+8>>2]=n,i=e[o+8>>2],e[((e[i>>2]!=(o|0))<<2)+i>>2]=r,e[r>>2]=o,e[o+8>>2]=r,n=e[r+8>>2],o=e[n>>2]}S[r+12|0]=1,S[n+12|0]=0,i=e[o+4>>2],e[n>>2]=i,i&&(e[i+8>>2]=n),e[o+8>>2]=e[n+8>>2],i=e[n+8>>2],e[((e[i>>2]!=(n|0))<<2)+i>>2]=o,e[o+4>>2]=n,e[n+8>>2]=o;return}if(!(y[a+12|0]|!a))break t;i:{if(e[o>>2]!=(r|0)){r=o;break i}i=e[r+4>>2],e[o>>2]=i,i&&(e[i+8>>2]=o,n=e[o+8>>2]),e[r+8>>2]=n,i=e[o+8>>2],e[((e[i>>2]!=(o|0))<<2)+i>>2]=r,e[r+4>>2]=o,e[o+8>>2]=r,n=e[r+8>>2]}S[r+12|0]=1,S[n+12|0]=0,i=e[n+4>>2],r=e[i>>2],e[n+4>>2]=r,r&&(e[r+8>>2]=n),e[i+8>>2]=e[n+8>>2],r=e[n+8>>2],e[((e[r>>2]!=(n|0))<<2)+r>>2]=i,e[i>>2]=n,e[n+8>>2]=i;break e}if(S[o+12|0]=1,S[n+12|0]=(i|0)==(n|0),S[a+12|0]=1,r=n,(n|0)==(i|0))break}}}function HQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;return o=b+-64|0,b=o,c=e[e[i+4>>2]+8>>2],a=e[i+32>>2],g=Ge(a),r=Z(216),e[r+32>>2]=0,e[r+12>>2]=a,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=38284,S[r+36|0]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=c,e[r+16>>2]=g,S[r+47|0]=0,S[r+48|0]=0,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,e[o+40>>2]=0,e[o+44>>2]=0,a=o+40|0,Ne(r+52|0,-1,a),e[r+120>>2]=0,e[r+124>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+96>>2]=0,e[r+100>>2]=0,e[r+88>>2]=0,e[r+92>>2]=0,e[r+132>>2]=0,e[r+136>>2]=0,e[r+128>>2]=1065353216,e[r+140>>2]=0,e[r+144>>2]=0,e[r+152>>2]=0,e[r+156>>2]=0,e[r+148>>2]=1065353216,e[r+160>>2]=0,e[r+164>>2]=0,e[r+168>>2]=0,e[r+172>>2]=0,e[r+184>>2]=0,e[r+188>>2]=0,e[r+176>>2]=0,e[r+180>>2]=1065353216,e[r+192>>2]=0,e[r+196>>2]=0,e[r+200>>2]=0,e[r+204>>2]=0,e[r+208>>2]=0,e[r+212>>2]=0,g=e[e[i+4>>2]+8>>2],c=e[i+32>>2],e[o+52>>2]=0,e[o+56>>2]=0,p=Ge(c),e[o+48>>2]=g,e[o+44>>2]=p,e[o+40>>2]=c,n=Ne(o,n,a),l1(i,r+48|0,n),te(n),Ok(e[i+12>>2],r),b=o- -64|0,0}function UQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;if(_=b-80|0,b=_,a=b-80|0,b=a,e[a+8>>2]=13,o=i+16|0,c=r+12|0,n=c,e[o+112>>2]=e[n+16>>2],g=e[n+12>>2],e[o+104>>2]=e[n+8>>2],e[o+108>>2]=g,g=e[n+4>>2],e[o+96>>2]=e[n>>2],e[o+100>>2]=g,g=y[o+116|0],g&&(xe(a+16|0,a+8|0),e[a>>2]=e[a+16>>2],Ye(o,n,9809,a)),n=b-16|0,b=n,p=o+24|0,e[p+48>>2]=0,e[n+8>>2]=-1,e[n+12>>2]=-1,e[n>>2]=-1,e[n+4>>2]=-1,p=C2(p,n,15294),b=n+16|0,b=a+80|0,e[i+316>>2]=(p|0)==1|(g|0)!=0|e[i+316>>2]==1,n=e[r+36>>2],a=e[r+40>>2],(n|0)!=(a|0))for(;g=fe(_+40|0,n),p=lT(o,c,g),e[i+316>>2]=e[i+316>>2]==1|(p|0)==1,te(g),n=n+36|0,(a|0)!=(n|0););return r=fe(_,r+48|0),n=lT(o,c,r),e[i+316>>2]=e[i+316>>2]==1|(n|0)==1,te(r),r=b-80|0,b=r,e[r+8>>2]=13,e[o+112>>2]=e[c+16>>2],n=e[c+12>>2],e[o+104>>2]=e[c+8>>2],e[o+108>>2]=n,n=e[c+4>>2],e[o+96>>2]=e[c>>2],e[o+100>>2]=n,n=y[o+116|0],n&&(xe(r+16|0,r+8|0),e[r>>2]=e[r+16>>2],Ye(o,c,9809,r)),o=ZT(o+24|0),b=r+80|0,e[i+316>>2]=(o|0)==1|(n|0)!=0|e[i+316>>2]==1,b=_+80|0,0}function Ve(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;n=b-112|0,b=n;e:{if((we(i,0)|0)!=(r|0)){if(g=1,a=e[i+92>>2]&1,o=H(a,36)+i|0,e[n+104>>2]=e[o+48>>2],c=e[o+44>>2],e[n+96>>2]=e[o+40>>2],e[n+100>>2]=c,c=e[o+36>>2],e[n+88>>2]=e[o+32>>2],e[n+92>>2]=c,c=e[o+28>>2],e[n+80>>2]=e[o+24>>2],e[n+84>>2]=c,c=e[o+20>>2],e[n+72>>2]=e[o+16>>2],e[n+76>>2]=c,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,o=n- -64|0,e[o>>2]=e[n+88>>2],a=e[n+84>>2],e[n+56>>2]=e[n+80>>2],e[n+60>>2]=a,a=e[n+76>>2],e[n+48>>2]=e[n+72>>2],e[n+52>>2]=a,a=n+32|0,c8(a,n+72|0),c=e[n+32>>2],p=S[n+43|0],r=WR(r),e[n+24>>2]=e[o>>2],o=e[n+60>>2],e[n+16>>2]=e[n+56>>2],e[n+20>>2]=o,e[n+4>>2]=r,r=e[n+52>>2],e[n+8>>2]=e[n+48>>2],e[n+12>>2]=r,e[n>>2]=(p|0)<0?c:a,Kt(i,n+8|0,26412,n),S[n+43|0]>=0)break e;P(e[n+32>>2]);break e}o=e[i+92>>2]&1,r=H(o,36)+i|0,e[r+32>>2]=0,e[r+36>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1}return b=n+112|0,g}function BN(i){var r=0,n=0,o=0,a=0,c=0,g=0,p=0;if(o=b-32|0,b=o,r=Z(212),a=e[i+4>>2],p=e[i>>2],n=y[i+11|0],e[r+28>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=37592,c=n<<24>>24<0,n=c?a:n,n>>>0<4294967280){e:{t:{if(n>>>0>=11){g=n+16&-16,a=Z(g),e[r+40>>2]=g|-2147483648,e[r+32>>2]=a,e[r+36>>2]=n;break t}if(a=r+32|0,S[a+11|0]=n,!n)break e}Ce(a,c?p:i,n)}return S[n+a|0]=0,S[r+44|0]=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,Ne(r+48|0,-1,o+8|0),i=r,e[i+116>>2]=0,e[i+120>>2]=0,e[i+108>>2]=0,e[i+112>>2]=0,e[i+100>>2]=0,e[i+104>>2]=0,e[i+92>>2]=0,e[i+96>>2]=0,e[i+84>>2]=0,e[i+88>>2]=0,e[i+128>>2]=0,e[i+132>>2]=0,e[i+124>>2]=1065353216,e[i+136>>2]=0,e[i+140>>2]=0,e[i+148>>2]=0,e[i+152>>2]=0,e[i+144>>2]=1065353216,e[i+156>>2]=0,e[i+160>>2]=0,e[i+164>>2]=0,e[i+168>>2]=0,e[i+180>>2]=0,e[i+184>>2]=0,e[i+172>>2]=0,e[i+176>>2]=1065353216,e[i+188>>2]=0,e[i+192>>2]=0,e[i+196>>2]=0,e[i+200>>2]=0,e[i+204>>2]=0,e[i+208>>2]=0,b=o+32|0,i}Be(),Ie()}function zQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0;a=b+-64|0,b=a,o=1;e:{if(Yo(i,r,0)||(o=0,!r))break e;o=b+-64|0,b=o,c=e[r>>2],g=e[c-4>>2],c=e[c-8>>2],e[o+32>>2]=0,e[o+36>>2]=0,e[o+40>>2]=0,e[o+44>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,S[o+55|0]=0,S[o+56|0]=0,S[o+57|0]=0,S[o+58|0]=0,S[o+59|0]=0,S[o+60|0]=0,S[o+61|0]=0,S[o+62|0]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+20>>2]=0,e[o+16>>2]=57948,e[o+12>>2]=r,e[o+8>>2]=57996,c=r+c|0,r=0;t:{if(Yo(g,57996,0)){e[o+56>>2]=1,F[e[e[g>>2]+20>>2]](g,o+8|0,c,c,1,0),r=e[o+32>>2]==1?c:0;break t}F[e[e[g>>2]+24>>2]](g,o+8|0,c,1,0);i:switch(e[o+44>>2]){case 0:r=e[o+48>>2]==1&&e[o+36>>2]==1&&e[o+40>>2]==1?e[o+28>>2]:0;break t;case 1:break i;default:break t}if(e[o+32>>2]!=1&&e[o+48>>2]|e[o+36>>2]!=1|e[o+40>>2]!=1)break t;r=e[o+24>>2]}if(b=o- -64|0,o=0,!r)break e;o=a+8|0,pn(o|4,0,52),e[a+56>>2]=1,e[a+20>>2]=-1,e[a+16>>2]=i,e[a+8>>2]=r,F[e[e[r>>2]+28>>2]](r,o,e[n>>2],1),i=e[a+32>>2],(i|0)==1&&(e[n>>2]=e[a+24>>2]),o=(i|0)==1}return b=a- -64|0,o|0}function Nk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;o=b-48|0,b=o;e:{if((we(i,0)|0)!=127)break e;p=i+16|0,g=e[i+88>>2];t:{if(g){a=e[i+92>>2];break t}ri(o+8|0,e[i>>2],i),n=e[i+88>>2],g=n+1|0,e[i+88>>2]=g,c=e[o+12>>2],a=e[i+92>>2],n=p+H(n+a&1,36)|0,e[n>>2]=e[o+8>>2],e[n+4>>2]=c,e[n+32>>2]=e[o+40>>2],c=e[o+36>>2],e[n+24>>2]=e[o+32>>2],e[n+28>>2]=c,c=e[o+28>>2],e[n+16>>2]=e[o+24>>2],e[n+20>>2]=c,c=e[o+20>>2],e[n+8>>2]=e[o+16>>2],e[n+12>>2]=c}if(a=a&1,c=p+H(a,36)|0,n=e[c+24>>2],(n|0)==-2)c=1;else{if(g||(ri(o+8|0,e[i>>2],i),n=e[i+88>>2],g=n+1|0,e[i+88>>2]=g,a=e[o+12>>2],c=e[i+92>>2],n=p+H(c+n&1,36)|0,e[n>>2]=e[o+8>>2],e[n+4>>2]=a,e[n+32>>2]=e[o+40>>2],a=e[o+36>>2],e[n+24>>2]=e[o+32>>2],e[n+28>>2]=a,a=e[o+28>>2],e[n+16>>2]=e[o+24>>2],e[n+20>>2]=a,a=e[o+20>>2],e[n+8>>2]=e[o+16>>2],e[n+12>>2]=a,a=c&1,n=e[(p+H(a,36)|0)+24>>2]),(n|0)!=-1)break e;c=0}n=p+H(a,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+88>>2]=g-1,e[i+92>>2]=a^1,S[r+18|0]=c}return b=o+48|0,0}function WN(i,r,n,o){var a=0,c=0,g=0,p=0;g=b-32|0,b=g,a=o&2147483647,p=a,c=a-1006698496|0,a=a-1140785152|0;e:{if((c|0)==(a|0)&0|a>>>0>c>>>0){if(a=o<<4|n>>>28,c=n<<4|r>>>28,n=a,r=r&268435455,(r|0)==134217728&(i|0)!=0|r>>>0>134217728){a=n+1073741824|0,i=c+1|0,a=i?a:a+1|0,c=i;break e}if(a=n+1073741824|0,i|(r|0)!=134217728)break e;r=c&1,i=r+c|0,a=i>>>0<r>>>0?a+1|0:a,c=i;break e}if(!(!n&(p|0)==2147418112?!(i|r):p>>>0<2147418112)){a=n,n=o<<4|a>>>28,c=a<<4|r>>>28,a=n&524287|2146959360;break e}if(c=0,a=2146435072,p>>>0>1140785151||(a=0,p=p>>>16|0,p>>>0<15249))break e;if(a=o&65535|65536,Dr(g+16|0,i,r,n,a,p-15233|0),Ih(g,i,r,n,a,15361-p|0),a=e[g+4>>2],p=a,i=e[g+8>>2],n=e[g+12>>2]<<4|i>>>28,c=i<<4|a>>>28,a=n,i=p&268435455,r=e[g>>2]|(e[g+16>>2]|e[g+24>>2]|(e[g+20>>2]|e[g+28>>2]))!=0,(i|0)==134217728&(r|0)!=0|i>>>0>134217728){i=c+1|0,a=i?a:a+1|0,c=i;break e}if(r|(i|0)!=134217728)break e;i=c+(c&1)|0,a=i>>>0<c>>>0?a+1|0:a,c=i}return b=g+32|0,m2(0,c|0),m2(1,o&-2147483648|a),+W_()}function GQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;p=b-48|0,b=p,_=fe(p+8|0,r+36|0),c=_,n=b-192|0,b=n,e[n+152>>2]=210,a=i+16|0,r=r+12|0,e[a+112>>2]=e[r+16>>2],o=e[r+12>>2],e[a+104>>2]=e[r+8>>2],e[a+108>>2]=o,o=e[r+4>>2],e[a+96>>2]=e[r>>2],e[a+100>>2]=o,v=y[a+116|0],v&&(xe(n+88|0,n+152|0),e[n+32>>2]=e[n+88>>2],Ye(a,r,9809,n+32|0)),L=fe(n+48|0,c),c=fe(n+152|0,L),r=fe(n+88|0,c),o=e[r+24>>2],g=e[a+176>>2]-e[a+172>>2]>>5;e:{t:{if(o>>>0>=g>>>0){if(e[n+24>>2]=g,e[n+20>>2]=o,e[n+16>>2]=15348,o=Ye(a,r,27451,n+16|0),te(r),!o)break t;g=0,r=-1,o=(o|0)==1;break e}te(r)}o=e[a+172>>2]+(e[c+24>>2]<<5)|0,r=e[o+4>>2],g=0,x=e[o>>2],o=0}return te(c),te(L),c=g|x,e[n+8>>2]=c,e[n+12>>2]=r,e[n+40>>2]=c,e[n+44>>2]=r,r=b-32|0,b=r,e[r+24>>2]=-1,e[r+28>>2]=-1,c=e[n+8>>2],g=e[n+12>>2],e[r+8>>2]=-1,e[r+12>>2]=-1,e[r+16>>2]=c,e[r+20>>2]=g,e[r>>2]=c,e[r+4>>2]=g,a=bk(a+24|0,r+8|0,r,6989),b=r+32|0,b=n+192|0,e[i+316>>2]=e[i+316>>2]==1|(o|(v|0)!=0|(a|0)==1)==1,te(_),b=p+48|0,0}function jQ(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0;return a=b+-64|0,b=a,r=Z(148),e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=4,e[r>>2]=38180,S[r+32|0]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+43|0]=0,S[r+44|0]=0,e[a+56>>2]=0,e[a+48>>2]=0,e[a+52>>2]=0,e[a+40>>2]=0,e[a+44>>2]=0,g=a+40|0,Ne(r+48|0,-1,g),e[r+116>>2]=0,e[r+120>>2]=0,e[r+108>>2]=0,e[r+112>>2]=0,e[r+100>>2]=0,e[r+104>>2]=0,e[r+92>>2]=0,e[r+96>>2]=0,e[r+84>>2]=0,e[r+88>>2]=0,e[r+128>>2]=0,e[r+132>>2]=0,e[r+124>>2]=1065353216,e[r+136>>2]=0,e[r+140>>2]=0,e[r+144>>2]=1065353216,p=e[n+4>>2],Cl(r+4|0,e[n>>2],p),Cl(r+16|0,e[o>>2],e[o+4>>2]),o=e[e[i+4>>2]+8>>2],n=e[i+32>>2],e[a+52>>2]=0,e[a+56>>2]=0,p=Ge(n),e[a+48>>2]=o,e[a+44>>2]=p,e[a+40>>2]=n,n=Ne(a,c,g),l1(i,r+44|0,n),te(n),n=e[e[i+4>>2]+8>>2],o=e[i+12>>2],c=e[i+32>>2],g=Ge(c),i=Z(40),e[i+32>>2]=2,e[i+12>>2]=c,e[i+4>>2]=0,e[i+8>>2]=0,e[i+36>>2]=r,e[i>>2]=37736,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=n,e[i+16>>2]=g,ql(o,i),b=a- -64|0,0}function ZQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;_=b-48|0,b=_,v=fe(_+8|0,r+36|0),n=b-128|0,b=n,e[n+56>>2]=53,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,L=y[o+116|0],L&&(xe(n- -64|0,n+56|0),e[n>>2]=e[n+64>>2],Ye(o,r,9809,n)),S[n+79|0]=0,S[n+80|0]=0,S[n+81|0]=0,S[n+82|0]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+64>>2]=0,e[n+68>>2]=0,r=fe(n+16|0,v),a=n- -64|0,M=vo(o,r,a),te(r),x=y[a+18|0]?-2:-1;e:{if(r=e[o+52>>2],(r|0)!=e[o+56>>2]){e[r>>2]=x,e[r+4>>2]=-1,e[o+52>>2]=r+8;break e}t:{if(p=e[o+48>>2],a=r-p|0,g=a>>3,r=g+1|0,r>>>0>=536870912)break t;if(c=a>>2,c=a>>>0<2147483640?r>>>0<c>>>0?c:r:536870911,c){if(c>>>0>=536870912)break t;r=Z(c<<3)}else r=0;g=r+(g<<3)|0,e[g>>2]=x,e[g+4>>2]=-1,(a|0)>0&&Ce(r,p,a),e[o+56>>2]=r+(c<<3),e[o+52>>2]=g+8,e[o+48>>2]=r,p&&P(p);break e}Be(),Ie()}return b=n+128|0,e[i+316>>2]=(M|0)==1|(L|0)!=0|e[i+316>>2]==1,te(v),b=_+48|0,0}function VN(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0;a=b+-64|0,b=a,e[a+60>>2]=0;e:{t:{o=e[i+4>>2],o=jc(o+e[i+12>>2]|0,o+e[i>>2]|0,a+60|0);i:{if(!o){r=10177;break i}if(e[i+12>>2]=o+e[i+12>>2],o=e[a+60>>2],e[r>>2]=o,e[r+4>>2]=-1,r=14370,o=o+21|0,o>>>0>5)break i;if(1<<o&49)break t}e[a>>2]=14104,Q(i,r,a),r=1;break e}if(e[a+56>>2]=0,p=e[i>>2],r=e[i+12>>2],c=r+1|0,p>>>0<c>>>0){e[a+20>>2]=7726,e[a+16>>2]=7319,Q(i,9787,a+16|0),r=1;break e}if(g=e[i+4>>2],o=y[g+r|0],e[i+12>>2]=c,r=1,o&2){Q(i,16893,0);break e}if(o&4){Q(i,6824,0);break e}if(o>>>0>=8){e[a+48>>2]=o,Q(i,24065,a+48|0);break e}if(c=qe(c+g|0,g+p|0,a+60|0),!c){e[a+32>>2]=6158,Q(i,10147,a+32|0);break e}if(e[i+12>>2]=c+e[i+12>>2],c=o&1,c){o=b-16|0,b=o,g=e[i+4>>2],g=qe(g+e[i+12>>2]|0,g+e[i>>2]|0,a+56|0);t:{if(!g){e[o>>2]=6137,Q(i,10147,o),i=1;break t}e[i+12>>2]=g+e[i+12>>2],i=0}if(b=o+16|0,(i|0)==1)break e;_=e[a+56>>2]}S[n+16|0]=c,i=e[a+60>>2],e[n+8>>2]=_,e[n+12>>2]=0,e[n>>2]=i,e[n+4>>2]=0,r=0}return b=a- -64|0,r}function QQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0;v=b-48|0,b=v,V=fe(v+8|0,r+36|0),g=V,n=b-160|0,b=n,e[n+88>>2]=26,o=i+16|0,a=r+12|0,e[o+112>>2]=e[a+16>>2],r=e[a+12>>2],e[o+104>>2]=e[a+8>>2],e[o+108>>2]=r,r=e[a+4>>2],e[o+96>>2]=e[a>>2],e[o+100>>2]=r;e:{if(y[o+116|0]){xe(n+96|0,n+88|0),e[n+32>>2]=e[n+96>>2],Ye(o,a,9809,n+32|0),r=1;break e}L=fe(n+48|0,g);t:{i:{if(r=e[o+244>>2],p=e[o+248>>2],(r|0)==(p|0))r=0;else{for(a=e[L+24>>2],_=(p-r|0)/12|0;x=_>>>1|0,g=H(x,12)+r|0,j=nt[g+8>>2]>a>>>0,r=j?r:g+12|0,_=j?x:(x^-1)+_|0,!!_;);if((r|0)!=(p|0))break i;r=e[p-4>>2]}e[n+16>>2]=r,a=0,g=(Ye(o,L,27489,n+16|0)|0)==1,r=-1;break t}c=e[r>>2],a=0,g=0,r=e[r+4>>2]}te(L),c=a|c,e[n+8>>2]=c,r=r|M,e[n+12>>2]=r,e[n+40>>2]=c,e[n+44>>2]=r,r=b-16|0,b=r,M=e[n+12>>2],c=e[n+8>>2],e[r>>2]=c,e[r+4>>2]=M,e[r+8>>2]=c,e[r+12>>2]=M,c=C2(o+24|0,r,6968),b=r+16|0,r=g|(c|0)==1}return b=n+160|0,e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,te(V),b=v+48|0,0}function YQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;a=b-32|0,b=a,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,or(a+16|0,n,(r<<3)+n|0),n=0,r=Z(48);e:{t:{if(g=e[a+20>>2],c=e[a+16>>2],(g|0)!=(c|0)){if(o=g-c|0,(o|0)<0)break t;n=Z(o),o=Ce(n,c,o)+o|0}if(e[r+4>>2]=0,e[r+8>>2]=0,e[r+36>>2]=0,e[r+40>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+28>>2]=0,e[r+32>>2]=42,e[r+44>>2]=0,e[r>>2]=44564,(n|0)!=(o|0)){if(o=o-n|0,(o|0)<0)break t;c=Z(o),e[r+36>>2]=c,e[r+44>>2]=c+(o>>3<<3),p=r,_=Ce(c,n,o)+o|0,e[p+40>>2]=_}n&&P(n);break e}Be(),Ie()}n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=c,e[r+12>>2]=o,c=e[i+24>>2],n=e[i+20>>2],o=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){i=e[(n+H(o,12)|0)-8>>2],n=e[i+4>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i,e[n>>2]=r,e[i+4>>2]=r,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[a+4>>2]=o,e[a>>2]=0,Yt(i,15800,a),F[e[e[r>>2]+4>>2]](r),i=1}return r=e[a+16>>2],r&&(e[a+20>>2]=r,P(r)),b=a+32|0,i|0}function $Q(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0,_=0,v=0,L=0,x=0;p=b-240|0,b=p,_=e[g>>2],v=e[g+4>>2];e:{if(y[g+16|0]){L=e[g+12>>2],e[p+72>>2]=e[g+8>>2],e[p+76>>2]=L,e[p+64>>2]=_,e[p+68>>2]=v,Bs(p+128|0,100,2807,p- -64|0);break e}e[p+48>>2]=_,e[p+52>>2]=v,Bs(p+128|0,100,2832,p+48|0)}_=e[i+16>>2];e:{t:{if(_>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),_=_-142|0,_>>>0>142;);_=e[i+16>>2];break t}if(!_)break e}U(e[i+8>>2],58304,_,0,0)}return _=e[i+8>>2],v=p+112|0,ci(v,c),e[p+32>>2]=r,e[p+36>>2]=a,e[p+40>>2]=S[p+123|0]<0?e[p+112>>2]:v,e[p+44>>2]=p+128,ee(_,33896,p+32|0),S[p+123|0]<0&&P(e[p+112>>2]),i=e[i+12>>2],_=e[n+4>>2],v=e[n>>2],e[p+104>>2]=v,e[p+108>>2]=_,n=e[o+4>>2],L=e[o>>2],e[p+96>>2]=L,e[p+100>>2]=n,o=e[c+4>>2],c=e[c>>2],e[p+88>>2]=c,e[p+92>>2]=o,x=e[e[i>>2]+76>>2],e[p+24>>2]=v,e[p+28>>2]=_,e[p+16>>2]=L,e[p+20>>2]=n,e[p+8>>2]=c,e[p+12>>2]=o,i=F[x|0](i,r,p+24|0,p+16|0,a,p+8|0,g)|0,b=p+240|0,i|0}function HN(i,r){var n=0,o=0,a=0;n=b-32|0,b=n,be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],12312,6,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,a=y[r+11|0],o=a<<24>>24<0,a=o?e[r+4>>2]:a;e:{if(a){Ki(i,o?e[r>>2]:r,a,1);break e}e[n>>2]=e[i+128>>2],yt(i,27848,n)}jm(i,3,e[i+128>>2]),Jm(i,3,e[i+128>>2]);e:{if(y[r+20|0]){be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],5627,3,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,o=e[r+16>>2],e[n+24>>2]=e[r+12>>2],e[n+28>>2]=o,r=n+8|0,ci(r,n+24|0),r=S[n+19|0]<0?e[n+8>>2]:r,o=Ge(r),be(i),U(e[i+24>>2],r,o,0,0),e[i+36>>2]=1;t:{if(S[n+19|0]<0&&(P(e[n+8>>2]),e[i+36>>2]==3))break t;e[i+36>>2]=0}e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1;break e}if(o=e[r+16>>2],e[n+24>>2]=e[r+12>>2],e[n+28>>2]=o,r=n+8|0,ci(r,n+24|0),r=S[n+19|0]<0?e[n+8>>2]:r,o=Ge(r),be(i),U(e[i+24>>2],r,o,0,0),e[i+36>>2]=1,S[n+19|0]>=0)break e;P(e[n+8>>2])}e[i+128>>2]=e[i+128>>2]+1,b=n+32|0}function KQ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;c=b-16|0,b=c,o=Z(56),e[o+32>>2]=46,e[o+4>>2]=0,e[o+8>>2]=0,e[o+36>>2]=r,e[o>>2]=45468,r=y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),a=y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),S[o+40|0]=a,S[o+41|0]=a>>>8,S[o+42|0]=a>>>16,S[o+43|0]=a>>>24,S[o+44|0]=r,S[o+45|0]=r>>>8,S[o+46|0]=r>>>16,S[o+47|0]=r>>>24,r=y[n+12|0]|y[n+13|0]<<8|(y[n+14|0]<<16|y[n+15|0]<<24),n=y[n+8|0]|y[n+9|0]<<8|(y[n+10|0]<<16|y[n+11|0]<<24),S[o+48|0]=n,S[o+49|0]=n>>>8,S[o+50|0]=n>>>16,S[o+51|0]=n>>>24,S[o+52|0]=r,S[o+53|0]=r>>>8,S[o+54|0]=r>>>16,S[o+55|0]=r>>>24,r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],a=Ge(n),e[o+24>>2]=0,e[o+28>>2]=0,e[o+20>>2]=r,e[o+16>>2]=a,e[o+12>>2]=n,a=e[i+24>>2],r=e[i+20>>2],n=(a-r|0)/12|0;e:{if((r|0)!=(a|0)){i=e[(r+H(n,12)|0)-8>>2],r=e[i+4>>2],r?(e[o+8>>2]=r,r=r+4|0):r=i,e[r>>2]=o,e[i+4>>2]=o,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[c+4>>2]=n,e[c>>2]=0,Yt(i,15800,c),P(o),i=1}return b=c+16|0,i|0}function UN(i,r){var n=0,o=0,a=0,c=0;n=b-96|0,b=n,be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],24220,4,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,a=y[r+11|0],o=a<<24>>24<0,a=o?e[r+4>>2]:a;e:{if(a){Ki(i,o?e[r>>2]:r,a,1);break e}e[n+16>>2]=e[i+124>>2],yt(i,27848,n+16|0)}if(jm(i,0,e[i+124>>2]),Jm(i,0,e[i+124>>2]),y[r+12|0]){be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],14425,4,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,o=r+40|0;e:{t:{if(!e[r+36>>2]){e[n>>2]=e[o>>2],yt(i,5606,n);break t}if(c=o,o=y[r+51|0],a=o<<24>>24<0,Ki(i,a?e[r+40>>2]:c,a?e[r+44>>2]:o,0),e[i+36>>2]==3)break e}e[i+36>>2]=0}e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1}o=e[i>>2],a=e[i+124>>2],e[n+48>>2]=0,e[n+40>>2]=0,e[n+44>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,c=o,o=Ne(n+56|0,a,n+32|0),a=qT(c,0,o),te(o),!a|!(!y[r+12|0]||y[e[i+20>>2]+2|0])||(Na(i,r+52|0,11613),Na(i,r- -64|0,6717)),e[i+124>>2]=e[i+124>>2]+1,b=n+96|0}function XQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;_=b-48|0,b=_,v=fe(_+8|0,r+36|0),c=v,o=b-128|0,b=o,e[o+48>>2]=8,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],a=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=a,a=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=a,L=y[n+116|0],L&&(xe(o- -64|0,o+48|0),e[o>>2]=e[o+64>>2],Ye(n,r,9809,o)),e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,r=fe(o+8|0,c),c=fe(o- -64|0,r),a=o+48|0,x=ET(n,c,n+208|0,a),te(c),te(r),c=b-16|0,b=c,r=n+24|0,g=eo(r,a,2618),a=Go(r,e[a+4>>2]-e[a>>2]>>3),p=e[r+40>>2],n=e[r+36>>2];e:{if((p|0)!=(n|0)){if(a=(g|0)==1|(a|0)==1,n=(n+H((p-n|0)/36|0,36)|0)-36|0,S[n+32|0]=1,n=e[n+28>>2],p=e[r+24>>2],g=e[r+28>>2]-p>>3,n>>>0>g>>>0){ys(r+24|0,n-g|0);break e}if(n>>>0>=g>>>0)break e;e[r+28>>2]=p+(n<<3);break e}e[c>>2]=0,e[c+4>>2]=-1,xt(r,27759,c),a=1}return b=c+16|0,r=e[o+48>>2],r&&(e[o+52>>2]=r,P(r)),b=o+128|0,e[i+316>>2]=(x|0)==1|(L|0)!=0|(a|0)==1|e[i+316>>2]==1,te(v),b=_+48|0,0}function t8(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;a=b-96|0,b=a,e[a+24>>2]=r,xe(a+32|0,a+24|0),c=e[a+48>>2],p=e[a+52>>2],r=1,o||(xe(a+32|0,a+24|0),r=(e[a+72>>2]|e[a+76>>2])!=0);e:{if(!(!n|(!y[n+18|0]|r^1))){e[a+16>>2]=-2,e[a+20>>2]=-1;break e}e[a+16>>2]=c,e[a+20>>2]=p}xe(a+32|0,a+24|0),r=e[a+20>>2],e[a+8>>2]=e[a+16>>2],e[a+12>>2]=r,v=C2(i,a+8|0,e[a+32>>2]);e:{t:{i:{n:{if(o){if(xe(a+32|0,a+24|0),o=e[a+44>>2],r=e[a+40>>2],!n|!y[n+18|0])break n;n=-2,r=-1;break i}xe(a+32|0,a+24|0),o=e[a+44>>2],r=e[a+40>>2]}if(n=r,(n|0)==-64)break t;r=o}if(o=e[i+28>>2],(o|0)!=e[i+32>>2]){e[o>>2]=n,e[o+4>>2]=r,e[i+28>>2]=o+8;break t}if(p=e[i+24>>2],c=o-p|0,_=c>>3,o=_+1|0,o>>>0>=536870912)break e;if(g=c>>2,g=c>>>0<2147483640?o>>>0<g>>>0?g:o:536870911,g){if(g>>>0>=536870912)break e;o=Z(g<<3)}else o=0;if(_=o+(_<<3)|0,e[_>>2]=n,e[_+4>>2]=r,(c|0)>0&&Ce(o,p,c),e[i+32>>2]=o+(g<<3),e[i+28>>2]=_+8,e[i+24>>2]=o,!p)break t;P(p)}return b=a+96|0,v}Be(),Ie()}function eo(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0;o=b-32|0,b=o,p=e[r>>2],L=e[r+4>>2];e:{if((p|0)!=(L|0)){for(g=L-p>>3;;){_=e[i+40>>2],a=e[i+36>>2];t:{if((_|0)==(a|0)){e[o>>2]=0,e[o+4>>2]=-1,xt(i,27759,o),p=e[r>>2],L=e[r+4>>2],x=1;break t}if(v=e[i+24>>2],M=e[i+28>>2]-v>>3,a=a+H(((_-a|0)/36|0)-1|0,36)|0,M>>>0<=e[a+28>>2]+((c^-1)+g|0)>>>0){x=!y[a+32|0];break t}if(x=0,_=(c<<3)+p|0,a=e[_>>2],_=e[_+4>>2],!a||(v=((c-g|0)+M<<3)+v|0,g=e[v>>2],v=e[v+4>>2],!g))break t;if(!((a|0)!=-21|(g|0)!=-21)){x=(_|0)!=(v|0);break t}x=(a|0)!=(g|0)}if(V=(V|0)==1|x,c=c+1|0,a=L-p|0,g=a>>3,!(c>>>0<g>>>0))break}r=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,c=0;t:{if((p|0)!=(L|0)){if((a|0)<0)break t;c=Z(a),e[o+16>>2]=c,e[o+24>>2]=(g<<3)+c,j=o,X=Ce(c,p,a)+a|0,e[j+20>>2]=X}if(V&&(p2(i,1,n,o+16|0,0),r=1),!c)break e;e[o+20>>2]=c,P(c);break e}Be(),Ie()}r=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0}return b=o+32|0,r}function Tk(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0;e:{if(y[n|0]||(p=n+40|0,(jk(r,p)|0)!=-1))break e;o=Z(40),e[o+4>>2]=0,e[o+8>>2]=0,_=e[i+16>>2],c=e[i+8>>2],g=e[i+12>>2],a=e[i>>2],i=e[i+4>>2],e[o+32>>2]=4,e[o+36>>2]=0,e[o+12>>2]=a,e[o+16>>2]=i,e[o+20>>2]=c,e[o+24>>2]=g,e[o+28>>2]=_,e[o>>2]=37188,i=Z(104),e[i+36>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,e[i>>2]=37408,S[i+35|0]=0,e[i+12>>2]=0,e[i+16>>2]=0,S[i+17|0]=0,S[i+18|0]=0,S[i+19|0]=0,S[i+20|0]=0,S[i+21|0]=0,S[i+22|0]=0,S[i+23|0]=0,S[i+24|0]=0,e[i+48>>2]=0,e[i+52>>2]=0,e[i+56>>2]=0,e[i+60>>2]=0,c=i- -64|0,a=c,e[a>>2]=0,e[a+4>>2]=0,e[i+72>>2]=0,e[i+76>>2]=0,g=i+84|0,a=g,e[a>>2]=0,e[a+4>>2]=0,e[i+80>>2]=1065353216,e[i+92>>2]=0,e[i+96>>2]=0,e[i+100>>2]=1065353216,a=i+40|0,(a|0)!=(p|0)&&(or(a,e[n+40>>2],e[n+44>>2]),or(i+52|0,e[n+52>>2],e[n+56>>2]),In[i+80>>2]=In[n+80>>2],Uc(c,e[n+72>>2]),In[i+100>>2]=In[n+100>>2],Uc(g,e[n+92>>2])),e[o+36>>2]=i,Yf(r,o)}}function zN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;e:{n=e[i+8>>2];t:{if((n|0)!=e[i+12>>2]){a=n;break t}if(o=e[i+4>>2],g=e[i>>2],o>>>0>g>>>0){c=n-o|0,g=((o-g>>2)+1|0)/-2<<2,a=g+o|0,(n|0)!=(o|0)&&(wl(a,o,c),n=e[i+4>>2]),a=a+c|0,e[i+8>>2]=a,e[i+4>>2]=n+g;break t}if(c=(n|0)==(g|0)?1:n-g>>1,c>>>0>=1073741824)break e;a=c<<2,p=Z(a),L=p+a|0,c=(c&-4)+p|0,a=c;i:{if((n|0)==(o|0))break i;n=n-o|0,x=n&-4,_=n-4|0,v=(_>>>2|0)+1&7;n:{if(!v){n=c;break n}for(a=0,n=c;e[n>>2]=e[o>>2],o=o+4|0,n=n+4|0,a=a+1|0,(v|0)!=(a|0););}if(a=c+x|0,_>>>0<28)break i;for(;e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],e[n+12>>2]=e[o+12>>2],e[n+16>>2]=e[o+16>>2],e[n+20>>2]=e[o+20>>2],e[n+24>>2]=e[o+24>>2],e[n+28>>2]=e[o+28>>2],o=o+32|0,n=n+32|0,(a|0)!=(n|0););}if(e[i+12>>2]=L,e[i+8>>2]=a,e[i+4>>2]=c,e[i>>2]=p,!g)break t;P(g),a=e[i+8>>2]}e[a>>2]=e[r>>2],e[i+8>>2]=e[i+8>>2]+4;return}Be(),Ie()}function Qm(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0;o=b-112|0,b=o,e[o+40>>2]=r,r=o+48|0,a=o+40|0,xe(r,a),c=e[o+64>>2],p=e[o+68>>2],xe(r,a);e:{if(!(!y[n+18|0]|(!n|!(e[o+88>>2]|e[o+92>>2])))){e[o+32>>2]=-2,e[o+36>>2]=-1;break e}e[o+32>>2]=c,e[o+36>>2]=p}r=o+48|0,n=o+40|0,xe(r,n),a=e[o+76>>2],e[o+24>>2]=e[o+72>>2],e[o+28>>2]=a,xe(r,n),a=e[o+36>>2],e[o+16>>2]=e[o+32>>2],e[o+20>>2]=a,a=e[o+28>>2],e[o+8>>2]=e[o+24>>2],e[o+12>>2]=a,v=bk(i,o+16|0,o+8|0,e[o+48>>2]),xe(r,n),p=e[o+60>>2];e:{_=e[o+56>>2];t:{if((_|0)==-64)break t;if(r=e[i+28>>2],(r|0)!=e[i+32>>2]){e[r>>2]=_,e[r+4>>2]=p,e[i+28>>2]=r+8;break t}if(a=e[i+24>>2],n=r-a|0,g=n>>3,r=g+1|0,r>>>0>=536870912)break e;if(c=n>>2,c=n>>>0<2147483640?r>>>0<c>>>0?c:r:536870911,c){if(c>>>0>=536870912)break e;r=Z(c<<3)}else r=0;if(g=r+(g<<3)|0,e[g>>2]=_,e[g+4>>2]=p,(n|0)>0&&Ce(r,a,n),e[i+32>>2]=r+(c<<3),e[i+28>>2]=g+8,e[i+24>>2]=r,!a)break t;P(a)}return b=o+112|0,v}Be(),Ie()}function C2(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;o=b-48|0,b=o,g=e[r>>2],p=e[r+4>>2],r=e[i+36>>2],_=e[i+40>>2];e:{t:{if((r|0)==(_|0)){e[o+16>>2]=0,e[o+20>>2]=-1,xt(i,27759,o+16|0);break t}if(c=e[i+24>>2],v=e[i+28>>2]-c>>3,a=H(((_-r|0)/36|0)-1|0,36)+r|0,v>>>0>nt[a+28>>2]){if(!g||(c=(c+(v<<3)|0)-8|0,a=e[c>>2],c=e[c+4>>2],!a))break e;if(!((g|0)!=-21|(a|0)!=-21)){if((c|0)!=(p|0))break t;break e}if((a|0)!=(g|0))break t;break e}if(y[a+32|0])break e}r=Z(8),e[o+32>>2]=r,a=r+8|0,e[o+40>>2]=a,e[r>>2]=g,e[r+4>>2]=p,e[o+36>>2]=a,L=1,p2(i,1,n,o+32|0,0),P(r),r=e[i+36>>2],_=e[i+40>>2]}e:{if((r|0)==(_|0)){e[o>>2]=0,e[o+4>>2]=-1,xt(i,27759,o),i=1;break e}if(a=e[i+28>>2],c=e[i+24>>2],g=a-c>>3,p=((_-r|0)/36|0)-1|0,n=e[(H(p,36)+r|0)+28>>2],g>>>0<n+1>>>0){t:{if(n>>>0>g>>>0){ys(i+24|0,n-g|0);break t}if(n>>>0>=g>>>0)break t;e[i+28>>2]=c+(n<<3)}i=!y[(H(p,36)+r|0)+32|0];break e}e[i+28>>2]=a-8,i=0}return b=o+48|0,i|L}function GN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;e:{c=e[i+4>>2];t:{if((c|0)!=e[i>>2]){n=c;break t}if(g=e[i+8>>2],n=e[i+12>>2],g>>>0<n>>>0){a=((n-g>>2)+1|0)/2<<2,n=a+g|0,(c|0)!=(g|0)&&(o=g-c|0,n=n-o|0,wl(n,c,o),c=e[i+8>>2]),e[i+4>>2]=n,e[i+8>>2]=a+c;break t}if(o=(n|0)==(c|0)?1:n-c>>1,o>>>0>=1073741824)break e;n=o<<2,_=Z(n),L=_+n|0,n=(o+3&-4)+_|0,p=n;i:{if((c|0)==(g|0))break i;if(g=g-c|0,x=g&-4,a=n,o=c,v=g-4|0,g=(v>>>2|0)+1&7,g)for(p=0;e[a>>2]=e[o>>2],o=o+4|0,a=a+4|0,p=p+1|0,(g|0)!=(p|0););if(p=n+x|0,v>>>0<28)break i;for(;e[a>>2]=e[o>>2],e[a+4>>2]=e[o+4>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=e[o+12>>2],e[a+16>>2]=e[o+16>>2],e[a+20>>2]=e[o+20>>2],e[a+24>>2]=e[o+24>>2],e[a+28>>2]=e[o+28>>2],o=o+32|0,a=a+32|0,(p|0)!=(a|0););}if(e[i+12>>2]=L,e[i+8>>2]=p,e[i+4>>2]=n,e[i>>2]=_,!c)break t;P(c),n=e[i+4>>2]}e[n-4>>2]=e[r>>2],e[i+4>>2]=e[i+4>>2]-4;return}Be(),Ie()}function Rk(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0;if(c=b-16|0,b=c,o=e[r+4>>2],e[i+96>>2]=e[r>>2],e[i+100>>2]=o,e[i+112>>2]=e[r+16>>2],o=e[r+12>>2],e[i+104>>2]=e[r+8>>2],e[i+108>>2]=o,S[i+116|0]=1,r=e[n+4>>2],n=e[n>>2],e[c>>2]=n,e[c+4>>2]=r,e[c+8>>2]=n,e[c+12>>2]=r,o=b-48|0,b=o,a=i+24|0,r=e[a+24>>2],e[a+28>>2]=r,n=r,i=e[a+40>>2],g=e[a+36>>2],(i|0)!=(g|0)){for(;r=i-36|0,n=e[r+16>>2],n&&(e[i-16>>2]=n,P(n)),n=e[i-32>>2],n&&(e[i-28>>2]=n,P(n)),i=r,(g|0)!=(i|0););n=e[a+28>>2],r=e[a+24>>2]}e[a+40>>2]=g,e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,_=e[c+4>>2],v=e[c>>2],i=Z(8),e[o+8>>2]=i,p=i+8|0,e[o+16>>2]=p,e[i>>2]=v,e[i+4>>2]=_,e[o+12>>2]=p,e[o+44>>2]=1,i=n-r>>3,e[o+40>>2]=i;e:{if(nt[a+44>>2]>g>>>0){t1(g,1,o+24|0,o+8|0,i),e[a+40>>2]=g+36;break e}Zm(a+36|0,o+44|0,o+24|0,o+8|0,o+40|0)}return i=e[o+8>>2],i&&(e[o+12>>2]=i,P(i)),i=e[o+24>>2],i&&(e[o+28>>2]=i,P(i)),b=o+48|0,b=c+16|0,0}function JQ(i){i=i|0;var r=0,n=0,o=0,a=0;a=b-16|0,b=a,o=e[i+24>>2],r=e[i+20>>2],n=(o-r|0)/12|0;e:{t:{if(n>>>0<2)break t;if((r|0)==(o|0)){e[a+4>>2]=n,e[a>>2]=0,Yt(i,15800,a),i=1;break e}n=r+H(n,12)|0,r=e[e[n-20>>2]+4>>2];i:{n:switch(e[n-12>>2]-2|0){case 0:n=e[i+32>>2],o=Ge(n),e[r+172>>2]=e[e[i+4>>2]+8>>2],e[r+168>>2]=o,e[r+164>>2]=n,r=r+176|0;break i;case 1:n=e[i+32>>2],o=Ge(n),e[r+172>>2]=e[e[i+4>>2]+8>>2],e[r+168>>2]=o,e[r+164>>2]=n,r=r+176|0;break i;case 2:n=e[i+32>>2],o=Ge(n),e[r+172>>2]=e[e[i+4>>2]+8>>2],e[r+168>>2]=o,e[r+164>>2]=n,r=r+176|0;break i;case 3:n=e[i+32>>2],o=Ge(n),e[r+204>>2]=e[e[i+4>>2]+8>>2],e[r+200>>2]=o,e[r+196>>2]=n,r=r+208|0;break i;case 4:break n;default:break t}n=e[i+32>>2],o=Ge(n),e[r+176>>2]=e[e[i+4>>2]+8>>2],e[r+172>>2]=o,e[r+168>>2]=n,r=r+180|0}e[r>>2]=0,e[r+4>>2]=0}if(r=e[i+24>>2],(r|0)==e[i+20>>2]){Yt(i,12534,0),i=1;break e}e[i+24>>2]=r-12,i=0}return b=a+16|0,i|0}function qQ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;p=b-48|0,b=p,_=fe(p+8|0,r+36|0),a=_,g=b-80|0,b=g,e[g+8>>2]=11,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o,v=y[n+116|0],v&&(xe(g+16|0,g+8|0),e[g>>2]=e[g+16>>2],Ye(n,r,9809,g)),o=b-32|0,b=o,r=n+24|0,n=e[r+36>>2],a=e[a+24>>2],c=(e[r+40>>2]-n|0)/36|0;e:{t:{if(a>>>0>=c>>>0){e[o+16>>2]=a,e[o+20>>2]=c-1,xt(r,27759,o+16|0);break t}if(n=n+H(c+(a^-1)|0,36)|0,a=eo(r,(e[n>>2]==3?4:16)+n|0,10525),c=e[r+40>>2],n=e[r+36>>2],(c|0)!=(n|0)){if(a=(a|0)==1,n=(n+H((c-n|0)/36|0,36)|0)-36|0,S[n+32|0]=1,n=e[n+28>>2],L=e[r+24>>2],c=e[r+28>>2]-L>>3,n>>>0>c>>>0){ys(r+24|0,n-c|0);break e}if(n>>>0>=c>>>0)break e;e[r+28>>2]=(n<<3)+L;break e}e[o>>2]=0,e[o+4>>2]=-1,xt(r,27759,o)}a=1}return b=o+32|0,b=g+80|0,e[i+316>>2]=(v|0)!=0|a|e[i+316>>2]==1,te(_),b=p+48|0,0}function jN(i,r){var n=0,o=0,a=0,c=0,g=0;c=b-16|0,b=c,a=e[i+24>>2],g=e[i+20>>2],n=(a-g|0)/12|0;e:{if((a|0)==(g|0)){e[c+4>>2]=n,e[c>>2]=0,Yt(i,15800,c),i=1;break e}if(a=n-1|0,e[H(a,12)+g>>2]!=6){Yt(i,12429,0),i=1;break e}n=e[(H(a,12)+g|0)+8>>2];t:{if(e[r+40>>2]|e[r+44>>2]!=-1||(o=e[n+192>>2],(o|0)==e[n+188>>2])||(o=o-68|0,e[o+40>>2]|e[o+44>>2]!=-1))break t;Yt(i,12389,0),i=1;break e}t:switch(e[n+36>>2]){default:Yt(i,13747,0),i=1;break e;case 0:e[n+36>>2]=1;break;case 1:break t}i=e[n+192>>2];t:{if(i>>>0<nt[n+196>>2]){o=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=o,e[i+16>>2]=e[r+16>>2],o=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=o,fe(i+20|0,r+20|0),e[i+56>>2]=e[r+56>>2],e[i+60>>2]=e[r+60>>2],o=r- -64|0,e[i- -64>>2]=e[o>>2],e[o>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,i=i+68|0,e[n+192>>2]=i;break t}Sk(n+188|0,r),i=e[n+192>>2]}e[(H(a,12)+g|0)+4>>2]=i-12,i=0}return b=c+16|0,i}function ZN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;for(n=b-128|0,b=n,e[n+80>>2]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+64>>2]=0,e[n+68>>2]=0,c=Ne(n+88|0,-1,n- -64|0),e[n+56>>2]=0,e[n+48>>2]=0,e[n+52>>2]=0;;){e:{if(e[n+80>>2]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+64>>2]=0,e[n+68>>2]=0,o=Ne(n+8|0,-1,n- -64|0),(we(i,0)|0)!=54&&(we(i,0)|0)!=126)break e;qt(i,c),te(o),o=Z(72),e[o+4>>2]=0,e[o+8>>2]=0,e[o>>2]=43792,e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+28>>2]=0,e[o+32>>2]=36,fe(o+36|0,c),a=e[n+52>>2],a?(e[o+8>>2]=a,a=a+4|0):a=n+48|0,e[a>>2]=o,e[n+52>>2]=o,g=e[n+56>>2]+1|0,e[n+56>>2]=g,a=e[r+4>>2],a>>>0<nt[r+8>>2]?(p=e[n+48>>2],e[a+8>>2]=g,e[a+4>>2]=o,e[a>>2]=p,e[n+56>>2]=0,e[n+48>>2]=0,e[n+52>>2]=0,e[r+4>>2]=a+12):Kf(r,n+48|0);continue}break}if(Di(c,o),te(o),i=e[n+48>>2],i)for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);te(c),b=n+128|0}function eY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0;v=b-48|0,b=v,M=fe(v+8|0,r+36|0),c=M,n=b-160|0,b=n,e[n+88>>2]=25,o=i+16|0,a=r+12|0,e[o+112>>2]=e[a+16>>2],r=e[a+12>>2],e[o+104>>2]=e[a+8>>2],e[o+108>>2]=r,r=e[a+4>>2],e[o+96>>2]=e[a>>2],e[o+100>>2]=r;e:{if(y[o+116|0]){xe(n+96|0,n+88|0),e[n+32>>2]=e[n+96>>2],Ye(o,a,9809,n+32|0),r=1;break e}L=fe(n+48|0,c);t:{i:{if(r=e[o+244>>2],g=e[o+248>>2],(r|0)==(g|0))r=0;else{for(a=e[L+24>>2],p=(g-r|0)/12|0;x=p>>>1|0,c=H(x,12)+r|0,V=nt[c+8>>2]>a>>>0,r=V?r:c+12|0,p=V?x:(x^-1)+p|0,!!p;);if((r|0)!=(g|0))break i;r=e[g-4>>2]}e[n+16>>2]=r,a=0,c=(Ye(o,L,27489,n+16|0)|0)==1,r=-1;break t}_=e[r>>2],a=0,c=0,r=e[r+4>>2]}te(L),_=a|_,e[n+8>>2]=_,r=r|j,e[n+12>>2]=r,e[n+40>>2]=_,e[n+44>>2]=r,r=c|(Jk(o+24|0,n+8|0)|0)==1}return b=n+160|0,e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,te(M),b=v+48|0,0}function Mk(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;o=i;e:{t:{i:{n:{s:{r:{l:{u:{a:{c:{if(r){if(!n)break c;break a}i=(o>>>0)/(n>>>0)|0,At=0;break e}if(!o)break u;break l}if(!(n-1&n))break r;g=(Gi(n)+33|0)-Gi(r)|0,a=0-g|0;break n}i=(r>>>0)/0|0,At=0;break e}if(i=32-Gi(r)|0,i>>>0<31)break s;break i}if((n|0)==1)break t;i=n?31-Gi(n-1^n)|0:32,n=i&31,(i&63)>>>0>=32?(i=0,r=r>>>n|0):(i=r>>>n|0,r=((1<<n)-1&r)<<32-n|o>>>n),At=i,i=r;break e}g=i+1|0,a=63-i|0}if(i=g&63,c=i&31,i>>>0>=32?(i=0,p=r>>>c|0):(i=r>>>c|0,p=((1<<c)-1&r)<<32-c|o>>>c),c=i,i=a&63,a=i&31,i>>>0>=32?(i=o<<a,o=0):(i=(1<<a)-1&o>>>32-a|r<<a,o=o<<a),r=i,g)for(a=n-1|0,x=(a|0)!=-1?0:-1;i=p<<1|r>>>31,c=c<<1|p>>>31,_=x-(c+(i>>>0>a>>>0)|0)>>31,v=n&_,p=i-v|0,c=c-(i>>>0<v>>>0)|0,r=r<<1|o>>>31,o=L|o<<1,L=_&1,g=g-1|0,!!g;);At=r<<1|o>>>31,i=L|o<<1;break e}o=0,r=0}At=r,i=o}return i}function tY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;p=e[r+40>>2],g=e[r+44>>2],c=b-80|0,b=c,n=e[r+36>>2],e[c+8>>2]=n,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a;e:{if(!y[o+116|0]||(a=n-28|0,1<<a&2013265921&&a>>>0<=30))break e;t:switch(n-214|0){case 0:case 2:break e;default:break t}t:{if(!y[o+16|0]||(a=n-96|0,a>>>0>=21))break t;if(1835015>>>a&1)break e}xe(c+16|0,c+8|0),e[c>>2]=e[c+16>>2],Ye(o,r,9809,c),v=1}o=o+24|0,r=b-32|0,b=r,e[r+24>>2]=n,n=eR(r+24|0),a=n,!g&n>>>0<=p>>>0|g&&(e[r+8>>2]=p,e[r+12>>2]=g,e[r>>2]=n,xt(o,27339,r));e:{t:{if(n=e[r+24>>2],_=n-238|0,_>>>0<=13){if(!(1<<_&5467))break t;n=t8(o,n,0,0);break e}Be(),Ie()}n=Qm(o,n,0)}return o=n,b=r+32|0,b=c+80|0,e[i+316>>2]=v|(!g&a>>>0<=p>>>0|(g|0)!=0|(o|0)==1)|e[i+316>>2]==1,0}function iY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;a=b-80|0,b=a,e[a+8>>2]=22,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],n=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=n,n=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=n,p=y[o+116|0],p&&(xe(a+16|0,a+8|0),e[a>>2]=e[a+16>>2],Ye(o,r,9809,a)),r=b-32|0,b=r;e:{t:{o=o+24|0,n=e[o+40>>2],c=e[o+36>>2];i:{if((n|0)==(c|0)){e[r>>2]=0,e[r+4>>2]=-1,xt(o,27759,r);break i}if(_=e[o+28>>2],v=e[o+24>>2],g=_-v>>3,L=((n-c|0)/36|0)-1|0,n=e[(c+H(L,36)|0)+28>>2],g>>>0>=n+1>>>0)break t;n:{if(n>>>0>g>>>0){ys(o+24|0,n-g|0);break n}if(n>>>0>=g>>>0)break n;e[o+28>>2]=(n<<3)+v}if(n=0,y[(c+H(L,36)|0)+32|0])break e}n=Z(8),e[r+16>>2]=n,c=n+8|0,e[r+24>>2]=c,e[n>>2]=0,e[n+4>>2]=-1,e[r+20>>2]=c,p2(o,1,10655,r+16|0,0),P(n),n=1;break e}e[o+28>>2]=_-8,n=0}return b=r+32|0,b=a+80|0,e[i+316>>2]=(n|0)==1|(p|0)!=0|e[i+316>>2]==1,0}function w2(i,r){var n=0,o=0,a=0,c=0;n=b-96|0,b=n;e:{if((we(i,0)|0)==123){c=e[i+92>>2]&1,o=H(c,36)+i|0,a=e[o+36>>2],e[n+88>>2]=e[o+32>>2],e[n+92>>2]=a,a=e[o+28>>2],e[n+80>>2]=e[o+24>>2],e[n+84>>2]=a,a=e[o+20>>2],e[n+72>>2]=e[o+16>>2],e[n+76>>2]=a,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,a=e[o+44>>2],o=e[o+40>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,(n1(o,o+a|0,n- -64|0,1)|0)==1&&(e[n+56>>2]=e[n+88>>2],c=e[n+84>>2],e[n+48>>2]=e[n+80>>2],e[n+52>>2]=c,c=e[n+76>>2],e[n+40>>2]=e[n+72>>2],e[n+44>>2]=c,e[n+32>>2]=a,e[n+36>>2]=o,Kt(i,n+40|0,28072,n+32|0)),a=e[n+64>>2],o=e[n+68>>2],(o|0)==1|o>>>0>1&&(e[n+24>>2]=e[n+88>>2],o=e[n+84>>2],e[n+16>>2]=e[n+80>>2],e[n+20>>2]=o,o=e[n+76>>2],e[n+8>>2]=e[n+72>>2],e[n+12>>2]=o,Kt(i,n+8|0,13190,0),o=e[n+68>>2],a=e[n+64>>2]),e[r>>2]=a,e[r+4>>2]=o;break e}e[r>>2]=0,e[r+4>>2]=0}b=n+96|0}function QN(i,r){var n=0,o=0,a=0,c=0;a=b-32|0,b=a,be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],13136,3,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,n=y[r+11|0],o=n<<24>>24<0,n=o?e[r+4>>2]:n;e:{if(n){Ki(i,o?e[r>>2]:r,n,1);break e}e[a+16>>2]=e[i+144>>2],yt(i,27848,a+16|0)}if(jm(i,4,e[i+144>>2]),Jm(i,4,e[i+144>>2]),y[r+12|0]){be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],14425,4,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,o=r+40|0;e:{t:{if(!e[r+36>>2]){e[a>>2]=e[o>>2],yt(i,5606,a);break t}if(c=o,o=y[r+51|0],n=o<<24>>24<0,Ki(i,n?e[r+40>>2]:c,n?e[r+44>>2]:o,0),e[i+36>>2]==3)break e}e[i+36>>2]=0}e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1}Na(i,r+52|0,11613),e[i+144>>2]=e[i+144>>2]+1,e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,b=a+32|0}function xe(i,r){var n=0;if(r=e[r>>2],r>>>0<=519){r=(r<<6)+58592|0,n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n,n=e[r+60>>2],e[i+56>>2]=e[r+56>>2],e[i+60>>2]=n,n=e[r+52>>2],e[i+48>>2]=e[r+48>>2],e[i+52>>2]=n,n=e[r+44>>2],e[i+40>>2]=e[r+40>>2],e[i+44>>2]=n,n=e[r+36>>2],e[i+32>>2]=e[r+32>>2],e[i+36>>2]=n,n=e[r+28>>2],e[i+24>>2]=e[r+24>>2],e[i+28>>2]=n,n=e[r+20>>2],e[i+16>>2]=e[r+16>>2],e[i+20>>2]=n,n=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=n;return}n=e[22969],e[i>>2]=e[22968],e[i+4>>2]=n,n=e[22979],e[i+40>>2]=e[22978],e[i+44>>2]=n,n=e[22977],e[i+32>>2]=e[22976],e[i+36>>2]=n,n=e[22975],e[i+24>>2]=e[22974],e[i+28>>2]=n,n=e[22973],e[i+16>>2]=e[22972],e[i+20>>2]=n,n=e[22971],e[i+8>>2]=e[22970],e[i+12>>2]=n,n=y[91921]|y[91922]<<8,S[i+49|0]=n,S[i+50|0]=n>>>8,S[i+51|0]=y[91923],n=e[22983],r=0-r|0,S[i+48|0]=r>>>8,e[i+56>>2]=r&65535,e[i+52>>2]=r&255,e[i+60>>2]=n}function nY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;o=b-32|0,b=o,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],c=y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),g=y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),p=y[n+12|0]|y[n+13|0]<<8|(y[n+14|0]<<16|y[n+15|0]<<24),e[o+24>>2]=y[n+8|0]|y[n+9|0]<<8|(y[n+10|0]<<16|y[n+11|0]<<24),e[o+28>>2]=p,e[o+16>>2]=c,e[o+20>>2]=g,ee(a,29648,o+16|0),i=e[i+12>>2],a=e[e[i>>2]+544>>2],c=y[n+12|0]|y[n+13|0]<<8|(y[n+14|0]<<16|y[n+15|0]<<24),e[o+8>>2]=y[n+8|0]|y[n+9|0]<<8|(y[n+10|0]<<16|y[n+11|0]<<24),e[o+12>>2]=c,c=y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),e[o>>2]=y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),e[o+4>>2]=c,i=F[a|0](i,r,o)|0,b=o+32|0,i|0}function sY(i,r,n,o,a,c,g){return i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0,r=Z(80),e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=1,e[r>>2]=37856,S[r+32|0]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+43|0]=0,e[r+48>>2]=0,e[r+52>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,S[r+63|0]=0,S[r+64|0]=0,S[r+65|0]=0,S[r+66|0]=0,e[r+72>>2]=-16,e[r+76>>2]=-1,a=e[n+4>>2],Cl(r+4|0,e[n>>2],a),Cl(r+16|0,e[o>>2],e[o+4>>2]),n=y[g+15|0]|y[g+16|0]<<8|(y[g+17|0]<<16|y[g+18|0]<<24),S[r+63|0]=n,S[r+64|0]=n>>>8,S[r+65|0]=n>>>16,S[r+66|0]=n>>>24,n=e[g+12>>2],e[r+56>>2]=e[g+8>>2],e[r+60>>2]=n,n=e[g+4>>2],e[r+48>>2]=e[g>>2],e[r+52>>2]=n,n=e[c+4>>2],e[r+72>>2]=e[c>>2],e[r+76>>2]=n,n=e[e[i+4>>2]+8>>2],o=e[i+12>>2],a=e[i+32>>2],c=Ge(a),i=Z(40),e[i+32>>2]=2,e[i+12>>2]=a,e[i+4>>2]=0,e[i+8>>2]=0,e[i+36>>2]=r,e[i>>2]=37736,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=n,e[i+16>>2]=c,ql(o,i),0}function Yf(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,p=e[r+36>>2],n=y[p+35|0],(n<<24>>24<0?e[p+28>>2]:n)&&(n=e[i+128>>2],g=e[i+124>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+276|0,gn(a+32|0,n,p+24|0,a+8|0),ln(n,e[a+32>>2]));e:{n=e[i+128>>2],o=e[i+132>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+128>>2]=n+4;break t}if(g=e[i+124>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+132>>2]=n+(o<<2),e[i+128>>2]=c+4,e[i+124>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function YN(i,r){var n=0,o=0,a=0;n=b+-64|0,b=n,be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],15348,5,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,a=y[r+11|0],o=a<<24>>24<0,a=o?e[r+4>>2]:a;e:{if(a){Ki(i,o?e[r>>2]:r,a,1);break e}e[n+32>>2]=e[i+132>>2],yt(i,27848,n+32|0)}jm(i,1,e[i+132>>2]),Jm(i,1,e[i+132>>2]),y[r+34|0]&&yt(i,25406,0),o=e[r+20>>2],e[n+16>>2]=e[r+16>>2],e[n+20>>2]=o,yt(i,2841,n+16|0),y[r+32|0]&&(o=e[r+28>>2],e[n>>2]=e[r+24>>2],e[n+4>>2]=o,yt(i,2841,n)),y[r+33|0]&&yt(i,16938,0),o=e[r+44>>2],e[n+56>>2]=e[r+40>>2],e[n+60>>2]=o,r=n+40|0,ci(r,n+56|0),r=S[n+51|0]<0?e[n+40>>2]:r,o=Ge(r),be(i),U(e[i+24>>2],r,o,0,0),e[i+36>>2]=0;e:{if(S[n+51|0]<0&&(P(e[n+40>>2]),e[i+36>>2]==3))break e;e[i+36>>2]=0}e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,e[i+132>>2]=e[i+132>>2]+1,b=n- -64|0}function rY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;o=b-224|0,b=o,e[o+96>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0,g=Ne(o+104|0,r,o+80|0),e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,p=Ne(o+40|0,n,o+16|0),r=Z(108),a=fe(o+144|0,p),n=fe(o+184|0,a),e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=0,e[r+32>>2]=32,e[r>>2]=42788,fe(r+36|0,n),te(n),e[r>>2]=42616,fe(r+72|0,g),te(a),n=e[e[i+4>>2]+8>>2],a=e[i+32>>2],c=Ge(a),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=c,e[r+12>>2]=a,c=e[i+24>>2],n=e[i+20>>2],a=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){n=e[(n+H(a,12)|0)-8>>2],i=n,a=e[n+4>>2],a&&(e[r+8>>2]=a,i=a+4|0),e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1,i=0;break e}e[o+4>>2]=a,e[o>>2]=0,Yt(i,15800,o),F[e[e[r>>2]+4>>2]](r),i=1}return te(p),te(g),b=o+224|0,i|0}function i8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,n=y[r+51|0],(n<<24>>24<0?e[r+44>>2]:n)&&(n=e[i+176>>2],g=e[i+172>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+336|0,gn(a+32|0,n,r+40|0,a+8|0),ln(n,e[a+32>>2])),_=r+36|0;e:{n=e[i+176>>2],o=e[i+180>>2];t:{if(n>>>0<o>>>0){e[n>>2]=_,e[i+176>>2]=n+4;break t}if(g=e[i+172>>2],p=n-g|0,c=p>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=_,(p|0)>0&&Ce(n,g,p),e[i+180>>2]=n+(o<<2),e[i+176>>2]=c+4,e[i+172>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function n8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,n=y[r+51|0],(n<<24>>24<0?e[r+44>>2]:n)&&(n=e[i+152>>2],g=e[i+148>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+356|0,gn(a+32|0,n,r+40|0,a+8|0),ln(n,e[a+32>>2])),_=r+36|0;e:{n=e[i+152>>2],o=e[i+156>>2];t:{if(n>>>0<o>>>0){e[n>>2]=_,e[i+152>>2]=n+4;break t}if(g=e[i+148>>2],p=n-g|0,c=p>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=_,(p|0)>0&&Ce(n,g,p),e[i+156>>2]=n+(o<<2),e[i+152>>2]=c+4,e[i+148>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function oY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-32|0,b=n,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],a=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),c=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),g=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[n+24>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[n+28>>2]=g,e[n+16>>2]=a,e[n+20>>2]=c,ee(o,29602,n+16|0),i=e[i+12>>2],o=e[e[i>>2]+372>>2],a=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[n+8>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[n+12>>2]=a,a=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[n>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[n+4>>2]=a,i=F[o|0](i,n)|0,b=n+32|0,i|0}function Ym(i,r){var n=0,o=0,a=0,c=0;n=b-16|0,b=n;e:{t:{i:{n:{if((we(i,0)|0)!=26||(we(i,1)|0)!=10)break n;if(o=i+16|0,c=e[i+92>>2]&1,a=o+H(c,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,a=e[i+88>>2],o=o+H(!c,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[i+88>>2]=a-2,e[i+92>>2]=c,o=0,e[n+8>>2]=0,e[n>>2]=0,e[n+4>>2]=0,Gc(i,n))break t;if(o=1,(Ve(i,39)|0)!=1)break i;break t}if(e[n+8>>2]=0,e[n>>2]=0,e[n+4>>2]=0,Wc(i,n))break t}if(o=0,a=e[n+8>>2],!a)break t;if(i=e[r>>2],i){for(;a=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=a,!!i;);a=e[n+8>>2]}e[r>>2]=e[n>>2],i=e[n+4>>2],e[r+8>>2]=a,e[r+4>>2]=i,e[n+4>>2]=0,e[n+8>>2]=0,o=1;break e}if(i=e[n>>2],!i)break e;for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);}return b=n+16|0,o}function s8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,p=r+40|0,n=y[r+51|0],(n<<24>>24<0?e[r+44>>2]:n)&&(n=e[i+140>>2],g=e[i+136>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+296|0,gn(a+32|0,n,p,a+8|0),ln(n,e[a+32>>2]));e:{n=e[i+140>>2],o=e[i+144>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+140>>2]=n+4;break t}if(g=e[i+136>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+144>>2]=n+(o<<2),e[i+140>>2]=c+4,e[i+136>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function r8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,p=r+40|0,n=y[r+51|0],(n<<24>>24<0?e[r+44>>2]:n)&&(n=e[i+164>>2],g=e[i+160>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+316|0,gn(a+32|0,n,p,a+8|0),ln(n,e[a+32>>2]));e:{n=e[i+164>>2],o=e[i+168>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+164>>2]=n+4;break t}if(g=e[i+160>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+168>>2]=n+(o<<2),e[i+164>>2]=c+4,e[i+160>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function $N(i){var r=0,n=0,o=0,a=0,c=0;n=b+-64|0,b=n;e:{t:{if(a=e[i>>2],(we(a,0)|0)!=26||(we(a,1)|0)!=29)break t;o=a+16|0,c=e[a+92>>2]&1,r=o+H(c,36)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,r=e[a+88>>2],o=o+H(!c,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[a+88>>2]=r-2,e[a+92>>2]=c,S[e[e[i+4>>2]>>2]+20|0]=1,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0;i:{if(r=Ne(n+24|0,-1,n),(Zf(a,r)|0)!=1&&(i=e[e[i+4>>2]>>2],e[i+12>>2]=e[r+24>>2],e[i+16>>2]=-1,(Ve(a,39)|0)!=1))break i;te(r),o=1;break e}te(r),o=0;break e}if(S[e[e[i+4>>2]>>2]+20|0]=0,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,o=1,r=Ne(n+24|0,-1,n),(Zf(a,r)|0)!=1){i=e[e[i+4>>2]>>2],e[i+12>>2]=e[r+24>>2],e[i+16>>2]=-1,te(r),o=0;break e}te(r)}return b=n- -64|0,o}function $f(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;a=i+16|0,c=r+24|0;e:{for(;;){t:{if((we(i,0)|0)!=26||(we(i,1)|0)!=34)break t;if(g=1,o=e[i+92>>2]&1,n=H(o,36)+a|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,p=e[i+88>>2],n=H(!o,36)+a|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=p-2,e[i+92>>2]=o,(Hm(i,r,c)|0)==1)break e;if((Ve(i,39)|0)!=1)continue;break e}break}for(o=r+44|0,c=r+12|0;;){if(g=0,(we(i,0)|0)!=26||(we(i,1)|0)!=38||(g=1,n=e[i+92>>2]&1,r=H(n,36)+a|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,p=e[i+88>>2],r=H(!n,36)+a|0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[i+88>>2]=p-2,e[i+92>>2]=n,(Hm(i,c,o)|0)==1))break e;if((Ve(i,39)|0)==1)break}}return g}function lY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;o=b-224|0,b=o,e[o+96>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0,g=Ne(o+104|0,r,o+80|0),e[o+32>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,p=Ne(o+40|0,n,o+16|0),r=Z(108),n=fe(o+184|0,g),a=fe(o+144|0,p),e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=0,e[r+32>>2]=28,e[r>>2]=42148,fe(r+36|0,n),fe(r+72|0,a),te(a),te(n),n=e[e[i+4>>2]+8>>2],a=e[i+32>>2],c=Ge(a),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=c,e[r+12>>2]=a,c=e[i+24>>2],n=e[i+20>>2],a=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){n=e[(n+H(a,12)|0)-8>>2],i=n,a=e[n+4>>2],a&&(e[r+8>>2]=a,i=a+4|0),e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1,i=0;break e}e[o+4>>2]=a,e[o>>2]=0,Yt(i,15800,o),F[e[e[r>>2]+4>>2]](r),i=1}return te(p),te(g),b=o+224|0,i|0}function Pk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,p=r+36|0,n=y[r+47|0],(n<<24>>24<0?e[r+40>>2]:n)&&(n=e[i+68>>2],g=e[i+64>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+196|0,gn(a+32|0,n,p,a+8|0),ln(n,e[a+32>>2]));e:{n=e[i+68>>2],o=e[i+72>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+68>>2]=n+4;break t}if(g=e[i+64>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+72>>2]=n+(o<<2),e[i+68>>2]=c+4,e[i+64>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function Ok(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,p=r+36|0,n=y[r+47|0],(n<<24>>24<0?e[r+40>>2]:n)&&(n=e[i+80>>2],g=e[i+76>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+216|0,gn(a+32|0,n,p,a+8|0),ln(n,e[a+32>>2]));e:{n=e[i+80>>2],o=e[i+84>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+80>>2]=n+4;break t}if(g=e[i+76>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+84>>2]=n+(o<<2),e[i+80>>2]=c+4,e[i+76>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function Fk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,p=r+36|0,n=y[r+47|0],(n<<24>>24<0?e[r+40>>2]:n)&&(n=e[i+92>>2],g=e[i+88>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+236|0,gn(a+32|0,n,p,a+8|0),ln(n,e[a+32>>2]));e:{n=e[i+92>>2],o=e[i+96>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+92>>2]=n+4;break t}if(g=e[i+88>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+96>>2]=n+(o<<2),e[i+92>>2]=c+4,e[i+88>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function o8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;e:{t:{i:{if(o=e[i+4>>2],c=e[i>>2],a=(o-c|0)/12|0,n=a+1|0,n>>>0>=357913942)break i;if(p=(e[i+8>>2]-c|0)/12|0,_=p<<1,n=p>>>0<178956970?n>>>0<_>>>0?_:n:357913941,n){if(n>>>0>=357913942)break i;g=Z(H(n,12))}p=H(n,12),n=H(a,12)+g|0;n:{if(S[r+11|0]>=0){a=e[r+4>>2],e[n>>2]=e[r>>2],e[n+4>>2]=a,e[n+8>>2]=e[r+8>>2];break n}Ni(n,e[r>>2],e[r+4>>2]),o=e[i+4>>2],c=e[i>>2]}if(r=g+p|0,g=n+12|0,(o|0)==(c|0))break t;for(;o=o-12|0,a=e[o+4>>2],n=n-12|0,e[n>>2]=e[o>>2],e[n+4>>2]=a,e[n+8>>2]=e[o+8>>2],e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,(o|0)!=(c|0););if(e[i+8>>2]=r,r=e[i+4>>2],e[i+4>>2]=g,o=e[i>>2],e[i>>2]=n,(r|0)==(o|0))break e;for(;r=r-12|0,S[r+11|0]<0&&P(e[r>>2]),(r|0)!=(o|0););break e}Be(),Ie()}e[i+8>>2]=r,e[i+4>>2]=g,e[i>>2]=n}o&&P(o)}function aY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;a=b-80|0,b=a,e[a+8>>2]=14,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o,_=y[n+116|0],_&&(xe(a+16|0,a+8|0),e[a>>2]=e[a+16>>2],Ye(n,r,9809,a)),o=b-32|0,b=o,r=n+24|0,n=e[r+36>>2];e:{t:{if((n|0)==e[r+40>>2]){e[o>>2]=-1,e[o+4>>2]=-1,xt(r,27759,o);break t}if(p=eo(r,n+16|0,10966),c=Go(r,e[n+20>>2]-e[n+16>>2]>>3),g=e[r+40>>2],n=e[r+36>>2],(g|0)!=(n|0)){if(p=(p|0)==1|(c|0)==1,n=(n+H((g-n|0)/36|0,36)|0)-36|0,S[n+32|0]=1,n=e[n+28>>2],g=e[r+24>>2],c=e[r+28>>2]-g>>3,n>>>0>c>>>0){ys(r+24|0,n-c|0);break e}if(n>>>0>=c>>>0)break e;e[r+28>>2]=g+(n<<3);break e}e[o+16>>2]=0,e[o+20>>2]=-1,xt(r,27759,o+16|0)}p=1}return b=o+32|0,b=a+80|0,e[i+316>>2]=(p|0)==1|(_|0)!=0|e[i+316>>2]==1,0}function KN(i,r,n,o,a,c,g,p,_,v,L){var x=0,M=0,V=0,j=0;x=b-160|0,b=x,e[x+32>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,M=Ne(x+40|0,n,x+16|0),n=Z(104),V=fe(x+80|0,M),j=fe(x+120|0,V),e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+28>>2]=0,e[n+32>>2]=L,e[n>>2]=v,fe(n+36|0,j),te(j),e[n+96>>2]=g,e[n+100>>2]=p,e[n+88>>2]=a,e[n+92>>2]=c,a=1,o=1<<o,e[n+80>>2]=o,e[n+84>>2]=o>>31,e[n+72>>2]=r,e[n>>2]=_,te(V),r=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[n+24>>2]=0,e[n+28>>2]=0,e[n+20>>2]=r,e[n+16>>2]=c,e[n+12>>2]=o,c=e[i+24>>2],r=e[i+20>>2],o=(c-r|0)/12|0;e:{if((r|0)!=(c|0)){r=e[(r+H(o,12)|0)-8>>2],i=r,o=e[r+4>>2],o&&(e[n+8>>2]=o,i=o+4|0),e[i>>2]=n,e[r+4>>2]=n,e[r+8>>2]=e[r+8>>2]+1,a=0;break e}e[x+4>>2]=o,e[x>>2]=0,Yt(i,15800,x),F[e[e[n>>2]+4>>2]](n)}return te(M),b=x+160|0,a}function V0(i,r){var n=0,o=0,a=0,c=0,g=0;if(e[i+12>>2]){if(n=e[i+8>>2],n)for(;o=e[n>>2],S[n+19|0]<0&&P(e[n+8>>2]),P(n),n=o,!!n;);n=0,e[i+8>>2]=0,a=e[i+4>>2];e:{if(!a)break e;if(a-1>>>0>=3)for(o=a&-4;c=n<<2,e[c+e[i>>2]>>2]=0,e[e[i>>2]+(c|4)>>2]=0,e[e[i>>2]+(c|8)>>2]=0,e[e[i>>2]+(c|12)>>2]=0,n=n+4|0,g=g+4|0,(o|0)!=(g|0););if(o=a&3,!o)break e;for(g=0;e[e[i>>2]+(n<<2)>>2]=0,n=n+1|0,g=g+1|0,(o|0)!=(g|0););}e[i+12>>2]=0}if(o=e[r>>2],e[r>>2]=0,n=e[i>>2],e[i>>2]=o,n&&P(n),e[i+4>>2]=e[r+4>>2],e[r+4>>2]=0,o=e[r+12>>2],e[i+12>>2]=o,In[i+16>>2]=In[r+16>>2],n=e[r+8>>2],e[i+8>>2]=n,o){o=i+8|0,n=e[n+4>>2],a=e[i+4>>2],c=a-1|0;e:{if(!(a&c)){n=n&c;break e}if(n>>>0<a>>>0)break e;n=(n>>>0)%(a>>>0)|0}e[e[i>>2]+(n<<2)>>2]=o,e[r+8>>2]=0,e[r+12>>2]=0}}function cY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;return g=b-80|0,b=g,p=fe(g+40|0,r+72|0),_=fe(g,r+36|0),c=_,n=b-192|0,b=n,e[n+104>>2]=202,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n+128|0,n+104|0),e[n+16>>2]=e[n+128>>2],Ye(o,r,9809,n+16|0)),S[n+119|0]=0,S[n+120|0]=0,S[n+121|0]=0,S[n+122|0]=0,e[n+112>>2]=0,e[n+116>>2]=0,e[n+104>>2]=0,e[n+108>>2]=0,r=fe(n- -64|0,c),M=vo(o,r,n+104|0),te(r),r=0,v=fe(n+24|0,p),c=fe(n+128|0,v),L=e[c+24>>2],x=e[o+240>>2],L>>>0>=x>>>0&&(e[n+8>>2]=x,e[n+4>>2]=L,e[n>>2]=6511,r=(Ye(o,c,27451,n)|0)==1),te(c),te(v),o=bh(o+24|0,202,n+104|0,0,0),b=n+192|0,e[i+316>>2]=e[i+316>>2]==1|((M|0)==1|(a|0)!=0|r|(o|0)==1)==1,te(_),te(p),b=g+80|0,0}function uY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;p=b-48|0,b=p,_=fe(p+8|0,r+36|0),a=_,c=b-80|0,b=c,e[c+8>>2]=12,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o,v=y[n+116|0],v&&(xe(c+16|0,c+8|0),e[c>>2]=e[c+16>>2],Ye(n,r,9809,c)),a=e[a+24>>2],r=b-32|0,b=r,e[r+24>>2]=-1,e[r+28>>2]=-1,e[r+16>>2]=-1,e[r+20>>2]=-1,n=n+24|0,x=C2(n,r+16|0,13148),g=e[n+36>>2],o=(e[n+40>>2]-g|0)/36|0;e:{if(o>>>0<=a>>>0){e[r>>2]=a,e[r+4>>2]=o-1,xt(n,27759,r),n=1;break e}a=g+H(o+(a^-1)|0,36)|0,g=a+4|0,L=a+16|0,o=e[a>>2]==3?g:L,M=eo(n,o,13148),o=Go(n,e[o+4>>2]-e[o>>2]>>3),S2(n,e[a>>2]==3?g:L),n=(x|0)==1|(M|0)==1|(o|0)==1}return b=r+32|0,b=c+80|0,e[i+316>>2]=(n|0)==1|(v|0)!=0|e[i+316>>2]==1,te(_),b=p+48|0,0}function Yt(i,r,n){var o=0,a=0,c=0,g=0;o=b-192|0,b=o,e[o+164>>2]=n,e[o+160>>2]=n,a=o+32|0,e[o+28>>2]=a,n=Fs(a,128,r,n)+1|0,n>>>0>=129&&(a=o-(n+15&-16)|0,b=a,e[o+28>>2]=a,Fs(a,n,r,e[o+160>>2])),c=e[i+8>>2],e[o+24>>2]=1,e[o+8>>2]=-1,e[o>>2]=0,e[o+4>>2]=0;e:{r=e[c+4>>2];t:{if(r>>>0<nt[c+8>>2]){if(n=Ge(a),e[o+184>>2]=e[o+16>>2],i=e[o+12>>2],e[o+176>>2]=e[o+8>>2],e[o+180>>2]=i,i=e[o+4>>2],e[o+168>>2]=e[o>>2],e[o+172>>2]=i,e[r>>2]=1,i=e[o+172>>2],e[r+4>>2]=e[o+168>>2],e[r+8>>2]=i,i=e[o+180>>2],e[r+12>>2]=e[o+176>>2],e[r+16>>2]=i,e[r+20>>2]=e[o+184>>2],n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){g=n+16&-16,i=Z(g),e[r+32>>2]=g|-2147483648,e[r+24>>2]=i,e[r+28>>2]=n;break n}if(i=r+24|0,S[i+11|0]=n,!n)break i}Ce(i,a,n)}S[i+n|0]=0,e[c+4>>2]=r+36;break t}Um(c,o+24|0,o,o+28|0)}b=o+192|0;return}Be(),Ie()}function hY(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0;r=b+-64|0,b=r,p=e[o+4>>2];e:{if(!p)break e;if(g=e[i+12>>2],n=e[g+76>>2],e[g+80>>2]-n>>2>>>0<=a>>>0){e[r>>2]=a,Yt(i,5253,r),c=1;break e}if(n=e[n+(a<<2)>>2],_=y[n+11|0],_<<24>>24<0?e[n+4>>2]:_)break e;c=r+8|0,ia(c,e[o>>2],p),Ea(r+32|0,g+216|0,c),S[r+19|0]<0&&P(e[r+8>>2]);t:{if((n|0)==(r+32|0))break t;if(g=y[r+43|0],o=g<<24>>24,S[n+11|0]>=0){if((o|0)>=0){o=e[r+36>>2],e[n>>2]=e[r+32>>2],e[n+4>>2]=o,e[n+8>>2]=e[r+40>>2];break t}Er(n,e[r+32>>2],e[r+36>>2]);break t}c=n,n=(o|0)<0,So(c,n?e[r+32>>2]:r+32|0,n?e[r+36>>2]:g)}if(i=e[i+12>>2],c=0,e[r+24>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+28>>2]=a,i=i+216|0,gn(r+48|0,i,r+32|0,r+8|0),ln(i,e[r+48>>2]),S[r+43|0]>=0)break e;P(e[r+32>>2])}return b=r- -64|0,c|0}function v2(i,r){var n=0,o=0,a=0,c=0;n=b-96|0,b=n;e:{if((we(i,0)|0)==121){if(c=e[i+92>>2]&1,o=H(c,36)+i|0,a=e[o+36>>2],e[n+88>>2]=e[o+32>>2],e[n+92>>2]=a,a=e[o+28>>2],e[n+80>>2]=e[o+24>>2],e[n+84>>2]=a,a=e[o+20>>2],e[n+72>>2]=e[o+16>>2],e[n+76>>2]=a,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+36>>2]=0,a=e[o+44>>2],o=e[o+40>>2],e[i+92>>2]=!c,e[i+88>>2]=e[i+88>>2]-1,(n1(o,o+a|0,r,0)|0)==1&&(e[n- -64>>2]=e[n+88>>2],c=e[n+84>>2],e[n+56>>2]=e[n+80>>2],e[n+60>>2]=c,c=e[n+76>>2],e[n+48>>2]=e[n+72>>2],e[n+52>>2]=c,e[n+32>>2]=a,e[n+36>>2]=o,Kt(i,n+48|0,28047,n+32|0)),r=e[r>>2],!(!r|r-1&r))break e;e[n+24>>2]=e[n+88>>2],r=e[n+84>>2],e[n+16>>2]=e[n+80>>2],e[n+20>>2]=r,r=e[n+76>>2],e[n+8>>2]=e[n+72>>2],e[n+12>>2]=r,Kt(i,n+8|0,10743,0);break e}e[r>>2]=-1,e[r+4>>2]=-1}b=n+96|0}function Bk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,n=e[i+116>>2],g=e[i+112>>2],e[a+24>>2]=e[r+28>>2],o=e[r+24>>2],e[a+16>>2]=e[r+20>>2],e[a+20>>2]=o,o=e[r+16>>2],e[a+8>>2]=e[r+12>>2],e[a+12>>2]=o,e[a+28>>2]=n-g>>2,n=i+256|0,p=r+36|0,gn(a+32|0,n,p,a+8|0),ln(n,e[a+32>>2]);e:{n=e[i+116>>2],o=e[i+120>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+116>>2]=n+4;break t}if(g=e[i+112>>2],_=n-g|0,c=_>>2,n=c+1|0,n>>>0>=1073741824)break e;if(v=c<<2,o=o-g|0,c=o>>1,o=o>>>0<2147483644?n>>>0<c>>>0?c:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(c=v+n|0,e[c>>2]=p,(_|0)>0&&Ce(n,g,_),e[i+120>>2]=n+(o<<2),e[i+116>>2]=c+4,e[i+112>>2]=n,!g)break t;P(g)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1,b=a+48|0;return}Be(),Ie()}function Kf(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;e:{if(o=e[i+4>>2],p=e[i>>2],c=(o-p|0)/12|0,n=c+1|0,n>>>0>=357913942||(g=(e[i+8>>2]-p|0)/12|0,a=g<<1,n=g>>>0<178956970?n>>>0<a>>>0?a:n:357913941,n>>>0>=357913942))break e;if(a=H(c,12),c=H(n,12),g=Z(c),n=a+g|0,e[n>>2]=e[r>>2],e[n+4>>2]=e[r+4>>2],e[n+8>>2]=e[r+8>>2],e[r+8>>2]=0,e[r>>2]=0,e[r+4>>2]=0,a=n+12|0,(o|0)!=(p|0)){for(;n=n-12|0,o=o-12|0,e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],e[o+8>>2]=0,e[o>>2]=0,e[o+4>>2]=0,(o|0)!=(p|0););o=e[i>>2]}if(e[i>>2]=n,e[i+8>>2]=c+g,r=e[i+4>>2],e[i+4>>2]=a,(r|0)!=(o|0))for(;;){if(r=r-12|0,n=e[r>>2],n)for(;i=e[n+4>>2],F[e[e[n>>2]+4>>2]](n),n=i,!!n;);if(e[r+4>>2]=0,e[r>>2]=0,e[r+8>>2]=0,(r|0)==(o|0))break}o&&P(o);return}Be(),Ie()}function dY(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0;r=b+-64|0,b=r,g=0;e:{if(n&16|c||(p=e[o+4>>2],!p))break e;if(n=e[i+12>>2],c=e[n+172>>2],e[n+176>>2]-c>>2>>>0<=a>>>0){e[r>>2]=a,Yt(i,5193,r),g=1;break e}c=e[c+(a<<2)>>2],g=r+8|0,ia(g,e[o>>2],p),Ea(r+32|0,n+336|0,g),S[r+19|0]<0&&P(e[r+8>>2]),n=c+4|0;t:{if((n|0)==(r+32|0))break t;if(c=y[r+43|0],o=c<<24>>24,S[n+11|0]>=0){if((o|0)>=0){o=e[r+36>>2],e[n>>2]=e[r+32>>2],e[n+4>>2]=o,e[n+8>>2]=e[r+40>>2];break t}Er(n,e[r+32>>2],e[r+36>>2]);break t}g=n,n=(o|0)<0,So(g,n?e[r+32>>2]:r+32|0,n?e[r+36>>2]:c)}if(i=e[i+12>>2],g=0,e[r+24>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+28>>2]=a,i=i+336|0,gn(r+48|0,i,r+32|0,r+8|0),ln(i,e[r+48>>2]),S[r+43|0]>=0)break e;P(e[r+32>>2])}return b=r- -64|0,g|0}function k2(i,r,n){var o=0,a=0,c=0,g=0,p=0;p=1;e:{if((i|0)==(r|0))break e;t:{i:{if(a=y[i|0],!((a|0)!=48|i+1>>>0>=r>>>0|y[i+1|0]!=120)){if(i=i+2|0,(r|0)==(i|0))return 1;if(i>>>0>=r>>>0)break t;for(;;){if(o=S[i|0],(o|0)!=95){a=o-48|0;n:{if(a>>>0<10)break n;if(o-97>>>0<=5){a=o-87|0;break n}if(o-65>>>0>5)return 1;a=o-55|0}if(c>>>0>268435455)return 1;c=c<<4|g>>>28,o=g<<4,g=o+a|0,c=g>>>0<o>>>0?c+1|0:c}if(i=i+1|0,(r|0)==(i|0))break}break i}if(i>>>0>=r>>>0)break t;for(;;){if((a|0)!=95){if(o=(c|0)==429496729,a=(a<<24>>24)-48|0,p=1,o&g>>>0>2576980377|c>>>0>429496729|a>>>0>9|o&(g|0)==-1717986919&a>>>0>5)break e;o=ki(g,c,10,0),g=o+a|0,c=At,c=g>>>0<o>>>0?c+1|0:c}if(i=i+1|0,(r|0)==(i|0))break i;a=y[i|0]}}i=r}if(p=1,(i|0)!=(r|0))break e;e[n>>2]=g,e[n+4>>2]=c,p=0}return p}function XN(i,r,n,o,a,c,g,p,_){var v=0,L=0,x=0,M=0;v=b-160|0,b=v,e[v+32>>2]=0,e[v+24>>2]=0,e[v+28>>2]=0,e[v+16>>2]=0,e[v+20>>2]=0,L=Ne(v+40|0,n,v+16|0),n=Z(96),x=fe(v+80|0,L),M=fe(v+120|0,x),e[n+20>>2]=0,e[n+24>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+28>>2]=0,e[n+32>>2]=_,e[n>>2]=p,fe(n+36|0,M),te(M),e[n+88>>2]=a,e[n+92>>2]=c,a=1,o=1<<o,e[n+80>>2]=o,e[n+84>>2]=o>>31,e[n+72>>2]=r,e[n>>2]=g,te(x),r=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[n+24>>2]=0,e[n+28>>2]=0,e[n+20>>2]=r,e[n+16>>2]=c,e[n+12>>2]=o,c=e[i+24>>2],r=e[i+20>>2],o=(c-r|0)/12|0;e:{if((r|0)!=(c|0)){r=e[(r+H(o,12)|0)-8>>2],i=r,o=e[r+4>>2],o&&(e[n+8>>2]=o,i=o+4|0),e[i>>2]=n,e[r+4>>2]=n,e[r+8>>2]=e[r+8>>2]+1,a=0;break e}e[v+4>>2]=o,e[v>>2]=0,Yt(i,15800,v),F[e[e[n>>2]+4>>2]](n)}return te(L),b=v+160|0,a}function Sh(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;e:{n=e[i+8>>2],a=e[i+12>>2];t:{if(n>>>0<a>>>0){e[n>>2]=0,e[i+8>>2]=n+4;break t}if(c=e[i+4>>2],g=n-c|0,p=g>>2,o=p+1|0,o>>>0>=1073741824)break e;if(n=0,a=a-c|0,_=a>>1,o=a>>>0<2147483644?o>>>0<_>>>0?_:o:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}if(a=(p<<2)+n|0,e[a>>2]=0,(g|0)>0&&Ce(n,c,g),e[i+12>>2]=(o<<2)+n,e[i+8>>2]=a+4,e[i+4>>2]=n,!c)break t;P(c)}if(n=e[i+20>>2],o=e[i+24>>2],n>>>0<o>>>0){e[n>>2]=r,e[i+20>>2]=n+4;return}if(c=e[i+16>>2],g=n-c|0,a=g>>2,n=a+1|0,n>>>0>=1073741824)break e;if(o=o-c|0,p=o>>1,o=o>>>0<2147483644?n>>>0<p>>>0?p:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;a=n+(a<<2)|0,e[a>>2]=r,(g|0)>0&&Ce(n,c,g),e[i+24>>2]=n+(o<<2),e[i+20>>2]=a+4,e[i+16>>2]=n,c&&P(c);return}Be(),Ie()}function JN(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;if(i=Br(i,r),!i)return 0;if(o=e[i>>2],!o)return 1;i=y[r+11|0],n=i<<24>>24<0,_=n?e[r>>2]:r,c=1,g=n?e[r+4>>2]:i;e:{if(!g)for(;;){if(n=y[o+19|0],i=n<<24>>24,(i|0)<0?e[o+12>>2]:n)break e;t:{if((i|0)<=0)break t;if(r=_,i=o+8|0,y[r|0]!=y[i|0])break e;for(;;){if(n=n-1|0,!n)break t;if(g=y[r+1|0],a=y[i+1|0],i=i+1|0,r=r+1|0,(a|0)!=(g|0))break}break e}if(c=c+1|0,o=e[o>>2],!o)break e}for(;;){if(n=y[o+19|0],p=n<<24>>24,i=(p|0)<0,(g|0)!=((i?e[o+12>>2]:n)|0))break e;r=o+8|0,a=e[r>>2];t:{if(!i){if(!p)break t;if(i=_,y[i|0]!=(a&255))break e;for(;;){if(n=n-1|0,!n)break t;if(a=y[i+1|0],p=y[r+1|0],r=r+1|0,i=i+1|0,(a|0)!=(p|0))break}break e}if(En(a,_,g))break e}if(c=c+1|0,o=e[o>>2],!o)break}}return c}function fY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;return o=b+-64|0,b=o,c=e[e[i+4>>2]+8>>2],a=e[i+32>>2],g=Ge(a),r=Z(152),e[r+32>>2]=10,e[r+12>>2]=a,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=46404,S[r+36|0]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=c,e[r+16>>2]=g,S[r+47|0]=0,S[r+48|0]=0,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,e[o+40>>2]=0,e[o+44>>2]=0,a=o+40|0,Ne(r+52|0,-1,a),e[r+120>>2]=0,e[r+124>>2]=0,e[r+112>>2]=0,e[r+116>>2]=0,e[r+104>>2]=0,e[r+108>>2]=0,e[r+96>>2]=0,e[r+100>>2]=0,e[r+88>>2]=0,e[r+92>>2]=0,e[r+132>>2]=0,e[r+136>>2]=0,e[r+128>>2]=1065353216,e[r+140>>2]=0,e[r+144>>2]=0,e[r+148>>2]=1065353216,g=e[e[i+4>>2]+8>>2],c=e[i+32>>2],e[o+52>>2]=0,e[o+56>>2]=0,p=Ge(c),e[o+48>>2]=g,e[o+44>>2]=p,e[o+40>>2]=c,n=Ne(o,n,a),l1(i,r+48|0,n),te(n),Pk(e[i+12>>2],r),b=o- -64|0,0}function ss(i,r,n,o){var a=0,c=0,g=0;a=b-176|0,b=a,e[i+84>>2]=1,e[a+148>>2]=o,e[a+144>>2]=o,c=a+16|0,e[a+12>>2]=c,o=Fs(c,128,n,o)+1|0,o>>>0>=129&&(c=a-(o+15&-16)|0,b=c,e[a+12>>2]=c,Fs(c,o,n,e[a+144>>2])),o=e[i+4>>2],e[a+8>>2]=1;e:{i=e[o+4>>2];t:{if(i>>>0<nt[o+8>>2]){if(n=Ge(c),e[a+168>>2]=e[r+16>>2],g=e[r+12>>2],e[a+160>>2]=e[r+8>>2],e[a+164>>2]=g,g=e[r+4>>2],e[a+152>>2]=e[r>>2],e[a+156>>2]=g,e[i>>2]=1,r=e[a+156>>2],e[i+4>>2]=e[a+152>>2],e[i+8>>2]=r,r=e[a+164>>2],e[i+12>>2]=e[a+160>>2],e[i+16>>2]=r,e[i+20>>2]=e[a+168>>2],n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){g=n+16&-16,r=Z(g),e[i+32>>2]=g|-2147483648,e[i+24>>2]=r,e[i+28>>2]=n;break n}if(r=i+24|0,S[r+11|0]=n,!n)break i}Ce(r,c,n)}S[r+n|0]=0,e[o+4>>2]=i+36;break t}Um(o,a+8|0,r,a+12|0)}b=a+176|0;return}Be(),Ie()}function zc(i,r,n,o){var a=0,c=0,g=0;a=b-176|0,b=a,e[i+12>>2]=1,e[a+148>>2]=o,e[a+144>>2]=o,c=a+16|0,e[a+12>>2]=c,o=Fs(c,128,n,o)+1|0,o>>>0>=129&&(c=a-(o+15&-16)|0,b=c,e[a+12>>2]=c,Fs(c,o,n,e[a+144>>2])),o=e[i+4>>2],e[a+8>>2]=1;e:{i=e[o+4>>2];t:{if(i>>>0<nt[o+8>>2]){if(n=Ge(c),e[a+168>>2]=e[r+16>>2],g=e[r+12>>2],e[a+160>>2]=e[r+8>>2],e[a+164>>2]=g,g=e[r+4>>2],e[a+152>>2]=e[r>>2],e[a+156>>2]=g,e[i>>2]=1,r=e[a+156>>2],e[i+4>>2]=e[a+152>>2],e[i+8>>2]=r,r=e[a+164>>2],e[i+12>>2]=e[a+160>>2],e[i+16>>2]=r,e[i+20>>2]=e[a+168>>2],n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){g=n+16&-16,r=Z(g),e[i+32>>2]=g|-2147483648,e[i+24>>2]=r,e[i+28>>2]=n;break n}if(r=i+24|0,S[r+11|0]=n,!n)break i}Ce(r,c,n)}S[r+n|0]=0,e[o+4>>2]=i+36;break t}Um(o,a+8|0,r,a+12|0)}b=a+176|0;return}Be(),Ie()}function gY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;return p=b-48|0,b=p,_=fe(p+8|0,r+36|0),n=b-160|0,b=n,e[n+88>>2]=29,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n+96|0,n+88|0),e[n+32>>2]=e[n+96>>2],Ye(o,r,9809,n+32|0)),e[n+96>>2]=0,e[n+100>>2]=-1,S[n+104|0]=1,c=fe(n+48|0,_),g=FT(o,c,n+96|0),te(c),a=(g|0)==1|(a|0)!=0,y[n+104|0]||(e[n+16>>2]=e[_+24>>2],a=(Ye(o,r,26240,n+16|0)|0)==1|a),r=e[n+100>>2],c=e[n+96>>2],e[n+40>>2]=c,e[n+44>>2]=r,e[n+8>>2]=c,e[n+12>>2]=r,r=b-16|0,b=r,c=e[n+12>>2],g=e[n+8>>2],e[r>>2]=g,e[r+4>>2]=c,e[r+8>>2]=g,e[r+12>>2]=c,o=C2(o+24|0,r,6978),b=r+16|0,b=n+160|0,e[i+316>>2]=e[i+316>>2]==1|((o|0)==1|a)==1,te(_),b=p+48|0,0}function l8(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-32|0,b=o,n=E5(e[i>>2],r+24|0),ee(e[i+4>>2],24508,0);e:{t:switch(e[r+72>>2]){case 0:if(c=e[r+60>>2],g=y[r+71|0],a=g<<24>>24<0,e[o+28>>2]=a?e[r- -64>>2]:g,e[o+24>>2]=a?c:r+60|0,r=e[o+28>>2],e[o>>2]=e[o+24>>2],e[o+4>>2]=r,a=vl(n,m8(n,o)+16|0),c=e[a+68>>2],n=e[a- -64>>2],(c|0)==(n|0)||(m5(i,e[n>>2],e[n+4>>2]),n=c-n|0,n>>>0<16))break e;for(r=1,n=n>>3,c=n>>>0>1?n:1;n=e[a+64>>2]+(r<<3)|0,g=e[n+4>>2],m5(i,e[n>>2],g),r=r+1|0,(c|0)!=(r|0););break e;case 1:break t;default:break e}c=e[r+60>>2],g=y[r+71|0],a=g<<24>>24<0,e[o+20>>2]=a?e[r- -64>>2]:g,e[o+16>>2]=a?c:r+60|0,r=e[o+20>>2],e[o+8>>2]=e[o+16>>2],e[o+12>>2]=r,r=op(n,m8(n,o+8|0)+16|0),n=e[r+16>>2],m5(i,e[r+12>>2],n)}ee(e[i+4>>2],24467,0),b=o+32|0}function mY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0;a=b-96|0,b=a,n=e[i+4>>2],xe(a+32|0,91996),o=e[a+32>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1,c=e[r+160>>2],p=r+164|0,o=e[p>>2];e:{if(!(c|o))break e;if(n=e[i+4>>2],!c){e[a+16>>2]=o,yt(n,5606,a+16|0),e[n+36>>2]=1;break e}c=n,g=o,n=y[r+175|0],o=n<<24>>24<0,Ki(c,o?g:p,o?e[r+168>>2]:n,1)}n=e[i+4>>2],be(n),U(e[n+24>>2],27980,1,0,0),e[n+36>>2]=0,be(n),U(e[n+24>>2],14425,4,0,0),e[n+36>>2]=1,e[n+32>>2]=e[n+32>>2]+2,o=r- -64|0,n=e[i+4>>2];e:{if(!e[r+60>>2]){e[a>>2]=e[o>>2],yt(n,5606,a),e[n+36>>2]=2;break e}c=n,g=o,n=y[r+75|0],o=n<<24>>24<0,Ki(c,o?e[r+64>>2]:g,o?e[r+68>>2]:n,2)}return i=e[i+4>>2],e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,b=a+96|0,0}function qN(i){var r=0,n=0,o=0,a=0,c=0,g=0,p=0;if(o=b-32|0,b=o,r=Z(148),a=e[i+4>>2],p=e[i>>2],n=y[i+11|0],e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=4,e[r>>2]=38180,c=n<<24>>24<0,n=c?a:n,n>>>0<4294967280){e:{t:{if(n>>>0>=11){g=n+16&-16,a=Z(g),e[r+40>>2]=g|-2147483648,e[r+32>>2]=a,e[r+36>>2]=n;break t}if(a=r+32|0,S[a+11|0]=n,!n)break e}Ce(a,c?p:i,n)}return S[n+a|0]=0,S[r+44|0]=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,Ne(r+48|0,-1,o+8|0),i=r,e[i+116>>2]=0,e[i+120>>2]=0,e[i+108>>2]=0,e[i+112>>2]=0,e[i+100>>2]=0,e[i+104>>2]=0,e[i+92>>2]=0,e[i+96>>2]=0,e[i+84>>2]=0,e[i+88>>2]=0,e[i+128>>2]=0,e[i+132>>2]=0,e[i+124>>2]=1065353216,e[i+136>>2]=0,e[i+140>>2]=0,e[i+144>>2]=1065353216,b=o+32|0,i}Be(),Ie()}function pY(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,r=Z(72),e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=2,e[r>>2]=37964,S[r+32|0]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+43|0]=0,e[r+48>>2]=0,e[r+52>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,S[r+63|0]=0,S[r+64|0]=0,S[r+65|0]=0,S[r+66|0]=0,a=e[n+4>>2],Cl(r+4|0,e[n>>2],a),Cl(r+16|0,e[o>>2],e[o+4>>2]),n=y[c+15|0]|y[c+16|0]<<8|(y[c+17|0]<<16|y[c+18|0]<<24),S[r+63|0]=n,S[r+64|0]=n>>>8,S[r+65|0]=n>>>16,S[r+66|0]=n>>>24,n=e[c+12>>2],e[r+56>>2]=e[c+8>>2],e[r+60>>2]=n,n=e[c+4>>2],e[r+48>>2]=e[c>>2],e[r+52>>2]=n,n=e[e[i+4>>2]+8>>2],o=e[i+12>>2],a=e[i+32>>2],c=Ge(a),i=Z(40),e[i+32>>2]=2,e[i+12>>2]=a,e[i+4>>2]=0,e[i+8>>2]=0,e[i+36>>2]=r,e[i>>2]=37736,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=n,e[i+16>>2]=c,ql(o,i),0}function Xf(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0;g=b-80|0,b=g;e:{t:{if(a=fe(g+40|0,r),o=e[a+24>>2],p=e[i+120>>2],o>>>0<p>>>0){te(a);break t}if(e[g+24>>2]=p,e[g+20>>2]=o,e[g+16>>2]=14044,p=Ye(i,a,27451,g+16|0),te(a),(p|0)!=1)break t;i=e[n>>2],i&&(e[n+4>>2]=i,P(i)),e[n+8>>2]=0,e[n>>2]=0,e[n+4>>2]=0,i=e[n+12>>2],i&&(e[n+16>>2]=i,P(i)),e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,c=1;break e}_=e[r+24>>2];t:{p=i+128|0,c=e[p>>2];i:{if(!c)break i;for(o=p;a=nt[c+16>>2]<_>>>0,o=a?o:c,a=e[(a?c+4|0:c)>>2],c=a,!!a;);if((o|0)==(p|0))break i;if(nt[o+16>>2]<=_>>>0)break t}e[g>>2]=_,c=Ye(i,r,11026,g);break e}if(c=0,!n)break e;(o+20|0)!=(n|0)&&(or(n,e[o+20>>2],e[o+24>>2]),or(n+12|0,e[o+32>>2],e[o+36>>2])),e[n+24>>2]=e[o+44>>2]}return b=g+80|0,c}function Ye(i,r,n,o){var a=0,c=0,g=0;a=b-176|0,b=a,e[a+148>>2]=o,e[a+144>>2]=o,c=a+16|0,e[a+12>>2]=c,o=Fs(c,128,n,o)+1|0,o>>>0>=129&&(c=a-(o+15&-16)|0,b=c,e[a+12>>2]=c,Fs(c,o,n,e[a+144>>2])),o=e[i+20>>2],e[a+8>>2]=1;e:{i=e[o+4>>2];t:{if(i>>>0<nt[o+8>>2]){if(n=Ge(c),e[a+168>>2]=e[r+16>>2],g=e[r+12>>2],e[a+160>>2]=e[r+8>>2],e[a+164>>2]=g,g=e[r+4>>2],e[a+152>>2]=e[r>>2],e[a+156>>2]=g,e[i>>2]=1,r=e[a+156>>2],e[i+4>>2]=e[a+152>>2],e[i+8>>2]=r,r=e[a+164>>2],e[i+12>>2]=e[a+160>>2],e[i+16>>2]=r,e[i+20>>2]=e[a+168>>2],n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){g=n+16&-16,r=Z(g),e[i+32>>2]=g|-2147483648,e[i+24>>2]=r,e[i+28>>2]=n;break n}if(r=i+24|0,S[r+11|0]=n,!n)break i}Ce(r,c,n)}S[r+n|0]=0,e[o+4>>2]=i+36;break t}Um(o,a+8|0,r,a+12|0)}return b=a+176|0,1}Be(),Ie()}function Gc(i,r){var n=0,o=0,a=0,c=0,g=0;return o=b+-64|0,b=o,g=z_(i,r),r=Z(12),e[o+8>>2]=r,a=r+12|0,e[o+16>>2]=a,S[r+8|0]=0,e[r>>2]=1763733089,e[r+4>>2]=1920234350,n=Yn[o+6>>1],S[r+11|0]=8,S[r+9|0]=n,S[r+10|0]=n>>>8,e[o+12>>2]=a,(we(i,0)|0)==26&&(c=i+16|0,a=e[i+92>>2]&1,n=c+H(a,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!a,n=e[i+88>>2]-1|0,e[i+88>>2]=n,n||(ri(o+24|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,a=e[o+28>>2],n=c+H(n+e[i+92>>2]&1,36)|0,e[n>>2]=e[o+24>>2],e[n+4>>2]=a,e[n+32>>2]=e[o+56>>2],a=e[o+52>>2],e[n+24>>2]=e[o+48>>2],e[n+28>>2]=a,a=e[o+44>>2],e[n+16>>2]=e[o+40>>2],e[n+20>>2]=a,a=e[o+36>>2],e[n+8>>2]=e[o+32>>2],e[n+12>>2]=a),c=Cn(i,o+8|0,0)),S[r+11|0]<0&&P(e[r>>2]),P(r),b=o- -64|0,(c|0)==1?1:g}function Kt(i,r,n,o){var a=0,c=0,g=0;a=b-176|0,b=a,e[a+148>>2]=o,e[a+144>>2]=o,c=a+16|0,e[a+12>>2]=c,o=Fs(c,128,n,o)+1|0,o>>>0>=129&&(c=a-(o+15&-16)|0,b=c,e[a+12>>2]=c,Fs(c,o,n,e[a+144>>2])),o=e[i+8>>2],e[a+8>>2]=1;e:{i=e[o+4>>2];t:{if(i>>>0<nt[o+8>>2]){if(n=Ge(c),e[a+168>>2]=e[r+16>>2],g=e[r+12>>2],e[a+160>>2]=e[r+8>>2],e[a+164>>2]=g,g=e[r+4>>2],e[a+152>>2]=e[r>>2],e[a+156>>2]=g,e[i>>2]=1,r=e[a+156>>2],e[i+4>>2]=e[a+152>>2],e[i+8>>2]=r,r=e[a+164>>2],e[i+12>>2]=e[a+160>>2],e[i+16>>2]=r,e[i+20>>2]=e[a+168>>2],n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){g=n+16&-16,r=Z(g),e[i+32>>2]=g|-2147483648,e[i+24>>2]=r,e[i+28>>2]=n;break n}if(r=i+24|0,S[r+11|0]=n,!n)break i}Ce(r,c,n)}S[r+n|0]=0,e[o+4>>2]=i+36;break t}Um(o,a+8|0,r,a+12|0)}b=a+176|0;return}Be(),Ie()}function AY(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-192|0,b=g,p=e[c>>2],_=e[c+4>>2];e:{if(y[c+16|0]){v=e[c+12>>2],e[g+56>>2]=e[c+8>>2],e[g+60>>2]=v,e[g+48>>2]=p,e[g+52>>2]=_,Bs(g+80|0,100,2807,g+48|0);break e}e[g+32>>2]=p,e[g+36>>2]=_,Bs(g+80|0,100,2832,g+32|0)}p=e[i+16>>2];e:{t:{if(p>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),p=p-142|0,p>>>0>142;);p=e[i+16>>2];break t}if(!p)break e}U(e[i+8>>2],58304,p,0,0)}return p=e[i+8>>2],e[g+20>>2]=a,e[g+16>>2]=r,e[g+24>>2]=g+80,ee(p,33815,g+16|0),i=e[i+12>>2],p=e[n+4>>2],_=e[n>>2],e[g+72>>2]=_,e[g+76>>2]=p,n=e[o+4>>2],o=e[o>>2],e[g+64>>2]=o,e[g+68>>2]=n,v=e[e[i>>2]+80>>2],e[g+8>>2]=_,e[g+12>>2]=p,e[g>>2]=o,e[g+4>>2]=n,i=F[v|0](i,r,g+8|0,g,a,c)|0,b=g+192|0,i|0}function _Y(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0;r=b+-64|0,b=r,g=e[o+4>>2];e:{if(!g){o=0;break e}if(c=e[i+12>>2],n=e[c+64>>2],e[c+68>>2]-n>>2>>>0<=a>>>0){e[r>>2]=a,Yt(i,5331,r),o=1;break e}n=e[n+(a<<2)>>2],p=r+8|0,ia(p,e[o>>2],g),Ea(r+32|0,c+196|0,p),S[r+19|0]<0&&P(e[r+8>>2]);t:{if((n|0)==(r+32|0))break t;if(c=y[r+43|0],o=c<<24>>24,S[n+11|0]>=0){if((o|0)>=0){o=e[r+36>>2],e[n>>2]=e[r+32>>2],e[n+4>>2]=o,e[n+8>>2]=e[r+40>>2];break t}Er(n,e[r+32>>2],e[r+36>>2]);break t}g=n,n=(o|0)<0,So(g,n?e[r+32>>2]:r+32|0,n?e[r+36>>2]:c)}if(i=e[i+12>>2],o=0,e[r+24>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+28>>2]=a,i=i+196|0,gn(r+48|0,i,r+32|0,r+8|0),ln(i,e[r+48>>2]),S[r+43|0]>=0)break e;P(e[r+32>>2])}return b=r- -64|0,o|0}function eT(i,r,n,o,a){var c=0,g=0,p=0;c=b-144|0,b=c,e[c+96>>2]=0,e[c+88>>2]=0,e[c+92>>2]=0,e[c+80>>2]=0,e[c+84>>2]=0,g=Ne(c+104|0,r,c+80|0),e[c+32>>2]=0,e[c+24>>2]=0,e[c+28>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,p=Ne(c+40|0,n,c+16|0),r=Z(108),e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=a,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+28>>2]=0,e[r+32>>2]=o,fe(r+36|0,g),fe(r+72|0,p),n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],a=Ge(o),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=a,e[r+12>>2]=o,a=e[i+24>>2],n=e[i+20>>2],o=(a-n|0)/12|0;e:{if((n|0)!=(a|0)){n=e[(n+H(o,12)|0)-8>>2],i=n,o=e[n+4>>2],o&&(e[r+8>>2]=o,i=o+4|0),e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1,i=0;break e}e[c+4>>2]=o,e[c>>2]=0,Yt(i,15800,c),F[e[e[r>>2]+4>>2]](r),i=1}return te(p),te(g),b=c+144|0,i}function CY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;o=e[e[e[i+12>>2]+148>>2]+(r<<2)>>2],c=e[o+72>>2];e:{if((e[o+80>>2]-c|0)/12>>>0>=n>>>0)break e;t:{i:{if(n>>>0<357913942){if(i=e[o+76>>2],n=H(n,12),r=Z(n),a=r+n|0,n=r+H((i-c|0)/12|0,12)|0,(i|0)==(c|0))break i;for(r=n;r=r-12|0,i=i-12|0,e[r>>2]=e[i>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=e[i+8>>2],e[i+8>>2]=0,e[i>>2]=0,e[i+4>>2]=0,(i|0)!=(c|0););if(e[o+80>>2]=a,a=e[o+76>>2],e[o+76>>2]=n,c=e[o+72>>2],e[o+72>>2]=r,(a|0)==(c|0))break t;for(;;){if(a=a-12|0,i=e[a>>2],i)for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);if(e[a+4>>2]=0,e[a>>2]=0,e[a+8>>2]=0,(a|0)==(c|0))break}break t}Be(),Ie()}e[o+80>>2]=a,e[o+76>>2]=n,e[o+72>>2]=n}if(!c)break e;P(c)}return 0}function wY(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0,_=0,v=0,L=0,x=0;p=b-96|0,b=p,_=e[i+16>>2];e:{t:{if(_>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),_=_-142|0,_>>>0>142;);_=e[i+16>>2];break t}if(!_)break e}U(e[i+8>>2],58304,_,0,0)}return _=e[i+8>>2],v=p+80|0,ci(v,c),e[p+32>>2]=r,e[p+36>>2]=a,e[p+44>>2]=g?13625:13805,e[p+40>>2]=S[p+91|0]<0?e[p+80>>2]:v,ee(_,33693,p+32|0),S[p+91|0]<0&&P(e[p+80>>2]),i=e[i+12>>2],_=e[n+4>>2],v=e[n>>2],e[p+72>>2]=v,e[p+76>>2]=_,n=e[o+4>>2],L=e[o>>2],e[p+64>>2]=L,e[p+68>>2]=n,o=e[c+4>>2],c=e[c>>2],e[p+56>>2]=c,e[p+60>>2]=o,x=e[e[i>>2]+84>>2],e[p+24>>2]=v,e[p+28>>2]=_,e[p+16>>2]=L,e[p+20>>2]=n,e[p+8>>2]=c,e[p+12>>2]=o,i=F[x|0](i,r,p+24|0,p+16|0,a,p+8|0,g)|0,b=p+96|0,i|0}function vY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0;r=b-48|0,b=r,p=fe(r+8|0,n+20|0),g=!e[n+40>>2]&e[n+44>>2]==-1,o=b-128|0,b=o,e[o+48>>2]=7,a=i+16|0,e[a+112>>2]=e[n+16>>2],c=e[n+12>>2],e[a+104>>2]=e[n+8>>2],e[a+108>>2]=c,c=e[n+4>>2],e[a+96>>2]=e[n>>2],e[a+100>>2]=c,c=y[a+116|0],c&&(xe(o- -64|0,o+48|0),e[o>>2]=e[o+64>>2],Ye(a,n,9809,o)),n=(c|0)!=0;e:{if(g){e[o+72>>2]=0,e[o+64>>2]=0,e[o+68>>2]=0,g=(tT(a+24|0,o- -64|0)|0)==1,a=e[o+64>>2],a&&(e[o+68>>2]=a,P(a)),n=n|g;break e}e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,g=fe(o+8|0,p),c=fe(o- -64|0,g),_=o+48|0,v=ET(a,c,a+208|0,_),te(c),te(g),g=(tT(a+24|0,_)|0)==1,a=e[o+48>>2],a&&(e[o+52>>2]=a,P(a)),n=g|(n|(v|0)==1)}return b=o+128|0,e[i+316>>2]=e[i+316>>2]==1|(n|0)==1,te(p),b=r+48|0,0}function kY(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0;return r=e[e[i+4>>2]+8>>2],p=e[i+32>>2],_=Ge(p),g=Z(40),e[g+32>>2]=4,e[g+12>>2]=p,e[g+4>>2]=0,e[g+8>>2]=0,e[g>>2]=37188,e[g+24>>2]=0,e[g+28>>2]=0,e[g+20>>2]=r,e[g+16>>2]=_,r=Z(104),e[r+36>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+40>>2]=0,e[r+44>>2]=0,e[r>>2]=37408,S[r+35|0]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+17|0]=0,S[r+18|0]=0,S[r+19|0]=0,S[r+20|0]=0,S[r+21|0]=0,S[r+22|0]=0,S[r+23|0]=0,S[r+24|0]=0,e[r+48>>2]=0,e[r+52>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,p=r- -64|0,e[p>>2]=0,e[p+4>>2]=0,e[r+72>>2]=0,e[r+76>>2]=0,e[r+84>>2]=0,e[r+88>>2]=0,e[r+80>>2]=1065353216,e[r+92>>2]=0,e[r+96>>2]=0,e[r+100>>2]=1065353216,or(r+40|0,o,(n<<3)+o|0),or(r+52|0,c,(a<<3)+c|0),e[g+36>>2]=r,Yf(e[i+12>>2],g),0}function tT(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;n=b-48|0,b=n,g=e[i+36>>2],a=e[i+40>>2];e:{if((g|0)==(a|0)){e[n>>2]=0,e[n+4>>2]=-1,xt(i,27759,n),i=1;break e}p=1,v=((a-g|0)/36|0)-1|0,a=H(v,36)+g|0,_=e[a>>2]-8>>>0<4294967294|(eo(i,a+16|0,12476)|0)==1,L=(Go(i,e[a+20>>2]-e[a+16>>2]>>3)|0)==1,c=e[i+40>>2],o=e[i+36>>2];t:{if((c|0)==(o|0)){e[n+16>>2]=0,e[n+20>>2]=-1,xt(i,27759,n+16|0);break t}o=e[(o+H((c-o|0)/36|0,36)|0)-8>>2],p=e[i+28>>2],c=e[i+24>>2],e[n+40>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,p=(o|0)!=p-c>>3,p2(i,p,12476,n+32|0,1)}L=_|L,o=e[(H(v,36)+g|0)+28>>2],c=e[i+24>>2],_=e[i+28>>2]-c>>3;t:{if(o>>>0>_>>>0){ys(i+24|0,o-_|0);break t}if(o>>>0>=_>>>0)break t;e[i+28>>2]=c+(o<<3)}e[a>>2]=7,S[(H(v,36)+g|0)+32|0]=0,S2(i,r),i=p|L}return b=n+48|0,i}function Jf(i,r){var n=0,o=0,a=0,c=0;n=b+-64|0,b=n;e:{if(!(e[r+48>>2]!=e[r+80>>2]-e[r+76>>2]>>2|e[r+52>>2]!=e[r+140>>2]-e[r+136>>2]>>2|(e[r+56>>2]!=e[r+164>>2]-e[r+160>>2]>>2|e[r+60>>2]!=e[r+92>>2]-e[r+88>>2]>>2))&&e[r+44>>2]==e[r+68>>2]-e[r+64>>2]>>2)break e;a=i+16|0;t:{if(e[i+88>>2]){c=e[i+92>>2];break t}ri(n+24|0,e[i>>2],i),r=e[i+88>>2],e[i+88>>2]=r+1,o=e[n+28>>2],c=e[i+92>>2],r=H(r+c&1,36)+a|0,e[r>>2]=e[n+24>>2],e[r+4>>2]=o,e[r+32>>2]=e[n+56>>2],o=e[n+52>>2],e[r+24>>2]=e[n+48>>2],e[r+28>>2]=o,o=e[n+44>>2],e[r+16>>2]=e[n+40>>2],e[r+20>>2]=o,o=e[n+36>>2],e[r+8>>2]=e[n+32>>2],e[r+12>>2]=o}r=H(c&1,36)+a|0,e[n+16>>2]=e[r+16>>2],a=e[r+12>>2],e[n+8>>2]=e[r+8>>2],e[n+12>>2]=a,a=e[r+4>>2],e[n>>2]=e[r>>2],e[n+4>>2]=a,Kt(i,n,7430,0)}b=n- -64|0}function bY(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0;a=b-208|0,b=a,c=e[o>>2],g=e[o+4>>2];e:{if(y[o+16|0]){p=e[o+12>>2],e[a+56>>2]=e[o+8>>2],e[a+60>>2]=p,e[a+48>>2]=c,e[a+52>>2]=g,Bs(a+96|0,100,2807,a+48|0);break e}e[a+32>>2]=c,e[a+36>>2]=g,Bs(a+96|0,100,2832,a+32|0)}c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=a+80|0,ci(g,n),e[a+16>>2]=r,e[a+20>>2]=S[a+91|0]<0?e[a+80>>2]:g,e[a+24>>2]=a+96,ee(c,33965,a+16|0),S[a+91|0]<0&&P(e[a+80>>2]),i=e[i+12>>2],c=e[n+4>>2],n=e[n>>2],e[a+72>>2]=n,e[a+76>>2]=c,g=e[e[i>>2]+120>>2],e[a+8>>2]=n,e[a+12>>2]=c,i=F[g|0](i,r,a+8|0,o)|0,b=a+208|0,i|0}function iT(i){var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;r=b-48|0,b=r,c=e[i+36>>2],o=e[i+40>>2];e:{if((c|0)==(o|0)){e[r>>2]=0,e[r+4>>2]=-1,xt(i,27759,r),i=1;break e}g=1,_=((o-c|0)/36|0)-1|0,o=H(_,36)+c|0,p=e[o>>2]!=4|(eo(i,o+16|0,12756)|0)==1,v=(Go(i,e[o+20>>2]-e[o+16>>2]>>3)|0)==1,a=e[i+40>>2],n=e[i+36>>2];t:{if((a|0)==(n|0)){e[r+16>>2]=0,e[r+20>>2]=-1,xt(i,27759,r+16|0);break t}n=e[(n+H((a-n|0)/36|0,36)|0)-8>>2],g=e[i+28>>2],a=e[i+24>>2],e[r+40>>2]=0,e[r+32>>2]=0,e[r+36>>2]=0,g=(n|0)!=g-a>>3,p2(i,g,12756,r+32|0,1)}v=p|v,n=e[(H(_,36)+c|0)+28>>2],a=e[i+24>>2],p=e[i+28>>2]-a>>3;t:{if(n>>>0>p>>>0){ys(i+24|0,n-p|0);break t}if(n>>>0>=p>>>0)break t;e[i+28>>2]=a+(n<<3)}n=i,i=H(_,36)+c|0,S2(n,i+4|0),e[o>>2]=5,S[i+32|0]=0,i=g|v}return b=r+48|0,i}function SY(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;r=b-48|0,b=r,c=UR(r+24|0),e[r+16>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,tN(r+32|0,i,1,0,c,r+8|0),S[r+19|0]<0&&P(e[r+8>>2]),a=Z(12),e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,n=y[r+43|0],i=n<<24>>24,c=(i|0)<0;e:{if(n=c?e[r+36>>2]:n,n){for(g=c?e[r+32>>2]:r+32|0,v=n+g|0,i=0;;){_=y[g|0];t:{if(i>>>0<o>>>0){S[i|0]=_;break t}if(p=e[a>>2],c=i-p|0,n=c+1|0,(n|0)<0)break e;if(i=o-p|0,o=i<<1,o=i>>>0<1073741823?n>>>0<o>>>0?o:n:2147483647,o?n=Z(o):n=0,i=n+c|0,S[i|0]=_,(c|0)>0&&Ce(n,p,c),o=n+o|0,e[a>>2]=n,!p)break t;P(p)}if(i=i+1|0,g=g+1|0,(v|0)==(g|0))break}e[a+8>>2]=o,e[a+4>>2]=i,i=y[r+43|0]}return i<<24>>24<0&&P(e[r+32>>2]),b=r+48|0,a|0}e[a+8>>2]=o,e[a+4>>2]=i,Be(),Ie()}function yY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;o=b+-64|0,b=o,g=e[n+4>>2];e:{if(!g){n=0;break e}if(c=e[i+12>>2],a=e[c+76>>2],e[c+80>>2]-a>>2>>>0<=r>>>0){e[o>>2]=r,Yt(i,5253,o),n=1;break e}a=e[a+(r<<2)>>2],p=o+8|0,ia(p,e[n>>2],g),Ea(o+32|0,c+216|0,p),S[o+19|0]<0&&P(e[o+8>>2]);t:{if((a|0)==(o+32|0))break t;if(c=y[o+43|0],n=c<<24>>24,S[a+11|0]>=0){if((n|0)>=0){n=e[o+36>>2],e[a>>2]=e[o+32>>2],e[a+4>>2]=n,e[a+8>>2]=e[o+40>>2];break t}Er(a,e[o+32>>2],e[o+36>>2]);break t}n=(n|0)<0,So(a,n?e[o+32>>2]:o+32|0,n?e[o+36>>2]:c)}if(i=e[i+12>>2],n=0,e[o+24>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+28>>2]=r,i=i+216|0,gn(o+48|0,i,o+32|0,o+8|0),ln(i,e[o+48>>2]),S[o+43|0]>=0)break e;P(e[o+32>>2])}return b=o- -64|0,n|0}function $m(i,r){var n=0,o=0,a=0,c=0,g=0;if(o=b-112|0,b=o,n=e[i+4>>2],e[o+96>>2]=11337,ee(n,28797,o+96|0),ee(e[i+4>>2],1030,0),n=e[i+4>>2],e[o+80>>2]=14425,ee(n,28797,o+80|0),n=e[i+4>>2],e[o+64>>2]=e[r+72>>2]?7026:15458,ee(n,28384,o- -64|0),ee(e[i+4>>2],28838,0),e[r+44>>2]==1){n=e[i+4>>2],e[o+48>>2]=15245,ee(n,28797,o+48|0);e:{if(!e[r+44>>2]){n=e[i+4>>2],e[o+32>>2]=e[r+48>>2],ee(n,27999,o+32|0);break e}n=r+48|0,g=e[n>>2],a=n,n=y[r+59|0],c=n<<24>>24<0,Ma(i,c?g:a,c?e[r+52>>2]:n)}ee(e[i+4>>2],28838,0)}n=e[i+4>>2],c=e[r+72>>2],e[o+16>>2]=16051,ee(n,28797,o+16|0),n=y[r+71|0],a=n<<24>>24<0,Ma(i,a?e[r+60>>2]:r+60|0,a?e[r- -64>>2]:n),c||(ee(e[i+4>>2],28838,0),n=e[i+4>>2],e[o>>2]=7647,ee(n,28797,o),oN(i,r+76|0)),ee(e[i+4>>2],1024,0),b=o+112|0}function a8(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;e:{t:{if(e[o+20>>2]==1){if(n=n-r|0,(n|0)<=0)break t;for(a=y[o+35|0],L=a<<24>>24<0,c=L?e[o+28>>2]:a,x=o+24|0,_=(n>>>0)/12|0;;){M=_,_=_-1|0,a=H(_,12)+r|0,p=y[a+11|0],v=p<<24>>24,n=(v|0)<0;i:{if(((n?e[a+4>>2]:p)|0)!=(c|0))break i;o=L?e[x>>2]:x,g=e[a>>2];n:{if(!n){if(!v)break e;if(n=a,y[o|0]==(g&255))break n;break i}if(!c){a=g;break e}if(En(n?g:a,o,c))break i;a=g;break e}for(;;){if(p=p-1|0,!p)break e;if(g=y[o+1|0],v=y[n+1|0],n=n+1|0,o=o+1|0,(g|0)!=(v|0))break}}if(!((M|0)>1))break}break t}if(o=e[o+24>>2],n=(n-r|0)/12|0,o>>>0>=n>>>0)break e;r=H(n+(o^-1)|0,12)+r|0,o=y[r+11|0],n=o<<24>>24<0,c=n?e[r+4>>2]:o,a=n?e[r>>2]:r;break e}a=0,c=0}e[i+4>>2]=c,e[i>>2]=a}function Wk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;e:{if(e[r+20>>2]==1){if(p=e[i+8>>2],o=e[i+12>>2],(p|0)==(o|0))break e;for(i=y[r+35|0],n=i<<24>>24<0,_=n?e[r+28>>2]:i,i=n?e[r+24>>2]:r+24|0,c=(o-p|0)/40|0;;){c=c-1|0,n=H(c,40)+p|0,a=y[n+11|0],r=a<<24>>24,o=(r|0)<0;t:{if(((o?e[n+4>>2]:a)|0)!=(_|0))break t;if(g=e[n>>2],!o){if(!r)break e;if(o=n,r=i,y[r|0]!=(g&255))break t;for(;;){if(a=a-1|0,!a)break e;if(v=y[r+1|0],g=y[o+1|0],o=o+1|0,r=r+1|0,(g|0)!=(v|0))break}break t}if(!_||!En(o?g:n,i,_))break e}if(!c)break}n=0;break e}if(o=e[r+24>>2],r=e[i+8>>2],i=(e[i+12>>2]-r|0)/40|0,o>>>0>=i>>>0)break e;n=r+H(i+(o^-1)|0,40)|0}return n?(i=e[n+12>>2]==3,e[n+(i?20:32)>>2]-e[n+(i?16:28)>>2]>>3):0}function nT(i,r,n,o){e:switch(r-9|0){case 0:r=e[n>>2],e[n>>2]=r+4,e[i>>2]=e[r>>2];return;case 6:r=e[n>>2],e[n>>2]=r+4,r=ns[r>>1],e[i>>2]=r,e[i+4>>2]=r>>31;return;case 7:r=e[n>>2],e[n>>2]=r+4,e[i>>2]=Yn[r>>1],e[i+4>>2]=0;return;case 8:r=e[n>>2],e[n>>2]=r+4,r=S[r|0],e[i>>2]=r,e[i+4>>2]=r>>31;return;case 9:r=e[n>>2],e[n>>2]=r+4,e[i>>2]=y[r|0],e[i+4>>2]=0;return;case 16:r=e[n>>2]+7&-8,e[n>>2]=r+8,B0[i>>3]=B0[r>>3];return;case 17:F[o|0](i,n);default:return;case 1:case 4:case 14:r=e[n>>2],e[n>>2]=r+4,r=e[r>>2],e[i>>2]=r,e[i+4>>2]=r>>31;return;case 2:case 5:case 11:case 15:r=e[n>>2],e[n>>2]=r+4,e[i>>2]=e[r>>2],e[i+4>>2]=0;return;case 3:case 10:case 12:case 13:break e}r=e[n>>2]+7&-8,e[n>>2]=r+8,n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n}function LY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0,v=0;o=b-32|0,b=o,a=e[i+28>>2],e[o+16>>2]=a,c=e[i+20>>2],e[o+28>>2]=n,e[o+24>>2]=r,r=c-a|0,e[o+20>>2]=r,c=r+n|0,_=2;e:{t:{r=o+16|0;i:{n:{if(z5(YE(e[i+60>>2],r|0,2,o+12|0)|0)){a=r;break n}for(;;){if(g=e[o+12>>2],(g|0)==(c|0))break i;if((g|0)<0){a=r;break t}if(p=e[r+4>>2],v=p>>>0<g>>>0,a=(v<<3)+r|0,p=g-(v?p:0)|0,e[a>>2]=p+e[a>>2],r=(v?12:4)+r|0,e[r>>2]=e[r>>2]-p,c=c-g|0,r=a,_=_-v|0,!!z5(YE(e[i+60>>2],r|0,_|0,o+12|0)|0))break}}if((c|0)!=-1)break t}r=e[i+44>>2],e[i+28>>2]=r,e[i+20>>2]=r,e[i+16>>2]=r+e[i+48>>2],i=n;break e}if(e[i+28>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[i>>2]=e[i>>2]|32,i=0,(_|0)==2)break e;i=n-e[a+4>>2]|0}return b=o+32|0,i|0}function Q(i,r,n){var o=0,a=0,c=0,g=0;o=b-208|0,b=o,c=1,c=y[i+97|0]?y[e[i+88>>2]+26|0]:c,e[o+204>>2]=n,e[o+200>>2]=n,a=o- -64|0,n=Fs(a,128,r,n)+1|0,n>>>0>=129&&(a=o-(n+15&-16)|0,b=a,Fs(a,n,r,e[o+200>>2])),n=Ge(a),e[o+36>>2]=e[i+12>>2],e[o+28>>2]=0,e[o+32>>2]=0,e[o+24>>2]=c;e:{if(n>>>0>=4294967280)break e;t:{i:{if(n>>>0>=11){g=n+16&-16,r=Z(g),e[o+56>>2]=g|-2147483648,e[o+52>>2]=n,e[o+48>>2]=r;break i}if(r=o+48|0,S[o+59|0]=n,!n)break t}Ce(r,a,n)}if(S[r+n|0]=0,r=e[i+36>>2],!(F[e[e[r>>2]+8>>2]](r,o+24|0)|0)){i=e[i+12>>2],n=12825;t:switch(c|0){case 1:n=10303;break;case 0:break t;default:break e}e[o+8>>2]=a,e[o+4>>2]=n,e[o>>2]=i,up(e[14179],28912,o)}S[o+59|0]<0&&P(e[o+48>>2]),b=o+208|0;return}Be(),Ie()}function DY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;o=b-80|0,b=o,r=e[e[e[i+12>>2]+148>>2]+(r<<2)>>2],c=e[e[i+4>>2]+8>>2],i=e[i+32>>2],e[o+68>>2]=0,e[o+72>>2]=0,g=Ge(i),a=o- -64|0,e[a>>2]=c,e[o+60>>2]=g,e[o+56>>2]=i,n=Ne(o,n,o+56|0),i=Z(72),e[i+4>>2]=0,e[i+8>>2]=0,c=e[o+72>>2],g=e[a>>2],a=e[a+4>>2],p=e[o+60>>2],_=e[o+56>>2],e[i+32>>2]=36,e[i+12>>2]=_,e[i+16>>2]=p,e[i+20>>2]=g,e[i+24>>2]=a,e[i+28>>2]=c,e[i>>2]=43792,fe(i+36|0,n),e[o+48>>2]=1,e[o+44>>2]=i,e[o+40>>2]=i,te(n),n=e[r+76>>2];e:{if(n>>>0<nt[r+80>>2]){e[n+8>>2]=1,e[n+4>>2]=i,e[n>>2]=i,e[r+76>>2]=n+12;break e}if(Kf(r+72|0,o+40|0),i=e[o+40>>2],!i)break e;for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);}return b=o+80|0,0}function IY(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0;r=b-16|0,b=r,g=e[i+16>>2],a=e[o+4>>2],i=e[o>>2],e[r>>2]=i,e[r+4>>2]=a,e[r+8>>2]=i,e[r+12>>2]=a;e:{if(!n)break e;if(a=e[g+120>>2],i=e[g+124>>2],a>>>0<i>>>0){o=e[r+4>>2],i=e[r>>2],e[a+8>>2]=n,e[a>>2]=i,e[a+4>>2]=o,e[g+120>>2]=a+12;break e}t:{if(p=e[g+116>>2],_=a-p|0,c=(_|0)/12|0,a=c+1|0,a>>>0>=357913942||(o=(i-p|0)/12|0,i=o<<1,i=o>>>0<178956970?i>>>0>a>>>0?i:a:357913941,i>>>0>=357913942))break t;if(a=H(i,12),v=Z(a),o=e[r+4>>2],i=e[r>>2],c=v+H(c,12)|0,e[c+8>>2]=n,e[c>>2]=i,e[c+4>>2]=o,i=c+H((_|0)/-12|0,12)|0,(_|0)>0&&Ce(i,p,_),e[g+124>>2]=a+v,e[g+120>>2]=c+12,e[g+116>>2]=i,!p)break e;P(p);break e}Be(),Ie()}return b=r+16|0,0}function sT(i,r,n,o,a,c){var g=0;g=b-80|0,b=g;e:{if((c|0)>=16384){if(on(g+32|0,r,n,o,a,0,0,0,2147352576),o=e[g+40>>2],a=e[g+44>>2],r=e[g+32>>2],n=e[g+36>>2],c>>>0<32767){c=c-16383|0;break e}on(g+16|0,r,n,o,a,0,0,0,2147352576),c=((c|0)<49149?c:49149)-32766|0,o=e[g+24>>2],a=e[g+28>>2],r=e[g+16>>2],n=e[g+20>>2];break e}if((c|0)>-16383)break e;if(on(g- -64|0,r,n,o,a,0,0,0,7471104),o=e[g+72>>2],a=e[g+76>>2],r=e[g+64>>2],n=e[g+68>>2],c>>>0>4294934644){c=c+16269|0;break e}on(g+48|0,r,n,o,a,0,0,0,7471104),c=((c|0)>-48920?c:-48920)+32538|0,o=e[g+56>>2],a=e[g+60>>2],r=e[g+48>>2],n=e[g+52>>2]}on(g,r,n,o,a,0,0,0,c+16383<<16),r=e[g+12>>2],e[i+8>>2]=e[g+8>>2],e[i+12>>2]=r,r=e[g+4>>2],e[i>>2]=e[g>>2],e[i+4>>2]=r,b=g+80|0}function vo(i,r,n){var o=0,a=0,c=0,g=0;o=b-128|0,b=o,c=fe(o+24|0,r),a=fe(o+88|0,c),r=e[a+24>>2];e:{t:{i:{n:{if(g=(e[i+188>>2]-e[i+184>>2]|0)/24|0,r>>>0>=g>>>0){if(e[o+8>>2]=g,e[o+4>>2]=r,e[o>>2]=1137,r=Ye(i,a,27451,o),te(a),!n)break e;if(r)break n;break i}if(te(a),n)break i;r=0;break e}e[o+80>>2]=0,e[o+84>>2]=0,e[o+72>>2]=0,e[o+76>>2]=0,e[o+64>>2]=0,e[o+68>>2]=0;break t}i=e[i+184>>2]+H(e[c+24>>2],24)|0,r=e[i+20>>2],e[o+80>>2]=e[i+16>>2],e[o+84>>2]=r,r=e[i+12>>2],e[o+72>>2]=e[i+8>>2],e[o+76>>2]=r,r=e[i+4>>2],e[o+64>>2]=e[i>>2],e[o+68>>2]=r,r=0}i=e[o+68>>2],e[n>>2]=e[o+64>>2],e[n+4>>2]=i,i=e[o+84>>2],e[n+16>>2]=e[o+80>>2],e[n+20>>2]=i,i=e[o+76>>2],e[n+8>>2]=e[o+72>>2],e[n+12>>2]=i}return te(c),b=o+128|0,r}function c8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;n=b-32|0,b=n,K_(n+16|0,r),r=y[n+27|0];e:{if((r<<24>>24<0?e[n+20>>2]:r)>>>0>80){g=b-16|0,b=g,e[g+12>>2]=77,o=n+16|0,r=d1(o),p=j0(o),e[g+4>>2]=r,c=b-16|0,b=c,a=g+4|0,o=g+12|0,r=Z5(a,o),b=c+16|0,c=b-16|0,b=c;t:{if(a=e[(r?a:o)>>2],a>>>0<=4294967279){i:{if(a>>>0<=10){g1(n,a),r=n;break i}o=cp(a)+1|0,r=Z(o),vp(n,r),Ap(n,o),Jc(n,a)}R2(r,p,a),S[c+15|0]=0,$o(r+a|0,c+15|0),b=c+16|0;break t}Nr(),Ie()}if(b=g+16|0,o=Pn(n,26640),r=e[o+4>>2],e[i>>2]=e[o>>2],e[i+4>>2]=r,e[i+8>>2]=e[o+8>>2],e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,S[n+11|0]<0&&P(e[n>>2]),S[n+27|0]>=0)break e;P(e[n+16>>2]);break e}r=e[n+20>>2],e[i>>2]=e[n+16>>2],e[i+4>>2]=r,e[i+8>>2]=e[n+24>>2]}b=n+32|0}function xY(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0,x=0;c=b+-64|0,b=c,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return p=e[i+8>>2],g=25094,g=n>>>0<=4?e[(n<<2)+58448>>2]:g,_=e[o>>2],v=e[o+4>>2],L=c,x=Ls(e[a>>2],e[a+4>>2]),e[L+32>>2]=x,e[c+36>>2]=At,e[c+20>>2]=g,e[c+16>>2]=r,L=c,x=Ls(_,v),e[L+24>>2]=x,e[c+28>>2]=At,ee(p,35520,c+16|0),i=e[i+12>>2],g=e[o+4>>2],p=e[o>>2],e[c+56>>2]=p,e[c+60>>2]=g,o=e[a+4>>2],a=e[a>>2],e[c+48>>2]=a,e[c+52>>2]=o,_=e[e[i>>2]+68>>2],e[c+8>>2]=p,e[c+12>>2]=g,e[c>>2]=a,e[c+4>>2]=o,i=F[_|0](i,r,n,c+8|0,c)|0,b=c- -64|0,i|0}function rT(i,r,n,o){var a=0,c=0,g=0,p=0;a=b+-64|0,b=a;e:{if(!o){o=0;break e}if(g=e[i+12>>2],c=e[g+136>>2],e[g+140>>2]-c>>2>>>0<=r>>>0){e[a>>2]=r,Yt(i,5353,a),o=1;break e}c=e[c+(r<<2)>>2],p=a+8|0,ia(p,n,o),Ea(a+32|0,g+296|0,p),S[a+19|0]<0&&P(e[a+8>>2]);t:{if((c|0)==(a+32|0))break t;if(o=y[a+43|0],n=o<<24>>24,S[c+11|0]>=0){if((n|0)>=0){n=e[a+36>>2],e[c>>2]=e[a+32>>2],e[c+4>>2]=n,e[c+8>>2]=e[a+40>>2];break t}Er(c,e[a+32>>2],e[a+36>>2]);break t}n=(n|0)<0,So(c,n?e[a+32>>2]:a+32|0,n?e[a+36>>2]:o)}if(i=e[i+12>>2],o=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+28>>2]=r,i=i+296|0,gn(a+48|0,i,a+32|0,a+8|0),ln(i,e[a+48>>2]),S[a+43|0]>=0)break e;P(e[a+32>>2])}return b=a- -64|0,o}function oT(i,r,n,o){var a=0,c=0,g=0,p=0;a=b+-64|0,b=a;e:{if(!o){o=0;break e}if(g=e[i+12>>2],c=e[g+88>>2],e[g+92>>2]-c>>2>>>0<=r>>>0){e[a>>2]=r,Yt(i,5306,a),o=1;break e}c=e[c+(r<<2)>>2],p=a+8|0,ia(p,n,o),Ea(a+32|0,g+236|0,p),S[a+19|0]<0&&P(e[a+8>>2]);t:{if((c|0)==(a+32|0))break t;if(o=y[a+43|0],n=o<<24>>24,S[c+11|0]>=0){if((n|0)>=0){n=e[a+36>>2],e[c>>2]=e[a+32>>2],e[c+4>>2]=n,e[c+8>>2]=e[a+40>>2];break t}Er(c,e[a+32>>2],e[a+36>>2]);break t}n=(n|0)<0,So(c,n?e[a+32>>2]:a+32|0,n?e[a+36>>2]:o)}if(i=e[i+12>>2],o=0,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+28>>2]=r,i=i+236|0,gn(a+48|0,i,a+32|0,a+8|0),ln(i,e[a+48>>2]),S[a+43|0]>=0)break e;P(e[a+32>>2])}return b=a- -64|0,o}function b2(i,r,n){var o=0,a=0;o=b-96|0,b=o;e:{t:{i:{if((we(i,0)|0)!=26||(we(i,1)|0)!=27)break i;if(!y[e[i+12>>2]+15|0]){e[o+24>>2]=e[r+16>>2],n=e[r+12>>2],e[o+16>>2]=e[r+8>>2],e[o+20>>2]=n,n=e[r+4>>2],e[o+8>>2]=e[r>>2],e[o+12>>2]=n,Kt(i,o+8|0,16368,0),r=1;break e}if(r=1,(Ve(i,26)|0)==1||(Ve(i,27)|0)==1||(qt(i,n)|0)==1)break e;if((Ve(i,39)|0)!=1)break t;break e}a=Ne(o+56|0,0,r);i:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break i;if(qt(i,n),n=y[e[i+12>>2]+15|0],te(a),n)break t;e[o+48>>2]=e[r+16>>2],n=e[r+12>>2],e[o+40>>2]=e[r+8>>2],e[o+44>>2]=n,n=e[r+4>>2],e[o+32>>2]=e[r>>2],e[o+36>>2]=n,Kt(i,o+32|0,16368,0),r=1;break e}Di(n,a),te(a)}r=0}return b=o+96|0,r}function lT(i,r,n){var o=0,a=0,c=0,g=0;o=e[r+4>>2],e[i+96>>2]=e[r>>2],e[i+100>>2]=o,e[i+112>>2]=e[r+16>>2],o=e[r+12>>2],e[i+104>>2]=e[r+8>>2],e[i+108>>2]=o,r=b+-64|0,b=r,i=i+24|0,o=e[i+36>>2],n=e[n+24>>2],a=(e[i+40>>2]-o|0)/36|0;e:{t:{if(n>>>0>=a>>>0){e[r+16>>2]=n,e[r+20>>2]=a-1,xt(i,27759,r+16|0);break t}if(n=o+H(a+(n^-1)|0,36)|0,n=(e[n>>2]==3?4:16)+n|0,a=(eo(i,n,15294)|0)==1,o=e[i+48>>2],!o){e[i+48>>2]=n;break e}if((e[o+4>>2]-e[o>>2]|0)==(e[n+4>>2]-e[n>>2]|0))break e;if(a=r+48|0,$c(a,o,0),o=e[r+48>>2],g=S[r+59|0],c=r+32|0,$c(c,n,0),e[r>>2]=(g|0)<0?o:a,e[r+4>>2]=S[r+43|0]<0?e[r+32>>2]:c,xt(i,9494,r),S[r+43|0]<0&&P(e[r+32>>2]),S[r+59|0]>=0)break t;P(e[r+48>>2])}a=1}return b=r- -64|0,a}function aT(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0;c=b-16|0,b=c,g=e[i+4>>2],p=e[g+8>>2],a=e[i+32>>2],_=Ge(a),o=Z(104),e[o+4>>2]=0,e[o+8>>2]=0,e[o+36>>2]=a,e[o>>2]=41088,e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+28>>2]=0,e[o+32>>2]=17,e[o+88>>2]=0,e[o+72>>2]=r,e[o+56>>2]=n,e[o+60>>2]=-1,e[o+48>>2]=0,e[o+52>>2]=0,e[o+44>>2]=p,e[o+40>>2]=_,r=e[g+8>>2],n=Ge(a),e[o+24>>2]=0,e[o+28>>2]=0,e[o+20>>2]=r,e[o+16>>2]=n,e[o+12>>2]=a,a=e[i+24>>2],r=e[i+20>>2],n=(a-r|0)/12|0;e:{if((r|0)!=(a|0)){r=e[(r+H(n,12)|0)-8>>2],i=r,n=e[r+4>>2],n&&(e[o+8>>2]=n,i=n+4|0),e[i>>2]=o,e[r+4>>2]=o,e[r+8>>2]=e[r+8>>2]+1,i=0;break e}e[c+4>>2]=n,e[c>>2]=0,Yt(i,15800,c),F[e[e[o>>2]+4>>2]](o),i=1}return b=c+16|0,i}function EY(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0;return c=b-80|0,b=c,g=Ph(c+56|0,0),S[c+47|0]=0,S[c+48|0]=0,S[c+43|0]=0,S[c+44|0]=0,S[c+45|0]=0,S[c+46|0]=0,S[c+41|0]=1,S[c+42|0]=1,S[c+33|0]=1,S[c+34|0]=1,S[c+35|0]=1,S[c+36|0]=1,S[c+37|0]=0,S[c+38|0]=0,S[c+39|0]=1,S[c+40|0]=0,S[c+32|0]=0,S[c+51|0]=(a|0)!=0,S[c+50|0]=(o|0)!=0,S[c+49|0]=(n|0)!=0,o=Ph(c+8|0,r?g:0),n=Z(12),e[n+4>>2]=0,e[n+8>>2]=0,i=_k(o,i,c+32|0),e[n>>2]=i,i||(p=n,_=Bh(o),e[p+4>>2]=_,r?i=Bh(g):i=0,e[n+8>>2]=i),e[o>>2]=48944,i=e[o+16>>2],e[o+16>>2]=0,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),e[g>>2]=48944,i=e[g+16>>2],e[g+16>>2]=0,i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i)),b=c+80|0,n|0}function yh(i,r,n,o){var a=0,c=0,g=0,p=0;a=b-80|0,b=a,c=e[e[i+4>>2]+8>>2],g=e[i+32>>2],e[a+28>>2]=0,e[a+32>>2]=0,p=Ge(g),e[a+24>>2]=c,e[a+20>>2]=p,e[a+16>>2]=g,g=Ne(a+40|0,r,a+16|0),r=Z(72),e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=o,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+28>>2]=0,e[r+32>>2]=n,fe(r+36|0,g),n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=c,e[r+12>>2]=o,c=e[i+24>>2],n=e[i+20>>2],o=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){n=e[(n+H(o,12)|0)-8>>2],i=n,o=e[n+4>>2],o&&(e[r+8>>2]=o,i=o+4|0),e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1,i=0;break e}e[a+4>>2]=o,e[a>>2]=0,Yt(i,15800,a),F[e[e[r>>2]+4>>2]](r),i=1}return te(g),b=a+80|0,i}function jc(i,r,n){var o=0,a=0,c=0;e:{t:{i:{if(i>>>0>=r>>>0||(o=y[i|0],o&128))break i;i=o<<25>>25,o=1;break t}i:{if(i+1>>>0>=r>>>0||(o=y[i+1|0],o&128))break i;i=((y[i|0]&127)<<18|o<<25)>>18,o=2;break t}i:{if(i+2>>>0>=r>>>0||(o=y[i+2|0],o&128))break i;i=((y[i|0]&127)<<11|(y[i+1|0]&127)<<18|o<<25)>>11,o=3;break t}i:{if(i+3>>>0>=r>>>0||(o=y[i+3|0],o&128))break i;i=((y[i|0]&127)<<4|(y[i+1|0]&127)<<11|(y[i+2|0]&127)<<18|o<<25)>>4,o=4;break t}if(o=0,i+4>>>0>=r>>>0||(a=y[i+4|0],a&128)||(c=a&8,r=a&240,((r|0)!=112?c:0)|!(!r||c)))break e;i=y[i|0]&127|(y[i+1|0]&127)<<7|(y[i+2|0]&127)<<14|(y[i+3|0]&127)<<21|a<<28,o=5}e[n>>2]=i}return o}function u8(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0,j=0,X=0,se=0;_=b-16|0,b=_;e:{if(e[r+20>>2]!=1)break e;L=r+24|0,o=y[r+35|0],M=o<<24>>24,V=e[i+72>>2],a=e[i+76>>2]-V|0,j=(a|0)/12|0;t:{if((a|0)>0)for(X=(M|0)<0,x=X?e[r+28>>2]:o,o=j;;){a=o,o=a-1|0,n=H(o,12)+V|0,c=y[n+11|0],se=c<<24>>24,g=(se|0)<0;i:{if(((g?e[n+4>>2]:c)|0)!=(x|0))break i;if(p=X?e[L>>2]:L,v=e[n>>2],!g){if(!se)break t;if(y[p|0]!=(v&255))break i;for(;;){if(c=c-1|0,!c)break t;if(g=y[p+1|0],v=y[n+1|0],n=n+1|0,p=p+1|0,(g|0)!=(v|0))break}break i}if(!x||!En(g?v:n,p,x))break t}if(!((a|0)>1))break}e[_>>2]=(M|0)<0?e[r+24>>2]:L,ss(i,r,28298,_);break e}As(r,j-a|0)}b=_+16|0}function Di(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;o=b-16|0,b=o,n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n,e[i+16>>2]=e[r+16>>2],n=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=n,a=r+24|0;e:{t:{if(!e[r+20>>2]){r=e[a>>2],e[i+20>>2]!=1|S[i+35|0]>=0||P(e[i+24>>2]),e[i+24>>2]=r,e[i+20>>2]=0;break t}if(n=y[r+35|0],c=n<<24>>24<0,n=c?e[r+28>>2]:n,n>>>0>=4294967280)break e;p=e[r+24>>2];i:{n:{if(n>>>0>=11){g=n+16&-16,r=Z(g),e[o+8>>2]=g|-2147483648,e[o>>2]=r,e[o+4>>2]=n;break n}if(S[o+11|0]=n,r=o,!n)break i}Ce(r,c?p:a,n)}S[r+n|0]=0,e[i+20>>2]!=1|S[i+35|0]>=0||P(e[i+24>>2]),e[i+20>>2]=1,r=e[o+4>>2],e[i+24>>2]=e[o>>2],e[i+28>>2]=r,e[i+32>>2]=e[o+8>>2]}return b=o+16|0,i}Be(),Ie()}function cT(i,r,n,o,a){var c=0,g=0,p=0,_=0;if(!(e[r>>2]!=-21|e[r+4>>2]!=-1)){e:{if(!a)break e;g=rs(a),c=a-1&n;t:{if(g>>>0<=1||(c=n,n>>>0<a>>>0))break t;c=(n>>>0)%(a>>>0)|0}if(o=e[(c<<2)+o>>2],!o||(o=e[o>>2],!o))break e;p=c;t:{if(g>>>0<=1){for(a=a-1|0;;){c=e[o+4>>2];i:{if((c|0)!=(n|0)){if((a&c)!=(p|0))break e;break i}if(e[o+8>>2]==(n|0))break t}if(o=e[o>>2],!o)break}break e}for(;;){c=e[o+4>>2];i:{if((c|0)!=(n|0)){if(a>>>0<=c>>>0&&(c=(c>>>0)%(a>>>0)|0),(c|0)!=(p|0))break e;break i}if(e[o+8>>2]==(n|0))break t}if(o=e[o>>2],!o)break}break e}_=o}i=Br(i+276|0,_+12|0),i?(n=-21,i=e[i+40>>2]):(n=-21,i=-1),e[r>>2]=n,e[r+4>>2]=i}}function NY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;return c=b-48|0,b=c,g=fe(c+8|0,r+36|0),n=b-144|0,b=n,e[n+48>>2]=15,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n+80|0,n+48|0),e[n>>2]=e[n+80>>2],Ye(o,r,9809,n)),r=n- -64|0,e[r>>2]=0,e[r+4>>2]=0,e[n+56>>2]=0,e[n+60>>2]=0,e[n+48>>2]=0,e[n+52>>2]=0,r=fe(n+8|0,g),p=fe(n+80|0,r),_=n+48|0,v=yk(o,p,o+160|0,_),te(p),te(r),o=bR(o+24|0,_,n+60|0),r=e[n+60>>2],r&&(e[n- -64>>2]=r,P(r)),r=e[n+48>>2],r&&(e[n+52>>2]=r,P(r)),b=n+144|0,e[i+316>>2]=(v|0)==1|(a|0)!=0|(o|0)==1|e[i+316>>2]==1,te(g),b=c+48|0,0}function uT(i,r,n){var o=0,a=0,c=0;a=b-16|0,b=a;e:{if(S[r+55|0]>=0){o=r+44|0,c=e[o+4>>2],e[i>>2]=e[o>>2],e[i+4>>2]=c,e[i+8>>2]=e[r+52>>2];break e}Ni(i,e[r+44>>2],e[r+48>>2])}Qs(i,46),h1(a,e[r+64>>2]),r=y[a+11|0],o=r<<24>>24<0,Mn(i,o?e[a>>2]:a,o?e[a+4>>2]:r),S[a+11|0]<0&&P(e[a>>2]),Pn(i,n),n=y[i+11|0],r=n<<24>>24<0,o=r?e[i+4>>2]:n;e:{if(!o)break e;if(n=r?e[i>>2]:i,i=n,c=o&3,c)for(r=0,i=n;y[i|0]==92&&(S[i|0]=47),i=i+1|0,r=r+1|0,(c|0)!=(r|0););if(o-1>>>0<3)break e;for(r=n+o|0;y[i|0]==92&&(S[i|0]=47),y[i+1|0]==92&&(S[i+1|0]=47),y[i+2|0]==92&&(S[i+2|0]=47),y[i+3|0]==92&&(S[i+3|0]=47),i=i+4|0,(r|0)!=(i|0););}b=a+16|0}function Vk(i,r,n,o,a,c){var g=0;g=b-160|0,b=g,e[g+88>>2]=n,n=e[o>>2];e:{if((n|0)>=0){if(e[g+72>>2]=0,e[g+76>>2]=0,o=g- -64|0,e[o>>2]=0,e[o+4>>2]=0,e[g+56>>2]=0,e[g+60>>2]=0,o=Ne(g+16|0,n,r),n=Xf(i,o,g+56|0),te(o),o=(n|0)==1,y[i+7|0]|e[g+56>>2]==e[g+60>>2]||(xe(g+96|0,g+88|0),e[g>>2]=e[g+96>>2],o=(n|0)==1|(Ye(i,r,26462,g)|0)==1),(g+56|0)!=(a|0)&&or(a,e[g+56>>2],e[g+60>>2]),(g+68|0)!=(c|0)&&or(c,e[g+68>>2],e[g+72>>2]),i=e[g+68>>2],i&&(e[g+72>>2]=i,P(i)),i=e[g+56>>2],!i)break e;e[g+60>>2]=i,P(i);break e}e[a+4>>2]=e[a>>2],JT(g+96|0,o),i=e[c>>2],i&&(e[c+4>>2]=i,P(i)),e[c>>2]=e[g+96>>2],e[c+4>>2]=e[g+100>>2],e[c+8>>2]=e[g+104>>2],o=0}return b=g+160|0,o}function Zc(i,r,n){var o=0,a=0,c=0,g=0,p=0;c=e[r>>2],g=e[c+20>>2],o=e[i>>2],a=e[o+20>>2];e:{t:{if(!((g|0)<(a|0)|(g|0)==(a|0)&e[c+24>>2]<e[o+24>>2])){if(o=e[n>>2],p=e[o+20>>2],(p|0)>=(g|0)&&(a=0,(g|0)!=(p|0)|e[o+24>>2]>=e[c+24>>2])||(e[r>>2]=o,e[n>>2]=c,n=e[r>>2],c=e[n+20>>2],o=e[i>>2],g=e[o+20>>2],(c|0)>=(g|0)&&(a=1,(c|0)!=(g|0)|e[n+24>>2]>=e[o+24>>2])))break e;e[i>>2]=n,e[r>>2]=o;break t}if(a=e[n>>2],p=e[a+20>>2],!((p|0)>=(g|0)&((g|0)!=(p|0)|e[a+24>>2]>=e[c+24>>2])))return e[i>>2]=a,e[n>>2]=o,1;if(e[i>>2]=c,e[r>>2]=o,i=e[n>>2],c=e[i+20>>2],g=e[o+20>>2],(c|0)>=(g|0)&&(a=1,(c|0)!=(g|0)|e[i+24>>2]>=e[o+24>>2]))break e;e[r>>2]=i,e[n>>2]=o}a=2}return a}function hT(i,r){var n=0,o=0,a=0,c=0,g=0;e:{t:{i:{if(o=e[i>>2],g=e[i+4>>2]-o>>2,a=g+1|0,a>>>0>=1073741824)break i;if(o=e[i+8>>2]-o|0,c=o>>1,o=o>>>0<2147483644?a>>>0<c>>>0?c:a:1073741823,o){if(o>>>0>=1073741824)break i;n=Z(o<<2)}if(c=e[r>>2],e[r>>2]=0,a=(g<<2)+n|0,e[a>>2]=c,o=(o<<2)+n|0,g=a+4|0,r=e[i>>2],n=e[i+4>>2],(r|0)==(n|0))break t;for(;n=n-4|0,c=e[n>>2],e[n>>2]=0,a=a-4|0,e[a>>2]=c,(r|0)!=(n|0););if(e[i+8>>2]=o,n=e[i+4>>2],e[i+4>>2]=g,r=e[i>>2],e[i>>2]=a,(r|0)==(n|0))break e;for(;n=n-4|0,i=e[n>>2],e[n>>2]=0,i&&F[e[e[i>>2]+4>>2]](i),(r|0)!=(n|0););break e}Be(),Ie()}e[i+8>>2]=o,e[i+4>>2]=g,e[i>>2]=a}r&&P(r)}function Hk(i,r,n,o){var a=0,c=0,g=0;a=b-112|0,b=a,e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,g=Ne(a+32|0,r,a+8|0),r=Z(72),c=fe(a+72|0,g),e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=0,e[r+32>>2]=o,e[r>>2]=n,fe(r+36|0,c),te(c),n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=c,e[r+12>>2]=o,c=e[i+24>>2],n=e[i+20>>2],o=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){n=e[(n+H(o,12)|0)-8>>2],i=n,o=e[n+4>>2],o&&(e[r+8>>2]=o,i=o+4|0),e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1,i=0;break e}e[a+4>>2]=o,e[a>>2]=0,Yt(i,15800,a),F[e[e[r>>2]+4>>2]](r),i=1}return te(g),b=a+112|0,i}function dT(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;n=b-32|0,b=n,c=1;e:{if((Ra(i,n+24|0,14398)|0)==1)break e;o=e[i+88>>2],p=e[n+28>>2];t:{i:{n:{s:{r:switch(a=e[n+24>>2],a+21|0){case 17:case 18:case 19:case 20:break i;case 4:case 5:break n;case 16:break s;case 0:break r;default:break t}if(!y[o+6|0])break t;break i}if(y[o+4|0])break i;break t}if(!y[o+10|0])break t}if(o=e[i+12>>2],g=o+1|0,g>>>0>nt[i>>2]){e[n+20>>2]=1116,e[n+16>>2]=7319,Q(i,9787,n+16|0);break e}if(o=y[o+e[i+4>>2]|0],e[i+12>>2]=g,o>>>0>=2){Q(i,25943,0);break e}e[r>>2]=a,e[r+4>>2]=p,c=0,S[r+8|0]=(o|0)!=0;break e}e[n>>2]=(a|0)<0?26758:35624,r=a>>31,e[n+4>>2]=(r^a)-r,Q(i,27006,n)}return b=n+32|0,c}function fT(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0,V=0;o=b-48|0,b=o,g=e[r+4>>2],v=e[r>>2],a=g-v>>3,x=e[n>>2];e:{if((a|0)==e[n+4>>2]-x>>3){if(c=0,(g|0)==(v|0))break e;for(V=a>>>0>1?a:1;;){a=L<<3,g=a+x|0,c=e[g>>2],g=e[g+4>>2],p=0;t:{if(!c||(_=a+v|0,a=e[_>>2],_=e[_+4>>2],p=0,!a)||(p=(g|0)!=(_|0),!((c|0)!=-21|(a|0)!=-21)))break t;p=(a|0)!=(c|0)}if(M=p|(M|0)==1,L=L+1|0,(V|0)==(L|0))break}if(c=0,!M)break e}c=o+32|0,$c(c,n,0),n=e[o+32>>2],a=S[o+43|0],g=o+16|0,$c(g,r,0),e[o>>2]=(a|0)<0?n:c,e[o+4>>2]=S[o+27|0]<0?e[o+16>>2]:g,xt(i,9555,o),S[o+27|0]<0&&P(e[o+16>>2]),S[o+43|0]<0&&P(e[o+32>>2]),c=1}return b=o+48|0,c}function TY(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0;return c=b+-64|0,b=c,g=e[e[i+4>>2]+8>>2],a=e[i+32>>2],p=Ge(a),r=Z(120),e[r+12>>2]=a,a=r,e[a+4>>2]=0,e[a+8>>2]=0,e[a+32>>2]=6,e[a+36>>2]=0,e[a>>2]=46156,e[a+24>>2]=0,e[a+28>>2]=0,e[a+20>>2]=g,e[a+16>>2]=p,S[a+51|0]=0,S[a+40|0]=0,e[c+40>>2]=0,r=c,e[r+32>>2]=0,e[r+36>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0,g=r+24|0,p=Ne(a+52|0,-1,g),e[a+112>>2]=0,e[a+116>>2]=0,e[a+104>>2]=0,e[a+108>>2]=0,e[a+96>>2]=0,e[a+100>>2]=0,_=e[e[i+4>>2]+8>>2],c=e[i+32>>2],e[r+12>>2]=0,e[r+16>>2]=0,v=Ge(c),e[r+8>>2]=_,e[r+4>>2]=v,e[r>>2]=c,n=Ne(g,n,r),Di(p,n),te(n),e[a+36>>2]=(o&3)==3?2:o&1,n8(e[i+12>>2],a),b=r- -64|0,0}function ko(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;if(y[r|0])return di(i+276|0,r+4|0);if(c=e[i+124>>2],i=e[i+128>>2],(c|0)!=(i|0))for(i=i-c>>2,_=i>>>0>1?i:1,g=e[r+52>>2],v=e[r+56>>2]-g|0,p=e[r+40>>2],L=e[r+44>>2]-p|0;;){e:{if(o=e[(a<<2)+c>>2],e[o+36>>2]|!o||(n=e[o+44>>2],r=e[o+40>>2],(n-r|0)!=(L|0)))break e;if(i=p,(r|0)!=(n|0))for(;;){if(e[r>>2]!=e[i>>2])break e;if(i=i+8|0,r=r+8|0,(n|0)==(r|0))break}if(n=e[o+56>>2],r=e[o+52>>2],(n-r|0)!=(v|0))break e;if(i=g,(r|0)==(n|0))return a;for(;;){if(e[r>>2]!=e[i>>2])break e;if(i=i+8|0,r=r+8|0,(n|0)==(r|0))break}return a}if(a=a+1|0,(_|0)==(a|0))break}return-1}function RY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;return g=b-80|0,b=g,p=fe(g+40|0,r+36|0),_=fe(g,r+72|0),n=b-160|0,b=n,e[n+88>>2]=204,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n+96|0,n+88|0),e[n>>2]=e[n+96>>2],Ye(o,r,9809,n)),S[n+111|0]=0,S[n+112|0]=0,S[n+113|0]=0,S[n+114|0]=0,e[n+104>>2]=0,e[n+108>>2]=0,e[n+96>>2]=0,e[n+100>>2]=0,c=fe(n+48|0,p),r=n+96|0,v=vo(o,c,r),te(c),c=fe(n+8|0,_),L=vo(o,c,r),te(c),r=bh(o+24|0,204,r,r,r),b=n+160|0,e[i+316>>2]=(v|0)==1|(a|0)!=0|(L|0)==1|(r|0)==1|e[i+316>>2]==1,te(_),te(p),b=g+80|0,0}function MY(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0;a=b+-64|0,b=a,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=e[r>>2],p=e[r+4>>2],_=e[n+4>>2],v=e[n>>2],e[a+32>>2]=o,L=a,x=Ls(v,_),e[L+24>>2]=x,e[a+28>>2]=At,L=a,x=Ls(g,p),e[L+16>>2]=x,e[a+20>>2]=At,ee(c,29838,a+16|0),i=e[i+12>>2],c=e[r+4>>2],g=e[r>>2],e[a+56>>2]=g,e[a+60>>2]=c,r=e[n+4>>2],n=e[n>>2],e[a+48>>2]=n,e[a+52>>2]=r,p=e[e[i>>2]+740>>2],e[a+8>>2]=g,e[a+12>>2]=c,e[a>>2]=n,e[a+4>>2]=r,i=F[p|0](i,a+8|0,a,o)|0,b=a- -64|0,i|0}function qe(i,r,n){var o=0,a=0,c=0;e:{t:{i:{if(i>>>0>=r>>>0||(o=y[i|0],o&128))break i;o=o&127,a=1;break t}i:{if(i+1>>>0>=r>>>0||(o=y[i+1|0],o&128))break i;o=o<<7&16256|y[i|0]&127,a=2;break t}i:{if(i+2>>>0>=r>>>0||(o=y[i+2|0],o&128))break i;o=o<<14&2080768|(y[i|0]&127|(y[i+1|0]&127)<<7),a=3;break t}i:{if(i+3>>>0>=r>>>0||(o=y[i+3|0],o&128))break i;o=o<<21&266338304|(y[i|0]&127|(y[i+1|0]&127)<<7|(y[i+2|0]&127)<<14),a=4;break t}if(o=0,a=0,i+4>>>0>=r>>>0||(c=y[i+4|0],a=0,c&128))break t;if(r=0,c&240)break e;o=y[i|0]&127|(y[i+1|0]&127)<<7|(y[i+2|0]&127)<<14|(y[i+3|0]&127)<<21|c<<28,a=5}r=a,e[n>>2]=o}return r}function Uk(i,r){var n=0,o=0,a=0;return a=b-16|0,b=a,Kk(i,r)||(n=Z(16),r=y[10235]|y[10236]<<8|(y[10237]<<16|y[10238]<<24),o=y[10231]|y[10232]<<8|(y[10233]<<16|y[10234]<<24),S[n+6|0]=o,S[n+7|0]=o>>>8,S[n+8|0]=o>>>16,S[n+9|0]=o>>>24,S[n+10|0]=r,S[n+11|0]=r>>>8,S[n+12|0]=r>>>16,S[n+13|0]=r>>>24,r=y[10229]|y[10230]<<8|(y[10231]<<16|y[10232]<<24),o=y[10225]|y[10226]<<8|(y[10227]<<16|y[10228]<<24),S[n|0]=o,S[n+1|0]=o>>>8,S[n+2|0]=o>>>16,S[n+3|0]=o>>>24,S[n+4|0]=r,S[n+5|0]=r>>>8,S[n+6|0]=r>>>16,S[n+7|0]=r>>>24,S[n+14|0]=0,r=Z(12),e[a>>2]=r,o=r+12|0,e[a+8>>2]=o,Ni(r,n,14),e[a+4>>2]=o,o=Cn(i,a,27880),S[r+11|0]<0&&P(e[r>>2]),P(r),P(n)),b=a+16|0,o}function gT(i,r){var n=0,o=0,a=0;n=b-48|0,b=n,be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],1137,6,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,a=y[r+11|0],o=a<<24>>24<0,a=o?e[r+4>>2]:a;e:{if(a){Ki(i,o?e[r>>2]:r,a,1);break e}e[n+32>>2]=e[i+136>>2],yt(i,27848,n+32|0)}jm(i,2,e[i+136>>2]),Jm(i,2,e[i+136>>2]),y[r+34|0]&&yt(i,25406,0),o=e[r+20>>2],e[n+16>>2]=e[r+16>>2],e[n+20>>2]=o,yt(i,2841,n+16|0),y[r+32|0]&&(o=e[r+28>>2],e[n>>2]=e[r+24>>2],e[n+4>>2]=o,yt(i,2841,n)),y[r+33|0]&&yt(i,16938,0),e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,e[i+136>>2]=e[i+136>>2]+1,b=n+48|0}function mT(i,r,n){var o=0,a=0,c=0,g=0,p=0,_=0;o=b-32|0,b=o,e[o+24>>2]=-64,e[o+28>>2]=-1,g=1;e:{if((Ra(i,o+24|0,14202)|0)==1)break e;a=e[i+88>>2],_=e[o+28>>2];t:{i:{n:{s:{r:switch(c=e[o+24>>2],c+21|0){case 17:case 18:case 19:case 20:break i;case 4:case 5:break n;case 16:break s;case 0:break r;default:break t}if(!y[a+6|0])break t;break i}if(y[a+4|0])break i;break t}if(!y[a+10|0])break t}if(a=e[i+12>>2],p=a+1|0,p>>>0>nt[i>>2]){e[o+20>>2]=1098,e[o+16>>2]=7319,Q(i,9787,o+16|0);break e}if(a=y[a+e[i+4>>2]|0],e[i+12>>2]=p,a>>>0>=2){Q(i,25910,0);break e}e[r>>2]=c,e[r+4>>2]=_,g=0,S[n|0]=(a|0)!=0;break e}e[o>>2]=c,Q(i,2583,o)}return b=o+32|0,g}function PY(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0;return c=b+-64|0,b=c,g=e[e[i+4>>2]+8>>2],a=e[i+32>>2],p=Ge(a),r=Z(112),e[r+12>>2]=a,a=r,e[a+4>>2]=0,e[a+8>>2]=0,e[a+32>>2]=8,e[a+36>>2]=0,e[a>>2]=46280,e[a+24>>2]=0,e[a+28>>2]=0,e[a+20>>2]=g,e[a+16>>2]=p,S[a+51|0]=0,S[a+40|0]=0,e[c+40>>2]=0,r=c,e[r+32>>2]=0,e[r+36>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0,g=r+24|0,p=Ne(a+52|0,-1,g),e[a+104>>2]=0,e[a+108>>2]=0,e[a+96>>2]=0,e[a+100>>2]=0,e[a+88>>2]=0,e[a+92>>2]=0,_=e[e[i+4>>2]+8>>2],c=e[i+32>>2],e[r+12>>2]=0,e[r+16>>2]=0,v=Ge(c),e[r+8>>2]=_,e[r+4>>2]=v,e[r>>2]=c,n=Ne(g,n,r),Di(p,n),te(n),e[a+36>>2]=o&1,i8(e[i+12>>2],a),b=r- -64|0,0}function pT(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;c=b-16|0,b=c,p=e[i+4>>2],_=e[p+8>>2],g=e[i+32>>2],v=Ge(g),a=Z(104),e[a+32>>2]=17,e[a+4>>2]=0,e[a+8>>2]=0,e[a+36>>2]=g,e[a>>2]=41088,e[a+88>>2]=0,e[a+72>>2]=r,e[a+76>>2]=n,e[a+56>>2]=o,e[a+60>>2]=-1,e[a+48>>2]=0,e[a+52>>2]=0,e[a+44>>2]=_,e[a+40>>2]=v,r=e[p+8>>2],n=Ge(g),e[a+24>>2]=0,e[a+28>>2]=0,e[a+20>>2]=r,e[a+16>>2]=n,e[a+12>>2]=g,o=e[i+24>>2],r=e[i+20>>2],n=(o-r|0)/12|0;e:{if((r|0)!=(o|0)){r=e[(r+H(n,12)|0)-8>>2],i=r,n=e[r+4>>2],n&&(e[a+8>>2]=n,i=n+4|0),e[i>>2]=a,e[r+4>>2]=a,e[r+8>>2]=e[r+8>>2]+1,i=0;break e}e[c+4>>2]=n,e[c>>2]=0,Yt(i,15800,c),F[e[e[a>>2]+4>>2]](a),i=1}return b=c+16|0,i}function ea(i,r,n,o){var a=0,c=0,g=0;a=b-80|0,b=a,e[a+32>>2]=0,e[a+24>>2]=0,e[a+28>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,g=Ne(a+40|0,r,a+16|0),r=Z(72),e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=o,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+28>>2]=0,e[r+32>>2]=n,fe(r+36|0,g),n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=n,e[r+16>>2]=c,e[r+12>>2]=o,c=e[i+24>>2],n=e[i+20>>2],o=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){n=e[(n+H(o,12)|0)-8>>2],i=n,o=e[n+4>>2],o&&(e[r+8>>2]=o,i=o+4|0),e[i>>2]=r,e[n+4>>2]=r,e[n+8>>2]=e[n+8>>2]+1,i=0;break e}e[a+4>>2]=o,e[a>>2]=0,Yt(i,15800,a),F[e[e[r>>2]+4>>2]](r),i=1}return te(g),b=a+80|0,i}function AT(i,r,n){var o=0,a=0,c=0;a=b-16|0,b=a,o=e[i+12>>2];e:{if(nt[i>>2]<o+16>>>0){e[a+4>>2]=n,e[a>>2]=25249,Q(i,9787,a),i=1;break e}n=e[i+4>>2]+o|0,o=y[n+4|0]|y[n+5|0]<<8|(y[n+6|0]<<16|y[n+7|0]<<24),c=y[n|0]|y[n+1|0]<<8|(y[n+2|0]<<16|y[n+3|0]<<24),S[r|0]=c,S[r+1|0]=c>>>8,S[r+2|0]=c>>>16,S[r+3|0]=c>>>24,S[r+4|0]=o,S[r+5|0]=o>>>8,S[r+6|0]=o>>>16,S[r+7|0]=o>>>24,o=y[n+12|0]|y[n+13|0]<<8|(y[n+14|0]<<16|y[n+15|0]<<24),n=y[n+8|0]|y[n+9|0]<<8|(y[n+10|0]<<16|y[n+11|0]<<24),S[r+8|0]=n,S[r+9|0]=n>>>8,S[r+10|0]=n>>>16,S[r+11|0]=n>>>24,S[r+12|0]=o,S[r+13|0]=o>>>8,S[r+14|0]=o>>>16,S[r+15|0]=o>>>24,e[i+12>>2]=e[i+12>>2]+16,i=0}return b=a+16|0,i}function OY(i){i=i|0;var r=0,n=0,o=0,a=0,c=0;n=b-32|0,b=n,r=Z(72),e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=40688,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+28>>2]=0,e[r+32>>2]=14,e[n+24>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,Ne(r+36|0,-1,n+8|0),o=e[e[i+4>>2]+8>>2],a=e[i+32>>2],c=Ge(a),e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=o,e[r+16>>2]=c,e[r+12>>2]=a,c=e[i+24>>2],o=e[i+20>>2],a=(c-o|0)/12|0;e:{if((o|0)!=(c|0)){o=e[(o+H(a,12)|0)-8>>2],i=o,a=e[o+4>>2],a&&(e[r+8>>2]=a,i=a+4|0),e[i>>2]=r,e[o+4>>2]=r,e[o+8>>2]=e[o+8>>2]+1,i=0;break e}e[n+4>>2]=a,e[n>>2]=0,Yt(i,15800,n),F[e[e[r>>2]+4>>2]](r),i=1}return b=n+32|0,i|0}function FY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}ee(e[i+8>>2],28698,0),o=e[r+4>>2],r=e[r>>2],e[n+56>>2]=r,e[n+60>>2]=o,a=e[i+8>>2];e:{if((r|0)>=0){e[n+16>>2]=r,ee(a,24443,n+16|0);break e}if(c=n- -64|0,ci(c,n+56|0),e[n+32>>2]=S[n+75|0]<0?e[n+64>>2]:c,ee(a,10204,n+32|0),S[n+75|0]>=0)break e;P(e[n+64>>2])}return ee(e[i+8>>2],35622,0),i=e[i+12>>2],e[n+48>>2]=r,e[n+52>>2]=o,a=e[e[i>>2]+304>>2],e[n+8>>2]=r,e[n+12>>2]=o,i=F[a|0](i,n+8|0)|0,b=n+80|0,i|0}function BY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}ee(e[i+8>>2],28716,0),o=e[r+4>>2],r=e[r>>2],e[n+56>>2]=r,e[n+60>>2]=o,a=e[i+8>>2];e:{if((r|0)>=0){e[n+16>>2]=r,ee(a,24443,n+16|0);break e}if(c=n- -64|0,ci(c,n+56|0),e[n+32>>2]=S[n+75|0]<0?e[n+64>>2]:c,ee(a,10204,n+32|0),S[n+75|0]>=0)break e;P(e[n+64>>2])}return ee(e[i+8>>2],35622,0),i=e[i+12>>2],e[n+48>>2]=r,e[n+52>>2]=o,a=e[e[i>>2]+392>>2],e[n+8>>2]=r,e[n+12>>2]=o,i=F[a|0](i,n+8|0)|0,b=n+80|0,i|0}function WY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}ee(e[i+8>>2],28681,0),o=e[r+4>>2],r=e[r>>2],e[n+56>>2]=r,e[n+60>>2]=o,a=e[i+8>>2];e:{if((r|0)>=0){e[n+16>>2]=r,ee(a,24443,n+16|0);break e}if(c=n- -64|0,ci(c,n+56|0),e[n+32>>2]=S[n+75|0]<0?e[n+64>>2]:c,ee(a,10204,n+32|0),S[n+75|0]>=0)break e;P(e[n+64>>2])}return ee(e[i+8>>2],35622,0),i=e[i+12>>2],e[n+48>>2]=r,e[n+52>>2]=o,a=e[e[i>>2]+412>>2],e[n+8>>2]=r,e[n+12>>2]=o,i=F[a|0](i,n+8|0)|0,b=n+80|0,i|0}function VY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}ee(e[i+8>>2],28665,0),o=e[r+4>>2],r=e[r>>2],e[n+56>>2]=r,e[n+60>>2]=o,a=e[i+8>>2];e:{if((r|0)>=0){e[n+16>>2]=r,ee(a,24443,n+16|0);break e}if(c=n- -64|0,ci(c,n+56|0),e[n+32>>2]=S[n+75|0]<0?e[n+64>>2]:c,ee(a,10204,n+32|0),S[n+75|0]>=0)break e;P(e[n+64>>2])}return ee(e[i+8>>2],35622,0),i=e[i+12>>2],e[n+48>>2]=r,e[n+52>>2]=o,a=e[e[i>>2]+516>>2],e[n+8>>2]=r,e[n+12>>2]=o,i=F[a|0](i,n+8|0)|0,b=n+80|0,i|0}function zk(i,r,n,o,a){var c=0;e:{if(S[n+11|0]>=0){c=e[n+4>>2],e[i>>2]=e[n>>2],e[i+4>>2]=c,e[i+8>>2]=e[n+8>>2];break e}Ni(i,e[n>>2],e[n+4>>2])}e[i+16>>2]=0,e[i+20>>2]=0,e[i+12>>2]=r,e[i+24>>2]=0;e:{if(r=e[o+4>>2],n=e[o>>2],(r|0)!=(n|0)){if(n=r-n|0,(n|0)<0)break e;r=Z(n),e[i+16>>2]=r,e[i+20>>2]=r,e[i+24>>2]=r+(n>>3<<3),n=e[o+4>>2],o=e[o>>2],n=n-o|0,(n|0)>0&&(r=Ce(r,o,n)+n|0),e[i+20>>2]=r}if(e[i+28>>2]=0,e[i+32>>2]=0,e[i+36>>2]=0,r=e[a+4>>2],n=e[a>>2],(r|0)!=(n|0)){if(n=r-n|0,(n|0)<0)break e;r=Z(n),e[i+28>>2]=r,e[i+32>>2]=r,e[i+36>>2]=r+(n>>3<<3),o=e[a>>2],n=e[a+4>>2]-o|0,(n|0)>0&&(r=Ce(r,o,n)+n|0),e[i+32>>2]=r}return i}Be(),Ie()}function HY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,g=fe(c+8|0,r+36|0),n=b-176|0,b=n,e[n+136>>2]=207,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n+72|0,n+136|0),e[n+16>>2]=e[n+72>>2],Ye(o,r,9809,n+16|0)),p=fe(n+32|0,g),_=fe(n+136|0,p),r=fe(n+72|0,_),v=e[r+24>>2],L=e[o+224>>2]-e[o+220>>2]>>3;e:{if(v>>>0>=L>>>0){e[n+8>>2]=L,e[n+4>>2]=v,e[n>>2]=6498,o=Ye(o,r,27451,n),te(r),r=(o|0)==1;break e}te(r),r=0}return te(_),te(p),b=n+176|0,e[i+316>>2]=e[i+316>>2]==1|(r|(a|0)!=0)==1,te(g),b=c+48|0,0}function UY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;g=b-48|0,b=g,c=fe(g+8|0,r+36|0),n=b-80|0,b=n,a=r+12|0,r=e[a+4>>2],o=i+16|0,e[o+96>>2]=e[a>>2],e[o+100>>2]=r,e[o+112>>2]=e[a+16>>2],r=e[a+12>>2],e[o+104>>2]=e[a+8>>2],e[o+108>>2]=r,e[n+64>>2]=0,e[n+68>>2]=-1,S[n+72|0]=1,r=fe(n+24|0,c),_=FT(o,r,n- -64|0),te(r),p=e[n+68>>2],r=e[n+64>>2],e[n+16>>2]=r,e[n+20>>2]=p,e[n+8>>2]=r,e[n+12>>2]=p,r=(_|0)==1|(Jk(o+24|0,n+8|0)|0)==1;e:{if(r|!y[o+116|0]||(nt[c+24>>2]>=nt[o+236>>2]&&(r=(Ye(o,c,12258,0)|0)==1),!y[n+72|0]))break e;r=(Ye(o,a,12201,0)|0)==1|r}return b=n+80|0,e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,te(c),b=g+48|0,0}function zY(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;a=b-16|0,b=a,e[a+8>>2]=i,p=a,_=Ge(i),e[p+12>>2]=_,i=e[a+12>>2],e[a>>2]=e[a+8>>2],e[a+4>>2]=i,i=b-16|0,b=i,o=FR(Z(12),r,n),r=Z(40),n=e[a+4>>2],c=e[a>>2],e[i>>2]=c,e[i+4>>2]=n,e[i+8>>2]=c,e[i+12>>2]=n,e[r>>2]=o;e:{if(o=e[i+4>>2],o>>>0<4294967280){c=e[i>>2];t:{i:{if(o>>>0>=11){g=o+16&-16,n=Z(g),e[r+12>>2]=g|-2147483648,e[r+4>>2]=n,e[r+8>>2]=o;break i}if(n=r+4|0,S[n+11|0]=o,!o)break t}Ce(n,c,o)}S[n+o|0]=0,e[r+16>>2]=1,o=e[r>>2],n=e[o>>2],e[r+20>>2]=n,o=e[o+4>>2],e[r+28>>2]=n,e[r+32>>2]=n,e[r+36>>2]=n,e[r+24>>2]=n+o;break e}Be(),Ie()}return b=i+16|0,b=a+16|0,r|0}function _T(i){var r=0,n=0,o=0,a=0,c=0,g=0;r=e[i+4>>2],c=e[i+8>>2];e:{if((r|0)==(c|0)){g=i+20|0;break e}if(g=i+20|0,o=e[i+16>>2],a=(o>>>8&16777212)+r|0,n=e[a>>2]+((o&1023)<<2)|0,o=o+e[i+20>>2]|0,o=e[(o>>>8&16777212)+r>>2]+((o&1023)<<2)|0,(n|0)==(o|0))break e;for(;r=e[n>>2],e[n>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),n=n+4|0,(n-e[a>>2]|0)==4096&&(n=e[a+4>>2],a=a+4|0),(n|0)!=(o|0););r=e[i+4>>2],c=e[i+8>>2]}if(e[g>>2]=0,n=c-r|0,n>>>0>8)for(;P(e[r>>2]),r=e[i+4>>2]+4|0,e[i+4>>2]=r,n=e[i+8>>2]-r|0,n>>>0>8;);r=512;e:switch((n>>>2|0)-1|0){case 1:r=1024;case 0:e[i+16>>2]=r;break;default:break e}}function qf(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-48|0,b=o,n=1;e:{if((xk(i,r+12|0)|0)==1||(n=1,(z_(i,r+116|0)|0)==1))break e;g=i+16|0;t:{if(e[i+88>>2]){i=e[i+92>>2];break t}ri(o+8|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,i=e[i+92>>2],a=H(n+i&1,36)+g|0,n=e[o+12>>2],e[a>>2]=e[o+8>>2],e[a+4>>2]=n,e[a+32>>2]=e[o+40>>2],n=e[o+36>>2],e[a+24>>2]=e[o+32>>2],e[a+28>>2]=n,n=e[o+28>>2],e[a+16>>2]=e[o+24>>2],e[a+20>>2]=n,n=e[o+20>>2],e[a+8>>2]=e[o+16>>2],e[a+12>>2]=n}c=H(i&1,36)+g|0,g=e[c>>2],a=e[c+4>>2],n=e[c+12>>2],i=e[c+8>>2],e[r+144>>2]=e[c+16>>2],e[r+136>>2]=i,e[r+140>>2]=n,e[r+128>>2]=g,e[r+132>>2]=a,n=0}return b=o+48|0,n}function Gk(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;a=b-32|0,b=a,g=r+16|0,p=eo(i,g,n),_=Go(i,e[r+20>>2]-e[r+16>>2]>>3),c=e[i+40>>2],n=e[i+36>>2];e:{if((c|0)==(n|0)){e[a>>2]=0,e[a+4>>2]=-1,xt(i,27759,a),n=1;break e}n=e[(n+H((c-n|0)/36|0,36)|0)-8>>2],c=e[i+28>>2],v=e[i+24>>2],e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,n=(n|0)!=c-v>>3,p2(i,n,o,a+16|0,1)}r=e[r+28>>2],c=e[i+24>>2],o=e[i+28>>2]-c>>3;e:{if(r>>>0>o>>>0){ys(i+24|0,r-o|0);break e}if(r>>>0>=o>>>0)break e;e[i+28>>2]=c+(r<<3)}return S2(i,g),r=e[i+40>>2],o=e[r-20>>2],o&&(e[r-16>>2]=o,P(o)),o=e[r-32>>2],o&&(e[r-28>>2]=o,P(o)),e[i+40>>2]=r-36,b=a+32|0,(p|0)==1|(_|0)==1|n}function GY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-96|0,b=a,n=e[i+4>>2],xe(a+32|0,92080),o=e[a+32>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1;e:{t:{if(n=e[i+4>>2],!Ys(e[n>>2],r+36|0)&&!Ys(e[n>>2],r+72|0))break t;o=r+60|0;i:{if(!e[r+56>>2]){e[a+16>>2]=e[o>>2],yt(n,5606,a+16|0),e[n+36>>2]=1;break i}g=o,o=y[r+71|0],c=o<<24>>24<0,Ki(n,c?e[r+60>>2]:g,c?e[r- -64>>2]:o,1)}if(o=r+96|0,!e[r+92>>2]){e[a>>2]=e[o>>2],yt(n,5606,a),e[n+36>>2]=1;break e}c=n,g=o,n=y[r+107|0],o=n<<24>>24<0,Ki(c,o?e[r+96>>2]:g,o?e[r+100>>2]:n,1);break e}e[n+36>>2]=1}return i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=a+96|0,0}function jk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;if(c=e[i+124>>2],i=e[i+128>>2],(c|0)!=(i|0))for(i=i-c>>2,_=i>>>0>1?i:1,g=e[r>>2],v=e[r+4>>2]-g|0,p=e[r+12>>2],L=e[r+16>>2]-p|0;;){e:{if(o=e[(a<<2)+c>>2],e[o+36>>2]|!o||(n=e[o+44>>2],r=e[o+40>>2],(n-r|0)!=(v|0)))break e;if(i=g,(r|0)!=(n|0))for(;;){if(e[r>>2]!=e[i>>2])break e;if(i=i+8|0,r=r+8|0,(n|0)==(r|0))break}if(n=e[o+56>>2],r=e[o+52>>2],(n-r|0)!=(L|0))break e;if(i=p,(r|0)==(n|0))return a;for(;;){if(e[r>>2]!=e[i>>2])break e;if(i=i+8|0,r=r+8|0,(n|0)==(r|0))break}return a}if(a=a+1|0,(_|0)==(a|0))break}return-1}function jY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-80|0,b=n,c=e[i+24>>2],o=e[i+20>>2],a=(c-o|0)/12|0;e:{if((o|0)==(c|0)){e[n+4>>2]=a,e[n>>2]=0,Yt(i,15800,n),i=1;break e}if(a=a-1|0,e[o+H(a,12)>>2]!=6){Yt(i,12456,0),i=1;break e}t:{i:{n:switch(o=e[(o+H(a,12)|0)+8>>2],e[o+36>>2]){case 2:break t;case 0:break i;default:break n}Yt(i,12712,0),i=1;break e}e[o+36>>2]=2}if(c=e[e[i+4>>2]+8>>2],a=e[i+32>>2],e[n+28>>2]=0,e[n+32>>2]=0,g=Ge(a),e[n+24>>2]=c,e[n+20>>2]=g,e[n+16>>2]=a,r=Ne(n+40|0,r,n+16|0),Di(o+200|0,r),te(r),r=e[i+24>>2],(r|0)==e[i+20>>2]){Yt(i,12534,0),i=0;break e}e[i+24>>2]=r-12,i=0}return b=n+80|0,i|0}function CT(i,r,n,o,a){var c=0,g=0,p=0,_=0;c=b-208|0,b=c,e[c+204>>2]=n,n=c+160|0,pn(n,0,40),e[c+200>>2]=e[c+204>>2];e:{if((nN(0,r,c+200|0,c+80|0,n,o,a)|0)<0){r=-1;break e}_=e[i+76>>2]>=0,g=e[i>>2],e[i+72>>2]<=0&&(e[i>>2]=g&-33);t:{i:{n:{if(!e[i+48>>2]){e[i+48>>2]=80,e[i+28>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,p=e[i+44>>2],e[i+44>>2]=c;break n}if(e[i+16>>2])break i}if(n=-1,hR(i))break t}n=nN(i,r,c+200|0,c+80|0,c+160|0,o,a)}if(p&&(F[e[i+36>>2]](i,0,0)|0,e[i+48>>2]=0,e[i+44>>2]=p,e[i+28>>2]=0,r=e[i+20>>2],e[i+16>>2]=0,e[i+20>>2]=0,n=r?n:-1),r=i,i=e[i>>2],e[r>>2]=i|g&32,r=i&32?-1:n,!_)break e}return b=c+208|0,r}function H0(i,r){var n=0,o=0,a=0,c=0;o=b-16|0,b=o;e:{t:{if((we(i,0)|0)==126){if(a=e[i+92>>2]&1,n=H(a,36)+i|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,c=e[n+40>>2],n=e[n+44>>2],e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,n>>>0>=4294967280)break e;i:{n:{if(n>>>0>=11){a=n+16&-16,i=Z(a),e[o+8>>2]=a|-2147483648,e[o>>2]=i,e[o+4>>2]=n;break n}if(S[o+11|0]=n,i=o,!n)break i}Ce(i,c,n)}S[i+n|0]=0,S[r+11|0]<0&&P(e[r>>2]),i=e[o+4>>2],e[r>>2]=e[o>>2],e[r+4>>2]=i,e[r+8>>2]=e[o+8>>2];break t}if(S[r+11|0]<0){S[e[r>>2]]=0,e[r+4>>2]=0;break t}S[r+11|0]=0,S[r|0]=0}return b=o+16|0,0}Be(),Ie()}function ZY(i,r,n,o,a,c,g){return i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0,r=Z(68),e[r+4>>2]=0,e[r+8>>2]=0,e[r+28>>2]=3,e[r>>2]=38072,S[r+32|0]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,S[r+43|0]=0,e[r- -64>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,S[r+52|0]=0,e[r+44>>2]=-64,e[r+48>>2]=-1,a=e[n+4>>2],Cl(r+4|0,e[n>>2],a),Cl(r+16|0,e[o>>2],e[o+4>>2]),n=e[c+4>>2],o=e[c>>2],S[r+52|0]=g,e[r+44>>2]=o,e[r+48>>2]=n,n=e[e[i+4>>2]+8>>2],o=e[i+12>>2],a=e[i+32>>2],c=Ge(a),i=Z(40),e[i+32>>2]=2,e[i+12>>2]=a,e[i+4>>2]=0,e[i+8>>2]=0,e[i+36>>2]=r,e[i>>2]=37736,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=n,e[i+16>>2]=c,ql(o,i),0}function QY(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0;g=b-16|0,b=g,o=Z(56),e[o+48>>2]=a,e[o+52>>2]=c,e[o+36>>2]=r,e[o>>2]=39004,e[o+4>>2]=0,e[o+8>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,r=1,n=1<<n,e[o+40>>2]=n,e[o+44>>2]=n>>31,n=e[i+32>>2],a=Ge(n),e[o+20>>2]=e[e[i+4>>2]+8>>2],e[o+16>>2]=a,e[o+12>>2]=n,c=e[i+24>>2],n=e[i+20>>2],a=(c-n|0)/12|0;e:{if((n|0)!=(c|0)){i=e[(n+H(a,12)|0)-8>>2],r=e[i+4>>2],r?(e[o+8>>2]=r,r=r+4|0):r=i,e[r>>2]=o,e[i+4>>2]=o,e[i+8>>2]=e[i+8>>2]+1,r=0;break e}e[g+4>>2]=a,e[g>>2]=0,Yt(i,15800,g),P(o)}return b=g+16|0,r|0}function Na(i,r,n){var o=0,a=0,c=0,g=0;o=b-32|0,b=o,a=e[r>>2],c=e[r+4>>2];e:{if((a|0)==(c|0))break e;if(n&&(be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,a=Ge(n),be(i),U(e[i+24>>2],n,a,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,c=e[r+4>>2],a=e[r>>2]),(a|0)!=(c|0))for(;r=e[a+4>>2],e[o+24>>2]=e[a>>2],e[o+28>>2]=r,r=o+8|0,ci(r,o+24|0),r=S[o+19|0]<0?e[o+8>>2]:r,g=Ge(r),be(i),U(e[i+24>>2],r,g,0,0),e[i+36>>2]=1,S[o+19|0]<0&&P(e[o+8>>2]),a=a+8|0,(c|0)!=(a|0););if(!n)break e;e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1}b=o+32|0}function wT(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0;n=b-32|0,b=n;e:{t:{if(!y[r+36|0])break t;if(a=r+40|0,o=a1(e[i+4>>2],a),!o){i=1;break e}if(e[r+60>>2]==1||(c=y[o+35|0],g=c<<24>>24,c=(g|0)<0?e[o+28>>2]:c,!c))break t;p=e[o+24>>2],e[n+28>>2]=c,e[n+24>>2]=(g|0)<0?p:o+24|0,o=e[n+28>>2],e[n+16>>2]=e[n+24>>2],e[n+20>>2]=o,Ji(a,n+16|0)}if(g=r+140|0,o=Xc(e[i+4>>2],g),!o){i=1;break e}if(i=0,e[r+160>>2]==1||(a=y[o+11|0],r=a<<24>>24,a=(r|0)<0?e[o+4>>2]:a,!a))break e;c=e[o>>2],e[n+28>>2]=a,e[n+24>>2]=(r|0)<0?c:o,r=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=r,Ji(g,n+8|0)}return b=n+32|0,i|0}function vT(i,r){var n=0,o=0,a=0;o=1;e:{if((r|0)<=0)break e;for(a=i+r|0;;){if(o=0,r=y[i|0],n=e[(r<<2)+49040>>2],n+i>>>0>a>>>0)break e;t:{i:switch(n|0){case 1:i=i+1|0;break t;case 2:if((y[i+1|0]&192)!=128)break e;i=i+2|0;break t;case 3:if(n=y[i+1|0],(n&192)!=128|((r|0)==224&n>>>0<160|(y[i+2|0]&-64)!=128))break e;if(i=i+3|0,(r|0)!=237|n>>>0<=159)break t;break e;case 0:break e;case 4:break i;default:break t}if(n=y[i+1|0],(n&192)!=128|(y[i+2|0]&-64)!=128|((r|0)==240&n>>>0<144|(y[i+3|0]&-64)!=128))break e;if(i=i+4|0,(r|0)!=244)break t;if(n>>>0>143)break e}if(!(i>>>0<a>>>0))break}o=1}return o}function YY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0;a=b-96|0,b=a,n=e[i+4>>2],xe(a+32|0,92096),o=e[a+32>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1,c=e[r+56>>2],p=r+60|0,o=e[p>>2];e:{if(!(e[r+92>>2]|e[r+96>>2]||c|o))break e;n=e[i+4>>2];t:{if(!c){e[a+16>>2]=o,yt(n,5606,a+16|0),e[n+36>>2]=1;break t}c=n,g=o,n=y[r+71|0],o=n<<24>>24<0,Ki(c,o?g:p,o?e[r- -64>>2]:n,1)}if(o=r+96|0,n=e[i+4>>2],!e[r+92>>2]){e[a>>2]=e[o>>2],yt(n,5606,a),e[n+36>>2]=1;break e}c=n,g=o,n=y[r+107|0],o=n<<24>>24<0,Ki(c,o?e[r+96>>2]:g,o?e[r+100>>2]:n,1)}return i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=a+96|0,0}function $Y(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-96|0,b=a,n=e[i+4>>2],xe(a+32|0,92072),o=e[a+32>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1,o=r+96|0,n=e[i+4>>2];e:{if(!e[r+92>>2]){e[a+16>>2]=e[o>>2],yt(n,5606,a+16|0),e[n+36>>2]=1;break e}c=n,g=o,n=y[r+107|0],o=n<<24>>24<0,Ki(c,o?e[r+96>>2]:g,o?e[r+100>>2]:n,1)}n=e[i+4>>2];e:{if(Ys(e[n>>2],r+36|0)){if(o=r+60|0,!e[r+56>>2]){e[a>>2]=e[o>>2],yt(n,5606,a),e[n+36>>2]=1;break e}c=n,g=o,n=y[r+71|0],o=n<<24>>24<0,Ki(c,o?e[r+60>>2]:g,o?e[r- -64>>2]:n,1);break e}e[n+36>>2]=1}return i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=a+96|0,0}function KY(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0;c=b-32|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}if(a=e[i+8>>2],e[c+16>>2]=r,ee(a,28632,c+16|0),ee(e[i+8>>2],24508,0),n)for(p=n-1|0,a=0;g=H(a,12)+o|0,e[c+8>>2]=e[g+8>>2],_=e[g+4>>2],e[c>>2]=e[g>>2],e[c+4>>2]=_,QT(i,c),(a|0)!=(p|0)&&ee(e[i+8>>2],28838,0),a=a+1|0,(a|0)!=(n|0););return ee(e[i+8>>2],34993,0),i=e[i+12>>2],i=F[e[e[i>>2]+48>>2]](i,r,n,o)|0,b=c+32|0,i|0}function kT(i,r){var n=0,o=0,a=0,c=0;e:{t:{i:{if(o=e[i>>2],a=(e[i+4>>2]-o|0)/36|0,n=a+1|0,n>>>0>=119304648)break i;if(o=(e[i+8>>2]-o|0)/36|0,c=o<<1,n=o>>>0<59652323?n>>>0<c>>>0?c:n:119304647,n){if(n>>>0>=119304648)break i;o=Z(H(n,36))}else o=0;if(c=o+H(n,36)|0,o=fe(o+H(a,36)|0,r),a=o+36|0,r=e[i>>2],n=e[i+4>>2],(r|0)==(n|0))break t;for(;n=n-36|0,o=fe(o-36|0,n),(r|0)!=(n|0););if(e[i+8>>2]=c,n=e[i+4>>2],e[i+4>>2]=a,r=e[i>>2],e[i>>2]=o,(r|0)==(n|0))break e;for(;n=te(n-36|0),(n|0)!=(r|0););break e}Be(),Ie()}e[i+8>>2]=c,e[i+4>>2]=a,e[i>>2]=o}r&&P(r)}function XY(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0;return c=b+-64|0,b=c,p=e[e[i+4>>2]+8>>2],_=e[i+32>>2],g=Ge(_),r=Z(88),e[r+32>>2]=3,e[r+12>>2]=_,e[r+4>>2]=0,e[r+8>>2]=0,e[r+36>>2]=0,e[r+40>>2]=0,e[r>>2]=38764,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=p,e[r+16>>2]=g,e[r+44>>2]=0,e[c+40>>2]=0,e[c+32>>2]=0,e[c+36>>2]=0,e[c+24>>2]=0,e[c+28>>2]=0,p=c+24|0,_=Ne(r+52|0,-1,p),g=e[a+4>>2],Cl(r+36|0,e[a>>2],g),g=e[e[i+4>>2]+8>>2],a=e[i+32>>2],e[c+12>>2]=0,e[c+16>>2]=0,v=Ge(a),e[c+8>>2]=g,e[c+4>>2]=v,e[c>>2]=a,o=Ne(p,o,c),Di(_,o),te(o),e[r+48>>2]=n,Bk(e[i+12>>2],r),b=c- -64|0,0}function Km(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;c=b-16|0,b=c,a=Ge(o),be(i),U(e[i+24>>2],o,a,0,0),e[i+36>>2]=1,a=y[n+11|0],o=a<<24>>24<0;e:{if(o?e[n+4>>2]:a){o=o?e[n>>2]:n,a=Ge(o),be(i),U(e[i+24>>2],o,a,0,0),e[i+36>>2]=1,Na(i,n+52|0,11613),Na(i,n- -64|0,6717);break e}Na(i,n+52|0,11613),Na(i,n- -64|0,6717),e[c>>2]=(e[i+12>>2]-e[i+8>>2]|0)/40,yt(i,5094,c)}e[i+36>>2]==3&&be(i),e[i+36>>2]=3,o=b-16|0,b=o,e[o+12>>2]=r,a=n- -64|0,g=n+52|0,p=e[i+12>>2];e:{if(p>>>0<nt[i+16>>2]){_=i,v=zk(p,r,n,g,a)+40|0,e[_+12>>2]=v;break e}PN(i+8|0,o+12|0,n,g,a)}b=o+16|0,e[i+32>>2]=e[i+32>>2]+2,b=c+16|0}function JY(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;return c=b-48|0,b=c,p=fe(c+8|0,r+36|0),n=b-128|0,b=n,e[n+56>>2]=205,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n- -64|0,n+56|0),e[n>>2]=e[n+64>>2],Ye(o,r,9809,n)),S[n+79|0]=0,S[n+80|0]=0,S[n+81|0]=0,S[n+82|0]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+64>>2]=0,e[n+68>>2]=0,g=Ne(n+16|0,0,r),r=n- -64|0,_=vo(o,g,r),te(g),r=bh(o+24|0,205,r,0,r),b=n+128|0,e[i+316>>2]=(_|0)==1|(a|0)!=0|(r|0)==1|e[i+316>>2]==1,te(p),b=c+48|0,0}function qY(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0,L=0,x=0,M=0;if(Yo(i,e[r+8>>2],c)){c5(r,n,o,a);return}g=y[r+53|0],v=e[i+12>>2],S[r+53|0]=0,p=y[r+52|0],S[r+52|0]=0,M=i+16|0,I5(M,r,n,o,a,c),L=y[r+53|0],g=g|L,x=y[r+52|0],p=p|x,_=i+24|0,v=(v<<3)+M|0;e:{if(_>>>0>=v>>>0)break e;for(;;){if(y[r+54|0])break e;t:{if(x){if(e[r+24>>2]==1)break e;if(y[i+8|0]&2)break t;break e}if(!L)break t;if(!(S[i+8|0]&1))break e}if(ns[r+52>>1]=0,I5(_,r,n,o,a,c),L=y[r+53|0],g=L|g,x=y[r+52|0],p=x|p,_=_+8|0,!(v>>>0>_>>>0))break}}S[r+53|0]=(g&255)!=0,S[r+52|0]=(p&255)!=0}function e$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;n=b-32|0,b=n,g=r+72|0,o=_R(e[i+4>>2],g);e:{if(!o){p=1;break e}p=1;t:{if(e[r+92>>2]==1||(c=y[o+15|0],a=c<<24>>24,c=(a|0)<0?e[o+8>>2]:c,!c))break t;_=e[o+4>>2],e[n+28>>2]=c,e[n+24>>2]=(a|0)<0?_:o+4|0,o=e[n+28>>2],e[n+16>>2]=e[n+24>>2],e[n+20>>2]=o,Ji(g,n+16|0)}if(o=r+36|0,i=Oh(e[i+4>>2],o),!i||(p=0,e[r+56>>2]==1)||(a=y[i+11|0],r=a<<24>>24,a=(r|0)<0?e[i+4>>2]:a,!a))break e;g=e[i>>2],e[n+28>>2]=a,e[n+24>>2]=(r|0)<0?g:i,i=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=i,Ji(o,n+8|0)}return b=n+32|0,p|0}function t$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;n=b-32|0,b=n,g=r+36|0,o=CR(e[i+4>>2],g);e:{if(!o){p=1;break e}p=1;t:{if(e[r+56>>2]==1||(c=y[o+15|0],a=c<<24>>24,c=(a|0)<0?e[o+8>>2]:c,!c))break t;_=e[o+4>>2],e[n+28>>2]=c,e[n+24>>2]=(a|0)<0?_:o+4|0,o=e[n+28>>2],e[n+16>>2]=e[n+24>>2],e[n+20>>2]=o,Ji(g,n+16|0)}if(o=r+72|0,i=Xc(e[i+4>>2],o),!i||(p=0,e[r+92>>2]==1)||(a=y[i+11|0],r=a<<24>>24,a=(r|0)<0?e[i+4>>2]:a,!a))break e;g=e[i>>2],e[n+28>>2]=a,e[n+24>>2]=(r|0)<0?g:i,i=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=i,Ji(o,n+8|0)}return b=n+32|0,p|0}function bT(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;o=b-112|0,b=o,i=e[i+4>>2],c=r+72|0,xe(o+48|0,c),n=e[o+48>>2],a=Ge(n),be(i),U(e[i+24>>2],n,a,0,0),e[i+36>>2]=1;e:{if(Ys(e[i>>2],r+36|0)){if(n=r+60|0,!e[r+56>>2]){e[o+32>>2]=e[n>>2],yt(i,5606,o+32|0),e[i+36>>2]=1;break e}g=n,n=y[r+71|0],a=n<<24>>24<0,Ki(i,a?e[r+60>>2]:g,a?e[r- -64>>2]:n,1);break e}e[i+36>>2]=1}return a=e[r+88>>2],n=e[r+92>>2],a|n&&(e[o+16>>2]=a,e[o+20>>2]=n,yt(i,2784,o+16|0)),N5(c,e[r+80>>2],e[r+84>>2])||(n=e[r+84>>2],e[o>>2]=e[r+80>>2],e[o+4>>2]=n,yt(i,2796,o)),e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=o+112|0,0}function i$(i,r,n,o,a,c,g,p,_){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0,p=p|0,_=_|0;var v=0,L=0,x=0,M=0;v=b-112|0,b=v,e[v+40>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],L=v+48|0,x=v+40|0,xe(L,x),M=e[v+48>>2],xe(L,x),e[v+16>>2]=o,e[v+20>>2]=a,e[v+24>>2]=c,e[v+28>>2]=g,e[v+32>>2]=p,e[v+36>>2]=_,e[v>>2]=M,e[v+8>>2]=n,e[v+4>>2]=e[v+100>>2],ee(r,30768,v),i=e[i+12>>2],i=F[e[e[i>>2]+548>>2]](i,e[v+40>>2],n,o,a,c,g,p,_)|0,b=v+112|0,i|0}function n$(i,r,n,o,a,c,g,p,_){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0,p=p|0,_=_|0;var v=0,L=0,x=0,M=0;v=b-112|0,b=v,e[v+40>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],L=v+48|0,x=v+40|0,xe(L,x),M=e[v+48>>2],xe(L,x),e[v+16>>2]=o,e[v+20>>2]=a,e[v+24>>2]=c,e[v+28>>2]=g,e[v+32>>2]=p,e[v+36>>2]=_,e[v>>2]=M,e[v+8>>2]=n,e[v+4>>2]=e[v+100>>2],ee(r,30672,v),i=e[i+12>>2],i=F[e[e[i>>2]+552>>2]](i,e[v+40>>2],n,o,a,c,g,p,_)|0,b=v+112|0,i|0}function Lh(i,r,n,o,a,c,g,p){var _=0,v=0,L=0,x=0;_=1,v=o&2147483647,x=v,L=(v|0)==2147418112;e:{if((L&!n?i|r:L&(n|0)!=0|v>>>0>2147418112)||(v=p&2147483647,L=(v|0)==2147418112,L&!g?a|c:L&(g|0)!=0|v>>>0>2147418112))break e;if(!(i|a|(n|g)|(r|c|(v|x))))return 0;if(_=o&p,(_|0)>0|(_|0)>=0){if(_=-1,(n|0)==(g|0)&(o|0)==(p|0)?(r|0)==(c|0)&i>>>0<a>>>0|r>>>0<c>>>0:n>>>0<g>>>0&(o|0)<=(p|0)|(o|0)<(p|0))break e;return(i^a|n^g|(r^c|o^p))!=0}if(_=-1,(n|0)==(g|0)&(o|0)==(p|0)?(r|0)==(c|0)&i>>>0>a>>>0|r>>>0>c>>>0:n>>>0>g>>>0&(o|0)>=(p|0)|(o|0)>(p|0))break e;_=(i^a|n^g|(r^c|o^p))!=0}return _}function s$(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return _=e[i+8>>2],p=e[a>>2],g=e[a+4>>2],e[c+20>>2]=n>>>0<=4?e[(n<<2)+58448>>2]:25094,e[c+24>>2]=o,e[c+16>>2]=r,v=c,L=Ls(p,g),e[v+28>>2]=L,e[c+32>>2]=At,ee(_,35310,c+16|0),p=e[i+12>>2],g=e[a+4>>2],a=e[a>>2],e[c+40>>2]=a,e[c+44>>2]=g,i=e[e[p>>2]+180>>2],e[c+8>>2]=a,e[c+12>>2]=g,i=F[i|0](p,r,n,o,c+8|0)|0,b=c+48|0,i|0}function S2(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0;e:{if(o=e[r>>2],_=e[r+4>>2],(o|0)!=(_|0))for(;;){v=e[o+4>>2],p=e[o>>2];t:{if((p|0)==-64)break t;if(r=e[i+28>>2],(r|0)!=e[i+32>>2]){e[r>>2]=p,e[r+4>>2]=v,e[i+28>>2]=r+8;break t}if(g=e[i+24>>2],c=r-g|0,a=c>>3,r=a+1|0,r>>>0>=536870912)break e;if(n=c>>2,n=c>>>0<2147483640?r>>>0<n>>>0?n:r:536870911,n){if(n>>>0>=536870912)break e;r=Z(n<<3)}else r=0;if(a=r+(a<<3)|0,e[a>>2]=p,e[a+4>>2]=v,(c|0)>0&&Ce(r,g,c),e[i+32>>2]=r+(n<<3),e[i+28>>2]=a+8,e[i+24>>2]=r,!g)break t;P(g)}if(o=o+8|0,(_|0)==(o|0))break}return}Be(),Ie()}function r$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;return c=b-48|0,b=c,g=fe(c+8|0,r+36|0),n=b-128|0,b=n,e[n+56>>2]=54,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n- -64|0,n+56|0),e[n>>2]=e[n+64>>2],Ye(o,r,9809,n)),S[n+79|0]=0,S[n+80|0]=0,S[n+81|0]=0,S[n+82|0]=0,e[n+72>>2]=0,e[n+76>>2]=0,e[n+64>>2]=0,e[n+68>>2]=0,r=fe(n+16|0,g),p=n- -64|0,_=vo(o,r,p),te(r),r=t8(o+24|0,54,p,1),b=n+128|0,e[i+316>>2]=(_|0)==1|(a|0)!=0|(r|0)==1|e[i+316>>2]==1,te(g),b=c+48|0,0}function o$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;n=b-32|0,b=n,g=r+36|0,o=Xc(e[i+4>>2],g);e:{if(!o){p=1;break e}p=1;t:{if(e[r+56>>2]==1||(c=y[o+11|0],a=c<<24>>24,c=(a|0)<0?e[o+4>>2]:c,!c))break t;_=e[o>>2],e[n+28>>2]=c,e[n+24>>2]=(a|0)<0?_:o,o=e[n+28>>2],e[n+16>>2]=e[n+24>>2],e[n+20>>2]=o,Ji(g,n+16|0)}if(o=r+72|0,i=Xc(e[i+4>>2],o),!i||(p=0,e[r+92>>2]==1)||(a=y[i+11|0],r=a<<24>>24,a=(r|0)<0?e[i+4>>2]:a,!a))break e;g=e[i>>2],e[n+28>>2]=a,e[n+24>>2]=(r|0)<0?g:i,i=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=i,Ji(o,n+8|0)}return b=n+32|0,p|0}function l$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0;g=b-16|0,b=g,p=1,o=Z(56),e[o+32>>2]=1,e[o+4>>2]=0,e[o+8>>2]=0,e[o+48>>2]=a,e[o+52>>2]=c,e[o+36>>2]=r,e[o>>2]=39328,r=1<<n,e[o+40>>2]=r,e[o+44>>2]=r>>31,r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],a=Ge(n),e[o+24>>2]=0,e[o+28>>2]=0,e[o+20>>2]=r,e[o+16>>2]=a,e[o+12>>2]=n,a=e[i+24>>2],r=e[i+20>>2],n=(a-r|0)/12|0;e:{if((r|0)!=(a|0)){i=e[(r+H(n,12)|0)-8>>2],r=e[i+4>>2],r?(e[o+8>>2]=r,r=r+4|0):r=i,e[r>>2]=o,e[i+4>>2]=o,e[i+8>>2]=e[i+8>>2]+1,p=0;break e}e[g+4>>2]=n,e[g>>2]=0,Yt(i,15800,g),P(o)}return b=g+16|0,p|0}function a$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0;n=b-32|0,b=n,g=r+36|0,o=Oh(e[i+4>>2],g);e:{if(!o){p=1;break e}p=1;t:{if(e[r+56>>2]==1||(c=y[o+11|0],a=c<<24>>24,c=(a|0)<0?e[o+4>>2]:c,!c))break t;_=e[o>>2],e[n+28>>2]=c,e[n+24>>2]=(a|0)<0?_:o,o=e[n+28>>2],e[n+16>>2]=e[n+24>>2],e[n+20>>2]=o,Ji(g,n+16|0)}if(o=r+72|0,i=Oh(e[i+4>>2],o),!i||(p=0,e[r+92>>2]==1)||(a=y[i+11|0],r=a<<24>>24,a=(r|0)<0?e[i+4>>2]:a,!a))break e;g=e[i>>2],e[n+28>>2]=a,e[n+24>>2]=(r|0)<0?g:i,i=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=i,Ji(o,n+8|0)}return b=n+32|0,p|0}function c$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-80|0,b=a,n=e[i+4>>2],xe(a+16|0,92004),o=e[a+16>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1,n=e[i+4>>2],be(n),U(e[n+24>>2],27980,1,0,0),e[n+36>>2]=0,be(n),U(e[n+24>>2],14425,4,0,0),e[n+36>>2]=1,e[n+32>>2]=e[n+32>>2]+2,o=r- -64|0,n=e[i+4>>2];e:{if(!e[r+60>>2]){e[a>>2]=e[o>>2],yt(n,5606,a),e[n+36>>2]=1;break e}c=n,g=o,n=y[r+75|0],o=n<<24>>24<0,Ki(c,o?e[r+64>>2]:g,o?e[r+68>>2]:n,1)}return i=e[i+4>>2],e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=2,b=a+80|0,0}function u$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0;o=b-16|0,b=o,r=e[e[e[i+12>>2]+148>>2]+(r<<2)>>2],c=e[e[i+4>>2]+8>>2],a=e[i+32>>2],g=Ge(a),i=Z(44),p=e[n>>2],n=e[n+4>>2],e[i+32>>2]=37,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=c,e[i+16>>2]=g,e[i+12>>2]=a,e[i+4>>2]=0,e[i+8>>2]=0,e[i+36>>2]=p,e[i+40>>2]=n,e[i>>2]=43904,e[o+8>>2]=1,e[o+4>>2]=i,e[o>>2]=i,n=e[r+76>>2];e:{if(n>>>0<nt[r+80>>2]){e[n+8>>2]=1,e[n+4>>2]=i,e[n>>2]=i,e[r+76>>2]=n+12;break e}if(Kf(r+72|0,o),i=e[o>>2],!i)break e;for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);}return b=o+16|0,0}function h$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0,L=0,x=0;g=b+-64|0,b=g,p=e[i+16>>2];e:{t:{if(p>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),p=p-142|0,p>>>0>142;);p=e[i+16>>2];break t}if(!p)break e}U(e[i+8>>2],58304,p,0,0)}return p=e[i+8>>2],_=e[n>>2],v=e[n+4>>2],e[g+40>>2]=c,e[g+32>>2]=o,e[g+36>>2]=a,e[g+16>>2]=r,L=g,x=Ls(_,v),e[L+20>>2]=x,e[g+24>>2]=At,ee(p,29737,g+16|0),i=e[i+12>>2],p=e[n+4>>2],n=e[n>>2],e[g+56>>2]=n,e[g+60>>2]=p,_=e[e[i>>2]+812>>2],e[g+8>>2]=n,e[g+12>>2]=p,i=F[_|0](i,r,g+8|0,o,a,c)|0,b=g- -64|0,i|0}function d$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-80|0,b=a,c=e[r+36>>2],e[a+8>>2]=c,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o;e:{if(!y[n+116|0]||(o=c-28|0,1<<o&2013265921&&o>>>0<=30))break e;t:switch(c-214|0){case 0:case 2:break e;default:break t}t:{if(!y[n+16|0]||(o=c-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(a+16|0,a+8|0),e[a>>2]=e[a+16>>2],Ye(n,r,9809,a),g=1}return r=bh(n+24|0,c,0,0,0),b=a+80|0,e[i+316>>2]=g|(r|0)==1|e[i+316>>2]==1,0}function f$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0,_=0,v=0,L=0;return c=b-48|0,b=c,g=fe(c+8|0,r+36|0),n=b-144|0,b=n,e[n+72>>2]=203,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,p=y[o+116|0],p&&(xe(n+80|0,n+72|0),e[n+16>>2]=e[n+80>>2],Ye(o,r,9809,n+16|0)),r=0,_=fe(n+32|0,g),a=fe(n+80|0,_),v=e[a+24>>2],L=e[o+240>>2],v>>>0>=L>>>0&&(e[n+8>>2]=L,e[n+4>>2]=v,e[n>>2]=6511,r=(Ye(o,a,27451,n)|0)==1),te(a),te(_),b=n+144|0,e[i+316>>2]=e[i+316>>2]==1|((p|0)!=0|r)==1,te(g),b=c+48|0,0}function ST(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-80|0,b=a,c=e[r+36>>2],e[a+8>>2]=c,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o;e:{if(!y[n+116|0]||(o=c-28|0,1<<o&2013265921&&o>>>0<=30))break e;t:switch(c-214|0){case 0:case 2:break e;default:break t}t:{if(!y[n+16|0]||(o=c-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(a+16|0,a+8|0),e[a>>2]=e[a+16>>2],Ye(n,r,9809,a),g=1}return r=t8(n+24|0,c,0,0),b=a+80|0,e[i+316>>2]=g|(r|0)==1|e[i+316>>2]==1,0}function yT(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;a=b-80|0,b=a,c=e[r+36>>2],e[a+8>>2]=c,n=i+16|0,r=r+12|0,e[n+112>>2]=e[r+16>>2],o=e[r+12>>2],e[n+104>>2]=e[r+8>>2],e[n+108>>2]=o,o=e[r+4>>2],e[n+96>>2]=e[r>>2],e[n+100>>2]=o;e:{if(!y[n+116|0]||(o=c-28|0,1<<o&2013265921&&o>>>0<=30))break e;t:switch(c-214|0){case 0:case 2:break e;default:break t}t:{if(!y[n+16|0]||(o=c-96|0,o>>>0>=21))break t;if(1835015>>>o&1)break e}xe(a+16|0,a+8|0),e[a>>2]=e[a+16>>2],Ye(n,r,9809,a),g=1}return r=Qm(n+24|0,c,0),b=a+80|0,e[i+316>>2]=g|(r|0)==1|e[i+316>>2]==1,0}function g$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;if(n=b-32|0,b=n,o=e[r+36>>2],c=e[r+40>>2],(o|0)!=(c|0))for(;;){a8(n+16|0,e[i+76>>2],e[i+80>>2],o);e:{if(e[o+20>>2]==1||(a=e[n+20>>2],!a))break e;g=e[n+16>>2],e[n+28>>2]=a,e[n+24>>2]=g,a=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=a,Ji(o,n+8|0)}if(o=o+36|0,(c|0)==(o|0))break}o=e[i+76>>2],a=e[i+80>>2],i=r+48|0,a8(n+16|0,o,a,i);e:{if(e[r+68>>2]==1||(r=e[n+20>>2],!r))break e;o=e[n+16>>2],e[n+28>>2]=r,e[n+24>>2]=o,r=e[n+28>>2],e[n>>2]=e[n+24>>2],e[n+4>>2]=r,Ji(i,n)}return b=n+32|0,0}function Zk(i,r,n,o,a,c,g,p,_){var v=0;v=b-112|0,b=v,e[v+100>>2]=o,e[v+96>>2]=n,e[v+108>>2]=c,e[v+104>>2]=a,n=e[v+100>>2],a=e[v+96>>2],e[v+88>>2]=a,e[v+92>>2]=n,o=e[v+108>>2],c=e[v+104>>2],e[v+80>>2]=c,e[v+84>>2]=o,e[v+40>>2]=a,e[v+44>>2]=n,e[v+32>>2]=c,e[v+36>>2]=o;e:{if((dR(v+40|0,v+32|0)|0)!=1||(n=v- -64|0,ci(n,v+96|0),o=e[v+64>>2],a=S[v+75|0],c=v+48|0,ci(c,v+104|0),e[v+16>>2]=S[v+59|0]<0?e[v+48>>2]:c,e[v>>2]=_,e[v+4>>2]=p,e[v+8>>2]=g,e[v+12>>2]=(a|0)<0?o:n,zc(i,r,9692,v),S[v+59|0]<0&&P(e[v+48>>2]),S[v+75|0]>=0))break e;P(e[v+64>>2])}b=v+112|0}function xn(i,r,n,o){var a=0,c=0,g=0,p=0,_=0;if(c=e[i>>2],a=e[c+4>>2],y[e[i+4>>2]+17|0]){for(g=r+n|0,c=a-g|0,a=c;p=p+1|0,_=a>>>0>127,a=a>>>7|0,!!_;);if(_=p-n|0,_&&C5(e[i>>2],r+p|0,g,c),p=e[i>>2],a=0,n=b-16|0,b=n,c>>>0>=128)for(;S[(n+11|0)+a|0]=c|128,a=a+1|0,g=c>>>0>16383,c=c>>>7|0,!!g;);return g=n+11|0,S[g+a|0]=c,L5(p,r,g,a+1|0,o),b=n+16|0,QR(e[i>>2],_),_}return i=b-16|0,b=i,n=(a-r|0)-5|0,S[i+15|0]=n>>>28,S[i+11|0]=n|128,S[i+14|0]=n>>>21|128,S[i+13|0]=n>>>14|128,S[i+12|0]=n>>>7|128,L5(c,r,i+11|0,5,o),b=i+16|0,0}function m$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0;c=b-48|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}if(a=e[i+8>>2],e[c+32>>2]=r,ee(a,24469,c+32|0),r)for(g=r-1|0,a=0;p=e[i+8>>2],e[c+16>>2]=e[(a<<2)+n>>2],ee(p,5606,c+16|0),(a|0)!=(g|0)&&ee(e[i+8>>2],28838,0),a=a+1|0,(a|0)!=(r|0););return a=e[i+8>>2],e[c>>2]=o,ee(a,33209,c),i=e[i+12>>2],i=F[e[e[i>>2]+316>>2]](i,r,n,o)|0,b=c+48|0,i|0}function p$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0;o=b-160|0,b=o,a=e[n>>2],c=e[n+4>>2];e:{if(y[n+16|0]){g=e[n+12>>2],e[o+40>>2]=e[n+8>>2],e[o+44>>2]=g,e[o+32>>2]=a,e[o+36>>2]=c,Bs(o+48|0,100,2807,o+32|0);break e}e[o+16>>2]=a,e[o+20>>2]=c,Bs(o+48|0,100,2832,o+16|0)}a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[o>>2]=r,e[o+4>>2]=o+48,ee(a,33871,o),i=e[i+12>>2],i=F[e[e[i>>2]+136>>2]](i,r,n)|0,b=o+160|0,i|0}function A$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-48|0,b=g,p=e[i+16>>2];e:{t:{if(p>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),p=p-142|0,p>>>0>142;);p=e[i+16>>2];break t}if(!p)break e}U(e[i+8>>2],58304,p,0,0)}return p=e[i+8>>2],e[g+24>>2]=c,e[g+20>>2]=a,e[g+16>>2]=r,ee(p,32054,g+16|0),i=e[i+12>>2],p=e[n+4>>2],_=e[n>>2],e[g+40>>2]=_,e[g+44>>2]=p,n=e[o+4>>2],o=e[o>>2],e[g+32>>2]=o,e[g+36>>2]=n,v=e[e[i>>2]+72>>2],e[g+8>>2]=_,e[g+12>>2]=p,e[g>>2]=o,e[g+4>>2]=n,i=F[v|0](i,r,g+8|0,g,a,c)|0,b=g+48|0,i|0}function _$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-48|0,b=g,p=e[i+16>>2];e:{t:{if(p>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),p=p-142|0,p>>>0>142;);p=e[i+16>>2];break t}if(!p)break e}U(e[i+8>>2],58304,p,0,0)}return p=e[i+8>>2],e[g+24>>2]=c,e[g+20>>2]=a,e[g+16>>2]=r,ee(p,31993,g+16|0),i=e[i+12>>2],p=e[n+4>>2],_=e[n>>2],e[g+40>>2]=_,e[g+44>>2]=p,n=e[o+4>>2],o=e[o>>2],e[g+32>>2]=o,e[g+36>>2]=n,v=e[e[i>>2]+88>>2],e[g+8>>2]=_,e[g+12>>2]=p,e[g>>2]=o,e[g+4>>2]=n,i=F[v|0](i,r,g+8|0,g,a,c)|0,b=g+48|0,i|0}function or(i,r,n){var o=0,a=0,c=0,g=0,p=0;if(g=n-r|0,c=g>>3,a=e[i+8>>2],o=e[i>>2],c>>>0<=a-o>>3>>>0){if(a=e[i+4>>2]-o|0,g=a>>3,a=g>>>0<c>>>0?r+a|0:n,p=a-r|0,(r|0)!=(a|0)&&wl(o,r,p),g>>>0<c>>>0){r=e[i+4>>2],n=n-a|0,(n|0)>0&&(r=Ce(r,a,n)+n|0),e[i+4>>2]=r;return}e[i+4>>2]=o+p;return}o&&(e[i+4>>2]=o,P(o),e[i+8>>2]=0,e[i>>2]=0,e[i+4>>2]=0,a=0);e:{if((g|0)<0||(o=a>>2,o=a>>>0<2147483640?o>>>0>c>>>0?o:c:536870911,o>>>0>=536870912))break e;c=o<<3,o=Z(c),e[i>>2]=o,e[i+4>>2]=o,e[i+8>>2]=o+c,(r|0)!=(n|0)&&(o=Ce(o,r,g)+g|0),e[i+4>>2]=o;return}Be(),Ie()}function Qk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;p=r+36|0;e:{n=e[i+188>>2],o=e[i+192>>2];t:{if(n>>>0<o>>>0){e[n>>2]=p,e[i+188>>2]=n+4;break t}if(c=e[i+184>>2],g=n-c|0,a=g>>2,n=a+1|0,n>>>0>=1073741824)break e;if(_=a<<2,o=o-c|0,a=o>>1,o=o>>>0<2147483644?n>>>0<a>>>0?a:n:1073741823,o){if(o>>>0>=1073741824)break e;n=Z(o<<2)}else n=0;if(a=_+n|0,e[a>>2]=p,(g|0)>0&&Ce(n,c,g),e[i+192>>2]=n+(o<<2),e[i+188>>2]=a+4,e[i+184>>2]=n,!c)break t;P(c)}n=e[i+36>>2],n?(e[r+8>>2]=n,n=n+4|0):n=i+32|0,e[n>>2]=r,e[i+36>>2]=r,e[i+40>>2]=e[i+40>>2]+1;return}Be(),Ie()}function LT(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-80|0,b=o,e[o+8>>2]=10,e[i+112>>2]=e[r+16>>2],n=e[r+12>>2],e[i+104>>2]=e[r+8>>2],e[i+108>>2]=n,n=e[r+4>>2],e[i+96>>2]=e[r>>2],e[i+100>>2]=n,c=y[i+116|0],c&&(xe(o+16|0,o+8|0),e[o>>2]=e[o+16>>2],Ye(i,r,9809,o)),r=b-16|0,b=r,i=i+24|0,a=e[i+40>>2],n=e[i+36>>2];e:{if((a|0)==(n|0)){e[r>>2]=0,e[r+4>>2]=-1,xt(i,27759,r),n=1;break e}if(a=(n+H((a-n|0)/36|0,36)|0)-36|0,n=e[a>>2],(n|0)==4){if(n=1,(iT(i)|0)==1)break e;n=e[a>>2]}g=i,i=e[(n<<2)+50064>>2],n=(Gk(g,a,i,i)|0)==1}return b=r+16|0,b=o+80|0,(n|0)==1|(c|0)!=0}function C$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0;a=b+-64|0,b=a,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=a+48|0,ci(g,n),e[a+16>>2]=r,e[a+24>>2]=o?13625:13805,e[a+20>>2]=S[a+59|0]<0?e[a+48>>2]:g,ee(c,33768,a+16|0),S[a+59|0]<0&&P(e[a+48>>2]),i=e[i+12>>2],c=e[n+4>>2],n=e[n>>2],e[a+40>>2]=n,e[a+44>>2]=c,g=e[e[i>>2]+152>>2],e[a+8>>2]=n,e[a+12>>2]=c,i=F[g|0](i,r,a+8|0,o)|0,b=a- -64|0,i|0}function to(i,r){var n=0,o=0,a=0,c=0,g=0;o=b-16|0,b=o;e:{if(c=we(i,0),(c|0)==126){if(a=e[i+92>>2]&1,n=H(a,36)+i|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,e[n+36>>2]=0,g=e[n+40>>2],n=e[n+44>>2],e[i+92>>2]=!a,e[i+88>>2]=e[i+88>>2]-1,n>>>0>=4294967280)break e;t:{i:{if(n>>>0>=11){a=n+16&-16,i=Z(a),e[o+8>>2]=a|-2147483648,e[o>>2]=i,e[o+4>>2]=n;break i}if(S[o+11|0]=n,i=o,!n)break t}Ce(i,g,n)}S[i+n|0]=0,S[r+11|0]<0&&P(e[r>>2]),i=e[o+4>>2],e[r>>2]=e[o>>2],e[r+4>>2]=i,e[r+8>>2]=e[o+8>>2]}return b=o+16|0,(c|0)==126}Be(),Ie()}function w$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;return o=e[e[i+4>>2]+8>>2],a=e[i+32>>2],c=Ge(a),r=Z(40),e[r+32>>2]=4,e[r+12>>2]=a,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=37188,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=o,e[r+16>>2]=c,o=Z(64),e[o+4>>2]=0,e[o+8>>2]=0,e[o+36>>2]=2,e[o+40>>2]=0,e[o+44>>2]=0,e[o>>2]=37544,S[o+35|0]=0,e[o+12>>2]=0,e[o+16>>2]=0,S[o+17|0]=0,S[o+18|0]=0,S[o+19|0]=0,S[o+20|0]=0,S[o+21|0]=0,S[o+22|0]=0,S[o+23|0]=0,S[o+24|0]=0,e[o+48>>2]=0,a=e[n+4>>2],e[o+52>>2]=e[n>>2],e[o+56>>2]=a,S[o+60|0]=y[n+8|0],e[r+36>>2]=o,Yf(e[i+12>>2],r),0}function DT(i){i=i|0;var r=0,n=0,o=0,a=0,c=0;if(e[i>>2]=44968,te(i+200|0),o=e[i+188>>2],o){if(r=o,a=e[i+192>>2],(r|0)!=(a|0)){for(;;){if(n=a-68|0,r=e[n+56>>2],r)for(;c=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=c,!!r;);if(e[n+60>>2]=0,e[n+56>>2]=0,e[n- -64>>2]=0,te(a-48|0),a=n,(n|0)==(o|0))break}r=e[i+188>>2]}e[i+192>>2]=o,P(r)}if(r=e[i+156>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+156>>2]=0,e[i+160>>2]=0,e[i+164>>2]=0,bo(i+92|0),te(i+56|0),S[i+51|0]<0&&P(e[i+40>>2]),i|0}function Xm(i,r){var n=0,o=0,a=0;if(a=e[r+8>>2],a)for(;;){n=e[r>>2];e:{if((n|0)==e[r+4>>2]){e[r+4>>2]=0,o=r;break e}o=e[n+4>>2],e[r>>2]=o,o=o+8|0}e[o>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[r+8>>2]=a-1;e:{t:switch(e[n+32>>2]){case 0:Ok(i,n);break e;case 1:Fk(i,n);break e;case 2:ql(i,n);break e;case 3:Bk(i,n);break e;case 4:Yf(i,n);break e;case 5:s8(i,n);break e;case 6:n8(i,n);break e;case 7:r8(i,n);break e;case 8:i8(i,n);break e;case 9:Qk(i,n);break e;case 10:Pk(i,n);break e;default:break t}F[e[e[n>>2]+4>>2]](n)}if(a=e[r+8>>2],!a)break}}function v$(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0,_=0,v=0,L=0,x=0,M=0;_=b-48|0,b=_,p=e[i+16>>2];e:{t:{if(p>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),p=p-142|0,p>>>0>142;);p=e[i+16>>2];break t}if(!p)break e}U(e[i+8>>2],58304,p,0,0)}return p=e[i+8>>2],v=e[o+4>>2],L=e[o>>2],e[_+24>>2]=n,x=_,M=Ls(L,v),e[x+16>>2]=M,e[_+20>>2]=At,ee(p,29699,_+16|0),i=e[i+12>>2],p=e[o+4>>2],o=e[o>>2],e[_+40>>2]=o,e[_+44>>2]=p,v=e[e[i>>2]+784>>2],e[_+8>>2]=o,e[_+12>>2]=p,i=F[v|0](i,r,n,_+8|0,a,c,g)|0,b=_+48|0,i|0}function Yk(i,r){var n=0,o=0,a=0,c=0;return o=b-48|0,b=o,(we(i,0)|0)==26&&(a=i+16|0,c=e[i+92>>2]&1,n=a+H(c,36)|0,e[n>>2]=0,e[n+4>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[i+92>>2]=!c,n=e[i+88>>2]-1|0,e[i+88>>2]=n,n||(ri(o+8|0,e[i>>2],i),n=e[i+88>>2],e[i+88>>2]=n+1,n=H(n+e[i+92>>2]&1,36)+a|0,a=e[o+12>>2],e[n>>2]=e[o+8>>2],e[n+4>>2]=a,e[n+32>>2]=e[o+40>>2],a=e[o+36>>2],e[n+24>>2]=e[o+32>>2],e[n+28>>2]=a,a=e[o+28>>2],e[n+16>>2]=e[o+24>>2],e[n+20>>2]=a,a=e[o+20>>2],e[n+8>>2]=e[o+16>>2],e[n+12>>2]=a),n=Cn(i,r,0)),b=o+48|0,n}function k$(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0,_=0,v=0,L=0;p=b-112|0,b=p,e[p+40>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],_=p+48|0,v=p+40|0,xe(_,v),L=e[p+48>>2],xe(_,v),e[p+16>>2]=o,e[p+20>>2]=a,e[p+24>>2]=c,e[p+28>>2]=g,e[p>>2]=L,e[p+8>>2]=n,e[p+4>>2]=e[p+100>>2],ee(r,30009,p),i=e[i+12>>2],i=F[e[e[i>>2]+396>>2]](i,e[p+40>>2],n,o,a,c,g)|0,b=p+112|0,i|0}function b$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0;a=b+-64|0,b=a,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=a+48|0,ci(g,o),e[a+16>>2]=r,e[a+20>>2]=n,e[a+24>>2]=S[a+59|0]<0?e[a+48>>2]:g,ee(c,33648,a+16|0),S[a+59|0]<0&&P(e[a+48>>2]),i=e[i+12>>2],c=e[o+4>>2],o=e[o>>2],e[a+40>>2]=o,e[a+44>>2]=c,g=e[e[i>>2]+216>>2],e[a+8>>2]=o,e[a+12>>2]=c,i=F[g|0](i,r,n,a+8|0)|0,b=a- -64|0,i|0}function S$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0;r=b-80|0,b=r,o=e[i+4>>2],e[o+32>>2]=e[o+32>>2]-2,a=n+44|0;e:{if(!(e[n+40>>2]|e[a>>2]!=-1)){xe(r+16|0,92016),n=e[r+16>>2],a=Ge(n),be(o),U(e[o+24>>2],n,a,0,0),e[o+36>>2]=2;break e}if(xe(r+16|0,91960),c=e[r+16>>2],g=Ge(c),be(o),U(e[o+24>>2],c,g,0,0),e[o+36>>2]=1,o=e[i+4>>2],!e[n+40>>2]){e[r>>2]=e[a>>2],yt(o,5606,r),e[o+36>>2]=2;break e}c=o,g=a,o=y[n+55|0],a=o<<24>>24<0,Ki(c,a?e[n+44>>2]:g,a?e[n+48>>2]:o,2)}return i=e[i+4>>2],e[i+32>>2]=e[i+32>>2]+2,e[e[i+12>>2]-28>>2]=7,b=r+80|0,0}function y$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0,L=0;a=b-48|0,b=a,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=GR(r),p=e[o+4>>2],_=e[o>>2],e[a+20>>2]=n,e[a+16>>2]=g,v=a,L=Ls(_,p),e[v+24>>2]=L,e[a+28>>2]=At,ee(c,35472,a+16|0),i=e[i+12>>2],c=e[o+4>>2],o=e[o>>2],e[a+40>>2]=o,e[a+44>>2]=c,g=e[e[i>>2]+700>>2],e[a+8>>2]=o,e[a+12>>2]=c,i=F[g|0](i,r,n,a+8|0)|0,b=a+48|0,i|0}function L$(i,r,n,o,a,c,g){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,g=g|0;var p=0,_=0,v=0,L=0;p=b-112|0,b=p,e[p+40>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],_=p+48|0,v=p+40|0,xe(_,v),L=e[p+48>>2],xe(_,v),e[p+16>>2]=o,e[p+20>>2]=a,e[p+24>>2]=c,e[p+28>>2]=g,e[p>>2]=L,e[p+8>>2]=n,e[p+4>>2]=e[p+100>>2],ee(r,29933,p),i=e[i+12>>2],i=F[e[e[i>>2]+508>>2]](i,e[p+40>>2],n,o,a,c,g)|0,b=p+112|0,i|0}function e1(i,r,n,o,a,c,g){var p=0,_=0;_=b-16|0,b=_,p=Z(56),e[p+32>>2]=g,e[p+4>>2]=0,e[p+8>>2]=0,e[p+48>>2]=o,e[p+52>>2]=a,e[p+36>>2]=r,e[p>>2]=c,r=1,n=1<<n,e[p+40>>2]=n,e[p+44>>2]=n>>31,n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],a=Ge(o),e[p+24>>2]=0,e[p+28>>2]=0,e[p+20>>2]=n,e[p+16>>2]=a,e[p+12>>2]=o,a=e[i+24>>2],n=e[i+20>>2],o=(a-n|0)/12|0;e:{if((n|0)!=(a|0)){i=e[(n+H(o,12)|0)-8>>2],r=e[i+4>>2],r?(e[p+8>>2]=r,r=r+4|0):r=i,e[r>>2]=p,e[i+4>>2]=p,e[i+8>>2]=e[i+8>>2]+1,r=0;break e}e[_+4>>2]=o,e[_>>2]=0,Yt(i,15800,_),P(p)}return b=_+16|0,r}function t1(i,r,n,o,a){var c=0;e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=r,e[i+12>>2]=0;e:{if(r=e[n+4>>2],c=e[n>>2],(r|0)!=(c|0)){if(c=r-c|0,(c|0)<0)break e;r=Z(c),e[i+4>>2]=r,e[i+8>>2]=r,e[i+12>>2]=r+(c>>3<<3),c=e[n>>2],n=e[n+4>>2]-c|0,(n|0)>0&&(r=Ce(r,c,n)+n|0),e[i+8>>2]=r}if(e[i+16>>2]=0,e[i+20>>2]=0,e[i+24>>2]=0,r=e[o+4>>2],n=e[o>>2],(r|0)!=(n|0)){if(n=r-n|0,(n|0)<0)break e;r=Z(n),e[i+16>>2]=r,e[i+20>>2]=r,e[i+24>>2]=r+(n>>3<<3),n=e[o+4>>2],o=e[o>>2],n=n-o|0,(n|0)>0&&(r=Ce(r,o,n)+n|0),e[i+20>>2]=r}S[i+32|0]=0,e[i+28>>2]=a;return}Be(),Ie()}function D$(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return g=e[i+8>>2],p=e[o+4>>2],_=e[o>>2],e[c+28>>2]=a,e[c+24>>2]=n,v=c,L=Ls(_,p),e[v+16>>2]=L,e[c+20>>2]=At,ee(g,32755,c+16|0),i=e[i+12>>2],g=e[o+4>>2],o=e[o>>2],e[c+40>>2]=o,e[c+44>>2]=g,p=e[e[i>>2]+788>>2],e[c+8>>2]=o,e[c+12>>2]=g,i=F[p|0](i,r,n,c+8|0,a)|0,b=c+48|0,i|0}function I$(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return g=e[i+8>>2],p=e[o+4>>2],_=e[o>>2],e[c+28>>2]=a,e[c+24>>2]=n,v=c,L=Ls(_,p),e[v+16>>2]=L,e[c+20>>2]=At,ee(g,32807,c+16|0),i=e[i+12>>2],g=e[o+4>>2],o=e[o>>2],e[c+40>>2]=o,e[c+44>>2]=g,p=e[e[i>>2]+792>>2],e[c+8>>2]=o,e[c+12>>2]=g,i=F[p|0](i,r,n,c+8|0,a)|0,b=c+48|0,i|0}function x$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0;c=b-48|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],g=e[o+4>>2],p=e[o>>2],e[c+24>>2]=n,_=c,v=Ls(p,g),e[_+16>>2]=v,e[c+20>>2]=At,ee(a,34751,c+16|0),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],a=e[o+4>>2],o=e[o>>2],e[c+40>>2]=o,e[c+44>>2]=a,g=e[e[i>>2]+28>>2],e[c+8>>2]=o,e[c+12>>2]=a,i=F[g|0](i,r,n,c+8|0)|0,b=c+48|0,i|0}function E$(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return g=e[i+8>>2],p=e[o+4>>2],_=e[o>>2],e[c+28>>2]=a,e[c+24>>2]=n,v=c,L=Ls(_,p),e[v+16>>2]=L,e[c+20>>2]=At,ee(g,32857,c+16|0),i=e[i+12>>2],g=e[o+4>>2],o=e[o>>2],e[c+40>>2]=o,e[c+44>>2]=g,p=e[e[i>>2]+800>>2],e[c+8>>2]=o,e[c+12>>2]=g,i=F[p|0](i,r,n,c+8|0,a)|0,b=c+48|0,i|0}function N$(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0;c=b-48|0,b=c,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return g=e[i+8>>2],p=e[o+4>>2],_=e[o>>2],e[c+28>>2]=a,e[c+24>>2]=n,v=c,L=Ls(_,p),e[v+16>>2]=L,e[c+20>>2]=At,ee(g,32904,c+16|0),i=e[i+12>>2],g=e[o+4>>2],o=e[o>>2],e[c+40>>2]=o,e[c+44>>2]=g,p=e[e[i>>2]+804>>2],e[c+8>>2]=o,e[c+12>>2]=g,i=F[p|0](i,r,n,c+8|0,a)|0,b=c+48|0,i|0}function $k(i){i=i|0;var r=0,n=0,o=0;if(e[i>>2]=35636,o=e[i+76>>2],o){if(r=o,n=e[i+80>>2],(r|0)!=(n|0)){for(;n=n-12|0,S[n+11|0]<0&&P(e[n>>2]),(n|0)!=(o|0););r=e[i+76>>2]}e[i+80>>2]=o,P(r)}if(o=e[i+64>>2],o){if(r=o,n=e[i+68>>2],(r|0)!=(n|0)){for(;n=n-12|0,S[n+11|0]<0&&P(e[n>>2]),(n|0)!=(o|0););r=e[i+64>>2]}e[i+68>>2]=o,P(r)}return r=e[i+52>>2],r&&(e[i+56>>2]=r,P(r)),r=e[i+40>>2],r&&(e[i+44>>2]=r,P(r)),r=e[i+28>>2],r&&(e[i+32>>2]=r,P(r)),r=e[i+16>>2],r&&(e[i+20>>2]=r,P(r)),i|0}function T$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0;a=b-96|0,b=a,n=e[i+4>>2],xe(a+32|0,92088),o=e[a+32>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1,c=e[r+92>>2],g=r+96|0,o=e[g>>2];e:{if(!(c|o))break e;if(n=e[i+4>>2],!c){e[a+16>>2]=o,yt(n,5606,a+16|0),e[n+36>>2]=1;break e}c=n,p=o,n=y[r+107|0],o=n<<24>>24<0,Ki(c,o?p:g,o?e[r+100>>2]:n,1)}n=r+60|0,i=e[i+4>>2];e:{if(!e[r+56>>2]){e[a>>2]=e[n>>2],yt(i,5606,a),e[i+36>>2]=2;break e}o=i,c=n,i=y[r+71|0],n=i<<24>>24<0,Ki(o,n?e[r+60>>2]:c,n?e[r- -64>>2]:i,2)}return b=a+96|0,0}function Kk(i,r){var n=0,o=0,a=0;e:{t:{i:{if((we(i,0)|0)!=26||(we(i,1)|0)!=32)break i;if(n=i+16|0,a=e[i+92>>2]&1,o=n+H(a,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,o=e[i+88>>2],n=n+H(!a,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=o-2,e[i+92>>2]=a,(Gc(i,r)|0)==1)break t;Ve(i,39);break t}if(n=we(i,0),a=we(i,1),(n|0)!=26)break e;i:{if(Ta(a)||(n=a-63|0,1<<n&17301505&&n>>>0<=24))break i;if((a|0)!=118)break e}Wc(i,r)}o=1}return o}function R$(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0,_=0,v=0,L=0;e:{i=e[e[e[i+12>>2]+172>>2]+(r<<2)>>2],c=e[i+68>>2],r=e[i+64>>2],p=c-r|0;t:{if(o>>>0>p>>>0){if(_=o-p|0,g=e[i+72>>2],_>>>0<=g-c>>>0){v=i,L=pn(c,0,_)+_|0,e[v+68>>2]=L;break t}if((o|0)<0)break e;if(c=g-r|0,g=c<<1,g=c>>>0<1073741823?o>>>0<g>>>0?g:o:2147483647,c=Z(g),pn(c+p|0,0,_),(p|0)>0&&Ce(c,r,p),e[i+72>>2]=c+g,e[i+68>>2]=o+c,e[i+64>>2]=c,!r)break t;P(r);break t}if(o>>>0>=p>>>0)break t;e[i+68>>2]=r+o}return o|a&&Ce(e[i+64>>2],n,o),0}Be(),Ie()}function M$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0;return a=e[e[i+4>>2]+8>>2],c=e[i+32>>2],g=Ge(c),r=Z(88),e[r+32>>2]=5,e[r+12>>2]=c,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=38404,S[r+40|0]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=a,e[r+16>>2]=g,S[r+51|0]=0,a=e[o+4>>2],e[r+56>>2]=e[o>>2],e[r+60>>2]=a,c=e[o+12>>2],a=r- -64|0,e[a>>2]=e[o+8>>2],e[a+4>>2]=c,o=y[o+15|0]|y[o+16|0]<<8|(y[o+17|0]<<16|y[o+18|0]<<24),S[r+71|0]=o,S[r+72|0]=o>>>8,S[r+73|0]=o>>>16,S[r+74|0]=o>>>24,o=e[n+4>>2],e[r+80>>2]=e[n>>2],e[r+84>>2]=o,s8(e[i+12>>2],r),0}function P$(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;a=b-16|0,b=a,n=Z(44),o=e[r>>2],r=e[r+4>>2],e[n+32>>2]=37,e[n+4>>2]=0,e[n+8>>2]=0,e[n+36>>2]=o,e[n+40>>2]=r,e[n>>2]=43904,r=e[e[i+4>>2]+8>>2],o=e[i+32>>2],c=Ge(o),e[n+24>>2]=0,e[n+28>>2]=0,e[n+20>>2]=r,e[n+16>>2]=c,e[n+12>>2]=o,c=e[i+24>>2],r=e[i+20>>2],o=(c-r|0)/12|0;e:{if((r|0)!=(c|0)){i=e[(r+H(o,12)|0)-8>>2],r=e[i+4>>2],r?(e[n+8>>2]=r,r=r+4|0):r=i,e[r>>2]=n,e[i+4>>2]=n,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[a+4>>2]=o,e[a>>2]=0,Yt(i,15800,a),P(n),i=1}return b=a+16|0,i|0}function Xk(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;if(n=b-32|0,b=n,a=1,o=e[i+8>>2],r=r+36|0,c=hp(o,r),c>>>0<(e[o+56>>2]-e[o+52>>2]>>3)+G0(o+116|0)>>>0){i=e[i+64>>2]+H(c,12)|0;e:{if(S[i+11|0]>=0){e[n+24>>2]=e[i+8>>2],o=e[i+4>>2],e[n+16>>2]=e[i>>2],e[n+20>>2]=o;break e}Ni(n+16|0,e[i>>2],e[i+4>>2])}e:{if(e[r+20>>2]==1||(o=y[n+27|0],i=o<<24>>24<0,o=i?e[n+20>>2]:o,!o))break e;e[n+12>>2]=o,e[n+8>>2]=i?e[n+16>>2]:n+16|0,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(r,n)}S[n+27|0]<0&&P(e[n+16>>2]),a=0}return b=n+32|0,a|0}function O$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;a=b-48|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],c=e[r+4>>2],g=e[r>>2],e[a+24>>2]=n,p=a,_=Ls(g,c),e[p+16>>2]=_,e[a+20>>2]=At,ee(o,34258,a+16|0),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],o=e[r+4>>2],r=e[r>>2],e[a+40>>2]=r,e[a+44>>2]=o,c=e[e[i>>2]+856>>2],e[a+8>>2]=r,e[a+12>>2]=o,i=F[c|0](i,a+8|0,n)|0,b=a+48|0,i|0}function F$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=Z(48),e[a+32>>2]=43,e[a+4>>2]=0,e[a+8>>2]=0,e[a+40>>2]=n,e[a+44>>2]=o,e[a+36>>2]=r,e[a>>2]=45364,r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],o=Ge(n),e[a+24>>2]=0,e[a+28>>2]=0,e[a+20>>2]=r,e[a+16>>2]=o,e[a+12>>2]=n,o=e[i+24>>2],r=e[i+20>>2],n=(o-r|0)/12|0;e:{if((r|0)!=(o|0)){i=e[(r+H(n,12)|0)-8>>2],r=e[i+4>>2],r?(e[a+8>>2]=r,r=r+4|0):r=i,e[r>>2]=a,e[i+4>>2]=a,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[c+4>>2]=n,e[c>>2]=0,Yt(i,15800,c),P(a),i=1}return b=c+16|0,i|0}function B$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=e[o+4>>2],p=e[o>>2],e[a+20>>2]=n,e[a+16>>2]=r,_=a,v=Ls(p,g),e[_+24>>2]=v,e[a+28>>2]=At,ee(c,35371,a+16|0),i=e[i+12>>2],c=e[o+4>>2],o=e[o>>2],e[a+40>>2]=o,e[a+44>>2]=c,g=e[e[i>>2]+688>>2],e[a+8>>2]=o,e[a+12>>2]=c,i=F[g|0](i,r,n,a+8|0)|0,b=a+48|0,i|0}function W$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0;a=b-48|0,b=a,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],g=e[r+4>>2],p=e[r>>2],e[a+28>>2]=o,e[a+24>>2]=n,_=a,v=Ls(p,g),e[_+16>>2]=v,e[a+20>>2]=At,ee(c,33166,a+16|0),i=e[i+12>>2],c=e[r+4>>2],r=e[r>>2],e[a+40>>2]=r,e[a+44>>2]=c,g=e[e[i>>2]+828>>2],e[a+8>>2]=r,e[a+12>>2]=c,i=F[g|0](i,a+8|0,n,o)|0,b=a+48|0,i|0}function IT(i,r){var n=0,o=0,a=0,c=0;n=b-16|0,b=n,e[n+12>>2]=r,e[n>>2]=i,e[n+4>>2]=n+12;e:{t:{i:{if((we(i,0)|0)!=26||(r=1,(we(i,1)|0)!=19))break i;if(o=i+16|0,c=e[i+92>>2]&1,a=o+H(c,36)|0,e[a>>2]=0,e[a+4>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,a=e[i+88>>2],o=o+H(!c,36)|0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o>>2]=0,e[o+4>>2]=0,e[i+88>>2]=a-2,e[i+92>>2]=c,to(i,e[n+12>>2]),($N(n)|0)==1)break e;if((Ve(i,39)|0)!=1)break t;break e}if(r=1,($N(n)|0)==1)break e}r=0}return b=n+16|0,r}function xT(i,r){var n=0,o=0,a=0,c=0,g=0;if(n=b-32|0,b=n,c=e[i+24>>2],e[i+28>>2]=c,o=c,a=e[i+40>>2],g=e[i+36>>2],(a|0)!=(g|0)){for(;c=a-36|0,o=e[c+16>>2],o&&(e[a-16>>2]=o,P(o)),o=e[a-32>>2],o&&(e[a-28>>2]=o,P(o)),a=c,(g|0)!=(a|0););o=e[i+28>>2],c=e[i+24>>2]}e[i+40>>2]=g,e[n+16>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+28>>2]=0,a=o-c>>3,e[n+24>>2]=a;e:{if(nt[i+44>>2]>g>>>0){t1(g,0,n+8|0,r,a),e[i+40>>2]=g+36;break e}Zm(i+36|0,n+28|0,n+8|0,r,n+24|0)}return i=e[n+8>>2],i&&(e[n+12>>2]=i,P(i)),b=n+32|0,0}function y2(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;c=b-16|0,b=c,V_(+r),g=F0(1)|0,o=F0(0)|0,n=g&2147483647,a=n+-1048576|0;e:{if((a|0)==2145386495|a>>>0<2145386495){p=o<<28,a=n>>>4|0,n=(n&15)<<28|o>>>4,o=a+1006632960|0;break e}if((n|0)==2146435072|n>>>0>2146435072){p=o<<28,n=(g&15)<<28|o>>>4,o=g>>>4|2147418112;break e}if(!(n|o)){n=0,o=0;break e}a=n,n=n?Gi(n):Gi(o)+32|0,Dr(c,o,a,0,0,n+49|0),_=e[c>>2],p=e[c+4>>2],a=15372-n<<16,n=e[c+8>>2],o=a|e[c+12>>2]^65536}e[i>>2]=_,e[i+4>>2]=p,e[i+8>>2]=n,e[i+12>>2]=g&-2147483648|o,b=c+16|0}function ta(i,r){var n=0,o=0,a=0,c=0;o=b-48|0,b=o,c=r+16|0;e:{if(e[r+88>>2]){r=e[r+92>>2];break e}ri(o+8|0,e[r>>2],r),n=e[r+88>>2],e[r+88>>2]=n+1,r=e[r+92>>2],a=H(n+r&1,36)+c|0,n=e[o+12>>2],e[a>>2]=e[o+8>>2],e[a+4>>2]=n,e[a+32>>2]=e[o+40>>2],n=e[o+36>>2],e[a+24>>2]=e[o+32>>2],e[a+28>>2]=n,n=e[o+28>>2],e[a+16>>2]=e[o+24>>2],e[a+20>>2]=n,n=e[o+20>>2],e[a+8>>2]=e[o+16>>2],e[a+12>>2]=n}n=H(r&1,36)+c|0,r=e[n+4>>2],e[i>>2]=e[n>>2],e[i+4>>2]=r,e[i+16>>2]=e[n+16>>2],r=e[n+12>>2],e[i+8>>2]=e[n+8>>2],e[i+12>>2]=r,b=o+48|0}function Ta(i){var r=0;r=1;e:switch(i-55|0){default:r=0;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 10:case 11:case 12:case 13:case 14:case 17:case 18:case 19:case 20:case 21:case 22:case 25:case 26:case 28:case 29:case 30:case 31:case 33:case 34:case 35:case 36:case 37:case 38:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 64:case 65:break e}return r}function V$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;o=b-48|0,b=o,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],c=o+32|0,ci(c,n),e[o+16>>2]=r,e[o+20>>2]=S[o+43|0]<0?e[o+32>>2]:c,ee(a,33604,o+16|0),S[o+43|0]<0&&P(e[o+32>>2]),i=e[i+12>>2],a=e[n+4>>2],n=e[n>>2],e[o+24>>2]=n,e[o+28>>2]=a,c=e[e[i>>2]+584>>2],e[o+8>>2]=n,e[o+12>>2]=a,i=F[c|0](i,r,o+8|0)|0,b=o+48|0,i|0}function H$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30292,g),i=e[i+12>>2],i=F[e[e[i>>2]+556>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function U$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30360,g),i=e[i+12>>2],i=F[e[e[i>>2]+560>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function z$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30572,g),i=e[i+12>>2],i=F[e[e[i>>2]+272>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function G$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30155,g),i=e[i+12>>2],i=F[e[e[i>>2]+280>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function j$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30427,g),i=e[i+12>>2],i=F[e[e[i>>2]+284>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function Z$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30502,g),i=e[i+12>>2],i=F[e[e[i>>2]+276>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function Q$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30223,g),i=e[i+12>>2],i=F[e[e[i>>2]+288>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function Y$(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0,_=0,v=0;g=b-96|0,b=g,e[g+24>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],p=g+32|0,_=g+24|0,xe(p,_),v=e[g+32>>2],xe(p,_),e[g+16>>2]=a,e[g+20>>2]=c,e[g>>2]=v,e[g+8>>2]=n,e[g+12>>2]=o,e[g+4>>2]=e[g+84>>2],ee(r,30084,g),i=e[i+12>>2],i=F[e[e[i>>2]+296>>2]](i,e[g+24>>2],n,o,a,c)|0,b=g+96|0,i|0}function $$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;o=b-48|0,b=o,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],c=o+32|0,ci(c,n),e[o+16>>2]=r,e[o+20>>2]=S[o+43|0]<0?e[o+32>>2]:c,ee(a,33552,o+16|0),S[o+43|0]<0&&P(e[o+32>>2]),i=e[i+12>>2],a=e[n+4>>2],n=e[n>>2],e[o+24>>2]=n,e[o+28>>2]=a,c=e[e[i>>2]+592>>2],e[o+8>>2]=n,e[o+12>>2]=a,i=F[c|0](i,r,o+8|0)|0,b=o+48|0,i|0}function K$(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;e:{if(o){p=e[i+16>>2],a=e[p+4>>2],v=e[p>>2],L=a-v|0,c=n+o|0,_=r+o|0,c=c>>>0>_>>>0?c:_;t:{if(L>>>0>=c>>>0)break t;if(_=c-L|0,g=e[p+8>>2],_>>>0<=g-a>>>0){x=p,M=pn(a,0,_)+_|0,e[x+4>>2]=M;break t}if((c|0)<0)break e;if(a=g-v|0,g=a<<1,g=a>>>0<1073741823?c>>>0<g>>>0?g:c:2147483647,a=Z(g),pn(a+L|0,0,_),(L|0)>0&&Ce(a,v,L),e[p+8>>2]=a+g,e[p+4>>2]=a+c,e[p>>2]=a,!v)break t;P(v)}i=e[e[i+16>>2]>>2],wl(i+r|0,i+n|0,o)}return 0}Be(),Ie()}function X$(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;a=b-48|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+32>>2]=r,ee(o,28758,a+32|0),e[a+24>>2]=e[n+8>>2],o=e[n+4>>2],e[a+16>>2]=e[n>>2],e[a+20>>2]=o,QT(i,a+16|0),ee(e[i+8>>2],35622,0),i=e[i+12>>2],o=e[e[i>>2]+52>>2],e[a+8>>2]=e[n+8>>2],c=e[n+4>>2],e[a>>2]=e[n>>2],e[a+4>>2]=c,i=F[o|0](i,r,a)|0,b=a+48|0,i|0}function ET(i,r,n,o){var a=0,c=0,g=0,p=0;a=b+-64|0,b=a;e:{t:{i:{c=fe(a+24|0,r),g=e[c+24>>2],p=(e[n+4>>2]-e[n>>2]|0)/12|0;n:{s:{if(g>>>0>=p>>>0){if(e[a+8>>2]=p,e[a+4>>2]=g,e[a>>2]=13136,i=Ye(i,c,27451,a),te(c),!o)break e;if(!i)break s;break t}if(te(c),!o)break n}if(r=e[n>>2]+H(e[r+24>>2],12)|0,i=e[r+4>>2],n=e[r>>2],(i|0)==(n|0)){i=0;break t}if(i=i-n|0,(i|0)<0)break i;i=Z(i),n=e[r>>2],r=e[r+4>>2]-n|0,(r|0)>0?r=Ce(i,n,r)+r|0:r=i,or(o,i,r),P(i)}i=0;break e}Be(),Ie()}or(o,0,0)}return b=a- -64|0,i}function J$(i){i=i|0;var r=0,n=0,o=0,a=0,c=0,g=0,p=0;o=b-32|0,b=o,n=e[i+24>>2],a=e[i+20>>2],r=(n-a|0)/12|0;e:{if((n|0)==(a|0)){e[o+4>>2]=r,e[o>>2]=0,Yt(i,15800,o),n=1;break e}if(n=1,r>>>0<=1){e[o+20>>2]=r,e[o+16>>2]=1,Yt(i,15800,o+16|0);break e}if(c=r-1|0,g=H(c,12)+a|0,e[g>>2]==4){p=e[e[i+4>>2]+8>>2],n=e[i+32>>2],i=Ge(n),r=e[e[(H(r,12)+a|0)-20>>2]+4>>2],e[r+176>>2]=0,e[r+180>>2]=0,e[r+172>>2]=p,e[r+168>>2]=i,e[r+164>>2]=n,e[(H(c,12)+a|0)+4>>2]=r+184,e[g>>2]=5,n=0;break e}Yt(i,13154,0)}return b=o+32|0,n|0}function q$(i,r,n,o,a){if(i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,Yo(i,e[r+8>>2],a)){P5(r,n,o);return}e:{if(Yo(i,e[r>>2],a)){if(!(e[r+16>>2]!=(n|0)&e[r+20>>2]!=(n|0))){if((o|0)!=1)break e;e[r+32>>2]=1;return}e[r+32>>2]=o;t:{if(e[r+44>>2]==4)break t;if(ns[r+52>>1]=0,i=e[i+8>>2],F[e[e[i>>2]+20>>2]](i,r,n,n,1,a),y[r+53|0]){if(e[r+44>>2]=3,!y[r+52|0])break t;break e}e[r+44>>2]=4}if(e[r+20>>2]=n,e[r+40>>2]=e[r+40>>2]+1,e[r+36>>2]!=1|e[r+24>>2]!=2)break e;S[r+54|0]=1;return}i=e[i+8>>2],F[e[e[i>>2]+24>>2]](i,r,n,o,a)}}function eK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;a=b-48|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],c=e[n+4>>2],g=e[n>>2],e[a+16>>2]=r,p=a,_=Ls(g,c),e[p+20>>2]=_,e[a+24>>2]=At,ee(o,35431,a+16|0),i=e[i+12>>2],o=e[n+4>>2],n=e[n>>2],e[a+40>>2]=n,e[a+44>>2]=o,c=e[e[i>>2]+672>>2],e[a+8>>2]=n,e[a+12>>2]=o,i=F[c|0](i,r,a+8|0)|0,b=a+48|0,i|0}function tK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;a=b-48|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],c=e[r+4>>2],g=e[r>>2],e[a+24>>2]=n,p=a,_=Ls(g,c),e[p+16>>2]=_,e[a+20>>2]=At,ee(o,29797,a+16|0),i=e[i+12>>2],o=e[r+4>>2],r=e[r>>2],e[a+40>>2]=r,e[a+44>>2]=o,c=e[e[i>>2]+744>>2],e[a+8>>2]=r,e[a+12>>2]=o,i=F[c|0](i,a+8|0,n)|0,b=a+48|0,i|0}function iK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;a=b-48|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],c=e[n+4>>2],g=e[n>>2],e[a+16>>2]=r,p=a,_=Ls(g,c),e[p+20>>2]=_,e[a+24>>2]=At,ee(o,35243,a+16|0),i=e[i+12>>2],o=e[n+4>>2],n=e[n>>2],e[a+40>>2]=n,e[a+44>>2]=o,c=e[e[i>>2]+768>>2],e[a+8>>2]=n,e[a+12>>2]=o,i=F[c|0](i,r,a+8|0)|0,b=a+48|0,i|0}function Dh(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;if(a=e[i+24>>2],g=e[i+28>>2],a>>>0<g>>>0){e[a+8>>2]=o,e[a+4>>2]=n,e[a>>2]=r,e[i+24>>2]=a+12;return}e:{if(p=a,a=e[i+20>>2],v=p-a|0,_=(v|0)/12|0,c=_+1|0,c>>>0<357913942){if(g=(g-a|0)/12|0,p=g<<1,c=g>>>0<178956970?c>>>0<p>>>0?p:c:357913941,c>>>0>=357913942)break e;p=H(_,12),g=H(c,12),_=Z(g),c=p+_|0,e[c+8>>2]=o,e[c+4>>2]=n,e[c>>2]=r,r=c+H((v|0)/-12|0,12)|0,(v|0)>0&&Ce(r,a,v),e[i+20>>2]=r,e[i+28>>2]=g+_,e[i+24>>2]=c+12,a&&P(a);return}Nr(),Ie()}Be(),Ie()}function NT(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;return n=b-112|0,b=n,o=e[i+4>>2],a=r+72|0,xe(n+48|0,a),c=e[n+48>>2],g=Ge(c),be(o),U(e[o+24>>2],c,g,0,0),e[o+36>>2]=1,c=e[r+88>>2],o=e[r+92>>2],c|o&&(g=e[i+4>>2],e[n+32>>2]=c,e[n+36>>2]=o,yt(g,2784,n+32|0)),N5(a,e[r+80>>2],e[r+84>>2])||(o=e[i+4>>2],a=e[r+84>>2],e[n+16>>2]=e[r+80>>2],e[n+20>>2]=a,yt(o,2796,n+16|0)),o=e[i+4>>2],a=e[r+100>>2],e[n>>2]=e[r+96>>2],e[n+4>>2]=a,yt(o,2841,n),i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=n+112|0,0}function Ih(i,r,n,o,a,c){var g=0,p=0,_=0,v=0;e:{if(c&64){n=c+-64|0,r=n&31,(n&63)>>>0>=32?(n=0,r=a>>>r|0):(n=a>>>r|0,r=((1<<r)-1&a)<<32-r|o>>>r),o=0,a=0;break e}if(!c)break e;_=o,p=64-c|0,g=p&31,(p&63)>>>0>=32?(p=_<<g,v=0):(p=(1<<g)-1&_>>>32-g|a<<g,v=_<<g),_=r,r=c&31,(c&63)>>>0>=32?(g=0,r=n>>>r|0):(g=n>>>r|0,r=((1<<r)-1&n)<<32-r|_>>>r),r=v|r,n=g|p,g=o,o=c&31,(c&63)>>>0>=32?(p=0,o=a>>>o|0):(p=a>>>o|0,o=((1<<o)-1&a)<<32-o|g>>>o),a=p}e[i>>2]=r,e[i+4>>2]=n,e[i+8>>2]=o,e[i+12>>2]=a}function nK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;return o=b-32|0,b=o,S[o+24|0]=y[r+16|0],a=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[o+16>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[o+20>>2]=a,a=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[o+8>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[o+12>>2]=a,r=b-320|0,b=r,e[r+8>>2]=n,a=o+8|0,e[r+4>>2]=a,e[r>>2]=50420,n=hN(r+16|0,n,a),e[r+316>>2]=0,e[r+312>>2]=i,i=XE(r),e[r>>2]=50420,J_(n),b=r+320|0,b=o+32|0,i|0}function sK(i){i=i|0;var r=0,n=0,o=0,a=0;if(e[i>>2]=46156,o=e[i+108>>2],o){if(r=o,n=e[i+112>>2],(r|0)!=(n|0)){for(;;){if(n=n-12|0,r=e[n>>2],r)for(;a=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=a,!!r;);if(e[n+4>>2]=0,e[n>>2]=0,e[n+8>>2]=0,(n|0)==(o|0))break}r=e[i+108>>2]}e[i+112>>2]=o,P(r)}if(r=e[i+96>>2],r)for(;o=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=o,!!r;);return e[i+96>>2]=0,e[i+100>>2]=0,e[i+104>>2]=0,te(i+52|0),S[i+51|0]<0&&P(e[i+40>>2]),i|0}function rK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;n=b-48|0,b=n,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],a=n+32|0,ci(a,r),e[n+16>>2]=S[n+43|0]<0?e[n+32>>2]:a,ee(o,33533,n+16|0),S[n+43|0]<0&&P(e[n+32>>2]),i=e[i+12>>2],o=e[r+4>>2],r=e[r>>2],e[n+24>>2]=r,e[n+28>>2]=o,a=e[e[i>>2]+476>>2],e[n+8>>2]=r,e[n+12>>2]=o,i=F[a|0](i,n+8|0)|0,b=n+48|0,i|0}function h8(i,r,n){var o=0,a=0,c=0,g=0,p=0;o=1;e:{if((dN(i,34,r,n,r+24|0,0)|0)==1)break e;for(n=i+16|0,c=r+44|0,g=r+12|0;;){if(o=0,(we(i,0)|0)!=26||(we(i,1)|0)!=38||(o=1,a=e[i+92>>2]&1,r=n+H(a,36)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,p=e[i+88>>2],r=n+H(!a,36)|0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[i+88>>2]=p-2,e[i+92>>2]=a,(Hm(i,g,c)|0)==1))break e;if((Ve(i,39)|0)==1)break}}return o}function oK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;if(n=b-144|0,b=n,a=e[e[i+4>>2]+8>>2],o=e[i+32>>2],e[n+20>>2]=0,e[n+24>>2]=0,c=Ge(o),e[n+16>>2]=a,e[n+12>>2]=c,e[n+8>>2]=o,o=Ne(n+32|0,r,n+8|0),e[n+88>>2]=0,e[n+80>>2]=0,e[n+84>>2]=0,e[n+72>>2]=0,e[n+76>>2]=0,a=fe(n+92|0,o),e[n+136>>2]=0,e[n+128>>2]=0,e[n+132>>2]=0,c=jN(i,n+72|0),i=e[n+128>>2],i)for(;r=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=r,!!i;);return e[n+136>>2]=0,e[n+128>>2]=0,e[n+132>>2]=0,te(a),te(o),b=n+144|0,c|0}function Jk(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;p=e[r+4>>2];e:{g=e[r>>2];t:{if((g|0)==-64)break t;if(r=e[i+28>>2],(r|0)!=e[i+32>>2])return e[r>>2]=g,e[r+4>>2]=p,e[i+28>>2]=r+8,0;if(c=e[i+24>>2],a=r-c|0,o=a>>3,r=o+1|0,r>>>0>=536870912)break e;if(n=a>>2,n=a>>>0<2147483640?r>>>0<n>>>0?n:r:536870911,n){if(n>>>0>=536870912)break e;r=Z(n<<3)}else r=0;if(o=r+(o<<3)|0,e[o>>2]=g,e[o+4>>2]=p,(a|0)>0&&Ce(r,c,a),e[i+32>>2]=r+(n<<3),e[i+28>>2]=o+8,e[i+24>>2]=r,!c)break t;P(c)}return 0}Be(),Ie()}function lK(i){i=i|0;var r=0,n=0,o=0,a=0;if(e[i>>2]=46156,o=e[i+108>>2],o){if(r=o,n=e[i+112>>2],(r|0)!=(n|0)){for(;;){if(n=n-12|0,r=e[n>>2],r)for(;a=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=a,!!r;);if(e[n+4>>2]=0,e[n>>2]=0,e[n+8>>2]=0,(n|0)==(o|0))break}r=e[i+108>>2]}e[i+112>>2]=o,P(r)}if(r=e[i+96>>2],r)for(;o=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=o,!!r;);e[i+96>>2]=0,e[i+100>>2]=0,e[i+104>>2]=0,te(i+52|0),S[i+51|0]<0&&P(e[i+40>>2]),P(i)}function Go(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;c=b-16|0,b=c,n=e[i+40>>2],o=e[i+36>>2];e:{if((n|0)==(o|0)){e[c>>2]=0,e[c+4>>2]=-1,xt(i,27759,c),n=1;break e}if(g=e[i+28>>2],p=e[i+24>>2],a=g-p>>3,_=((n-o|0)/36|0)-1|0,n=e[(o+H(_,36)|0)+28>>2],a>>>0<n+r>>>0){t:{if(n>>>0>a>>>0){ys(i+24|0,n-a|0);break t}if(n>>>0>=a>>>0)break t;e[i+28>>2]=(n<<3)+p}n=y[(o+H(_,36)|0)+32|0]^1;break e}if(n=0,!r)break e;o=r<<3,r=g-o|0,o=r+o|0,a=g-o|0,(o|0)!=(g|0)&&wl(r,o,a),e[i+28>>2]=r+a}return b=c+16|0,n}function Jm(i,r,n){var o=0;e:{if(!y[e[i+20>>2]+2|0]||(o=H(r,12)+i|0,r=e[o- -64>>2],e[o+68>>2]-r>>2>>>0<=n>>>0))break e;r=e[r+(n<<2)>>2],be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],5799,6,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2,n=y[r+15|0],o=n<<24>>24<0,Qc(i,o?e[r+4>>2]:r+4|0,o?e[r+8>>2]:n),e[i+36>>2]=1,n=y[r+27|0],o=n<<24>>24<0,Qc(i,o?e[r+16>>2]:r+16|0,o?e[r+20>>2]:n),e[i+36>>2]=0,e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1}}function aK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;return o=b-16|0,b=o,n=e[i+4>>2],be(n),U(e[n+24>>2],27980,1,0,0),e[n+36>>2]=0,be(n),U(e[n+24>>2],26446,15,0,0),e[n+36>>2]=0,e[n+32>>2]=e[n+32>>2]+2,n=e[r+40>>2],c=e[r+36>>2],a=e[i+4>>2],be(a),U(e[a+24>>2],c,n,0,0),n=e[e[i+4>>2]+24>>2],S[o+15|0]=32,U(n,o+15|0,1,0,0),n=e[r+44>>2],Qc(e[i+4>>2],n,e[r+48>>2]-n|0),i=e[i+4>>2],e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1,b=o+16|0,0}function ia(i,r,n){var o=0,a=0,c=0;if(o=b-32|0,b=o,ns[o+16>>1]=36,S[o+27|0]=1,n>>>0<4294967280){e:{t:{if(n>>>0>=11){c=n+16&-16,a=Z(c),e[o+8>>2]=c|-2147483648,e[o>>2]=a,e[o+4>>2]=n;break t}if(S[o+11|0]=n,a=o,!n)break e}Ce(a,r,n)}S[n+a|0]=0,n=y[o+11|0],r=n<<24>>24<0,n=Mn(o+16|0,r?e[o>>2]:o,r?e[o+4>>2]:n),r=e[n+4>>2],e[i>>2]=e[n>>2],e[i+4>>2]=r,e[i+8>>2]=e[n+8>>2],e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,S[o+11|0]<0&&P(e[o>>2]),S[o+27|0]<0&&P(e[o+16>>2]),b=o+32|0;return}Be(),Ie()}function d8(i,r){var n=0,o=0,a=0;n=b-32|0,b=n;e:{t:{if(e[r+44>>2]!=e[r+40>>2]||(a=e[r+56>>2],o=e[r+52>>2],a-o>>>0>15))break t;if(i=e[i>>2],(o|0)==(a|0)){e[n+24>>2]=-64,e[n+28>>2]=-1,e[n>>2]=-64,e[n+4>>2]=-1,D2(i,n);break e}r=e[o+4>>2],o=e[o>>2],e[n+8>>2]=o,e[n+12>>2]=r,e[n+16>>2]=o,e[n+20>>2]=r,D2(i,n+8|0);break e}o=e[i+8>>2];t:{if(y[r|0]){r=di(o+276|0,r+4|0);break t}r=jk(o,r+40|0)}if(y[e[i+4>>2]+18|0]){rr(i,6,r),Oa(e[i>>2],r,1554);break e}Rn(e[i>>2],r,1554)}b=n+32|0}function cK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;return o=e[e[i+4>>2]+8>>2],a=e[i+32>>2],c=Ge(a),r=Z(80),e[r+32>>2]=7,e[r+12>>2]=a,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=38524,S[r+40|0]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=o,e[r+16>>2]=c,S[r+51|0]=0,o=e[n+4>>2],e[r+56>>2]=e[n>>2],e[r+60>>2]=o,a=e[n+12>>2],o=r- -64|0,e[o>>2]=e[n+8>>2],e[o+4>>2]=a,n=y[n+15|0]|y[n+16|0]<<8|(y[n+17|0]<<16|y[n+18|0]<<24),S[r+71|0]=n,S[r+72|0]=n>>>8,S[r+73|0]=n>>>16,S[r+74|0]=n>>>24,r8(e[i+12>>2],r),0}function uK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0,p=0,_=0,v=0,L=0,x=0,M=0;e:{if(o){p=r+o|0,g=e[i+16>>2],a=e[g+4>>2],_=e[g>>2],v=a-_|0;t:{if(p>>>0<=v>>>0)break t;if(L=p-v|0,c=e[g+8>>2],L>>>0<=c-a>>>0){x=g,M=pn(a,0,L)+L|0,e[x+4>>2]=M;break t}if((p|0)<0)break e;if(a=c-_|0,c=a<<1,c=a>>>0<1073741823?p>>>0<c>>>0?c:p:2147483647,a=Z(c),pn(a+v|0,0,L),(v|0)>0&&Ce(a,_,v),e[g+8>>2]=a+c,e[g+4>>2]=a+p,e[g>>2]=a,!_)break t;P(_)}Ce(e[e[i+16>>2]>>2]+r|0,n,o)}return 0}Be(),Ie()}function Dr(i,r,n,o,a,c){var g=0,p=0,_=0;e:{if(c&64){o=r,a=c+-64|0,r=a&31,(a&63)>>>0>=32?(a=o<<r,o=0):(a=(1<<r)-1&o>>>32-r|n<<r,o=o<<r),r=0,n=0;break e}if(!c)break e;g=o,o=c&31,(c&63)>>>0>=32?(p=g<<o,_=0):(p=(1<<o)-1&g>>>32-o|a<<o,_=g<<o),g=r,a=64-c|0,o=a&31,(a&63)>>>0>=32?(a=0,r=n>>>o|0):(a=n>>>o|0,r=((1<<o)-1&n)<<32-o|g>>>o),o=_|r,a=a|p,r=c&31,(c&63)>>>0>=32?(p=g<<r,r=0):(p=(1<<r)-1&g>>>32-r|n<<r,r=g<<r),n=p}e[i>>2]=r,e[i+4>>2]=n,e[i+8>>2]=o,e[i+12>>2]=a}function qk(i,r,n){var o=0,a=0,c=0,g=0,p=0;a=b-32|0,b=a,o=1,c=e[i+12>>2],g=c+1|0,p=e[i>>2];e:{if(g>>>0>p>>>0){e[a+4>>2]=n,e[a>>2]=7319,Q(i,9787,a);break e}if(o=e[i+4>>2],c=y[o+c|0],e[i+12>>2]=g,(c+4&255)>>>0<=2){if(o=qe(o+g|0,o+p|0,a+28|0),!o){e[a+16>>2]=n,Q(i,10147,a+16|0),o=1;break e}e[i+12>>2]=o+e[i+12>>2],o=0,g=r,i=e[a+28>>2],n=c<<8|(i>>>0<255?i:255),r=e[(n<<2)+92144>>2],e[g>>2]=i?r||0-n|0:r;break e}o=0,i=e[(c<<2)+92144>>2],e[r>>2]=c?i||0-c|0:i}return b=a+32|0,o}function TT(i,r){var n=0,o=0,a=0;n=b-32|0,b=n,y[r+20|0]&&(be(i),U(e[i+24>>2],27980,1,0,0),e[i+36>>2]=0,be(i),U(e[i+24>>2],5627,3,0,0),e[i+36>>2]=1,e[i+32>>2]=e[i+32>>2]+2),o=e[r+16>>2],e[n+24>>2]=e[r+12>>2],e[n+28>>2]=o,o=n+8|0,ci(o,n+24|0),o=S[n+19|0]<0?e[n+8>>2]:o,a=Ge(o),be(i),U(e[i+24>>2],o,a,0,0),e[i+36>>2]=1,S[n+19|0]<0&&P(e[n+8>>2]),y[r+20|0]&&(e[i+36>>2]!=3&&(e[i+36>>2]=0),e[i+32>>2]=e[i+32>>2]-2,be(i),U(e[i+24>>2],27978,1,0,0),e[i+36>>2]=1),b=n+32|0}function RT(i,r){var n=0,o=0,a=0,c=0,g=0;e:{t:{if(g=e[r+4>>2],g){o=-1,a=e[r>>2],c=g+a|0,n=c;i:{for(;;){if((n|0)==(a|0))break i;if(n=n-1|0,y[n|0]==47)break}o=n-a|0}n=-1;i:{for(;;){if((a|0)==(c|0))break i;if(c=c-1|0,y[c|0]==92)break}n=c-a|0}if((n&o)!=-1)break t}break e}t:{if((o|0)==-1){if((n|0)!=-1)break t;break e}n=(n|0)==-1||n>>>0<o>>>0?o:n}if(n>>>0<g>>>0){r=n+1|0,e[i+4>>2]=g-r,e[i>>2]=r+a;return}Be(),Ie()}n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n}function Ki(i,r,n,o){var a=0,c=0,g=0;a=b-16|0,b=a;e:{t:{if(!n)break t;for(g=r+n|0,c=r;;){if(y[y[c|0]+55808|0]){if(c=c+1|0,(g|0)!=(c|0))continue;break t}break}for(e[a+8>>2]=0,e[a>>2]=0,e[a+4>>2]=0;n=y[r|0],Qs(a,(y[n+55808|0]?n:95)<<24>>24),r=r+1|0,(g|0)!=(r|0););if(r=y[a+11|0],n=e[a+4>>2],c=e[a>>2],be(i),g=c,c=r<<24>>24<0,U(e[i+24>>2],c?g:a,c?n:r,0,0),S[a+11|0]>=0)break e;P(e[a>>2]);break e}be(i),U(e[i+24>>2],r,n,0,0)}e[i+36>>2]=o,b=a+16|0}function i1(i,r,n,o){var a=0,c=0;c=b-16|0,b=c,a=Z(40),e[a+32>>2]=o,e[a+4>>2]=0,e[a+8>>2]=0,e[a+36>>2]=r,e[a>>2]=n,r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],o=Ge(n),e[a+24>>2]=0,e[a+28>>2]=0,e[a+20>>2]=r,e[a+16>>2]=o,e[a+12>>2]=n,o=e[i+24>>2],r=e[i+20>>2],n=(o-r|0)/12|0;e:{if((r|0)!=(o|0)){i=e[(r+H(n,12)|0)-8>>2],r=e[i+4>>2],r?(e[a+8>>2]=r,r=r+4|0):r=i,e[r>>2]=a,e[i+4>>2]=a,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[c+4>>2]=n,e[c>>2]=0,Yt(i,15800,c),P(a),i=1}return b=c+16|0,i}function hK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;o=b-32|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],c=o,g=Ls(e[r>>2],e[r+4>>2]),e[c+16>>2]=g,e[o+20>>2]=At,ee(n,35282,o+16|0),a=e[i+12>>2],n=e[r+4>>2],r=e[r>>2],e[o+24>>2]=r,e[o+28>>2]=n,i=e[e[a>>2]+660>>2],e[o+8>>2]=r,e[o+12>>2]=n,i=F[i|0](a,o+8|0)|0,b=o+32|0,i|0}function dK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;o=b-32|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],c=o,g=Ls(e[r>>2],e[r+4>>2]),e[c+16>>2]=g,e[o+20>>2]=At,ee(n,33505,o+16|0),a=e[i+12>>2],n=e[r+4>>2],r=e[r>>2],e[o+24>>2]=r,e[o+28>>2]=n,i=e[e[a>>2]+752>>2],e[o+8>>2]=r,e[o+12>>2]=n,i=F[i|0](a,o+8|0)|0,b=o+32|0,i|0}function MT(i,r){if(!i)return 0;e:{t:{if(i){if(r>>>0<=127)break t;i:{if(!e[e[98211]>>2]){if((r&-128)==57216)break t;break i}if(r>>>0<=2047){S[i+1|0]=r&63|128,S[i|0]=r>>>6|192,i=2;break e}if(!((r&-8192)!=57344&r>>>0>=55296)){S[i+2|0]=r&63|128,S[i|0]=r>>>12|224,S[i+1|0]=r>>>6&63|128,i=3;break e}if(r-65536>>>0<=1048575){S[i+3|0]=r&63|128,S[i|0]=r>>>18|240,S[i+2|0]=r>>>6&63|128,S[i+1|0]=r>>>12&63|128,i=4;break e}}e[98173]=25,i=-1}else i=1;break e}S[i|0]=r,i=1}return i}function fK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;a=b-16|0,b=a,o=r+40|0,n=e[i+76>>2];e:{if((n|0)!=e[i+80>>2]){t:{if(S[o+11|0]>=0){c=e[o+4>>2],e[n>>2]=e[o>>2],e[n+4>>2]=c,e[n+8>>2]=e[o+8>>2];break t}Ni(n,e[r+40>>2],e[r+44>>2])}e[i+76>>2]=n+12;break e}o8(i+72|0,o)}e:{if(!y[r+52|0]|e[r+76>>2]!=1)break e;if(o=r+56|0,n=di(e[i+12>>2]+276|0,o),(n|0)==-1){n=r+80|0,c=e[n>>2],r=S[r+91|0],e[a>>2]=14425,e[a+4>>2]=(r|0)<0?c:n,ss(i,o,28271,a);break e}As(o,n)}return b=a+16|0,0}function e5(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;a=b-16|0,b=a,o=r+36|0,n=e[i+76>>2];e:{if((n|0)!=e[i+80>>2]){t:{if(S[o+11|0]>=0){c=e[o+4>>2],e[n>>2]=e[o>>2],e[n+4>>2]=c,e[n+8>>2]=e[o+8>>2];break t}Ni(n,e[r+36>>2],e[r+40>>2])}e[i+76>>2]=n+12;break e}o8(i+72|0,o)}e:{if(!y[r+48|0]|e[r+72>>2]!=1)break e;if(o=r+52|0,n=di(e[i+12>>2]+276|0,o),(n|0)==-1){n=r+76|0,c=e[n>>2],r=S[r+87|0],e[a>>2]=14425,e[a+4>>2]=(r|0)<0?c:n,ss(i,o,28271,a);break e}As(o,n)}return b=a+16|0,0}function t5(i,r,n,o,a){var c=0,g=0,p=0,_=0,v=0,L=0;return c=b-80|0,b=c,g=e[n+4>>2],p=e[n>>2],e[c+72>>2]=p,e[c+76>>2]=g,_=e[o+4>>2],v=e[o>>2],e[c+64>>2]=v,e[c+68>>2]=_,e[c+24>>2]=p,e[c+28>>2]=g,e[c+16>>2]=v,e[c+20>>2]=_,(dR(c+24|0,c+16|0)|0)==1&&(g=c+48|0,ci(g,n),n=e[c+48>>2],_=S[c+59|0],p=c+32|0,ci(p,o),e[c>>2]=a,e[c+4>>2]=(_|0)<0?n:g,e[c+8>>2]=S[c+43|0]<0?e[c+32>>2]:p,Ye(i,r,9651,c),S[c+43|0]<0&&P(e[c+32>>2]),S[c+59|0]<0&&P(e[c+48>>2]),L=1),b=c+80|0,L}function i5(i,r,n){var o=0,a=0;o=(n|0)!=0;e:{t:{i:{if(!(i&3)|!n)break i;for(a=r&255;;){if((a|0)==y[i|0])break t;if(n=n-1|0,o=(n|0)!=0,i=i+1|0,!(i&3))break i;if(!n)break}}if(!o)break e}t:{if(!(y[i|0]==(r&255)|n>>>0<4))for(o=H(r&255,16843009);;){if(a=o^e[i>>2],(a^-1)&a-16843009&-2139062144)break t;if(i=i+4|0,n=n-4|0,!(n>>>0>3))break}if(!n)break e}for(r=r&255;;){if((r|0)==y[i|0])return i;if(i=i+1|0,n=n-1|0,!n)break}}return 0}function Qc(i,r,n){var o=0,a=0,c=0,g=0;if(o=b-16|0,b=o,be(i),a=e[i+24>>2],S[o+10|0]=34,U(a,o+10|0,1,0,0),n)for(;;){c=e[i+24>>2],a=y[r+g|0];e:{if(y[a+56096|0]){S[o+12|0]=92,U(c,o+12|0,1,0,0),c=e[i+24>>2],S[o+13|0]=y[(a>>>4|0)+56064|0],U(c,o+13|0,1,0,0),c=e[i+24>>2],S[o+14|0]=y[(a&15)+56064|0],U(c,o+14|0,1,0,0);break e}S[o+15|0]=a,U(c,o+15|0,1,0,0)}if(g=g+1|0,(g|0)==(n|0))break}r=e[i+24>>2],S[o+11|0]=34,U(r,o+11|0,1,0,0),e[i+36>>2]=1,b=o+16|0}function PT(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;o=b-32|0,b=o;e:{if(!y[r+36|0]|e[r+60>>2]!=1)break e;if(a=r+40|0,n=di(e[i+12>>2]+276|0,a),(n|0)==-1){n=r- -64|0,c=e[n>>2],g=S[r+75|0],e[o+16>>2]=14425,e[o+20>>2]=(g|0)<0?c:n,ss(i,a,28271,o+16|0);break e}As(a,n)}e:{if(e[r+160>>2]!=1)break e;if(a=r+140|0,n=di(e[i+12>>2]+296|0,a),(n|0)==-1){n=r+164|0,c=e[n>>2],r=S[r+175|0],e[o>>2]=15348,e[o+4>>2]=(r|0)<0?c:n,ss(i,a,28271,o);break e}As(a,n)}return b=o+32|0,0}function qm(i,r,n){var o=0,a=0,c=0;a=b-16|0,b=a,o=Z(36),e[o+32>>2]=n,e[o+4>>2]=0,e[o+8>>2]=0,e[o>>2]=r,r=e[e[i+4>>2]+8>>2],n=e[i+32>>2],c=Ge(n),e[o+24>>2]=0,e[o+28>>2]=0,e[o+20>>2]=r,e[o+16>>2]=c,e[o+12>>2]=n,c=e[i+24>>2],r=e[i+20>>2],n=(c-r|0)/12|0;e:{if((r|0)!=(c|0)){i=e[(r+H(n,12)|0)-8>>2],r=e[i+4>>2],r?(e[o+8>>2]=r,r=r+4|0):r=i,e[r>>2]=o,e[i+4>>2]=o,e[i+8>>2]=e[i+8>>2]+1,i=0;break e}e[a+4>>2]=n,e[a>>2]=0,Yt(i,15800,a),P(o),i=1}return b=a+16|0,i}function na(i,r,n){var o=0,a=0;o=b-48|0,b=o,a=e[i+132>>2];e:{if((a|0)==e[i+136>>2]){e[o>>2]=0,e[o+4>>2]=0,Q(i,2746,o),i=1;break e}if(y[a+18|0]){if(a=e[i+4>>2],r=vk(a+e[i+12>>2]|0,a+e[i>>2]|0,r),!r){e[o+32>>2]=n,Q(i,10087,o+32|0),i=1;break e}e[i+12>>2]=r+e[i+12>>2],i=0;break e}a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,o+44|0);t:{if(!a){e[o+16>>2]=n,Q(i,10147,o+16|0),i=1;break t}e[i+12>>2]=a+e[i+12>>2],i=0}e[r>>2]=e[o+44>>2],e[r+4>>2]=0}return b=o+48|0,i}function Wr(i,r,n,o,a,c,g,p,_){var v=0,L=0,x=0,M=0;p=ki(r,n,p,_),_=At,v=p,p=ki(o,a,c,g),a=v+p|0,o=At+_|0,_=a,p=_>>>0<p>>>0?o+1|0:o,v=_,L=g,a=0,x=n,o=0,_=ki(g,a,n,o),g=v+_|0,n=At+p|0,v=g,g=g>>>0<_>>>0?n+1|0:n,p=c,_=r,c=ki(p,0,_,0),r=At,n=0,o=ki(p,n,x,o),r=r+o|0,n=At+n|0,n=r>>>0<o>>>0?n+1|0:n,p=n,n=n+v|0,o=g,o=n>>>0<p>>>0?o+1|0:o,p=n,n=o,o=ki(_,M,L,a)+r|0,a=At,a=r>>>0>o>>>0?a+1|0:a,g=i,_=a,p=_+p|0,e[g+8>>2]=p,e[g+12>>2]=p>>>0<_>>>0?n+1|0:n,e[g>>2]=c,e[g+4>>2]=o}function n5(i,r,n){var o=0,a=0,c=0,g=0,p=0;if(o=b-48|0,b=o,ee(e[i+8>>2],24508,0),r)for(p=r-1|0;;){a=(c<<3)+n|0,g=e[a+4>>2],a=e[a>>2],e[o+24>>2]=a,e[o+28>>2]=g,g=e[i+8>>2];e:{if((a|0)>=0){e[o>>2]=a,ee(g,24443,o);break e}if(a=o+32|0,ci(a,o+24|0),e[o+16>>2]=S[o+43|0]<0?e[o+32>>2]:a,ee(g,10204,o+16|0),S[o+43|0]>=0)break e;P(e[o+32>>2])}if((c|0)!=(p|0)&&ee(e[i+8>>2],28838,0),c=c+1|0,(c|0)==(r|0))break}ee(e[i+8>>2],24467,0),b=o+48|0}function Ra(i,r,n){var o=0,a=0,c=0,g=0;a=b-32|0,b=a,e[a+28>>2]=0,o=e[i+4>>2],o=jc(o+e[i+12>>2]|0,o+e[i>>2]|0,a+28|0);e:{if(!o){e[a>>2]=n,Q(i,10177,a),o=1;break e}if(c=o+e[i+12>>2]|0,e[i+12>>2]=c,o=e[a+28>>2],(o|0)==-21){if(o=0,e[a+24>>2]=0,g=c,c=e[i+4>>2],c=jc(g+c|0,c+e[i>>2]|0,a+24|0),!c){e[a+16>>2]=n,Q(i,10177,a+16|0),o=1;break e}e[i+12>>2]=c+e[i+12>>2],i=e[a+24>>2],e[r>>2]=-21,e[r+4>>2]=i;break e}e[r>>2]=o,e[r+4>>2]=-1,o=0}return b=a+32|0,o}function gK(i){i=i|0;var r=0,n=0,o=0,a=0;if(r=b-96|0,b=r,o=e[e[i+4>>2]+8>>2],n=e[i+32>>2],a=Ge(n),e[r+12>>2]=0,e[r+16>>2]=0,e[r+8>>2]=o,e[r+4>>2]=a,e[r>>2]=n,e[r+88>>2]=0,e[r+80>>2]=0,e[r+84>>2]=0,e[r+72>>2]=0,e[r+76>>2]=0,n=Ne(r+20|0,-1,r+72|0),e[r- -64>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,a=jN(i,r),i=e[r+56>>2],i)for(;o=e[i+4>>2],F[e[e[i>>2]+4>>2]](i),i=o,!!i;);return e[r+64>>2]=0,e[r+56>>2]=0,e[r+60>>2]=0,te(n),b=r+96|0,a|0}function OT(i,r,n){var o=0,a=0,c=0;if(c=e[i+4>>2],a=e[n+40>>2],(a|0)!=e[n+44>>2])for(;cT(c,(o<<3)+a|0,o,e[n+64>>2],e[n+68>>2]),o=o+1|0,a=e[n+40>>2],o>>>0<e[n+44>>2]-a>>3>>>0;);if(a=e[n+52>>2],(a|0)!=e[n+56>>2])for(o=0;cT(c,(o<<3)+a|0,o,e[n+84>>2],e[n+88>>2]),o=o+1|0,a=e[n+52>>2],o>>>0<e[n+56>>2]-a>>3>>>0;);a5(e[i+4>>2],n),e[n+44>>2]==e[n+40>>2]&e[n+56>>2]-e[n+52>>2]>>>0<16||Tk(r,e[i+4>>2],n)}function mK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;o=b-32|0,b=o;e:{if(e[r+92>>2]!=1)break e;if(a=r+72|0,n=di(e[i+12>>2]+336|0,a),(n|0)==-1){n=r+96|0,c=e[n>>2],g=S[r+107|0],e[o+16>>2]=6669,e[o+20>>2]=(g|0)<0?c:n,ss(i,a,28271,o+16|0);break e}As(a,n)}e:{if(e[r+56>>2]!=1)break e;if(a=r+36|0,n=di(e[i+12>>2]+316|0,a),(n|0)==-1){n=r+60|0,c=e[n>>2],r=S[r+71|0],e[o>>2]=1137,e[o+4>>2]=(r|0)<0?c:n,ss(i,a,28271,o);break e}As(a,n)}return b=o+32|0,0}function n1(i,r,n,o){var a=0,c=0;a=b-16|0,b=a;e:{t:{i:{n:switch(c=y[i|0],c-43|0){case 0:case 2:break i;default:break n}e[a+8>>2]=0,e[a+12>>2]=0,i=k2(i,r,a+8|0);break t}if(!o){o=1;break e}if(e[a+8>>2]=0,e[a+12>>2]=0,o=1,i=k2(i+1|0,r,a+8|0),(c|0)==45){if(c=e[a+12>>2],r=e[a+8>>2],(c|0)==-2147483648&(r|0)!=0|c>>>0>2147483648)break e;e[a+8>>2]=0-r,e[a+12>>2]=0-(c+((r|0)!=0)|0)}}o=i,i=e[a+12>>2],e[n>>2]=e[a+8>>2],e[n+4>>2]=i}return b=a+16|0,o}function f8(i,r){var n=0,o=0,a=0,c=0;e:{t:{i:{if((we(i,0)|0)!=26||(c=1,(we(i,1)|0)!=45))break i;if(n=i+16|0,a=e[i+92>>2]&1,o=n+H(a,36)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,o=e[i+88>>2],n=n+H(!a,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=o-2,e[i+92>>2]=a,S[r|0]=1,(qt(i,r+4|0)|0)==1)break e;if((Ve(i,39)|0)!=1)break t;break e}S[r|0]=0}c=0}return c}function pK(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0,p=0;g=b-16|0,b=g,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return p=e[i+8>>2],c=25075,c=r>>>0<=22?e[(r<<2)+58480>>2]:c,e[g+12>>2]=a,e[g+8>>2]=o,e[g+4>>2]=n,e[g>>2]=c,ee(p,34938,g),i=e[i+12>>2],i=F[e[e[i>>2]+716>>2]](i,r,n,o,a)|0,b=g+16|0,i|0}function ys(i,r){var n=0,o=0,a=0,c=0,g=0,p=0,_=0;if(a=e[i+8>>2],n=e[i+4>>2],a-n>>3>>>0>=r>>>0){r&&(r=r<<3,n=pn(n,0,r)+r|0),e[i+4>>2]=n;return}e:{if(c=e[i>>2],g=n-c|0,p=g>>3,o=p+r|0,o>>>0>=536870912)break e;if(n=0,a=a-c|0,_=a>>2,o=a>>>0<2147483640?o>>>0<_>>>0?_:o:536870911,o){if(o>>>0>=536870912)break e;n=Z(o<<3)}r=r<<3,r=pn((p<<3)+n|0,0,r)+r|0,(g|0)>0&&Ce(n,c,g),e[i+8>>2]=(o<<3)+n,e[i+4>>2]=r,e[i>>2]=n,c&&P(c);return}Be(),Ie()}function AK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0,p=0;return n=b-80|0,b=n,a=e[e[i+4>>2]+8>>2],o=e[i+32>>2],e[n+52>>2]=0,e[n+56>>2]=0,c=Ge(o),e[n+48>>2]=a,e[n+44>>2]=c,e[n+40>>2]=o,o=n+40|0,r=Ne(n,r,o),a=e[e[i+4>>2]+8>>2],c=e[i+12>>2],g=e[i+32>>2],p=Ge(g),i=Z(72),o=fe(o,r),e[i+32>>2]=9,e[i+24>>2]=0,e[i+28>>2]=0,e[i+20>>2]=a,e[i+16>>2]=p,e[i+12>>2]=g,e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=38884,fe(i+36|0,o),te(o),Qk(c,i),te(r),b=n+80|0,0}function s5(i,r,n,o,a,c){var g=0,p=0,_=0,v=0;g=b-32|0,b=g;e:{if(e[r+56>>2]!=1)break e;if(p=e[i+12>>2]+c|0,c=r+36|0,p=di(p,c),(p|0)==-1){p=r+60|0,_=e[p>>2],v=S[r+71|0],e[g+16>>2]=a,e[g+20>>2]=(v|0)<0?_:p,ss(i,c,28271,g+16|0);break e}As(c,p)}e:{if(e[r+92>>2]!=1)break e;if(a=e[i+12>>2]+o|0,o=r+72|0,a=di(a,o),(a|0)==-1){a=r+96|0,c=e[a>>2],r=S[r+107|0],e[g>>2]=n,e[g+4>>2]=(r|0)<0?c:a,ss(i,o,28271,g);break e}As(o,a)}return b=g+32|0,0}function _K(i){i=i|0;var r=0;e:{if(e[i>>2]!=26)break e;r=1;t:{i:switch(i=e[i+4>>2],i-11|0){case 0:case 4:case 6:case 7:case 10:case 11:case 16:case 30:case 32:case 34:break e;case 1:case 2:case 3:case 5:case 8:case 9:case 12:case 13:case 14:case 15:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 31:case 33:break t;default:break i}if((i|0)==128)break e}r=0}return r|0}function CK(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0;var g=0,p=0;p=b-16|0,b=p,g=e[i+16>>2];e:{t:{if(g>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),g=g-142|0,g>>>0>142;);g=e[i+16>>2];break t}if(!g)break e}U(e[i+8>>2],58304,g,0,0)}return g=e[i+8>>2],e[p>>2]=r,ee(g,28601,p),n5(i,n,o),ee(e[i+8>>2],28589,0),n5(i,a,c),ee(e[i+8>>2],35622,0),i=e[i+12>>2],i=F[e[e[i>>2]+44>>2]](i,r,n,o,a,c)|0,b=p+16|0,i|0}function FT(i,r,n){var o=0,a=0,c=0,g=0;a=b-96|0,b=a;e:{t:{i:{if(g=fe(a+16|0,r),r=fe(a+56|0,g),c=e[r+24>>2],o=(e[i+200>>2]-e[i+196>>2]|0)/12|0,c>>>0>=o>>>0){if(e[a+8>>2]=o,e[a+4>>2]=c,e[a>>2]=12312,c=Ye(i,r,27451,a),te(r),!n)break e;if(!c)break i;r=1,i=-1,o=0;break t}if(te(r),n)break i;c=0;break e}o=e[i+196>>2]+H(e[g+24>>2],12)|0,r=y[o+8|0],i=e[o+4>>2],c=0,o=e[o>>2]}S[n+8|0]=r,e[n+4>>2]=i,e[n>>2]=o}return te(g),b=a+96|0,c}function wK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;return c=e[r+36>>2],n=b-96|0,b=n,e[n+24>>2]=456,o=i+16|0,a=r+12|0,e[o+112>>2]=e[a+16>>2],r=e[a+12>>2],e[o+104>>2]=e[a+8>>2],e[o+108>>2]=r,r=e[a+4>>2],e[o+96>>2]=e[a>>2],e[o+100>>2]=r,g=y[o+116|0],g?(xe(n+32|0,n+24|0),e[n+16>>2]=e[n+32>>2],Ye(o,a,9809,n+16|0),r=1):r=0,c&&(e[n>>2]=c,r=(Ye(o,a,5550,n)|0)==1|(g|0)!=0),b=n+96|0,e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,0}function vK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,e[n+8>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],o=n+16|0,a=n+8|0,xe(o,a),c=e[n+16>>2],xe(o,a),e[n>>2]=c,e[n+4>>2]=e[n+68>>2],ee(r,35167,n),i=e[i+12>>2],i=F[e[e[i>>2]+520>>2]](i,e[n+8>>2])|0,b=n+80|0,i|0}function kK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,e[n+8>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],o=n+16|0,a=n+8|0,xe(o,a),c=e[n+16>>2],xe(o,a),e[n>>2]=c,e[n+4>>2]=e[n+68>>2],ee(r,35116,n),i=e[i+12>>2],i=F[e[e[i>>2]+524>>2]](i,e[n+8>>2])|0,b=n+80|0,i|0}function bK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,e[n+8>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],o=n+16|0,a=n+8|0,xe(o,a),c=e[n+16>>2],xe(o,a),e[n>>2]=c,e[n+4>>2]=e[n+68>>2],ee(r,35142,n),i=e[i+12>>2],i=F[e[e[i>>2]+300>>2]](i,e[n+8>>2])|0,b=n+80|0,i|0}function r5(i,r){var n=0,o=0,a=0,c=0,g=0,p=0;n=b-32|0,b=n,S[n+23|0]=95,e[n+24>>2]=r,g=n,p=kR(i),e[g+16>>2]=p,r=e[n+24>>2]-e[n+16>>2]|0,o=d1(i);e:{if((fp(i)|0)==(o|0)){_8(i,o,1,o,r,1),a=e[i>>2];break e}if(a=j0(i),(r|0)==(o|0))break e;c=r+a|0,T8(c+1|0,c,o-r|0)}$o(r+a|0,n+23|0),S[n+15|0]=0,o=o+1|0,$o(o+a|0,n+15|0),pp(i,o),g=n,p=kR(i),e[g+8>>2]=p,i=b-16|0,b=i,e[i+8>>2]=e[n+8>>2],e[i+8>>2]=r+e[i+8>>2],b=i+16|0,b=n+32|0}function BT(i,r,n,o,a){var c=0,g=0,p=0,_=0;p=-1,c=o&2147483647,_=c,g=(c|0)==2147418112;e:{if((g&!n?i|r:g&(n|0)!=0|c>>>0>2147418112)||(c=a&2147483647,g=(c|0)==2147418112,!g&&g&0|c>>>0>2147418112))break e;if(!(i|n|(c|_|r)))return 0;if(c=o&a,(c|0)>0|(c|0)>=0){if(!(!n&(o|0)==(a|0))&&(o|0)<(a|0))break e;return(i|n|(o^a|r))!=0}if(!n&(o|0)==(a|0)?i|r:(n|0)!=0&(o|0)>=(a|0)|(o|0)>(a|0))break e;p=(i|n|(o^a|r))!=0}return p}function SK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,e[n+8>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],o=n+16|0,a=n+8|0,xe(o,a),c=e[n+16>>2],xe(o,a),e[n>>2]=c,e[n+4>>2]=e[n+68>>2],ee(r,35217,n),i=e[i+12>>2],i=F[e[e[i>>2]+340>>2]](i,e[n+8>>2])|0,b=n+80|0,i|0}function yK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,e[n+8>>2]=r,r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return r=e[i+8>>2],o=n+16|0,a=n+8|0,xe(o,a),c=e[n+16>>2],xe(o,a),e[n>>2]=c,e[n+4>>2]=e[n+68>>2],ee(r,35191,n),i=e[i+12>>2],i=F[e[e[i>>2]+344>>2]](i,e[n+8>>2])|0,b=n+80|0,i|0}function ep(i,r,n,o,a,c,g,p){var _=0,v=0,L=0,x=0;if(_=b-16|0,b=_,(r^-1)-17>>>0>=n>>>0){v=j0(i);e:{if(r>>>0<2147483623){e[_+8>>2]=r<<1,e[_+12>>2]=r+n,n=cp(e[RR(_+12|0,_+8|0)>>2]);break e}n=-18}L=n+1|0,n=Z(L),a&&R2(n,v,a),g&&R2(n+a|0,p,g),x=a+c|0,p=o-x|0,(o|0)!=(x|0)&&R2((n+a|0)+g|0,(a+v|0)+c|0,p),(r|0)!=10&&P(v),vp(i,n),Ap(i,L),r=i,i=p+(a+g|0)|0,Jc(r,i),S[_+7|0]=0,$o(i+n|0,_+7|0),b=_+16|0;return}Nr(),Ie()}function g8(i,r){var n=0,o=0,a=0,c=0,g=0;n=b-144|0,b=n,e[n+16>>2]=r,Bs(n+32|0,100,28215,n+16|0),o=e[i>>2],a=e[o+12>>2],a&&(e[n>>2]=n+32,ee(a,28845,n),o=e[i>>2]),S[n+136|0]=0,a=n+136|0,U(o,a,1,15619,0),e[i+96>>2]=1,e[i+100>>2]=0,c=y[e[i+4>>2]+17|0],o=e[i>>2],S[n+140|0]=0,e[n+136>>2]=0,g=e[o+4>>2],U(o,a,c?1:5,27597,0),e[i+92>>2]=g,o=i,i=e[i>>2],e[o+104>>2]=e[i+4>>2],o=Ge(r),Oe(i,o,12686),U(i,r,o,14951,1),b=n+144|0}function o5(i,r,n){var o=0,a=0,c=0,g=0;a=b-80|0,b=a,o=e[i+4>>2],xe(a+16|0,n),n=e[a+16>>2],c=Ge(n),be(o),U(e[o+24>>2],n,c,0,0),e[o+36>>2]=1,n=e[i+4>>2];e:{if(Ys(e[n>>2],r+36|0)){if(o=r+60|0,!e[r+56>>2]){e[a>>2]=e[o>>2],yt(n,5606,a),e[n+36>>2]=1;break e}g=n,c=o,n=y[r+71|0],o=n<<24>>24<0,Ki(g,o?e[r+60>>2]:c,o?e[r- -64>>2]:n,1);break e}e[n+36>>2]=1}return i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=a+80|0,0}function m8(i,r){var n=0,o=0,a=0,c=0,g=0;if(n=b-16|0,b=n,c=e[r>>2],r=e[r+4>>2],r>>>0<4294967280){g=i+256|0;e:{t:{if(r>>>0>=11){a=r+16&-16,o=Z(a),e[n+8>>2]=a|-2147483648,e[n>>2]=o,e[n+4>>2]=r;break t}if(S[n+11|0]=r,o=n,!r)break e}Ce(o,c,r)}return S[r+o|0]=0,r=-1,o=Br(g,n),o&&(r=e[o+40>>2]),S[n+11|0]<0&&P(e[n>>2]),o=0,b=n+16|0,n=e[i+116>>2],i=e[i+112>>2],n-i>>2>>>0>r>>>0&&(o=e[i+(r<<2)>>2]),o}Be(),Ie()}function Ir(i,r,n){var o=0,a=0,c=0,g=0;o=b-48|0,b=o,e[o+44>>2]=0,a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,o+44|0);e:{t:{if(!a){e[o>>2]=12686,Q(i,10147,o);break t}if(c=a+e[i+12>>2]|0,e[i+12>>2]=c,a=e[o+44>>2],nt[i>>2]<a+c>>>0){e[o+16>>2]=n,Q(i,9882,o+16|0);break t}if(g=e[i+4>>2],e[r+4>>2]=a,c=c+g|0,e[r>>2]=c,e[i+12>>2]=a+e[i+12>>2],r=0,vT(c,a))break e;e[o+32>>2]=n,Q(i,9908,o+32|0)}r=1}return b=o+48|0,r}function WT(i,r){var n=0,o=0,a=0,c=0;n=e[r>>2],e[i+12>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=n,n=e[r+8>>2],a=e[r+4>>2],c=n-a|0,o=(c|0)/20|0;e:{if((n|0)!=(a|0)){if(o>>>0>=214748365)break e;if(n=Z(c),e[i+4>>2]=n,e[i+8>>2]=n,e[i+12>>2]=H(o,20)+n,o=e[r+4>>2],a=e[r+8>>2],(o|0)!=(a|0))for(;WT(n,o),n=n+20|0,o=o+20|0,(a|0)!=(o|0););e[i+8>>2]=n}e[i+16>>2]=e[r+16>>2];return}Nr(),Ie()}function LK(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0;g=b-16|0,b=g,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],e[g+12>>2]=a,e[g+8>>2]=o,e[g+4>>2]=n,e[g>>2]=r,ee(c,33290,g),i=e[i+12>>2],i=F[e[e[i>>2]+728>>2]](i,r,n,o,a)|0,b=g+16|0,i|0}function _l(i,r){var n=0,o=0,a=0,c=0;n=b-144|0,b=n,o=dp(r),e[n+20>>2]=r,e[n+16>>2]=o,Bs(n+32|0,100,27433,n+16|0),o=e[i>>2],a=e[o+12>>2],a&&(e[n>>2]=n+32,ee(a,28845,n),o=e[i>>2]),S[n+136|0]=r,a=o,o=n+136|0,U(a,o,1,15619,0),e[i+96>>2]=1,e[i+100>>2]=r,a=y[e[i+4>>2]+17|0],r=e[i>>2],S[n+140|0]=0,e[n+136>>2]=0,c=e[r+4>>2],U(r,o,a?1:5,27597,0),e[i+92>>2]=c,e[i+104>>2]=e[e[i>>2]+4>>2],b=n+144|0}function VT(i,r,n){var o=0,a=0,c=0;o=b-16|0,b=o;e:{t:{i:{n:{s:switch(c=y[i|0],c-43|0){case 0:case 2:break s;default:break n}if(a=1,(k2(i+1|0,r,o+8|0)|0)==1)break e;if(i=e[o+8>>2],r=e[o+12>>2],(c|0)!=45)break i;if(!r&i>>>0>2147483648|r)break e;i=0-i|0;break t}if(a=1,(k2(i,r,o+8|0)|0)==1)break e;if(i=e[o+8>>2],!e[o+12>>2])break t;break e}if(r)break e}e[n>>2]=i,a=0}return b=o+16|0,a}function an(i,r){var n=0,o=0;n=b-128|0,b=n,e[n+56>>2]=e[r+24>>2],W0(n+56|0,e[i+12>>2])||(e[n+48>>2]=e[r+16>>2],o=e[r+12>>2],e[n+40>>2]=e[r+8>>2],e[n+44>>2]=o,o=e[r+4>>2],e[n+32>>2]=e[r>>2],e[n+36>>2]=o,xe(n- -64|0,n+56|0),r=e[n+44>>2],e[n+16>>2]=e[n+40>>2],e[n+20>>2]=r,e[n+24>>2]=e[n+48>>2],r=e[n+36>>2],e[n+8>>2]=e[n+32>>2],e[n+12>>2]=r,e[n>>2]=e[n+64>>2],Kt(i,n+8|0,10012,n)),b=n+128|0}function Ji(i,r){var n=0,o=0,a=0,c=0;if(n=b-16|0,b=n,o=e[r+4>>2],o>>>0<4294967280){c=e[r>>2];e:{t:{if(o>>>0>=11){a=o+16&-16,r=Z(a),e[n+8>>2]=a|-2147483648,e[n>>2]=r,e[n+4>>2]=o;break t}if(S[n+11|0]=o,r=n,!o)break e}Ce(r,c,o)}S[r+o|0]=0,e[i+20>>2]!=1|S[i+35|0]>=0||P(e[i+24>>2]),e[i+20>>2]=1,r=e[n+4>>2],e[i+24>>2]=e[n>>2],e[i+28>>2]=r,e[i+32>>2]=e[n+8>>2],b=n+16|0;return}Be(),Ie()}function p8(i){var r=0,n=0;if(r=e[i+148>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);if(e[i+148>>2]=0,e[i+152>>2]=0,e[i+156>>2]=0,r=e[i+136>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);r=e[i+128>>2],e[i+128>>2]=0,r&&P(r),r=e[i+116>>2],r&&(e[i+120>>2]=r,P(r)),bo(i+52|0),te(i+16|0),S[i+11|0]<0&&P(e[i>>2])}function xh(i,r){var n=0,o=0,a=0;e[i+8>>2]=0,e[i>>2]=0,e[i+4>>2]=0;e:{if(n=e[r+4>>2],n){if(n>>>0>=357913942)break e;for(o=H(n,12),n=Z(o),e[i>>2]=n,e[i+4>>2]=n,e[i+8>>2]=n+o,r=e[r>>2],o=o+r|0;;){t:{if(S[r+11|0]>=0){a=e[r+4>>2],e[n>>2]=e[r>>2],e[n+4>>2]=a,e[n+8>>2]=e[r+8>>2];break t}Ni(n,e[r>>2],e[r+4>>2])}if(n=n+12|0,r=r+12|0,(o|0)==(r|0))break}e[i+4>>2]=n}return i}Be(),Ie()}function lr(i,r,n){var o=0,a=0,c=0;if(!(y[i|0]&32)){e:{o=r,r=i,i=e[r+16>>2];t:{if(!i){if(hR(r))break t;i=e[r+16>>2]}if(c=e[r+20>>2],i-c>>>0<n>>>0){F[e[r+36>>2]](r,o,n)|0;break e}i:{if(e[r+80>>2]<0)break i;for(i=n;;){if(a=i,!i)break i;if(i=a-1|0,y[o+i|0]==10)break}if(F[e[r+36>>2]](r,o,a)>>>0<a>>>0)break t;o=o+a|0,n=n-a|0,c=e[r+20>>2]}Ce(c,o,n),e[r+20>>2]=e[r+20>>2]+n}}}}function be(i){var r=0,n=0;n=b-16|0,b=n;e:{t:switch(e[i+36>>2]-1|0){case 0:r=e[i+24>>2],S[n+14|0]=32,U(r,n+14|0,1,0,0);break e;case 1:case 2:break t;default:break e}if(r=e[i+24>>2],S[n+15|0]=10,U(r,n+15|0,1,0,0),r=e[i+32>>2],r>>>0>=142)for(;U(e[i+24>>2],354288,142,0,0),r=r-142|0,r>>>0>141;);if(!r)break e;U(e[i+24>>2],354288,r,0,0)}e[i+36>>2]=0,b=n+16|0}function DK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],g=GR(n),e[c+8>>2]=o,e[c+4>>2]=g,e[c>>2]=r,ee(a,34209,c),i=e[i+12>>2],i=F[e[e[i>>2]+692>>2]](i,r,n,o)|0,b=c+16|0,i|0}function IK(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0;g=b-16|0,b=g,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],e[g+8>>2]=o,e[g+12>>2]=a,e[g>>2]=r,ee(c,29893,g),i=e[i+12>>2],i=F[e[e[i>>2]+628>>2]](i,r,n,o,a)|0,b=g+16|0,i|0}function Yc(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;return n=b-96|0,b=n,i=e[i+4>>2],a=r+36|0,xe(n+32|0,a),o=e[n+32>>2],c=Ge(o),be(i),U(e[i+24>>2],o,c,0,0),e[i+36>>2]=1,c=e[r+48>>2],o=e[r+52>>2],c|o&&(e[n+16>>2]=c,e[n+20>>2]=o,yt(i,2784,n+16|0)),N5(a,e[r+40>>2],e[r+44>>2])||(a=e[r+44>>2],e[n>>2]=e[r+40>>2],e[n+4>>2]=a,yt(i,2796,n)),e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=n+96|0,0}function xK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;o=b-80|0,b=o,n=e[i+4>>2],e[n+32>>2]=e[n+32>>2]-2,S5(n),n=e[i+4>>2],xe(o+16|0,92012),a=e[o+16>>2],c=Ge(a),be(n),U(e[n+24>>2],a,c,0,0),e[n+36>>2]=1,n=r+224|0,i=e[i+4>>2];e:{if(!e[r+220>>2]){e[o>>2]=e[n>>2],yt(i,5606,o),e[i+36>>2]=2;break e}a=i,c=n,i=y[r+235|0],n=i<<24>>24<0,Ki(a,n?e[r+224>>2]:c,n?e[r+228>>2]:i,2)}return b=o+80|0,0}function EK(i,r,n,o,a){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0;var c=0,g=0;g=b-16|0,b=g,c=e[i+16>>2];e:{t:{if(c>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),c=c-142|0,c>>>0>142;);c=e[i+16>>2];break t}if(!c)break e}U(e[i+8>>2],58304,c,0,0)}return c=e[i+8>>2],e[g+8>>2]=n,e[g+4>>2]=o,e[g>>2]=r,ee(c,35582,g),i=e[i+12>>2],i=F[e[e[i>>2]+868>>2]](i,r,n,o,a)|0,b=g+16|0,i|0}function HT(i,r,n,o){var a=0,c=0,g=0;a=n-r|0;e:{if((a|0)<=9&&(g=a,a=H(32-Gi(o|1)|0,1233)>>>12|0,c=61,(g|0)<((a-(nt[(a<<2)+57872>>2]>o>>>0)|0)+1|0)))break e;t:{if(o>>>0<=99999999){i:{if(o>>>0<=9999){n=pR(r,o);break i}n=r,r=(o>>>0)/1e4|0,n=I8(pR(n,r),o-H(r,1e4)|0)}break t}n=o,o=(o>>>0)/1e8|0,a=n-H(o,1e8)|0,n=(a>>>0)/1e4|0,n=I8(I8(BR(r,o),n),a-H(n,1e4)|0)}c=0}e[i+4>>2]=c,e[i>>2]=n}function $c(i,r,n){var o=0,a=0,c=0;if(o=b-16|0,b=o,ns[i>>1]=91,S[i+11|0]=1,n&&Pn(i,n),a=e[r>>2],(a|0)!=e[r+4>>2])for(n=0;ci(o,(n<<3)+a|0),c=y[o+11|0],a=c<<24>>24<0,Mn(i,a?e[o>>2]:o,a?e[o+4>>2]:c),S[o+11|0]<0&&P(e[o>>2]),a=e[r>>2],c=e[r+4>>2]-a>>3,c-1>>>0>n>>>0&&(Pn(i,28838),a=e[r>>2],c=e[r+4>>2]-a>>3),n=n+1|0,c>>>0>n>>>0;);Pn(i,24467),b=o+16|0}function U0(i,r,n){var o=0,a=0,c=0;a=b-16|0,b=a,e[a+12>>2]=n,e[a+8>>2]=n;e:{if(n=Fs(0,0,r,n),o=n+1|0,o){if((n|0)<=-2)break e;c=Z(o),pn(c,0,o)}if(Fs(c,o,r,e[a+8>>2]),n>>>0>=4294967280)break e;t:{i:{if(n>>>0>=11){o=n+16&-16,r=Z(o),e[i+8>>2]=o|-2147483648,e[i>>2]=r,e[i+4>>2]=n,i=r;break i}if(S[i+11|0]=n,!n)break t}Ce(i,c,n)}S[i+n|0]=0,c&&P(c),b=a+16|0;return}Be(),Ie()}function NK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;o=b+-64|0,b=o,n=e[i+4>>2],xe(o,92120),a=e[o>>2],c=Ge(a),be(n),U(e[n+24>>2],a,c,0,0),e[n+36>>2]=1,n=e[i+4>>2],i=24220;e:{t:switch(e[r+36>>2]+34|0){case 17:i=10984;break e;case 1:i=7086;break e;case 0:i=1311;break e;case 18:break e;default:break t}i=25107}return r=Ge(i),be(n),U(e[n+24>>2],i,r,0,0),e[n+36>>2]=2,b=o- -64|0,0}function UT(i){i=i|0;var r=0,n=0,o=0;if(e[i>>2]=52108,o=e[i+72>>2],o){if(n=e[i+76>>2],r=o,(n|0)!=(r|0)){for(;n=n-12|0,S[n+11|0]<0&&P(e[n>>2]),(n|0)!=(o|0););r=e[i+72>>2]}e[i+76>>2]=o,P(r)}return r=e[i+60>>2],r&&(e[i- -64>>2]=r,P(r)),r=e[i+48>>2],r&&(e[i+52>>2]=r,P(r)),r=e[i+36>>2],r&&(e[i+40>>2]=r,P(r)),r=e[i+24>>2],r&&(e[i+28>>2]=r,P(r)),i|0}function bo(i){var r=0,n=0;if(r=e[i+52>>2],r)for(;n=e[r>>2],S[r+23|0]<0&&P(e[r+12>>2]),P(r),r=n,!!r;);if(r=e[i+44>>2],e[i+44>>2]=0,r&&P(r),r=e[i+32>>2],r)for(;n=e[r>>2],S[r+23|0]<0&&P(e[r+12>>2]),P(r),r=n,!!r;);r=e[i+24>>2],e[i+24>>2]=0,r&&P(r),r=e[i+12>>2],r&&(e[i+16>>2]=r,P(r)),r=e[i>>2],r&&(e[i+4>>2]=r,P(r))}function TK(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-16|0,b=n,i=e[i+12>>2],a=e[e[i>>2]+260>>2],o=y[r+12|0]|y[r+13|0]<<8|(y[r+14|0]<<16|y[r+15|0]<<24),e[n+8>>2]=y[r+8|0]|y[r+9|0]<<8|(y[r+10|0]<<16|y[r+11|0]<<24),e[n+12>>2]=o,o=y[r+4|0]|y[r+5|0]<<8|(y[r+6|0]<<16|y[r+7|0]<<24),e[n>>2]=y[r|0]|y[r+1|0]<<8|(y[r+2|0]<<16|y[r+3|0]<<24),e[n+4>>2]=o,i=F[a|0](i,n)|0,b=n+16|0,i|0}function RK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+8>>2]=r,e[a+12>>2]=n,e[a>>2]=r,e[a+4>>2]=n,ee(o,34997,a),i=e[i+12>>2],i=F[e[e[i>>2]+368>>2]](i,r,n)|0,b=a+16|0,i|0}function MK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+8>>2]=r,e[a+12>>2]=n,e[a>>2]=r,e[a+4>>2]=n,ee(o,35029,a),i=e[i+12>>2],i=F[e[e[i>>2]+388>>2]](i,r,n)|0,b=a+16|0,i|0}function PK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0,g=0;return a=e[e[i+4>>2]+8>>2],c=e[i+32>>2],g=Ge(c),r=Z(72),e[r+32>>2]=1,e[r+12>>2]=c,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=38644,S[r+36|0]=0,e[r+24>>2]=0,e[r+28>>2]=0,e[r+20>>2]=a,e[r+16>>2]=g,S[r+47|0]=0,e[r+68>>2]=0,e[r+60>>2]=0,e[r+64>>2]=0,a=e[n+4>>2],n=e[n>>2],S[r+56|0]=o,e[r+48>>2]=n,e[r+52>>2]=a,Fk(e[i+12>>2],r),0}function OK(i){i=i|0;var r=0,n=0;if(e[i>>2]=41408,r=e[i+184>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);if(e[i+184>>2]=0,e[i+188>>2]=0,e[i+192>>2]=0,r=e[i+152>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+152>>2]=0,e[i+156>>2]=0,e[i+160>>2]=0,bo(i+88|0),te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),i|0}function FK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c+8>>2]=o,e[c+4>>2]=n,e[c>>2]=r,ee(a,34881,c),i=e[i+12>>2],i=F[e[e[i>>2]+572>>2]](i,r,n,o)|0,b=c+16|0,i|0}function BK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c+8>>2]=o,e[c+4>>2]=n,e[c>>2]=r,ee(a,34119,c),i=e[i+12>>2],i=F[e[e[i>>2]+656>>2]](i,r,n,o)|0,b=c+16|0,i|0}function WK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c+8>>2]=o,e[c+4>>2]=n,e[c>>2]=r,ee(a,34004,c),i=e[i+12>>2],i=F[e[e[i>>2]+664>>2]](i,r,n,o)|0,b=c+16|0,i|0}function VK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c+8>>2]=o,e[c+4>>2]=n,e[c>>2]=r,ee(a,34063,c),i=e[i+12>>2],i=F[e[e[i>>2]+676>>2]](i,r,n,o)|0,b=c+16|0,i|0}function HK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c+8>>2]=o,e[c+4>>2]=n,e[c>>2]=r,ee(a,34823,c),i=e[i+12>>2],i=F[e[e[i>>2]+616>>2]](i,r,n,o)|0,b=c+16|0,i|0}function UK(i){i=i|0;var r=0,n=0,o=0;o=1;e:{if(r=e[i>>2],Ta(r)||(r=r-63|0,n=r&31,r>>>0<56&(((r&63)>>>0>=32?8388608>>>n|0:((1<<n)-1&8388608)<<32-n|17301505>>>n)&1)))break e;if(r=e[i+4>>2],e[i>>2]!=26)return 0;if(i=r,Ta(r)||(o=0,i=i-63|0,i>>>0>=56))break e;return r=i&31,((i&63)>>>0>=32?8388608>>>r|0:((1<<r)-1&8388608)<<32-r|17301505>>>r)&1}return o|0}function zK(i){i=i|0;var r=0,n=0;if(e[i>>2]=41408,r=e[i+184>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);if(e[i+184>>2]=0,e[i+188>>2]=0,e[i+192>>2]=0,r=e[i+152>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);e[i+152>>2]=0,e[i+156>>2]=0,e[i+160>>2]=0,bo(i+88|0),te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),P(i)}function zT(i,r,n){var o=0,a=0;if(o=e[n+4>>2],e[i>>2]=e[n>>2],e[i+4>>2]=o,e[i+16>>2]=e[n+16>>2],o=e[n+12>>2],e[i+8>>2]=e[n+8>>2],e[i+12>>2]=o,e[i+20>>2]=1,n=e[r+4>>2],n>>>0<4294967280){o=e[r>>2];e:{t:{if(n>>>0>=11){a=n+16&-16,r=Z(a),e[i+32>>2]=a|-2147483648,e[i+24>>2]=r,e[i+28>>2]=n;break t}if(r=i+24|0,S[r+11|0]=n,!n)break e}Ce(r,o,n)}return S[r+n|0]=0,i}Be(),Ie()}function GK(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0;r=b-16|0,b=r;e:{if(!e[n+40>>2]&e[n+44>>2]==-1)break e;if(a=n+20|0,i=lp(e[i+4>>2],a),!i){c=1;break e}if(e[n+40>>2]==1||(o=y[i+11|0],n=o<<24>>24,o=(n|0)<0?e[i+4>>2]:o,!o))break e;g=e[i>>2],e[r+12>>2]=o,e[r+8>>2]=(n|0)<0?g:i,i=e[r+12>>2],e[r>>2]=e[r+8>>2],e[r+4>>2]=i,Ji(a,r)}return b=r+16|0,c|0}function Rn(i,r,n){var o=0,a=0,c=0;c=b-16|0,b=c;e:{t:{if((r|0)>=0){if(r>>>0>=64)break t;break e}if(o=r>>7,r&64&&(o|0)==-1)break e;for(;S[(c+11|0)+a|0]=r|128,a=a+1|0,r=o,o=r>>7,!!(!(r&64)|(o|0)!=-1););break e}for(;S[(c+11|0)+a|0]=r|128,a=a+1|0,o=r>>>0>8191,r=r>>7,!!o;);}o=c+11|0,S[o+a|0]=r&127,U(i,o,a+1|0,n,0),b=c+16|0}function jK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c>>2]=n,e[c+4>>2]=o,ee(a,30641,c),i=e[i+12>>2],i=F[e[e[i>>2]+540>>2]](i,r,n,o)|0,b=c+16|0,i|0}function ZK(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;c=b-16|0,b=c,a=e[i+16>>2];e:{t:{if(a>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),a=a-142|0,a>>>0>142;);a=e[i+16>>2];break t}if(!a)break e}U(e[i+8>>2],58304,a,0,0)}return a=e[i+8>>2],e[c+4>>2]=o,e[c>>2]=n,ee(a,32715,c),i=e[i+12>>2],i=F[e[e[i>>2]+796>>2]](i,r,n,o)|0,b=c+16|0,i|0}function l5(i,r,n,o){var a=0;a=b-80|0,b=a,e[a+76>>2]=o,e[a+72>>2]=n;e:{if((n|0)>=0){e[a+24>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,o=i,i=Ne(a+32|0,n,a+8|0),l1(o,r,i),te(i);break e}S[r|0]=0,e[r+44>>2]=e[r+40>>2],JT(a+8|0,a+72|0),i=e[r+52>>2],i&&(e[r+56>>2]=i,P(i)),e[r+52>>2]=e[a+8>>2],e[r+56>>2]=e[a+12>>2],e[r+60>>2]=e[a+16>>2]}b=a+80|0}function GT(i){var r=0,n=0,o=0;if(i){if(r=e[i+20>>2],r)for(;n=e[r>>2],S[r+19|0]<0&&P(e[r+8>>2]),P(r),r=n,!!r;);if(n=e[i+12>>2],e[i+12>>2]=0,n&&P(n),o=e[i>>2],o){if(n=o,r=e[i+4>>2],(n|0)!=(r|0)){for(;r=r-4|0,n=e[r>>2],e[r>>2]=0,n&&F[e[e[n>>2]+4>>2]](n),(r|0)!=(o|0););n=e[i>>2]}e[i+4>>2]=o,P(n)}P(i)}}function QK(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34401,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+640>>2]](i,r)|0,b=o+16|0,i|0}function YK(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34462,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+652>>2]](i,r)|0,b=o+16|0,i|0}function $K(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34657,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+112>>2]](i,r)|0,b=o+16|0,i|0}function KK(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34704,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+708>>2]](i,r)|0,b=o+16|0,i|0}function XK(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34302,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+128>>2]](i,r)|0,b=o+16|0,i|0}function JK(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34561,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+724>>2]](i,r)|0,b=o+16|0,i|0}function qK(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34536,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+144>>2]](i,r)|0,b=o+16|0,i|0}function eX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34429,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+760>>2]](i,r)|0,b=o+16|0,i|0}function tX(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-80|0,b=n,e[n+8>>2]=0,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a,a=y[o+116|0],a&&(xe(n+16|0,n+8|0),e[n>>2]=e[n+16>>2],Ye(o,r,9809,n)),r=ZT(o+24|0),b=n+80|0,e[i+316>>2]=(r|0)==1|(a|0)!=0|e[i+316>>2]==1,0}function iX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34327,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+172>>2]](i,r)|0,b=o+16|0,i|0}function nX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34586,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+776>>2]](i,r)|0,b=o+16|0,i|0}function sX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34377,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+188>>2]](i,r)|0,b=o+16|0,i|0}function rX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34681,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+200>>2]](i,r)|0,b=o+16|0,i|0}function oX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34612,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+840>>2]](i,r)|0,b=o+16|0,i|0}function lX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34513,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+564>>2]](i,r)|0,b=o+16|0,i|0}function aX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34728,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+608>>2]](i,r)|0,b=o+16|0,i|0}function cX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34486,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+96>>2]](i,r)|0,b=o+16|0,i|0}function jT(i,r){var n=0,o=0;o=e[i+52>>2];e:{t:switch(e[i>>2]){case 0:n=((di(r+296|0,i+16|0)|0)!=0)<<1;break e;case 1:n=1;break e;case 2:break t;default:break e}n=3}e:{t:{if((o|0)!=-16)break t;if(r=e[i+72>>2],i=e[i+76>>2],(r|0)==(i|0))break e;for(;;){if(e[e[r>>2]+32>>2]!=36)break t;if(r=r+12|0,(i|0)==(r|0))break}break e}n=n|4}return n}function uX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o+8>>2]=r,B0[o>>3]=(m2(2,r),QE()),ee(n,35060,o),i=e[i+12>>2],i=F[e[e[i>>2]+364>>2]](i,r)|0,b=o+16|0,i|0}function hX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,33264,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+16>>2]](i,r)|0,b=o+16|0,i|0}function dX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34634,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+36>>2]](i,r)|0,b=o+16|0,i|0}function fX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,34352,o),e[i+16>>2]=e[i+16>>2]+2,i=e[i+12>>2],i=F[e[e[i>>2]+60>>2]](i,r)|0,b=o+16|0,i|0}function gX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,34176,a),i=e[i+12>>2],i=F[e[e[i>>2]+208>>2]](i,r,n)|0,b=a+16|0,i|0}function mX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32117,a),i=e[i+12>>2],i=F[e[e[i>>2]+104>>2]](i,r,n)|0,b=a+16|0,i|0}function pX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,31875,a),i=e[i+12>>2],i=F[e[e[i>>2]+416>>2]](i,r,n)|0,b=a+16|0,i|0}function AX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,33121,a),i=e[i+12>>2],i=F[e[e[i>>2]+684>>2]](i,r,n)|0,b=a+16|0,i|0}function _X(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,31938,a),i=e[i+12>>2],i=F[e[e[i>>2]+432>>2]](i,r,n)|0,b=a+16|0,i|0}function CX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32411,a),i=e[i+12>>2],i=F[e[e[i>>2]+440>>2]](i,r,n)|0,b=a+16|0,i|0}function wX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32248,a),i=e[i+12>>2],i=F[e[e[i>>2]+448>>2]](i,r,n)|0,b=a+16|0,i|0}function vX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32155,a),i=e[i+12>>2],i=F[e[e[i>>2]+848>>2]](i,r,n)|0,b=a+16|0,i|0}function kX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,33226,a),i=e[i+12>>2],i=F[e[e[i>>2]+712>>2]](i,r,n)|0,b=a+16|0,i|0}function bX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,33023,a),i=e[i+12>>2],i=F[e[e[i>>2]+864>>2]](i,r,n)|0,b=a+16|0,i|0}function SX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32359,a),i=e[i+12>>2],i=F[e[e[i>>2]+324>>2]](i,r,n)|0,b=a+16|0,i|0}function yX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=r,e[a>>2]=n,ee(o,34790,a),i=e[i+12>>2],i=F[e[e[i>>2]+820>>2]](i,r,n)|0,b=a+16|0,i|0}function LX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,33071,a),i=e[i+12>>2],i=F[e[e[i>>2]+588>>2]](i,r,n)|0,b=a+16|0,i|0}function DX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32520,a),i=e[i+12>>2],i=F[e[e[i>>2]+596>>2]](i,r,n)|0,b=a+16|0,i|0}function IX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32987,a),i=e[i+12>>2],i=F[e[e[i>>2]+832>>2]](i,r,n)|0,b=a+16|0,i|0}function xX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;a=b-16|0,b=a,o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return o=e[i+8>>2],e[a+4>>2]=n,e[a>>2]=r,ee(o,32301,a),i=e[i+12>>2],i=F[e[e[i>>2]+500>>2]](i,r,n)|0,b=a+16|0,i|0}function ZT(i){var r=0,n=0,o=0,a=0,c=0;o=b-16|0,b=o,n=e[i+40>>2],r=e[i+36>>2];e:{if((n|0)==(r|0)){e[o>>2]=0,e[o+4>>2]=-1,xt(i,27759,o),r=1;break e}if(r=(r+H((n-r|0)/36|0,36)|0)-36|0,S[r+32|0]=1,c=e[i+24>>2],a=e[i+28>>2]-c>>3,n=e[r+28>>2],a>>>0<n>>>0){ys(i+24|0,n-a|0),r=0;break e}if(r=0,n>>>0>=a>>>0)break e;e[i+28>>2]=(n<<3)+c}return b=o+16|0,r}function QT(i,r){var n=0,o=0,a=0;n=b-48|0,b=n,a=y[r+8|0],a&&ee(e[i+8>>2],28402,0),o=e[r+4>>2],r=e[r>>2],e[n+24>>2]=r,e[n+28>>2]=o,o=e[i+8>>2];e:{if((r|0)>=0){e[n>>2]=r,ee(o,24443,n);break e}if(r=n+32|0,ci(r,n+24|0),e[n+16>>2]=S[n+43|0]<0?e[n+32>>2]:r,ee(o,10204,n+16|0),S[n+43|0]>=0)break e;P(e[n+32>>2])}a&&ee(e[i+8>>2],27978,0),b=n+48|0}function a5(i,r){var n=0,o=0,a=0;e:{if(!y[r|0]||(n=r+52|0,e[n>>2]!=e[r+56>>2]|e[r+40>>2]!=e[r+44>>2])||(i=a1(i,r+4|0),!i)||(a=1,o=r+40|0,(o|0)==(i+40|0)))break e;or(o,e[i+40>>2],e[i+44>>2]),or(n,e[i+52>>2],e[i+56>>2]),In[r+80>>2]=In[i+80>>2],Uc(r- -64|0,e[i+72>>2]),In[r+100>>2]=In[i+100>>2],Uc(r+84|0,e[i+92>>2])}return a}function Ma(i,r,n){var o=0,a=0,c=0,g=0;if(o=b-16|0,b=o,a=e[i+4>>2],S[o+13|0]=34,U(a,o+13|0,1,0,0),n)for(;;){a=y[r+c|0];e:{if(!(!(a>>>0<32|(a|0)==92)&(a|0)!=34)){g=e[i+4>>2],e[o>>2]=a,ee(g,2472,o);break e}g=e[i+4>>2],S[o+15|0]=a,U(g,o+15|0,1,0,0)}if(c=c+1|0,(c|0)==(n|0))break}i=e[i+4>>2],S[o+14|0]=34,U(i,o+14|0,1,0,0),b=o+16|0}function EX(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0;return a=e[i+84>>2],c=e[a+4>>2],g=e[i+28>>2],o=e[i+20>>2]-g|0,o=o>>>0>c>>>0?c:o,o&&(Ce(e[a>>2],g,o),e[a>>2]=o+e[a>>2],c=e[a+4>>2]-o|0,e[a+4>>2]=c),o=e[a>>2],c=n>>>0>c>>>0?c:n,c&&(Ce(o,r,c),o=c+e[a>>2]|0,e[a>>2]=o,e[a+4>>2]=e[a+4>>2]-c),S[o|0]=0,r=e[i+44>>2],e[i+28>>2]=r,e[i+20>>2]=r,n|0}function c5(i,r,n,o){S[i+53|0]=1;e:{if(e[i+4>>2]!=(n|0))break e;S[i+52|0]=1,n=e[i+16>>2];t:{if(!n){if(e[i+36>>2]=1,e[i+24>>2]=o,e[i+16>>2]=r,(o|0)!=1)break e;if(e[i+48>>2]==1)break t;break e}if((r|0)==(n|0)){if(n=e[i+24>>2],(n|0)==2&&(e[i+24>>2]=o,n=o),e[i+48>>2]!=1)break e;if((n|0)==1)break t;break e}e[i+36>>2]=e[i+36>>2]+1}S[i+54|0]=1}}function NX(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;n=b-80|0,b=n,c=1,e[n+8>>2]=1,o=i+16|0,r=r+12|0,e[o+112>>2]=e[r+16>>2],a=e[r+12>>2],e[o+104>>2]=e[r+8>>2],e[o+108>>2]=a,a=e[r+4>>2],e[o+96>>2]=e[r>>2],e[o+100>>2]=a;e:{if(!y[o+116|0]){c=0;break e}xe(n+16|0,n+8|0),e[n>>2]=e[n+16>>2],Ye(o,r,9809,n)}return b=n+80|0,e[i+316>>2]=c|e[i+316>>2]==1,0}function A8(i,r){var n=0,o=0;n=1;e:{if((Qf(i,r,y[r+18|0])|0)==1||(we(i,0)|0)==54&&(o=1,n=1,(Qf(i,r+8|0,y[r+18|0])|0)==1))break e;S[r+16|0]=o,(we(i,0)|0)==40&&(o=e[i+92>>2]&1,n=H(o,36)+i|0,e[n+32>>2]=0,e[n+36>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[i+92>>2]=!o,e[i+88>>2]=e[i+88>>2]-1,S[r+17|0]=1),n=0}return n}function u5(i,r){var n=0,o=0;e:{if((we(i,0)|0)!=26||(we(i,1)|0)!=(r|0))break e;n=i+16|0,o=e[i+92>>2]&1,r=n+H(o,36)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,r=e[i+88>>2],n=n+H(!o,36)|0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[i+88>>2]=r-2,e[i+92>>2]=o,n=1}return n}function TX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o+4>>2]=r,e[o>>2]=r,ee(n,35089,o),i=e[i+12>>2],i=F[e[e[i>>2]+384>>2]](i,r)|0,b=o+16|0,i|0}function s1(i,r){var n=0,o=0;o=b-32|0,b=o,n=e[i+4>>2],n=qe(n+e[i+12>>2]|0,n+e[i>>2]|0,o+28|0);e:{if(!n){e[o>>2]=6462,Q(i,10147,o),i=1;break e}if(e[i+12>>2]=n+e[i+12>>2],n=e[o+28>>2],!(y[e[i+88>>2]+15|0]|n>>>0<32&&n>>>0<=127)){e[o+20>>2]=n,e[o+16>>2]=6462,Q(i,5377,o+16|0),i=1;break e}e[r>>2]=n,e[r+4>>2]=0,i=0}return b=o+32|0,i}function Qs(i,r){var n=0,o=0,a=0;o=b-16|0,b=o,S[o+15|0]=r;e:{t:{i:{n:{if(f1(i)){if(n=j5(i)-1|0,a=e[i+4>>2],(n|0)==(a|0))break n;break t}if(a=10,n=10,r=y[i+11|0],(r|0)!=10)break i}if(_8(i,n,1,n,n,0),r=a,f1(i))break t}n=i,g1(i,r+1|0);break e}n=e[i>>2],Jc(i,a+1|0),r=a}i=r+n|0,$o(i,o+15|0),S[o+14|0]=0,$o(i+1|0,o+14|0),b=o+16|0}function YT(i,r,n){var o=0,a=0,c=0;a=b-32|0,b=a,o=e[i+4>>2],o=qe(o+e[i+12>>2]|0,o+e[i>>2]|0,a+28|0);e:{t:{if(!o){e[a>>2]=n,Q(i,10147,a);break t}if(o=o+e[i+12>>2]|0,e[i+12>>2]=o,c=r,r=e[a+28>>2],e[c>>2]=r,o=e[i>>2]-o|0,c=0,o>>>0>=r>>>0)break e;e[a+24>>2]=o,e[a+20>>2]=r,e[a+16>>2]=n,Q(i,11247,a+16|0)}c=1}return o=c,b=a+32|0,o}function RX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31411,o),i=e[i+12>>2],i=F[e[e[i>>2]+644>>2]](i,r)|0,b=o+16|0,i|0}function MX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32633,o),i=e[i+12>>2],i=F[e[e[i>>2]+400>>2]](i,r)|0,b=o+16|0,i|0}function PX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,33434,o),i=e[i+12>>2],i=F[e[e[i>>2]+308>>2]](i,r)|0,b=o+16|0,i|0}function OX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32578,o),i=e[i+12>>2],i=F[e[e[i>>2]+404>>2]](i,r)|0,b=o+16|0,i|0}function FX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,33455,o),i=e[i+12>>2],i=F[e[e[i>>2]+312>>2]](i,r)|0,b=o+16|0,i|0}function BX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31158,o),i=e[i+12>>2],i=F[e[e[i>>2]+100>>2]](i,r)|0,b=o+16|0,i|0}function WX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32688,o),i=e[i+12>>2],i=F[e[e[i>>2]+408>>2]](i,r)|0,b=o+16|0,i|0}function VX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31083,o),i=e[i+12>>2],i=F[e[e[i>>2]+668>>2]](i,r)|0,b=o+16|0,i|0}function HX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31179,o),i=e[i+12>>2],i=F[e[e[i>>2]+680>>2]](i,r)|0,b=o+16|0,i|0}function UX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31735,o),i=e[i+12>>2],i=F[e[e[i>>2]+420>>2]](i,r)|0,b=o+16|0,i|0}function zX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31755,o),i=e[i+12>>2],i=F[e[e[i>>2]+424>>2]](i,r)|0,b=o+16|0,i|0}function GX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31322,o),i=e[i+12>>2],i=F[e[e[i>>2]+696>>2]](i,r)|0,b=o+16|0,i|0}function jX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31339,o),i=e[i+12>>2],i=F[e[e[i>>2]+116>>2]](i,r)|0,b=o+16|0,i|0}function ZX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31468,o),i=e[i+12>>2],i=F[e[e[i>>2]+428>>2]](i,r)|0,b=o+16|0,i|0}function QX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31777,o),i=e[i+12>>2],i=F[e[e[i>>2]+436>>2]](i,r)|0,b=o+16|0,i|0}function YX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30884,o),i=e[i+12>>2],i=F[e[e[i>>2]+132>>2]](i,r)|0,b=o+16|0,i|0}function $X(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31715,o),i=e[i+12>>2],i=F[e[e[i>>2]+444>>2]](i,r)|0,b=o+16|0,i|0}function KX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31357,o),i=e[i+12>>2],i=F[e[e[i>>2]+748>>2]](i,r)|0,b=o+16|0,i|0}function XX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30947,o),i=e[i+12>>2],i=F[e[e[i>>2]+736>>2]](i,r)|0,b=o+16|0,i|0}function JX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31675,o),i=e[i+12>>2],i=F[e[e[i>>2]+456>>2]](i,r)|0,b=o+16|0,i|0}function qX(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30991,o),i=e[i+12>>2],i=F[e[e[i>>2]+732>>2]](i,r)|0,b=o+16|0,i|0}function eJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31250,o),i=e[i+12>>2],i=F[e[e[i>>2]+148>>2]](i,r)|0,b=o+16|0,i|0}function tJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31695,o),i=e[i+12>>2],i=F[e[e[i>>2]+452>>2]](i,r)|0,b=o+16|0,i|0}function iJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31627,o),i=e[i+12>>2],i=F[e[e[i>>2]+156>>2]](i,r)|0,b=o+16|0,i|0}function nJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31490,o),i=e[i+12>>2],i=F[e[e[i>>2]+460>>2]](i,r)|0,b=o+16|0,i|0}function sJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31652,o),i=e[i+12>>2],i=F[e[e[i>>2]+160>>2]](i,r)|0,b=o+16|0,i|0}function rJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31799,o),i=e[i+12>>2],i=F[e[e[i>>2]+464>>2]](i,r)|0,b=o+16|0,i|0}function oJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31860,o),i=e[i+12>>2],i=F[e[e[i>>2]+164>>2]](i,r)|0,b=o+16|0,i|0}function lJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32953,o),i=e[i+12>>2],i=F[e[e[i>>2]+468>>2]](i,r)|0,b=o+16|0,i|0}function aJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31285,o),i=e[i+12>>2],i=F[e[e[i>>2]+764>>2]](i,r)|0,b=o+16|0,i|0}function cJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31820,o),i=e[i+12>>2],i=F[e[e[i>>2]+472>>2]](i,r)|0,b=o+16|0,i|0}function uJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30928,o),i=e[i+12>>2],i=F[e[e[i>>2]+176>>2]](i,r)|0,b=o+16|0,i|0}function hJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31209,o),i=e[i+12>>2],i=F[e[e[i>>2]+780>>2]](i,r)|0,b=o+16|0,i|0}function dJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31109,o),i=e[i+12>>2],i=F[e[e[i>>2]+808>>2]](i,r)|0,b=o+16|0,i|0}function fJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,33408,o),i=e[i+12>>2],i=F[e[e[i>>2]+488>>2]](i,r)|0,b=o+16|0,i|0}function gJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31133,o),i=e[i+12>>2],i=F[e[e[i>>2]+816>>2]](i,r)|0,b=o+16|0,i|0}function mJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31839,o),i=e[i+12>>2],i=F[e[e[i>>2]+192>>2]](i,r)|0,b=o+16|0,i|0}function pJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32458,o),i=e[i+12>>2],i=F[e[e[i>>2]+496>>2]](i,r)|0,b=o+16|0,i|0}function AJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31064,o),i=e[i+12>>2],i=F[e[e[i>>2]+824>>2]](i,r)|0,b=o+16|0,i|0}function _J(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30903,o),i=e[i+12>>2],i=F[e[e[i>>2]+204>>2]](i,r)|0,b=o+16|0,i|0}function CJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31269,o),i=e[i+12>>2],i=F[e[e[i>>2]+844>>2]](i,r)|0,b=o+16|0,i|0}function wJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30863,o),i=e[i+12>>2],i=F[e[e[i>>2]+532>>2]](i,r)|0,b=o+16|0,i|0}function vJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31228,o),i=e[i+12>>2],i=F[e[e[i>>2]+212>>2]](i,r)|0,b=o+16|0,i|0}function kJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32192,o),i=e[i+12>>2],i=F[e[e[i>>2]+512>>2]](i,r)|0,b=o+16|0,i|0}function bJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31382,o),i=e[i+12>>2],i=F[e[e[i>>2]+860>>2]](i,r)|0,b=o+16|0,i|0}function SJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,33366,o),i=e[i+12>>2],i=F[e[e[i>>2]+292>>2]](i,r)|0,b=o+16|0,i|0}function yJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31016,o),i=e[i+12>>2],i=F[e[e[i>>2]+568>>2]](i,r)|0,b=o+16|0,i|0}function LJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32492,o),i=e[i+12>>2],i=F[e[e[i>>2]+320>>2]](i,r)|0,b=o+16|0,i|0}function DJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31511,o),i=e[i+12>>2],i=F[e[e[i>>2]+576>>2]](i,r)|0,b=o+16|0,i|0}function IJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31541,o),i=e[i+12>>2],i=F[e[e[i>>2]+580>>2]](i,r)|0,b=o+16|0,i|0}function xJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32220,o),i=e[i+12>>2],i=F[e[e[i>>2]+332>>2]](i,r)|0,b=o+16|0,i|0}function EJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31428,o),i=e[i+12>>2],i=F[e[e[i>>2]+600>>2]](i,r)|0,b=o+16|0,i|0}function NJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,33478,o),i=e[i+12>>2],i=F[e[e[i>>2]+348>>2]](i,r)|0,b=o+16|0,i|0}function TJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31040,o),i=e[i+12>>2],i=F[e[e[i>>2]+612>>2]](i,r)|0,b=o+16|0,i|0}function RJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31569,o),i=e[i+12>>2],i=F[e[e[i>>2]+620>>2]](i,r)|0,b=o+16|0,i|0}function MJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31599,o),i=e[i+12>>2],i=F[e[e[i>>2]+624>>2]](i,r)|0,b=o+16|0,i|0}function PJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32660,o),i=e[i+12>>2],i=F[e[e[i>>2]+376>>2]](i,r)|0,b=o+16|0,i|0}function OJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31448,o),i=e[i+12>>2],i=F[e[e[i>>2]+632>>2]](i,r)|0,b=o+16|0,i|0}function FJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,32605,o),i=e[i+12>>2],i=F[e[e[i>>2]+380>>2]](i,r)|0,b=o+16|0,i|0}function BJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,30972,o),i=e[i+12>>2],i=F[e[e[i>>2]+64>>2]](i,r)|0,b=o+16|0,i|0}function WJ(i,r){i=i|0,r=r|0;var n=0,o=0;o=b-16|0,b=o,n=e[i+16>>2];e:{t:{if(n>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),n=n-142|0,n>>>0>142;);n=e[i+16>>2];break t}if(!n)break e}U(e[i+8>>2],58304,n,0,0)}return n=e[i+8>>2],e[o>>2]=r,ee(n,31305,o),i=e[i+12>>2],i=F[e[e[i>>2]+40>>2]](i,r)|0,b=o+16|0,i|0}function ee(i,r,n){var o=0,a=0,c=0,g=0,p=0;o=b-144|0,b=o,e[o+140>>2]=n,e[o+136>>2]=n,c=o,n=Fs(o,128,r,n),a=n+1|0,a>>>0>=129&&(c=o-(a+15&-16)|0,b=c,n=Fs(c,a,r,e[o+136>>2])),r=e[i+4>>2],e[i+8>>2]!=1&&(a=e[i+12>>2],a&&xa(a,c,n,r,0,0),g=i,p=F[e[e[i>>2]+12>>2]](i,r,c,n)|0,e[g+8>>2]=p,r=e[i+4>>2]),e[i+4>>2]=r+n,b=o+144|0}function VJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=_R(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+15|0],r=o<<24>>24,o=(r|0)<0?e[i+8>>2]:o,!o))break e;g=e[i+4>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i+4|0,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function HJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=CR(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+15|0],r=o<<24>>24,o=(r|0)<0?e[i+8>>2]:o,!o))break e;g=e[i+4>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i+4|0,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function UJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+136>>2];e:{r=e[i+52>>2]+r|0;t:{if(r>>>0<=e[i+144>>2]-n>>2>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+140>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+144>>2]=a,e[i+140>>2]=c,e[i+136>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function zJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+160>>2];e:{r=e[i+56>>2]+r|0;t:{if(r>>>0<=e[i+168>>2]-n>>2>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+164>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+168>>2]=a,e[i+164>>2]=c,e[i+160>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function GJ(i,r,n){i=i|0,r=r|0,n=n|0;var o=0;o=e[i+16>>2];e:{t:{if(o>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),o=o-142|0,o>>>0>142;);o=e[i+16>>2];break t}if(!o)break e}U(e[i+8>>2],58304,o,0,0)}return ee(e[i+8>>2],28731,0),n5(i,r,n),ee(e[i+8>>2],35622,0),i=e[i+12>>2],F[e[e[i>>2]+504>>2]](i,r,n)|0}function h5(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=vl(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+11|0],r=o<<24>>24,o=(r|0)<0?e[i+4>>2]:o,!o))break e;g=e[i>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function _8(i,r,n,o,a,c){var g=0,p=0,_=0;if(g=b-16|0,b=g,-17-r>>>0>=n>>>0){p=j0(i);e:{if(r>>>0<2147483623){e[g+8>>2]=r<<1,e[g+12>>2]=r+n,n=cp(e[RR(g+12|0,g+8|0)>>2]);break e}n=-18}_=n+1|0,n=Z(_),a&&R2(n,p,a),(o|0)!=(a|0)&&R2((n+a|0)+c|0,a+p|0,o-a|0),(r|0)!=10&&P(p),vp(i,n),Ap(i,_),b=g+16|0;return}Nr(),Ie()}function tp(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=Oh(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+11|0],r=o<<24>>24,o=(r|0)<0?e[i+4>>2]:o,!o))break e;g=e[i>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function jJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=lp(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+11|0],r=o<<24>>24,o=(r|0)<0?e[i+4>>2]:o,!o))break e;g=e[i>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function ip(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=Xc(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+11|0],r=o<<24>>24,o=(r|0)<0?e[i+4>>2]:o,!o))break e;g=e[i>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function io(i,r,n){var o=0,a=0,c=0;o=b-80|0,b=o,a=e[i+4>>2],xe(o+16|0,n),n=e[o+16>>2],c=Ge(n),be(a),U(e[a+24>>2],n,c,0,0),e[a+36>>2]=1,n=r+60|0,i=e[i+4>>2];e:{if(!e[r+56>>2]){e[o>>2]=e[n>>2],yt(i,5606,o),e[i+36>>2]=2;break e}a=i,c=n,i=y[r+71|0],n=i<<24>>24<0,Ki(a,n?e[r+60>>2]:c,n?e[r- -64>>2]:i,2)}return b=o+80|0,0}function $T(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0,g=0;n=b-16|0,b=n,a=r+36|0,i=op(e[i+4>>2],a);e:{if(!i){c=1;break e}if(e[r+56>>2]==1||(o=y[i+11|0],r=o<<24>>24,o=(r|0)<0?e[i+4>>2]:o,!o))break e;g=e[i>>2],e[n+12>>2]=o,e[n+8>>2]=(r|0)<0?g:i,i=e[n+12>>2],e[n>>2]=e[n+8>>2],e[n+4>>2]=i,Ji(a,n)}return b=n+16|0,c|0}function ZJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+76>>2];e:{r=e[i+48>>2]+r|0;t:{if(r>>>0<=e[i+84>>2]-n>>2>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+80>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+84>>2]=a,e[i+80>>2]=c,e[i+76>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function QJ(i,r,n,o,a){if(i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,Yo(i,e[r+8>>2],a)){P5(r,n,o);return}e:{if(!Yo(i,e[r>>2],a))break e;if(!(e[r+16>>2]!=(n|0)&e[r+20>>2]!=(n|0))){if((o|0)!=1)break e;e[r+32>>2]=1;return}e[r+20>>2]=n,e[r+32>>2]=o,e[r+40>>2]=e[r+40>>2]+1,e[r+36>>2]!=1|e[r+24>>2]!=2||(S[r+54|0]=1),e[r+44>>2]=4}}function YJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+88>>2];e:{r=e[i+60>>2]+r|0;t:{if(r>>>0<=e[i+96>>2]-n>>2>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+92>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+96>>2]=a,e[i+92>>2]=c,e[i+88>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function KT(i,r,n){var o=0,a=0,c=0,g=0,p=0;g=b-16|0,b=g,c=b-16|0,b=c;e:{if(a=n-r|0,a>>>0<=4294967279){t:{if(a>>>0<=10){g1(i,a),o=i;break t}p=cp(a)+1|0,o=Z(p),vp(i,o),Ap(i,p),Jc(i,a)}for(;;){if((r|0)!=(n|0)){$o(o,r),o=o+1|0,r=r+1|0;continue}break}S[c+15|0]=0,$o(o,c+15|0),b=c+16|0;break e}Nr(),Ie()}b=g+16|0}function $J(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+100>>2];e:{t:{if(e[i+108>>2]-n>>2>>>0>=r>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+104>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+108>>2]=a,e[i+104>>2]=c,e[i+100>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function KJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+148>>2];e:{t:{if(e[i+156>>2]-n>>2>>>0>=r>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+152>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+156>>2]=a,e[i+152>>2]=c,e[i+148>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function XJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+124>>2];e:{t:{if(e[i+132>>2]-n>>2>>>0>=r>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+128>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+132>>2]=a,e[i+128>>2]=c,e[i+124>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function JJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+172>>2];e:{t:{if(e[i+180>>2]-n>>2>>>0>=r>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+176>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+180>>2]=a,e[i+176>>2]=c,e[i+172>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function qJ(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;i=e[i+12>>2],n=e[i+112>>2];e:{t:{if(e[i+120>>2]-n>>2>>>0>=r>>>0)break t;if(r>>>0>=1073741824)break e;if(o=e[i+116>>2],a=r<<2,r=Z(a),a=r+a|0,o=o-n|0,c=o+r|0,(o|0)>0&&Ce(r,n,o),e[i+120>>2]=a,e[i+116>>2]=c,e[i+112>>2]=r,!n)break t;P(n)}return 0}Be(),Ie()}function d5(i,r,n){var o=0,a=0;a=b-32|0,b=a,o=r+24|0;e:{if(!e[r+20>>2]){if(r=e[o>>2],o=(e[i+12>>2]-e[i+8>>2]|0)/40|0,r>>>0<o>>>0){e[a>>2]=r,e[a+4>>2]=o+(r^-1),yt(i,27837,a);break e}e[a+16>>2]=r,yt(i,27863,a+16|0);break e}r=S[o+11|0]<0?e[o>>2]:o,o=Ge(r),be(i),U(e[i+24>>2],r,o,0,0)}e[i+36>>2]=n,b=a+32|0}function wt(i,r){var n=0,o=0,a=0;n=b-80|0,b=n,e[n+8>>2]=r,xe(n+16|0,n+8|0);e:{if(y[n+64|0]){r=n+16|0,o=n+8|0,xe(r,o),S[n+16|0]=y[n+64|0],U(i,r,1,1374,0),xe(r,o),a=e[n+68>>2],xe(r,o),Oe(i,a,e[n+16>>2]);break e}r=n+16|0,o=n+8|0,xe(r,o),a=e[n+68>>2],xe(r,o),o=e[n+16>>2],S[n+16|0]=a,U(i,r,1,o,0)}b=n+80|0}function L2(i,r,n){var o=0,a=0;o=b-32|0,b=o,a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,o+28|0);e:{t:{if(!a){e[o>>2]=n,Q(i,10147,o);break t}if(e[i+12>>2]=a+e[i+12>>2],n=r,r=e[o+28>>2],e[n>>2]=r,n=0,r>>>0<(e[i+136>>2]-e[i+132>>2]|0)/24>>>0)break e;e[o+16>>2]=r,Q(i,15465,o+16|0)}n=1}return b=o+32|0,n}function eq(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;if(a=b+-64|0,b=a,n=e[i+4>>2],xe(a,91984),o=e[a>>2],c=Ge(o),be(n),U(e[n+24>>2],o,c,0,0),e[n+36>>2]=1,n=e[r+36>>2],o=e[r+40>>2],(n|0)!=(o|0))for(;d5(e[i+4>>2],n,1),n=n+36|0,(o|0)!=(n|0););return d5(e[i+4>>2],r+48|0,2),b=a- -64|0,0}function f5(i){var r=0;r=1;e:{if((i|0)>=1024){if(r=898846567431158e293,i>>>0<2047){i=i-1023|0;break e}r=jf,i=((i|0)<3069?i:3069)-2046|0;break e}if((i|0)>-1023)break e;if(r=2004168360008973e-307,i>>>0>4294965304){i=i+969|0;break e}r=0,i=((i|0)>-2960?i:-2960)+1938|0}return m2(0,0),m2(1,i+1023<<20),r*+W_()}function tq(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;return n=b-80|0,b=n,o=e[i+4>>2],xe(n+16|0,r+36|0),a=e[n+16>>2],c=Ge(a),be(o),U(e[o+24>>2],a,c,0,0),e[o+36>>2]=1,o=e[i+4>>2],a=e[r+44>>2],e[n>>2]=e[r+40>>2],e[n+4>>2]=a,yt(o,2841,n),i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=n+80|0,0}function iq(i){i=i|0;var r=0,n=0;if(e[i>>2]=38072,r=e[i+56>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+56>>2]=0,e[i+60>>2]=0,e[i- -64>>2]=0,S[i+43|0]<0&&P(e[i+32>>2]),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),i|0}function jo(i,r){var n=0,o=0,a=0,c=0;o=b-16|0,b=o;e:{if(!r){r=0;break e}n=r>>31,a=(n^r)-n|0,n=Gi(a),Dr(o,a,0,0,0,n+81|0),a=0+e[o+8>>2]|0,n=(e[o+12>>2]^65536)+(16414-n<<16)|0,n=a>>>0<c>>>0?n+1|0:n,c=r&-2147483648|n,n=e[o+4>>2],r=e[o>>2]}e[i>>2]=r,e[i+4>>2]=n,e[i+8>>2]=a,e[i+12>>2]=c,b=o+16|0}function XT(i,r){var n=0,o=0,a=0,c=0;o=Ge(r),c=b-16|0,b=c,a=d1(i),n=fp(i);e:{if(n-a>>>0>=o>>>0){if(!o)break e;n=j0(i),a&&(T8(n+o|0,n,a),r=(r>>>0>=n>>>0&&n+a>>>0>r>>>0?o:0)+r|0),T8(n,r,o),r=o+a|0,pp(i,r),S[c+15|0]=0,$o(r+n|0,c+15|0);break e}ep(i,n,(o+a|0)-n|0,a,0,0,o,r)}return b=c+16|0,i}function nq(i){i=i|0;var r=0,n=0;if(e[i>>2]=38072,r=e[i+56>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);e[i+56>>2]=0,e[i+60>>2]=0,e[i- -64>>2]=0,S[i+43|0]<0&&P(e[i+32>>2]),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),P(i)}function sq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29201,0),i=e[i+12>>2],F[e[e[i>>2]+648>>2]](i)|0}function rq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29265,0),i=e[i+12>>2],F[e[e[i>>2]+108>>2]](i)|0}function oq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29248,0),i=e[i+12>>2],F[e[e[i>>2]+704>>2]](i)|0}function lq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29405,0),i=e[i+12>>2],F[e[e[i>>2]+124>>2]](i)|0}function aq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29438,0),i=e[i+12>>2],F[e[e[i>>2]+720>>2]](i)|0}function cq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29130,0),i=e[i+12>>2],F[e[e[i>>2]+140>>2]](i)|0}function uq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29337,0),i=e[i+12>>2],F[e[e[i>>2]+756>>2]](i)|0}function hq(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;n=b-32|0,b=n,o=e[i+76>>2],a=e[i+80>>2],i=r+200|0,a8(n+16|0,o,a,i);e:{if(e[r+220>>2]==1||(r=e[n+20>>2],!r))break e;o=e[n+16>>2],e[n+28>>2]=r,e[n+24>>2]=o,r=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=r,Ji(i,n+8|0)}return b=n+32|0,0}function dq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29319,0),i=e[i+12>>2],F[e[e[i>>2]+168>>2]](i)|0}function fq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29222,0),i=e[i+12>>2],F[e[e[i>>2]+772>>2]](i)|0}function gq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29148,0),i=e[i+12>>2],F[e[e[i>>2]+184>>2]](i)|0}function mq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29374,0),i=e[i+12>>2],F[e[e[i>>2]+852>>2]](i)|0}function pq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29455,0),i=e[i+12>>2],F[e[e[i>>2]+872>>2]](i)|0}function Aq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29422,0),i=e[i+12>>2],F[e[e[i>>2]+536>>2]](i)|0}function _q(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29303,0),i=e[i+12>>2],F[e[e[i>>2]+604>>2]](i)|0}function Cq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29479,0),i=e[i+12>>2],F[e[e[i>>2]+636>>2]](i)|0}function wq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29184,0),i=e[i+12>>2],F[e[e[i>>2]+196>>2]](i)|0}function vq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29355,0),i=e[i+12>>2],F[e[e[i>>2]+836>>2]](i)|0}function kq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29166,0),i=e[i+12>>2],F[e[e[i>>2]+92>>2]](i)|0}function JT(i,r){var n=0,o=0,a=0;e:switch(e[r>>2]- -64|0){case 43:case 47:case 48:case 59:case 60:case 61:case 62:case 63:n=Z(8),e[i>>2]=n,o=n+8|0,e[i+8>>2]=o,a=e[r+4>>2],e[n>>2]=e[r>>2],e[n+4>>2]=a,e[i+4>>2]=o;return;default:Be(),Ie();case 0:break e}e[i+8>>2]=0,e[i>>2]=0,e[i+4>>2]=0}function bq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29495,0),i=e[i+12>>2],F[e[e[i>>2]+20>>2]](i)|0}function Sq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29285,0),i=e[i+12>>2],F[e[e[i>>2]+32>>2]](i)|0}function yq(i){i=i|0;var r=0;r=e[i+16>>2]-2|0,e[i+16>>2]=r;e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29389,0),i=e[i+12>>2],F[e[e[i>>2]+56>>2]](i)|0}function g5(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;n=b-32|0,b=n,o=e[i+76>>2],a=e[i+80>>2],i=r+36|0,a8(n+16|0,o,a,i);e:{if(e[r+56>>2]==1||(r=e[n+20>>2],!r))break e;o=e[n+16>>2],e[n+28>>2]=r,e[n+24>>2]=o,r=e[n+28>>2],e[n+8>>2]=e[n+24>>2],e[n+12>>2]=r,Ji(i,n+8|0)}return b=n+32|0,0}function Lq(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0;r=b-16|0,b=r,o=e[n+40>>2],a=n+44|0;e:{if(!o&e[a>>2]==-1|(o|0)!=1)break e;if(n=n+20|0,o=di(e[i+12>>2]+196|0,n),(o|0)==-1){o=e[a>>2],c=S[a+11|0],e[r>>2]=13136,e[r+4>>2]=(c|0)<0?o:a,ss(i,n,28271,r);break e}As(n,o)}return b=r+16|0,0}function Dq(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;o=b-16|0,b=o,a=e[i+8>>2],c=e[n+20>>2],g=e[r+20>>2],p=e[r+32>>2],i=e[i+4>>2],_=e[i+56>>2],i=e[i+52>>2],e[o+4>>2]=S[r+11|0]<0?e[r>>2]:r,e[o>>2]=_-i>>3>>>0>p>>>0?10420:12181,ss(a,((c|0)<(g|0)?r:n)+12|0,28191,o),b=o+16|0}function qT(i,r,n){var o=0;e:switch(r|0){case 0:return di(i+216|0,n)>>>0<nt[i+48>>2];case 3:return di(i+236|0,n)>>>0<nt[i+60>>2];case 2:return di(i+316|0,n)>>>0<nt[i+56>>2];case 1:return di(i+296|0,n)>>>0<nt[i+52>>2];case 4:o=di(i+196|0,n)>>>0<nt[i+44>>2];break;default:break e}return o}function Ge(i){var r=0,n=0,o=0;r=i;e:{if(r&3)for(;;){if(!y[r|0])break e;if(r=r+1|0,!(r&3))break}for(;n=r,r=r+4|0,o=e[n>>2],!((o^-1)&o-16843009&-2139062144););if(!(o&255))return n-i|0;for(;o=y[n+1|0],r=n+1|0,n=r,!!o;);}return r-i|0}function eR(i){var r=0;r=16;e:switch(e[i>>2]-238|0){case 6:case 7:case 10:case 11:case 65:case 69:return 4;case 8:case 9:case 12:case 13:case 66:case 70:return 2;default:Be(),Ie();case 3:case 4:case 5:case 64:case 68:r=8;break;case 0:case 1:case 2:case 63:case 67:break e}return r}function m5(i,r,n){var o=0;o=b-48|0,b=o,e[o+44>>2]=n,e[o+40>>2]=r,ee(e[i+4>>2],1030,0),r=e[i+4>>2],e[o+16>>2]=14425,ee(r,28797,o+16|0),r=o+24|0,ci(r,o+40|0),n=e[i+4>>2],e[o>>2]=S[o+35|0]<0?e[o+24>>2]:r,ee(n,28384,o),S[o+35|0]<0&&P(e[o+24>>2]),ee(e[i+4>>2],1024,0),b=o+48|0}function Fs(i,r,n,o){var a=0,c=0;a=b-160|0,b=a,c=-1,e[a+148>>2]=r?r-1|0:0,i=r?i:a+158|0,e[a+144>>2]=i,a=pn(a,0,144),e[a+76>>2]=-1,e[a+36>>2]=987,e[a+80>>2]=-1,e[a+44>>2]=a+159,e[a+84>>2]=a+144;e:{if((r|0)<0){e[98173]=61;break e}S[i|0]=0,c=CT(a,n,o,985,986)}return b=a+160|0,c}function Iq(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b+-64|0,b=n,e[r+192>>2]&&(r=e[i+4>>2],e[r+32>>2]=e[r+32>>2]-2,xe(n,91952),o=e[n>>2],a=Ge(o),be(r),U(e[r+24>>2],o,a,0,0),e[r+36>>2]=1,i=e[i+4>>2],e[i+32>>2]=e[i+32>>2]+2,e[i+36>>2]==3&&be(i),e[i+36>>2]=3),b=n- -64|0,0}function xt(i,r,n){var o=0,a=0;o=b-144|0,b=o;e:{if(e[i+16>>2]){if(e[o+136>>2]=n,e[o+132>>2]=n,a=o,n=Fs(o,128,r,n)+1|0,n>>>0>=129&&(a=o-(n+15&-16)|0,b=a,Fs(a,n,r,e[o+132>>2])),e[o+140>>2]=a,i=e[i+16>>2],!i)break e;F[e[e[i>>2]+24>>2]](i,o+140|0)}b=o+144|0;return}Nr(),Ie()}function C8(i,r){var n=0;n=1;e:{t:{i:switch(r- -64|0){case 47:case 48:if(!y[i+10|0])break t;break e;case 43:if(!y[i+6|0])break t;break e;case 0:case 60:case 61:case 62:case 63:break e;case 59:break i;default:break t}if(y[i+4|0])break e}n=y[i+7|0]!=0&(r|0)>=0}return n}function xq(i,r){i=i|0,r=r|0;var n=0,o=0,a=0,c=0;return n=b+-64|0,b=n,o=e[i+4>>2],xe(n,92024),a=e[n>>2],c=Ge(a),be(o),U(e[o+24>>2],a,c,0,0),e[o+36>>2]=1,e[r+36>>2]!=e[r+40>>2]&&Na(e[i+4>>2],r+36|0,6717),i=e[i+4>>2],e[i+36>>2]==3&&be(i),e[i+36>>2]=2,b=n- -64|0,0}function tR(i,r,n){var o=0,a=0;return o=b-16|0,b=o,a=e[r+4>>2],e[i+96>>2]=e[r>>2],e[i+100>>2]=a,e[i+112>>2]=e[r+16>>2],a=e[r+12>>2],e[i+104>>2]=e[r+8>>2],e[i+108>>2]=a,a=e[n+4>>2],r=e[n>>2],e[o>>2]=r,e[o+4>>2]=a,e[o+8>>2]=r,e[o+12>>2]=a,i=Jk(i+24|0,o),b=o+16|0,(i|0)==1}function Eq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29040,0),i=e[i+12>>2],F[e[e[i>>2]+480>>2]](i)|0}function Nq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29015,0),i=e[i+12>>2],F[e[e[i>>2]+484>>2]](i)|0}function Tq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29026,0),i=e[i+12>>2],F[e[e[i>>2]+492>>2]](i)|0}function Rq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29100,0),i=e[i+12>>2],F[e[e[i>>2]+528>>2]](i)|0}function Mq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29073,0),i=e[i+12>>2],F[e[e[i>>2]+328>>2]](i)|0}function Pq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29057,0),i=e[i+12>>2],F[e[e[i>>2]+336>>2]](i)|0}function Oq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29003,0),i=e[i+12>>2],F[e[e[i>>2]+352>>2]](i)|0}function Fq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29088,0),i=e[i+12>>2],F[e[e[i>>2]+356>>2]](i)|0}function Bq(i){i=i|0;var r=0;r=e[i+16>>2];e:{t:{if(r>>>0>=143){for(;U(e[i+8>>2],58304,142,0,0),r=r-142|0,r>>>0>142;);r=e[i+16>>2];break t}if(!r)break e}U(e[i+8>>2],58304,r,0,0)}return ee(e[i+8>>2],29119,0),i=e[i+12>>2],F[e[e[i>>2]+360>>2]](i)|0}function Wq(i){i=i|0;var r=0,n=0,o=0;if(e[i>>2]=37496,n=e[i+40>>2],n){if(o=n,r=e[i+44>>2],(r|0)!=(n|0)){for(;r=r-24|0,S[r+11|0]<0&&P(e[r>>2]),(n|0)!=(r|0););o=e[i+40>>2]}e[i+44>>2]=n,P(o)}return e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),i|0}function r1(i,r){var n=0,o=0,a=0,c=0;n=b-16|0,b=n;e:{if(!r){r=0;break e}o=r,r=Gi(r),Dr(n,o,0,0,0,r+81|0),a=16414-r<<16,r=0,o=r+e[n+8>>2]|0,a=a+(e[n+12>>2]^65536)|0,a=r>>>0>o>>>0?a+1|0:a,c=o,o=e[n>>2],r=e[n+4>>2]}e[i>>2]=o,e[i+4>>2]=r,e[i+8>>2]=c,e[i+12>>2]=a,b=n+16|0}function Vq(i){i=i|0;var r=0,n=0;if(e[i>>2]=46280,n=e[i+100>>2],n&&(e[i+104>>2]=n,P(n)),r=e[i+88>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+88>>2]=0,e[i+92>>2]=0,e[i+96>>2]=0,te(i+52|0),S[i+51|0]<0&&P(e[i+40>>2]),i|0}function Hq(){var i=0,r=0;i=b-16|0,b=i;e:{if(jZ(i+12|0,i+8|0)|0||(r=G_((e[i+12>>2]<<2)+4|0),e[98174]=r,!r)||(r=G_(e[i+8>>2]),r&&(e[e[98174]+(e[i+12>>2]<<2)>>2]=0,!(GZ(e[98174],r|0)|0))))break e;e[98174]=0}b=i+16|0,e[98211]=392732,e[98193]=42}function Uq(i){i=i|0;var r=0,n=0,o=0;if(e[i>>2]=37496,n=e[i+40>>2],n){if(o=n,r=e[i+44>>2],(r|0)!=(n|0)){for(;r=r-24|0,S[r+11|0]<0&&P(e[r>>2]),(n|0)!=(r|0););o=e[i+40>>2]}e[i+44>>2]=n,P(o)}e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),P(i)}function zq(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0,c=0;if(Yo(i,e[r+8>>2],0)){w5(r,n,o);return}a=e[i+12>>2],c=i+16|0,fR(c,r,n,o),i=i+24|0,a=(a<<3)+c|0;e:{if(i>>>0>=a>>>0)break e;for(;;){if(fR(i,r,n,o),y[r+54|0])break e;if(i=i+8|0,!(a>>>0>i>>>0))break}}}function o1(i,r,n){var o=0,a=0,c=0;e:{if(!r){o=i;break e}for(;o=Mk(i,r,10),c=At,a=ki(o,c,10,0),n=n-1|0,S[n|0]=i-a|48,a=r>>>0>9,i=o,r=c,!!a;);}if(o)for(;n=n-1|0,i=(o>>>0)/10|0,S[n|0]=o-H(i,10)|48,r=o>>>0>9,o=i,!!r;);return n}function Gq(i){i=i|0;var r=0,n=0;if(e[i>>2]=46280,n=e[i+100>>2],n&&(e[i+104>>2]=n,P(n)),r=e[i+88>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);e[i+88>>2]=0,e[i+92>>2]=0,e[i+96>>2]=0,te(i+52|0),S[i+51|0]<0&&P(e[i+40>>2]),P(i)}function np(i,r){var n=0;n=b+-64|0,b=n,e[n+60>>2]=i,e[n+56>>2]=56360,i=sa(n,n+56|0),Fa(i,r),r=e[i+40>>2],r&&(e[i+44>>2]=r,P(r)),r=e[i+28>>2],r&&(e[i+32>>2]=r,P(r)),r=e[i+16>>2],r&&(e[i+20>>2]=r,P(r)),r=e[i+4>>2],r&&(e[i+8>>2]=r,P(r)),b=n- -64|0}function p5(i){var r=0,n=0,o=0;S[i+116|0]=0,n=b-16|0,b=n,i=i+24|0,o=e[i+40>>2],r=e[i+36>>2];e:{if((o|0)==(r|0)){e[n>>2]=0,e[n+4>>2]=-1,xt(i,27759,n),i=1;break e}r=(r+H((o-r|0)/36|0,36)|0)-36|0,i=e[r>>2]!=1|(Gk(i,r,11400,11400)|0)==1}return b=n+16|0,i}function iR(i,r,n){var o=0,a=0,c=0,g=0;for(c=b-16|0,b=c,o=b-16|0,b=o,r=r-i>>2;;){if(r){e[o+12>>2]=i,a=r>>>1|0,e[o+12>>2]=e[o+12>>2]+(a<<2),g=(a^-1)+r|0,r=a,a=Z5(e[o+12>>2],n),r=a?g:r,i=a?e[o+12>>2]+4|0:i;continue}break}return b=o+16|0,b=c+16|0,i}function w8(i,r){var n=0,o=0;Oe(i,y[r+16|0]|y[r+17|0]<<1|y[r+18|0]<<2,7738),n=e[r>>2],o=e[r+4>>2];e:{if(y[r+18|0]){if(oR(i,n,o,12165),!y[r+16|0])break e;oR(i,e[r+8>>2],e[r+12>>2],2426);return}if(Oe(i,n,12165),!y[r+16|0])break e;Oe(i,e[r+8>>2],2426)}}function nR(i,r,n,o){e[i+16>>2]=0,e[i+20>>2]=0,e[i+12>>2]=o,e[i+8>>2]=n,e[i+4>>2]=-1,e[i>>2]=r,e[i+24>>2]=0,e[i+28>>2]=0,e[i+32>>2]=0,e[i+36>>2]=0,e[i+52>>2]=0,e[i+56>>2]=0,e[i+60>>2]=0,e[i+64>>2]=0,e[i+68>>2]=0,e[i+72>>2]=0,e[i+88>>2]=0,e[i+92>>2]=0}function sR(i,r){var n=0,o=0,a=0;if((i|0)!=(r|0)){if(o=y[r+11|0],n=o<<24>>24,S[i+11|0]>=0){if((n|0)>=0){n=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=n,e[i+8>>2]=e[r+8>>2];return}Er(i,e[r>>2],e[r+4>>2]);return}a=i,i=(n|0)<0,So(a,i?e[r>>2]:r,i?e[r+4>>2]:o)}}function A5(i,r){i=i|0,r=r|0;var n=0,o=0;if(o=r+36|0,n=e[i+80>>2],(n|0)!=e[i+84>>2]){e:{if(S[o+11|0]>=0){r=e[o+4>>2],e[n>>2]=e[o>>2],e[n+4>>2]=r,e[n+8>>2]=e[o+8>>2];break e}Ni(n,e[r+36>>2],e[r+40>>2])}return e[i+80>>2]=n+12,0}return o8(i+76|0,o),0}function jq(i,r){i=i|0,r=r|0;var n=0,o=0;if(o=r+40|0,n=e[i+80>>2],(n|0)!=e[i+84>>2]){e:{if(S[o+11|0]>=0){r=e[o+4>>2],e[n>>2]=e[o>>2],e[n+4>>2]=r,e[n+8>>2]=e[o+8>>2];break e}Ni(n,e[r+40>>2],e[r+44>>2])}return e[i+80>>2]=n+12,0}return o8(i+76|0,o),0}function rR(i,r){var n=0,o=0,a=0;if(V_(+i),o=F0(1)|0,a=F0(0)|0,n=o>>>20&2047,(n|0)!=2047){if(!n)return i==0?n=0:(i=rR(i*18446744073709552e3,r),n=e[r>>2]+-64|0),e[r>>2]=n,i;e[r>>2]=n-1022,m2(0,a|0),m2(1,o&-2146435073|1071644672),i=+W_()}return i}function Eh(i,r,n,o){var a=0,c=0,g=0;c=b-16|0,b=c;e:{if(e[r+56>>2]!=1)break e;if(a=e[i+12>>2]+o|0,o=r+36|0,a=di(a,o),(a|0)==-1){a=r+60|0,g=e[a>>2],r=S[r+71|0],e[c>>2]=n,e[c+4>>2]=(r|0)<0?g:a,ss(i,o,28271,c);break e}As(o,a)}return b=c+16|0,0}function D2(i,r){var n=0,o=0;n=b-16|0,b=n,o=e[r>>2],ci(n,r),Rn(i,o,S[n+11|0]<0?e[n>>2]:n),S[n+11|0]<0&&P(e[n>>2]);e:{if(e[r>>2]!=-21||(o=e[r+4>>2],ci(n,r),Rn(i,o,S[n+11|0]<0?e[n>>2]:n),S[n+11|0]>=0))break e;P(e[n>>2])}b=n+16|0}function Zq(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;return r=e[e[e[i+12>>2]+76>>2]+(r<<2)>>2],e[i+16>>2]=r,n=e[e[i+4>>2]+8>>2],o=e[i+32>>2],a=Ge(o),e[r+172>>2]=0,e[r+176>>2]=0,e[r+168>>2]=n,e[r+164>>2]=a,e[r+160>>2]=o,Dh(i,0,e[i+16>>2]+148|0,0),0}function _5(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;a=b-16|0,b=a;e:{if(e[r+56>>2]!=1||(o=e[i+16>>2],!o))break e;if(n=o,o=r+36|0,n=hp(n,o),(n|0)==-1){n=r+60|0,e[a>>2]=S[r+71|0]<0?e[n>>2]:n,ss(i,o,28328,a);break e}As(o,n)}return b=a+16|0,0}function l1(i,r,n){S[r|0]=1,Di(r+4|0,n),i=a1(e[i+12>>2],n),!i|(i|0)==(r|0)||(or(r+40|0,e[i+40>>2],e[i+44>>2]),or(r+52|0,e[i+52>>2],e[i+56>>2]),In[r+80>>2]=In[i+80>>2],Uc(r- -64|0,e[i+72>>2]),In[r+100>>2]=In[i+100>>2],Uc(r+84|0,e[i+92>>2]))}function oR(i,r,n,o){var a=0,c=0,g=0;if(a=b-16|0,b=a,!(!n&r>>>0<128))for(;S[(a+6|0)+c|0]=r|128,c=c+1|0,g=!n&r>>>0>16383|(n|0)!=0,r=(n&127)<<25|r>>>7,n=n>>>7|0,!!g;);n=a+6|0,S[n+c|0]=r,U(i,n,c+1|0,o,0),b=a+16|0}function Qq(){var i=0;return i=Z(17),S[i+11|0]=0,S[i+12|0]=0,S[i+13|0]=0,S[i+14|0]=0,S[i+9|0]=1,S[i+10|0]=1,S[i+1|0]=1,S[i+2|0]=1,S[i+3|0]=1,S[i+4|0]=1,S[i+5|0]=0,S[i+6|0]=0,S[i+7|0]=1,S[i+8|0]=0,S[i|0]=0,S[i+15|0]=0,S[i+16|0]=0,i|0}function lR(i,r){var n=0;if(e[i>>2]=r,r=e[i+152>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+152>>2]=0,e[i+156>>2]=0,e[i+160>>2]=0,bo(i+88|0),te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),i}function Mn(i,r,n){var o=0,a=0,c=0;c=b-16|0,b=c,o=fp(i),a=d1(i);e:{if(o-a>>>0>=n>>>0){if(!n)break e;o=j0(i),R2(o+a|0,r,n),r=n+a|0,pp(i,r),S[c+15|0]=0,$o(r+o|0,c+15|0);break e}ep(i,o,(n+a|0)-o|0,a,a,0,n,r)}return b=c+16|0,i}function Yq(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0,c=0,g=0,p=0,_=0;o=b-16|0,b=o,a=e[i+4>>2],c=e[n+20>>2],g=e[r+20>>2],p=e[r>>2],_=S[r+11|0],e[o>>2]=e[i+8>>2],e[o+4>>2]=(_|0)<0?p:r,ss(a,((c|0)<(g|0)?r:n)+12|0,28191,o),b=o+16|0}function aR(i,r){var n=0;if(e[i>>2]=r,r=e[i+152>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);e[i+152>>2]=0,e[i+156>>2]=0,e[i+160>>2]=0,bo(i+88|0),te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),P(i)}function Zo(i,r){var n=0,o=0,a=0;if(n=Ge(r),n>>>0<4294967280){e:{t:{if(n>>>0>=11){a=n+16&-16,o=Z(a),e[i+8>>2]=a|-2147483648,e[i>>2]=o,e[i+4>>2]=n;break t}if(S[i+11|0]=n,o=i,!n)break e}Ce(o,r,n)}return S[n+o|0]=0,i}Be(),Ie()}function yt(i,r,n){var o=0,a=0,c=0;o=b-144|0,b=o,e[o+140>>2]=n,e[o+136>>2]=n,a=o,n=Fs(o,128,r,n),c=n+1|0,c>>>0>=129&&(a=o-(c+15&-16)|0,b=a,n=Fs(a,c,r,e[o+136>>2])),be(i),U(e[i+24>>2],a,n,0,0),e[i+36>>2]=1,b=o+144|0}function cR(i){var r=0,n=0,o=0;if(!wp(S[e[i>>2]]))return 0;for(;o=e[i>>2],n=-1,r>>>0<=214748364&&(n=S[o|0]-48|0,r=H(r,10),n=(2147483647-r|0)<(n|0)?-1:n+r|0),e[i>>2]=o+1,r=n,!!wp(S[o+1|0]););return r}function $q(i,r,n){i=i|0,r=r|0,n=n|0;var o=0,a=0;return o=b-16|0,b=o,r=e[e[e[i+12>>2]+76>>2]+(r<<2)>>2],r=(e[r+56>>2]-e[r+52>>2]>>3)+G0(r+116|0)|0,r>>>0<n>>>0&&(e[o+4>>2]=r,e[o>>2]=n,Yt(i,27382,o),a=1),b=o+16|0,a|0}function Kq(i){i=i|0;var r=0;r=0;e:{if(e[i>>2]!=26||(i=e[i+4>>2],r=1,Ta(i))||(i=i-63|0,r=0,i>>>0>55))break e;r=i&31,r=((i&63)>>>0>=32?8388608>>>r|0:((1<<r)-1&8388608)<<32-r|17301505>>>r)&1}return r|0}function v8(i){var r=0,n=0;if(n=we(i,0),r=1,i=we(i,1),(n|0)!=26)return 0;e:{if(Ta(i)||(r=0,i=i-63|0,i>>>0>55))break e;r=i&31,r=((i&63)>>>0>=32?8388608>>>r|0:((1<<r)-1&8388608)<<32-r|17301505>>>r)&1}return r}function Xq(i,r){i=i|0,r=r|0;var n=0,o=0;return n=b-16|0,b=n,o=e[r+4>>2],o&&(ia(n,e[r>>2],o),i=e[i+12>>2],S[i+31|0]<0&&P(e[i+20>>2]),r=e[n+4>>2],e[i+20>>2]=e[n>>2],e[i+24>>2]=r,e[i+28>>2]=e[n+8>>2]),b=n+16|0,0}function C5(i,r,n,o){var a=0,c=0,g=0,p=0;a=b-16|0,b=a,e[i+8>>2]!=1&&(c=e[i+12>>2],c&&(e[a+8>>2]=r,e[a+12>>2]=r+o,e[a>>2]=n,e[a+4>>2]=n+o,ee(c,29563,a)),g=i,p=F[e[e[i>>2]+16>>2]](i,r,n,o)|0,e[g+8>>2]=p),b=a+16|0}function Jq(i){i=i|0;var r=0,n=0;if(e[i>>2]=38644,r=e[i+60>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);return e[i+60>>2]=0,e[i+64>>2]=0,e[i+68>>2]=0,S[i+47|0]<0&&P(e[i+36>>2]),i|0}function ki(i,r,n,o){var a=0,c=0,g=0,p=0,_=0,v=0;return a=n>>>16|0,c=i>>>16|0,v=H(a,c),g=n&65535,p=i&65535,_=H(g,p),c=(_>>>16|0)+H(c,g)|0,a=(c&65535)+H(a,p)|0,At=(H(r,n)+v|0)+H(i,o)+(c>>>16)+(a>>>16)|0,_&65535|a<<16}function sp(i,r,n,o){var a=0;a=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=a,e[i+16>>2]=e[r+16>>2],a=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=a,e[i+20>>2]=n,r=e[o+4>>2],e[i+24>>2]=e[o>>2],e[i+28>>2]=r,e[i+32>>2]=e[o+8>>2]}function qq(i){i=i|0;var r=0,n=0,o=0;if(e[i>>2]=40372,te(i+48|0),r=e[i+36>>2],r){if(o=r,n=e[i+40>>2],(n|0)!=(r|0)){for(;n=te(n-36|0),(n|0)!=(r|0););o=e[i+36>>2]}e[i+40>>2]=r,P(o)}return i|0}function eee(i){i=i|0;var r=0,n=0;if(e[i>>2]=38644,r=e[i+60>>2],r)for(;n=e[r+4>>2],F[e[e[r>>2]+4>>2]](r),r=n,!!r;);e[i+60>>2]=0,e[i+64>>2]=0,e[i+68>>2]=0,S[i+47|0]<0&&P(e[i+36>>2]),P(i)}function tee(i){i=i|0;var r=0,n=0,o=0;if(i){if(r=e[i>>2],r){if(n=r,o=e[i+4>>2],(o|0)!=(r|0)){for(;n=o-36|0,S[n+35|0]<0&&P(e[o-12>>2]),o=n,(o|0)!=(r|0););n=e[i>>2]}e[i+4>>2]=r,P(n)}P(i)}}function iee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-16|0,b=n,o=e[r+40>>2],a=e[r+36>>2],e[n>>2]=a,e[n+4>>2]=o,e[n+8>>2]=a,e[n+12>>2]=o,r=tR(i+16|0,r+12|0,n),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,b=n+16|0,0}function wn(i,r,n){var o=0,a=0;o=b-16|0,b=o,a=e[i+4>>2],a=qe(a+e[i+12>>2]|0,a+e[i>>2]|0,o+12|0);e:{if(!a){e[o>>2]=n,Q(i,10147,o),i=1;break e}e[i+12>>2]=a+e[i+12>>2],e[r>>2]=e[o+12>>2],i=0}return b=o+16|0,i}function nee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-16|0,b=n,o=e[r+60>>2],a=e[r+56>>2],e[n>>2]=a,e[n+4>>2]=o,e[n+8>>2]=a,e[n+12>>2]=o,r=tR(i+16|0,r+12|0,n),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,b=n+16|0,0}function w5(i,r,n){var o=0;if(o=e[i+16>>2],!o){e[i+36>>2]=1,e[i+24>>2]=n,e[i+16>>2]=r;return}e:{if((r|0)==(o|0)){if(e[i+24>>2]!=2)break e;e[i+24>>2]=n;return}S[i+54|0]=1,e[i+24>>2]=2,e[i+36>>2]=e[i+36>>2]+1}}function uR(i,r,n){var o=0,a=0,c=0,g=0;c=b-16|0,b=c,r&&(a=fp(i),o=d1(i),g=o+r|0,a-o>>>0<r>>>0&&_8(i,a,g-a|0,o,o,0),a=o,o=j0(i),a=a+o|0,r&&pn(a,n&255,r),pp(i,g),S[c+15|0]=0,$o(o+g|0,c+15|0)),b=c+16|0}function see(i){i=i|0;var r=0,n=0,o=0;if(e[i>>2]=40372,te(i+48|0),r=e[i+36>>2],r){if(o=r,n=e[i+40>>2],(n|0)!=(r|0)){for(;n=te(n-36|0),(n|0)!=(r|0););o=e[i+36>>2]}e[i+40>>2]=r,P(o)}P(i)}function Pa(i,r,n){var o=0,a=0,c=0;o=b-16|0,b=o,a=1,c=e[i+12>>2];e:{if(nt[i>>2]<c+1>>>0){e[o+4>>2]=n,e[o>>2]=7319,Q(i,9787,o);break e}S[r|0]=y[e[i+4>>2]+c|0],e[i+12>>2]=e[i+12>>2]+1,a=0}return b=o+16|0,a}function ree(i){i=i|0;var r=0;return e[i>>2]=48292,r=e[i+48>>2],r&&(e[i+52>>2]=r,P(r)),r=e[i+36>>2],r&&(e[i+40>>2]=r,P(r)),r=e[i+24>>2],r&&(e[i+28>>2]=r,P(r)),r=e[i+12>>2],r&&(e[i+16>>2]=r,P(r)),i|0}function xr(i,r,n,o,a){var c=0;if(c=b-256|0,b=c,!(a&73728|(n|0)<=(o|0))){if(n=n-o|0,o=n>>>0<256,pn(c,r&255,o?n:256),!o)for(;lr(i,c,256),n=n-256|0,n>>>0>255;);lr(i,c,n)}b=c+256|0}function So(i,r,n){var o=0,a=0,c=0;a=b-16|0,b=a,o=j5(i);e:{if(o>>>0>n>>>0){o=e[i>>2],Jc(i,n),R2(o,r,n),S[a+15|0]=0,$o(n+o|0,a+15|0);break e}c=i,i=e[i+4>>2],ep(c,o-1|0,(n-o|0)+1|0,i,0,i,n,r)}b=a+16|0}function oee(i){i=i|0;var r=0;e[i>>2]=48292,r=e[i+48>>2],r&&(e[i+52>>2]=r,P(r)),r=e[i+36>>2],r&&(e[i+40>>2]=r,P(r)),r=e[i+24>>2],r&&(e[i+28>>2]=r,P(r)),r=e[i+12>>2],r&&(e[i+16>>2]=r,P(r)),P(i)}function lee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-16|0,b=n,i=e[i+12>>2],o=e[r+4>>2],r=e[r>>2],e[n+8>>2]=r,e[n+12>>2]=o,a=e[e[i>>2]+264>>2],e[n>>2]=r,e[n+4>>2]=o,i=F[a|0](i,n)|0,b=n+16|0,i|0}function aee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-16|0,b=n,i=e[i+12>>2],o=e[r+4>>2],r=e[r>>2],e[n+8>>2]=r,e[n+12>>2]=o,a=e[e[i>>2]+268>>2],e[n>>2]=r,e[n+4>>2]=o,i=F[a|0](i,n)|0,b=n+16|0,i|0}function Oe(i,r,n){var o=0,a=0,c=0;if(o=b-16|0,b=o,r>>>0>=128)for(;S[(o+11|0)+a|0]=r|128,a=a+1|0,c=r>>>0>16383,r=r>>>7|0,!!c;);c=o+11|0,S[c+a|0]=r,U(i,c,a+1|0,n,0),b=o+16|0}function Qo(i,r,n,o){var a=0;a=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=a,e[i+16>>2]=e[r+16>>2],a=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=a,e[i+20>>2]=n,r=e[o+4>>2],e[i+24>>2]=e[o>>2],e[i+28>>2]=r}function k8(i,r){i=i|0,r=r|0;var n=0,o=0;return r=b+-64|0,b=r,i=e[i+4>>2],e[i+32>>2]=e[i+32>>2]-2,S5(i),xe(r,91972),n=e[r>>2],o=Ge(n),be(i),U(e[i+24>>2],n,o,0,0),e[i+36>>2]=2,b=r- -64|0,0}function Oa(i,r,n){var o=0,a=0;o=b-16|0,b=o,S[o+11|0]=r|128,S[o+14|0]=r>>>21|128,S[o+13|0]=r>>>14|128,S[o+12|0]=r>>>7|128,a=r>>>28|0,S[o+15|0]=(r|0)<0?a|112:a,U(i,o+11|0,5,n,0),b=o+16|0}function sa(i,r){return e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=r,e[i+12>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[i+24>>2]=0,e[i+28>>2]=0,e[i+32>>2]=0,e[i+36>>2]=0,e[i+40>>2]=0,e[i+44>>2]=0,e[i+48>>2]=0,i}function hR(i){var r=0;return r=e[i+72>>2],e[i+72>>2]=r-1|r,r=e[i>>2],r&8?(e[i>>2]=r|32,-1):(e[i+4>>2]=0,e[i+8>>2]=0,r=e[i+44>>2],e[i+28>>2]=r,e[i+20>>2]=r,e[i+16>>2]=r+e[i+48>>2],0)}function v5(i,r,n,o,a,c,g,p,_){var v=0;v=b-16|0,b=v,wo(v,r,n,o,a,c,g,p,_^-2147483648),o=e[v>>2],n=e[v+4>>2],r=e[v+12>>2],e[i+8>>2]=e[v+8>>2],e[i+12>>2]=r,e[i>>2]=o,e[i+4>>2]=n,b=v+16|0}function Nh(i){var r=0,n=0,o=0;if(n=e[i>>2],n){if(o=n,r=e[i+4>>2],(r|0)!=(n|0)){for(;r=r-12|0,S[r+11|0]<0&&P(e[r>>2]),(n|0)!=(r|0););o=e[i>>2]}e[i+4>>2]=n,P(o)}}function Cl(i,r,n){var o=0,a=0,c=0;a=b-16|0,b=a,o=fp(i);e:{if(o>>>0>=n>>>0){o=j0(i),T8(o,r,n),S[a+15|0]=0,$o(n+o|0,a+15|0),pp(i,n);break e}c=i,i=d1(i),ep(c,o,n-o|0,i,0,i,n,r)}b=a+16|0}function cee(i){i=i|0;var r=0,n=0;i&&(r=e[i+8>>2],e[i+8>>2]=0,r&&(n=e[r>>2],n&&(e[r+4>>2]=n,P(n)),P(r)),r=e[i+4>>2],e[i+4>>2]=0,r&&(n=e[r>>2],n&&(e[r+4>>2]=n,P(n)),P(r)),P(i))}function k5(i,r){var n=0,o=0;n=y[i|0],o=y[r|0];e:{if(!n|(o|0)!=(n|0))break e;for(;;){if(o=y[r+1|0],n=y[i+1|0],!n)break e;if(r=r+1|0,i=i+1|0,(n|0)!=(o|0))break}}return n-o|0}function U(i,r,n,o,a){var c=0,g=0,p=0,_=0;c=e[i+4>>2],e[i+8>>2]!=1&&(g=e[i+12>>2],g&&xa(g,r,n,c,a,o),p=i,_=F[e[e[i>>2]+12>>2]](i,c,r,n)|0,e[p+8>>2]=_,c=e[i+4>>2]),e[i+4>>2]=n+c}function Th(i){var r=0,n=0;r=e[88644],n=i+3&-4,i=r+n|0;e:{if(i>>>0<=r>>>0&&n||i>>>0>tM()<<16>>>0&&!(zZ(i|0)|0))break e;return e[88644]=i,r}return e[98173]=48,-1}function uee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;return n=b-16|0,b=n,o=e[i+12>>2],o=e[o+80>>2]-e[o+76>>2]>>2,o>>>0<r>>>0&&(e[n+4>>2]=o,e[n>>2]=r,Yt(i,27701,n),a=1),b=n+16|0,a|0}function b5(i,r,n){var o=0,a=0,c=0;return o=b+-64|0,b=o,a=e[i+4>>2],xe(o,n),n=e[o>>2],c=Ge(n),be(a),U(e[a+24>>2],n,c,0,0),e[a+36>>2]=1,d5(e[i+4>>2],r+36|0,2),b=o- -64|0,0}function hee(i){i=i|0;var r=0;e:{if(e[i>>2]!=26||(i=e[i+4>>2]-2|0,i>>>0>35))break e;r=i&31,r=((i&63)>>>0>=32?8>>>r|0:((1<<r)-1&8)<<32-r|-2073821057>>>r)&1}return r|0}function Ni(i,r,n){var o=0,a=0;e:{t:{if(n>>>0<=10){o=i,g1(i,n);break t}if(n>>>0>4294967279)break e;a=cp(n)+1|0,o=Z(a),vp(i,o),Ap(i,a),Jc(i,n)}R2(o,r,n+1|0);return}Nr(),Ie()}function dee(i){return i=i|0,e[i>>2]=38180,bo(i+84|0),te(i+48|0),S[i+43|0]<0&&P(e[i+32>>2]),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),i|0}function Ne(i,r,n){var o=0;return o=e[n+4>>2],e[i>>2]=e[n>>2],e[i+4>>2]=o,e[i+16>>2]=e[n+16>>2],o=e[n+12>>2],e[i+8>>2]=e[n+8>>2],e[i+12>>2]=o,e[i+24>>2]=r,e[i+20>>2]=0,i}function Er(i,r,n){var o=0,a=0;o=b-16|0,b=o;e:{if(n>>>0<=10){g1(i,n),R2(i,r,n),S[o+15|0]=0,$o(i+n|0,o+15|0);break e}a=i,i=y[i+11|0],ep(a,10,n-10|0,i,0,i,n,r)}b=o+16|0}function fee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;n=1,i=e[i+16>>2],o=e[i>>2],a=e[i+4>>2]-o|0;e:{if(a>>>0<r>>>0||(n=0,r>>>0>=a>>>0))break e;e[i+4>>2]=r+o}return n|0}function S5(i){var r=0,n=0,o=0;n=e[i+12>>2],o=n-40|0,r=e[o+28>>2],r&&(e[n-8>>2]=r,P(r)),r=e[n-24>>2],r&&(e[n-20>>2]=r,P(r)),S[o+11|0]<0&&P(e[o>>2]),e[i+12>>2]=o}function gee(i){i=i|0,e[i>>2]=38180,bo(i+84|0),te(i+48|0),S[i+43|0]<0&&P(e[i+32>>2]),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),P(i)}function dR(i,r){var n=0,o=0,a=0;n=e[r>>2];e:{if(!n||(o=e[i>>2],!o))break e;if(!((n|0)!=-21|(o|0)!=-21))return e[r+4>>2]!=e[i+4>>2];a=(n|0)!=(o|0)}return a}function En(i,r,n){var o=0,a=0,c=0;e:{if(!n)break e;for(;;){if(o=y[i|0],a=y[r|0],(o|0)==(a|0)){if(r=r+1|0,i=i+1|0,n=n-1|0,n)continue;break e}break}c=o-a|0}return c}function Kc(i,r,n){var o=0;o=b-16|0,b=o,S[o+15|0]=r>>>28,S[o+11|0]=r|128,S[o+14|0]=r>>>21|128,S[o+13|0]=r>>>14|128,S[o+12|0]=r>>>7|128,U(i,o+11|0,5,n,0),b=o+16|0}function ds(i,r){var n=0,o=0;if(n=e[i+4>>2],(n|0)!=(r|0))for(;n=n-20|0,o=e[n+4>>2],o&&(ds(n+4|0,o),P(e[n+4>>2])),(r|0)!=(n|0););e[i+4>>2]=r}function mee(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0;var a=0;return a=b-16|0,b=a,i=z5(UZ(e[i+60>>2],r|0,n|0,o&255,a+8|0)|0),b=a+16|0,At=i?-1:e[a+12>>2],(i?-1:e[a+8>>2])|0}function pee(i,r){i=i|0,r=r|0;var n=0,o=0;if(n=e[r+36>>2],o=e[r+40>>2],(n|0)!=(o|0))for(;u8(i,n),n=n+36|0,(o|0)!=(n|0););return u8(i,r+48|0),0}function rp(i,r){i=i|0,r=r|0;var n=0,o=0;return n=b+-64|0,b=n,i=e[i+4>>2],xe(n,r+36|0),r=e[n>>2],o=Ge(r),be(i),U(e[i+24>>2],r,o,0,0),e[i+36>>2]=2,b=n- -64|0,0}function fR(i,r,n,o){var a=0,c=0;c=e[i+4>>2],a=0;e:{if(!n||(a=c>>8,!(c&1)))break e;a=$5(e[n>>2],a)}i=e[i>>2],F[e[e[i>>2]+28>>2]](i,r,n+a|0,c&2?o:2)}function y5(i){var r=0,n=0;e[i+112>>2]=0,e[i+116>>2]=0,n=e[i+4>>2],r=e[i+44>>2]-n|0,e[i+120>>2]=r,e[i+124>>2]=r>>31,r=i,i=e[i+8>>2],e[r+104>>2]=i}function z0(i,r,n){var o=0;return o=e[r+4>>2],e[i>>2]=e[r>>2],e[i+4>>2]=o,e[i+16>>2]=e[r+16>>2],o=e[r+12>>2],e[i+8>>2]=e[r+8>>2],e[i+12>>2]=o,e[i+20>>2]=n,i}function Rh(i,r){var n=0;n=i-48|0;e:{t:{if(n>>>0<10)break t;if(i-97>>>0<=5){n=i-87|0;break t}if(n=1,i-65>>>0>5)break e;n=i-55|0}e[r>>2]=n,n=0}return n}function Aee(i){i=i|0;var r=0;return e[i>>2]=55104,r=e[i+76>>2],r&&(e[i+80>>2]=r,P(r)),e[i>>2]=55232,S[i+71|0]<0&&P(e[i+60>>2]),te(i+24|0),i|0}function Mh(i,r,n){var o=0,a=0;return o=b+-64|0,b=o,i=e[i+4>>2],xe(o,n),n=e[o>>2],a=Ge(n),be(i),U(e[i+24>>2],n,a,0,0),e[i+36>>2]=r,b=o- -64|0,0}function _ee(i,r,n,o,a,c){if(i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,Yo(i,e[r+8>>2],c)){c5(r,n,o,a);return}i=e[i+8>>2],F[e[e[i>>2]+20>>2]](i,r,n,o,a,c)}function Cee(i){i=i|0;var r=0;return e[i>>2]=54440,r=e[i+12>>2],r&&(e[i+16>>2]=r,P(r)),r=e[i+8>>2],e[i+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),i|0}function wl(i,r,n){if(i>>>0<r>>>0){Ce(i,r,n);return}if(n)for(i=i+n|0,r=r+n|0;i=i-1|0,r=r-1|0,S[i|0]=y[r|0],n=n-1|0,!!n;);}function wee(i){i=i|0;var r=0;e[i>>2]=55104,r=e[i+76>>2],r&&(e[i+80>>2]=r,P(r)),e[i>>2]=55232,S[i+71|0]<0&&P(e[i+60>>2]),te(i+24|0),P(i)}function gR(i,r){return e[i>>2]=r,S[i+43|0]<0&&P(e[i+32>>2]),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),i}function L5(i,r,n,o,a){var c=0,g=0,p=0;e[i+8>>2]!=1&&(c=e[i+12>>2],c&&xa(c,n,o,r,0,a),g=i,p=F[e[e[i>>2]+12>>2]](i,r,n,o)|0,e[g+8>>2]=p)}function G0(i){var r=0,n=0;if(r=e[i>>2],i=e[i+4>>2],(r|0)!=(i|0))for(;n=e[r+8>>2]+n|0,r=r+12|0,(i|0)!=(r|0););return n}function a1(i,r){var n=0;return r=di(i+276|0,r),n=e[i+128>>2],i=e[i+124>>2],r>>>0<n-i>>2>>>0?(i=e[i+(r<<2)>>2],i=e[i+36>>2]?0:i):i=0,i}function vee(i){i=i|0;var r=0;e[i>>2]=54440,r=e[i+12>>2],r&&(e[i+16>>2]=r,P(r)),r=e[i+8>>2],e[i+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),P(i)}function kee(i,r){i=i|0,r=r|0;var n=0;return n=r,r=e[i+12>>2],(n+e[r+48>>2]|0)!=e[r+80>>2]-e[r+76>>2]>>2?(Yt(i,15151,0),i=1):i=0,i|0}function mR(i,r){e[i>>2]=r,S[i+43|0]<0&&P(e[i+32>>2]),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),P(i)}function b8(i,r){if(r=e[r+148>>2],!r)return 0;e:{for(;;){if((Ck(i,r)|0)==1)break e;if(r=e[r+4>>2],!r)break}return 0}return 1}function bee(i,r){i=i|0,r=r|0;var n=0,o=0,a=0;n=r,r=e[r>>2]+7&-8,e[n>>2]=r+16,o=i,a=WN(e[r>>2],e[r+4>>2],e[r+8>>2],e[r+12>>2]),B0[o>>3]=a}function D5(i,r){r&&(D5(i,e[r>>2]),D5(i,e[r+4>>2]),i=e[r+32>>2],i&&(e[r+36>>2]=i,P(i)),i=e[r+20>>2],i&&(e[r+24>>2]=i,P(i)),P(r))}function pR(i,r){var n=0;return r>>>0<=99?BR(i,r):r>>>0<=999?(n=i,i=(r>>>0)/100|0,x8(zR(n,i),r-H(i,100)|0)):I8(i,r)}function I5(i,r,n,o,a,c){var g=0,p=0;g=e[i+4>>2],p=g>>8,g&1&&(p=$5(e[o>>2],p)),i=e[i>>2],F[e[e[i>>2]+20>>2]](i,r,n,o+p|0,g&2?a:2,c)}function Fa(i,r){if(r=e[r>>2],!r)return 0;e:{for(;;){if((Ck(i,r)|0)==1)break e;if(r=e[r+4>>2],!r)break}return 0}return 1}function Ph(i,r){return e[i+12>>2]=r,e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=48944,r=Z(12),e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[i+16>>2]=r,i}function See(i){return i=i|0,e[i>>2]=37592,p8(i+32|0),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),i|0}function x5(i,r,n){var o=0,a=0;return o=e[i+60>>2],e[i+60>>2]=o+1,a=y[r+47|0],(a<<24>>24<0?e[r+40>>2]:a)||A2(i,n,o,0,r+36|0),0}function S8(i,r,n,o,a){var c=0,g=0;c=e[i+4>>2],g=c>>8,c&1&&(g=$5(e[n>>2],g)),i=e[i>>2],F[e[e[i>>2]+24>>2]](i,r,n+g|0,c&2?o:2,a)}function yee(i){i=i|0;var r=0,n=0;return e[i>>2]=48944,r=e[i+16>>2],e[i+16>>2]=0,r&&(n=e[r>>2],n&&(e[r+4>>2]=n,P(n)),P(r)),i|0}function Lee(i,r,n,o,a,c,g,p,_){return i=i|0,r=r|0,n=n|0,o=o|0,c=c|0,g=g|0,p=p|0,_=_|0,KN(i,r,n,o,c,g,p,_,45572,45728,44)|0}function Dee(i,r,n,o,a,c,g,p,_){return i=i|0,r=r|0,n=n|0,o=o|0,c=c|0,g=g|0,p=p|0,_=_|0,KN(i,r,n,o,c,g,p,_,45744,45900,45)|0}function Iee(i){i=i|0,e[i>>2]=37592,p8(i+32|0),e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),P(i)}function AR(i,r){i=i|0,r=r|0;var n=0;return n=r+36|0,a5(e[i+4>>2],n),r=r+12|0,Tk(r,e[i+4>>2],n),Q_(r,e[i+4>>2],n,e[i+8>>2])|0}function xee(i,r,n,o){if(i=i|0,r=r|0,n=n|0,o=o|0,Yo(i,e[r+8>>2],0)){w5(r,n,o);return}i=e[i+8>>2],F[e[e[i>>2]+28>>2]](i,r,n,o)}function Eee(i,r,n){return i=i|0,r=r|0,n=n|0,i=e[e[e[i+12>>2]+148>>2]+(r<<2)>>2],r=e[n+4>>2],e[i+52>>2]=e[n>>2],e[i+56>>2]=r,0}function _R(i,r){var n=0;return r=di(i+336|0,r),n=e[i+176>>2],i=e[i+172>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function CR(i,r){var n=0;return r=di(i+356|0,r),n=e[i+152>>2],i=e[i+148>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function Z(i){var r=0;i=i||1;e:{for(;;){if(r=G_(i),r)break e;if(r=e[98343],r){F[r|0]();continue}break}Be(),Ie()}return r}function Nee(i){i=i|0;var r=0,n=0;e[i>>2]=48944,r=e[i+16>>2],e[i+16>>2]=0,r&&(n=e[r>>2],n&&(e[r+4>>2]=n,P(n)),P(r)),P(i)}function Oh(i,r){var n=0;return r=di(i+316|0,r),n=e[i+164>>2],i=e[i+160>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function Xc(i,r){var n=0;return r=di(i+296|0,r),n=e[i+140>>2],i=e[i+136>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function op(i,r){var n=0;return r=di(i+236|0,r),n=e[i+92>>2],i=e[i+88>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function lp(i,r){var n=0;return r=di(i+196|0,r),n=e[i+68>>2],i=e[i+64>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function vl(i,r){var n=0;return r=di(i+216|0,r),n=e[i+80>>2],i=e[i+76>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]:i=0,i}function Tee(i){return i=i|0,e[i>>2]=37544,S[i+51|0]<0&&P(e[i+40>>2]),e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),i|0}function E5(i,r){var n=0;return r=di(i+12|0,r),n=e[i+4>>2],i=e[i>>2],r>>>0<n-i>>2>>>0?i=e[i+(r<<2)>>2]+8|0:i=0,i}function c1(i,r){return e[i>>2]=r,S[i+23|0]<0&&P(e[i+12>>2]),r=e[i+8>>2],e[i+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),i}function Ree(i,r){i=i|0,r=r|0;var n=0;return n=e[i+76>>2]-12|0,S[n+11|0]<0&&P(e[n>>2]),e[i+76>>2]=n,u8(i,r+200|0),0}function Mee(i,r){i=i|0,r=r|0;var n=0,o=0;return e[r+192>>2]&&(n=i,o=(iT(i+40|0)|0)==1|e[i+316>>2]==1,e[n+316>>2]=o),0}function fe(i,r){return e[i>>2]=0,e[i+4>>2]=0,e[i+24>>2]=-1,e[i+16>>2]=0,e[i+20>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,Di(i,r)}function Pee(i){i=i|0,e[i>>2]=37544,S[i+51|0]<0&&P(e[i+40>>2]),e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),P(i)}function u1(i,r){e[i>>2]=r,S[i+23|0]<0&&P(e[i+12>>2]),r=e[i+8>>2],e[i+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),P(i)}function ar(i,r,n){return(r&n)==-1&&(i=e[i>>2],i=(i>>>0<520?i<<6:33280)+58592|0,r=e[i+40>>2],n=e[i+44>>2]),At=n,r}function wR(i,r,n,o,a,c,g,p,_){e[i>>2]=r,e[i+4>>2]=n,e[i+8>>2]=o,e[i+12>>2]=a&65535|(_>>>16&32768|a>>>16&32767)<<16}function Ce(i,r,n){var o=0;if(n)for(o=i;S[o|0]=y[r|0],o=o+1|0,r=r+1|0,n=n-1|0,!!n;);return i}function N5(i,r,n){return i=e[i>>2],i=(i>>>0<520?i<<6:33280)+58592|0,(r|0)==e[i+40>>2]&e[i+44>>2]==(n|0)|(r&n)==-1}function Oee(i,r){return i=i|0,r=r|0,r=LT(i+16|0,(e[r+192>>2]?196:164)+r|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,0}function Fee(i,r){i=i|0,r=r|0;var n=0;n=b-16|0,b=n,i=e[i+4>>2],e[n>>2]=e[r>>2],Ye(i,i+96|0,10204,n),b=n+16|0}function Yo(i,r,n){return n?(i|0)==(r|0)?1:!k5(e[i+4>>2],e[r+4>>2]):e[i+4>>2]==e[r+4>>2]}function Bee(i){i=i|0;var r=0,n=0;return r=Z(12),e[r>>2]=52452,n=e[i+8>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=n,r|0}function Wee(i){i=i|0;var r=0,n=0;return r=Z(12),e[r>>2]=52956,n=e[i+8>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=n,r|0}function Vee(i){i=i|0;var r=0,n=0;return r=Z(12),e[r>>2]=47604,n=e[i+8>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=n,r|0}function y8(i,r,n,o,a){var c=0;return c=b+-64|0,b=c,i=e[i+4>>2],xe(c,a),Km(i,o,r+n|0,e[c>>2]),b=c- -64|0,0}function Hee(i,r,n,o,a,c,g){return i=i|0,r=r|0,n=n|0,o=o|0,c=c|0,g=g|0,XN(i,r,n,o,c,g,44664,44840,49)|0}function Uee(i,r,n,o,a,c,g){return i=i|0,r=r|0,n=n|0,o=o|0,c=c|0,g=g|0,XN(i,r,n,o,c,g,41500,41676,23)|0}function zee(i){return i=i|0,e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),i|0}function ap(i,r,n){e:{if((we(i,0)|0)!=54&&(we(i,0)|0)!=126)break e;return qt(i,r),1}return Di(r,n),0}function vR(i,r){return e[i>>2]=r,r=e[i+40>>2],r&&(e[i+44>>2]=r,P(r)),S[i+39|0]<0&&P(e[i+28>>2]),i}function h1(i,r){var n=0,o=0,a=0;n=b-32|0,b=n,o=n+21|0,a=n+32|0,HT(n+8|0,o,a,r),KT(i,o,e[n+8>>2]),b=a}function kR(i){var r=0,n=0,o=0,a=0;return r=b-16|0,b=r,n=r+8|0,o=n,a=j0(i),e[o>>2]=a,b=r+16|0,e[n>>2]}function Gee(i){i=i|0;var r=0;i&&(S[i+15|0]<0&&P(e[i+4>>2]),r=e[i>>2],e[i>>2]=0,r&&P(r),P(i))}function bR(i,r,n){var o=0;return o=eo(i,r,11859),r=Go(i,e[r+4>>2]-e[r>>2]>>3),S2(i,n),(o|0)==1|(r|0)==1}function jee(i,r){i=i|0,r=r|0;var n=0;return n=r+12|0,r=r+52|0,OT(i,n,r),Q_(n,e[i+4>>2],r,e[i+8>>2])|0}function T5(i,r){i=i|0,r=r|0;var n=0;return n=r+12|0,r=r+48|0,OT(i,n,r),Q_(n,e[i+4>>2],r,e[i+8>>2])|0}function SR(i,r){e[i>>2]=r,r=e[i+40>>2],r&&(e[i+44>>2]=r,P(r)),S[i+39|0]<0&&P(e[i+28>>2]),P(i)}function Zee(i){return i=i|0,e[i>>2]=37408,bo(i+40|0),e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),i|0}function Qee(i){i=i|0,e[i>>2]=37720,S[i+27|0]<0&&P(e[i+16>>2]),S[i+15|0]<0&&P(e[i+4>>2]),P(i)}function pn(i,r,n){var o=0;if(n)for(o=i;S[o|0]=r,o=o+1|0,n=n-1|0,!!n;);return i}function di(i,r){var n=0;if(n=r+24|0,e[r+20>>2]==1){if(i=Br(i,n),!i)return-1;n=i+40|0}return e[n>>2]}function Yee(i){return i=i|0,e[i>>2]=46404,bo(i+88|0),te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),i|0}function R5(i,r){r&&(R5(i,e[r>>2]),R5(i,e[r+4>>2]),i=e[r+20>>2],i&&(e[r+24>>2]=i,P(i)),P(r))}function $ee(i,r,n,o){return i=i|0,r=r|0,n=n|0,o=o|0,i=e[i+12>>2],F[e[e[i>>2]+244>>2]](i,r,n,o)|0}function Kee(i){i=i|0,e[i>>2]=37408,bo(i+40|0),e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),P(i)}function L8(i,r){return i=i|0,r=r|0,r=e[i+80>>2]-12|0,S[r+11|0]<0&&P(e[r>>2]),e[i+80>>2]=r,0}function D8(i,r){return i=i|0,r=r|0,r=e[i+76>>2]-12|0,S[r+11|0]<0&&P(e[r>>2]),e[i+76>>2]=r,0}function Xee(i,r,n,o){return i=i|0,r=r|0,n=n|0,o=o|0,i=e[i+12>>2],F[e[e[i>>2]+24>>2]](i,r,n,o)|0}function Jee(i,r,n,o,a,c){i=i|0,r=r|0,n=n|0,o=o|0,a=a|0,c=c|0,Yo(i,e[r+8>>2],c)&&c5(r,n,o,a)}function qee(i,r){i=i|0,r=r|0;var n=0;e[r>>2]=52452,n=e[i+8>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=n}function ete(i,r){i=i|0,r=r|0;var n=0;e[r>>2]=52956,n=e[i+8>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=n}function tte(i,r){i=i|0,r=r|0;var n=0;e[r>>2]=47604,n=e[i+8>>2],e[r+4>>2]=e[i+4>>2],e[r+8>>2]=n}function ite(i){i=i|0,e[i>>2]=46404,bo(i+88|0),te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),P(i)}function nte(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,a=a|0,c=c|0,e1(i,r,n,a,c,45916,47)|0}function ste(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,a=a|0,c=c|0,e1(i,r,n,a,c,46036,48)|0}function rte(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,a=a|0,c=c|0,e1(i,r,n,a,c,39208,3)|0}function ote(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,a=a|0,c=c|0,e1(i,r,n,a,c,39448,2)|0}function lte(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,a=a|0,c=c|0,e1(i,r,n,a,c,39568,6)|0}function As(i,r){e[i+20>>2]!=1|S[i+35|0]>=0||P(e[i+24>>2]),e[i+24>>2]=r,e[i+20>>2]=0}function ate(i,r,n,o,a,c){return i=i|0,r=r|0,n=n|0,a=a|0,c=c|0,e1(i,r,n,a,c,39792,4)|0}function cte(i){i=i|0;var r=0;return e[i>>2]=44564,r=e[i+36>>2],r&&(e[i+40>>2]=r,P(r)),i|0}function ute(i){i=i|0;var r=0;return e[i>>2]=46524,r=e[i+44>>2],r&&(e[i+48>>2]=r,P(r)),i|0}function cp(i){var r=0;return i>>>0>=11?(r=i+16&-16,i=r-1|0,i=(i|0)==11?r:i):i=10,i}function yR(i,r){return e[i>>2]=r,r=e[i+36>>2],e[i+36>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),i}function M5(i,r){r&&(M5(i,e[r>>2]),M5(i,e[r+4>>2]),S[r+27|0]<0&&P(e[r+16>>2]),P(r))}function hte(i,r,n){return i=i|0,r=r|0,n=n|0,n=e[r+4>>2],e[i+60>>2]=e[r>>2],e[i+64>>2]=n,0}function I2(i){y[i|0]&&(S[i+10|0]=1),y[i+6|0]&&(S[i+10|0]=1),y[i+9|0]||(S[i+10|0]=0)}function LR(i,r){return e[i>>2]=r,r=e[i+8>>2],e[i+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),i}function dte(i,r,n,o,a){return i=i|0,r=r|0,o=o|0,rT(i,r,e[o>>2],e[o+4>>2])|0}function fte(i){return i=i|0,e[i>>2]=55232,S[i+71|0]<0&&P(e[i+60>>2]),te(i+24|0),i|0}function DR(i,r){e[i>>2]=r,r=e[i+36>>2],e[i+36>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),P(i)}function gte(i,r,n){return i=i|0,r=r|0,n=n|0,i=e[i+12>>2],F[e[e[i>>2]+236>>2]](i,r,n)|0}function mte(i,r,n){return i=i|0,r=r|0,n=n|0,i=e[i+12>>2],F[e[e[i>>2]+240>>2]](i,r,n)|0}function pte(i,r,n){return i=i|0,r=r|0,n=n|0,i=e[i+12>>2],F[e[e[i>>2]+248>>2]](i,r,n)|0}function Ate(i){return i=i|0,e[i>>2]=38764,te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),i|0}function _te(i,r,n){return i=i|0,r=r|0,n=n|0,i=e[i+12>>2],F[e[e[i>>2]+256>>2]](i,r,n)|0}function Cte(i,r,n,o,a){return i=i|0,o=o|0,a=a|0,oT(i,a,e[o>>2],e[o+4>>2])|0}function wte(i){return i=i|0,e[i>>2]=53664,te(i+20|0),S[i+19|0]<0&&P(e[i+8>>2]),i|0}function vte(i){i=i|0;var r=0;e[i>>2]=44564,r=e[i+36>>2],r&&(e[i+40>>2]=r,P(r)),P(i)}function kte(i){i=i|0;var r=0;e[i>>2]=46524,r=e[i+44>>2],r&&(e[i+48>>2]=r,P(r)),P(i)}function bte(i,r){return i=i|0,r=r|0,Dh(i,1,e[e[e[i+12>>2]+148>>2]+(r<<2)>>2]+60|0,0),0}function Ste(i,r){return i=i|0,r=r|0,Dh(i,1,e[e[e[i+12>>2]+172>>2]+(r<<2)>>2]+52|0,0),0}function IR(i,r){e[i>>2]=r,r=e[i+8>>2],e[i+8>>2]=0,r&&F[e[e[r>>2]+4>>2]](r),P(i)}function yte(i,r){return i=i|0,r=r|0,Dh(i,1,e[e[e[i+12>>2]+88>>2]+(r<<2)>>2]+24|0,0),0}function xR(i,r,n){return r=LT(i+16|0,r+n|0),e[i+316>>2]=e[i+316>>2]==1|(r|0)==1,0}function ER(i){i=i|0,e[i>>2]=55232,S[i+71|0]<0&&P(e[i+60>>2]),te(i+24|0),P(i)}function Lte(i){i=i|0,e[i>>2]=38764,te(i+52|0),S[i+47|0]<0&&P(e[i+36>>2]),P(i)}function Dte(i){i=i|0,e[i>>2]=53664,te(i+20|0),S[i+19|0]<0&&P(e[i+8>>2]),P(i)}function Ite(i){i=i|0;var r=0;return r=Z(8),e[r+4>>2]=e[i+4>>2],e[r>>2]=50104,r|0}function xte(i){return i=i|0,e[i>>2]=42616,te(i+72|0),e[i>>2]=42788,te(i+36|0),i|0}function NR(i){i=i|0;var r=0;i&&(r=e[i+4>>2],e[i+4>>2]=0,r&&P(kh(r)),P(i))}function Ete(i,r){i=i|0,r=r|0,e[i+4>>2]=r,i=e[i+12>>2],F[e[e[i>>2]+12>>2]](i,r)}function up(i,r,n){var o=0;o=b-16|0,b=o,e[o+12>>2]=n,CT(i,r,n,0,0),b=o+16|0}function Bs(i,r,n,o){var a=0;a=b-16|0,b=a,e[a+12>>2]=o,Fs(i,r,n,o),b=a+16|0}function Nte(i,r,n,o){i=i|0,r=r|0,n=n|0,o=o|0,Yo(i,e[r+8>>2],0)&&w5(r,n,o)}function Tte(i,r){return i=i|0,r=r|0,i=e[i+12>>2],F[e[e[i>>2]+220>>2]](i,r)|0}function Rte(i,r){return i=i|0,r=r|0,i=e[i+12>>2],F[e[e[i>>2]+232>>2]](i,r)|0}function Mte(i,r){return i=i|0,r=r|0,i=e[i+12>>2],F[e[e[i>>2]+228>>2]](i,r)|0}function Pte(i,r){return i=i|0,r=r|0,i=e[i+12>>2],F[e[e[i>>2]+252>>2]](i,r)|0}function rs(i){for(var r=0;;){if(i){i=i-1&i,r=r+1|0;continue}break}return r}function I8(i,r){var n=0;return n=i,i=(r>>>0)/100|0,x8(x8(n,i),r-H(i,100)|0)}function Ote(i){return i=i|0,e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),i|0}function Fte(i){return i=i|0,e[i>>2]=38404,S[i+51|0]<0&&P(e[i+40>>2]),i|0}function Bte(i){i=i|0,e[i>>2]=42616,te(i+72|0),e[i>>2]=42788,te(i+36|0),P(i)}function Wte(i){return i=i|0,e[i>>2]=38524,S[i+51|0]<0&&P(e[i+40>>2]),i|0}function TR(i,r,n,o){return e[i+12>>2]=0,e[i+8>>2]=o,e[i+4>>2]=n,e[i>>2]=r,i}function RR(i,r){var n=0,o=0;return n=b-16|0,b=n,o=Z5(i,r),b=n+16|0,o?r:i}function Vte(){var i=0;return i=Z(12),e[i+8>>2]=0,e[i>>2]=0,e[i+4>>2]=0,i|0}function Hte(i){i=i|0;var r=0;i&&(r=e[i>>2],r&&(e[i+4>>2]=r,P(r)),P(i))}function Ute(i,r){return i=i|0,r=r|0,i=e[i+12>>2],F[e[e[i>>2]+8>>2]](i,r)|0}function x8(i,r){return r=Yn[(r<<1)+57664>>1],S[i|0]=r,S[i+1|0]=r>>>8,i+2|0}function x2(i){var r=0;return r=i&31,i=0-i&31,(-1>>>r&-2)<<r|(-1<<i&-2)>>>i}function te(i){return e[i+20>>2]!=1|S[i+35|0]>=0||P(e[i+24>>2]),i}function zte(i){i=i|0,e[i>>2]=37480,S[i+35|0]<0&&P(e[i+24>>2]),P(i)}function hp(i,r){return e[r+20>>2]?di(i+128|0,r):e[r+24>>2]}function Gte(i){i=i|0,e[i>>2]=38404,S[i+51|0]<0&&P(e[i+40>>2]),P(i)}function jte(i){i=i|0,e[i>>2]=38524,S[i+51|0]<0&&P(e[i+40>>2]),P(i)}function P5(i,r,n){e[i+28>>2]==1|e[i+4>>2]!=(r|0)||(e[i+28>>2]=n)}function Zte(i,r,n,o,a,c){return 0}function MR(i,r){return e[i>>2]=r,te(i+140|0),bo(i+76|0),te(i+40|0),i}function Qte(i){return i=i|0,i=e[i+12>>2],F[e[e[i>>2]+224>>2]](i)|0}function PR(i,r){e[i>>2]=r,te(i+140|0),bo(i+76|0),te(i+40|0),P(i)}function Yte(i,r){return i=i|0,r=r|0,s5(i,r,15348,296,15348,296)|0}function $te(i,r,n){return i=i|0,r=r|0,n=n|0,eT(i,r,n,52,43132)|0}function Kte(i,r,n){return i=i|0,r=r|0,n=n|0,RN(i,r,n,41,44452)|0}function Xte(i,r,n){return i=i|0,r=r|0,n=n|0,RN(i,r,n,13,40584)|0}function Jte(i,r){return i=i|0,r=r|0,s5(i,r,15348,296,6656,356)|0}function qte(i,r,n){return i=i|0,r=r|0,n=n|0,eT(i,r,n,50,42920)|0}function E8(i){i=i|0;var r=0;return r=e[i+4>>2],e[i+4>>2]=0,r|0}function OR(i){return i>>>0>=14&&(Be(),Ie()),e[(i<<2)+36056>>2]}function eie(i,r){return i=i|0,r=r|0,(e[r+4>>2]==50300?i+4|0:0)|0}function dp(i){return i>>>0>=14&&(Be(),Ie()),e[(i<<2)+36112>>2]}function tie(i,r){return i=i|0,r=r|0,s5(i,r,1137,316,1137,316)|0}function iie(i){i=i|0;var r=0;return r=e[i+8>>2],e[i+8>>2]=0,r|0}function nie(i,r){return i=i|0,r=r|0,(e[r+4>>2]==52852?i+4|0:0)|0}function sie(i,r){return i=i|0,r=r|0,(e[r+4>>2]==53200?i+4|0:0)|0}function rie(i,r){return i=i|0,r=r|0,(e[r+4>>2]==48008?i+4|0:0)|0}function oie(i,r){i=i|0,r=r|0,e[r+4>>2]=e[i+4>>2],e[r>>2]=50104}function FR(i,r,n){return e[i+8>>2]=0,e[i+4>>2]=n,e[i>>2]=r,i}function O5(i,r,n,o,a){return 0}function F5(i,r){r&&(F5(i,e[r>>2]),F5(i,e[r+4>>2]),P(r))}function Fh(i,r){r&&(Fh(i,e[r>>2]),Fh(i,e[r+4>>2]),P(r))}function B5(i,r){r&&(B5(i,e[r>>2]),B5(i,e[r+4>>2]),P(r))}function W5(i,r){r&&(W5(i,e[r>>2]),W5(i,e[r+4>>2]),P(r))}function BR(i,r){return r>>>0<=9?zR(i,r):x8(i,r)}function lie(i,r,n){return i=i|0,r=r|0,n=n|0,pT(i,r,n,-4)|0}function aie(i,r,n){return i=i|0,r=r|0,n=n|0,pT(i,r,n,-2)|0}function d1(i){return f1(i)?e[i+4>>2]:y[i+11|0]}function Bh(i){var r=0;return r=e[i+16>>2],e[i+16>>2]=0,r}function V5(i,r){return e[i>>2]=r,te(i+72|0),te(i+36|0),i}function cie(i,r){return i=i|0,r=r|0,y8(i,r,40,6,91956)|0}function uie(i,r){return i=i|0,r=r|0,y8(i,r,36,2,91940)|0}function hie(i){return i=i|0,e[i>>2]=50420,J_(i+16|0),i|0}function die(i,r){return i=i|0,r=r|0,y8(i,r,36,4,91948)|0}function fie(i){return i=i|0,e[i>>2]=38284,p8(i+36|0),i|0}function gie(i,r){return i=i|0,r=r|0,y8(i,r,36,3,91944)|0}function WR(i){return(i|0)<=130?e[(i<<2)+50752>>2]:16072}function mie(i,r){return i=i|0,r=r|0,MN(i,r,3,27,42028)|0}function VR(i,r){return i=i|0,r=r|0,Eh(i,r,12312,236)|0}function fp(i){return f1(i)?i=j5(i)-1|0:i=10,i}function pie(i){return i=i|0,e[i>>2]=53800,kh(i+8|0),i|0}function Aie(i,r){return i=i|0,r=r|0,MN(i,r,2,8,40028)|0}function _ie(i){return i=i|0,e[i>>2]=55684,kh(i+8|0),i|0}function gp(i,r){return i=i|0,r=r|0,Eh(i,r,15348,296)|0}function Cie(i,r){return i=i|0,r=r|0,Eh(i,r,13136,196)|0}function H5(i,r){return i=i|0,r=r|0,Eh(i,r,11043,216)|0}function wie(i,r){return i=i|0,r=r|0,ea(i,r,53,43232)|0}function vie(i,r){return i=i|0,r=r|0,ea(i,r,56,43344)|0}function kie(i,r){return i=i|0,r=r|0,ea(i,r,54,43456)|0}function bie(i,r){return i=i|0,r=r|0,ea(i,r,55,43568)|0}function Sie(i,r){return i=i|0,r=r|0,ea(i,r,57,43680)|0}function yie(i,r){return i=i|0,r=r|0,ea(i,r,36,43792)|0}function Lie(i,r){return i=i|0,r=r|0,yh(i,r,38,44160)|0}function Die(i,r){return i=i|0,r=r|0,ea(i,r,40,44340)|0}function Iie(i,r){return i=i|0,r=r|0,ea(i,r,10,40260)|0}function xie(i,r){return i=i|0,r=r|0,ea(i,r,12,40472)|0}function Eie(i,r){return i=i|0,r=r|0,yh(i,r,59,44856)|0}function Nie(i,r){return i=i|0,r=r|0,i1(i,r,45064,61)|0}function Tie(i,r){return i=i|0,r=r|0,i1(i,r,45180,58)|0}function Rie(i,r){return i=i|0,r=r|0,i1(i,r,40788,16)|0}function Mie(i,r){return i=i|0,r=r|0,i1(i,r,40904,18)|0}function mp(i,r){return i=i|0,r=r|0,Eh(i,r,1137,316)|0}function Pie(i,r){return i=i|0,r=r|0,Eh(i,r,6669,336)|0}function Oie(i,r){return i=i|0,r=r|0,yh(i,r,20,41184)|0}function Fie(i,r){return i=i|0,r=r|0,Eh(i,r,6656,356)|0}function Bie(i,r){return i=i|0,r=r|0,yh(i,r,21,41296)|0}function Wie(i,r){return i=i|0,r=r|0,yh(i,r,24,41692)|0}function Vie(i,r){return i=i|0,r=r|0,yh(i,r,25,41804)|0}function Hie(i,r){return i=i|0,r=r|0,yh(i,r,26,41916)|0}function Uie(i,r){return i=i|0,r=r|0,ea(i,r,29,42272)|0}function zie(i,r){return i=i|0,r=r|0,Hk(i,r,42384,30)|0}function Gie(i,r){return i=i|0,r=r|0,Hk(i,r,42500,31)|0}function jie(i,r){return i=i|0,r=r|0,Hk(i,r,42804,33)|0}function U5(i,r){e[i>>2]=r,te(i+72|0),te(i+36|0),P(i)}function Zie(i,r){return i=i|0,r=r|0,ea(i,r,51,43020)|0}function Qie(i,r){return i=i|0,r=r|0,i1(i,r,39688,5)|0}function Yie(i,r){return i=i|0,r=r|0,i1(i,r,39912,7)|0}function $ie(i,r){return i=i|0,r=r|0,ea(i,r,9,40148)|0}function Kie(i,r){return i=i|0,r=r|0,IN(i,r,2,12522)|0}function Xie(i,r){i=i|0,r=r|0,S[i+10|0]=(r|0)!=0,I2(i)}function Jie(i,r){return i=i|0,r=r|0,IN(i,r,3,10678)|0}function E2(i,r,n,o){return 0}function qie(i,r){i=i|0,r=r|0,S[i+3|0]=(r|0)!=0,I2(i)}function ene(i,r){i=i|0,r=r|0,S[i+5|0]=(r|0)!=0,I2(i)}function tne(i,r){return i=i|0,Mh(i,2,354592)|0}function ine(i,r){i=i|0,r=r|0,S[i+9|0]=(r|0)!=0,I2(i)}function nne(i,r){i=i|0,r=r|0,S[i+4|0]=(r|0)!=0,I2(i)}function sne(i,r){i=i|0,r=r|0,S[i+2|0]=(r|0)!=0,I2(i)}function rne(i,r){i=i|0,r=r|0,S[i+1|0]=(r|0)!=0,I2(i)}function one(i,r){i=i|0,r=r|0,S[i+8|0]=(r|0)!=0,I2(i)}function lne(i,r){i=i|0,r=r|0,S[i+7|0]=(r|0)!=0,I2(i)}function ane(i,r){return i=i|0,Mh(i,2,92124)|0}function cne(i,r){return i=i|0,Mh(i,2,91936)|0}function une(i,r){return i=i|0,r=r|0,x5(i,r,25057)|0}function hne(i,r){return i=i|0,Mh(i,2,91988)|0}function dne(i,r){return i=i|0,r=r|0,x5(i,r,24670)|0}function fne(i,r){return i=i|0,r=r|0,x5(i,r,24668)|0}function gne(i,r){return i=i|0,r=r|0,io(i,r,91964)|0}function mne(i,r){return i=i|0,r=r|0,b5(i,r,91968)|0}function pne(i,r){return i=i|0,Mh(i,2,92136)|0}function Ane(i,r){return i=i|0,r=r|0,b5(i,r,91976)|0}function _ne(i,r){return i=i|0,r=r|0,b5(i,r,91980)|0}function Cne(i,r){return i=i|0,r=r|0,io(i,r,91992)|0}function wne(i,r){return i=i|0,Mh(i,1,92008)|0}function vne(i,r){return i=i|0,Mh(i,2,92020)|0}function kne(i,r){return i=i|0,r=r|0,io(i,r,92040)|0}function bne(i,r){return i=i|0,r=r|0,io(i,r,92044)|0}function Sne(i,r){return i=i|0,r=r|0,io(i,r,92028)|0}function yne(i,r){return i=i|0,r=r|0,io(i,r,92032)|0}function Lne(i,r){return i=i|0,r=r|0,io(i,r,92036)|0}function Dne(i){i=i|0,e[i>>2]=38284,p8(i+36|0),P(i)}function Ine(i,r){return i=i|0,r=r|0,io(i,r,92076)|0}function xne(i,r){return i=i|0,r=r|0,o5(i,r,92084)|0}function Ene(i,r){return i=i|0,r=r|0,o5(i,r,92052)|0}function Nne(i,r){return i=i|0,r=r|0,o5(i,r,92048)|0}function Tne(i,r){return i=i|0,r=r|0,io(i,r,92092)|0}function Rne(i,r){return i=i|0,r=r|0,io(i,r,92100)|0}function Mne(i,r){return i=i|0,r=r|0,io(i,r,92104)|0}function Pne(i,r){return i=i|0,r=r|0,io(i,r,92108)|0}function One(i,r){return i=i|0,r=r|0,io(i,r,92112)|0}function Fne(i,r){return i=i|0,r=r|0,io(i,r,92116)|0}function Bne(i,r){return i=i|0,r=r|0,io(i,r,92128)|0}function Wne(i){i=i|0,e[i>>2]=50420,J_(i+16|0),P(i)}function Vne(i,r){return i=i|0,r=r|0,io(i,r,92e3)|0}function Hne(i){i=i|0,e[i>>2]=53800,kh(i+8|0),P(i)}function Une(i){i=i|0,e[i>>2]=55684,kh(i+8|0),P(i)}function zne(i,r){return i=i|0,e[i+16>>2]=0,0}function z5(i){return i?(e[98173]=i,-1):0}function G5(i,r){return i=i|0,r=r|0,u8(i,r+36|0),0}function Gne(i,r){i=i|0,r=r|0,S[i|0]=(r|0)!=0,I2(i)}function pp(i,r){if(f1(i)){Jc(i,r);return}g1(i,r)}function jne(i,r){return i=i|0,r=r|0,xR(i,r,168)|0}function HR(i,r){return i=i|0,r=r|0,xR(i,r,164)|0}function Zne(i,r){return i=i|0,r=r|0,aT(i,r,-3)|0}function Qne(i,r){return i=i|0,r=r|0,aT(i,r,-1)|0}function j0(i){return f1(i)?e[i>>2]:i}function Yne(i){return i=i|0,e[i+4>>2]-e[i>>2]|0}function Nn(i,r){return e[i>>2]=r,te(i+36|0),i}function N2(i,r,n){return 0}function $ne(i){return i=i|0,qm(i,44024,35)|0}function Kne(i){return i=i|0,qm(i,44092,34)|0}function Xne(i){return i=i|0,qm(i,44272,39)|0}function Jne(i){return i=i|0,ZZ(e[i+60>>2])|0}function qne(i){return i=i|0,qm(i,45296,62)|0}function ese(i){return i=i|0,qm(i,41020,19)|0}function UR(i){return e[i>>2]=0,S[i+4|0]=0,i}function Tn(i,r){e[i>>2]=r,te(i+36|0),P(i)}function j5(i){return e[i+8>>2]&2147483647}function tse(i){return i=i|0,Nn(i,43456)|0}function ise(i){return i=i|0,c1(i,54692)|0}function nse(i){return i=i|0,Nn(i,43568)|0}function sse(i){return i=i|0,c1(i,54832)|0}function rse(i){return i=i|0,Nn(i,43680)|0}function ose(i){return i=i|0,Nn(i,40472)|0}function lse(i){return i=i|0,LR(i,54968)|0}function ase(i){return i=i|0,Nn(i,43792)|0}function cse(i){return i=i|0,LR(i,53908)|0}function use(i){return i=i|0,MR(i,40584)|0}function hse(i){return i=i|0,yR(i,37188)|0}function dse(i){return i=i|0,Nn(i,44160)|0}function fse(i){return i=i|0,c1(i,54028)|0}function gse(i){return i=i|0,Nn(i,40688)|0}function mse(i){return i=i|0,Nn(i,44340)|0}function pse(i){return i=i|0,c1(i,54168)|0}function Ase(i){return i=i|0,Nn(i,41184)|0}function _se(i){return i=i|0,vR(i,55348)|0}function Cse(i){return i=i|0,MR(i,44452)|0}function wse(i){return i=i|0,c1(i,54304)|0}function vse(i){return i=i|0,Nn(i,41296)|0}function kse(i){return i=i|0,vR(i,55532)|0}function bse(i){return i=i|0,c1(i,54556)|0}function Sse(i){return i=i|0,Nn(i,44840)|0}function yse(i){return i=i|0,Nn(i,41676)|0}function Lse(i){return i=i|0,Nn(i,44856)|0}function Dse(i){return i=i|0,Nn(i,41692)|0}function Ise(i){return i=i|0,Nn(i,41804)|0}function xse(i){return i=i|0,Nn(i,45728)|0}function Ese(i){return i=i|0,yR(i,37736)|0}function Nse(i){return i=i|0,Nn(i,41916)|0}function Tse(i){return i=i|0,Nn(i,45900)|0}function Rse(i){return i=i|0,gR(i,37856)|0}function Mse(i){return i=i|0,V5(i,42148)|0}function Pse(i){return i=i|0,gR(i,37964)|0}function Ose(i){return i=i|0,Nn(i,42272)|0}function Fse(i){return i=i|0,Nn(i,42384)|0}function Bse(i){return i=i|0,Nn(i,42500)|0}function Wse(i){return i=i|0,Nn(i,42788)|0}function Vse(i){return i=i|0,Nn(i,42804)|0}function Hse(i){return i=i|0,V5(i,42920)|0}function Use(i){return i=i|0,Nn(i,43020)|0}function zse(i){return i=i|0,Nn(i,38884)|0}function Gse(i){return i=i|0,V5(i,43132)|0}function jse(i){return i=i|0,lR(i,40028)|0}function zR(i,r){return S[i|0]=r+48,i+1|0}function Zse(i){return i=i|0,Nn(i,43232)|0}function Qse(i){return i=i|0,Nn(i,40148)|0}function Yse(i){return i=i|0,Nn(i,43344)|0}function $se(i){return i=i|0,Nn(i,40260)|0}function Kse(i){return i=i|0,lR(i,42028)|0}function Ap(i,r){e[i+8>>2]=r|-2147483648}function GR(i){return e[(i<<2)+58256>>2]}function Jc(i,r){i=i|0,r=r|0,e[i+4>>2]=r}function jR(i,r){return Ye(i,r,26567,0)}function N8(i,r,n){rN(i,r,n,1,69,101,8)}function Z5(i,r){return nt[i>>2]<nt[r>>2]}function ZR(i,r,n){rN(i,r,n,2,80,112,4)}function QR(i,r){e[i+4>>2]=e[i+4>>2]+r}function YR(i,r){return di(i+356|0,r)}function T2(i,r){return di(i+216|0,r)}function Ys(i,r){return di(i+316|0,r)}function _p(i,r){return di(i+196|0,r)}function Pn(i,r){return Mn(i,r,Ge(r))}function Wh(i,r){return di(i+236|0,r)}function Xse(i){return i=i|0,y[i+10|0]}function f1(i){return y[i+11|0]>>>7|0}function Je(i,r){return 0}function no(i,r){return di(i+296|0,r)}function Jse(i){i=i|0,i&&P(kh(i))}function $R(i,r){return di(i+336|0,r)}function Q5(i,r,n){return t8(i,r,n,0)}function qse(i){return i=i|0,y[i+9|0]}function ere(i){return i=i|0,y[i+2|0]}function Cp(i){return i=i|0,e[i>>2]}function tre(i){return i=i|0,y[i+7|0]}function ire(i){return i=i|0,y[i+4|0]}function nre(i){return i=i|0,y[i+8|0]}function sre(i){return i=i|0,y[i+1|0]}function rre(i){return i=i|0,y[i+3|0]}function ore(i){return i=i|0,y[i+5|0]}function T8(i,r,n){n&&wl(i,r,n)}function KR(i,r,n){return Qm(i,r,n)}function R2(i,r,n){n&&Ce(i,r,n)}function lre(i){return i=i|0,y[i|0]}function wp(i){return i-48>>>0<10}function are(i){i=i|0,Tn(i,41296)}function cre(i){i=i|0,i&&P(i)}function ure(i){return 50404}function Y5(i){return i=i|0,i+8|0}function $5(i,r){return e[i+r>>2]}function hre(i){return 52940}function dre(i){return 53264}function fre(i){return 48220}function gre(i){i=i|0,Tn(i,40260)}function mre(i){i=i|0,Tn(i,43456)}function pre(i){i=i|0,u1(i,54692)}function Are(i){i=i|0,Tn(i,43568)}function _re(i){i=i|0,u1(i,54832)}function Cre(i){i=i|0,Tn(i,43680)}function wre(i){i=i|0,Tn(i,40472)}function vre(i){i=i|0,IR(i,54968)}function kre(i){i=i|0,Tn(i,43792)}function bre(i){i=i|0,IR(i,53908)}function Sre(i){i=i|0,PR(i,40584)}function yre(i){i=i|0,DR(i,37188)}function Lre(i){i=i|0,Tn(i,44160)}function Dre(i){i=i|0,u1(i,54028)}function Ire(i){i=i|0,Tn(i,40688)}function xre(i){i=i|0,Tn(i,44340)}function Ere(i){i=i|0,u1(i,54168)}function Nre(i){i=i|0,Tn(i,41184)}function Tre(i){i=i|0,SR(i,55348)}function Rre(i){i=i|0,u1(i,54304)}function Mre(i){i=i|0,PR(i,44452)}function Pre(i){i=i|0,SR(i,55532)}function Ore(i){i=i|0,u1(i,54556)}function Fre(i){i=i|0,Tn(i,44856)}function Bre(i){i=i|0,Tn(i,41692)}function Wre(i){i=i|0,Tn(i,41804)}function Vre(i){i=i|0,DR(i,37736)}function Hre(i){i=i|0,Tn(i,41916)}function Ure(i){i=i|0,aR(i,42028)}function zre(i){i=i|0,U5(i,42148)}function Gre(i){i=i|0,mR(i,37964)}function jre(i){i=i|0,Tn(i,42272)}function XR(i){i=i|0,Tn(i,41676)}function JR(i){i=i|0,Tn(i,44840)}function Zre(i){i=i|0,Tn(i,42384)}function qR(i){i=i|0,Tn(i,45728)}function eM(i){i=i|0,Tn(i,45900)}function Qre(i){i=i|0,Tn(i,42500)}function Yre(i){i=i|0,Tn(i,42788)}function $re(i){i=i|0,Tn(i,42804)}function Kre(i){i=i|0,U5(i,42920)}function Xre(i){i=i|0,Tn(i,38884)}function Jre(i){i=i|0,Tn(i,43020)}function qre(i){i=i|0,U5(i,43132)}function eoe(i){i=i|0,aR(i,40028)}function toe(i){i=i|0,Tn(i,43232)}function ioe(i){i=i|0,Tn(i,40148)}function noe(i){i=i|0,Tn(i,43344)}function soe(i){i=i|0,mR(i,37856)}function Vh(i){return i=i|0,i|0}function Ls(i,r){return At=i,r}function roe(i){i=i|0,P($k(i))}function ooe(i){i=i|0,P(Ik(i))}function loe(i){i=i|0,P(DT(i))}function aoe(i){i=i|0,P(UT(i))}function $o(i,r){S[i|0]=y[r|0]}function Ds(i){return 0}function g1(i,r){S[i+11|0]=r}function vp(i,r){e[i>>2]=r}function Oi(i){i=i|0,P(i)}function Nr(){Be(),Ie()}function Hh(i){}function coe(){}ae=y,Jl();var F=ni([null,$k,roe,Je,A5,L8,g5,g5,g$,h5,wT,Je,Je,Je,Je,Je,Je,$T,$T,A5,Je,L8,tp,Xk,Xk,Xk,A5,L8,a$,VJ,tp,tp,e$,tp,o$,HJ,t$,ip,ip,ip,ip,ip,h5,Je,Je,Je,Je,h5,wT,Je,tp,Je,Je,jq,GK,hq,L8,jJ,g5,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Ik,ooe,mQ,Jc,Je,Ds,E2,E2,Ds,Je,XJ,kY,tQ,w$,Ds,Je,$J,O5,xQ,sY,pY,ZY,jQ,Ds,Je,ZJ,HQ,Ds,Je,UJ,M$,Ds,Je,zJ,cK,Ds,Je,YJ,PK,yte,Je,Je,Ds,Je,qJ,XY,Ds,Je,AK,Ds,Je,kee,Zq,Je,IY,pQ,Ds,Je,Je,N2,N2,E2,N2,Je,N2,Je,Je,Je,QY,rte,l$,ote,lte,Qie,ate,Yie,Aie,$ie,Iie,aQ,xie,Xte,OY,oK,gK,Rie,Mie,jY,ese,J$,JQ,Zne,lie,VQ,Oie,Bie,Qne,aie,LQ,Uee,Wie,Vie,Hie,mie,lY,Uie,zie,Gie,rY,jie,qte,Zie,$te,wie,vie,kie,bie,Sie,yie,P$,$ne,Kne,Lie,Xne,Die,Kte,YQ,Hee,Eie,IQ,Nie,Tie,qne,zne,Ds,F$,KQ,Lee,Dee,nte,ste,Je,KJ,TY,bte,Je,Eee,CY,u$,DY,Je,Ds,Je,JJ,PY,Ste,Je,R$,Je,Ds,Je,Je,Ds,Je,E2,Xq,E2,uee,yY,E2,Je,$q,bQ,E2,Je,rQ,Ds,Je,N2,O5,Ds,Je,O5,Je,Je,E2,N2,Je,Je,Ds,Je,Je,N2,Ds,Je,Je,dY,hY,Cte,E2,_Y,dte,Je,Zte,Je,N2,Je,E2,N2,Ds,Je,Je,fY,Ds,hte,Je,eQ,nQ,Ds,hse,yre,Zee,Kee,Ote,zte,Wq,Uq,Tee,Pee,See,Iee,zee,Qee,Ese,Vre,Rse,soe,Pse,Gre,iq,nq,dee,gee,fie,Dne,Fte,Gte,Wte,jte,Jq,eee,Ate,Lte,zse,Xre,Vh,Oi,Oi,Oi,Oi,Oi,Oi,Oi,Oi,jse,eoe,Qse,ioe,$se,gre,qq,see,ose,wre,use,Sre,gse,Ire,Oi,Oi,Oi,Oi,Ase,Nre,vse,are,OK,zK,yse,XR,XR,Dse,Bre,Ise,Wre,Nse,Hre,Kse,Ure,Mse,zre,Ose,jre,Fse,Zre,Bse,Qre,xte,Bte,Wse,Yre,Vse,$re,Hse,Kre,Use,Jre,Gse,qre,Zse,toe,Yse,noe,tse,mre,nse,Are,rse,Cre,ase,kre,Oi,Oi,Oi,dse,Lre,Oi,mse,xre,Cse,Mre,cte,vte,Sse,JR,JR,Lse,Fre,DT,loe,Oi,Oi,Oi,Oi,Oi,xse,qR,qR,Tse,eM,eM,Oi,Oi,sK,lK,Vq,Gq,Yee,ite,ute,kte,Vh,Oi,Ute,Ete,hX,bq,Xee,x$,Sq,dX,WJ,CK,KY,X$,yq,fX,BJ,xY,A$,$Q,AY,wY,_$,kq,cX,BX,mX,rq,$K,jX,bY,lq,XK,YX,p$,cq,qK,eJ,C$,iJ,sJ,oJ,dq,iX,uJ,s$,gq,sX,mJ,wq,rX,_J,gX,vJ,b$,Tte,Qte,Mte,Rte,gte,mte,$ee,pte,Pte,_te,TK,lee,aee,z$,Z$,G$,j$,Q$,SJ,Y$,bK,FY,PX,FX,m$,LJ,SX,Mq,xJ,Pq,SK,yK,NJ,Oq,Fq,Bq,uX,RK,oY,PJ,FJ,TX,MK,BY,k$,MX,OX,WX,WY,pX,UX,zX,ZX,_X,QX,CX,$X,wX,tJ,JX,nJ,rJ,lJ,cJ,rK,Eq,Nq,fJ,Tq,pJ,xX,GJ,L$,kJ,VY,vK,kK,Rq,wJ,Aq,jK,nY,i$,n$,H$,U$,lX,yJ,FK,DJ,IJ,V$,LX,$$,DX,EJ,_q,aX,TJ,HK,RJ,MJ,IK,OJ,Cq,QK,RX,sq,YK,BK,hK,WK,VX,eK,VK,HX,AX,B$,DK,GX,y$,oq,KK,kX,pK,aq,JK,LK,qX,XX,MY,tK,KX,dK,uq,eX,aJ,iK,fq,nX,hJ,v$,D$,I$,ZK,E$,N$,dJ,h$,gJ,yX,AJ,W$,IX,vq,oX,CJ,vX,mq,O$,bJ,bX,EK,pq,Vh,Oi,Vee,tte,Hh,Oi,fQ,rie,fre,ree,oee,une,Je,Je,Je,Je,Je,Je,Je,Je,dne,Je,Je,Je,Je,Je,fne,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,Je,N2,Je,Je,Je,Je,yee,Nee,Hh,uK,K$,fee,Vh,Oi,Ite,oie,Hh,Oi,Fee,eie,ure,hie,Wne,yT,Kie,HR,qQ,uY,UQ,NY,TQ,cQ,Je,yT,nee,ST,iY,UY,gY,wQ,Mee,Oee,OQ,eY,QQ,AQ,Jie,HR,RY,f$,JY,r$,cY,ZQ,DQ,HY,kQ,vQ,GQ,CQ,WQ,FQ,uQ,iee,hQ,NX,aY,EQ,gQ,sQ,PQ,ST,tX,yQ,vY,SQ,jne,XQ,dQ,FN,wK,Ek,BQ,Ek,Ek,FN,d$,tY,NN,NN,lQ,ON,ON,UT,aoe,e5,D8,G5,G5,pee,H5,PT,VR,VR,e5,D8,mp,_5,_5,_5,e5,D8,tie,Pie,mp,mp,mK,mp,Yte,Fie,Jte,gp,gp,gp,gp,gp,H5,H5,PT,mp,fK,Lq,Ree,D8,Cie,G5,Vh,Oi,Bee,qee,Hh,Oi,Yq,nie,hre,Oi,Wee,ete,Hh,Oi,Dq,sie,dre,UK,Kq,_K,hee,Vh,Oi,T5,AR,T5,T5,AR,jee,Oi,wte,Dte,pie,Hne,cse,bre,fse,Dre,pse,Ere,wse,Rre,Cee,vee,bse,Ore,ise,pre,sse,_re,lse,vre,Aee,wee,fte,ER,ER,_se,Tre,Y5,kse,Pre,Y5,_ie,Une,Y5,Oi,rp,uie,k8,Ane,_ne,eq,Cne,mY,wne,aK,rp,JZ,rp,vne,kne,bne,die,Iq,k8,bT,Sne,yne,Lne,gie,k8,GY,Ine,xne,Ene,$Y,Nne,YY,Tne,T$,Rne,Mne,Pne,One,Fne,Bne,NK,ane,cne,hne,Vne,c$,xq,bT,rp,tne,cie,S$,xK,k8,gne,mne,Yc,pne,Yc,Yc,Yc,Yc,Yc,rp,tq,NT,NT,NQ,Yc,Yc,Jne,LY,mee,XZ,bee,EX,Vh,Oi,Hh,Hh,zQ,Jee,QJ,Nte,Oi,_ee,q$,xee,Oi,qY,MQ,zq]);function tM(){return ps.byteLength/65536|0}function uoe(i){i=i|0;var r=tM()|0,n=r+i|0;if(r<n&&n<65536){var o=new ArrayBuffer(H(n,65536)),a=new Int8Array(o);a.set(S),S=new Int8Array(o),ns=new Int16Array(o),e=new Int32Array(o),y=new Uint8Array(o),Yn=new Uint16Array(o),nt=new Uint32Array(o),In=new Float32Array(o),B0=new Float64Array(o),ps=o,zo.buffer=ps,ae=y}return r}return{i:Hq,j:Qq,k:cre,l:lre,m:Gne,n:sre,o:rne,p:ere,q:sne,r:rre,s:qie,t:ire,u:nne,v:ore,w:ene,x:tre,y:lne,z:nre,A:one,B:qse,C:ine,D:Xse,E:Xie,F:zY,G:iQ,H:YZ,I:RQ,J:nK,K:oQ,L:KZ,M:qZ,N:$Z,O:EY,P:QZ,Q:Jse,R:Gee,S:Vte,T:_Q,U:SY,V:tee,W:Cp,X:E8,Y:NR,Z:Cp,_:E8,$:Cp,aa:E8,ba:NR,ca:Cp,da:E8,ea:iie,fa:cee,ga:Cp,ha:Yne,ia:Hte,ja:coe,ka:F,la:P,ma:G_}}return VZ(St)}(La)},instantiate:function(ve,Fe){return{then:function(tt){var St=new J.Module(ve);tt({instance:new J.Instance(St)})}}},RuntimeError:Error};Y=[],typeof J!="object"&&ya("no native wasm support detected");var ne,Ae=!1,ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Te(ve,Fe,tt){for(var St=Fe+tt,ni=Fe;ve[ni]&&!(ni>=St);)++ni;if(ni-Fe>16&&ve.buffer&&ge)return ge.decode(ve.subarray(Fe,ni));for(var ae="";Fe<ni;){var si=ve[Fe++];if(!(si&128)){ae+=String.fromCharCode(si);continue}var Ei=ve[Fe++]&63;if((si&224)==192){ae+=String.fromCharCode((si&31)<<6|Ei);continue}var ue=ve[Fe++]&63;if((si&240)==224?si=(si&15)<<12|Ei<<6|ue:si=(si&7)<<18|Ei<<12|ue<<6|ve[Fe++]&63,si<65536)ae+=String.fromCharCode(si);else{var Jl=si-65536;ae+=String.fromCharCode(55296|Jl>>10,56320|Jl&1023)}}return ae}function Me(ve,Fe){return ve?Te(Et,ve,Fe):""}function ct(ve,Fe,tt){for(var St=0;St<ve.length;++St)kt[Fe++>>0]=ve.charCodeAt(St);tt||(kt[Fe>>0]=0)}var st,kt,Et,Dt,Vt;function fn(ve){st=ve,h.HEAP8=kt=new Int8Array(ve),h.HEAP16=new Int16Array(ve),h.HEAP32=Dt=new Int32Array(ve),h.HEAPU8=Et=new Uint8Array(ve),h.HEAPU16=new Uint16Array(ve),h.HEAPU32=Vt=new Uint32Array(ve),h.HEAPF32=new Float32Array(ve),h.HEAPF64=new Float64Array(ve)}var Vi=h.INITIAL_MEMORY||16777216;h.wasmMemory?ne=h.wasmMemory:ne=new J.Memory({initial:Vi/65536,maximum:32768}),ne&&(st=ne.buffer),Vi=st.byteLength,fn(st);var pt,gt=[],xi=[],kr=[];function br(){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)R0(h.preRun.shift());le(gt)}function Al(){le(xi)}function $l(){if(h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;)Ht(h.postRun.shift());le(kr)}function R0(ve){gt.unshift(ve)}function Kl(ve){xi.unshift(ve)}function Ht(ve){kr.unshift(ve)}var Jr=0,Sa=null;function _h(ve){Jr++,h.monitorRunDependencies&&h.monitorRunDependencies(Jr)}function d2(ve){if(Jr--,h.monitorRunDependencies&&h.monitorRunDependencies(Jr),Jr==0&&Sa){var Fe=Sa;Sa=null,Fe()}}function ya(ve){h.onAbort&&h.onAbort(ve),ve="Aborted("+ve+")",q(ve),Ae=!0,ve+=". Build with -sASSERTIONS for more info.";var Fe=new J.RuntimeError(ve);throw m(Fe),Fe}var Ch="data:application/octet-stream;base64,";function f2(ve){return ve.startsWith(Ch)}function wh(ve){return ve.startsWith("file://")}var Ee;Ee="<<< WASM_BINARY_FILE >>>",f2(Ee)||(Ee=N(Ee));function ye(ve){try{if(ve==Ee&&Y)return new Uint8Array(Y);var Fe=Sr(ve);if(Fe)return Fe;if(W)return W(ve);throw"both async and sync fetching of the wasm failed"}catch(tt){ya(tt)}}function Le(){if(!Y&&(w||k)){if(typeof fetch=="function"&&!wh(Ee))return fetch(Ee,{credentials:"same-origin"}).then(function(ve){if(!ve.ok)throw"failed to load wasm binary file at '"+Ee+"'";return ve.arrayBuffer()}).catch(function(){return ye(Ee)});if(O)return new Promise(function(ve,Fe){O(Ee,function(tt){ve(new Uint8Array(tt))},Fe)})}return Promise.resolve().then(function(){return ye(Ee)})}function ie(){var ve={a:La};function Fe(si,Ei){var ue=si.exports;h.asm=ue,pt=h.asm.ka,Kl(h.asm.i),d2()}_h();function tt(si){Fe(si.instance)}function St(si){return Le().then(function(Ei){return J.instantiate(Ei,ve)}).then(function(Ei){return Ei}).then(si,function(Ei){q("failed to asynchronously prepare wasm: "+Ei),ya(Ei)})}function ni(){return!Y&&typeof J.instantiateStreaming=="function"&&!f2(Ee)&&!wh(Ee)&&typeof fetch=="function"?fetch(Ee,{credentials:"same-origin"}).then(function(si){var Ei=J.instantiateStreaming(si,ve);return Ei.then(tt,function(ue){return q("wasm streaming compile failed: "+ue),q("falling back to ArrayBuffer instantiation"),St(tt)})}):St(tt)}if(h.instantiateWasm)try{var ae=h.instantiateWasm(ve,Fe);return ae}catch(si){return q("Module.instantiateWasm callback failed with error: "+si),!1}return ni().catch(m),{}}function le(ve){for(;ve.length>0;){var Fe=ve.shift();if(typeof Fe=="function"){Fe(h);continue}var tt=Fe.func;typeof tt=="number"?Fe.arg===void 0?_e(tt)():_e(tt)(Fe.arg):tt(Fe.arg===void 0?null:Fe.arg)}}function _e(ve){return pt.get(ve)}function de(){ya("")}function We(){return 2147483648}function Ke(ve){try{return ne.grow(ve-st.byteLength+65535>>>16),fn(ne.buffer),1}catch{}}function It(ve){var Fe=Et.length;ve=ve>>>0;var tt=We();if(ve>tt)return!1;let St=(ue,Jl)=>ue+(Jl-ue%Jl)%Jl;for(var ni=1;ni<=4;ni*=2){var ae=Fe*(1+.2/ni);ae=Math.min(ae,ve+100663296);var si=Math.min(tt,St(Math.max(ve,ae),65536)),Ei=Ke(si);if(Ei)return!0}return!1}var _t={};function jt(){return C||"./this.program"}function Wt(){if(!Wt.strings){var ve=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",Fe={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:ve,_:jt()};for(var tt in _t)_t[tt]===void 0?delete Fe[tt]:Fe[tt]=_t[tt];var St=[];for(var tt in Fe)St.push(tt+"="+Fe[tt]);Wt.strings=St}return Wt.strings}function $i(ve,Fe){var tt=0;return Wt().forEach(function(St,ni){var ae=Fe+tt;Dt[ve+ni*4>>2]=ae,ct(St,ae),tt+=St.length+1}),0}function wi(ve,Fe){var tt=Wt();Dt[ve>>2]=tt.length;var St=0;return tt.forEach(function(ni){St+=ni.length+1}),Dt[Fe>>2]=St,0}function Nt(ve){return 52}function Qn(ve,Fe,tt,St,ni){return 70}var Dn=[null,[],[]];function Co(ve,Fe){var tt=Dn[ve];Fe===0||Fe===10?((ve===1?K:q)(Te(tt,0)),tt.length=0):tt.push(Fe)}function _n(ve,Fe,tt,St){for(var ni=0,ae=0;ae<tt;ae++){var si=Vt[Fe>>2],Ei=Vt[Fe+4>>2];Fe+=8;for(var ue=0;ue<Ei;ue++)Co(ve,Et[si+ue]);ni+=Ei}return Dt[St>>2]=ni,0}function ms(ve){for(var Fe=[],tt=0;tt<ve.length;tt++){var St=ve[tt];St>255&&(St&=255),Fe.push(String.fromCharCode(St))}return Fe.join("")}var M0=typeof atob=="function"?atob:function(ve){var Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",tt="",St,ni,ae,si,Ei,ue,Jl,O0=0;ve=ve.replace(/[^A-Za-z0-9\+\/\=]/g,"");do si=Fe.indexOf(ve.charAt(O0++)),Ei=Fe.indexOf(ve.charAt(O0++)),ue=Fe.indexOf(ve.charAt(O0++)),Jl=Fe.indexOf(ve.charAt(O0++)),St=si<<2|Ei>>4,ni=(Ei&15)<<4|ue>>2,ae=(ue&3)<<6|Jl,tt=tt+String.fromCharCode(St),ue!==64&&(tt=tt+String.fromCharCode(ni)),Jl!==64&&(tt=tt+String.fromCharCode(ae));while(O0<ve.length);return tt};function qr(ve){if(typeof D=="boolean"&&D){var Fe=Buffer.from(ve,"base64");return new Uint8Array(Fe.buffer,Fe.byteOffset,Fe.byteLength)}try{for(var tt=M0(ve),St=new Uint8Array(tt.length),ni=0;ni<tt.length;++ni)St[ni]=tt.charCodeAt(ni);return St}catch{throw new Error("Converting base64 string to bytes failed.")}}function Sr(ve){if(!!f2(ve))return qr(ve.slice(Ch.length))}var La={b:de,e:It,f:$i,g:wi,h:Nt,d:Qn,c:_n,a:ne};ie(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.i).apply(null,arguments)},h._wabt_new_features=function(){return(h._wabt_new_features=h.asm.j).apply(null,arguments)},h._wabt_destroy_features=function(){return(h._wabt_destroy_features=h.asm.k).apply(null,arguments)},h._wabt_exceptions_enabled=function(){return(h._wabt_exceptions_enabled=h.asm.l).apply(null,arguments)},h._wabt_set_exceptions_enabled=function(){return(h._wabt_set_exceptions_enabled=h.asm.m).apply(null,arguments)},h._wabt_mutable_globals_enabled=function(){return(h._wabt_mutable_globals_enabled=h.asm.n).apply(null,arguments)},h._wabt_set_mutable_globals_enabled=function(){return(h._wabt_set_mutable_globals_enabled=h.asm.o).apply(null,arguments)},h._wabt_sat_float_to_int_enabled=function(){return(h._wabt_sat_float_to_int_enabled=h.asm.p).apply(null,arguments)},h._wabt_set_sat_float_to_int_enabled=function(){return(h._wabt_set_sat_float_to_int_enabled=h.asm.q).apply(null,arguments)},h._wabt_sign_extension_enabled=function(){return(h._wabt_sign_extension_enabled=h.asm.r).apply(null,arguments)},h._wabt_set_sign_extension_enabled=function(){return(h._wabt_set_sign_extension_enabled=h.asm.s).apply(null,arguments)},h._wabt_simd_enabled=function(){return(h._wabt_simd_enabled=h.asm.t).apply(null,arguments)},h._wabt_set_simd_enabled=function(){return(h._wabt_set_simd_enabled=h.asm.u).apply(null,arguments)},h._wabt_threads_enabled=function(){return(h._wabt_threads_enabled=h.asm.v).apply(null,arguments)},h._wabt_set_threads_enabled=function(){return(h._wabt_set_threads_enabled=h.asm.w).apply(null,arguments)},h._wabt_multi_value_enabled=function(){return(h._wabt_multi_value_enabled=h.asm.x).apply(null,arguments)},h._wabt_set_multi_value_enabled=function(){return(h._wabt_set_multi_value_enabled=h.asm.y).apply(null,arguments)},h._wabt_tail_call_enabled=function(){return(h._wabt_tail_call_enabled=h.asm.z).apply(null,arguments)},h._wabt_set_tail_call_enabled=function(){return(h._wabt_set_tail_call_enabled=h.asm.A).apply(null,arguments)},h._wabt_bulk_memory_enabled=function(){return(h._wabt_bulk_memory_enabled=h.asm.B).apply(null,arguments)},h._wabt_set_bulk_memory_enabled=function(){return(h._wabt_set_bulk_memory_enabled=h.asm.C).apply(null,arguments)},h._wabt_reference_types_enabled=function(){return(h._wabt_reference_types_enabled=h.asm.D).apply(null,arguments)},h._wabt_set_reference_types_enabled=function(){return(h._wabt_set_reference_types_enabled=h.asm.E).apply(null,arguments)},h._wabt_new_wast_buffer_lexer=function(){return(h._wabt_new_wast_buffer_lexer=h.asm.F).apply(null,arguments)},h._wabt_parse_wat=function(){return(h._wabt_parse_wat=h.asm.G).apply(null,arguments)},h._wabt_parse_wast=function(){return(h._wabt_parse_wast=h.asm.H).apply(null,arguments)},h._wabt_read_binary=function(){return(h._wabt_read_binary=h.asm.I).apply(null,arguments)},h._wabt_validate_module=function(){return(h._wabt_validate_module=h.asm.J).apply(null,arguments)},h._wabt_validate_script=function(){return(h._wabt_validate_script=h.asm.K).apply(null,arguments)},h._wabt_write_binary_spec_script=function(){return(h._wabt_write_binary_spec_script=h.asm.L).apply(null,arguments)},h._wabt_apply_names_module=function(){return(h._wabt_apply_names_module=h.asm.M).apply(null,arguments)},h._wabt_generate_names_module=function(){return(h._wabt_generate_names_module=h.asm.N).apply(null,arguments)},h._wabt_write_binary_module=function(){return(h._wabt_write_binary_module=h.asm.O).apply(null,arguments)},h._wabt_write_text_module=function(){return(h._wabt_write_text_module=h.asm.P).apply(null,arguments)},h._wabt_destroy_module=function(){return(h._wabt_destroy_module=h.asm.Q).apply(null,arguments)},h._wabt_destroy_wast_lexer=function(){return(h._wabt_destroy_wast_lexer=h.asm.R).apply(null,arguments)},h._wabt_new_errors=function(){return(h._wabt_new_errors=h.asm.S).apply(null,arguments)},h._wabt_format_text_errors=function(){return(h._wabt_format_text_errors=h.asm.T).apply(null,arguments)},h._wabt_format_binary_errors=function(){return(h._wabt_format_binary_errors=h.asm.U).apply(null,arguments)},h._wabt_destroy_errors=function(){return(h._wabt_destroy_errors=h.asm.V).apply(null,arguments)},h._wabt_parse_wat_result_get_result=function(){return(h._wabt_parse_wat_result_get_result=h.asm.W).apply(null,arguments)},h._wabt_parse_wat_result_release_module=function(){return(h._wabt_parse_wat_result_release_module=h.asm.X).apply(null,arguments)},h._wabt_destroy_parse_wat_result=function(){return(h._wabt_destroy_parse_wat_result=h.asm.Y).apply(null,arguments)},h._wabt_parse_wast_result_get_result=function(){return(h._wabt_parse_wast_result_get_result=h.asm.Z).apply(null,arguments)},h._wabt_parse_wast_result_release_module=function(){return(h._wabt_parse_wast_result_release_module=h.asm._).apply(null,arguments)},h._wabt_read_binary_result_get_result=function(){return(h._wabt_read_binary_result_get_result=h.asm.$).apply(null,arguments)},h._wabt_read_binary_result_release_module=function(){return(h._wabt_read_binary_result_release_module=h.asm.aa).apply(null,arguments)},h._wabt_destroy_read_binary_result=function(){return(h._wabt_destroy_read_binary_result=h.asm.ba).apply(null,arguments)},h._wabt_write_module_result_get_result=function(){return(h._wabt_write_module_result_get_result=h.asm.ca).apply(null,arguments)},h._wabt_write_module_result_release_output_buffer=function(){return(h._wabt_write_module_result_release_output_buffer=h.asm.da).apply(null,arguments)},h._wabt_write_module_result_release_log_output_buffer=function(){return(h._wabt_write_module_result_release_log_output_buffer=h.asm.ea).apply(null,arguments)},h._wabt_destroy_write_module_result=function(){return(h._wabt_destroy_write_module_result=h.asm.fa).apply(null,arguments)},h._wabt_output_buffer_get_data=function(){return(h._wabt_output_buffer_get_data=h.asm.ga).apply(null,arguments)},h._wabt_output_buffer_get_size=function(){return(h._wabt_output_buffer_get_size=h.asm.ha).apply(null,arguments)},h._wabt_destroy_output_buffer=function(){return(h._wabt_destroy_output_buffer=h.asm.ia).apply(null,arguments)},h._dummy_workaround_for_emscripten_issue_7073=function(){return(h._dummy_workaround_for_emscripten_issue_7073=h.asm.ja).apply(null,arguments)},h._free=function(){return(h._free=h.asm.la).apply(null,arguments)},h._malloc=function(){return(h._malloc=h.asm.ma).apply(null,arguments)};var Uo;function Fc(ve){this.name="ExitStatus",this.message="Program terminated with exit("+ve+")",this.status=ve}Sa=function ve(){Uo||Xl(),Uo||(Sa=ve)};function Xl(ve){if(Jr>0||(br(),Jr>0))return;function Fe(){Uo||(Uo=!0,h.calledRun=!0,!Ae&&(Al(),f(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),$l()))}h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),Fe()},1)):Fe()}if(h.run=Xl,h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);h.preInit.length>0;)h.preInit.pop()();Xl();var sr=0,P0=["exceptions","mutable_globals","sat_float_to_int","sign_extension","simd","threads","multi_value","tail_call","bulk_memory","reference_types"];function zf(ve,Fe){return ve===void 0?Fe:ve}function g2(ve,Fe){return!!zf(ve,Fe)}function Gf(ve){var Fe=h._malloc(ve);if(Fe==0)throw new Error("out of memory");return Fe}function Zt(ve){var Fe,tt;if(ve instanceof ArrayBuffer)tt=ve.byteLength,Fe=Gf(tt),new Uint8Array(kt.buffer,Fe,tt).set(new Uint8Array(ve));else if(ArrayBuffer.isView(ve))tt=ve.buffer.byteLength,Fe=Gf(tt),new Uint8Array(kt.buffer,Fe,tt).set(ve);else if(typeof ve=="string")tt=ve.length,Fe=Gf(tt),ct(ve,Fe,!0);else throw new Error("unknown buffer type: "+ve);return{addr:Fe,size:tt}}function Pe(ve){var Fe=ve.length,tt=Gf(Fe);return ct(ve,tt),{addr:tt,size:Fe}}function dt(ve){this.addr=h._wabt_new_features();for(var Fe=0;Fe<P0.length;++Fe){var tt=P0[Fe];this[tt]=ve[tt]|0}}dt.prototype=Object.create(Object.prototype),dt.prototype.destroy=function(){h._wabt_destroy_features(this.addr)},P0.forEach(function(ve){Object.defineProperty(dt.prototype,ve,{enumerable:!0,get:function(){return h["_wabt_"+ve+"_enabled"](this.addr)},set:function(Fe){h["_wabt_set_"+ve+"_enabled"](this.addr,Fe|0)}})});function Ot(ve,Fe){this.filenameObj=Pe(ve),this.bufferObj=Zt(Fe),this.addr=h._wabt_new_wast_buffer_lexer(this.filenameObj.addr,this.bufferObj.addr,this.bufferObj.size)}Ot.prototype=Object.create(Object.prototype),Ot.prototype.destroy=function(){h._wabt_destroy_wast_lexer(this.addr),h._free(this.bufferObj.addr),h._free(this.filenameObj.addr)};function Pi(ve){this.addr=ve}Pi.prototype=Object.create(Object.prototype),Pi.prototype.toTypedArray=function(){if(!this.addr)return null;var ve=h._wabt_output_buffer_get_data(this.addr),Fe=h._wabt_output_buffer_get_size(this.addr),tt=new Uint8Array(Fe);return tt.set(new Uint8Array(Et.buffer,ve,Fe)),tt},Pi.prototype.toString=function(){if(!this.addr)return"";var ve=h._wabt_output_buffer_get_data(this.addr),Fe=h._wabt_output_buffer_get_size(this.addr);return Me(ve,Fe)},Pi.prototype.destroy=function(){h._wabt_destroy_output_buffer(this.addr)};function Ss(ve,Fe){this.kind=ve,this.addr=h._wabt_new_errors(),this.lexer=Fe}Ss.prototype=Object.create(Object.prototype),Ss.prototype.format=function(){var ve;switch(this.kind){case"text":ve=new Pi(h._wabt_format_text_errors(this.addr,this.lexer.addr));break;case"binary":ve=new Pi(h._wabt_format_binary_errors(this.addr));break;default:throw new Error("Invalid Errors kind: "+this.kind)}var Fe=ve.toString();return ve.destroy(),Fe},Ss.prototype.destroy=function(){h._wabt_destroy_errors(this.addr),this.lexer&&this.lexer.destroy()};function yr(ve,Fe,tt){var St=new Ot(ve,Fe),ni=new Ss("text",St),ae=new dt(tt||{});try{var si=h._wabt_parse_wat(St.addr,ae.addr,ni.addr),ue=h._wabt_parse_wat_result_get_result(si);if(ue!==sr)throw new Error(`parseWat failed:
`+ni.format());var Ei=h._wabt_parse_wat_result_release_module(si),ue=new Zs(Ei,ni);return ni=null,ue}finally{h._wabt_destroy_parse_wat_result(si),ae.destroy(),ni&&ni.destroy()}}function Lr(ve,Fe){var tt=Zt(ve),St=new Ss("binary"),ni=g2(Fe.readDebugNames,!1),ae=new dt(Fe);try{var si=h._wabt_read_binary(tt.addr,tt.size,ni,ae.addr,St.addr),ue=h._wabt_read_binary_result_get_result(si);if(ue!==sr)throw new Error(`readWasm failed:
`+St.format());var Ei=h._wabt_read_binary_result_release_module(si),ue=new Zs(Ei,St);return St=null,ue}finally{h._wabt_destroy_read_binary_result(si),ae.destroy(),St&&St.destroy(),h._free(tt.addr)}}function Zs(ve,Fe){this.module_addr=ve,this.errors=Fe}return Zs.prototype=Object.create(Object.prototype),Zs.prototype.validate=function(ve){var Fe=new dt(ve||{});try{var tt=h._wabt_validate_module(this.module_addr,Fe.addr,this.errors.addr);if(tt!==sr)throw new Error(`validate failed:
`+this.errors.format())}finally{Fe.destroy()}},Zs.prototype.resolveNames=function(){},Zs.prototype.generateNames=function(){var ve=h._wabt_generate_names_module(this.module_addr);if(ve!==sr)throw new Error("generateNames failed.")},Zs.prototype.applyNames=function(){var ve=h._wabt_apply_names_module(this.module_addr);if(ve!==sr)throw new Error("applyNames failed.")},Zs.prototype.toText=function(ve){var Fe=g2(ve.foldExprs,!1),tt=g2(ve.inlineExport,!1),St=h._wabt_write_text_module(this.module_addr,Fe,tt),ni=h._wabt_write_module_result_get_result(St);try{if(ni!==sr)throw new Error("toText failed.");var ae=new Pi(h._wabt_write_module_result_release_output_buffer(St));return ae.toString()}finally{ae&&ae.destroy(),h._wabt_destroy_write_module_result(St)}},Zs.prototype.toBinary=function(ve){var Fe=g2(ve.log,!1),tt=g2(ve.canonicalize_lebs,!0),St=g2(ve.relocatable,!1),ni=g2(ve.write_debug_names,!1),ae=h._wabt_write_binary_module(this.module_addr,Fe,tt,St,ni),si=h._wabt_write_module_result_get_result(ae);try{if(si!==sr)throw new Error("toBinary failed.");var Ei=new Pi(h._wabt_write_module_result_release_output_buffer(ae)),ue=new Pi(h._wabt_write_module_result_release_log_output_buffer(ae));return{buffer:Ei.toTypedArray(),log:ue.toString()}}finally{Ei&&Ei.destroy(),ue&&ue.destroy(),h._wabt_destroy_write_module_result(ae)}},Zs.prototype.destroy=function(){h._wabt_destroy_module(this.module_addr),this.errors&&this.errors.destroy()},h.parseWat=yr,h.readWasm=Lr,u.ready}})();d.exports=s})(PZ);var v7e=PZ.exports;let Xs;const OZ=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});OZ.decode();let H6=null;function BA(){return(H6===null||H6.buffer!==Xs.memory.buffer)&&(H6=new Uint8Array(Xs.memory.buffer)),H6}function k7e(d,t){return OZ.decode(BA().subarray(d,d+t))}const pc=new Array(32).fill(void 0);pc.push(void 0,null,!0,!1);let WA=pc.length;function b7e(d){WA===pc.length&&pc.push(pc.length+1);const t=WA;return WA=pc[t],pc[t]=d,t}let n_=0;const x3=new TextEncoder("utf-8"),S7e=typeof x3.encodeInto=="function"?function(d,t){return x3.encodeInto(d,t)}:function(d,t){const s=x3.encode(d);return t.set(s),{read:d.length,written:s.length}};function yD(d,t,s){if(s===void 0){const m=x3.encode(d),A=t(m.length);return BA().subarray(A,A+m.length).set(m),n_=m.length,A}let l=d.length,u=t(l);const h=BA();let f=0;for(;f<l;f++){const m=d.charCodeAt(f);if(m>127)break;h[u+f]=m}if(f!==l){f!==0&&(d=d.slice(f)),u=s(u,l,l=f+d.length*3);const m=BA().subarray(u+f,u+l);f+=S7e(d,m).written}return n_=f,u}function y7e(d,t){const s=yD(d,Xs.__wbindgen_malloc,Xs.__wbindgen_realloc),l=n_,u=yD(t,Xs.__wbindgen_malloc,Xs.__wbindgen_realloc),h=n_;Xs.add_module(s,l,u,h)}let U6=null;function ag(){return(U6===null||U6.buffer!==Xs.memory.buffer)&&(U6=new Int32Array(Xs.memory.buffer)),U6}function L7e(d){return pc[d]}function D7e(d){d<36||(pc[d]=WA,WA=d)}function FZ(d){const t=L7e(d);return D7e(d),t}function I7e(){try{const s=Xs.__wbindgen_add_to_stack_pointer(-16);Xs.init_engine(s);var d=ag()[s/4+0],t=ag()[s/4+1];if(t)throw FZ(d)}finally{Xs.__wbindgen_add_to_stack_pointer(16)}}function x7e(d,t){return BA().subarray(d/1,d/1+t)}function E7e(d){try{const f=Xs.__wbindgen_add_to_stack_pointer(-16),m=yD(d,Xs.__wbindgen_malloc,Xs.__wbindgen_realloc),A=n_;Xs.build_from_code(f,m,A);var t=ag()[f/4+0],s=ag()[f/4+1],l=ag()[f/4+2],u=ag()[f/4+3];if(u)throw FZ(l);var h=x7e(t,s).slice();return Xs.__wbindgen_free(t,s*1),h}finally{Xs.__wbindgen_add_to_stack_pointer(16)}}async function N7e(d,t){if(typeof Response=="function"&&d instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(d,t)}catch(l){if(d.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",l);else throw l}const s=await d.arrayBuffer();return await WebAssembly.instantiate(s,t)}else{const s=await WebAssembly.instantiate(d,t);return s instanceof WebAssembly.Instance?{instance:s,module:d}:s}}async function BZ(d){typeof d>"u"&&(d=new URL("/rain/assets/portal_wasm_build_bg.5a2aca3c.wasm",self.location));const t={};t.wbg={},t.wbg.__wbindgen_string_new=function(u,h){const f=k7e(u,h);return b7e(f)},(typeof d=="string"||typeof Request=="function"&&d instanceof Request||typeof URL=="function"&&d instanceof URL)&&(d=fetch(d));const{instance:s,module:l}=await N7e(await d,t);return Xs=s.exports,BZ.__wbindgen_wasm_module=l,Xs}let B1="";const T7e=async(d,t)=>{let s=E7e(d),l;const u={repl:{print:m=>{if(!l){console.error("Tried reading string with undefined memory");return}const A=l.buffer.slice(m,m+4),C=new Int16Array(A)[0],w=new Uint8Array(l.buffer.slice(m+4,m+4+C)),D=new TextDecoder().decode(w);t(B1+D),B1=""},write:m=>{if(!l){console.error("Tried reading string with undefined memory");return}const A=l.buffer.slice(m,m+4),C=new Int16Array(A)[0],w=new Uint8Array(l.buffer.slice(m+4,m+4+C));B1+=new TextDecoder().decode(w)},printI:m=>{t(B1+m),B1=""},writeI:m=>B1+=m}},h=(await WebAssembly.instantiate(s,u)).instance;l=h.exports.mem;const{main:f}=h.exports;return f&&f(),s},R7e="_container_1wcnq_1",M7e="_editorContainer_1wcnq_13",P7e="_runButton_1wcnq_27",O7e="_editor_1wcnq_13";var z6={container:R7e,editorContainer:M7e,runButton:P7e,editor:O7e};const F7e="_resultContainer_5wzgb_1",B7e="_resultIcon_5wzgb_31",W7e="_resultList_5wzgb_43";var E3={resultContainer:F7e,resultIcon:B7e,resultList:W7e};const V7e=o_("<div><div></div></div>"),H7e=o_("<div></div>"),U7e=d=>(()=>{const t=V7e.cloneNode(!0),s=t.firstChild;return Ng(s,VA(boe,{get each(){return d.results},children:l=>(()=>{const u=H7e.cloneNode(!0);return Ng(u,l),Vu(()=>u.className=E3.result),u})()})),Vu(l=>{const u=E3.resultContainer,h=E3.resultList;return u!==l._v$&&(t.className=l._v$=u),h!==l._v$2&&(s.className=l._v$2=h),l},{_v$:void 0,_v$2:void 0}),t})(),z7e="_wasmResult_1fbno_3",G7e="_editor_1fbno_19";var XB={wasmResult:z7e,editor:G7e};const j7e=o_("<div><div></div></div>"),Z7e=({wat:d})=>{let t,s;return tW(()=>{s=iE.create(t,{automaticLayout:!0,theme:"vs-dark",minimap:{enabled:!1},language:"typescript",fontSize:10,lineNumbers:"off",readOnly:!0})}),eW(()=>{s.setValue(d())}),(()=>{const l=j7e.cloneNode(!0),u=l.firstChild,h=t;return typeof h=="function"?h(u):t=u,Vu(f=>{const m={[XB.wasmResult]:!0,[E3.resultContainer]:!0},A=XB.editor;return f._v$=Doe(l,m,f._v$),A!==f._v$2&&(u.className=f._v$2=A),f},{_v$:void 0,_v$2:void 0}),l})()},Q7e=o_("<div><div><div><div></div><div>R</div></div></div></div>"),Y7e=()=>{let d,t;const[s,l]=dS([]),[u,h]=dS(""),f=async()=>{l([]),await T7e(t.getValue(),m=>l([...s(),m])).then(async m=>{const C=(await v7e()).readWasm(m,{readDebugNames:!0});h(C.toText({foldExprs:!0}))}).catch(m=>{l(["Error: "+String(m)])})};return tW(()=>{t=iE.create(d,{automaticLayout:!0,theme:"vs-dark",minimap:{enabled:!1},language:"go",fontSize:20}),t.setValue(`import "repl"

func main() {
    print("Hello, world!")
}`)}),(()=>{const m=Q7e.cloneNode(!0),A=m.firstChild,C=A.firstChild,w=C.firstChild,k=w.nextSibling,D=d;return typeof D=="function"?D(w):d=w,k.$$click=f,Ng(A,VA(U7e,{get results(){return s()}}),null),Ng(m,VA(Z7e,{wat:u}),null),Vu(I=>{const N=z6.container,R=z6.editorContainer,O=z6.editor,W=z6.runButton;return N!==I._v$&&(m.className=I._v$=N),R!==I._v$2&&(C.className=I._v$2=R),O!==I._v$3&&(w.className=I._v$3=O),W!==I._v$4&&(k.className=I._v$4=W),I},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),m})()};Loe(["click"]);const $7e=o_("<div><header></header></div>"),K7e=()=>(BZ().then(()=>{y7e("repl",`
import func print(s String)
import func write(s String)
import func printI(i Int)
import func writeI(i Int)
        `),I7e()}),(()=>{const d=$7e.cloneNode(!0),t=d.firstChild;return Ng(t,VA(Y7e,{})),Vu(()=>t.className=Toe.header),d})());yoe(()=>VA(K7e,{}),document.getElementById("root"));export{D_ as m,$z as t};
